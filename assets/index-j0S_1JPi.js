var ex=B=>{throw TypeError(B)};var Wg=(B,X,me)=>X.has(B)||ex("Cannot "+me);var jn=(B,X,me)=>(Wg(B,X,"read from private field"),me?me.call(B):X.get(B)),Jr=(B,X,me)=>X.has(B)?ex("Cannot add the same private member more than once"):X instanceof WeakSet?X.add(B):X.set(B,me),jr=(B,X,me,Ne)=>(Wg(B,X,"write to private field"),Ne?Ne.call(B,me):X.set(B,me),me),mi=(B,X,me)=>(Wg(B,X,"access private method"),me);var Ud=(B,X,me,Ne)=>({set _(Xe){jr(B,X,Xe,me)},get _(){return jn(B,X,Ne)}});(function(){const X=document.createElement("link").relList;if(X&&X.supports&&X.supports("modulepreload"))return;for(const Xe of document.querySelectorAll('link[rel="modulepreload"]'))Ne(Xe);new MutationObserver(Xe=>{for(const U of Xe)if(U.type==="childList")for(const C of U.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&Ne(C)}).observe(document,{childList:!0,subtree:!0});function me(Xe){const U={};return Xe.integrity&&(U.integrity=Xe.integrity),Xe.referrerPolicy&&(U.referrerPolicy=Xe.referrerPolicy),Xe.crossOrigin==="use-credentials"?U.credentials="include":Xe.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function Ne(Xe){if(Xe.ep)return;Xe.ep=!0;const U=me(Xe);fetch(Xe.href,U)}})();function S2(B){return B&&B.__esModule&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B}var E2={exports:{}},H0={},L2={exports:{}},fi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),Xw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),tx=Symbol.iterator;function Jw(B){return B===null||typeof B!="object"?null:(B=tx&&B[tx]||B["@@iterator"],typeof B=="function"?B:null)}var C2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P2=Object.assign,O2={};function Eh(B,X,me){this.props=B,this.context=X,this.refs=O2,this.updater=me||C2}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")};Eh.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function I2(){}I2.prototype=Eh.prototype;function Av(B,X,me){this.props=B,this.context=X,this.refs=O2,this.updater=me||C2}var Mv=Av.prototype=new I2;Mv.constructor=Av;P2(Mv,Eh.prototype);Mv.isPureReactComponent=!0;var nx=Array.isArray,z2=Object.prototype.hasOwnProperty,Sv={current:null},D2={key:!0,ref:!0,__self:!0,__source:!0};function R2(B,X,me){var Ne,Xe={},U=null,C=null;if(X!=null)for(Ne in X.ref!==void 0&&(C=X.ref),X.key!==void 0&&(U=""+X.key),X)z2.call(X,Ne)&&!D2.hasOwnProperty(Ne)&&(Xe[Ne]=X[Ne]);var e=arguments.length-2;if(e===1)Xe.children=me;else if(1<e){for(var k=Array(e),A=0;A<e;A++)k[A]=arguments[A+2];Xe.children=k}if(B&&B.defaultProps)for(Ne in e=B.defaultProps,e)Xe[Ne]===void 0&&(Xe[Ne]=e[Ne]);return{$$typeof:Xp,type:B,key:U,ref:C,props:Xe,_owner:Sv.current}}function $w(B,X){return{$$typeof:Xp,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function Ev(B){return typeof B=="object"&&B!==null&&B.$$typeof===Xp}function Qw(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return X[me]})}var rx=/\/+/g;function Yg(B,X){return typeof B=="object"&&B!==null&&B.key!=null?Qw(""+B.key):X.toString(36)}function o0(B,X,me,Ne,Xe){var U=typeof B;(U==="undefined"||U==="boolean")&&(B=null);var C=!1;if(B===null)C=!0;else switch(U){case"string":case"number":C=!0;break;case"object":switch(B.$$typeof){case Xp:case Uw:C=!0}}if(C)return C=B,Xe=Xe(C),B=Ne===""?"."+Yg(C,0):Ne,nx(Xe)?(me="",B!=null&&(me=B.replace(rx,"$&/")+"/"),o0(Xe,X,me,"",function(A){return A})):Xe!=null&&(Ev(Xe)&&(Xe=$w(Xe,me+(!Xe.key||C&&C.key===Xe.key?"":(""+Xe.key).replace(rx,"$&/")+"/")+B)),X.push(Xe)),1;if(C=0,Ne=Ne===""?".":Ne+":",nx(B))for(var e=0;e<B.length;e++){U=B[e];var k=Ne+Yg(U,e);C+=o0(U,X,me,k,Xe)}else if(k=Jw(B),typeof k=="function")for(B=k.call(B),e=0;!(U=B.next()).done;)U=U.value,k=Ne+Yg(U,e++),C+=o0(U,X,me,k,Xe);else if(U==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return C}function Vd(B,X,me){if(B==null)return B;var Ne=[],Xe=0;return o0(B,Ne,"","",function(U){return X.call(me,U,Xe++)}),Ne}function e4(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var gs={current:null},s0={transition:null},t4={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:s0,ReactCurrentOwner:Sv};function F2(){throw Error("act(...) is not supported in production builds of React.")}fi.Children={map:Vd,forEach:function(B,X,me){Vd(B,function(){X.apply(this,arguments)},me)},count:function(B){var X=0;return Vd(B,function(){X++}),X},toArray:function(B){return Vd(B,function(X){return X})||[]},only:function(B){if(!Ev(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};fi.Component=Eh;fi.Fragment=Vw;fi.Profiler=qw;fi.PureComponent=Av;fi.StrictMode=Hw;fi.Suspense=Zw;fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t4;fi.act=F2;fi.cloneElement=function(B,X,me){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ne=P2({},B.props),Xe=B.key,U=B.ref,C=B._owner;if(X!=null){if(X.ref!==void 0&&(U=X.ref,C=Sv.current),X.key!==void 0&&(Xe=""+X.key),B.type&&B.type.defaultProps)var e=B.type.defaultProps;for(k in X)z2.call(X,k)&&!D2.hasOwnProperty(k)&&(Ne[k]=X[k]===void 0&&e!==void 0?e[k]:X[k])}var k=arguments.length-2;if(k===1)Ne.children=me;else if(1<k){e=Array(k);for(var A=0;A<k;A++)e[A]=arguments[A+2];Ne.children=e}return{$$typeof:Xp,type:B.type,key:Xe,ref:U,props:Ne,_owner:C}};fi.createContext=function(B){return B={$$typeof:Ww,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:Gw,_context:B},B.Consumer=B};fi.createElement=R2;fi.createFactory=function(B){var X=R2.bind(null,B);return X.type=B,X};fi.createRef=function(){return{current:null}};fi.forwardRef=function(B){return{$$typeof:Yw,render:B}};fi.isValidElement=Ev;fi.lazy=function(B){return{$$typeof:Kw,_payload:{_status:-1,_result:B},_init:e4}};fi.memo=function(B,X){return{$$typeof:Xw,type:B,compare:X===void 0?null:X}};fi.startTransition=function(B){var X=s0.transition;s0.transition={};try{B()}finally{s0.transition=X}};fi.unstable_act=F2;fi.useCallback=function(B,X){return gs.current.useCallback(B,X)};fi.useContext=function(B){return gs.current.useContext(B)};fi.useDebugValue=function(){};fi.useDeferredValue=function(B){return gs.current.useDeferredValue(B)};fi.useEffect=function(B,X){return gs.current.useEffect(B,X)};fi.useId=function(){return gs.current.useId()};fi.useImperativeHandle=function(B,X,me){return gs.current.useImperativeHandle(B,X,me)};fi.useInsertionEffect=function(B,X){return gs.current.useInsertionEffect(B,X)};fi.useLayoutEffect=function(B,X){return gs.current.useLayoutEffect(B,X)};fi.useMemo=function(B,X){return gs.current.useMemo(B,X)};fi.useReducer=function(B,X,me){return gs.current.useReducer(B,X,me)};fi.useRef=function(B){return gs.current.useRef(B)};fi.useState=function(B){return gs.current.useState(B)};fi.useSyncExternalStore=function(B,X,me){return gs.current.useSyncExternalStore(B,X,me)};fi.useTransition=function(){return gs.current.useTransition()};fi.version="18.3.1";L2.exports=fi;var ps=L2.exports;const n4=S2(ps);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4=ps,i4=Symbol.for("react.element"),a4=Symbol.for("react.fragment"),o4=Object.prototype.hasOwnProperty,s4=r4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l4={key:!0,ref:!0,__self:!0,__source:!0};function B2(B,X,me){var Ne,Xe={},U=null,C=null;me!==void 0&&(U=""+me),X.key!==void 0&&(U=""+X.key),X.ref!==void 0&&(C=X.ref);for(Ne in X)o4.call(X,Ne)&&!l4.hasOwnProperty(Ne)&&(Xe[Ne]=X[Ne]);if(B&&B.defaultProps)for(Ne in X=B.defaultProps,X)Xe[Ne]===void 0&&(Xe[Ne]=X[Ne]);return{$$typeof:i4,type:B,key:U,ref:C,props:Xe,_owner:s4.current}}H0.Fragment=a4;H0.jsx=B2;H0.jsxs=B2;E2.exports=H0;var ju=E2.exports,b1={},N2={exports:{}},ll={},j2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(B){function X(E,O){var P=E.length;E.push(O);e:for(;0<P;){var I=P-1>>>1,R=E[I];if(0<Xe(R,O))E[I]=O,E[P]=R,P=I;else break e}}function me(E){return E.length===0?null:E[0]}function Ne(E){if(E.length===0)return null;var O=E[0],P=E.pop();if(P!==O){E[0]=P;e:for(var I=0,R=E.length,H=R>>>1;I<H;){var z=2*(I+1)-1,j=E[z],Z=z+1,F=E[Z];if(0>Xe(j,P))Z<R&&0>Xe(F,j)?(E[I]=F,E[Z]=P,I=Z):(E[I]=j,E[z]=P,I=z);else if(Z<R&&0>Xe(F,P))E[I]=F,E[Z]=P,I=Z;else break e}}return O}function Xe(E,O){var P=E.sortIndex-O.sortIndex;return P!==0?P:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var U=performance;B.unstable_now=function(){return U.now()}}else{var C=Date,e=C.now();B.unstable_now=function(){return C.now()-e}}var k=[],A=[],o=1,w=null,b=3,f=!1,s=!1,n=!1,i=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(E){for(var O=me(A);O!==null;){if(O.callback===null)Ne(A);else if(O.startTime<=E)Ne(A),O.sortIndex=O.expirationTime,X(k,O);else break;O=me(A)}}function l(E){if(n=!1,a(E),!s)if(me(k)!==null)s=!0,S(u);else{var O=me(A);O!==null&&T(l,O.startTime-E)}}function u(E,O){s=!1,n&&(n=!1,r(y),y=-1),f=!0;var P=b;try{for(a(O),w=me(k);w!==null&&(!(w.expirationTime>O)||E&&!g());){var I=w.callback;if(typeof I=="function"){w.callback=null,b=w.priorityLevel;var R=I(w.expirationTime<=O);O=B.unstable_now(),typeof R=="function"?w.callback=R:w===me(k)&&Ne(k),a(O)}else Ne(k);w=me(k)}if(w!==null)var H=!0;else{var z=me(A);z!==null&&T(l,z.startTime-O),H=!1}return H}finally{w=null,b=P,f=!1}}var h=!1,c=null,y=-1,d=5,v=-1;function g(){return!(B.unstable_now()-v<d)}function x(){if(c!==null){var E=B.unstable_now();v=E;var O=!0;try{O=c(!0,E)}finally{O?m():(h=!1,c=null)}}else h=!1}var m;if(typeof t=="function")m=function(){t(x)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,p=_.port2;_.port1.onmessage=x,m=function(){p.postMessage(null)}}else m=function(){i(x,0)};function S(E){c=E,h||(h=!0,m())}function T(E,O){y=i(function(){E(B.unstable_now())},O)}B.unstable_IdlePriority=5,B.unstable_ImmediatePriority=1,B.unstable_LowPriority=4,B.unstable_NormalPriority=3,B.unstable_Profiling=null,B.unstable_UserBlockingPriority=2,B.unstable_cancelCallback=function(E){E.callback=null},B.unstable_continueExecution=function(){s||f||(s=!0,S(u))},B.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):d=0<E?Math.floor(1e3/E):5},B.unstable_getCurrentPriorityLevel=function(){return b},B.unstable_getFirstCallbackNode=function(){return me(k)},B.unstable_next=function(E){switch(b){case 1:case 2:case 3:var O=3;break;default:O=b}var P=b;b=O;try{return E()}finally{b=P}},B.unstable_pauseExecution=function(){},B.unstable_requestPaint=function(){},B.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var P=b;b=E;try{return O()}finally{b=P}},B.unstable_scheduleCallback=function(E,O,P){var I=B.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?I+P:I):P=I,E){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=P+R,E={id:o++,callback:O,priorityLevel:E,startTime:P,expirationTime:R,sortIndex:-1},P>I?(E.sortIndex=P,X(A,E),me(k)===null&&E===me(A)&&(n?(r(y),y=-1):n=!0,T(l,P-I))):(E.sortIndex=R,X(k,E),s||f||(s=!0,S(u))),E},B.unstable_shouldYield=g,B.unstable_wrapCallback=function(E){var O=b;return function(){var P=b;b=O;try{return E.apply(this,arguments)}finally{b=P}}}})(U2);j2.exports=U2;var u4=j2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=ps,sl=u4;function Tr(B){for(var X="https://reactjs.org/docs/error-decoder.html?invariant="+B,me=1;me<arguments.length;me++)X+="&args[]="+encodeURIComponent(arguments[me]);return"Minified React error #"+B+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V2=new Set,Mp={};function mf(B,X){bh(B,X),bh(B+"Capture",X)}function bh(B,X){for(Mp[B]=X,B=0;B<X.length;B++)V2.add(X[B])}var qu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_1=Object.prototype.hasOwnProperty,f4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ix={},ax={};function h4(B){return _1.call(ax,B)?!0:_1.call(ix,B)?!1:f4.test(B)?ax[B]=!0:(ix[B]=!0,!1)}function p4(B,X,me,Ne){if(me!==null&&me.type===0)return!1;switch(typeof X){case"function":case"symbol":return!0;case"boolean":return Ne?!1:me!==null?!me.acceptsBooleans:(B=B.toLowerCase().slice(0,5),B!=="data-"&&B!=="aria-");default:return!1}}function d4(B,X,me,Ne){if(X===null||typeof X>"u"||p4(B,X,me,Ne))return!0;if(Ne)return!1;if(me!==null)switch(me.type){case 3:return!X;case 4:return X===!1;case 5:return isNaN(X);case 6:return isNaN(X)||1>X}return!1}function vs(B,X,me,Ne,Xe,U,C){this.acceptsBooleans=X===2||X===3||X===4,this.attributeName=Ne,this.attributeNamespace=Xe,this.mustUseProperty=me,this.propertyName=B,this.type=X,this.sanitizeURL=U,this.removeEmptyString=C}var Lo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(B){Lo[B]=new vs(B,0,!1,B,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(B){var X=B[0];Lo[X]=new vs(X,1,!1,B[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(B){Lo[B]=new vs(B,2,!1,B.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(B){Lo[B]=new vs(B,2,!1,B,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(B){Lo[B]=new vs(B,3,!1,B.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(B){Lo[B]=new vs(B,3,!0,B,null,!1,!1)});["capture","download"].forEach(function(B){Lo[B]=new vs(B,4,!1,B,null,!1,!1)});["cols","rows","size","span"].forEach(function(B){Lo[B]=new vs(B,6,!1,B,null,!1,!1)});["rowSpan","start"].forEach(function(B){Lo[B]=new vs(B,5,!1,B.toLowerCase(),null,!1,!1)});var Lv=/[\-:]([a-z])/g;function Cv(B){return B[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(B){var X=B.replace(Lv,Cv);Lo[X]=new vs(X,1,!1,B,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(B){var X=B.replace(Lv,Cv);Lo[X]=new vs(X,1,!1,B,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(B){var X=B.replace(Lv,Cv);Lo[X]=new vs(X,1,!1,B,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(B){Lo[B]=new vs(B,1,!1,B.toLowerCase(),null,!1,!1)});Lo.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(B){Lo[B]=new vs(B,1,!1,B.toLowerCase(),null,!0,!0)});function Pv(B,X,me,Ne){var Xe=Lo.hasOwnProperty(X)?Lo[X]:null;(Xe!==null?Xe.type!==0:Ne||!(2<X.length)||X[0]!=="o"&&X[0]!=="O"||X[1]!=="n"&&X[1]!=="N")&&(d4(X,me,Xe,Ne)&&(me=null),Ne||Xe===null?h4(X)&&(me===null?B.removeAttribute(X):B.setAttribute(X,""+me)):Xe.mustUseProperty?B[Xe.propertyName]=me===null?Xe.type===3?!1:"":me:(X=Xe.attributeName,Ne=Xe.attributeNamespace,me===null?B.removeAttribute(X):(Xe=Xe.type,me=Xe===3||Xe===4&&me===!0?"":""+me,Ne?B.setAttributeNS(Ne,X,me):B.setAttribute(X,me))))}var Zu=c4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),k1=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),cc=Symbol.for("react.lazy"),G2=Symbol.for("react.offscreen"),ox=Symbol.iterator;function ip(B){return B===null||typeof B!="object"?null:(B=ox&&B[ox]||B["@@iterator"],typeof B=="function"?B:null)}var Ta=Object.assign,Zg;function hp(B){if(Zg===void 0)try{throw Error()}catch(me){var X=me.stack.trim().match(/\n( *(at )?)/);Zg=X&&X[1]||""}return`
`+Zg+B}var Xg=!1;function Kg(B,X){if(!B||Xg)return"";Xg=!0;var me=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(X)if(X=function(){throw Error()},Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(A){var Ne=A}Reflect.construct(B,[],X)}else{try{X.call()}catch(A){Ne=A}B.call(X.prototype)}else{try{throw Error()}catch(A){Ne=A}B()}}catch(A){if(A&&Ne&&typeof A.stack=="string"){for(var Xe=A.stack.split(`
`),U=Ne.stack.split(`
`),C=Xe.length-1,e=U.length-1;1<=C&&0<=e&&Xe[C]!==U[e];)e--;for(;1<=C&&0<=e;C--,e--)if(Xe[C]!==U[e]){if(C!==1||e!==1)do if(C--,e--,0>e||Xe[C]!==U[e]){var k=`
`+Xe[C].replace(" at new "," at ");return B.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",B.displayName)),k}while(1<=C&&0<=e);break}}}finally{Xg=!1,Error.prepareStackTrace=me}return(B=B?B.displayName||B.name:"")?hp(B):""}function g4(B){switch(B.tag){case 5:return hp(B.type);case 16:return hp("Lazy");case 13:return hp("Suspense");case 19:return hp("SuspenseList");case 0:case 2:case 15:return B=Kg(B.type,!1),B;case 11:return B=Kg(B.type.render,!1),B;case 1:return B=Kg(B.type,!0),B;default:return""}}function A1(B){if(B==null)return null;if(typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case Hf:return"Fragment";case Vf:return"Portal";case w1:return"Profiler";case Ov:return"StrictMode";case T1:return"Suspense";case k1:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case q2:return(B.displayName||"Context")+".Consumer";case H2:return(B._context.displayName||"Context")+".Provider";case Iv:var X=B.render;return B=B.displayName,B||(B=X.displayName||X.name||"",B=B!==""?"ForwardRef("+B+")":"ForwardRef"),B;case zv:return X=B.displayName||null,X!==null?X:A1(B.type)||"Memo";case cc:X=B._payload,B=B._init;try{return A1(B(X))}catch{}}return null}function v4(B){var X=B.type;switch(B.tag){case 24:return"Cache";case 9:return(X.displayName||"Context")+".Consumer";case 10:return(X._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return B=X.render,B=B.displayName||B.name||"",X.displayName||(B!==""?"ForwardRef("+B+")":"ForwardRef");case 7:return"Fragment";case 5:return X;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(X);case 8:return X===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof X=="function")return X.displayName||X.name||null;if(typeof X=="string")return X}return null}function Cc(B){switch(typeof B){case"boolean":case"number":case"string":case"undefined":return B;case"object":return B;default:return""}}function W2(B){var X=B.type;return(B=B.nodeName)&&B.toLowerCase()==="input"&&(X==="checkbox"||X==="radio")}function m4(B){var X=W2(B)?"checked":"value",me=Object.getOwnPropertyDescriptor(B.constructor.prototype,X),Ne=""+B[X];if(!B.hasOwnProperty(X)&&typeof me<"u"&&typeof me.get=="function"&&typeof me.set=="function"){var Xe=me.get,U=me.set;return Object.defineProperty(B,X,{configurable:!0,get:function(){return Xe.call(this)},set:function(C){Ne=""+C,U.call(this,C)}}),Object.defineProperty(B,X,{enumerable:me.enumerable}),{getValue:function(){return Ne},setValue:function(C){Ne=""+C},stopTracking:function(){B._valueTracker=null,delete B[X]}}}}function qd(B){B._valueTracker||(B._valueTracker=m4(B))}function Y2(B){if(!B)return!1;var X=B._valueTracker;if(!X)return!0;var me=X.getValue(),Ne="";return B&&(Ne=W2(B)?B.checked?"true":"false":B.value),B=Ne,B!==me?(X.setValue(B),!0):!1}function y0(B){if(B=B||(typeof document<"u"?document:void 0),typeof B>"u")return null;try{return B.activeElement||B.body}catch{return B.body}}function M1(B,X){var me=X.checked;return Ta({},X,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:me??B._wrapperState.initialChecked})}function sx(B,X){var me=X.defaultValue==null?"":X.defaultValue,Ne=X.checked!=null?X.checked:X.defaultChecked;me=Cc(X.value!=null?X.value:me),B._wrapperState={initialChecked:Ne,initialValue:me,controlled:X.type==="checkbox"||X.type==="radio"?X.checked!=null:X.value!=null}}function Z2(B,X){X=X.checked,X!=null&&Pv(B,"checked",X,!1)}function S1(B,X){Z2(B,X);var me=Cc(X.value),Ne=X.type;if(me!=null)Ne==="number"?(me===0&&B.value===""||B.value!=me)&&(B.value=""+me):B.value!==""+me&&(B.value=""+me);else if(Ne==="submit"||Ne==="reset"){B.removeAttribute("value");return}X.hasOwnProperty("value")?E1(B,X.type,me):X.hasOwnProperty("defaultValue")&&E1(B,X.type,Cc(X.defaultValue)),X.checked==null&&X.defaultChecked!=null&&(B.defaultChecked=!!X.defaultChecked)}function lx(B,X,me){if(X.hasOwnProperty("value")||X.hasOwnProperty("defaultValue")){var Ne=X.type;if(!(Ne!=="submit"&&Ne!=="reset"||X.value!==void 0&&X.value!==null))return;X=""+B._wrapperState.initialValue,me||X===B.value||(B.value=X),B.defaultValue=X}me=B.name,me!==""&&(B.name=""),B.defaultChecked=!!B._wrapperState.initialChecked,me!==""&&(B.name=me)}function E1(B,X,me){(X!=="number"||y0(B.ownerDocument)!==B)&&(me==null?B.defaultValue=""+B._wrapperState.initialValue:B.defaultValue!==""+me&&(B.defaultValue=""+me))}var pp=Array.isArray;function eh(B,X,me,Ne){if(B=B.options,X){X={};for(var Xe=0;Xe<me.length;Xe++)X["$"+me[Xe]]=!0;for(me=0;me<B.length;me++)Xe=X.hasOwnProperty("$"+B[me].value),B[me].selected!==Xe&&(B[me].selected=Xe),Xe&&Ne&&(B[me].defaultSelected=!0)}else{for(me=""+Cc(me),X=null,Xe=0;Xe<B.length;Xe++){if(B[Xe].value===me){B[Xe].selected=!0,Ne&&(B[Xe].defaultSelected=!0);return}X!==null||B[Xe].disabled||(X=B[Xe])}X!==null&&(X.selected=!0)}}function L1(B,X){if(X.dangerouslySetInnerHTML!=null)throw Error(Tr(91));return Ta({},X,{value:void 0,defaultValue:void 0,children:""+B._wrapperState.initialValue})}function ux(B,X){var me=X.value;if(me==null){if(me=X.children,X=X.defaultValue,me!=null){if(X!=null)throw Error(Tr(92));if(pp(me)){if(1<me.length)throw Error(Tr(93));me=me[0]}X=me}X==null&&(X=""),me=X}B._wrapperState={initialValue:Cc(me)}}function X2(B,X){var me=Cc(X.value),Ne=Cc(X.defaultValue);me!=null&&(me=""+me,me!==B.value&&(B.value=me),X.defaultValue==null&&B.defaultValue!==me&&(B.defaultValue=me)),Ne!=null&&(B.defaultValue=""+Ne)}function cx(B){var X=B.textContent;X===B._wrapperState.initialValue&&X!==""&&X!==null&&(B.value=X)}function K2(B){switch(B){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C1(B,X){return B==null||B==="http://www.w3.org/1999/xhtml"?K2(X):B==="http://www.w3.org/2000/svg"&&X==="foreignObject"?"http://www.w3.org/1999/xhtml":B}var Gd,J2=function(B){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(X,me,Ne,Xe){MSApp.execUnsafeLocalFunction(function(){return B(X,me,Ne,Xe)})}:B}(function(B,X){if(B.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in B)B.innerHTML=X;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+X.valueOf().toString()+"</svg>",X=Gd.firstChild;B.firstChild;)B.removeChild(B.firstChild);for(;X.firstChild;)B.appendChild(X.firstChild)}});function Sp(B,X){if(X){var me=B.firstChild;if(me&&me===B.lastChild&&me.nodeType===3){me.nodeValue=X;return}}B.textContent=X}var mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y4=["Webkit","ms","Moz","O"];Object.keys(mp).forEach(function(B){y4.forEach(function(X){X=X+B.charAt(0).toUpperCase()+B.substring(1),mp[X]=mp[B]})});function $2(B,X,me){return X==null||typeof X=="boolean"||X===""?"":me||typeof X!="number"||X===0||mp.hasOwnProperty(B)&&mp[B]?(""+X).trim():X+"px"}function Q2(B,X){B=B.style;for(var me in X)if(X.hasOwnProperty(me)){var Ne=me.indexOf("--")===0,Xe=$2(me,X[me],Ne);me==="float"&&(me="cssFloat"),Ne?B.setProperty(me,Xe):B[me]=Xe}}var x4=Ta({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P1(B,X){if(X){if(x4[B]&&(X.children!=null||X.dangerouslySetInnerHTML!=null))throw Error(Tr(137,B));if(X.dangerouslySetInnerHTML!=null){if(X.children!=null)throw Error(Tr(60));if(typeof X.dangerouslySetInnerHTML!="object"||!("__html"in X.dangerouslySetInnerHTML))throw Error(Tr(61))}if(X.style!=null&&typeof X.style!="object")throw Error(Tr(62))}}function O1(B,X){if(B.indexOf("-")===-1)return typeof X.is=="string";switch(B){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=null;function Dv(B){return B=B.target||B.srcElement||window,B.correspondingUseElement&&(B=B.correspondingUseElement),B.nodeType===3?B.parentNode:B}var z1=null,th=null,nh=null;function fx(B){if(B=$p(B)){if(typeof z1!="function")throw Error(Tr(280));var X=B.stateNode;X&&(X=Z0(X),z1(B.stateNode,B.type,X))}}function eb(B){th?nh?nh.push(B):nh=[B]:th=B}function tb(){if(th){var B=th,X=nh;if(nh=th=null,fx(B),X)for(B=0;B<X.length;B++)fx(X[B])}}function nb(B,X){return B(X)}function rb(){}var Jg=!1;function ib(B,X,me){if(Jg)return B(X,me);Jg=!0;try{return nb(B,X,me)}finally{Jg=!1,(th!==null||nh!==null)&&(rb(),tb())}}function Ep(B,X){var me=B.stateNode;if(me===null)return null;var Ne=Z0(me);if(Ne===null)return null;me=Ne[X];e:switch(X){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ne=!Ne.disabled)||(B=B.type,Ne=!(B==="button"||B==="input"||B==="select"||B==="textarea")),B=!Ne;break e;default:B=!1}if(B)return null;if(me&&typeof me!="function")throw Error(Tr(231,X,typeof me));return me}var D1=!1;if(qu)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){D1=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{D1=!1}function b4(B,X,me,Ne,Xe,U,C,e,k){var A=Array.prototype.slice.call(arguments,3);try{X.apply(me,A)}catch(o){this.onError(o)}}var yp=!1,x0=null,b0=!1,R1=null,_4={onError:function(B){yp=!0,x0=B}};function w4(B,X,me,Ne,Xe,U,C,e,k){yp=!1,x0=null,b4.apply(_4,arguments)}function T4(B,X,me,Ne,Xe,U,C,e,k){if(w4.apply(this,arguments),yp){if(yp){var A=x0;yp=!1,x0=null}else throw Error(Tr(198));b0||(b0=!0,R1=A)}}function yf(B){var X=B,me=B;if(B.alternate)for(;X.return;)X=X.return;else{B=X;do X=B,X.flags&4098&&(me=X.return),B=X.return;while(B)}return X.tag===3?me:null}function ab(B){if(B.tag===13){var X=B.memoizedState;if(X===null&&(B=B.alternate,B!==null&&(X=B.memoizedState)),X!==null)return X.dehydrated}return null}function hx(B){if(yf(B)!==B)throw Error(Tr(188))}function k4(B){var X=B.alternate;if(!X){if(X=yf(B),X===null)throw Error(Tr(188));return X!==B?null:B}for(var me=B,Ne=X;;){var Xe=me.return;if(Xe===null)break;var U=Xe.alternate;if(U===null){if(Ne=Xe.return,Ne!==null){me=Ne;continue}break}if(Xe.child===U.child){for(U=Xe.child;U;){if(U===me)return hx(Xe),B;if(U===Ne)return hx(Xe),X;U=U.sibling}throw Error(Tr(188))}if(me.return!==Ne.return)me=Xe,Ne=U;else{for(var C=!1,e=Xe.child;e;){if(e===me){C=!0,me=Xe,Ne=U;break}if(e===Ne){C=!0,Ne=Xe,me=U;break}e=e.sibling}if(!C){for(e=U.child;e;){if(e===me){C=!0,me=U,Ne=Xe;break}if(e===Ne){C=!0,Ne=U,me=Xe;break}e=e.sibling}if(!C)throw Error(Tr(189))}}if(me.alternate!==Ne)throw Error(Tr(190))}if(me.tag!==3)throw Error(Tr(188));return me.stateNode.current===me?B:X}function ob(B){return B=k4(B),B!==null?sb(B):null}function sb(B){if(B.tag===5||B.tag===6)return B;for(B=B.child;B!==null;){var X=sb(B);if(X!==null)return X;B=B.sibling}return null}var lb=sl.unstable_scheduleCallback,px=sl.unstable_cancelCallback,A4=sl.unstable_shouldYield,M4=sl.unstable_requestPaint,ja=sl.unstable_now,S4=sl.unstable_getCurrentPriorityLevel,Rv=sl.unstable_ImmediatePriority,ub=sl.unstable_UserBlockingPriority,_0=sl.unstable_NormalPriority,E4=sl.unstable_LowPriority,cb=sl.unstable_IdlePriority,q0=null,Mu=null;function L4(B){if(Mu&&typeof Mu.onCommitFiberRoot=="function")try{Mu.onCommitFiberRoot(q0,B,void 0,(B.current.flags&128)===128)}catch{}}var iu=Math.clz32?Math.clz32:O4,C4=Math.log,P4=Math.LN2;function O4(B){return B>>>=0,B===0?32:31-(C4(B)/P4|0)|0}var Wd=64,Yd=4194304;function dp(B){switch(B&-B){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return B&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return B&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return B}}function w0(B,X){var me=B.pendingLanes;if(me===0)return 0;var Ne=0,Xe=B.suspendedLanes,U=B.pingedLanes,C=me&268435455;if(C!==0){var e=C&~Xe;e!==0?Ne=dp(e):(U&=C,U!==0&&(Ne=dp(U)))}else C=me&~Xe,C!==0?Ne=dp(C):U!==0&&(Ne=dp(U));if(Ne===0)return 0;if(X!==0&&X!==Ne&&!(X&Xe)&&(Xe=Ne&-Ne,U=X&-X,Xe>=U||Xe===16&&(U&4194240)!==0))return X;if(Ne&4&&(Ne|=me&16),X=B.entangledLanes,X!==0)for(B=B.entanglements,X&=Ne;0<X;)me=31-iu(X),Xe=1<<me,Ne|=B[me],X&=~Xe;return Ne}function I4(B,X){switch(B){case 1:case 2:case 4:return X+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return X+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z4(B,X){for(var me=B.suspendedLanes,Ne=B.pingedLanes,Xe=B.expirationTimes,U=B.pendingLanes;0<U;){var C=31-iu(U),e=1<<C,k=Xe[C];k===-1?(!(e&me)||e&Ne)&&(Xe[C]=I4(e,X)):k<=X&&(B.expiredLanes|=e),U&=~e}}function F1(B){return B=B.pendingLanes&-1073741825,B!==0?B:B&1073741824?1073741824:0}function fb(){var B=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),B}function $g(B){for(var X=[],me=0;31>me;me++)X.push(B);return X}function Kp(B,X,me){B.pendingLanes|=X,X!==536870912&&(B.suspendedLanes=0,B.pingedLanes=0),B=B.eventTimes,X=31-iu(X),B[X]=me}function D4(B,X){var me=B.pendingLanes&~X;B.pendingLanes=X,B.suspendedLanes=0,B.pingedLanes=0,B.expiredLanes&=X,B.mutableReadLanes&=X,B.entangledLanes&=X,X=B.entanglements;var Ne=B.eventTimes;for(B=B.expirationTimes;0<me;){var Xe=31-iu(me),U=1<<Xe;X[Xe]=0,Ne[Xe]=-1,B[Xe]=-1,me&=~U}}function Fv(B,X){var me=B.entangledLanes|=X;for(B=B.entanglements;me;){var Ne=31-iu(me),Xe=1<<Ne;Xe&X|B[Ne]&X&&(B[Ne]|=X),me&=~Xe}}var Yi=0;function hb(B){return B&=-B,1<B?4<B?B&268435455?16:536870912:4:1}var pb,Bv,db,gb,vb,B1=!1,Zd=[],wc=null,Tc=null,kc=null,Lp=new Map,Cp=new Map,hc=[],R4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dx(B,X){switch(B){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":Lp.delete(X.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(X.pointerId)}}function op(B,X,me,Ne,Xe,U){return B===null||B.nativeEvent!==U?(B={blockedOn:X,domEventName:me,eventSystemFlags:Ne,nativeEvent:U,targetContainers:[Xe]},X!==null&&(X=$p(X),X!==null&&Bv(X)),B):(B.eventSystemFlags|=Ne,X=B.targetContainers,Xe!==null&&X.indexOf(Xe)===-1&&X.push(Xe),B)}function F4(B,X,me,Ne,Xe){switch(X){case"focusin":return wc=op(wc,B,X,me,Ne,Xe),!0;case"dragenter":return Tc=op(Tc,B,X,me,Ne,Xe),!0;case"mouseover":return kc=op(kc,B,X,me,Ne,Xe),!0;case"pointerover":var U=Xe.pointerId;return Lp.set(U,op(Lp.get(U)||null,B,X,me,Ne,Xe)),!0;case"gotpointercapture":return U=Xe.pointerId,Cp.set(U,op(Cp.get(U)||null,B,X,me,Ne,Xe)),!0}return!1}function mb(B){var X=Qc(B.target);if(X!==null){var me=yf(X);if(me!==null){if(X=me.tag,X===13){if(X=ab(me),X!==null){B.blockedOn=X,vb(B.priority,function(){db(me)});return}}else if(X===3&&me.stateNode.current.memoizedState.isDehydrated){B.blockedOn=me.tag===3?me.stateNode.containerInfo:null;return}}}B.blockedOn=null}function l0(B){if(B.blockedOn!==null)return!1;for(var X=B.targetContainers;0<X.length;){var me=N1(B.domEventName,B.eventSystemFlags,X[0],B.nativeEvent);if(me===null){me=B.nativeEvent;var Ne=new me.constructor(me.type,me);I1=Ne,me.target.dispatchEvent(Ne),I1=null}else return X=$p(me),X!==null&&Bv(X),B.blockedOn=me,!1;X.shift()}return!0}function gx(B,X,me){l0(B)&&me.delete(X)}function B4(){B1=!1,wc!==null&&l0(wc)&&(wc=null),Tc!==null&&l0(Tc)&&(Tc=null),kc!==null&&l0(kc)&&(kc=null),Lp.forEach(gx),Cp.forEach(gx)}function sp(B,X){B.blockedOn===X&&(B.blockedOn=null,B1||(B1=!0,sl.unstable_scheduleCallback(sl.unstable_NormalPriority,B4)))}function Pp(B){function X(Xe){return sp(Xe,B)}if(0<Zd.length){sp(Zd[0],B);for(var me=1;me<Zd.length;me++){var Ne=Zd[me];Ne.blockedOn===B&&(Ne.blockedOn=null)}}for(wc!==null&&sp(wc,B),Tc!==null&&sp(Tc,B),kc!==null&&sp(kc,B),Lp.forEach(X),Cp.forEach(X),me=0;me<hc.length;me++)Ne=hc[me],Ne.blockedOn===B&&(Ne.blockedOn=null);for(;0<hc.length&&(me=hc[0],me.blockedOn===null);)mb(me),me.blockedOn===null&&hc.shift()}var rh=Zu.ReactCurrentBatchConfig,T0=!0;function N4(B,X,me,Ne){var Xe=Yi,U=rh.transition;rh.transition=null;try{Yi=1,Nv(B,X,me,Ne)}finally{Yi=Xe,rh.transition=U}}function j4(B,X,me,Ne){var Xe=Yi,U=rh.transition;rh.transition=null;try{Yi=4,Nv(B,X,me,Ne)}finally{Yi=Xe,rh.transition=U}}function Nv(B,X,me,Ne){if(T0){var Xe=N1(B,X,me,Ne);if(Xe===null)l1(B,X,Ne,k0,me),dx(B,Ne);else if(F4(Xe,B,X,me,Ne))Ne.stopPropagation();else if(dx(B,Ne),X&4&&-1<R4.indexOf(B)){for(;Xe!==null;){var U=$p(Xe);if(U!==null&&pb(U),U=N1(B,X,me,Ne),U===null&&l1(B,X,Ne,k0,me),U===Xe)break;Xe=U}Xe!==null&&Ne.stopPropagation()}else l1(B,X,Ne,null,me)}}var k0=null;function N1(B,X,me,Ne){if(k0=null,B=Dv(Ne),B=Qc(B),B!==null)if(X=yf(B),X===null)B=null;else if(me=X.tag,me===13){if(B=ab(X),B!==null)return B;B=null}else if(me===3){if(X.stateNode.current.memoizedState.isDehydrated)return X.tag===3?X.stateNode.containerInfo:null;B=null}else X!==B&&(B=null);return k0=B,null}function yb(B){switch(B){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case Rv:return 1;case ub:return 4;case _0:case E4:return 16;case cb:return 536870912;default:return 16}default:return 16}}var bc=null,jv=null,u0=null;function xb(){if(u0)return u0;var B,X=jv,me=X.length,Ne,Xe="value"in bc?bc.value:bc.textContent,U=Xe.length;for(B=0;B<me&&X[B]===Xe[B];B++);var C=me-B;for(Ne=1;Ne<=C&&X[me-Ne]===Xe[U-Ne];Ne++);return u0=Xe.slice(B,1<Ne?1-Ne:void 0)}function c0(B){var X=B.keyCode;return"charCode"in B?(B=B.charCode,B===0&&X===13&&(B=13)):B=X,B===10&&(B=13),32<=B||B===13?B:0}function Xd(){return!0}function vx(){return!1}function ul(B){function X(me,Ne,Xe,U,C){this._reactName=me,this._targetInst=Xe,this.type=Ne,this.nativeEvent=U,this.target=C,this.currentTarget=null;for(var e in B)B.hasOwnProperty(e)&&(me=B[e],this[e]=me?me(U):U[e]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Xd:vx,this.isPropagationStopped=vx,this}return Ta(X.prototype,{preventDefault:function(){this.defaultPrevented=!0;var me=this.nativeEvent;me&&(me.preventDefault?me.preventDefault():typeof me.returnValue!="unknown"&&(me.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var me=this.nativeEvent;me&&(me.stopPropagation?me.stopPropagation():typeof me.cancelBubble!="unknown"&&(me.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),X}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(B){return B.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=ul(Lh),Jp=Ta({},Lh,{view:0,detail:0}),U4=ul(Jp),Qg,e1,lp,G0=Ta({},Jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(B){return B.relatedTarget===void 0?B.fromElement===B.srcElement?B.toElement:B.fromElement:B.relatedTarget},movementX:function(B){return"movementX"in B?B.movementX:(B!==lp&&(lp&&B.type==="mousemove"?(Qg=B.screenX-lp.screenX,e1=B.screenY-lp.screenY):e1=Qg=0,lp=B),Qg)},movementY:function(B){return"movementY"in B?B.movementY:e1}}),mx=ul(G0),V4=Ta({},G0,{dataTransfer:0}),H4=ul(V4),q4=Ta({},Jp,{relatedTarget:0}),t1=ul(q4),G4=Ta({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),W4=ul(G4),Y4=Ta({},Lh,{clipboardData:function(B){return"clipboardData"in B?B.clipboardData:window.clipboardData}}),Z4=ul(Y4),X4=Ta({},Lh,{data:0}),yx=ul(X4),K4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(B){var X=this.nativeEvent;return X.getModifierState?X.getModifierState(B):(B=$4[B])?!!X[B]:!1}function Vv(){return Q4}var e5=Ta({},Jp,{key:function(B){if(B.key){var X=K4[B.key]||B.key;if(X!=="Unidentified")return X}return B.type==="keypress"?(B=c0(B),B===13?"Enter":String.fromCharCode(B)):B.type==="keydown"||B.type==="keyup"?J4[B.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(B){return B.type==="keypress"?c0(B):0},keyCode:function(B){return B.type==="keydown"||B.type==="keyup"?B.keyCode:0},which:function(B){return B.type==="keypress"?c0(B):B.type==="keydown"||B.type==="keyup"?B.keyCode:0}}),t5=ul(e5),n5=Ta({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=ul(n5),r5=Ta({},Jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),i5=ul(r5),a5=Ta({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),o5=ul(a5),s5=Ta({},G0,{deltaX:function(B){return"deltaX"in B?B.deltaX:"wheelDeltaX"in B?-B.wheelDeltaX:0},deltaY:function(B){return"deltaY"in B?B.deltaY:"wheelDeltaY"in B?-B.wheelDeltaY:"wheelDelta"in B?-B.wheelDelta:0},deltaZ:0,deltaMode:0}),l5=ul(s5),u5=[9,13,27,32],Hv=qu&&"CompositionEvent"in window,xp=null;qu&&"documentMode"in document&&(xp=document.documentMode);var c5=qu&&"TextEvent"in window&&!xp,bb=qu&&(!Hv||xp&&8<xp&&11>=xp),bx=" ",_x=!1;function _b(B,X){switch(B){case"keyup":return u5.indexOf(X.keyCode)!==-1;case"keydown":return X.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wb(B){return B=B.detail,typeof B=="object"&&"data"in B?B.data:null}var qf=!1;function f5(B,X){switch(B){case"compositionend":return wb(X);case"keypress":return X.which!==32?null:(_x=!0,bx);case"textInput":return B=X.data,B===bx&&_x?null:B;default:return null}}function h5(B,X){if(qf)return B==="compositionend"||!Hv&&_b(B,X)?(B=xb(),u0=jv=bc=null,qf=!1,B):null;switch(B){case"paste":return null;case"keypress":if(!(X.ctrlKey||X.altKey||X.metaKey)||X.ctrlKey&&X.altKey){if(X.char&&1<X.char.length)return X.char;if(X.which)return String.fromCharCode(X.which)}return null;case"compositionend":return bb&&X.locale!=="ko"?null:X.data;default:return null}}var p5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(B){var X=B&&B.nodeName&&B.nodeName.toLowerCase();return X==="input"?!!p5[B.type]:X==="textarea"}function Tb(B,X,me,Ne){eb(Ne),X=A0(X,"onChange"),0<X.length&&(me=new Uv("onChange","change",null,me,Ne),B.push({event:me,listeners:X}))}var bp=null,Op=null;function d5(B){zb(B,0)}function W0(B){var X=Yf(B);if(Y2(X))return B}function g5(B,X){if(B==="change")return X}var kb=!1;if(qu){var n1;if(qu){var r1="oninput"in document;if(!r1){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),r1=typeof Tx.oninput=="function"}n1=r1}else n1=!1;kb=n1&&(!document.documentMode||9<document.documentMode)}function kx(){bp&&(bp.detachEvent("onpropertychange",Ab),Op=bp=null)}function Ab(B){if(B.propertyName==="value"&&W0(Op)){var X=[];Tb(X,Op,B,Dv(B)),ib(d5,X)}}function v5(B,X,me){B==="focusin"?(kx(),bp=X,Op=me,bp.attachEvent("onpropertychange",Ab)):B==="focusout"&&kx()}function m5(B){if(B==="selectionchange"||B==="keyup"||B==="keydown")return W0(Op)}function y5(B,X){if(B==="click")return W0(X)}function x5(B,X){if(B==="input"||B==="change")return W0(X)}function b5(B,X){return B===X&&(B!==0||1/B===1/X)||B!==B&&X!==X}var ou=typeof Object.is=="function"?Object.is:b5;function Ip(B,X){if(ou(B,X))return!0;if(typeof B!="object"||B===null||typeof X!="object"||X===null)return!1;var me=Object.keys(B),Ne=Object.keys(X);if(me.length!==Ne.length)return!1;for(Ne=0;Ne<me.length;Ne++){var Xe=me[Ne];if(!_1.call(X,Xe)||!ou(B[Xe],X[Xe]))return!1}return!0}function Ax(B){for(;B&&B.firstChild;)B=B.firstChild;return B}function Mx(B,X){var me=Ax(B);B=0;for(var Ne;me;){if(me.nodeType===3){if(Ne=B+me.textContent.length,B<=X&&Ne>=X)return{node:me,offset:X-B};B=Ne}e:{for(;me;){if(me.nextSibling){me=me.nextSibling;break e}me=me.parentNode}me=void 0}me=Ax(me)}}function Mb(B,X){return B&&X?B===X?!0:B&&B.nodeType===3?!1:X&&X.nodeType===3?Mb(B,X.parentNode):"contains"in B?B.contains(X):B.compareDocumentPosition?!!(B.compareDocumentPosition(X)&16):!1:!1}function Sb(){for(var B=window,X=y0();X instanceof B.HTMLIFrameElement;){try{var me=typeof X.contentWindow.location.href=="string"}catch{me=!1}if(me)B=X.contentWindow;else break;X=y0(B.document)}return X}function qv(B){var X=B&&B.nodeName&&B.nodeName.toLowerCase();return X&&(X==="input"&&(B.type==="text"||B.type==="search"||B.type==="tel"||B.type==="url"||B.type==="password")||X==="textarea"||B.contentEditable==="true")}function _5(B){var X=Sb(),me=B.focusedElem,Ne=B.selectionRange;if(X!==me&&me&&me.ownerDocument&&Mb(me.ownerDocument.documentElement,me)){if(Ne!==null&&qv(me)){if(X=Ne.start,B=Ne.end,B===void 0&&(B=X),"selectionStart"in me)me.selectionStart=X,me.selectionEnd=Math.min(B,me.value.length);else if(B=(X=me.ownerDocument||document)&&X.defaultView||window,B.getSelection){B=B.getSelection();var Xe=me.textContent.length,U=Math.min(Ne.start,Xe);Ne=Ne.end===void 0?U:Math.min(Ne.end,Xe),!B.extend&&U>Ne&&(Xe=Ne,Ne=U,U=Xe),Xe=Mx(me,U);var C=Mx(me,Ne);Xe&&C&&(B.rangeCount!==1||B.anchorNode!==Xe.node||B.anchorOffset!==Xe.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)&&(X=X.createRange(),X.setStart(Xe.node,Xe.offset),B.removeAllRanges(),U>Ne?(B.addRange(X),B.extend(C.node,C.offset)):(X.setEnd(C.node,C.offset),B.addRange(X)))}}for(X=[],B=me;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<X.length;me++)B=X[me],B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}var w5=qu&&"documentMode"in document&&11>=document.documentMode,Gf=null,j1=null,_p=null,U1=!1;function Sx(B,X,me){var Ne=me.window===me?me.document:me.nodeType===9?me:me.ownerDocument;U1||Gf==null||Gf!==y0(Ne)||(Ne=Gf,"selectionStart"in Ne&&qv(Ne)?Ne={start:Ne.selectionStart,end:Ne.selectionEnd}:(Ne=(Ne.ownerDocument&&Ne.ownerDocument.defaultView||window).getSelection(),Ne={anchorNode:Ne.anchorNode,anchorOffset:Ne.anchorOffset,focusNode:Ne.focusNode,focusOffset:Ne.focusOffset}),_p&&Ip(_p,Ne)||(_p=Ne,Ne=A0(j1,"onSelect"),0<Ne.length&&(X=new Uv("onSelect","select",null,X,me),B.push({event:X,listeners:Ne}),X.target=Gf)))}function Kd(B,X){var me={};return me[B.toLowerCase()]=X.toLowerCase(),me["Webkit"+B]="webkit"+X,me["Moz"+B]="moz"+X,me}var Wf={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},i1={},Eb={};qu&&(Eb=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function Y0(B){if(i1[B])return i1[B];if(!Wf[B])return B;var X=Wf[B],me;for(me in X)if(X.hasOwnProperty(me)&&me in Eb)return i1[B]=X[me];return B}var Lb=Y0("animationend"),Cb=Y0("animationiteration"),Pb=Y0("animationstart"),Ob=Y0("transitionend"),Ib=new Map,Ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oc(B,X){Ib.set(B,X),mf(X,[B])}for(var a1=0;a1<Ex.length;a1++){var o1=Ex[a1],T5=o1.toLowerCase(),k5=o1[0].toUpperCase()+o1.slice(1);Oc(T5,"on"+k5)}Oc(Lb,"onAnimationEnd");Oc(Cb,"onAnimationIteration");Oc(Pb,"onAnimationStart");Oc("dblclick","onDoubleClick");Oc("focusin","onFocus");Oc("focusout","onBlur");Oc(Ob,"onTransitionEnd");bh("onMouseEnter",["mouseout","mouseover"]);bh("onMouseLeave",["mouseout","mouseover"]);bh("onPointerEnter",["pointerout","pointerover"]);bh("onPointerLeave",["pointerout","pointerover"]);mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A5=new Set("cancel close invalid load scroll toggle".split(" ").concat(gp));function Lx(B,X,me){var Ne=B.type||"unknown-event";B.currentTarget=me,T4(Ne,X,void 0,B),B.currentTarget=null}function zb(B,X){X=(X&4)!==0;for(var me=0;me<B.length;me++){var Ne=B[me],Xe=Ne.event;Ne=Ne.listeners;e:{var U=void 0;if(X)for(var C=Ne.length-1;0<=C;C--){var e=Ne[C],k=e.instance,A=e.currentTarget;if(e=e.listener,k!==U&&Xe.isPropagationStopped())break e;Lx(Xe,e,A),U=k}else for(C=0;C<Ne.length;C++){if(e=Ne[C],k=e.instance,A=e.currentTarget,e=e.listener,k!==U&&Xe.isPropagationStopped())break e;Lx(Xe,e,A),U=k}}}if(b0)throw B=R1,b0=!1,R1=null,B}function ca(B,X){var me=X[W1];me===void 0&&(me=X[W1]=new Set);var Ne=B+"__bubble";me.has(Ne)||(Db(X,B,2,!1),me.add(Ne))}function s1(B,X,me){var Ne=0;X&&(Ne|=4),Db(me,B,Ne,X)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function zp(B){if(!B[Jd]){B[Jd]=!0,V2.forEach(function(me){me!=="selectionchange"&&(A5.has(me)||s1(me,!1,B),s1(me,!0,B))});var X=B.nodeType===9?B:B.ownerDocument;X===null||X[Jd]||(X[Jd]=!0,s1("selectionchange",!1,X))}}function Db(B,X,me,Ne){switch(yb(X)){case 1:var Xe=N4;break;case 4:Xe=j4;break;default:Xe=Nv}me=Xe.bind(null,X,me,B),Xe=void 0,!D1||X!=="touchstart"&&X!=="touchmove"&&X!=="wheel"||(Xe=!0),Ne?Xe!==void 0?B.addEventListener(X,me,{capture:!0,passive:Xe}):B.addEventListener(X,me,!0):Xe!==void 0?B.addEventListener(X,me,{passive:Xe}):B.addEventListener(X,me,!1)}function l1(B,X,me,Ne,Xe){var U=Ne;if(!(X&1)&&!(X&2)&&Ne!==null)e:for(;;){if(Ne===null)return;var C=Ne.tag;if(C===3||C===4){var e=Ne.stateNode.containerInfo;if(e===Xe||e.nodeType===8&&e.parentNode===Xe)break;if(C===4)for(C=Ne.return;C!==null;){var k=C.tag;if((k===3||k===4)&&(k=C.stateNode.containerInfo,k===Xe||k.nodeType===8&&k.parentNode===Xe))return;C=C.return}for(;e!==null;){if(C=Qc(e),C===null)return;if(k=C.tag,k===5||k===6){Ne=U=C;continue e}e=e.parentNode}}Ne=Ne.return}ib(function(){var A=U,o=Dv(me),w=[];e:{var b=Ib.get(B);if(b!==void 0){var f=Uv,s=B;switch(B){case"keypress":if(c0(me)===0)break e;case"keydown":case"keyup":f=t5;break;case"focusin":s="focus",f=t1;break;case"focusout":s="blur",f=t1;break;case"beforeblur":case"afterblur":f=t1;break;case"click":if(me.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=i5;break;case Lb:case Cb:case Pb:f=W4;break;case Ob:f=o5;break;case"scroll":f=U4;break;case"wheel":f=l5;break;case"copy":case"cut":case"paste":f=Z4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xx}var n=(X&4)!==0,i=!n&&B==="scroll",r=n?b!==null?b+"Capture":null:b;n=[];for(var t=A,a;t!==null;){a=t;var l=a.stateNode;if(a.tag===5&&l!==null&&(a=l,r!==null&&(l=Ep(t,r),l!=null&&n.push(Dp(t,l,a)))),i)break;t=t.return}0<n.length&&(b=new f(b,s,null,me,o),w.push({event:b,listeners:n}))}}if(!(X&7)){e:{if(b=B==="mouseover"||B==="pointerover",f=B==="mouseout"||B==="pointerout",b&&me!==I1&&(s=me.relatedTarget||me.fromElement)&&(Qc(s)||s[Gu]))break e;if((f||b)&&(b=o.window===o?o:(b=o.ownerDocument)?b.defaultView||b.parentWindow:window,f?(s=me.relatedTarget||me.toElement,f=A,s=s?Qc(s):null,s!==null&&(i=yf(s),s!==i||s.tag!==5&&s.tag!==6)&&(s=null)):(f=null,s=A),f!==s)){if(n=mx,l="onMouseLeave",r="onMouseEnter",t="mouse",(B==="pointerout"||B==="pointerover")&&(n=xx,l="onPointerLeave",r="onPointerEnter",t="pointer"),i=f==null?b:Yf(f),a=s==null?b:Yf(s),b=new n(l,t+"leave",f,me,o),b.target=i,b.relatedTarget=a,l=null,Qc(o)===A&&(n=new n(r,t+"enter",s,me,o),n.target=a,n.relatedTarget=i,l=n),i=l,f&&s)t:{for(n=f,r=s,t=0,a=n;a;a=Uf(a))t++;for(a=0,l=r;l;l=Uf(l))a++;for(;0<t-a;)n=Uf(n),t--;for(;0<a-t;)r=Uf(r),a--;for(;t--;){if(n===r||r!==null&&n===r.alternate)break t;n=Uf(n),r=Uf(r)}n=null}else n=null;f!==null&&Cx(w,b,f,n,!1),s!==null&&i!==null&&Cx(w,i,s,n,!0)}}e:{if(b=A?Yf(A):window,f=b.nodeName&&b.nodeName.toLowerCase(),f==="select"||f==="input"&&b.type==="file")var u=g5;else if(wx(b))if(kb)u=x5;else{u=m5;var h=v5}else(f=b.nodeName)&&f.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(u=y5);if(u&&(u=u(B,A))){Tb(w,u,me,o);break e}h&&h(B,b,A),B==="focusout"&&(h=b._wrapperState)&&h.controlled&&b.type==="number"&&E1(b,"number",b.value)}switch(h=A?Yf(A):window,B){case"focusin":(wx(h)||h.contentEditable==="true")&&(Gf=h,j1=A,_p=null);break;case"focusout":_p=j1=Gf=null;break;case"mousedown":U1=!0;break;case"contextmenu":case"mouseup":case"dragend":U1=!1,Sx(w,me,o);break;case"selectionchange":if(w5)break;case"keydown":case"keyup":Sx(w,me,o)}var c;if(Hv)e:{switch(B){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else qf?_b(B,me)&&(y="onCompositionEnd"):B==="keydown"&&me.keyCode===229&&(y="onCompositionStart");y&&(bb&&me.locale!=="ko"&&(qf||y!=="onCompositionStart"?y==="onCompositionEnd"&&qf&&(c=xb()):(bc=o,jv="value"in bc?bc.value:bc.textContent,qf=!0)),h=A0(A,y),0<h.length&&(y=new yx(y,B,null,me,o),w.push({event:y,listeners:h}),c?y.data=c:(c=wb(me),c!==null&&(y.data=c)))),(c=c5?f5(B,me):h5(B,me))&&(A=A0(A,"onBeforeInput"),0<A.length&&(o=new yx("onBeforeInput","beforeinput",null,me,o),w.push({event:o,listeners:A}),o.data=c))}zb(w,X)})}function Dp(B,X,me){return{instance:B,listener:X,currentTarget:me}}function A0(B,X){for(var me=X+"Capture",Ne=[];B!==null;){var Xe=B,U=Xe.stateNode;Xe.tag===5&&U!==null&&(Xe=U,U=Ep(B,me),U!=null&&Ne.unshift(Dp(B,U,Xe)),U=Ep(B,X),U!=null&&Ne.push(Dp(B,U,Xe))),B=B.return}return Ne}function Uf(B){if(B===null)return null;do B=B.return;while(B&&B.tag!==5);return B||null}function Cx(B,X,me,Ne,Xe){for(var U=X._reactName,C=[];me!==null&&me!==Ne;){var e=me,k=e.alternate,A=e.stateNode;if(k!==null&&k===Ne)break;e.tag===5&&A!==null&&(e=A,Xe?(k=Ep(me,U),k!=null&&C.unshift(Dp(me,k,e))):Xe||(k=Ep(me,U),k!=null&&C.push(Dp(me,k,e)))),me=me.return}C.length!==0&&B.push({event:X,listeners:C})}var M5=/\r\n?/g,S5=/\u0000|\uFFFD/g;function Px(B){return(typeof B=="string"?B:""+B).replace(M5,`
`).replace(S5,"")}function $d(B,X,me){if(X=Px(X),Px(B)!==X&&me)throw Error(Tr(425))}function M0(){}var V1=null,H1=null;function q1(B,X){return B==="textarea"||B==="noscript"||typeof X.children=="string"||typeof X.children=="number"||typeof X.dangerouslySetInnerHTML=="object"&&X.dangerouslySetInnerHTML!==null&&X.dangerouslySetInnerHTML.__html!=null}var G1=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,L5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(B){return Ox.resolve(null).then(B).catch(C5)}:G1;function C5(B){setTimeout(function(){throw B})}function u1(B,X){var me=X,Ne=0;do{var Xe=me.nextSibling;if(B.removeChild(me),Xe&&Xe.nodeType===8)if(me=Xe.data,me==="/$"){if(Ne===0){B.removeChild(Xe),Pp(X);return}Ne--}else me!=="$"&&me!=="$?"&&me!=="$!"||Ne++;me=Xe}while(me);Pp(X)}function Ac(B){for(;B!=null;B=B.nextSibling){var X=B.nodeType;if(X===1||X===3)break;if(X===8){if(X=B.data,X==="$"||X==="$!"||X==="$?")break;if(X==="/$")return null}}return B}function Ix(B){B=B.previousSibling;for(var X=0;B;){if(B.nodeType===8){var me=B.data;if(me==="$"||me==="$!"||me==="$?"){if(X===0)return B;X--}else me==="/$"&&X++}B=B.previousSibling}return null}var Ch=Math.random().toString(36).slice(2),Au="__reactFiber$"+Ch,Rp="__reactProps$"+Ch,Gu="__reactContainer$"+Ch,W1="__reactEvents$"+Ch,P5="__reactListeners$"+Ch,O5="__reactHandles$"+Ch;function Qc(B){var X=B[Au];if(X)return X;for(var me=B.parentNode;me;){if(X=me[Gu]||me[Au]){if(me=X.alternate,X.child!==null||me!==null&&me.child!==null)for(B=Ix(B);B!==null;){if(me=B[Au])return me;B=Ix(B)}return X}B=me,me=B.parentNode}return null}function $p(B){return B=B[Au]||B[Gu],!B||B.tag!==5&&B.tag!==6&&B.tag!==13&&B.tag!==3?null:B}function Yf(B){if(B.tag===5||B.tag===6)return B.stateNode;throw Error(Tr(33))}function Z0(B){return B[Rp]||null}var Y1=[],Zf=-1;function Ic(B){return{current:B}}function fa(B){0>Zf||(B.current=Y1[Zf],Y1[Zf]=null,Zf--)}function ra(B,X){Zf++,Y1[Zf]=B.current,B.current=X}var Pc={},Zo=Ic(Pc),Ns=Ic(!1),hf=Pc;function _h(B,X){var me=B.type.contextTypes;if(!me)return Pc;var Ne=B.stateNode;if(Ne&&Ne.__reactInternalMemoizedUnmaskedChildContext===X)return Ne.__reactInternalMemoizedMaskedChildContext;var Xe={},U;for(U in me)Xe[U]=X[U];return Ne&&(B=B.stateNode,B.__reactInternalMemoizedUnmaskedChildContext=X,B.__reactInternalMemoizedMaskedChildContext=Xe),Xe}function js(B){return B=B.childContextTypes,B!=null}function S0(){fa(Ns),fa(Zo)}function zx(B,X,me){if(Zo.current!==Pc)throw Error(Tr(168));ra(Zo,X),ra(Ns,me)}function Rb(B,X,me){var Ne=B.stateNode;if(X=X.childContextTypes,typeof Ne.getChildContext!="function")return me;Ne=Ne.getChildContext();for(var Xe in Ne)if(!(Xe in X))throw Error(Tr(108,v4(B)||"Unknown",Xe));return Ta({},me,Ne)}function E0(B){return B=(B=B.stateNode)&&B.__reactInternalMemoizedMergedChildContext||Pc,hf=Zo.current,ra(Zo,B),ra(Ns,Ns.current),!0}function Dx(B,X,me){var Ne=B.stateNode;if(!Ne)throw Error(Tr(169));me?(B=Rb(B,X,hf),Ne.__reactInternalMemoizedMergedChildContext=B,fa(Ns),fa(Zo),ra(Zo,B)):fa(Ns),ra(Ns,me)}var Nu=null,X0=!1,c1=!1;function Fb(B){Nu===null?Nu=[B]:Nu.push(B)}function I5(B){X0=!0,Fb(B)}function zc(){if(!c1&&Nu!==null){c1=!0;var B=0,X=Yi;try{var me=Nu;for(Yi=1;B<me.length;B++){var Ne=me[B];do Ne=Ne(!0);while(Ne!==null)}Nu=null,X0=!1}catch(Xe){throw Nu!==null&&(Nu=Nu.slice(B+1)),lb(Rv,zc),Xe}finally{Yi=X,c1=!1}}return null}var Xf=[],Kf=0,L0=null,C0=0,Ll=[],Cl=0,pf=null,Uu=1,Vu="";function Jc(B,X){Xf[Kf++]=C0,Xf[Kf++]=L0,L0=B,C0=X}function Bb(B,X,me){Ll[Cl++]=Uu,Ll[Cl++]=Vu,Ll[Cl++]=pf,pf=B;var Ne=Uu;B=Vu;var Xe=32-iu(Ne)-1;Ne&=~(1<<Xe),me+=1;var U=32-iu(X)+Xe;if(30<U){var C=Xe-Xe%5;U=(Ne&(1<<C)-1).toString(32),Ne>>=C,Xe-=C,Uu=1<<32-iu(X)+Xe|me<<Xe|Ne,Vu=U+B}else Uu=1<<U|me<<Xe|Ne,Vu=B}function Gv(B){B.return!==null&&(Jc(B,1),Bb(B,1,0))}function Wv(B){for(;B===L0;)L0=Xf[--Kf],Xf[Kf]=null,C0=Xf[--Kf],Xf[Kf]=null;for(;B===pf;)pf=Ll[--Cl],Ll[Cl]=null,Vu=Ll[--Cl],Ll[Cl]=null,Uu=Ll[--Cl],Ll[Cl]=null}var ol=null,al=null,ha=!1,nu=null;function Nb(B,X){var me=Pl(5,null,null,0);me.elementType="DELETED",me.stateNode=X,me.return=B,X=B.deletions,X===null?(B.deletions=[me],B.flags|=16):X.push(me)}function Rx(B,X){switch(B.tag){case 5:var me=B.type;return X=X.nodeType!==1||me.toLowerCase()!==X.nodeName.toLowerCase()?null:X,X!==null?(B.stateNode=X,ol=B,al=Ac(X.firstChild),!0):!1;case 6:return X=B.pendingProps===""||X.nodeType!==3?null:X,X!==null?(B.stateNode=X,ol=B,al=null,!0):!1;case 13:return X=X.nodeType!==8?null:X,X!==null?(me=pf!==null?{id:Uu,overflow:Vu}:null,B.memoizedState={dehydrated:X,treeContext:me,retryLane:1073741824},me=Pl(18,null,null,0),me.stateNode=X,me.return=B,B.child=me,ol=B,al=null,!0):!1;default:return!1}}function Z1(B){return(B.mode&1)!==0&&(B.flags&128)===0}function X1(B){if(ha){var X=al;if(X){var me=X;if(!Rx(B,X)){if(Z1(B))throw Error(Tr(418));X=Ac(me.nextSibling);var Ne=ol;X&&Rx(B,X)?Nb(Ne,me):(B.flags=B.flags&-4097|2,ha=!1,ol=B)}}else{if(Z1(B))throw Error(Tr(418));B.flags=B.flags&-4097|2,ha=!1,ol=B}}}function Fx(B){for(B=B.return;B!==null&&B.tag!==5&&B.tag!==3&&B.tag!==13;)B=B.return;ol=B}function Qd(B){if(B!==ol)return!1;if(!ha)return Fx(B),ha=!0,!1;var X;if((X=B.tag!==3)&&!(X=B.tag!==5)&&(X=B.type,X=X!=="head"&&X!=="body"&&!q1(B.type,B.memoizedProps)),X&&(X=al)){if(Z1(B))throw jb(),Error(Tr(418));for(;X;)Nb(B,X),X=Ac(X.nextSibling)}if(Fx(B),B.tag===13){if(B=B.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(Tr(317));e:{for(B=B.nextSibling,X=0;B;){if(B.nodeType===8){var me=B.data;if(me==="/$"){if(X===0){al=Ac(B.nextSibling);break e}X--}else me!=="$"&&me!=="$!"&&me!=="$?"||X++}B=B.nextSibling}al=null}}else al=ol?Ac(B.stateNode.nextSibling):null;return!0}function jb(){for(var B=al;B;)B=Ac(B.nextSibling)}function wh(){al=ol=null,ha=!1}function Yv(B){nu===null?nu=[B]:nu.push(B)}var z5=Zu.ReactCurrentBatchConfig;function up(B,X,me){if(B=me.ref,B!==null&&typeof B!="function"&&typeof B!="object"){if(me._owner){if(me=me._owner,me){if(me.tag!==1)throw Error(Tr(309));var Ne=me.stateNode}if(!Ne)throw Error(Tr(147,B));var Xe=Ne,U=""+B;return X!==null&&X.ref!==null&&typeof X.ref=="function"&&X.ref._stringRef===U?X.ref:(X=function(C){var e=Xe.refs;C===null?delete e[U]:e[U]=C},X._stringRef=U,X)}if(typeof B!="string")throw Error(Tr(284));if(!me._owner)throw Error(Tr(290,B))}return B}function e0(B,X){throw B=Object.prototype.toString.call(X),Error(Tr(31,B==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":B))}function Bx(B){var X=B._init;return X(B._payload)}function Ub(B){function X(r,t){if(B){var a=r.deletions;a===null?(r.deletions=[t],r.flags|=16):a.push(t)}}function me(r,t){if(!B)return null;for(;t!==null;)X(r,t),t=t.sibling;return null}function Ne(r,t){for(r=new Map;t!==null;)t.key!==null?r.set(t.key,t):r.set(t.index,t),t=t.sibling;return r}function Xe(r,t){return r=Lc(r,t),r.index=0,r.sibling=null,r}function U(r,t,a){return r.index=a,B?(a=r.alternate,a!==null?(a=a.index,a<t?(r.flags|=2,t):a):(r.flags|=2,t)):(r.flags|=1048576,t)}function C(r){return B&&r.alternate===null&&(r.flags|=2),r}function e(r,t,a,l){return t===null||t.tag!==6?(t=m1(a,r.mode,l),t.return=r,t):(t=Xe(t,a),t.return=r,t)}function k(r,t,a,l){var u=a.type;return u===Hf?o(r,t,a.props.children,l,a.key):t!==null&&(t.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===cc&&Bx(u)===t.type)?(l=Xe(t,a.props),l.ref=up(r,t,a),l.return=r,l):(l=m0(a.type,a.key,a.props,null,r.mode,l),l.ref=up(r,t,a),l.return=r,l)}function A(r,t,a,l){return t===null||t.tag!==4||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?(t=y1(a,r.mode,l),t.return=r,t):(t=Xe(t,a.children||[]),t.return=r,t)}function o(r,t,a,l,u){return t===null||t.tag!==7?(t=ff(a,r.mode,l,u),t.return=r,t):(t=Xe(t,a),t.return=r,t)}function w(r,t,a){if(typeof t=="string"&&t!==""||typeof t=="number")return t=m1(""+t,r.mode,a),t.return=r,t;if(typeof t=="object"&&t!==null){switch(t.$$typeof){case Hd:return a=m0(t.type,t.key,t.props,null,r.mode,a),a.ref=up(r,null,t),a.return=r,a;case Vf:return t=y1(t,r.mode,a),t.return=r,t;case cc:var l=t._init;return w(r,l(t._payload),a)}if(pp(t)||ip(t))return t=ff(t,r.mode,a,null),t.return=r,t;e0(r,t)}return null}function b(r,t,a,l){var u=t!==null?t.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return u!==null?null:e(r,t,""+a,l);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Hd:return a.key===u?k(r,t,a,l):null;case Vf:return a.key===u?A(r,t,a,l):null;case cc:return u=a._init,b(r,t,u(a._payload),l)}if(pp(a)||ip(a))return u!==null?null:o(r,t,a,l,null);e0(r,a)}return null}function f(r,t,a,l,u){if(typeof l=="string"&&l!==""||typeof l=="number")return r=r.get(a)||null,e(t,r,""+l,u);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Hd:return r=r.get(l.key===null?a:l.key)||null,k(t,r,l,u);case Vf:return r=r.get(l.key===null?a:l.key)||null,A(t,r,l,u);case cc:var h=l._init;return f(r,t,a,h(l._payload),u)}if(pp(l)||ip(l))return r=r.get(a)||null,o(t,r,l,u,null);e0(t,l)}return null}function s(r,t,a,l){for(var u=null,h=null,c=t,y=t=0,d=null;c!==null&&y<a.length;y++){c.index>y?(d=c,c=null):d=c.sibling;var v=b(r,c,a[y],l);if(v===null){c===null&&(c=d);break}B&&c&&v.alternate===null&&X(r,c),t=U(v,t,y),h===null?u=v:h.sibling=v,h=v,c=d}if(y===a.length)return me(r,c),ha&&Jc(r,y),u;if(c===null){for(;y<a.length;y++)c=w(r,a[y],l),c!==null&&(t=U(c,t,y),h===null?u=c:h.sibling=c,h=c);return ha&&Jc(r,y),u}for(c=Ne(r,c);y<a.length;y++)d=f(c,r,y,a[y],l),d!==null&&(B&&d.alternate!==null&&c.delete(d.key===null?y:d.key),t=U(d,t,y),h===null?u=d:h.sibling=d,h=d);return B&&c.forEach(function(g){return X(r,g)}),ha&&Jc(r,y),u}function n(r,t,a,l){var u=ip(a);if(typeof u!="function")throw Error(Tr(150));if(a=u.call(a),a==null)throw Error(Tr(151));for(var h=u=null,c=t,y=t=0,d=null,v=a.next();c!==null&&!v.done;y++,v=a.next()){c.index>y?(d=c,c=null):d=c.sibling;var g=b(r,c,v.value,l);if(g===null){c===null&&(c=d);break}B&&c&&g.alternate===null&&X(r,c),t=U(g,t,y),h===null?u=g:h.sibling=g,h=g,c=d}if(v.done)return me(r,c),ha&&Jc(r,y),u;if(c===null){for(;!v.done;y++,v=a.next())v=w(r,v.value,l),v!==null&&(t=U(v,t,y),h===null?u=v:h.sibling=v,h=v);return ha&&Jc(r,y),u}for(c=Ne(r,c);!v.done;y++,v=a.next())v=f(c,r,y,v.value,l),v!==null&&(B&&v.alternate!==null&&c.delete(v.key===null?y:v.key),t=U(v,t,y),h===null?u=v:h.sibling=v,h=v);return B&&c.forEach(function(x){return X(r,x)}),ha&&Jc(r,y),u}function i(r,t,a,l){if(typeof a=="object"&&a!==null&&a.type===Hf&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case Hd:e:{for(var u=a.key,h=t;h!==null;){if(h.key===u){if(u=a.type,u===Hf){if(h.tag===7){me(r,h.sibling),t=Xe(h,a.props.children),t.return=r,r=t;break e}}else if(h.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===cc&&Bx(u)===h.type){me(r,h.sibling),t=Xe(h,a.props),t.ref=up(r,h,a),t.return=r,r=t;break e}me(r,h);break}else X(r,h);h=h.sibling}a.type===Hf?(t=ff(a.props.children,r.mode,l,a.key),t.return=r,r=t):(l=m0(a.type,a.key,a.props,null,r.mode,l),l.ref=up(r,t,a),l.return=r,r=l)}return C(r);case Vf:e:{for(h=a.key;t!==null;){if(t.key===h)if(t.tag===4&&t.stateNode.containerInfo===a.containerInfo&&t.stateNode.implementation===a.implementation){me(r,t.sibling),t=Xe(t,a.children||[]),t.return=r,r=t;break e}else{me(r,t);break}else X(r,t);t=t.sibling}t=y1(a,r.mode,l),t.return=r,r=t}return C(r);case cc:return h=a._init,i(r,t,h(a._payload),l)}if(pp(a))return s(r,t,a,l);if(ip(a))return n(r,t,a,l);e0(r,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,t!==null&&t.tag===6?(me(r,t.sibling),t=Xe(t,a),t.return=r,r=t):(me(r,t),t=m1(a,r.mode,l),t.return=r,r=t),C(r)):me(r,t)}return i}var Th=Ub(!0),Vb=Ub(!1),P0=Ic(null),O0=null,Jf=null,Zv=null;function Xv(){Zv=Jf=O0=null}function Kv(B){var X=P0.current;fa(P0),B._currentValue=X}function K1(B,X,me){for(;B!==null;){var Ne=B.alternate;if((B.childLanes&X)!==X?(B.childLanes|=X,Ne!==null&&(Ne.childLanes|=X)):Ne!==null&&(Ne.childLanes&X)!==X&&(Ne.childLanes|=X),B===me)break;B=B.return}}function ih(B,X){O0=B,Zv=Jf=null,B=B.dependencies,B!==null&&B.firstContext!==null&&(B.lanes&X&&(Bs=!0),B.firstContext=null)}function Il(B){var X=B._currentValue;if(Zv!==B)if(B={context:B,memoizedValue:X,next:null},Jf===null){if(O0===null)throw Error(Tr(308));Jf=B,O0.dependencies={lanes:0,firstContext:B}}else Jf=Jf.next=B;return X}var ef=null;function Jv(B){ef===null?ef=[B]:ef.push(B)}function Hb(B,X,me,Ne){var Xe=X.interleaved;return Xe===null?(me.next=me,Jv(X)):(me.next=Xe.next,Xe.next=me),X.interleaved=me,Wu(B,Ne)}function Wu(B,X){B.lanes|=X;var me=B.alternate;for(me!==null&&(me.lanes|=X),me=B,B=B.return;B!==null;)B.childLanes|=X,me=B.alternate,me!==null&&(me.childLanes|=X),me=B,B=B.return;return me.tag===3?me.stateNode:null}var fc=!1;function $v(B){B.updateQueue={baseState:B.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qb(B,X){B=B.updateQueue,X.updateQueue===B&&(X.updateQueue={baseState:B.baseState,firstBaseUpdate:B.firstBaseUpdate,lastBaseUpdate:B.lastBaseUpdate,shared:B.shared,effects:B.effects})}function Hu(B,X){return{eventTime:B,lane:X,tag:0,payload:null,callback:null,next:null}}function Mc(B,X,me){var Ne=B.updateQueue;if(Ne===null)return null;if(Ne=Ne.shared,Ci&2){var Xe=Ne.pending;return Xe===null?X.next=X:(X.next=Xe.next,Xe.next=X),Ne.pending=X,Wu(B,me)}return Xe=Ne.interleaved,Xe===null?(X.next=X,Jv(Ne)):(X.next=Xe.next,Xe.next=X),Ne.interleaved=X,Wu(B,me)}function f0(B,X,me){if(X=X.updateQueue,X!==null&&(X=X.shared,(me&4194240)!==0)){var Ne=X.lanes;Ne&=B.pendingLanes,me|=Ne,X.lanes=me,Fv(B,me)}}function Nx(B,X){var me=B.updateQueue,Ne=B.alternate;if(Ne!==null&&(Ne=Ne.updateQueue,me===Ne)){var Xe=null,U=null;if(me=me.firstBaseUpdate,me!==null){do{var C={eventTime:me.eventTime,lane:me.lane,tag:me.tag,payload:me.payload,callback:me.callback,next:null};U===null?Xe=U=C:U=U.next=C,me=me.next}while(me!==null);U===null?Xe=U=X:U=U.next=X}else Xe=U=X;me={baseState:Ne.baseState,firstBaseUpdate:Xe,lastBaseUpdate:U,shared:Ne.shared,effects:Ne.effects},B.updateQueue=me;return}B=me.lastBaseUpdate,B===null?me.firstBaseUpdate=X:B.next=X,me.lastBaseUpdate=X}function I0(B,X,me,Ne){var Xe=B.updateQueue;fc=!1;var U=Xe.firstBaseUpdate,C=Xe.lastBaseUpdate,e=Xe.shared.pending;if(e!==null){Xe.shared.pending=null;var k=e,A=k.next;k.next=null,C===null?U=A:C.next=A,C=k;var o=B.alternate;o!==null&&(o=o.updateQueue,e=o.lastBaseUpdate,e!==C&&(e===null?o.firstBaseUpdate=A:e.next=A,o.lastBaseUpdate=k))}if(U!==null){var w=Xe.baseState;C=0,o=A=k=null,e=U;do{var b=e.lane,f=e.eventTime;if((Ne&b)===b){o!==null&&(o=o.next={eventTime:f,lane:0,tag:e.tag,payload:e.payload,callback:e.callback,next:null});e:{var s=B,n=e;switch(b=X,f=me,n.tag){case 1:if(s=n.payload,typeof s=="function"){w=s.call(f,w,b);break e}w=s;break e;case 3:s.flags=s.flags&-65537|128;case 0:if(s=n.payload,b=typeof s=="function"?s.call(f,w,b):s,b==null)break e;w=Ta({},w,b);break e;case 2:fc=!0}}e.callback!==null&&e.lane!==0&&(B.flags|=64,b=Xe.effects,b===null?Xe.effects=[e]:b.push(e))}else f={eventTime:f,lane:b,tag:e.tag,payload:e.payload,callback:e.callback,next:null},o===null?(A=o=f,k=w):o=o.next=f,C|=b;if(e=e.next,e===null){if(e=Xe.shared.pending,e===null)break;b=e,e=b.next,b.next=null,Xe.lastBaseUpdate=b,Xe.shared.pending=null}}while(!0);if(o===null&&(k=w),Xe.baseState=k,Xe.firstBaseUpdate=A,Xe.lastBaseUpdate=o,X=Xe.shared.interleaved,X!==null){Xe=X;do C|=Xe.lane,Xe=Xe.next;while(Xe!==X)}else U===null&&(Xe.shared.lanes=0);gf|=C,B.lanes=C,B.memoizedState=w}}function jx(B,X,me){if(B=X.effects,X.effects=null,B!==null)for(X=0;X<B.length;X++){var Ne=B[X],Xe=Ne.callback;if(Xe!==null){if(Ne.callback=null,Ne=me,typeof Xe!="function")throw Error(Tr(191,Xe));Xe.call(Ne)}}}var Qp={},Su=Ic(Qp),Fp=Ic(Qp),Bp=Ic(Qp);function tf(B){if(B===Qp)throw Error(Tr(174));return B}function Qv(B,X){switch(ra(Bp,X),ra(Fp,B),ra(Su,Qp),B=X.nodeType,B){case 9:case 11:X=(X=X.documentElement)?X.namespaceURI:C1(null,"");break;default:B=B===8?X.parentNode:X,X=B.namespaceURI||null,B=B.tagName,X=C1(X,B)}fa(Su),ra(Su,X)}function kh(){fa(Su),fa(Fp),fa(Bp)}function Gb(B){tf(Bp.current);var X=tf(Su.current),me=C1(X,B.type);X!==me&&(ra(Fp,B),ra(Su,me))}function em(B){Fp.current===B&&(fa(Su),fa(Fp))}var _a=Ic(0);function z0(B){for(var X=B;X!==null;){if(X.tag===13){var me=X.memoizedState;if(me!==null&&(me=me.dehydrated,me===null||me.data==="$?"||me.data==="$!"))return X}else if(X.tag===19&&X.memoizedProps.revealOrder!==void 0){if(X.flags&128)return X}else if(X.child!==null){X.child.return=X,X=X.child;continue}if(X===B)break;for(;X.sibling===null;){if(X.return===null||X.return===B)return null;X=X.return}X.sibling.return=X.return,X=X.sibling}return null}var f1=[];function tm(){for(var B=0;B<f1.length;B++)f1[B]._workInProgressVersionPrimary=null;f1.length=0}var h0=Zu.ReactCurrentDispatcher,h1=Zu.ReactCurrentBatchConfig,df=0,wa=null,Qa=null,fo=null,D0=!1,wp=!1,Np=0,D5=0;function qo(){throw Error(Tr(321))}function nm(B,X){if(X===null)return!1;for(var me=0;me<X.length&&me<B.length;me++)if(!ou(B[me],X[me]))return!1;return!0}function rm(B,X,me,Ne,Xe,U){if(df=U,wa=X,X.memoizedState=null,X.updateQueue=null,X.lanes=0,h0.current=B===null||B.memoizedState===null?N5:j5,B=me(Ne,Xe),wp){U=0;do{if(wp=!1,Np=0,25<=U)throw Error(Tr(301));U+=1,fo=Qa=null,X.updateQueue=null,h0.current=U5,B=me(Ne,Xe)}while(wp)}if(h0.current=R0,X=Qa!==null&&Qa.next!==null,df=0,fo=Qa=wa=null,D0=!1,X)throw Error(Tr(300));return B}function im(){var B=Np!==0;return Np=0,B}function bu(){var B={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?wa.memoizedState=fo=B:fo=fo.next=B,fo}function zl(){if(Qa===null){var B=wa.alternate;B=B!==null?B.memoizedState:null}else B=Qa.next;var X=fo===null?wa.memoizedState:fo.next;if(X!==null)fo=X,Qa=B;else{if(B===null)throw Error(Tr(310));Qa=B,B={memoizedState:Qa.memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},fo===null?wa.memoizedState=fo=B:fo=fo.next=B}return fo}function jp(B,X){return typeof X=="function"?X(B):X}function p1(B){var X=zl(),me=X.queue;if(me===null)throw Error(Tr(311));me.lastRenderedReducer=B;var Ne=Qa,Xe=Ne.baseQueue,U=me.pending;if(U!==null){if(Xe!==null){var C=Xe.next;Xe.next=U.next,U.next=C}Ne.baseQueue=Xe=U,me.pending=null}if(Xe!==null){U=Xe.next,Ne=Ne.baseState;var e=C=null,k=null,A=U;do{var o=A.lane;if((df&o)===o)k!==null&&(k=k.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),Ne=A.hasEagerState?A.eagerState:B(Ne,A.action);else{var w={lane:o,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};k===null?(e=k=w,C=Ne):k=k.next=w,wa.lanes|=o,gf|=o}A=A.next}while(A!==null&&A!==U);k===null?C=Ne:k.next=e,ou(Ne,X.memoizedState)||(Bs=!0),X.memoizedState=Ne,X.baseState=C,X.baseQueue=k,me.lastRenderedState=Ne}if(B=me.interleaved,B!==null){Xe=B;do U=Xe.lane,wa.lanes|=U,gf|=U,Xe=Xe.next;while(Xe!==B)}else Xe===null&&(me.lanes=0);return[X.memoizedState,me.dispatch]}function d1(B){var X=zl(),me=X.queue;if(me===null)throw Error(Tr(311));me.lastRenderedReducer=B;var Ne=me.dispatch,Xe=me.pending,U=X.memoizedState;if(Xe!==null){me.pending=null;var C=Xe=Xe.next;do U=B(U,C.action),C=C.next;while(C!==Xe);ou(U,X.memoizedState)||(Bs=!0),X.memoizedState=U,X.baseQueue===null&&(X.baseState=U),me.lastRenderedState=U}return[U,Ne]}function Wb(){}function Yb(B,X){var me=wa,Ne=zl(),Xe=X(),U=!ou(Ne.memoizedState,Xe);if(U&&(Ne.memoizedState=Xe,Bs=!0),Ne=Ne.queue,am(Kb.bind(null,me,Ne,B),[B]),Ne.getSnapshot!==X||U||fo!==null&&fo.memoizedState.tag&1){if(me.flags|=2048,Up(9,Xb.bind(null,me,Ne,Xe,X),void 0,null),ho===null)throw Error(Tr(349));df&30||Zb(me,X,Xe)}return Xe}function Zb(B,X,me){B.flags|=16384,B={getSnapshot:X,value:me},X=wa.updateQueue,X===null?(X={lastEffect:null,stores:null},wa.updateQueue=X,X.stores=[B]):(me=X.stores,me===null?X.stores=[B]:me.push(B))}function Xb(B,X,me,Ne){X.value=me,X.getSnapshot=Ne,Jb(X)&&$b(B)}function Kb(B,X,me){return me(function(){Jb(X)&&$b(B)})}function Jb(B){var X=B.getSnapshot;B=B.value;try{var me=X();return!ou(B,me)}catch{return!0}}function $b(B){var X=Wu(B,1);X!==null&&au(X,B,1,-1)}function Ux(B){var X=bu();return typeof B=="function"&&(B=B()),X.memoizedState=X.baseState=B,B={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:B},X.queue=B,B=B.dispatch=B5.bind(null,wa,B),[X.memoizedState,B]}function Up(B,X,me,Ne){return B={tag:B,create:X,destroy:me,deps:Ne,next:null},X=wa.updateQueue,X===null?(X={lastEffect:null,stores:null},wa.updateQueue=X,X.lastEffect=B.next=B):(me=X.lastEffect,me===null?X.lastEffect=B.next=B:(Ne=me.next,me.next=B,B.next=Ne,X.lastEffect=B)),B}function Qb(){return zl().memoizedState}function p0(B,X,me,Ne){var Xe=bu();wa.flags|=B,Xe.memoizedState=Up(1|X,me,void 0,Ne===void 0?null:Ne)}function K0(B,X,me,Ne){var Xe=zl();Ne=Ne===void 0?null:Ne;var U=void 0;if(Qa!==null){var C=Qa.memoizedState;if(U=C.destroy,Ne!==null&&nm(Ne,C.deps)){Xe.memoizedState=Up(X,me,U,Ne);return}}wa.flags|=B,Xe.memoizedState=Up(1|X,me,U,Ne)}function Vx(B,X){return p0(8390656,8,B,X)}function am(B,X){return K0(2048,8,B,X)}function e_(B,X){return K0(4,2,B,X)}function t_(B,X){return K0(4,4,B,X)}function n_(B,X){if(typeof X=="function")return B=B(),X(B),function(){X(null)};if(X!=null)return B=B(),X.current=B,function(){X.current=null}}function r_(B,X,me){return me=me!=null?me.concat([B]):null,K0(4,4,n_.bind(null,X,B),me)}function om(){}function i_(B,X){var me=zl();X=X===void 0?null:X;var Ne=me.memoizedState;return Ne!==null&&X!==null&&nm(X,Ne[1])?Ne[0]:(me.memoizedState=[B,X],B)}function a_(B,X){var me=zl();X=X===void 0?null:X;var Ne=me.memoizedState;return Ne!==null&&X!==null&&nm(X,Ne[1])?Ne[0]:(B=B(),me.memoizedState=[B,X],B)}function o_(B,X,me){return df&21?(ou(me,X)||(me=fb(),wa.lanes|=me,gf|=me,B.baseState=!0),X):(B.baseState&&(B.baseState=!1,Bs=!0),B.memoizedState=me)}function R5(B,X){var me=Yi;Yi=me!==0&&4>me?me:4,B(!0);var Ne=h1.transition;h1.transition={};try{B(!1),X()}finally{Yi=me,h1.transition=Ne}}function s_(){return zl().memoizedState}function F5(B,X,me){var Ne=Ec(B);if(me={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null},l_(B))u_(X,me);else if(me=Hb(B,X,me,Ne),me!==null){var Xe=ds();au(me,B,Ne,Xe),c_(me,X,Ne)}}function B5(B,X,me){var Ne=Ec(B),Xe={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null};if(l_(B))u_(X,Xe);else{var U=B.alternate;if(B.lanes===0&&(U===null||U.lanes===0)&&(U=X.lastRenderedReducer,U!==null))try{var C=X.lastRenderedState,e=U(C,me);if(Xe.hasEagerState=!0,Xe.eagerState=e,ou(e,C)){var k=X.interleaved;k===null?(Xe.next=Xe,Jv(X)):(Xe.next=k.next,k.next=Xe),X.interleaved=Xe;return}}catch{}finally{}me=Hb(B,X,Xe,Ne),me!==null&&(Xe=ds(),au(me,B,Ne,Xe),c_(me,X,Ne))}}function l_(B){var X=B.alternate;return B===wa||X!==null&&X===wa}function u_(B,X){wp=D0=!0;var me=B.pending;me===null?X.next=X:(X.next=me.next,me.next=X),B.pending=X}function c_(B,X,me){if(me&4194240){var Ne=X.lanes;Ne&=B.pendingLanes,me|=Ne,X.lanes=me,Fv(B,me)}}var R0={readContext:Il,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useInsertionEffect:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useDeferredValue:qo,useTransition:qo,useMutableSource:qo,useSyncExternalStore:qo,useId:qo,unstable_isNewReconciler:!1},N5={readContext:Il,useCallback:function(B,X){return bu().memoizedState=[B,X===void 0?null:X],B},useContext:Il,useEffect:Vx,useImperativeHandle:function(B,X,me){return me=me!=null?me.concat([B]):null,p0(4194308,4,n_.bind(null,X,B),me)},useLayoutEffect:function(B,X){return p0(4194308,4,B,X)},useInsertionEffect:function(B,X){return p0(4,2,B,X)},useMemo:function(B,X){var me=bu();return X=X===void 0?null:X,B=B(),me.memoizedState=[B,X],B},useReducer:function(B,X,me){var Ne=bu();return X=me!==void 0?me(X):X,Ne.memoizedState=Ne.baseState=X,B={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:B,lastRenderedState:X},Ne.queue=B,B=B.dispatch=F5.bind(null,wa,B),[Ne.memoizedState,B]},useRef:function(B){var X=bu();return B={current:B},X.memoizedState=B},useState:Ux,useDebugValue:om,useDeferredValue:function(B){return bu().memoizedState=B},useTransition:function(){var B=Ux(!1),X=B[0];return B=R5.bind(null,B[1]),bu().memoizedState=B,[X,B]},useMutableSource:function(){},useSyncExternalStore:function(B,X,me){var Ne=wa,Xe=bu();if(ha){if(me===void 0)throw Error(Tr(407));me=me()}else{if(me=X(),ho===null)throw Error(Tr(349));df&30||Zb(Ne,X,me)}Xe.memoizedState=me;var U={value:me,getSnapshot:X};return Xe.queue=U,Vx(Kb.bind(null,Ne,U,B),[B]),Ne.flags|=2048,Up(9,Xb.bind(null,Ne,U,me,X),void 0,null),me},useId:function(){var B=bu(),X=ho.identifierPrefix;if(ha){var me=Vu,Ne=Uu;me=(Ne&~(1<<32-iu(Ne)-1)).toString(32)+me,X=":"+X+"R"+me,me=Np++,0<me&&(X+="H"+me.toString(32)),X+=":"}else me=D5++,X=":"+X+"r"+me.toString(32)+":";return B.memoizedState=X},unstable_isNewReconciler:!1},j5={readContext:Il,useCallback:i_,useContext:Il,useEffect:am,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:p1,useRef:Qb,useState:function(){return p1(jp)},useDebugValue:om,useDeferredValue:function(B){var X=zl();return o_(X,Qa.memoizedState,B)},useTransition:function(){var B=p1(jp)[0],X=zl().memoizedState;return[B,X]},useMutableSource:Wb,useSyncExternalStore:Yb,useId:s_,unstable_isNewReconciler:!1},U5={readContext:Il,useCallback:i_,useContext:Il,useEffect:am,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:d1,useRef:Qb,useState:function(){return d1(jp)},useDebugValue:om,useDeferredValue:function(B){var X=zl();return Qa===null?X.memoizedState=B:o_(X,Qa.memoizedState,B)},useTransition:function(){var B=d1(jp)[0],X=zl().memoizedState;return[B,X]},useMutableSource:Wb,useSyncExternalStore:Yb,useId:s_,unstable_isNewReconciler:!1};function Ql(B,X){if(B&&B.defaultProps){X=Ta({},X),B=B.defaultProps;for(var me in B)X[me]===void 0&&(X[me]=B[me]);return X}return X}function J1(B,X,me,Ne){X=B.memoizedState,me=me(Ne,X),me=me==null?X:Ta({},X,me),B.memoizedState=me,B.lanes===0&&(B.updateQueue.baseState=me)}var J0={isMounted:function(B){return(B=B._reactInternals)?yf(B)===B:!1},enqueueSetState:function(B,X,me){B=B._reactInternals;var Ne=ds(),Xe=Ec(B),U=Hu(Ne,Xe);U.payload=X,me!=null&&(U.callback=me),X=Mc(B,U,Xe),X!==null&&(au(X,B,Xe,Ne),f0(X,B,Xe))},enqueueReplaceState:function(B,X,me){B=B._reactInternals;var Ne=ds(),Xe=Ec(B),U=Hu(Ne,Xe);U.tag=1,U.payload=X,me!=null&&(U.callback=me),X=Mc(B,U,Xe),X!==null&&(au(X,B,Xe,Ne),f0(X,B,Xe))},enqueueForceUpdate:function(B,X){B=B._reactInternals;var me=ds(),Ne=Ec(B),Xe=Hu(me,Ne);Xe.tag=2,X!=null&&(Xe.callback=X),X=Mc(B,Xe,Ne),X!==null&&(au(X,B,Ne,me),f0(X,B,Ne))}};function Hx(B,X,me,Ne,Xe,U,C){return B=B.stateNode,typeof B.shouldComponentUpdate=="function"?B.shouldComponentUpdate(Ne,U,C):X.prototype&&X.prototype.isPureReactComponent?!Ip(me,Ne)||!Ip(Xe,U):!0}function f_(B,X,me){var Ne=!1,Xe=Pc,U=X.contextType;return typeof U=="object"&&U!==null?U=Il(U):(Xe=js(X)?hf:Zo.current,Ne=X.contextTypes,U=(Ne=Ne!=null)?_h(B,Xe):Pc),X=new X(me,U),B.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=J0,B.stateNode=X,X._reactInternals=B,Ne&&(B=B.stateNode,B.__reactInternalMemoizedUnmaskedChildContext=Xe,B.__reactInternalMemoizedMaskedChildContext=U),X}function qx(B,X,me,Ne){B=X.state,typeof X.componentWillReceiveProps=="function"&&X.componentWillReceiveProps(me,Ne),typeof X.UNSAFE_componentWillReceiveProps=="function"&&X.UNSAFE_componentWillReceiveProps(me,Ne),X.state!==B&&J0.enqueueReplaceState(X,X.state,null)}function $1(B,X,me,Ne){var Xe=B.stateNode;Xe.props=me,Xe.state=B.memoizedState,Xe.refs={},$v(B);var U=X.contextType;typeof U=="object"&&U!==null?Xe.context=Il(U):(U=js(X)?hf:Zo.current,Xe.context=_h(B,U)),Xe.state=B.memoizedState,U=X.getDerivedStateFromProps,typeof U=="function"&&(J1(B,X,U,me),Xe.state=B.memoizedState),typeof X.getDerivedStateFromProps=="function"||typeof Xe.getSnapshotBeforeUpdate=="function"||typeof Xe.UNSAFE_componentWillMount!="function"&&typeof Xe.componentWillMount!="function"||(X=Xe.state,typeof Xe.componentWillMount=="function"&&Xe.componentWillMount(),typeof Xe.UNSAFE_componentWillMount=="function"&&Xe.UNSAFE_componentWillMount(),X!==Xe.state&&J0.enqueueReplaceState(Xe,Xe.state,null),I0(B,me,Xe,Ne),Xe.state=B.memoizedState),typeof Xe.componentDidMount=="function"&&(B.flags|=4194308)}function Ah(B,X){try{var me="",Ne=X;do me+=g4(Ne),Ne=Ne.return;while(Ne);var Xe=me}catch(U){Xe=`
Error generating stack: `+U.message+`
`+U.stack}return{value:B,source:X,stack:Xe,digest:null}}function g1(B,X,me){return{value:B,source:null,stack:me??null,digest:X??null}}function Q1(B,X){try{console.error(X.value)}catch(me){setTimeout(function(){throw me})}}var V5=typeof WeakMap=="function"?WeakMap:Map;function h_(B,X,me){me=Hu(-1,me),me.tag=3,me.payload={element:null};var Ne=X.value;return me.callback=function(){B0||(B0=!0,uv=Ne),Q1(B,X)},me}function p_(B,X,me){me=Hu(-1,me),me.tag=3;var Ne=B.type.getDerivedStateFromError;if(typeof Ne=="function"){var Xe=X.value;me.payload=function(){return Ne(Xe)},me.callback=function(){Q1(B,X)}}var U=B.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(me.callback=function(){Q1(B,X),typeof Ne!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var C=X.stack;this.componentDidCatch(X.value,{componentStack:C!==null?C:""})}),me}function Gx(B,X,me){var Ne=B.pingCache;if(Ne===null){Ne=B.pingCache=new V5;var Xe=new Set;Ne.set(X,Xe)}else Xe=Ne.get(X),Xe===void 0&&(Xe=new Set,Ne.set(X,Xe));Xe.has(me)||(Xe.add(me),B=n6.bind(null,B,X,me),X.then(B,B))}function Wx(B){do{var X;if((X=B.tag===13)&&(X=B.memoizedState,X=X!==null?X.dehydrated!==null:!0),X)return B;B=B.return}while(B!==null);return null}function Yx(B,X,me,Ne,Xe){return B.mode&1?(B.flags|=65536,B.lanes=Xe,B):(B===X?B.flags|=65536:(B.flags|=128,me.flags|=131072,me.flags&=-52805,me.tag===1&&(me.alternate===null?me.tag=17:(X=Hu(-1,1),X.tag=2,Mc(me,X,1))),me.lanes|=1),B)}var H5=Zu.ReactCurrentOwner,Bs=!1;function hs(B,X,me,Ne){X.child=B===null?Vb(X,null,me,Ne):Th(X,B.child,me,Ne)}function Zx(B,X,me,Ne,Xe){me=me.render;var U=X.ref;return ih(X,Xe),Ne=rm(B,X,me,Ne,U,Xe),me=im(),B!==null&&!Bs?(X.updateQueue=B.updateQueue,X.flags&=-2053,B.lanes&=~Xe,Yu(B,X,Xe)):(ha&&me&&Gv(X),X.flags|=1,hs(B,X,Ne,Xe),X.child)}function Xx(B,X,me,Ne,Xe){if(B===null){var U=me.type;return typeof U=="function"&&!dm(U)&&U.defaultProps===void 0&&me.compare===null&&me.defaultProps===void 0?(X.tag=15,X.type=U,d_(B,X,U,Ne,Xe)):(B=m0(me.type,null,Ne,X,X.mode,Xe),B.ref=X.ref,B.return=X,X.child=B)}if(U=B.child,!(B.lanes&Xe)){var C=U.memoizedProps;if(me=me.compare,me=me!==null?me:Ip,me(C,Ne)&&B.ref===X.ref)return Yu(B,X,Xe)}return X.flags|=1,B=Lc(U,Ne),B.ref=X.ref,B.return=X,X.child=B}function d_(B,X,me,Ne,Xe){if(B!==null){var U=B.memoizedProps;if(Ip(U,Ne)&&B.ref===X.ref)if(Bs=!1,X.pendingProps=Ne=U,(B.lanes&Xe)!==0)B.flags&131072&&(Bs=!0);else return X.lanes=B.lanes,Yu(B,X,Xe)}return ev(B,X,me,Ne,Xe)}function g_(B,X,me){var Ne=X.pendingProps,Xe=Ne.children,U=B!==null?B.memoizedState:null;if(Ne.mode==="hidden")if(!(X.mode&1))X.memoizedState={baseLanes:0,cachePool:null,transitions:null},ra(Qf,il),il|=me;else{if(!(me&1073741824))return B=U!==null?U.baseLanes|me:me,X.lanes=X.childLanes=1073741824,X.memoizedState={baseLanes:B,cachePool:null,transitions:null},X.updateQueue=null,ra(Qf,il),il|=B,null;X.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne=U!==null?U.baseLanes:me,ra(Qf,il),il|=Ne}else U!==null?(Ne=U.baseLanes|me,X.memoizedState=null):Ne=me,ra(Qf,il),il|=Ne;return hs(B,X,Xe,me),X.child}function v_(B,X){var me=X.ref;(B===null&&me!==null||B!==null&&B.ref!==me)&&(X.flags|=512,X.flags|=2097152)}function ev(B,X,me,Ne,Xe){var U=js(me)?hf:Zo.current;return U=_h(X,U),ih(X,Xe),me=rm(B,X,me,Ne,U,Xe),Ne=im(),B!==null&&!Bs?(X.updateQueue=B.updateQueue,X.flags&=-2053,B.lanes&=~Xe,Yu(B,X,Xe)):(ha&&Ne&&Gv(X),X.flags|=1,hs(B,X,me,Xe),X.child)}function Kx(B,X,me,Ne,Xe){if(js(me)){var U=!0;E0(X)}else U=!1;if(ih(X,Xe),X.stateNode===null)d0(B,X),f_(X,me,Ne),$1(X,me,Ne,Xe),Ne=!0;else if(B===null){var C=X.stateNode,e=X.memoizedProps;C.props=e;var k=C.context,A=me.contextType;typeof A=="object"&&A!==null?A=Il(A):(A=js(me)?hf:Zo.current,A=_h(X,A));var o=me.getDerivedStateFromProps,w=typeof o=="function"||typeof C.getSnapshotBeforeUpdate=="function";w||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(e!==Ne||k!==A)&&qx(X,C,Ne,A),fc=!1;var b=X.memoizedState;C.state=b,I0(X,Ne,C,Xe),k=X.memoizedState,e!==Ne||b!==k||Ns.current||fc?(typeof o=="function"&&(J1(X,me,o,Ne),k=X.memoizedState),(e=fc||Hx(X,me,e,Ne,b,k,A))?(w||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(X.flags|=4194308)):(typeof C.componentDidMount=="function"&&(X.flags|=4194308),X.memoizedProps=Ne,X.memoizedState=k),C.props=Ne,C.state=k,C.context=A,Ne=e):(typeof C.componentDidMount=="function"&&(X.flags|=4194308),Ne=!1)}else{C=X.stateNode,qb(B,X),e=X.memoizedProps,A=X.type===X.elementType?e:Ql(X.type,e),C.props=A,w=X.pendingProps,b=C.context,k=me.contextType,typeof k=="object"&&k!==null?k=Il(k):(k=js(me)?hf:Zo.current,k=_h(X,k));var f=me.getDerivedStateFromProps;(o=typeof f=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(e!==w||b!==k)&&qx(X,C,Ne,k),fc=!1,b=X.memoizedState,C.state=b,I0(X,Ne,C,Xe);var s=X.memoizedState;e!==w||b!==s||Ns.current||fc?(typeof f=="function"&&(J1(X,me,f,Ne),s=X.memoizedState),(A=fc||Hx(X,me,A,Ne,b,s,k)||!1)?(o||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(Ne,s,k),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(Ne,s,k)),typeof C.componentDidUpdate=="function"&&(X.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(X.flags|=1024)):(typeof C.componentDidUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(X.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(X.flags|=1024),X.memoizedProps=Ne,X.memoizedState=s),C.props=Ne,C.state=s,C.context=k,Ne=A):(typeof C.componentDidUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(X.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(X.flags|=1024),Ne=!1)}return tv(B,X,me,Ne,U,Xe)}function tv(B,X,me,Ne,Xe,U){v_(B,X);var C=(X.flags&128)!==0;if(!Ne&&!C)return Xe&&Dx(X,me,!1),Yu(B,X,U);Ne=X.stateNode,H5.current=X;var e=C&&typeof me.getDerivedStateFromError!="function"?null:Ne.render();return X.flags|=1,B!==null&&C?(X.child=Th(X,B.child,null,U),X.child=Th(X,null,e,U)):hs(B,X,e,U),X.memoizedState=Ne.state,Xe&&Dx(X,me,!0),X.child}function m_(B){var X=B.stateNode;X.pendingContext?zx(B,X.pendingContext,X.pendingContext!==X.context):X.context&&zx(B,X.context,!1),Qv(B,X.containerInfo)}function Jx(B,X,me,Ne,Xe){return wh(),Yv(Xe),X.flags|=256,hs(B,X,me,Ne),X.child}var nv={dehydrated:null,treeContext:null,retryLane:0};function rv(B){return{baseLanes:B,cachePool:null,transitions:null}}function y_(B,X,me){var Ne=X.pendingProps,Xe=_a.current,U=!1,C=(X.flags&128)!==0,e;if((e=C)||(e=B!==null&&B.memoizedState===null?!1:(Xe&2)!==0),e?(U=!0,X.flags&=-129):(B===null||B.memoizedState!==null)&&(Xe|=1),ra(_a,Xe&1),B===null)return X1(X),B=X.memoizedState,B!==null&&(B=B.dehydrated,B!==null)?(X.mode&1?B.data==="$!"?X.lanes=8:X.lanes=1073741824:X.lanes=1,null):(C=Ne.children,B=Ne.fallback,U?(Ne=X.mode,U=X.child,C={mode:"hidden",children:C},!(Ne&1)&&U!==null?(U.childLanes=0,U.pendingProps=C):U=eg(C,Ne,0,null),B=ff(B,Ne,me,null),U.return=X,B.return=X,U.sibling=B,X.child=U,X.child.memoizedState=rv(me),X.memoizedState=nv,B):sm(X,C));if(Xe=B.memoizedState,Xe!==null&&(e=Xe.dehydrated,e!==null))return q5(B,X,C,Ne,e,Xe,me);if(U){U=Ne.fallback,C=X.mode,Xe=B.child,e=Xe.sibling;var k={mode:"hidden",children:Ne.children};return!(C&1)&&X.child!==Xe?(Ne=X.child,Ne.childLanes=0,Ne.pendingProps=k,X.deletions=null):(Ne=Lc(Xe,k),Ne.subtreeFlags=Xe.subtreeFlags&14680064),e!==null?U=Lc(e,U):(U=ff(U,C,me,null),U.flags|=2),U.return=X,Ne.return=X,Ne.sibling=U,X.child=Ne,Ne=U,U=X.child,C=B.child.memoizedState,C=C===null?rv(me):{baseLanes:C.baseLanes|me,cachePool:null,transitions:C.transitions},U.memoizedState=C,U.childLanes=B.childLanes&~me,X.memoizedState=nv,Ne}return U=B.child,B=U.sibling,Ne=Lc(U,{mode:"visible",children:Ne.children}),!(X.mode&1)&&(Ne.lanes=me),Ne.return=X,Ne.sibling=null,B!==null&&(me=X.deletions,me===null?(X.deletions=[B],X.flags|=16):me.push(B)),X.child=Ne,X.memoizedState=null,Ne}function sm(B,X){return X=eg({mode:"visible",children:X},B.mode,0,null),X.return=B,B.child=X}function t0(B,X,me,Ne){return Ne!==null&&Yv(Ne),Th(X,B.child,null,me),B=sm(X,X.pendingProps.children),B.flags|=2,X.memoizedState=null,B}function q5(B,X,me,Ne,Xe,U,C){if(me)return X.flags&256?(X.flags&=-257,Ne=g1(Error(Tr(422))),t0(B,X,C,Ne)):X.memoizedState!==null?(X.child=B.child,X.flags|=128,null):(U=Ne.fallback,Xe=X.mode,Ne=eg({mode:"visible",children:Ne.children},Xe,0,null),U=ff(U,Xe,C,null),U.flags|=2,Ne.return=X,U.return=X,Ne.sibling=U,X.child=Ne,X.mode&1&&Th(X,B.child,null,C),X.child.memoizedState=rv(C),X.memoizedState=nv,U);if(!(X.mode&1))return t0(B,X,C,null);if(Xe.data==="$!"){if(Ne=Xe.nextSibling&&Xe.nextSibling.dataset,Ne)var e=Ne.dgst;return Ne=e,U=Error(Tr(419)),Ne=g1(U,Ne,void 0),t0(B,X,C,Ne)}if(e=(C&B.childLanes)!==0,Bs||e){if(Ne=ho,Ne!==null){switch(C&-C){case 4:Xe=2;break;case 16:Xe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Xe=32;break;case 536870912:Xe=268435456;break;default:Xe=0}Xe=Xe&(Ne.suspendedLanes|C)?0:Xe,Xe!==0&&Xe!==U.retryLane&&(U.retryLane=Xe,Wu(B,Xe),au(Ne,B,Xe,-1))}return pm(),Ne=g1(Error(Tr(421))),t0(B,X,C,Ne)}return Xe.data==="$?"?(X.flags|=128,X.child=B.child,X=r6.bind(null,B),Xe._reactRetry=X,null):(B=U.treeContext,al=Ac(Xe.nextSibling),ol=X,ha=!0,nu=null,B!==null&&(Ll[Cl++]=Uu,Ll[Cl++]=Vu,Ll[Cl++]=pf,Uu=B.id,Vu=B.overflow,pf=X),X=sm(X,Ne.children),X.flags|=4096,X)}function $x(B,X,me){B.lanes|=X;var Ne=B.alternate;Ne!==null&&(Ne.lanes|=X),K1(B.return,X,me)}function v1(B,X,me,Ne,Xe){var U=B.memoizedState;U===null?B.memoizedState={isBackwards:X,rendering:null,renderingStartTime:0,last:Ne,tail:me,tailMode:Xe}:(U.isBackwards=X,U.rendering=null,U.renderingStartTime=0,U.last=Ne,U.tail=me,U.tailMode=Xe)}function x_(B,X,me){var Ne=X.pendingProps,Xe=Ne.revealOrder,U=Ne.tail;if(hs(B,X,Ne.children,me),Ne=_a.current,Ne&2)Ne=Ne&1|2,X.flags|=128;else{if(B!==null&&B.flags&128)e:for(B=X.child;B!==null;){if(B.tag===13)B.memoizedState!==null&&$x(B,me,X);else if(B.tag===19)$x(B,me,X);else if(B.child!==null){B.child.return=B,B=B.child;continue}if(B===X)break e;for(;B.sibling===null;){if(B.return===null||B.return===X)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}Ne&=1}if(ra(_a,Ne),!(X.mode&1))X.memoizedState=null;else switch(Xe){case"forwards":for(me=X.child,Xe=null;me!==null;)B=me.alternate,B!==null&&z0(B)===null&&(Xe=me),me=me.sibling;me=Xe,me===null?(Xe=X.child,X.child=null):(Xe=me.sibling,me.sibling=null),v1(X,!1,Xe,me,U);break;case"backwards":for(me=null,Xe=X.child,X.child=null;Xe!==null;){if(B=Xe.alternate,B!==null&&z0(B)===null){X.child=Xe;break}B=Xe.sibling,Xe.sibling=me,me=Xe,Xe=B}v1(X,!0,me,null,U);break;case"together":v1(X,!1,null,null,void 0);break;default:X.memoizedState=null}return X.child}function d0(B,X){!(X.mode&1)&&B!==null&&(B.alternate=null,X.alternate=null,X.flags|=2)}function Yu(B,X,me){if(B!==null&&(X.dependencies=B.dependencies),gf|=X.lanes,!(me&X.childLanes))return null;if(B!==null&&X.child!==B.child)throw Error(Tr(153));if(X.child!==null){for(B=X.child,me=Lc(B,B.pendingProps),X.child=me,me.return=X;B.sibling!==null;)B=B.sibling,me=me.sibling=Lc(B,B.pendingProps),me.return=X;me.sibling=null}return X.child}function G5(B,X,me){switch(X.tag){case 3:m_(X),wh();break;case 5:Gb(X);break;case 1:js(X.type)&&E0(X);break;case 4:Qv(X,X.stateNode.containerInfo);break;case 10:var Ne=X.type._context,Xe=X.memoizedProps.value;ra(P0,Ne._currentValue),Ne._currentValue=Xe;break;case 13:if(Ne=X.memoizedState,Ne!==null)return Ne.dehydrated!==null?(ra(_a,_a.current&1),X.flags|=128,null):me&X.child.childLanes?y_(B,X,me):(ra(_a,_a.current&1),B=Yu(B,X,me),B!==null?B.sibling:null);ra(_a,_a.current&1);break;case 19:if(Ne=(me&X.childLanes)!==0,B.flags&128){if(Ne)return x_(B,X,me);X.flags|=128}if(Xe=X.memoizedState,Xe!==null&&(Xe.rendering=null,Xe.tail=null,Xe.lastEffect=null),ra(_a,_a.current),Ne)break;return null;case 22:case 23:return X.lanes=0,g_(B,X,me)}return Yu(B,X,me)}var b_,iv,__,w_;b_=function(B,X){for(var me=X.child;me!==null;){if(me.tag===5||me.tag===6)B.appendChild(me.stateNode);else if(me.tag!==4&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===X)break;for(;me.sibling===null;){if(me.return===null||me.return===X)return;me=me.return}me.sibling.return=me.return,me=me.sibling}};iv=function(){};__=function(B,X,me,Ne){var Xe=B.memoizedProps;if(Xe!==Ne){B=X.stateNode,tf(Su.current);var U=null;switch(me){case"input":Xe=M1(B,Xe),Ne=M1(B,Ne),U=[];break;case"select":Xe=Ta({},Xe,{value:void 0}),Ne=Ta({},Ne,{value:void 0}),U=[];break;case"textarea":Xe=L1(B,Xe),Ne=L1(B,Ne),U=[];break;default:typeof Xe.onClick!="function"&&typeof Ne.onClick=="function"&&(B.onclick=M0)}P1(me,Ne);var C;me=null;for(A in Xe)if(!Ne.hasOwnProperty(A)&&Xe.hasOwnProperty(A)&&Xe[A]!=null)if(A==="style"){var e=Xe[A];for(C in e)e.hasOwnProperty(C)&&(me||(me={}),me[C]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Mp.hasOwnProperty(A)?U||(U=[]):(U=U||[]).push(A,null));for(A in Ne){var k=Ne[A];if(e=Xe!=null?Xe[A]:void 0,Ne.hasOwnProperty(A)&&k!==e&&(k!=null||e!=null))if(A==="style")if(e){for(C in e)!e.hasOwnProperty(C)||k&&k.hasOwnProperty(C)||(me||(me={}),me[C]="");for(C in k)k.hasOwnProperty(C)&&e[C]!==k[C]&&(me||(me={}),me[C]=k[C])}else me||(U||(U=[]),U.push(A,me)),me=k;else A==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,e=e?e.__html:void 0,k!=null&&e!==k&&(U=U||[]).push(A,k)):A==="children"?typeof k!="string"&&typeof k!="number"||(U=U||[]).push(A,""+k):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(A)?(k!=null&&A==="onScroll"&&ca("scroll",B),U||e===k||(U=[])):(U=U||[]).push(A,k))}me&&(U=U||[]).push("style",me);var A=U;(X.updateQueue=A)&&(X.flags|=4)}};w_=function(B,X,me,Ne){me!==Ne&&(X.flags|=4)};function cp(B,X){if(!ha)switch(B.tailMode){case"hidden":X=B.tail;for(var me=null;X!==null;)X.alternate!==null&&(me=X),X=X.sibling;me===null?B.tail=null:me.sibling=null;break;case"collapsed":me=B.tail;for(var Ne=null;me!==null;)me.alternate!==null&&(Ne=me),me=me.sibling;Ne===null?X||B.tail===null?B.tail=null:B.tail.sibling=null:Ne.sibling=null}}function Go(B){var X=B.alternate!==null&&B.alternate.child===B.child,me=0,Ne=0;if(X)for(var Xe=B.child;Xe!==null;)me|=Xe.lanes|Xe.childLanes,Ne|=Xe.subtreeFlags&14680064,Ne|=Xe.flags&14680064,Xe.return=B,Xe=Xe.sibling;else for(Xe=B.child;Xe!==null;)me|=Xe.lanes|Xe.childLanes,Ne|=Xe.subtreeFlags,Ne|=Xe.flags,Xe.return=B,Xe=Xe.sibling;return B.subtreeFlags|=Ne,B.childLanes=me,X}function W5(B,X,me){var Ne=X.pendingProps;switch(Wv(X),X.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(X),null;case 1:return js(X.type)&&S0(),Go(X),null;case 3:return Ne=X.stateNode,kh(),fa(Ns),fa(Zo),tm(),Ne.pendingContext&&(Ne.context=Ne.pendingContext,Ne.pendingContext=null),(B===null||B.child===null)&&(Qd(X)?X.flags|=4:B===null||B.memoizedState.isDehydrated&&!(X.flags&256)||(X.flags|=1024,nu!==null&&(hv(nu),nu=null))),iv(B,X),Go(X),null;case 5:em(X);var Xe=tf(Bp.current);if(me=X.type,B!==null&&X.stateNode!=null)__(B,X,me,Ne,Xe),B.ref!==X.ref&&(X.flags|=512,X.flags|=2097152);else{if(!Ne){if(X.stateNode===null)throw Error(Tr(166));return Go(X),null}if(B=tf(Su.current),Qd(X)){Ne=X.stateNode,me=X.type;var U=X.memoizedProps;switch(Ne[Au]=X,Ne[Rp]=U,B=(X.mode&1)!==0,me){case"dialog":ca("cancel",Ne),ca("close",Ne);break;case"iframe":case"object":case"embed":ca("load",Ne);break;case"video":case"audio":for(Xe=0;Xe<gp.length;Xe++)ca(gp[Xe],Ne);break;case"source":ca("error",Ne);break;case"img":case"image":case"link":ca("error",Ne),ca("load",Ne);break;case"details":ca("toggle",Ne);break;case"input":sx(Ne,U),ca("invalid",Ne);break;case"select":Ne._wrapperState={wasMultiple:!!U.multiple},ca("invalid",Ne);break;case"textarea":ux(Ne,U),ca("invalid",Ne)}P1(me,U),Xe=null;for(var C in U)if(U.hasOwnProperty(C)){var e=U[C];C==="children"?typeof e=="string"?Ne.textContent!==e&&(U.suppressHydrationWarning!==!0&&$d(Ne.textContent,e,B),Xe=["children",e]):typeof e=="number"&&Ne.textContent!==""+e&&(U.suppressHydrationWarning!==!0&&$d(Ne.textContent,e,B),Xe=["children",""+e]):Mp.hasOwnProperty(C)&&e!=null&&C==="onScroll"&&ca("scroll",Ne)}switch(me){case"input":qd(Ne),lx(Ne,U,!0);break;case"textarea":qd(Ne),cx(Ne);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(Ne.onclick=M0)}Ne=Xe,X.updateQueue=Ne,Ne!==null&&(X.flags|=4)}else{C=Xe.nodeType===9?Xe:Xe.ownerDocument,B==="http://www.w3.org/1999/xhtml"&&(B=K2(me)),B==="http://www.w3.org/1999/xhtml"?me==="script"?(B=C.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild)):typeof Ne.is=="string"?B=C.createElement(me,{is:Ne.is}):(B=C.createElement(me),me==="select"&&(C=B,Ne.multiple?C.multiple=!0:Ne.size&&(C.size=Ne.size))):B=C.createElementNS(B,me),B[Au]=X,B[Rp]=Ne,b_(B,X,!1,!1),X.stateNode=B;e:{switch(C=O1(me,Ne),me){case"dialog":ca("cancel",B),ca("close",B),Xe=Ne;break;case"iframe":case"object":case"embed":ca("load",B),Xe=Ne;break;case"video":case"audio":for(Xe=0;Xe<gp.length;Xe++)ca(gp[Xe],B);Xe=Ne;break;case"source":ca("error",B),Xe=Ne;break;case"img":case"image":case"link":ca("error",B),ca("load",B),Xe=Ne;break;case"details":ca("toggle",B),Xe=Ne;break;case"input":sx(B,Ne),Xe=M1(B,Ne),ca("invalid",B);break;case"option":Xe=Ne;break;case"select":B._wrapperState={wasMultiple:!!Ne.multiple},Xe=Ta({},Ne,{value:void 0}),ca("invalid",B);break;case"textarea":ux(B,Ne),Xe=L1(B,Ne),ca("invalid",B);break;default:Xe=Ne}P1(me,Xe),e=Xe;for(U in e)if(e.hasOwnProperty(U)){var k=e[U];U==="style"?Q2(B,k):U==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&J2(B,k)):U==="children"?typeof k=="string"?(me!=="textarea"||k!=="")&&Sp(B,k):typeof k=="number"&&Sp(B,""+k):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(Mp.hasOwnProperty(U)?k!=null&&U==="onScroll"&&ca("scroll",B):k!=null&&Pv(B,U,k,C))}switch(me){case"input":qd(B),lx(B,Ne,!1);break;case"textarea":qd(B),cx(B);break;case"option":Ne.value!=null&&B.setAttribute("value",""+Cc(Ne.value));break;case"select":B.multiple=!!Ne.multiple,U=Ne.value,U!=null?eh(B,!!Ne.multiple,U,!1):Ne.defaultValue!=null&&eh(B,!!Ne.multiple,Ne.defaultValue,!0);break;default:typeof Xe.onClick=="function"&&(B.onclick=M0)}switch(me){case"button":case"input":case"select":case"textarea":Ne=!!Ne.autoFocus;break e;case"img":Ne=!0;break e;default:Ne=!1}}Ne&&(X.flags|=4)}X.ref!==null&&(X.flags|=512,X.flags|=2097152)}return Go(X),null;case 6:if(B&&X.stateNode!=null)w_(B,X,B.memoizedProps,Ne);else{if(typeof Ne!="string"&&X.stateNode===null)throw Error(Tr(166));if(me=tf(Bp.current),tf(Su.current),Qd(X)){if(Ne=X.stateNode,me=X.memoizedProps,Ne[Au]=X,(U=Ne.nodeValue!==me)&&(B=ol,B!==null))switch(B.tag){case 3:$d(Ne.nodeValue,me,(B.mode&1)!==0);break;case 5:B.memoizedProps.suppressHydrationWarning!==!0&&$d(Ne.nodeValue,me,(B.mode&1)!==0)}U&&(X.flags|=4)}else Ne=(me.nodeType===9?me:me.ownerDocument).createTextNode(Ne),Ne[Au]=X,X.stateNode=Ne}return Go(X),null;case 13:if(fa(_a),Ne=X.memoizedState,B===null||B.memoizedState!==null&&B.memoizedState.dehydrated!==null){if(ha&&al!==null&&X.mode&1&&!(X.flags&128))jb(),wh(),X.flags|=98560,U=!1;else if(U=Qd(X),Ne!==null&&Ne.dehydrated!==null){if(B===null){if(!U)throw Error(Tr(318));if(U=X.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(Tr(317));U[Au]=X}else wh(),!(X.flags&128)&&(X.memoizedState=null),X.flags|=4;Go(X),U=!1}else nu!==null&&(hv(nu),nu=null),U=!0;if(!U)return X.flags&65536?X:null}return X.flags&128?(X.lanes=me,X):(Ne=Ne!==null,Ne!==(B!==null&&B.memoizedState!==null)&&Ne&&(X.child.flags|=8192,X.mode&1&&(B===null||_a.current&1?eo===0&&(eo=3):pm())),X.updateQueue!==null&&(X.flags|=4),Go(X),null);case 4:return kh(),iv(B,X),B===null&&zp(X.stateNode.containerInfo),Go(X),null;case 10:return Kv(X.type._context),Go(X),null;case 17:return js(X.type)&&S0(),Go(X),null;case 19:if(fa(_a),U=X.memoizedState,U===null)return Go(X),null;if(Ne=(X.flags&128)!==0,C=U.rendering,C===null)if(Ne)cp(U,!1);else{if(eo!==0||B!==null&&B.flags&128)for(B=X.child;B!==null;){if(C=z0(B),C!==null){for(X.flags|=128,cp(U,!1),Ne=C.updateQueue,Ne!==null&&(X.updateQueue=Ne,X.flags|=4),X.subtreeFlags=0,Ne=me,me=X.child;me!==null;)U=me,B=Ne,U.flags&=14680066,C=U.alternate,C===null?(U.childLanes=0,U.lanes=B,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=C.childLanes,U.lanes=C.lanes,U.child=C.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=C.memoizedProps,U.memoizedState=C.memoizedState,U.updateQueue=C.updateQueue,U.type=C.type,B=C.dependencies,U.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),me=me.sibling;return ra(_a,_a.current&1|2),X.child}B=B.sibling}U.tail!==null&&ja()>Mh&&(X.flags|=128,Ne=!0,cp(U,!1),X.lanes=4194304)}else{if(!Ne)if(B=z0(C),B!==null){if(X.flags|=128,Ne=!0,me=B.updateQueue,me!==null&&(X.updateQueue=me,X.flags|=4),cp(U,!0),U.tail===null&&U.tailMode==="hidden"&&!C.alternate&&!ha)return Go(X),null}else 2*ja()-U.renderingStartTime>Mh&&me!==1073741824&&(X.flags|=128,Ne=!0,cp(U,!1),X.lanes=4194304);U.isBackwards?(C.sibling=X.child,X.child=C):(me=U.last,me!==null?me.sibling=C:X.child=C,U.last=C)}return U.tail!==null?(X=U.tail,U.rendering=X,U.tail=X.sibling,U.renderingStartTime=ja(),X.sibling=null,me=_a.current,ra(_a,Ne?me&1|2:me&1),X):(Go(X),null);case 22:case 23:return hm(),Ne=X.memoizedState!==null,B!==null&&B.memoizedState!==null!==Ne&&(X.flags|=8192),Ne&&X.mode&1?il&1073741824&&(Go(X),X.subtreeFlags&6&&(X.flags|=8192)):Go(X),null;case 24:return null;case 25:return null}throw Error(Tr(156,X.tag))}function Y5(B,X){switch(Wv(X),X.tag){case 1:return js(X.type)&&S0(),B=X.flags,B&65536?(X.flags=B&-65537|128,X):null;case 3:return kh(),fa(Ns),fa(Zo),tm(),B=X.flags,B&65536&&!(B&128)?(X.flags=B&-65537|128,X):null;case 5:return em(X),null;case 13:if(fa(_a),B=X.memoizedState,B!==null&&B.dehydrated!==null){if(X.alternate===null)throw Error(Tr(340));wh()}return B=X.flags,B&65536?(X.flags=B&-65537|128,X):null;case 19:return fa(_a),null;case 4:return kh(),null;case 10:return Kv(X.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var n0=!1,Yo=!1,Z5=typeof WeakSet=="function"?WeakSet:Set,Br=null;function $f(B,X){var me=B.ref;if(me!==null)if(typeof me=="function")try{me(null)}catch(Ne){Ca(B,X,Ne)}else me.current=null}function av(B,X,me){try{me()}catch(Ne){Ca(B,X,Ne)}}var Qx=!1;function X5(B,X){if(V1=T0,B=Sb(),qv(B)){if("selectionStart"in B)var me={start:B.selectionStart,end:B.selectionEnd};else e:{me=(me=B.ownerDocument)&&me.defaultView||window;var Ne=me.getSelection&&me.getSelection();if(Ne&&Ne.rangeCount!==0){me=Ne.anchorNode;var Xe=Ne.anchorOffset,U=Ne.focusNode;Ne=Ne.focusOffset;try{me.nodeType,U.nodeType}catch{me=null;break e}var C=0,e=-1,k=-1,A=0,o=0,w=B,b=null;t:for(;;){for(var f;w!==me||Xe!==0&&w.nodeType!==3||(e=C+Xe),w!==U||Ne!==0&&w.nodeType!==3||(k=C+Ne),w.nodeType===3&&(C+=w.nodeValue.length),(f=w.firstChild)!==null;)b=w,w=f;for(;;){if(w===B)break t;if(b===me&&++A===Xe&&(e=C),b===U&&++o===Ne&&(k=C),(f=w.nextSibling)!==null)break;w=b,b=w.parentNode}w=f}me=e===-1||k===-1?null:{start:e,end:k}}else me=null}me=me||{start:0,end:0}}else me=null;for(H1={focusedElem:B,selectionRange:me},T0=!1,Br=X;Br!==null;)if(X=Br,B=X.child,(X.subtreeFlags&1028)!==0&&B!==null)B.return=X,Br=B;else for(;Br!==null;){X=Br;try{var s=X.alternate;if(X.flags&1024)switch(X.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var n=s.memoizedProps,i=s.memoizedState,r=X.stateNode,t=r.getSnapshotBeforeUpdate(X.elementType===X.type?n:Ql(X.type,n),i);r.__reactInternalSnapshotBeforeUpdate=t}break;case 3:var a=X.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tr(163))}}catch(l){Ca(X,X.return,l)}if(B=X.sibling,B!==null){B.return=X.return,Br=B;break}Br=X.return}return s=Qx,Qx=!1,s}function Tp(B,X,me){var Ne=X.updateQueue;if(Ne=Ne!==null?Ne.lastEffect:null,Ne!==null){var Xe=Ne=Ne.next;do{if((Xe.tag&B)===B){var U=Xe.destroy;Xe.destroy=void 0,U!==void 0&&av(X,me,U)}Xe=Xe.next}while(Xe!==Ne)}}function $0(B,X){if(X=X.updateQueue,X=X!==null?X.lastEffect:null,X!==null){var me=X=X.next;do{if((me.tag&B)===B){var Ne=me.create;me.destroy=Ne()}me=me.next}while(me!==X)}}function ov(B){var X=B.ref;if(X!==null){var me=B.stateNode;switch(B.tag){case 5:B=me;break;default:B=me}typeof X=="function"?X(B):X.current=B}}function T_(B){var X=B.alternate;X!==null&&(B.alternate=null,T_(X)),B.child=null,B.deletions=null,B.sibling=null,B.tag===5&&(X=B.stateNode,X!==null&&(delete X[Au],delete X[Rp],delete X[W1],delete X[P5],delete X[O5])),B.stateNode=null,B.return=null,B.dependencies=null,B.memoizedProps=null,B.memoizedState=null,B.pendingProps=null,B.stateNode=null,B.updateQueue=null}function k_(B){return B.tag===5||B.tag===3||B.tag===4}function e2(B){e:for(;;){for(;B.sibling===null;){if(B.return===null||k_(B.return))return null;B=B.return}for(B.sibling.return=B.return,B=B.sibling;B.tag!==5&&B.tag!==6&&B.tag!==18;){if(B.flags&2||B.child===null||B.tag===4)continue e;B.child.return=B,B=B.child}if(!(B.flags&2))return B.stateNode}}function sv(B,X,me){var Ne=B.tag;if(Ne===5||Ne===6)B=B.stateNode,X?me.nodeType===8?me.parentNode.insertBefore(B,X):me.insertBefore(B,X):(me.nodeType===8?(X=me.parentNode,X.insertBefore(B,me)):(X=me,X.appendChild(B)),me=me._reactRootContainer,me!=null||X.onclick!==null||(X.onclick=M0));else if(Ne!==4&&(B=B.child,B!==null))for(sv(B,X,me),B=B.sibling;B!==null;)sv(B,X,me),B=B.sibling}function lv(B,X,me){var Ne=B.tag;if(Ne===5||Ne===6)B=B.stateNode,X?me.insertBefore(B,X):me.appendChild(B);else if(Ne!==4&&(B=B.child,B!==null))for(lv(B,X,me),B=B.sibling;B!==null;)lv(B,X,me),B=B.sibling}var Mo=null,tu=!1;function lc(B,X,me){for(me=me.child;me!==null;)A_(B,X,me),me=me.sibling}function A_(B,X,me){if(Mu&&typeof Mu.onCommitFiberUnmount=="function")try{Mu.onCommitFiberUnmount(q0,me)}catch{}switch(me.tag){case 5:Yo||$f(me,X);case 6:var Ne=Mo,Xe=tu;Mo=null,lc(B,X,me),Mo=Ne,tu=Xe,Mo!==null&&(tu?(B=Mo,me=me.stateNode,B.nodeType===8?B.parentNode.removeChild(me):B.removeChild(me)):Mo.removeChild(me.stateNode));break;case 18:Mo!==null&&(tu?(B=Mo,me=me.stateNode,B.nodeType===8?u1(B.parentNode,me):B.nodeType===1&&u1(B,me),Pp(B)):u1(Mo,me.stateNode));break;case 4:Ne=Mo,Xe=tu,Mo=me.stateNode.containerInfo,tu=!0,lc(B,X,me),Mo=Ne,tu=Xe;break;case 0:case 11:case 14:case 15:if(!Yo&&(Ne=me.updateQueue,Ne!==null&&(Ne=Ne.lastEffect,Ne!==null))){Xe=Ne=Ne.next;do{var U=Xe,C=U.destroy;U=U.tag,C!==void 0&&(U&2||U&4)&&av(me,X,C),Xe=Xe.next}while(Xe!==Ne)}lc(B,X,me);break;case 1:if(!Yo&&($f(me,X),Ne=me.stateNode,typeof Ne.componentWillUnmount=="function"))try{Ne.props=me.memoizedProps,Ne.state=me.memoizedState,Ne.componentWillUnmount()}catch(e){Ca(me,X,e)}lc(B,X,me);break;case 21:lc(B,X,me);break;case 22:me.mode&1?(Yo=(Ne=Yo)||me.memoizedState!==null,lc(B,X,me),Yo=Ne):lc(B,X,me);break;default:lc(B,X,me)}}function t2(B){var X=B.updateQueue;if(X!==null){B.updateQueue=null;var me=B.stateNode;me===null&&(me=B.stateNode=new Z5),X.forEach(function(Ne){var Xe=i6.bind(null,B,Ne);me.has(Ne)||(me.add(Ne),Ne.then(Xe,Xe))})}}function $l(B,X){var me=X.deletions;if(me!==null)for(var Ne=0;Ne<me.length;Ne++){var Xe=me[Ne];try{var U=B,C=X,e=C;e:for(;e!==null;){switch(e.tag){case 5:Mo=e.stateNode,tu=!1;break e;case 3:Mo=e.stateNode.containerInfo,tu=!0;break e;case 4:Mo=e.stateNode.containerInfo,tu=!0;break e}e=e.return}if(Mo===null)throw Error(Tr(160));A_(U,C,Xe),Mo=null,tu=!1;var k=Xe.alternate;k!==null&&(k.return=null),Xe.return=null}catch(A){Ca(Xe,X,A)}}if(X.subtreeFlags&12854)for(X=X.child;X!==null;)M_(X,B),X=X.sibling}function M_(B,X){var me=B.alternate,Ne=B.flags;switch(B.tag){case 0:case 11:case 14:case 15:if($l(X,B),xu(B),Ne&4){try{Tp(3,B,B.return),$0(3,B)}catch(n){Ca(B,B.return,n)}try{Tp(5,B,B.return)}catch(n){Ca(B,B.return,n)}}break;case 1:$l(X,B),xu(B),Ne&512&&me!==null&&$f(me,me.return);break;case 5:if($l(X,B),xu(B),Ne&512&&me!==null&&$f(me,me.return),B.flags&32){var Xe=B.stateNode;try{Sp(Xe,"")}catch(n){Ca(B,B.return,n)}}if(Ne&4&&(Xe=B.stateNode,Xe!=null)){var U=B.memoizedProps,C=me!==null?me.memoizedProps:U,e=B.type,k=B.updateQueue;if(B.updateQueue=null,k!==null)try{e==="input"&&U.type==="radio"&&U.name!=null&&Z2(Xe,U),O1(e,C);var A=O1(e,U);for(C=0;C<k.length;C+=2){var o=k[C],w=k[C+1];o==="style"?Q2(Xe,w):o==="dangerouslySetInnerHTML"?J2(Xe,w):o==="children"?Sp(Xe,w):Pv(Xe,o,w,A)}switch(e){case"input":S1(Xe,U);break;case"textarea":X2(Xe,U);break;case"select":var b=Xe._wrapperState.wasMultiple;Xe._wrapperState.wasMultiple=!!U.multiple;var f=U.value;f!=null?eh(Xe,!!U.multiple,f,!1):b!==!!U.multiple&&(U.defaultValue!=null?eh(Xe,!!U.multiple,U.defaultValue,!0):eh(Xe,!!U.multiple,U.multiple?[]:"",!1))}Xe[Rp]=U}catch(n){Ca(B,B.return,n)}}break;case 6:if($l(X,B),xu(B),Ne&4){if(B.stateNode===null)throw Error(Tr(162));Xe=B.stateNode,U=B.memoizedProps;try{Xe.nodeValue=U}catch(n){Ca(B,B.return,n)}}break;case 3:if($l(X,B),xu(B),Ne&4&&me!==null&&me.memoizedState.isDehydrated)try{Pp(X.containerInfo)}catch(n){Ca(B,B.return,n)}break;case 4:$l(X,B),xu(B);break;case 13:$l(X,B),xu(B),Xe=B.child,Xe.flags&8192&&(U=Xe.memoizedState!==null,Xe.stateNode.isHidden=U,!U||Xe.alternate!==null&&Xe.alternate.memoizedState!==null||(cm=ja())),Ne&4&&t2(B);break;case 22:if(o=me!==null&&me.memoizedState!==null,B.mode&1?(Yo=(A=Yo)||o,$l(X,B),Yo=A):$l(X,B),xu(B),Ne&8192){if(A=B.memoizedState!==null,(B.stateNode.isHidden=A)&&!o&&B.mode&1)for(Br=B,o=B.child;o!==null;){for(w=Br=o;Br!==null;){switch(b=Br,f=b.child,b.tag){case 0:case 11:case 14:case 15:Tp(4,b,b.return);break;case 1:$f(b,b.return);var s=b.stateNode;if(typeof s.componentWillUnmount=="function"){Ne=b,me=b.return;try{X=Ne,s.props=X.memoizedProps,s.state=X.memoizedState,s.componentWillUnmount()}catch(n){Ca(Ne,me,n)}}break;case 5:$f(b,b.return);break;case 22:if(b.memoizedState!==null){r2(w);continue}}f!==null?(f.return=b,Br=f):r2(w)}o=o.sibling}e:for(o=null,w=B;;){if(w.tag===5){if(o===null){o=w;try{Xe=w.stateNode,A?(U=Xe.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(e=w.stateNode,k=w.memoizedProps.style,C=k!=null&&k.hasOwnProperty("display")?k.display:null,e.style.display=$2("display",C))}catch(n){Ca(B,B.return,n)}}}else if(w.tag===6){if(o===null)try{w.stateNode.nodeValue=A?"":w.memoizedProps}catch(n){Ca(B,B.return,n)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===B)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===B)break e;for(;w.sibling===null;){if(w.return===null||w.return===B)break e;o===w&&(o=null),w=w.return}o===w&&(o=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:$l(X,B),xu(B),Ne&4&&t2(B);break;case 21:break;default:$l(X,B),xu(B)}}function xu(B){var X=B.flags;if(X&2){try{e:{for(var me=B.return;me!==null;){if(k_(me)){var Ne=me;break e}me=me.return}throw Error(Tr(160))}switch(Ne.tag){case 5:var Xe=Ne.stateNode;Ne.flags&32&&(Sp(Xe,""),Ne.flags&=-33);var U=e2(B);lv(B,U,Xe);break;case 3:case 4:var C=Ne.stateNode.containerInfo,e=e2(B);sv(B,e,C);break;default:throw Error(Tr(161))}}catch(k){Ca(B,B.return,k)}B.flags&=-3}X&4096&&(B.flags&=-4097)}function K5(B,X,me){Br=B,S_(B)}function S_(B,X,me){for(var Ne=(B.mode&1)!==0;Br!==null;){var Xe=Br,U=Xe.child;if(Xe.tag===22&&Ne){var C=Xe.memoizedState!==null||n0;if(!C){var e=Xe.alternate,k=e!==null&&e.memoizedState!==null||Yo;e=n0;var A=Yo;if(n0=C,(Yo=k)&&!A)for(Br=Xe;Br!==null;)C=Br,k=C.child,C.tag===22&&C.memoizedState!==null?i2(Xe):k!==null?(k.return=C,Br=k):i2(Xe);for(;U!==null;)Br=U,S_(U),U=U.sibling;Br=Xe,n0=e,Yo=A}n2(B)}else Xe.subtreeFlags&8772&&U!==null?(U.return=Xe,Br=U):n2(B)}}function n2(B){for(;Br!==null;){var X=Br;if(X.flags&8772){var me=X.alternate;try{if(X.flags&8772)switch(X.tag){case 0:case 11:case 15:Yo||$0(5,X);break;case 1:var Ne=X.stateNode;if(X.flags&4&&!Yo)if(me===null)Ne.componentDidMount();else{var Xe=X.elementType===X.type?me.memoizedProps:Ql(X.type,me.memoizedProps);Ne.componentDidUpdate(Xe,me.memoizedState,Ne.__reactInternalSnapshotBeforeUpdate)}var U=X.updateQueue;U!==null&&jx(X,U,Ne);break;case 3:var C=X.updateQueue;if(C!==null){if(me=null,X.child!==null)switch(X.child.tag){case 5:me=X.child.stateNode;break;case 1:me=X.child.stateNode}jx(X,C,me)}break;case 5:var e=X.stateNode;if(me===null&&X.flags&4){me=e;var k=X.memoizedProps;switch(X.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&me.focus();break;case"img":k.src&&(me.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(X.memoizedState===null){var A=X.alternate;if(A!==null){var o=A.memoizedState;if(o!==null){var w=o.dehydrated;w!==null&&Pp(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Tr(163))}Yo||X.flags&512&&ov(X)}catch(b){Ca(X,X.return,b)}}if(X===B){Br=null;break}if(me=X.sibling,me!==null){me.return=X.return,Br=me;break}Br=X.return}}function r2(B){for(;Br!==null;){var X=Br;if(X===B){Br=null;break}var me=X.sibling;if(me!==null){me.return=X.return,Br=me;break}Br=X.return}}function i2(B){for(;Br!==null;){var X=Br;try{switch(X.tag){case 0:case 11:case 15:var me=X.return;try{$0(4,X)}catch(k){Ca(X,me,k)}break;case 1:var Ne=X.stateNode;if(typeof Ne.componentDidMount=="function"){var Xe=X.return;try{Ne.componentDidMount()}catch(k){Ca(X,Xe,k)}}var U=X.return;try{ov(X)}catch(k){Ca(X,U,k)}break;case 5:var C=X.return;try{ov(X)}catch(k){Ca(X,C,k)}}}catch(k){Ca(X,X.return,k)}if(X===B){Br=null;break}var e=X.sibling;if(e!==null){e.return=X.return,Br=e;break}Br=X.return}}var J5=Math.ceil,F0=Zu.ReactCurrentDispatcher,lm=Zu.ReactCurrentOwner,Ol=Zu.ReactCurrentBatchConfig,Ci=0,ho=null,Wa=null,Eo=0,il=0,Qf=Ic(0),eo=0,Vp=null,gf=0,Q0=0,um=0,kp=null,Fs=null,cm=0,Mh=1/0,Bu=null,B0=!1,uv=null,Sc=null,r0=!1,_c=null,N0=0,Ap=0,cv=null,g0=-1,v0=0;function ds(){return Ci&6?ja():g0!==-1?g0:g0=ja()}function Ec(B){return B.mode&1?Ci&2&&Eo!==0?Eo&-Eo:z5.transition!==null?(v0===0&&(v0=fb()),v0):(B=Yi,B!==0||(B=window.event,B=B===void 0?16:yb(B.type)),B):1}function au(B,X,me,Ne){if(50<Ap)throw Ap=0,cv=null,Error(Tr(185));Kp(B,me,Ne),(!(Ci&2)||B!==ho)&&(B===ho&&(!(Ci&2)&&(Q0|=me),eo===4&&pc(B,Eo)),Us(B,Ne),me===1&&Ci===0&&!(X.mode&1)&&(Mh=ja()+500,X0&&zc()))}function Us(B,X){var me=B.callbackNode;z4(B,X);var Ne=w0(B,B===ho?Eo:0);if(Ne===0)me!==null&&px(me),B.callbackNode=null,B.callbackPriority=0;else if(X=Ne&-Ne,B.callbackPriority!==X){if(me!=null&&px(me),X===1)B.tag===0?I5(a2.bind(null,B)):Fb(a2.bind(null,B)),L5(function(){!(Ci&6)&&zc()}),me=null;else{switch(hb(Ne)){case 1:me=Rv;break;case 4:me=ub;break;case 16:me=_0;break;case 536870912:me=cb;break;default:me=_0}me=D_(me,E_.bind(null,B))}B.callbackPriority=X,B.callbackNode=me}}function E_(B,X){if(g0=-1,v0=0,Ci&6)throw Error(Tr(327));var me=B.callbackNode;if(ah()&&B.callbackNode!==me)return null;var Ne=w0(B,B===ho?Eo:0);if(Ne===0)return null;if(Ne&30||Ne&B.expiredLanes||X)X=j0(B,Ne);else{X=Ne;var Xe=Ci;Ci|=2;var U=C_();(ho!==B||Eo!==X)&&(Bu=null,Mh=ja()+500,cf(B,X));do try{e6();break}catch(e){L_(B,e)}while(!0);Xv(),F0.current=U,Ci=Xe,Wa!==null?X=0:(ho=null,Eo=0,X=eo)}if(X!==0){if(X===2&&(Xe=F1(B),Xe!==0&&(Ne=Xe,X=fv(B,Xe))),X===1)throw me=Vp,cf(B,0),pc(B,Ne),Us(B,ja()),me;if(X===6)pc(B,Ne);else{if(Xe=B.current.alternate,!(Ne&30)&&!$5(Xe)&&(X=j0(B,Ne),X===2&&(U=F1(B),U!==0&&(Ne=U,X=fv(B,U))),X===1))throw me=Vp,cf(B,0),pc(B,Ne),Us(B,ja()),me;switch(B.finishedWork=Xe,B.finishedLanes=Ne,X){case 0:case 1:throw Error(Tr(345));case 2:$c(B,Fs,Bu);break;case 3:if(pc(B,Ne),(Ne&130023424)===Ne&&(X=cm+500-ja(),10<X)){if(w0(B,0)!==0)break;if(Xe=B.suspendedLanes,(Xe&Ne)!==Ne){ds(),B.pingedLanes|=B.suspendedLanes&Xe;break}B.timeoutHandle=G1($c.bind(null,B,Fs,Bu),X);break}$c(B,Fs,Bu);break;case 4:if(pc(B,Ne),(Ne&4194240)===Ne)break;for(X=B.eventTimes,Xe=-1;0<Ne;){var C=31-iu(Ne);U=1<<C,C=X[C],C>Xe&&(Xe=C),Ne&=~U}if(Ne=Xe,Ne=ja()-Ne,Ne=(120>Ne?120:480>Ne?480:1080>Ne?1080:1920>Ne?1920:3e3>Ne?3e3:4320>Ne?4320:1960*J5(Ne/1960))-Ne,10<Ne){B.timeoutHandle=G1($c.bind(null,B,Fs,Bu),Ne);break}$c(B,Fs,Bu);break;case 5:$c(B,Fs,Bu);break;default:throw Error(Tr(329))}}}return Us(B,ja()),B.callbackNode===me?E_.bind(null,B):null}function fv(B,X){var me=kp;return B.current.memoizedState.isDehydrated&&(cf(B,X).flags|=256),B=j0(B,X),B!==2&&(X=Fs,Fs=me,X!==null&&hv(X)),B}function hv(B){Fs===null?Fs=B:Fs.push.apply(Fs,B)}function $5(B){for(var X=B;;){if(X.flags&16384){var me=X.updateQueue;if(me!==null&&(me=me.stores,me!==null))for(var Ne=0;Ne<me.length;Ne++){var Xe=me[Ne],U=Xe.getSnapshot;Xe=Xe.value;try{if(!ou(U(),Xe))return!1}catch{return!1}}}if(me=X.child,X.subtreeFlags&16384&&me!==null)me.return=X,X=me;else{if(X===B)break;for(;X.sibling===null;){if(X.return===null||X.return===B)return!0;X=X.return}X.sibling.return=X.return,X=X.sibling}}return!0}function pc(B,X){for(X&=~um,X&=~Q0,B.suspendedLanes|=X,B.pingedLanes&=~X,B=B.expirationTimes;0<X;){var me=31-iu(X),Ne=1<<me;B[me]=-1,X&=~Ne}}function a2(B){if(Ci&6)throw Error(Tr(327));ah();var X=w0(B,0);if(!(X&1))return Us(B,ja()),null;var me=j0(B,X);if(B.tag!==0&&me===2){var Ne=F1(B);Ne!==0&&(X=Ne,me=fv(B,Ne))}if(me===1)throw me=Vp,cf(B,0),pc(B,X),Us(B,ja()),me;if(me===6)throw Error(Tr(345));return B.finishedWork=B.current.alternate,B.finishedLanes=X,$c(B,Fs,Bu),Us(B,ja()),null}function fm(B,X){var me=Ci;Ci|=1;try{return B(X)}finally{Ci=me,Ci===0&&(Mh=ja()+500,X0&&zc())}}function vf(B){_c!==null&&_c.tag===0&&!(Ci&6)&&ah();var X=Ci;Ci|=1;var me=Ol.transition,Ne=Yi;try{if(Ol.transition=null,Yi=1,B)return B()}finally{Yi=Ne,Ol.transition=me,Ci=X,!(Ci&6)&&zc()}}function hm(){il=Qf.current,fa(Qf)}function cf(B,X){B.finishedWork=null,B.finishedLanes=0;var me=B.timeoutHandle;if(me!==-1&&(B.timeoutHandle=-1,E5(me)),Wa!==null)for(me=Wa.return;me!==null;){var Ne=me;switch(Wv(Ne),Ne.tag){case 1:Ne=Ne.type.childContextTypes,Ne!=null&&S0();break;case 3:kh(),fa(Ns),fa(Zo),tm();break;case 5:em(Ne);break;case 4:kh();break;case 13:fa(_a);break;case 19:fa(_a);break;case 10:Kv(Ne.type._context);break;case 22:case 23:hm()}me=me.return}if(ho=B,Wa=B=Lc(B.current,null),Eo=il=X,eo=0,Vp=null,um=Q0=gf=0,Fs=kp=null,ef!==null){for(X=0;X<ef.length;X++)if(me=ef[X],Ne=me.interleaved,Ne!==null){me.interleaved=null;var Xe=Ne.next,U=me.pending;if(U!==null){var C=U.next;U.next=Xe,Ne.next=C}me.pending=Ne}ef=null}return B}function L_(B,X){do{var me=Wa;try{if(Xv(),h0.current=R0,D0){for(var Ne=wa.memoizedState;Ne!==null;){var Xe=Ne.queue;Xe!==null&&(Xe.pending=null),Ne=Ne.next}D0=!1}if(df=0,fo=Qa=wa=null,wp=!1,Np=0,lm.current=null,me===null||me.return===null){eo=1,Vp=X,Wa=null;break}e:{var U=B,C=me.return,e=me,k=X;if(X=Eo,e.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var A=k,o=e,w=o.tag;if(!(o.mode&1)&&(w===0||w===11||w===15)){var b=o.alternate;b?(o.updateQueue=b.updateQueue,o.memoizedState=b.memoizedState,o.lanes=b.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=Wx(C);if(f!==null){f.flags&=-257,Yx(f,C,e,U,X),f.mode&1&&Gx(U,A,X),X=f,k=A;var s=X.updateQueue;if(s===null){var n=new Set;n.add(k),X.updateQueue=n}else s.add(k);break e}else{if(!(X&1)){Gx(U,A,X),pm();break e}k=Error(Tr(426))}}else if(ha&&e.mode&1){var i=Wx(C);if(i!==null){!(i.flags&65536)&&(i.flags|=256),Yx(i,C,e,U,X),Yv(Ah(k,e));break e}}U=k=Ah(k,e),eo!==4&&(eo=2),kp===null?kp=[U]:kp.push(U),U=C;do{switch(U.tag){case 3:U.flags|=65536,X&=-X,U.lanes|=X;var r=h_(U,k,X);Nx(U,r);break e;case 1:e=k;var t=U.type,a=U.stateNode;if(!(U.flags&128)&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Sc===null||!Sc.has(a)))){U.flags|=65536,X&=-X,U.lanes|=X;var l=p_(U,e,X);Nx(U,l);break e}}U=U.return}while(U!==null)}O_(me)}catch(u){X=u,Wa===me&&me!==null&&(Wa=me=me.return);continue}break}while(!0)}function C_(){var B=F0.current;return F0.current=R0,B===null?R0:B}function pm(){(eo===0||eo===3||eo===2)&&(eo=4),ho===null||!(gf&268435455)&&!(Q0&268435455)||pc(ho,Eo)}function j0(B,X){var me=Ci;Ci|=2;var Ne=C_();(ho!==B||Eo!==X)&&(Bu=null,cf(B,X));do try{Q5();break}catch(Xe){L_(B,Xe)}while(!0);if(Xv(),Ci=me,F0.current=Ne,Wa!==null)throw Error(Tr(261));return ho=null,Eo=0,eo}function Q5(){for(;Wa!==null;)P_(Wa)}function e6(){for(;Wa!==null&&!A4();)P_(Wa)}function P_(B){var X=z_(B.alternate,B,il);B.memoizedProps=B.pendingProps,X===null?O_(B):Wa=X,lm.current=null}function O_(B){var X=B;do{var me=X.alternate;if(B=X.return,X.flags&32768){if(me=Y5(me,X),me!==null){me.flags&=32767,Wa=me;return}if(B!==null)B.flags|=32768,B.subtreeFlags=0,B.deletions=null;else{eo=6,Wa=null;return}}else if(me=W5(me,X,il),me!==null){Wa=me;return}if(X=X.sibling,X!==null){Wa=X;return}Wa=X=B}while(X!==null);eo===0&&(eo=5)}function $c(B,X,me){var Ne=Yi,Xe=Ol.transition;try{Ol.transition=null,Yi=1,t6(B,X,me,Ne)}finally{Ol.transition=Xe,Yi=Ne}return null}function t6(B,X,me,Ne){do ah();while(_c!==null);if(Ci&6)throw Error(Tr(327));me=B.finishedWork;var Xe=B.finishedLanes;if(me===null)return null;if(B.finishedWork=null,B.finishedLanes=0,me===B.current)throw Error(Tr(177));B.callbackNode=null,B.callbackPriority=0;var U=me.lanes|me.childLanes;if(D4(B,U),B===ho&&(Wa=ho=null,Eo=0),!(me.subtreeFlags&2064)&&!(me.flags&2064)||r0||(r0=!0,D_(_0,function(){return ah(),null})),U=(me.flags&15990)!==0,me.subtreeFlags&15990||U){U=Ol.transition,Ol.transition=null;var C=Yi;Yi=1;var e=Ci;Ci|=4,lm.current=null,X5(B,me),M_(me,B),_5(H1),T0=!!V1,H1=V1=null,B.current=me,K5(me),M4(),Ci=e,Yi=C,Ol.transition=U}else B.current=me;if(r0&&(r0=!1,_c=B,N0=Xe),U=B.pendingLanes,U===0&&(Sc=null),L4(me.stateNode),Us(B,ja()),X!==null)for(Ne=B.onRecoverableError,me=0;me<X.length;me++)Xe=X[me],Ne(Xe.value,{componentStack:Xe.stack,digest:Xe.digest});if(B0)throw B0=!1,B=uv,uv=null,B;return N0&1&&B.tag!==0&&ah(),U=B.pendingLanes,U&1?B===cv?Ap++:(Ap=0,cv=B):Ap=0,zc(),null}function ah(){if(_c!==null){var B=hb(N0),X=Ol.transition,me=Yi;try{if(Ol.transition=null,Yi=16>B?16:B,_c===null)var Ne=!1;else{if(B=_c,_c=null,N0=0,Ci&6)throw Error(Tr(331));var Xe=Ci;for(Ci|=4,Br=B.current;Br!==null;){var U=Br,C=U.child;if(Br.flags&16){var e=U.deletions;if(e!==null){for(var k=0;k<e.length;k++){var A=e[k];for(Br=A;Br!==null;){var o=Br;switch(o.tag){case 0:case 11:case 15:Tp(8,o,U)}var w=o.child;if(w!==null)w.return=o,Br=w;else for(;Br!==null;){o=Br;var b=o.sibling,f=o.return;if(T_(o),o===A){Br=null;break}if(b!==null){b.return=f,Br=b;break}Br=f}}}var s=U.alternate;if(s!==null){var n=s.child;if(n!==null){s.child=null;do{var i=n.sibling;n.sibling=null,n=i}while(n!==null)}}Br=U}}if(U.subtreeFlags&2064&&C!==null)C.return=U,Br=C;else e:for(;Br!==null;){if(U=Br,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Tp(9,U,U.return)}var r=U.sibling;if(r!==null){r.return=U.return,Br=r;break e}Br=U.return}}var t=B.current;for(Br=t;Br!==null;){C=Br;var a=C.child;if(C.subtreeFlags&2064&&a!==null)a.return=C,Br=a;else e:for(C=t;Br!==null;){if(e=Br,e.flags&2048)try{switch(e.tag){case 0:case 11:case 15:$0(9,e)}}catch(u){Ca(e,e.return,u)}if(e===C){Br=null;break e}var l=e.sibling;if(l!==null){l.return=e.return,Br=l;break e}Br=e.return}}if(Ci=Xe,zc(),Mu&&typeof Mu.onPostCommitFiberRoot=="function")try{Mu.onPostCommitFiberRoot(q0,B)}catch{}Ne=!0}return Ne}finally{Yi=me,Ol.transition=X}}return!1}function o2(B,X,me){X=Ah(me,X),X=h_(B,X,1),B=Mc(B,X,1),X=ds(),B!==null&&(Kp(B,1,X),Us(B,X))}function Ca(B,X,me){if(B.tag===3)o2(B,B,me);else for(;X!==null;){if(X.tag===3){o2(X,B,me);break}else if(X.tag===1){var Ne=X.stateNode;if(typeof X.type.getDerivedStateFromError=="function"||typeof Ne.componentDidCatch=="function"&&(Sc===null||!Sc.has(Ne))){B=Ah(me,B),B=p_(X,B,1),X=Mc(X,B,1),B=ds(),X!==null&&(Kp(X,1,B),Us(X,B));break}}X=X.return}}function n6(B,X,me){var Ne=B.pingCache;Ne!==null&&Ne.delete(X),X=ds(),B.pingedLanes|=B.suspendedLanes&me,ho===B&&(Eo&me)===me&&(eo===4||eo===3&&(Eo&130023424)===Eo&&500>ja()-cm?cf(B,0):um|=me),Us(B,X)}function I_(B,X){X===0&&(B.mode&1?(X=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):X=1);var me=ds();B=Wu(B,X),B!==null&&(Kp(B,X,me),Us(B,me))}function r6(B){var X=B.memoizedState,me=0;X!==null&&(me=X.retryLane),I_(B,me)}function i6(B,X){var me=0;switch(B.tag){case 13:var Ne=B.stateNode,Xe=B.memoizedState;Xe!==null&&(me=Xe.retryLane);break;case 19:Ne=B.stateNode;break;default:throw Error(Tr(314))}Ne!==null&&Ne.delete(X),I_(B,me)}var z_;z_=function(B,X,me){if(B!==null)if(B.memoizedProps!==X.pendingProps||Ns.current)Bs=!0;else{if(!(B.lanes&me)&&!(X.flags&128))return Bs=!1,G5(B,X,me);Bs=!!(B.flags&131072)}else Bs=!1,ha&&X.flags&1048576&&Bb(X,C0,X.index);switch(X.lanes=0,X.tag){case 2:var Ne=X.type;d0(B,X),B=X.pendingProps;var Xe=_h(X,Zo.current);ih(X,me),Xe=rm(null,X,Ne,B,Xe,me);var U=im();return X.flags|=1,typeof Xe=="object"&&Xe!==null&&typeof Xe.render=="function"&&Xe.$$typeof===void 0?(X.tag=1,X.memoizedState=null,X.updateQueue=null,js(Ne)?(U=!0,E0(X)):U=!1,X.memoizedState=Xe.state!==null&&Xe.state!==void 0?Xe.state:null,$v(X),Xe.updater=J0,X.stateNode=Xe,Xe._reactInternals=X,$1(X,Ne,B,me),X=tv(null,X,Ne,!0,U,me)):(X.tag=0,ha&&U&&Gv(X),hs(null,X,Xe,me),X=X.child),X;case 16:Ne=X.elementType;e:{switch(d0(B,X),B=X.pendingProps,Xe=Ne._init,Ne=Xe(Ne._payload),X.type=Ne,Xe=X.tag=o6(Ne),B=Ql(Ne,B),Xe){case 0:X=ev(null,X,Ne,B,me);break e;case 1:X=Kx(null,X,Ne,B,me);break e;case 11:X=Zx(null,X,Ne,B,me);break e;case 14:X=Xx(null,X,Ne,Ql(Ne.type,B),me);break e}throw Error(Tr(306,Ne,""))}return X;case 0:return Ne=X.type,Xe=X.pendingProps,Xe=X.elementType===Ne?Xe:Ql(Ne,Xe),ev(B,X,Ne,Xe,me);case 1:return Ne=X.type,Xe=X.pendingProps,Xe=X.elementType===Ne?Xe:Ql(Ne,Xe),Kx(B,X,Ne,Xe,me);case 3:e:{if(m_(X),B===null)throw Error(Tr(387));Ne=X.pendingProps,U=X.memoizedState,Xe=U.element,qb(B,X),I0(X,Ne,null,me);var C=X.memoizedState;if(Ne=C.element,U.isDehydrated)if(U={element:Ne,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},X.updateQueue.baseState=U,X.memoizedState=U,X.flags&256){Xe=Ah(Error(Tr(423)),X),X=Jx(B,X,Ne,me,Xe);break e}else if(Ne!==Xe){Xe=Ah(Error(Tr(424)),X),X=Jx(B,X,Ne,me,Xe);break e}else for(al=Ac(X.stateNode.containerInfo.firstChild),ol=X,ha=!0,nu=null,me=Vb(X,null,Ne,me),X.child=me;me;)me.flags=me.flags&-3|4096,me=me.sibling;else{if(wh(),Ne===Xe){X=Yu(B,X,me);break e}hs(B,X,Ne,me)}X=X.child}return X;case 5:return Gb(X),B===null&&X1(X),Ne=X.type,Xe=X.pendingProps,U=B!==null?B.memoizedProps:null,C=Xe.children,q1(Ne,Xe)?C=null:U!==null&&q1(Ne,U)&&(X.flags|=32),v_(B,X),hs(B,X,C,me),X.child;case 6:return B===null&&X1(X),null;case 13:return y_(B,X,me);case 4:return Qv(X,X.stateNode.containerInfo),Ne=X.pendingProps,B===null?X.child=Th(X,null,Ne,me):hs(B,X,Ne,me),X.child;case 11:return Ne=X.type,Xe=X.pendingProps,Xe=X.elementType===Ne?Xe:Ql(Ne,Xe),Zx(B,X,Ne,Xe,me);case 7:return hs(B,X,X.pendingProps,me),X.child;case 8:return hs(B,X,X.pendingProps.children,me),X.child;case 12:return hs(B,X,X.pendingProps.children,me),X.child;case 10:e:{if(Ne=X.type._context,Xe=X.pendingProps,U=X.memoizedProps,C=Xe.value,ra(P0,Ne._currentValue),Ne._currentValue=C,U!==null)if(ou(U.value,C)){if(U.children===Xe.children&&!Ns.current){X=Yu(B,X,me);break e}}else for(U=X.child,U!==null&&(U.return=X);U!==null;){var e=U.dependencies;if(e!==null){C=U.child;for(var k=e.firstContext;k!==null;){if(k.context===Ne){if(U.tag===1){k=Hu(-1,me&-me),k.tag=2;var A=U.updateQueue;if(A!==null){A=A.shared;var o=A.pending;o===null?k.next=k:(k.next=o.next,o.next=k),A.pending=k}}U.lanes|=me,k=U.alternate,k!==null&&(k.lanes|=me),K1(U.return,me,X),e.lanes|=me;break}k=k.next}}else if(U.tag===10)C=U.type===X.type?null:U.child;else if(U.tag===18){if(C=U.return,C===null)throw Error(Tr(341));C.lanes|=me,e=C.alternate,e!==null&&(e.lanes|=me),K1(C,me,X),C=U.sibling}else C=U.child;if(C!==null)C.return=U;else for(C=U;C!==null;){if(C===X){C=null;break}if(U=C.sibling,U!==null){U.return=C.return,C=U;break}C=C.return}U=C}hs(B,X,Xe.children,me),X=X.child}return X;case 9:return Xe=X.type,Ne=X.pendingProps.children,ih(X,me),Xe=Il(Xe),Ne=Ne(Xe),X.flags|=1,hs(B,X,Ne,me),X.child;case 14:return Ne=X.type,Xe=Ql(Ne,X.pendingProps),Xe=Ql(Ne.type,Xe),Xx(B,X,Ne,Xe,me);case 15:return d_(B,X,X.type,X.pendingProps,me);case 17:return Ne=X.type,Xe=X.pendingProps,Xe=X.elementType===Ne?Xe:Ql(Ne,Xe),d0(B,X),X.tag=1,js(Ne)?(B=!0,E0(X)):B=!1,ih(X,me),f_(X,Ne,Xe),$1(X,Ne,Xe,me),tv(null,X,Ne,!0,B,me);case 19:return x_(B,X,me);case 22:return g_(B,X,me)}throw Error(Tr(156,X.tag))};function D_(B,X){return lb(B,X)}function a6(B,X,me,Ne){this.tag=B,this.key=me,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=X,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ne,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(B,X,me,Ne){return new a6(B,X,me,Ne)}function dm(B){return B=B.prototype,!(!B||!B.isReactComponent)}function o6(B){if(typeof B=="function")return dm(B)?1:0;if(B!=null){if(B=B.$$typeof,B===Iv)return 11;if(B===zv)return 14}return 2}function Lc(B,X){var me=B.alternate;return me===null?(me=Pl(B.tag,X,B.key,B.mode),me.elementType=B.elementType,me.type=B.type,me.stateNode=B.stateNode,me.alternate=B,B.alternate=me):(me.pendingProps=X,me.type=B.type,me.flags=0,me.subtreeFlags=0,me.deletions=null),me.flags=B.flags&14680064,me.childLanes=B.childLanes,me.lanes=B.lanes,me.child=B.child,me.memoizedProps=B.memoizedProps,me.memoizedState=B.memoizedState,me.updateQueue=B.updateQueue,X=B.dependencies,me.dependencies=X===null?null:{lanes:X.lanes,firstContext:X.firstContext},me.sibling=B.sibling,me.index=B.index,me.ref=B.ref,me}function m0(B,X,me,Ne,Xe,U){var C=2;if(Ne=B,typeof B=="function")dm(B)&&(C=1);else if(typeof B=="string")C=5;else e:switch(B){case Hf:return ff(me.children,Xe,U,X);case Ov:C=8,Xe|=8;break;case w1:return B=Pl(12,me,X,Xe|2),B.elementType=w1,B.lanes=U,B;case T1:return B=Pl(13,me,X,Xe),B.elementType=T1,B.lanes=U,B;case k1:return B=Pl(19,me,X,Xe),B.elementType=k1,B.lanes=U,B;case G2:return eg(me,Xe,U,X);default:if(typeof B=="object"&&B!==null)switch(B.$$typeof){case H2:C=10;break e;case q2:C=9;break e;case Iv:C=11;break e;case zv:C=14;break e;case cc:C=16,Ne=null;break e}throw Error(Tr(130,B==null?B:typeof B,""))}return X=Pl(C,me,X,Xe),X.elementType=B,X.type=Ne,X.lanes=U,X}function ff(B,X,me,Ne){return B=Pl(7,B,Ne,X),B.lanes=me,B}function eg(B,X,me,Ne){return B=Pl(22,B,Ne,X),B.elementType=G2,B.lanes=me,B.stateNode={isHidden:!1},B}function m1(B,X,me){return B=Pl(6,B,null,X),B.lanes=me,B}function y1(B,X,me){return X=Pl(4,B.children!==null?B.children:[],B.key,X),X.lanes=me,X.stateNode={containerInfo:B.containerInfo,pendingChildren:null,implementation:B.implementation},X}function s6(B,X,me,Ne,Xe){this.tag=X,this.containerInfo=B,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=Ne,this.onRecoverableError=Xe,this.mutableSourceEagerHydrationData=null}function gm(B,X,me,Ne,Xe,U,C,e,k){return B=new s6(B,X,me,e,k),X===1?(X=1,U===!0&&(X|=8)):X=0,U=Pl(3,null,null,X),B.current=U,U.stateNode=B,U.memoizedState={element:Ne,isDehydrated:me,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(U),B}function l6(B,X,me){var Ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vf,key:Ne==null?null:""+Ne,children:B,containerInfo:X,implementation:me}}function R_(B){if(!B)return Pc;B=B._reactInternals;e:{if(yf(B)!==B||B.tag!==1)throw Error(Tr(170));var X=B;do{switch(X.tag){case 3:X=X.stateNode.context;break e;case 1:if(js(X.type)){X=X.stateNode.__reactInternalMemoizedMergedChildContext;break e}}X=X.return}while(X!==null);throw Error(Tr(171))}if(B.tag===1){var me=B.type;if(js(me))return Rb(B,me,X)}return X}function F_(B,X,me,Ne,Xe,U,C,e,k){return B=gm(me,Ne,!0,B,Xe,U,C,e,k),B.context=R_(null),me=B.current,Ne=ds(),Xe=Ec(me),U=Hu(Ne,Xe),U.callback=X??null,Mc(me,U,Xe),B.current.lanes=Xe,Kp(B,Xe,Ne),Us(B,Ne),B}function tg(B,X,me,Ne){var Xe=X.current,U=ds(),C=Ec(Xe);return me=R_(me),X.context===null?X.context=me:X.pendingContext=me,X=Hu(U,C),X.payload={element:B},Ne=Ne===void 0?null:Ne,Ne!==null&&(X.callback=Ne),B=Mc(Xe,X,C),B!==null&&(au(B,Xe,C,U),f0(B,Xe,C)),C}function U0(B){if(B=B.current,!B.child)return null;switch(B.child.tag){case 5:return B.child.stateNode;default:return B.child.stateNode}}function s2(B,X){if(B=B.memoizedState,B!==null&&B.dehydrated!==null){var me=B.retryLane;B.retryLane=me!==0&&me<X?me:X}}function vm(B,X){s2(B,X),(B=B.alternate)&&s2(B,X)}function u6(){return null}var B_=typeof reportError=="function"?reportError:function(B){console.error(B)};function mm(B){this._internalRoot=B}ng.prototype.render=mm.prototype.render=function(B){var X=this._internalRoot;if(X===null)throw Error(Tr(409));tg(B,X,null,null)};ng.prototype.unmount=mm.prototype.unmount=function(){var B=this._internalRoot;if(B!==null){this._internalRoot=null;var X=B.containerInfo;vf(function(){tg(null,B,null,null)}),X[Gu]=null}};function ng(B){this._internalRoot=B}ng.prototype.unstable_scheduleHydration=function(B){if(B){var X=gb();B={blockedOn:null,target:B,priority:X};for(var me=0;me<hc.length&&X!==0&&X<hc[me].priority;me++);hc.splice(me,0,B),me===0&&mb(B)}};function ym(B){return!(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11)}function rg(B){return!(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11&&(B.nodeType!==8||B.nodeValue!==" react-mount-point-unstable "))}function l2(){}function c6(B,X,me,Ne,Xe){if(Xe){if(typeof Ne=="function"){var U=Ne;Ne=function(){var A=U0(C);U.call(A)}}var C=F_(X,Ne,B,0,null,!1,!1,"",l2);return B._reactRootContainer=C,B[Gu]=C.current,zp(B.nodeType===8?B.parentNode:B),vf(),C}for(;Xe=B.lastChild;)B.removeChild(Xe);if(typeof Ne=="function"){var e=Ne;Ne=function(){var A=U0(k);e.call(A)}}var k=gm(B,0,!1,null,null,!1,!1,"",l2);return B._reactRootContainer=k,B[Gu]=k.current,zp(B.nodeType===8?B.parentNode:B),vf(function(){tg(X,k,me,Ne)}),k}function ig(B,X,me,Ne,Xe){var U=me._reactRootContainer;if(U){var C=U;if(typeof Xe=="function"){var e=Xe;Xe=function(){var k=U0(C);e.call(k)}}tg(X,C,B,Xe)}else C=c6(me,X,B,Xe,Ne);return U0(C)}pb=function(B){switch(B.tag){case 3:var X=B.stateNode;if(X.current.memoizedState.isDehydrated){var me=dp(X.pendingLanes);me!==0&&(Fv(X,me|1),Us(X,ja()),!(Ci&6)&&(Mh=ja()+500,zc()))}break;case 13:vf(function(){var Ne=Wu(B,1);if(Ne!==null){var Xe=ds();au(Ne,B,1,Xe)}}),vm(B,1)}};Bv=function(B){if(B.tag===13){var X=Wu(B,134217728);if(X!==null){var me=ds();au(X,B,134217728,me)}vm(B,134217728)}};db=function(B){if(B.tag===13){var X=Ec(B),me=Wu(B,X);if(me!==null){var Ne=ds();au(me,B,X,Ne)}vm(B,X)}};gb=function(){return Yi};vb=function(B,X){var me=Yi;try{return Yi=B,X()}finally{Yi=me}};z1=function(B,X,me){switch(X){case"input":if(S1(B,me),X=me.name,me.type==="radio"&&X!=null){for(me=B;me.parentNode;)me=me.parentNode;for(me=me.querySelectorAll("input[name="+JSON.stringify(""+X)+'][type="radio"]'),X=0;X<me.length;X++){var Ne=me[X];if(Ne!==B&&Ne.form===B.form){var Xe=Z0(Ne);if(!Xe)throw Error(Tr(90));Y2(Ne),S1(Ne,Xe)}}}break;case"textarea":X2(B,me);break;case"select":X=me.value,X!=null&&eh(B,!!me.multiple,X,!1)}};nb=fm;rb=vf;var f6={usingClientEntryPoint:!1,Events:[$p,Yf,Z0,eb,tb,fm]},fp={findFiberByHostInstance:Qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h6={bundleType:fp.bundleType,version:fp.version,rendererPackageName:fp.rendererPackageName,rendererConfig:fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zu.ReactCurrentDispatcher,findHostInstanceByFiber:function(B){return B=ob(B),B===null?null:B.stateNode},findFiberByHostInstance:fp.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{q0=i0.inject(h6),Mu=i0}catch{}}ll.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f6;ll.createPortal=function(B,X){var me=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(X))throw Error(Tr(200));return l6(B,X,null,me)};ll.createRoot=function(B,X){if(!ym(B))throw Error(Tr(299));var me=!1,Ne="",Xe=B_;return X!=null&&(X.unstable_strictMode===!0&&(me=!0),X.identifierPrefix!==void 0&&(Ne=X.identifierPrefix),X.onRecoverableError!==void 0&&(Xe=X.onRecoverableError)),X=gm(B,1,!1,null,null,me,!1,Ne,Xe),B[Gu]=X.current,zp(B.nodeType===8?B.parentNode:B),new mm(X)};ll.findDOMNode=function(B){if(B==null)return null;if(B.nodeType===1)return B;var X=B._reactInternals;if(X===void 0)throw typeof B.render=="function"?Error(Tr(188)):(B=Object.keys(B).join(","),Error(Tr(268,B)));return B=ob(X),B=B===null?null:B.stateNode,B};ll.flushSync=function(B){return vf(B)};ll.hydrate=function(B,X,me){if(!rg(X))throw Error(Tr(200));return ig(null,B,X,!0,me)};ll.hydrateRoot=function(B,X,me){if(!ym(B))throw Error(Tr(405));var Ne=me!=null&&me.hydratedSources||null,Xe=!1,U="",C=B_;if(me!=null&&(me.unstable_strictMode===!0&&(Xe=!0),me.identifierPrefix!==void 0&&(U=me.identifierPrefix),me.onRecoverableError!==void 0&&(C=me.onRecoverableError)),X=F_(X,null,B,1,me??null,Xe,!1,U,C),B[Gu]=X.current,zp(B),Ne)for(B=0;B<Ne.length;B++)me=Ne[B],Xe=me._getVersion,Xe=Xe(me._source),X.mutableSourceEagerHydrationData==null?X.mutableSourceEagerHydrationData=[me,Xe]:X.mutableSourceEagerHydrationData.push(me,Xe);return new ng(X)};ll.render=function(B,X,me){if(!rg(X))throw Error(Tr(200));return ig(null,B,X,!1,me)};ll.unmountComponentAtNode=function(B){if(!rg(B))throw Error(Tr(40));return B._reactRootContainer?(vf(function(){ig(null,null,B,!1,function(){B._reactRootContainer=null,B[Gu]=null})}),!0):!1};ll.unstable_batchedUpdates=fm;ll.unstable_renderSubtreeIntoContainer=function(B,X,me,Ne){if(!rg(me))throw Error(Tr(200));if(B==null||B._reactInternals===void 0)throw Error(Tr(38));return ig(B,X,me,!1,Ne)};ll.version="18.3.1-next-f1338f8080-20240426";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(B){console.error(B)}}N_(),N2.exports=ll;var p6=N2.exports,u2=p6;b1.createRoot=u2.createRoot,b1.hydrateRoot=u2.hydrateRoot;var j_={exports:{}};(function(B,X){/*! For license information please see plotly.min.js.LICENSE.txt */(function(me,Ne){B.exports=Ne()})(self,function(){return function(){var me={79288:function(U,C,e){var k=e(3400),A={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in A){var w=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");k.addStyleRule(w,A[o])}},86712:function(U,C,e){U.exports=e(84224)},37240:function(U,C,e){U.exports=e(51132)},29744:function(U,C,e){U.exports=e(94456)},29352:function(U,C,e){U.exports=e(67244)},96144:function(U,C,e){U.exports=e(97776)},53219:function(U,C,e){U.exports=e(61712)},4624:function(U,C,e){U.exports=e(95856)},54543:function(U,C,e){U.exports=e(54272)},45e3:function(U,C,e){U.exports=e(85404)},62300:function(U,C,e){U.exports=e(26048)},6920:function(U,C,e){U.exports=e(66240)},10264:function(U,C,e){U.exports=e(40448)},32016:function(U,C,e){U.exports=e(64884)},27528:function(U,C,e){U.exports=e(15088)},75556:function(U,C,e){U.exports=e(76744)},39204:function(U,C,e){U.exports=e(94704)},73996:function(U,C,e){U.exports=e(62396)},16489:function(U,C,e){U.exports=e(32028)},5e3:function(U,C,e){U.exports=e(81932)},77280:function(U,C,e){U.exports=e(45536)},33992:function(U,C,e){U.exports=e(42600)},17600:function(U,C,e){U.exports=e(21536)},49116:function(U,C,e){U.exports=e(65664)},46808:function(U,C,e){U.exports=e(29044)},36168:function(U,C,e){U.exports=e(48928)},13792:function(U,C,e){var k=e(32016);k.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),U.exports=k},3920:function(U,C,e){U.exports=e(43480)},25120:function(U,C,e){U.exports=e(6296)},4340:function(U,C,e){U.exports=e(7404)},86152:function(U,C,e){U.exports=e(65456)},56816:function(U,C,e){U.exports=e(22020)},89296:function(U,C,e){U.exports=e(29928)},20260:function(U,C,e){U.exports=e(75792)},32140:function(U,C,e){U.exports=e(156)},84764:function(U,C,e){U.exports=e(45499)},48824:function(U,C,e){U.exports=e(3296)},69967:function(U,C,e){U.exports=e(4184)},8363:function(U,C,e){U.exports=e(36952)},86636:function(U,C,e){U.exports=e(38983)},70192:function(U,C,e){U.exports=e(11572)},81604:function(U,C,e){U.exports=e(76924)},63796:function(U,C,e){U.exports=e(62944)},89336:function(U,C,e){U.exports=e(95443)},67484:function(U,C,e){U.exports=e(34864)},97312:function(U,C,e){U.exports=e(76272)},42192:function(U,C,e){U.exports=e(97924)},29800:function(U,C,e){U.exports=e(15436)},63560:function(U,C,e){U.exports=e(5621)},89904:function(U,C,e){U.exports=e(91304)},50248:function(U,C,e){U.exports=e(41724)},65832:function(U,C,e){U.exports=e(31991)},79440:function(U,C,e){U.exports=e(22869)},13752:function(U,C,e){U.exports=e(67776)},83096:function(U,C,e){U.exports=e(95952)},72196:function(U){U.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(U,C,e){var k=e(72196),A=e(25376),o=e(33816),w=e(31780).templatedArray;e(36208),U.exports=w("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:A({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:k.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:k.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:A({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(U,C,e){var k=e(3400),A=e(54460),o=e(23816).draw;function w(f){var s=f._fullLayout;k.filterVisible(s.annotations).forEach(function(n){var i=A.getFromId(f,n.xref),r=A.getFromId(f,n.yref),t=A.getRefType(n.xref),a=A.getRefType(n.yref);n._extremes={},t==="range"&&b(n,i),a==="range"&&b(n,r)})}function b(f,s){var n,i=s._id,r=i.charAt(0),t=f[r],a=f["a"+r],l=f[r+"ref"],u=f["a"+r+"ref"],h=f["_"+r+"padplus"],c=f["_"+r+"padminus"],y={x:1,y:-1}[r]*f[r+"shift"],d=3*f.arrowsize*f.arrowwidth||0,v=d+y,g=d-y,x=3*f.startarrowsize*f.arrowwidth||0,m=x+y,_=x-y;if(u===l){var p=A.findExtremes(s,[s.r2c(t)],{ppadplus:v,ppadminus:g}),S=A.findExtremes(s,[s.r2c(a)],{ppadplus:Math.max(h,m),ppadminus:Math.max(c,_)});n={min:[p.min[0],S.min[0]],max:[p.max[0],S.max[0]]}}else m=a?m+a:m,_=a?_-a:_,n=A.findExtremes(s,[s.r2c(t)],{ppadplus:Math.max(h,v,m),ppadminus:Math.max(c,g,_)});f._extremes[i]=n}U.exports=function(f){var s=f._fullLayout;if(k.filterVisible(s.annotations).length&&f._fullData.length)return k.syncOrAsync([o,w],f)}},42300:function(U,C,e){var k=e(3400),A=e(24040),o=e(31780).arrayEditor;function w(f,s){var n,i,r,t,a,l,u,h=f._fullLayout.annotations,c=[],y=[],d=[],v=(s||[]).length;for(n=0;n<h.length;n++)if(t=(r=h[n]).clicktoshow){for(i=0;i<v;i++)if(l=(a=s[i]).xaxis,u=a.yaxis,l._id===r.xref&&u._id===r.yref&&l.d2r(a.x)===b(r._xclick,l)&&u.d2r(a.y)===b(r._yclick,u)){(r.visible?t==="onout"?y:d:c).push(n);break}i===v&&r.visible&&t==="onout"&&y.push(n)}return{on:c,off:y,explicitOff:d}}function b(f,s){return s.type==="log"?s.l2r(f):s.d2r(f)}U.exports={hasClickToShow:function(f,s){var n=w(f,s);return n.on.length>0||n.explicitOff.length>0},onClick:function(f,s){var n,i,r=w(f,s),t=r.on,a=r.off.concat(r.explicitOff),l={},u=f._fullLayout.annotations;if(t.length||a.length){for(n=0;n<t.length;n++)(i=o(f.layout,"annotations",u[t[n]])).modifyItem("visible",!0),k.extendFlat(l,i.getUpdateObj());for(n=0;n<a.length;n++)(i=o(f.layout,"annotations",u[a[n]])).modifyItem("visible",!1),k.extendFlat(l,i.getUpdateObj());return A.call("update",f,{},l)}}}},87192:function(U,C,e){var k=e(3400),A=e(76308);U.exports=function(o,w,b,f){f("opacity");var s=f("bgcolor"),n=f("bordercolor"),i=A.opacity(n);f("borderpad");var r=f("borderwidth"),t=f("showarrow");if(f("text",t?" ":b._dfltTitle.annotation),f("textangle"),k.coerceFont(f,"font",b.font),f("width"),f("align"),f("height")&&f("valign"),t){var a,l,u=f("arrowside");u.indexOf("end")!==-1&&(a=f("arrowhead"),l=f("arrowsize")),u.indexOf("start")!==-1&&(f("startarrowhead",a),f("startarrowsize",l)),f("arrowcolor",i?w.bordercolor:A.defaultLine),f("arrowwidth",2*(i&&r||1)),f("standoff"),f("startstandoff")}var h=f("hovertext"),c=b.hoverlabel||{};if(h){var y=f("hoverlabel.bgcolor",c.bgcolor||(A.opacity(s)?A.rgb(s):A.defaultLine)),d=f("hoverlabel.bordercolor",c.bordercolor||A.contrast(y)),v=k.extendFlat({},c.font);v.color||(v.color=d),k.coerceFont(f,"hoverlabel.font",v)}f("captureevents",!!h)}},26828:function(U,C,e){var k=e(38248),A=e(36896);U.exports=function(o,w,b,f){w=w||{};var s=b==="log"&&w.type==="linear",n=b==="linear"&&w.type==="log";if(s||n)for(var i,r,t=o._fullLayout.annotations,a=w._id.charAt(0),l=0;l<t.length;l++)i=t[l],r="annotations["+l+"].",i[a+"ref"]===w._id&&u(a),i["a"+a+"ref"]===w._id&&u("a"+a);function u(h){var c=i[h],y=null;y=s?A(c,w.range):Math.pow(10,c),k(y)||(y=null),f(r+h,y)}}},45216:function(U,C,e){var k=e(3400),A=e(54460),o=e(51272),w=e(87192),b=e(13916);function f(s,n,i){function r(S,T){return k.coerce(s,n,b,S,T)}var t=r("visible"),a=r("clicktoshow");if(t||a){w(s,n,i,r);for(var l=n.showarrow,u=["x","y"],h=[-10,-30],c={_fullLayout:i},y=0;y<2;y++){var d=u[y],v=A.coerceRef(s,n,c,d,"","paper");if(v!=="paper"&&A.getFromId(c,v)._annIndices.push(n._index),A.coercePosition(n,c,r,v,d,.5),l){var g="a"+d,x=A.coerceRef(s,n,c,g,"pixel",["pixel","paper"]);x!=="pixel"&&x!==v&&(x=n[g]="pixel");var m=x==="pixel"?h[y]:.4;A.coercePosition(n,c,r,x,g,m)}r(d+"anchor"),r(d+"shift")}if(k.noneOrAll(s,n,["x","y"]),l&&k.noneOrAll(s,n,["ax","ay"]),a){var _=r("xclick"),p=r("yclick");n._xclick=_===void 0?n.x:A.cleanPosition(_,c,n.xref),n._yclick=p===void 0?n.y:A.cleanPosition(p,c,n.yref)}}}U.exports=function(s,n){o(s,n,{name:"annotations",handleItemDefaults:f})}},23816:function(U,C,e){var k=e(33428),A=e(24040),o=e(7316),w=e(3400),b=w.strTranslate,f=e(54460),s=e(76308),n=e(43616),i=e(93024),r=e(72736),t=e(93972),a=e(86476),l=e(31780).arrayEditor,u=e(33652);function h(d,v){var g=d._fullLayout.annotations[v]||{},x=f.getFromId(d,g.xref),m=f.getFromId(d,g.yref);x&&x.setScale(),m&&m.setScale(),y(d,g,v,!1,x,m)}function c(d,v,g,x,m){var _=m[g],p=m[g+"ref"],S=g.indexOf("y")!==-1,T=f.getRefType(p)==="domain",E=S?x.h:x.w;return d?T?_+(S?-v:v)/d._length:d.p2r(d.r2p(_)+v):_+(S?-v:v)/E}function y(d,v,g,x,m,_){var p,S,T=d._fullLayout,E=d._fullLayout._size,O=d._context.edits;x?(p="annotation-"+x,S=x+".annotations"):(p="annotation",S="annotations");var P=l(d.layout,S,v),I=P.modifyBase,R=P.modifyItem,H=P.getUpdateObj;T._infolayer.selectAll("."+p+'[data-index="'+g+'"]').remove();var z="clip"+T._uid+"_ann"+g;if(v._input&&v.visible!==!1){var j={x:{},y:{}},Z=+v.textangle||0,F=T._infolayer.append("g").classed(p,!0).attr("data-index",String(g)).style("opacity",v.opacity),V=F.append("g").classed("annotation-text-g",!0),W=O[v.showarrow?"annotationTail":"annotationPosition"],re=v.captureevents||O.annotationText||W,ne=V.append("g").style("pointer-events",re?"all":null).call(t,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",de(k.event))});v.hovertext&&ne.on("mouseover",function(){var be=v.hoverlabel,Le=be.font,De=this.getBoundingClientRect(),ye=d.getBoundingClientRect();i.loneHover({x0:De.left-ye.left,x1:De.right-ye.left,y:(De.top+De.bottom)/2-ye.top,text:v.hovertext,color:be.bgcolor,borderColor:be.bordercolor,fontFamily:Le.family,fontSize:Le.size,fontColor:Le.color,fontWeight:Le.weight,fontStyle:Le.style,fontVariant:Le.variant,fontShadow:Le.fontShadow,fontLineposition:Le.fontLineposition,fontTextcase:Le.fontTextcase},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:d})}).on("mouseout",function(){i.loneUnhover(T._hoverlayer.node())});var te=v.borderwidth,Q=v.borderpad,$=te+Q,K=ne.append("rect").attr("class","bg").style("stroke-width",te+"px").call(s.stroke,v.bordercolor).call(s.fill,v.bgcolor),ae=v.width||v.height,ue=T._topclips.selectAll("#"+z).data(ae?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ue.exit().remove();var se=v.font,he=T._meta?w.templateString(v.text,T._meta):v.text,pe=ne.append("text").classed("annotation-text",!0).text(he);O.annotationText?pe.call(r.makeEditable,{delegate:ne,gd:d}).call(xe).on("edit",function(be){v.text=be,this.call(xe),R("text",be),m&&m.autorange&&I(m._name+".autorange",!0),_&&_.autorange&&I(_._name+".autorange",!0),A.call("_guiRelayout",d,H())}):pe.call(xe)}else k.selectAll("#"+z).remove();function de(be){var Le={index:g,annotation:v._input,fullAnnotation:v,event:be};return x&&(Le.subplotId=x),Le}function xe(be){return be.call(n.font,se).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),r.convertToTspans(be,d,_e),be}function _e(){var be=pe.selectAll("a");be.size()===1&&be.text()===pe.text()&&ne.insert("a",":first-child").attr({"xlink:xlink:href":be.attr("xlink:href"),"xlink:xlink:show":be.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(K.node());var Le=ne.select(".annotation-text-math-group"),De=!Le.empty(),ye=n.bBox((De?Le:pe).node()),le=ye.width,oe=ye.height,ve=v.width||le,Ce=v.height||oe,ke=Math.round(ve+2*$),Ae=Math.round(Ce+2*$);function Ee(bt,dt){return dt==="auto"&&(dt=bt<.3333333333333333?"left":bt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dt]}for(var ze=!1,Fe=["x","y"],ge=0;ge<Fe.length;ge++){var Te,Se,Re,Pe,Ve,We=Fe[ge],Qe=v[We+"ref"]||We,lt=v["a"+We+"ref"],ut={x:m,y:_}[We],xt=(Z+(We==="x"?0:-90))*Math.PI/180,_t=ke*Math.cos(xt),mt=Ae*Math.sin(xt),it=Math.abs(_t)+Math.abs(mt),nt=v[We+"anchor"],Et=v[We+"shift"]*(We==="x"?1:-1),Rt=j[We],Ft=f.getRefType(Qe);if(ut&&Ft!=="domain"){var Pt=ut.r2fraction(v[We]);(Pt<0||Pt>1)&&(lt===Qe?((Pt=ut.r2fraction(v["a"+We]))<0||Pt>1)&&(ze=!0):ze=!0),Te=ut._offset+ut.r2p(v[We]),Pe=.5}else{var Ze=Ft==="domain";We==="x"?(Re=v[We],Te=Ze?ut._offset+ut._length*Re:Te=E.l+E.w*Re):(Re=1-v[We],Te=Ze?ut._offset+ut._length*Re:Te=E.t+E.h*Re),Pe=v.showarrow?.5:Re}if(v.showarrow){Rt.head=Te;var $e=v["a"+We];if(Ve=_t*Ee(.5,v.xanchor)-mt*Ee(.5,v.yanchor),lt===Qe){var He=f.getRefType(lt);He==="domain"?(We==="y"&&($e=1-$e),Rt.tail=ut._offset+ut._length*$e):He==="paper"?We==="y"?($e=1-$e,Rt.tail=E.t+E.h*$e):Rt.tail=E.l+E.w*$e:Rt.tail=ut._offset+ut.r2p($e),Se=Ve}else Rt.tail=Te+$e,Se=Ve+$e;Rt.text=Rt.tail+Ve;var Je=T[We==="x"?"width":"height"];if(Qe==="paper"&&(Rt.head=w.constrain(Rt.head,1,Je-1)),lt==="pixel"){var ft=-Math.max(Rt.tail-3,Rt.text),ot=Math.min(Rt.tail+3,Rt.text)-Je;ft>0?(Rt.tail+=ft,Rt.text+=ft):ot>0&&(Rt.tail-=ot,Rt.text-=ot)}Rt.tail+=Et,Rt.head+=Et}else Se=Ve=it*Ee(Pe,nt),Rt.text=Te+Ve;Rt.text+=Et,Ve+=Et,Se+=Et,v["_"+We+"padplus"]=it/2+Se,v["_"+We+"padminus"]=it/2-Se,v["_"+We+"size"]=it,v["_"+We+"shift"]=Ve}if(ze)ne.remove();else{var je=0,Ue=0;if(v.align!=="left"&&(je=(ve-le)*(v.align==="center"?.5:1)),v.valign!=="top"&&(Ue=(Ce-oe)*(v.valign==="middle"?.5:1)),De)Le.select("svg").attr({x:$+je-1,y:$+Ue}).call(n.setClipUrl,ae?z:null,d);else{var st=$+Ue-ye.top,Ke=$+je-ye.left;pe.call(r.positionText,Ke,st).call(n.setClipUrl,ae?z:null,d)}ue.select("rect").call(n.setRect,$,$,ve,Ce),K.call(n.setRect,te/2,te/2,ke-te,Ae-te),ne.call(n.setTranslate,Math.round(j.x.text-ke/2),Math.round(j.y.text-Ae/2)),V.attr({transform:"rotate("+Z+","+j.x.text+","+j.y.text+")"});var gt,yt=function(bt,dt){F.selectAll(".annotation-arrow-g").remove();var Lt=j.x.head,wt=j.y.head,Ct=j.x.tail+bt,zt=j.y.tail+dt,Dt=j.x.text+bt,Nt=j.y.text+dt,Kt=w.rotationXYMatrix(Z,Dt,Nt),un=w.apply2DTransform(Kt),qt=w.apply2DTransform2(Kt),Jt=+K.attr("width"),Ut=+K.attr("height"),zn=Dt-.5*Jt,An=zn+Jt,mn=Nt-.5*Ut,tn=mn+Ut,fn=[[zn,mn,zn,tn],[zn,tn,An,tn],[An,tn,An,mn],[An,mn,zn,mn]].map(qt);if(!fn.reduce(function(ir,Jn){return ir^!!w.segmentsIntersect(Lt,wt,Lt+1e6,wt+1e6,Jn[0],Jn[1],Jn[2],Jn[3])},!1)){fn.forEach(function(ir){var Jn=w.segmentsIntersect(Ct,zt,Lt,wt,ir[0],ir[1],ir[2],ir[3]);Jn&&(Ct=Jn.x,zt=Jn.y)});var rn=v.arrowwidth,pn=v.arrowcolor,wn=v.arrowside,kn=F.append("g").style({opacity:s.opacity(pn)}).classed("annotation-arrow-g",!0),Pn=kn.append("path").attr("d","M"+Ct+","+zt+"L"+Lt+","+wt).style("stroke-width",rn+"px").call(s.stroke,s.rgb(pn));if(u(Pn,wn,v),O.annotationPosition&&Pn.node().parentNode&&!x){var On=Lt,En=wt;if(v.standoff){var Vn=Math.sqrt(Math.pow(Lt-Ct,2)+Math.pow(wt-zt,2));On+=v.standoff*(Ct-Lt)/Vn,En+=v.standoff*(zt-wt)/Vn}var Fn,Wn,rr=kn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ct-On)+","+(zt-En),transform:b(On,En)}).style("stroke-width",rn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");a.init({element:rr.node(),gd:d,prepFn:function(){var ir=n.getTranslate(ne);Fn=ir.x,Wn=ir.y,m&&m.autorange&&I(m._name+".autorange",!0),_&&_.autorange&&I(_._name+".autorange",!0)},moveFn:function(ir,Jn){var dr=un(Fn,Wn),nn=dr[0]+ir,an=dr[1]+Jn;ne.call(n.setTranslate,nn,an),R("x",c(m,ir,"x",E,v)),R("y",c(_,Jn,"y",E,v)),v.axref===v.xref&&R("ax",c(m,ir,"ax",E,v)),v.ayref===v.yref&&R("ay",c(_,Jn,"ay",E,v)),kn.attr("transform",b(ir,Jn)),V.attr({transform:"rotate("+Z+","+nn+","+an+")"})},doneFn:function(){A.call("_guiRelayout",d,H());var ir=document.querySelector(".js-notes-box-panel");ir&&ir.redraw(ir.selectedObj)}})}}};v.showarrow&&yt(0,0),W&&a.init({element:ne.node(),gd:d,prepFn:function(){gt=V.attr("transform")},moveFn:function(bt,dt){var Lt="pointer";if(v.showarrow)v.axref===v.xref?R("ax",c(m,bt,"ax",E,v)):R("ax",v.ax+bt),v.ayref===v.yref?R("ay",c(_,dt,"ay",E.w,v)):R("ay",v.ay+dt),yt(bt,dt);else{if(x)return;var wt,Ct;if(m)wt=c(m,bt,"x",E,v);else{var zt=v._xsize/E.w,Dt=v.x+(v._xshift-v.xshift)/E.w-zt/2;wt=a.align(Dt+bt/E.w,zt,0,1,v.xanchor)}if(_)Ct=c(_,dt,"y",E,v);else{var Nt=v._ysize/E.h,Kt=v.y-(v._yshift+v.yshift)/E.h-Nt/2;Ct=a.align(Kt-dt/E.h,Nt,0,1,v.yanchor)}R("x",wt),R("y",Ct),m&&_||(Lt=a.getCursor(m?.5:wt,_?.5:Ct,v.xanchor,v.yanchor))}V.attr({transform:b(bt,dt)+gt}),t(ne,Lt)},clickFn:function(bt,dt){v.captureevents&&d.emit("plotly_clickannotation",de(dt))},doneFn:function(){t(ne),A.call("_guiRelayout",d,H());var bt=document.querySelector(".js-notes-box-panel");bt&&bt.redraw(bt.selectedObj)}})}}}U.exports={draw:function(d){var v=d._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var g=0;g<v.annotations.length;g++)v.annotations[g].visible&&h(d,g);return o.previousPromises(d)},drawOne:h,drawRaw:y}},33652:function(U,C,e){var k=e(33428),A=e(76308),o=e(72196),w=e(3400),b=w.strScale,f=w.strRotate,s=w.strTranslate;U.exports=function(n,i,r){var t,a,l,u,h=n.node(),c=o[r.arrowhead||0],y=o[r.startarrowhead||0],d=(r.arrowwidth||1)*(r.arrowsize||1),v=(r.arrowwidth||1)*(r.startarrowsize||1),g=i.indexOf("start")>=0,x=i.indexOf("end")>=0,m=c.backoff*d+r.standoff,_=y.backoff*v+r.startstandoff;if(h.nodeName==="line"){t={x:+n.attr("x1"),y:+n.attr("y1")},a={x:+n.attr("x2"),y:+n.attr("y2")};var p=t.x-a.x,S=t.y-a.y;if(u=(l=Math.atan2(S,p))+Math.PI,m&&_&&m+_>Math.sqrt(p*p+S*S))return void F();if(m){if(m*m>p*p+S*S)return void F();var T=m*Math.cos(l),E=m*Math.sin(l);a.x+=T,a.y+=E,n.attr({x2:a.x,y2:a.y})}if(_){if(_*_>p*p+S*S)return void F();var O=_*Math.cos(l),P=_*Math.sin(l);t.x-=O,t.y-=P,n.attr({x1:t.x,y1:t.y})}}else if(h.nodeName==="path"){var I=h.getTotalLength(),R="";if(I<m+_)return void F();var H=h.getPointAtLength(0),z=h.getPointAtLength(.1);l=Math.atan2(H.y-z.y,H.x-z.x),t=h.getPointAtLength(Math.min(_,I)),R="0px,"+_+"px,";var j=h.getPointAtLength(I),Z=h.getPointAtLength(I-.1);u=Math.atan2(j.y-Z.y,j.x-Z.x),a=h.getPointAtLength(Math.max(0,I-m)),R+=I-(R?_+m:m)+"px,"+I+"px",n.style("stroke-dasharray",R)}function F(){n.style("stroke-dasharray","0px,100px")}function V(W,re,ne,te){W.path&&(W.noRotate&&(ne=0),k.select(h.parentNode).append("path").attr({class:n.attr("class"),d:W.path,transform:s(re.x,re.y)+f(180*ne/Math.PI)+b(te)}).style({fill:A.rgb(r.arrowcolor),"stroke-width":0}))}g&&V(y,t,l,v),x&&V(c,a,u,d)}},79180:function(U,C,e){var k=e(23816),A=e(42300);U.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:k.draw,drawOne:k.drawOne,drawRaw:k.drawRaw,hasClickToShow:A.hasClickToShow,onClick:A.onClick,convertCoords:e(26828)}},45899:function(U,C,e){var k=e(13916),A=e(67824).overrideAll,o=e(31780).templatedArray;U.exports=A(o("annotation",{visible:k.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:k.xanchor,xshift:k.xshift,yanchor:k.yanchor,yshift:k.yshift,text:k.text,textangle:k.textangle,font:k.font,width:k.width,height:k.height,opacity:k.opacity,align:k.align,valign:k.valign,bgcolor:k.bgcolor,bordercolor:k.bordercolor,borderpad:k.borderpad,borderwidth:k.borderwidth,showarrow:k.showarrow,arrowcolor:k.arrowcolor,arrowhead:k.arrowhead,startarrowhead:k.startarrowhead,arrowside:k.arrowside,arrowsize:k.arrowsize,startarrowsize:k.startarrowsize,arrowwidth:k.arrowwidth,standoff:k.standoff,startstandoff:k.startstandoff,hovertext:k.hovertext,hoverlabel:k.hoverlabel,captureevents:k.captureevents}),"calc","from-root")},42456:function(U,C,e){var k=e(3400),A=e(54460);function o(w,b){var f=b.fullSceneLayout.domain,s=b.fullLayout._size,n={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};w._xa={},k.extendFlat(w._xa,n),A.setConvert(w._xa),w._xa._offset=s.l+f.x[0]*s.w,w._xa.l2p=function(){return .5*(1+w._pdata[0]/w._pdata[3])*s.w*(f.x[1]-f.x[0])},w._ya={},k.extendFlat(w._ya,n),A.setConvert(w._ya),w._ya._offset=s.t+(1-f.y[1])*s.h,w._ya.l2p=function(){return .5*(1-w._pdata[1]/w._pdata[3])*s.h*(f.y[1]-f.y[0])}}U.exports=function(w){for(var b=w.fullSceneLayout.annotations,f=0;f<b.length;f++)o(b[f],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()}},52808:function(U,C,e){var k=e(3400),A=e(54460),o=e(51272),w=e(87192),b=e(45899);function f(s,n,i,r){function t(l,u){return k.coerce(s,n,b,l,u)}function a(l){var u=l+"axis",h={_fullLayout:{}};return h._fullLayout[u]=i[u],A.coercePosition(n,h,t,l,l,.5)}t("visible")&&(w(s,n,r.fullLayout,t),a("x"),a("y"),a("z"),k.noneOrAll(s,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",t("xanchor"),t("yanchor"),t("xshift"),t("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",t("ax",-10),t("ay",-30),k.noneOrAll(s,n,["ax","ay"])))}U.exports=function(s,n,i){o(s,n,{name:"annotations",handleItemDefaults:f,fullLayout:i.fullLayout})}},71836:function(U,C,e){var k=e(23816).drawRaw,A=e(94424),o=["x","y","z"];U.exports=function(w){for(var b=w.fullSceneLayout,f=w.dataScale,s=b.annotations,n=0;n<s.length;n++){for(var i=s[n],r=!1,t=0;t<3;t++){var a=o[t],l=i[a],u=b[a+"axis"].r2fraction(l);if(u<0||u>1){r=!0;break}}r?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+n+'"]').remove():(i._pdata=A(w.glplot.cameraParams,[b.xaxis.r2l(i.x)*f[0],b.yaxis.r2l(i.y)*f[1],b.zaxis.r2l(i.z)*f[2]]),k(w.graphDiv,i,n,w.id,i._xa,i._ya))}}},56864:function(U,C,e){var k=e(24040),A=e(3400);U.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(o,w){var b=k.subplotsRegistry.gl3d;if(b)for(var f=b.attrRegex,s=Object.keys(o),n=0;n<s.length;n++){var i=s[n];f.test(i)&&(o[i].annotations||[]).length&&(A.pushUnique(w._basePlotModules,b),A.pushUnique(w._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(U,C,e){U.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(U,C,e){var k=e(54976),A=e(3400),o=e(39032),w=o.EPOCHJD,b=o.ONEDAY,f={valType:"enumerated",values:A.sortObjectKeys(k.calendars),editType:"calc",dflt:"gregorian"},s=function(d,v,g,x){var m={};return m[g]=f,A.coerce(d,v,m,g,x)},n="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:n,w:n,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function t(d){var v=r[d];return v||(r[d]=k.instance(d))}function a(d){return A.extendFlat({},f,{description:d})}function l(d){return"Sets the calendar system to use with `"+d+"` date data."}var u={xcalendar:a(l("x"))},h=A.extendFlat({},u,{ycalendar:a(l("y"))}),c=A.extendFlat({},h,{zcalendar:a(l("z"))}),y=a(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));U.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:c,surface:c,mesh3d:c,scattergl:h,ohlc:u,candlestick:u},layout:{calendar:a(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:y},yaxis:{calendar:y},scene:{xaxis:{calendar:y},yaxis:{calendar:y},zaxis:{calendar:y}},polar:{radialaxis:{calendar:y}}},transforms:{filter:{valuecalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:s,handleTraceDefaults:function(d,v,g,x){for(var m=0;m<g.length;m++)s(d,v,g[m]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:t,worldCalFmt:function(d,v,g){for(var x,m,_,p,S,T=Math.floor((v+.05)/b)+w,E=t(g).fromJD(T),O=0;(O=d.indexOf("%",O))!==-1;)(x=d.charAt(O+1))==="0"||x==="-"||x==="_"?(_=3,m=d.charAt(O+2),x==="_"&&(x="-")):(m=x,x="0",_=2),(p=i[m])?(S=p===n?n:E.formatDate(p[x]),d=d.substr(0,O)+S+d.substr(O+_),O+=S.length):O+=_;return d}}},22548:function(U,C){C.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],C.defaultLine="#444",C.lightLine="#eee",C.background="#fff",C.borderLine="#BEC8D9",C.lightFraction=90.9090909090909},76308:function(U,C,e){var k=e(49760),A=e(38248),o=e(38116).isTypedArray,w=U.exports={},b=e(22548);w.defaults=b.defaults;var f=w.defaultLine=b.defaultLine;w.lightLine=b.lightLine;var s=w.background=b.background;function n(i){if(A(i)||typeof i!="string")return i;var r=i.trim();if(r.substr(0,3)!=="rgb")return i;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return i;var a=t[1].trim().split(/\s*[\s,]\s*/),l=r.charAt(3)==="a"&&a.length===4;if(!l&&a.length!==3)return i;for(var u=0;u<a.length;u++){if(!a[u].length||(a[u]=Number(a[u]),!(a[u]>=0)))return i;if(u===3)a[u]>1&&(a[u]=1);else if(a[u]>=1)return i}var h=Math.round(255*a[0])+", "+Math.round(255*a[1])+", "+Math.round(255*a[2]);return l?"rgba("+h+", "+a[3]+")":"rgb("+h+")"}w.tinyRGB=function(i){var r=i.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},w.rgb=function(i){return w.tinyRGB(k(i))},w.opacity=function(i){return i?k(i).getAlpha():0},w.addOpacity=function(i,r){var t=k(i).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"},w.combine=function(i,r){var t=k(i).toRgb();if(t.a===1)return k(i).toRgbString();var a=k(r||s).toRgb(),l=a.a===1?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},u={r:l.r*(1-t.a)+t.r*t.a,g:l.g*(1-t.a)+t.g*t.a,b:l.b*(1-t.a)+t.b*t.a};return k(u).toRgbString()},w.interpolate=function(i,r,t){var a=k(i).toRgb(),l=k(r).toRgb(),u={r:t*a.r+(1-t)*l.r,g:t*a.g+(1-t)*l.g,b:t*a.b+(1-t)*l.b};return k(u).toRgbString()},w.contrast=function(i,r,t){var a=k(i);return a.getAlpha()!==1&&(a=k(w.combine(i,s))),(a.isDark()?r?a.lighten(r):s:t?a.darken(t):f).toString()},w.stroke=function(i,r){var t=k(r);i.style({stroke:w.tinyRGB(t),"stroke-opacity":t.getAlpha()})},w.fill=function(i,r){var t=k(r);i.style({fill:w.tinyRGB(t),"fill-opacity":t.getAlpha()})},w.clean=function(i){if(i&&typeof i=="object"){var r,t,a,l,u=Object.keys(i);for(r=0;r<u.length;r++)if(l=i[a=u[r]],a.substr(a.length-5)==="color")if(Array.isArray(l))for(t=0;t<l.length;t++)l[t]=n(l[t]);else i[a]=n(l);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(l))for(t=0;t<l.length;t++)Array.isArray(l[t])&&(l[t][1]=n(l[t][1]));else if(Array.isArray(l)){var h=l[0];if(!Array.isArray(h)&&h&&typeof h=="object")for(t=0;t<l.length;t++)w.clean(l[t])}else l&&typeof l=="object"&&!o(l)&&w.clean(l)}}},42996:function(U,C,e){var k=e(94724),A=e(25376),o=e(92880).extendFlat,w=e(67824).overrideAll;U.exports=w({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:k.linecolor,outlinewidth:k.linewidth,bordercolor:k.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:o({},k.ticks,{dflt:""}),ticklabeloverflow:o({},k.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:A({}),tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,separatethousands:k.separatethousands,exponentformat:k.exponentformat,minexponent:k.minexponent,showexponent:k.showexponent,title:{text:{valType:"string"},font:A({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:A({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(U){U.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(U,C,e){var k=e(3400),A=e(31780),o=e(26332),w=e(25404),b=e(95936),f=e(42568),s=e(42996);U.exports=function(n,i,r){var t=A.newContainer(i,"colorbar"),a=n.colorbar||{};function l(R,H){return k.coerce(a,t,s,R,H)}var u=r.margin||{t:0,b:0,l:0,r:0},h=r.width-u.l-u.r,c=r.height-u.t-u.b,y=l("orientation")==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(y?h:c):30);var v=l("lenmode");l("len",v==="fraction"?1:y?c:h);var g,x,m,_=l("yref")==="paper",p=l("xref")==="paper",S="left";y?(m="middle",S=p?"left":"right",g=p?1.02:1,x=.5):(m=_?"bottom":"top",S="center",g=.5,x=_?1.02:1),k.coerce(a,t,{x:{valType:"number",min:p?-2:0,max:p?3:1,dflt:g}},"x"),k.coerce(a,t,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:x}},"y"),l("xanchor",S),l("xpad"),l("yanchor",m),l("ypad"),k.noneOrAll(a,t,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var T=k.coerce(a,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:y?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",T.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(a,t,l,"linear");var E=r.font,O={noAutotickangles:!0,outerTicks:!1,font:E};T.indexOf("inside")!==-1&&(O.bgColor="black"),f(a,t,l,"linear",O),b(a,t,l,"linear",O),w(a,t,l,"linear",O),l("title.text",r._dfltTitle.colorbar);var P=t.showticklabels?t.tickfont:E,I=k.extendFlat({},E,{family:P.family,size:k.bigFont(P.size)});k.coerceFont(l,"title.font",I),l("title.side",y?"top":"right")}},37848:function(U,C,e){var k=e(33428),A=e(49760),o=e(7316),w=e(24040),b=e(54460),f=e(86476),s=e(3400),n=s.strTranslate,i=e(92880).extendFlat,r=e(93972),t=e(43616),a=e(76308),l=e(81668),u=e(72736),h=e(94288).flipScale,c=e(28336),y=e(37668),d=e(94724),v=e(84284),g=v.LINE_SPACING,x=v.FROM_TL,m=v.FROM_BR,_=e(63964).cn;U.exports={draw:function(p){var S=p._fullLayout._infolayer.selectAll("g."+_.colorbar).data(function(T){var E,O,P,I,R=T._fullLayout,H=T.calcdata,z=[];function j(ae){return i(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Z(){typeof I.calc=="function"?I.calc(T,P,E):(E._fillgradient=O.reversescale?h(O.colorscale):O.colorscale,E._zrange=[O[I.min],O[I.max]])}for(var F=0;F<H.length;F++){var V=H[F];if((P=V[0].trace)._module){var W=P._module.colorbar;if(P.visible===!0&&W)for(var re=Array.isArray(W),ne=re?W:[W],te=0;te<ne.length;te++){var Q=(I=ne[te]).container;(O=Q?P[Q]:P)&&O.showscale&&((E=j(O.colorbar))._id="cb"+P.uid+(re&&Q?"-"+Q:""),E._traceIndex=P.index,E._propPrefix=(Q?Q+".":"")+"colorbar.",E._meta=P._meta,Z(),z.push(E))}}}for(var $ in R._colorAxes)if((O=R[$]).showscale){var K=R._colorAxes[$];(E=j(O.colorbar))._id="cb"+$,E._propPrefix=$+".colorbar.",E._meta=R._meta,I={min:"cmin",max:"cmax"},K[0]!=="heatmap"&&(P=K[1],I.calc=P._module.colorbar.calc),Z(),z.push(E)}return z}(p),function(T){return T._id});S.enter().append("g").attr("class",function(T){return T._id}).classed(_.colorbar,!0),S.each(function(T){var E=k.select(this);s.ensureSingle(E,"rect",_.cbbg),s.ensureSingle(E,"g",_.cbfills),s.ensureSingle(E,"g",_.cblines),s.ensureSingle(E,"g",_.cbaxis,function(P){P.classed(_.crisp,!0)}),s.ensureSingle(E,"g",_.cbtitleunshift,function(P){P.append("g").classed(_.cbtitle,!0)}),s.ensureSingle(E,"rect",_.cboutline);var O=function(P,I,R){var H=I.orientation==="v",z=I.len,j=I.lenmode,Z=I.thickness,F=I.thicknessmode,V=I.outlinewidth,W=I.borderwidth,re=I.bgcolor,ne=I.xanchor,te=I.yanchor,Q=I.xpad,$=I.ypad,K=I.x,ae=H?I.y:1-I.y,ue=I.yref==="paper",se=I.xref==="paper",he=R._fullLayout,pe=he._size,de=I._fillcolor,xe=I._line,_e=I.title,be=_e.side,Le=I._zrange||k.extent((typeof de=="function"?de:xe.color).domain()),De=typeof xe.color=="function"?xe.color:function(){return xe.color},ye=typeof de=="function"?de:function(){return de},le=I._levels,oe=function(He,Je,ft){var ot,je,Ue=Je._levels,st=[],Ke=[],gt=Ue.end+Ue.size/100,yt=Ue.size,bt=1.001*ft[0]-.001*ft[1],dt=1.001*ft[1]-.001*ft[0];for(je=0;je<1e5&&(ot=Ue.start+je*yt,!(yt>0?ot>=gt:ot<=gt));je++)ot>bt&&ot<dt&&st.push(ot);if(Je._fillgradient)Ke=[0];else if(typeof Je._fillcolor=="function"){var Lt=Je._filllevels;if(Lt)for(gt=Lt.end+Lt.size/100,yt=Lt.size,je=0;je<1e5&&(ot=Lt.start+je*yt,!(yt>0?ot>=gt:ot<=gt));je++)ot>ft[0]&&ot<ft[1]&&Ke.push(ot);else(Ke=st.map(function(wt){return wt-Ue.size/2})).push(Ke[Ke.length-1]+Ue.size)}else Je._fillcolor&&typeof Je._fillcolor=="string"&&(Ke=[0]);return Ue.size<0&&(st.reverse(),Ke.reverse()),{line:st,fill:Ke}}(0,I,Le),ve=oe.fill,Ce=oe.line,ke=Math.round(Z*(F==="fraction"?H?pe.w:pe.h:1)),Ae=ke/(H?pe.w:pe.h),Ee=Math.round(z*(j==="fraction"?H?pe.h:pe.w:1)),ze=Ee/(H?pe.h:pe.w),Fe=se?pe.w:R._fullLayout.width,ge=ue?pe.h:R._fullLayout.height,Te=Math.round(H?K*Fe+Q:ae*ge+$),Se={center:.5,right:1}[ne]||0,Re={top:1,middle:.5}[te]||0,Pe=H?K-Se*Ae:ae-Re*Ae,Ve=H?ae-Re*ze:K-Se*ze,We=Math.round(H?ge*(1-Ve):Fe*Ve);I._lenFrac=ze,I._thickFrac=Ae,I._uFrac=Pe,I._vFrac=Ve;var Qe=I._axis=function(He,Je,ft){var ot=He._fullLayout,je=Je.orientation==="v",Ue={type:"linear",range:ft,tickmode:Je.tickmode,nticks:Je.nticks,tick0:Je.tick0,dtick:Je.dtick,tickvals:Je.tickvals,ticktext:Je.ticktext,ticks:Je.ticks,ticklen:Je.ticklen,tickwidth:Je.tickwidth,tickcolor:Je.tickcolor,showticklabels:Je.showticklabels,labelalias:Je.labelalias,ticklabelposition:Je.ticklabelposition,ticklabeloverflow:Je.ticklabeloverflow,ticklabelstep:Je.ticklabelstep,tickfont:Je.tickfont,tickangle:Je.tickangle,tickformat:Je.tickformat,exponentformat:Je.exponentformat,minexponent:Je.minexponent,separatethousands:Je.separatethousands,showexponent:Je.showexponent,showtickprefix:Je.showtickprefix,tickprefix:Je.tickprefix,showticksuffix:Je.showticksuffix,ticksuffix:Je.ticksuffix,title:Je.title,showline:!0,anchor:"free",side:je?"right":"bottom",position:1},st=je?"y":"x",Ke={type:"linear",_id:st+Je._id},gt={letter:st,font:ot.font,noAutotickangles:st==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ot.calendar};function yt(bt,dt){return s.coerce(Ue,Ke,d,bt,dt)}return c(Ue,Ke,yt,gt,ot),y(Ue,Ke,yt,gt),Ke}(R,I,Le);Qe.position=Ae+(H?K+Q/pe.w:ae+$/pe.h);var lt=["top","bottom"].indexOf(be)!==-1;if(H&&lt&&(Qe.title.side=be,Qe.titlex=K+Q/pe.w,Qe.titley=Ve+(_e.side==="top"?ze-$/pe.h:$/pe.h)),H||lt||(Qe.title.side=be,Qe.titley=ae+$/pe.h,Qe.titlex=Ve+Q/pe.w),xe.color&&I.tickmode==="auto"){Qe.tickmode="linear",Qe.tick0=le.start;var ut=le.size,xt=s.constrain(Ee/50,4,15)+1,_t=(Le[1]-Le[0])/((I.nticks||xt)*ut);if(_t>1){var mt=Math.pow(10,Math.floor(Math.log(_t)/Math.LN10));ut*=mt*s.roundUp(_t/mt,[2,5,10]),(Math.abs(le.start)/le.size+1e-6)%1<2e-6&&(Qe.tick0=0)}Qe.dtick=ut}Qe.domain=H?[Ve+$/pe.h,Ve+ze-$/pe.h]:[Ve+Q/pe.w,Ve+ze-Q/pe.w],Qe.setScale(),P.attr("transform",n(Math.round(pe.l),Math.round(pe.t)));var it,nt=P.select("."+_.cbtitleunshift).attr("transform",n(-Math.round(pe.l),-Math.round(pe.t))),Et=Qe.ticklabelposition,Rt=Qe.title.font.size,Ft=P.select("."+_.cbaxis),Pt=0,Ze=0;function $e(He,Je){var ft={propContainer:Qe,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:he._dfltTitle.colorbar,containerGroup:P.select("."+_.cbtitle)},ot=He.charAt(0)==="h"?He.substr(1):"h"+He;P.selectAll("."+ot+",."+ot+"-math-group").remove(),l.draw(R,He,i(ft,Je||{}))}return s.syncOrAsync([o.previousPromises,function(){var He,Je;(H&&lt||!H&&!lt)&&(be==="top"&&(He=Q+pe.l+Fe*K,Je=$+pe.t+ge*(1-Ve-ze)+3+.75*Rt),be==="bottom"&&(He=Q+pe.l+Fe*K,Je=$+pe.t+ge*(1-Ve)-3-.25*Rt),be==="right"&&(Je=$+pe.t+ge*ae+3+.75*Rt,He=Q+pe.l+Fe*Ve),$e(Qe._id+"title",{attributes:{x:He,y:Je,"text-anchor":H?"start":"middle"}}))},function(){if(!H&&!lt||H&&lt){var He,Je=P.select("."+_.cbtitle),ft=Je.select("text"),ot=[-V/2,V/2],je=Je.select(".h"+Qe._id+"title-math-group").node(),Ue=15.6;if(ft.node()&&(Ue=parseInt(ft.node().style.fontSize,10)*g),je?(He=t.bBox(je),Ze=He.width,(Pt=He.height)>Ue&&(ot[1]-=(Pt-Ue)/2)):ft.node()&&!ft.classed(_.jsPlaceholder)&&(He=t.bBox(ft.node()),Ze=He.width,Pt=He.height),H){if(Pt){if(Pt+=5,be==="top")Qe.domain[1]-=Pt/pe.h,ot[1]*=-1;else{Qe.domain[0]+=Pt/pe.h;var st=u.lineCount(ft);ot[1]+=(1-st)*Ue}Je.attr("transform",n(ot[0],ot[1])),Qe.setScale()}}else Ze&&(be==="right"&&(Qe.domain[0]+=(Ze+Rt/2)/pe.w),Je.attr("transform",n(ot[0],ot[1])),Qe.setScale())}P.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",H?n(0,Math.round(pe.h*(1-Qe.domain[1]))):n(Math.round(pe.w*Qe.domain[0]),0)),Ft.attr("transform",H?n(0,Math.round(-pe.t)):n(Math.round(-pe.l),0));var Ke=P.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(ve);Ke.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Ke.exit().remove();var gt=Le.map(Qe.c2p).map(Math.round).sort(function(wt,Ct){return wt-Ct});Ke.each(function(wt,Ct){var zt=[Ct===0?Le[0]:(ve[Ct]+ve[Ct-1])/2,Ct===ve.length-1?Le[1]:(ve[Ct]+ve[Ct+1])/2].map(Qe.c2p).map(Math.round);H&&(zt[1]=s.constrain(zt[1]+(zt[1]>zt[0])?1:-1,gt[0],gt[1]));var Dt=k.select(this).attr(H?"x":"y",Te).attr(H?"y":"x",k.min(zt)).attr(H?"width":"height",Math.max(ke,2)).attr(H?"height":"width",Math.max(k.max(zt)-k.min(zt),2));if(I._fillgradient)t.gradient(Dt,R,I._id,H?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Nt=ye(wt).replace("e-","");Dt.attr("fill",A(Nt).toHexString())}});var yt=P.select("."+_.cblines).selectAll("path."+_.cbline).data(xe.color&&xe.width?Ce:[]);yt.enter().append("path").classed(_.cbline,!0),yt.exit().remove(),yt.each(function(wt){var Ct=Te,zt=Math.round(Qe.c2p(wt))+xe.width/2%1;k.select(this).attr("d","M"+(H?Ct+","+zt:zt+","+Ct)+(H?"h":"v")+ke).call(t.lineGroupStyle,xe.width,De(wt),xe.dash)}),Ft.selectAll("g."+Qe._id+"tick,path").remove();var bt=Te+ke+(V||0)/2-(I.ticks==="outside"?1:0),dt=b.calcTicks(Qe),Lt=b.getTickSigns(Qe)[2];return b.drawTicks(R,Qe,{vals:Qe.ticks==="inside"?b.clipEnds(Qe,dt):dt,layer:Ft,path:b.makeTickPath(Qe,bt,Lt),transFn:b.makeTransTickFn(Qe)}),b.drawLabels(R,Qe,{vals:dt,layer:Ft,transFn:b.makeTransTickLabelFn(Qe),labelFns:b.makeLabelFns(Qe,bt)})},function(){if(H&&!lt||!H&&lt){var He,Je,ft=Qe.position||0,ot=Qe._offset+Qe._length/2;if(be==="right")Je=ot,He=pe.l+Fe*ft+10+Rt*(Qe.showticklabels?1:.5);else if(He=ot,be==="bottom"&&(Je=pe.t+ge*ft+10+(Et.indexOf("inside")===-1?Qe.tickfont.size:0)+(Qe.ticks!=="intside"&&I.ticklen||0)),be==="top"){var je=_e.text.split("<br>").length;Je=pe.t+ge*ft+10-ke-g*Rt*je}$e((H?"h":"v")+Qe._id+"title",{avoid:{selection:k.select(R).selectAll("g."+Qe._id+"tick"),side:be,offsetTop:H?0:pe.t,offsetLeft:H?pe.l:0,maxShift:H?he.width:he.height},attributes:{x:He,y:Je,"text-anchor":"middle"},transform:{rotate:H?-90:0,offset:0}})}},o.previousPromises,function(){var He,Je=ke+V/2;Et.indexOf("inside")===-1&&(He=t.bBox(Ft.node()),Je+=H?He.width:He.height),it=nt.select("text");var ft=0,ot=H&&be==="top",je=!H&&be==="right",Ue=0;if(it.node()&&!it.classed(_.jsPlaceholder)){var st,Ke=nt.select(".h"+Qe._id+"title-math-group").node();Ke&&(H&&lt||!H&&!lt)?(ft=(He=t.bBox(Ke)).width,st=He.height):(ft=(He=t.bBox(nt.node())).right-pe.l-(H?Te:We),st=He.bottom-pe.t-(H?We:Te),H||be!=="top"||(Je+=He.height,Ue=He.height)),je&&(it.attr("transform",n(ft/2+Rt/2,0)),ft*=2),Je=Math.max(Je,H?ft:st)}var gt=2*(H?Q:$)+Je+W+V/2,yt=0;!H&&_e.text&&te==="bottom"&&ae<=0&&(gt+=yt=gt/2,Ue+=yt),he._hColorbarMoveTitle=yt,he._hColorbarMoveCBTitle=Ue;var bt=W+V,dt=(H?Te:We)-bt/2-(H?Q:0),Lt=(H?We:Te)-(H?Ee:$+Ue-yt);P.select("."+_.cbbg).attr("x",dt).attr("y",Lt).attr(H?"width":"height",Math.max(gt-yt,2)).attr(H?"height":"width",Math.max(Ee+bt,2)).call(a.fill,re).call(a.stroke,I.bordercolor).style("stroke-width",W);var wt=je?Math.max(ft-10,0):0;P.selectAll("."+_.cboutline).attr("x",(H?Te:We+Q)+wt).attr("y",(H?We+$-Ee:Te)+(ot?Pt:0)).attr(H?"width":"height",Math.max(ke,2)).attr(H?"height":"width",Math.max(Ee-(H?2*$+Pt:2*Q+wt),2)).call(a.stroke,I.outlinecolor).style({fill:"none","stroke-width":V});var Ct=H?Se*gt:0,zt=H?0:(1-Re)*gt-Ue;if(Ct=se?pe.l-Ct:-Ct,zt=ue?pe.t-zt:-zt,P.attr("transform",n(Ct,zt)),!H&&(W||A(re).getAlpha()&&!A.equals(he.paper_bgcolor,re))){var Dt=Ft.selectAll("text"),Nt=Dt[0].length,Kt=P.select("."+_.cbbg).node(),un=t.bBox(Kt),qt=t.getTranslate(P);Dt.each(function(wn,kn){var Pn=Nt-1;if(kn===0||kn===Pn){var On,En=t.bBox(this),Vn=t.getTranslate(this);if(kn===Pn){var Fn=En.right+Vn.x;(On=un.right+qt.x+We-W-2+K-Fn)>0&&(On=0)}else if(kn===0){var Wn=En.left+Vn.x;(On=un.left+qt.x+We+W+2-Wn)<0&&(On=0)}On&&(Nt<3?this.setAttribute("transform","translate("+On+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Jt={},Ut=x[ne],zn=m[ne],An=x[te],mn=m[te],tn=gt-ke;H?(j==="pixels"?(Jt.y=ae,Jt.t=Ee*An,Jt.b=Ee*mn):(Jt.t=Jt.b=0,Jt.yt=ae+z*An,Jt.yb=ae-z*mn),F==="pixels"?(Jt.x=K,Jt.l=gt*Ut,Jt.r=gt*zn):(Jt.l=tn*Ut,Jt.r=tn*zn,Jt.xl=K-Z*Ut,Jt.xr=K+Z*zn)):(j==="pixels"?(Jt.x=K,Jt.l=Ee*Ut,Jt.r=Ee*zn):(Jt.l=Jt.r=0,Jt.xl=K+z*Ut,Jt.xr=K-z*zn),F==="pixels"?(Jt.y=1-ae,Jt.t=gt*An,Jt.b=gt*mn):(Jt.t=tn*An,Jt.b=tn*mn,Jt.yt=ae-Z*An,Jt.yb=ae+Z*mn));var fn=I.y<.5?"b":"t",rn=I.x<.5?"l":"r";R._fullLayout._reservedMargin[I._id]={};var pn={r:he.width-dt-Ct,l:dt+Jt.r,b:he.height-Lt-zt,t:Lt+Jt.b};se&&ue?o.autoMargin(R,I._id,Jt):se?R._fullLayout._reservedMargin[I._id][fn]=pn[fn]:ue||H?R._fullLayout._reservedMargin[I._id][rn]=pn[rn]:R._fullLayout._reservedMargin[I._id][fn]=pn[fn]}],R)}(E,T,p);O&&O.then&&(p._promises||[]).push(O),p._context.edits.colorbarPosition&&function(P,I,R){var H,z,j,Z=I.orientation==="v",F=R._fullLayout._size;f.init({element:P.node(),gd:R,prepFn:function(){H=P.attr("transform"),r(P)},moveFn:function(V,W){P.attr("transform",H+n(V,W)),z=f.align((Z?I._uFrac:I._vFrac)+V/F.w,Z?I._thickFrac:I._lenFrac,0,1,I.xanchor),j=f.align((Z?I._vFrac:1-I._uFrac)-W/F.h,Z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var re=f.getCursor(z,j,I.xanchor,I.yanchor);r(P,re)},doneFn:function(){if(r(P),z!==void 0&&j!==void 0){var V={};V[I._propPrefix+"x"]=z,V[I._propPrefix+"y"]=j,I._traceIndex!==void 0?w.call("_guiRestyle",R,V,I._traceIndex):w.call("_guiRelayout",R,V)}}})}(E,T,p)}),S.exit().each(function(T){o.autoMargin(p,T._id)}).remove(),S.order()}}},90553:function(U,C,e){var k=e(3400);U.exports=function(A){return k.isPlainObject(A.colorbar)}},55080:function(U,C,e){U.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(U,C,e){var k=e(42996),A=e(53756).counter,o=e(95376),w=e(88304).scales;function b(f){return"`"+f+"`"}o(w),U.exports=function(f,s){f=f||"";var n,i=(s=s||{}).cLetter||"c",r=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:f==="marker.line"),t="showScaleDflt"in s?s.showScaleDflt:i==="z",a=typeof s.colorscaleDflt=="string"?w[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=f?f+".":"";"colorAttr"in s?(n=s.colorAttr,s.colorAttr):b(u+(n={z:"z",c:"color"}[i]));var h=i+"auto",c=i+"min",y=i+"max",d=i+"mid",v={};v[c]=v[y]=void 0;var g={};g[h]=!1;var x={};return n==="color"&&(x.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(x.color.anim=!0)),x[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},x[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:g},x[y]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:g},x[d]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},x.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(x.showscale={valType:"boolean",dflt:t,editType:"calc"},x.colorbar=k),s.noColorAxis||(x.coloraxis={valType:"subplotid",regex:A("coloraxis"),dflt:null,editType:"calc"}),x}},47128:function(U,C,e){var k=e(38248),A=e(3400),o=e(94288).extractOpts;U.exports=function(w,b,f){var s,n=w._fullLayout,i=f.vals,r=f.containerStr,t=r?A.nestedProperty(b,r).get():b,a=o(t),l=a.auto!==!1,u=a.min,h=a.max,c=a.mid,y=function(){return A.aggNums(Math.min,null,i)},d=function(){return A.aggNums(Math.max,null,i)};u===void 0?u=y():l&&(u=t._colorAx&&k(u)?Math.min(u,y()):y()),h===void 0?h=d():l&&(h=t._colorAx&&k(h)?Math.max(h,d()):d()),l&&c!==void 0&&(h-c>c-u?u=c-(h-c):h-c<c-u&&(h=c+(c-u))),u===h&&(u-=.5,h+=.5),a._sync("min",u),a._sync("max",h),a.autocolorscale&&(s=u*h<0?n.colorscale.diverging:u>=0?n.colorscale.sequential:n.colorscale.sequentialminus,a._sync("colorscale",s))}},95504:function(U,C,e){var k=e(3400),A=e(94288).hasColorscale,o=e(94288).extractOpts;U.exports=function(w,b){function f(l,u){var h=l["_"+u];h!==void 0&&(l[u]=h)}function s(l,u){var h=u.container?k.nestedProperty(l,u.container).get():l;if(h)if(h.coloraxis)h._colorAx=b[h.coloraxis];else{var c=o(h),y=c.auto;(y||c.min===void 0)&&f(h,u.min),(y||c.max===void 0)&&f(h,u.max),c.autocolorscale&&f(h,"colorscale")}}for(var n=0;n<w.length;n++){var i=w[n],r=i._module.colorbar;if(r)if(Array.isArray(r))for(var t=0;t<r.length;t++)s(i,r[t]);else s(i,r);A(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var a in b._colorAxes)s(b[a],{min:"cmin",max:"cmax"})}},27260:function(U,C,e){var k=e(38248),A=e(3400),o=e(90553),w=e(64013),b=e(88304).isValid,f=e(24040).traceIs;function s(n,i){var r=i.slice(0,i.length-1);return i?A.nestedProperty(n,r).get()||{}:n}U.exports=function n(i,r,t,a,l){var u=l.prefix,h=l.cLetter,c="_module"in r,y=s(i,u),d=s(r,u),v=s(r._template||{},u)||{},g=function(){return delete i.coloraxis,delete r.coloraxis,n(i,r,t,a,l)};if(c){var x=t._colorAxes||{},m=a(u+"coloraxis");if(m){var _=f(r,"contour")&&A.nestedProperty(r,"contours.coloring").get()||"heatmap",p=x[m];return void(p?(p[2].push(g),p[0]!==_&&(p[0]=!1,A.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[m]=[_,r,[g]])}}var S=y[h+"min"],T=y[h+"max"],E=k(S)&&k(T)&&S<T;a(u+h+"auto",!E)?a(u+h+"mid"):(a(u+h+"min"),a(u+h+"max"));var O,P,I=y.colorscale,R=v.colorscale;I!==void 0&&(O=!b(I)),R!==void 0&&(O=!b(R)),a(u+"autocolorscale",O),a(u+"colorscale"),a(u+"reversescale"),u!=="marker.line."&&(u&&c&&(P=o(y)),a(u+"showscale",P)&&(u&&v&&(d._template=v),w(y,d,t)))}},94288:function(U,C,e){var k=e(33428),A=e(49760),o=e(38248),w=e(3400),b=e(76308),f=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],n=["min","max","mid","auto"];function i(u){var h,c,y,d=u._colorAx,v=d||u,g={};for(c=0;c<s.length;c++)g[y=s[c]]=v[y];if(d)for(h="c",c=0;c<n.length;c++)g[y=n[c]]=v["c"+y];else{var x;for(c=0;c<n.length;c++)((x="c"+(y=n[c]))in v||(x="z"+y)in v)&&(g[y]=v[x]);h=x.charAt(0)}return g._sync=function(m,_){var p=n.indexOf(m)!==-1?h+m:m;v[p]=v["_"+p]=_},g}function r(u){for(var h=i(u),c=h.min,y=h.max,d=h.reversescale?t(h.colorscale):h.colorscale,v=d.length,g=new Array(v),x=new Array(v),m=0;m<v;m++){var _=d[m];g[m]=c+_[0]*(y-c),x[m]=_[1]}return{domain:g,range:x}}function t(u){for(var h=u.length,c=new Array(h),y=h-1,d=0;y>=0;y--,d++){var v=u[y];c[d]=[1-v[0],v[1]]}return c}function a(u,h){h=h||{};for(var c=u.domain,y=u.range,d=y.length,v=new Array(d),g=0;g<d;g++){var x=A(y[g]).toRgb();v[g]=[x.r,x.g,x.b,x.a]}var m,_=k.scale.linear().domain(c).range(v).clamp(!0),p=h.noNumericCheck,S=h.returnArray;return(m=p&&S?_:p?function(T){return l(_(T))}:S?function(T){return o(T)?_(T):A(T).isValid()?T:b.defaultLine}:function(T){return o(T)?l(_(T)):A(T).isValid()?T:b.defaultLine}).domain=_.domain,m.range=function(){return y},m}function l(u){var h={r:u[0],g:u[1],b:u[2],a:u[3]};return A(h).toRgbString()}U.exports={hasColorscale:function(u,h,c){var y=h?w.nestedProperty(u,h).get()||{}:u,d=y[c||"color"];d&&d._inputArray&&(d=d._inputArray);var v=!1;if(w.isArrayOrTypedArray(d)){for(var g=0;g<d.length;g++)if(o(d[g])){v=!0;break}}return w.isPlainObject(y)&&(v||y.showscale===!0||o(y.cmin)&&o(y.cmax)||f(y.colorscale)||w.isPlainObject(y.colorbar))},extractOpts:i,extractScale:r,flipScale:t,makeColorScaleFunc:a,makeColorScaleFuncFromTrace:function(u,h){return a(r(u),h)}}},8932:function(U,C,e){var k=e(88304),A=e(94288);U.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:k.scales,defaultScale:k.defaultScale,getScale:k.get,isValidScale:k.isValid,hasColorscale:A.hasColorscale,extractOpts:A.extractOpts,extractScale:A.extractScale,flipScale:A.flipScale,makeColorScaleFunc:A.makeColorScaleFunc,makeColorScaleFuncFromTrace:A.makeColorScaleFuncFromTrace}},92332:function(U,C,e){var k=e(92880).extendFlat,A=e(49084),o=e(88304).scales;U.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:k({_isSubplotObj:!0,editType:"calc"},A("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(U,C,e){var k=e(3400),A=e(31780),o=e(92332),w=e(27260);U.exports=function(b,f){function s(h,c){return k.coerce(b,f,o,h,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var n,i,r=f._colorAxes;function t(h,c){return k.coerce(n,i,o.coloraxis,h,c)}for(var a in r){var l=r[a];if(l[0])n=b[a]||{},(i=A.newContainer(f,a,"coloraxis"))._name=a,w(n,i,f,t,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete f._colorAxes[a]}}}},88304:function(U,C,e){var k=e(49760),A={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=A.RdBu;function w(b){var f=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var s=0;s<b.length;s++){var n=b[s];if(n.length!==2||+n[0]<f||!k(n[1]).isValid())return!1;f=+n[0]}return!0}U.exports={scales:A,defaultScale:o,get:function(b,f){if(f||(f=o),!b)return f;function s(){try{b=A[b]||JSON.parse(b)}catch{b=f}}return typeof b=="string"&&(s(),typeof b=="string"&&s()),w(b)?b:f},isValid:function(b){return A[b]!==void 0||w(b)}}},78316:function(U){U.exports=function(C,e,k,A,o){var w=(C-k)/(A-k),b=w+e/(A-k),f=(w+b)/2;return o==="left"||o==="bottom"?w:o==="center"||o==="middle"?f:o==="right"||o==="top"?b:w<.6666666666666666-f?w:b>1.3333333333333333-f?b:f}},67416:function(U,C,e){var k=e(3400),A=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];U.exports=function(o,w,b,f){return o=b==="left"?0:b==="center"?1:b==="right"?2:k.constrain(Math.floor(3*o),0,2),w=f==="bottom"?0:f==="middle"?1:f==="top"?2:k.constrain(Math.floor(3*w),0,2),A[w][o]}},72760:function(U,C){C.selectMode=function(e){return e==="lasso"||e==="select"},C.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.openMode=function(e){return e==="drawline"||e==="drawopenpath"},C.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},C.selectingOrDrawing=function(e){return C.freeMode(e)||C.rectMode(e)}},86476:function(U,C,e){var k=e(29128),A=e(52264),o=e(89184),w=e(3400).removeElement,b=e(33816),f=U.exports={};f.align=e(78316),f.getCursor=e(67416);var s=e(2616);function n(){var r=document.createElement("div");r.className="dragcover";var t=r.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(r),r}function i(r){return k(r.changedTouches?r.changedTouches[0]:r,document.body)}f.unhover=s.wrapped,f.unhoverRaw=s.raw,f.init=function(r){var t,a,l,u,h,c,y,d,v=r.gd,g=1,x=v._context.doubleClickDelay,m=r.element;v._mouseDownTime||(v._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=p,o?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=p,m.addEventListener("touchstart",p,{passive:!1})):m.ontouchstart=p;var _=r.clampFn||function(E,O,P){return Math.abs(E)<P&&(E=0),Math.abs(O)<P&&(O=0),[E,O]};function p(E){v._dragged=!1,v._dragging=!0;var O=i(E);t=O[0],a=O[1],y=E.target,c=E,d=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=t,E.clientY=a),(l=new Date().getTime())-v._mouseDownTime<x?g+=1:(g=1,v._mouseDownTime=l),r.prepFn&&r.prepFn(E,t,a),A&&!d?(h=n()).style.cursor=window.getComputedStyle(m).cursor:A||(h=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),r.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var O=i(E),P=r.minDrag||b.MINDRAG,I=_(O[0]-t,O[1]-a,P),R=I[0],H=I[1];(R||H)&&(v._dragged=!0,f.unhover(v,E)),v._dragged&&r.moveFn&&!d&&(v._dragdata={element:m,dx:R,dy:H},r.moveFn(R,H))}function T(E){if(delete v._dragdata,r.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),A?w(h):u&&(h.documentElement.style.cursor=u,u=null),v._dragging){if(v._dragging=!1,new Date().getTime()-v._mouseDownTime>x&&(g=Math.max(g-1,1)),v._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(g,c),!d){var O;try{O=new MouseEvent("click",E)}catch{var P=i(E);(O=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,P[0],P[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}y.dispatchEvent(O)}v._dragging=!1,v._dragged=!1}else v._dragged=!1}},f.coverSlip=n},2616:function(U,C,e){var k=e(95924),A=e(91200),o=e(52200).getGraphDiv,w=e(92456),b=U.exports={};b.wrapped=function(f,s,n){(f=o(f))._fullLayout&&A.clear(f._fullLayout._uid+w.HOVERID),b.raw(f,s,n)},b.raw=function(f,s){var n=f._fullLayout,i=f._hoverdata;s||(s={}),s.target&&!f._dragged&&k.triggerHandler(f,"plotly_beforehover",s)===!1||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),f._hoverdata=void 0,s.target&&i&&f.emit("plotly_unhover",{event:s,points:i}))}},98192:function(U,C){C.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},C.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(U,C,e){var k=e(33428),A=e(3400),o=A.numberFormat,w=e(38248),b=e(49760),f=e(24040),s=e(76308),n=e(8932),i=A.strTranslate,r=e(72736),t=e(9616),a=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),h=e(7152),c=e(10624).appendArrayPointValue,y=U.exports={};function d(ye){return ye==="none"?void 0:ye}y.font=function(ye,le){var oe=le.variant,ve=le.style,Ce=le.weight,ke=le.color,Ae=le.size,Ee=le.family,ze=le.shadow,Fe=le.lineposition,ge=le.textcase;Ee&&ye.style("font-family",Ee),Ae+1&&ye.style("font-size",Ae+"px"),ke&&ye.call(s.fill,ke),Ce&&ye.style("font-weight",Ce),ve&&ye.style("font-style",ve),oe&&ye.style("font-variant",oe),ge&&ye.style("text-transform",d(function(Te){return v[Te]}(ge))),ze&&ye.style("text-shadow",ze==="auto"?r.makeTextShadow(s.contrast(ke)):d(ze)),Fe&&ye.style("text-decoration-line",d(function(Te){return Te.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(Fe)))};var v={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function g(ye,le,oe,ve){var Ce=le.fillpattern,ke=le.fillgradient,Ae=Ce&&y.getPatternAttr(Ce.shape,0,"");if(Ae){var Ee=y.getPatternAttr(Ce.bgcolor,0,null),ze=y.getPatternAttr(Ce.fgcolor,0,null),Fe=Ce.fgopacity,ge=y.getPatternAttr(Ce.size,0,8),Te=y.getPatternAttr(Ce.solidity,0,.3),Se=le.uid;y.pattern(ye,"point",oe,Se,Ae,ge,Te,void 0,Ce.fillmode,Ee,ze,Fe)}else if(ke&&ke.type!=="none"){var Re,Pe,Ve=ke.type,We="scatterfill-"+le.uid;ve&&(We="legendfill-"+le.uid),ve||ke.start===void 0&&ke.stop===void 0?(Ve==="horizontal"&&(Ve+="reversed"),ye.call(y.gradient,oe,We,Ve,ke.colorscale,"fill")):(Ve==="horizontal"?(Re={x:ke.start,y:0},Pe={x:ke.stop,y:0}):Ve==="vertical"&&(Re={x:0,y:ke.start},Pe={x:0,y:ke.stop}),Re.x=le._xA.c2p(Re.x===void 0?le._extremes.x.min[0].val:Re.x,!0),Re.y=le._yA.c2p(Re.y===void 0?le._extremes.y.min[0].val:Re.y,!0),Pe.x=le._xA.c2p(Pe.x===void 0?le._extremes.x.max[0].val:Pe.x,!0),Pe.y=le._yA.c2p(Pe.y===void 0?le._extremes.y.max[0].val:Pe.y,!0),ye.call(T,oe,We,"linear",ke.colorscale,"fill",Re,Pe,!0,!1))}else le.fillcolor&&ye.call(s.fill,le.fillcolor)}y.setPosition=function(ye,le,oe){ye.attr("x",le).attr("y",oe)},y.setSize=function(ye,le,oe){ye.attr("width",le).attr("height",oe)},y.setRect=function(ye,le,oe,ve,Ce){ye.call(y.setPosition,le,oe).call(y.setSize,ve,Ce)},y.translatePoint=function(ye,le,oe,ve){var Ce=oe.c2p(ye.x),ke=ve.c2p(ye.y);return!!(w(Ce)&&w(ke)&&le.node())&&(le.node().nodeName==="text"?le.attr("x",Ce).attr("y",ke):le.attr("transform",i(Ce,ke)),!0)},y.translatePoints=function(ye,le,oe){ye.each(function(ve){var Ce=k.select(this);y.translatePoint(ve,Ce,le,oe)})},y.hideOutsideRangePoint=function(ye,le,oe,ve,Ce,ke){le.attr("display",oe.isPtWithinRange(ye,Ce)&&ve.isPtWithinRange(ye,ke)?null:"none")},y.hideOutsideRangePoints=function(ye,le){if(le._hasClipOnAxisFalse){var oe=le.xaxis,ve=le.yaxis;ye.each(function(Ce){var ke=Ce[0].trace,Ae=ke.xcalendar,Ee=ke.ycalendar,ze=f.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";ye.selectAll(ze).each(function(Fe){y.hideOutsideRangePoint(Fe,k.select(this),oe,ve,Ae,Ee)})})}},y.crispRound=function(ye,le,oe){return le&&w(le)?ye._context.staticPlot?le:le<1?1:Math.round(le):oe||0},y.singleLineStyle=function(ye,le,oe,ve,Ce){le.style("fill","none");var ke=(((ye||[])[0]||{}).trace||{}).line||{},Ae=oe||ke.width||0,Ee=Ce||ke.dash||"";s.stroke(le,ve||ke.color),y.dashLine(le,Ee,Ae)},y.lineGroupStyle=function(ye,le,oe,ve){ye.style("fill","none").each(function(Ce){var ke=(((Ce||[])[0]||{}).trace||{}).line||{},Ae=le||ke.width||0,Ee=ve||ke.dash||"";k.select(this).call(s.stroke,oe||ke.color).call(y.dashLine,Ee,Ae)})},y.dashLine=function(ye,le,oe){oe=+oe||0,le=y.dashStyle(le,oe),ye.style({"stroke-dasharray":le,"stroke-width":oe+"px"})},y.dashStyle=function(ye,le){le=+le||1;var oe=Math.max(le,3);return ye==="solid"?ye="":ye==="dot"?ye=oe+"px,"+oe+"px":ye==="dash"?ye=3*oe+"px,"+3*oe+"px":ye==="longdash"?ye=5*oe+"px,"+5*oe+"px":ye==="dashdot"?ye=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":ye==="longdashdot"&&(ye=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),ye},y.singleFillStyle=function(ye,le){var oe=k.select(ye.node());g(ye,((oe.data()[0]||[])[0]||{}).trace||{},le,!1)},y.fillGroupStyle=function(ye,le,oe){ye.style("stroke-width",0).each(function(ve){var Ce=k.select(this);ve[0].trace&&g(Ce,ve[0].trace,le,oe)})};var x=e(71984);y.symbolNames=[],y.symbolFuncs=[],y.symbolBackOffs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(x).forEach(function(ye){var le=x[ye],oe=le.n;y.symbolList.push(oe,String(oe),ye,oe+100,String(oe+100),ye+"-open"),y.symbolNames[oe]=ye,y.symbolFuncs[oe]=le.f,y.symbolBackOffs[oe]=le.backoff||0,le.needLine&&(y.symbolNeedLines[oe]=!0),le.noDot?y.symbolNoDot[oe]=!0:y.symbolList.push(oe+200,String(oe+200),ye+"-dot",oe+300,String(oe+300),ye+"-open-dot"),le.noFill&&(y.symbolNoFill[oe]=!0)});var m=y.symbolNames.length;function _(ye,le,oe,ve){var Ce=ye%100;return y.symbolFuncs[Ce](le,oe,ve)+(ye>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}y.symbolNumber=function(ye){if(w(ye))ye=+ye;else if(typeof ye=="string"){var le=0;ye.indexOf("-open")>0&&(le=100,ye=ye.replace("-open","")),ye.indexOf("-dot")>0&&(le+=200,ye=ye.replace("-dot","")),(ye=y.symbolNames.indexOf(ye))>=0&&(ye+=le)}return ye%100>=m||ye>=400?0:Math.floor(Math.max(ye,0))};var p=o("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function T(ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe){var ge,Te=Ce.length;ve==="linear"?ge={node:"linearGradient",attrs:{x1:Ae.x,y1:Ae.y,x2:Ee.x,y2:Ee.y,gradientUnits:ze?"userSpaceOnUse":"objectBoundingBox"},reversed:Fe}:ve==="radial"&&(ge={node:"radialGradient",reversed:Fe});for(var Se=new Array(Te),Re=0;Re<Te;Re++)ge.reversed?Se[Te-1-Re]=[p(100*(1-Ce[Re][0])),Ce[Re][1]]:Se[Re]=[p(100*Ce[Re][0]),Ce[Re][1]];var Pe=le._fullLayout,Ve="g"+Pe._uid+"-"+oe,We=Pe._defs.select(".gradients").selectAll("#"+Ve).data([ve+Se.join(";")],A.identity);We.exit().remove(),We.enter().append(ge.node).each(function(){var Qe=k.select(this);ge.attrs&&Qe.attr(ge.attrs),Qe.attr("id",Ve);var lt=Qe.selectAll("stop").data(Se);lt.exit().remove(),lt.enter().append("stop"),lt.each(function(ut){var xt=b(ut[1]);k.select(this).attr({offset:ut[0]+"%","stop-color":s.tinyRGB(xt),"stop-opacity":xt.getAlpha()})})}),ye.style(ke,te(Ve,le)).style(ke+"-opacity",null),ye.classed("gradient_filled",!0)}y.gradient=function(ye,le,oe,ve,Ce,ke){var Ae=S[ve];return T(ye,le,oe,Ae.type,Ce,ke,Ae.start,Ae.stop,!1,Ae.reversed)},y.pattern=function(ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe,ge,Te){var Se=le==="legend";Ee&&(ze==="overlay"?(Fe=Ee,ge=s.contrast(Fe)):(Fe=void 0,ge=Ee));var Re,Pe,Ve,We,Qe,lt,ut,xt,_t,mt=oe._fullLayout,it="p"+mt._uid+"-"+ve,nt={},Et=b(ge),Rt=s.tinyRGB(Et),Ft=Te*Et.getAlpha();switch(Ce){case"/":Re=ke*Math.sqrt(2),Pe=ke*Math.sqrt(2),lt="path",nt={d:Ve="M-"+Re/4+","+Pe/4+"l"+Re/2+",-"+Pe/2+"M0,"+Pe+"L"+Re+",0M"+Re/4*3+","+Pe/4*5+"l"+Re/2+",-"+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*ke)+"px"};break;case"\\":Re=ke*Math.sqrt(2),Pe=ke*Math.sqrt(2),lt="path",nt={d:Ve="M"+Re/4*3+",-"+Pe/4+"l"+Re/2+","+Pe/2+"M0,0L"+Re+","+Pe+"M-"+Re/4+","+Pe/4*3+"l"+Re/2+","+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*ke)+"px"};break;case"x":Re=ke*Math.sqrt(2),Pe=ke*Math.sqrt(2),Ve="M-"+Re/4+","+Pe/4+"l"+Re/2+",-"+Pe/2+"M0,"+Pe+"L"+Re+",0M"+Re/4*3+","+Pe/4*5+"l"+Re/2+",-"+Pe/2+"M"+Re/4*3+",-"+Pe/4+"l"+Re/2+","+Pe/2+"M0,0L"+Re+","+Pe+"M-"+Re/4+","+Pe/4*3+"l"+Re/2+","+Pe/2,We=ke-ke*Math.sqrt(1-Ae),lt="path",nt={d:Ve,opacity:Ft,stroke:Rt,"stroke-width":We+"px"};break;case"|":lt="path",lt="path",nt={d:Ve="M"+(Re=ke)/2+",0L"+Re/2+","+(Pe=ke),opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*ke)+"px"};break;case"-":lt="path",lt="path",nt={d:Ve="M0,"+(Pe=ke)/2+"L"+(Re=ke)+","+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*ke)+"px"};break;case"+":lt="path",Ve="M"+(Re=ke)/2+",0L"+Re/2+","+(Pe=ke)+"M0,"+Pe/2+"L"+Re+","+Pe/2,We=ke-ke*Math.sqrt(1-Ae),lt="path",nt={d:Ve,opacity:Ft,stroke:Rt,"stroke-width":We+"px"};break;case".":Re=ke,Pe=ke,Ae<Math.PI/4?Qe=Math.sqrt(Ae*ke*ke/Math.PI):(ut=Ae,xt=Math.PI/4,Qe=(_t=ke/2)+(ke/Math.sqrt(2)-_t)*(ut-xt)/(1-xt)),lt="circle",nt={cx:Re/2,cy:Pe/2,r:Qe,opacity:Ft,fill:Rt}}var Pt=[Ce||"noSh",Fe||"noBg",ge||"noFg",ke,Ae].join(";"),Ze=mt._defs.select(".patterns").selectAll("#"+it).data([Pt],A.identity);Ze.exit().remove(),Ze.enter().append("pattern").each(function(){var $e=k.select(this);if($e.attr({id:it,width:Re+"px",height:Pe+"px",patternUnits:"userSpaceOnUse",patternTransform:Se?"scale(0.8)":""}),Fe){var He=b(Fe),Je=s.tinyRGB(He),ft=He.getAlpha(),ot=$e.selectAll("rect").data([0]);ot.exit().remove(),ot.enter().append("rect").attr({width:Re+"px",height:Pe+"px",fill:Je,"fill-opacity":ft})}var je=$e.selectAll(lt).data([0]);je.exit().remove(),je.enter().append(lt).attr(nt)}),ye.style("fill",te(it,oe)).style("fill-opacity",null),ye.classed("pattern_filled",!0)},y.initGradients=function(ye){var le=ye._fullLayout;A.ensureSingle(le._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),k.select(ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},y.initPatterns=function(ye){var le=ye._fullLayout;A.ensureSingle(le._defs,"g","patterns").selectAll("pattern").remove(),k.select(ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},y.getPatternAttr=function(ye,le,oe){return ye&&A.isArrayOrTypedArray(ye)?le<ye.length?ye[le]:oe:ye},y.pointStyle=function(ye,le,oe,ve){if(ye.size()){var Ce=y.makePointStyleFns(le);ye.each(function(ke){y.singlePointStyle(ke,k.select(this),le,Ce,oe,ve)})}},y.singlePointStyle=function(ye,le,oe,ve,Ce,ke){var Ae=oe.marker,Ee=Ae.line;if(ke&&ke.i>=0&&ye.i===void 0&&(ye.i=ke.i),le.style("opacity",ve.selectedOpacityFn?ve.selectedOpacityFn(ye):ye.mo===void 0?Ae.opacity:ye.mo),ve.ms2mrc){var ze;ze=ye.ms==="various"||Ae.size==="various"?3:ve.ms2mrc(ye.ms),ye.mrc=ze,ve.selectedSizeFn&&(ze=ye.mrc=ve.selectedSizeFn(ye));var Fe=y.symbolNumber(ye.mx||Ae.symbol)||0;ye.om=Fe%200>=100;var ge=De(ye,oe),Te=K(ye,oe);le.attr("d",_(Fe,ze,ge,Te))}var Se,Re,Pe,Ve=!1;if(ye.so)Pe=Ee.outlierwidth,Re=Ee.outliercolor,Se=Ae.outliercolor;else{var We=(Ee||{}).width;Pe=(ye.mlw+1||We+1||(ye.trace?(ye.trace.marker.line||{}).width:0)+1)-1||0,Re="mlc"in ye?ye.mlcc=ve.lineScale(ye.mlc):A.isArrayOrTypedArray(Ee.color)?s.defaultLine:Ee.color,A.isArrayOrTypedArray(Ae.color)&&(Se=s.defaultLine,Ve=!0),Se="mc"in ye?ye.mcc=ve.markerScale(ye.mc):Ae.color||Ae.colors||"rgba(0,0,0,0)",ve.selectedColorFn&&(Se=ve.selectedColorFn(ye))}if(ye.om)le.call(s.stroke,Se).style({"stroke-width":(Pe||1)+"px",fill:"none"});else{le.style("stroke-width",(ye.isBlank?0:Pe)+"px");var Qe=Ae.gradient,lt=ye.mgt;lt?Ve=!0:lt=Qe&&Qe.type,A.isArrayOrTypedArray(lt)&&(lt=lt[0],S[lt]||(lt=0));var ut=Ae.pattern,xt=ut&&y.getPatternAttr(ut.shape,ye.i,"");if(lt&&lt!=="none"){var _t=ye.mgc;_t?Ve=!0:_t=Qe.color;var mt=oe.uid;Ve&&(mt+="-"+ye.i),y.gradient(le,Ce,mt,lt,[[0,_t],[1,Se]],"fill")}else if(xt){var it=!1,nt=ut.fgcolor;!nt&&ke&&ke.color&&(nt=ke.color,it=!0);var Et=y.getPatternAttr(nt,ye.i,ke&&ke.color||null),Rt=y.getPatternAttr(ut.bgcolor,ye.i,null),Ft=ut.fgopacity,Pt=y.getPatternAttr(ut.size,ye.i,8),Ze=y.getPatternAttr(ut.solidity,ye.i,.3);it=it||ye.mcc||A.isArrayOrTypedArray(ut.shape)||A.isArrayOrTypedArray(ut.bgcolor)||A.isArrayOrTypedArray(ut.fgcolor)||A.isArrayOrTypedArray(ut.size)||A.isArrayOrTypedArray(ut.solidity);var $e=oe.uid;it&&($e+="-"+ye.i),y.pattern(le,"point",Ce,$e,xt,Pt,Ze,ye.mcc,ut.fillmode,Rt,Et,Ft)}else A.isArrayOrTypedArray(Se)?s.fill(le,Se[ye.i]):s.fill(le,Se);Pe&&s.stroke(le,Re)}},y.makePointStyleFns=function(ye){var le={},oe=ye.marker;return le.markerScale=y.tryColorscale(oe,""),le.lineScale=y.tryColorscale(oe,"line"),f.traceIs(ye,"symbols")&&(le.ms2mrc=u.isBubble(ye)?h(ye):function(){return(oe.size||6)/2}),ye.selectedpoints&&A.extendFlat(le,y.makeSelectedPointStyleFns(ye)),le},y.makeSelectedPointStyleFns=function(ye){var le={},oe=ye.selected||{},ve=ye.unselected||{},Ce=ye.marker||{},ke=oe.marker||{},Ae=ve.marker||{},Ee=Ce.opacity,ze=ke.opacity,Fe=Ae.opacity,ge=ze!==void 0,Te=Fe!==void 0;(A.isArrayOrTypedArray(Ee)||ge||Te)&&(le.selectedOpacityFn=function(xt){var _t=xt.mo===void 0?Ce.opacity:xt.mo;return xt.selected?ge?ze:_t:Te?Fe:l*_t});var Se=Ce.color,Re=ke.color,Pe=Ae.color;(Re||Pe)&&(le.selectedColorFn=function(xt){var _t=xt.mcc||Se;return xt.selected?Re||_t:Pe||_t});var Ve=Ce.size,We=ke.size,Qe=Ae.size,lt=We!==void 0,ut=Qe!==void 0;return f.traceIs(ye,"symbols")&&(lt||ut)&&(le.selectedSizeFn=function(xt){var _t=xt.mrc||Ve/2;return xt.selected?lt?We/2:_t:ut?Qe/2:_t}),le},y.makeSelectedTextStyleFns=function(ye){var le={},oe=ye.selected||{},ve=ye.unselected||{},Ce=ye.textfont||{},ke=oe.textfont||{},Ae=ve.textfont||{},Ee=Ce.color,ze=ke.color,Fe=Ae.color;return le.selectedTextColorFn=function(ge){var Te=ge.tc||Ee;return ge.selected?ze||Te:Fe||(ze?Te:s.addOpacity(Te,l))},le},y.selectedPointStyle=function(ye,le){if(ye.size()&&le.selectedpoints){var oe=y.makeSelectedPointStyleFns(le),ve=le.marker||{},Ce=[];oe.selectedOpacityFn&&Ce.push(function(ke,Ae){ke.style("opacity",oe.selectedOpacityFn(Ae))}),oe.selectedColorFn&&Ce.push(function(ke,Ae){s.fill(ke,oe.selectedColorFn(Ae))}),oe.selectedSizeFn&&Ce.push(function(ke,Ae){var Ee=Ae.mx||ve.symbol||0,ze=oe.selectedSizeFn(Ae);ke.attr("d",_(y.symbolNumber(Ee),ze,De(Ae,le),K(Ae,le))),Ae.mrc2=ze}),Ce.length&&ye.each(function(ke){for(var Ae=k.select(this),Ee=0;Ee<Ce.length;Ee++)Ce[Ee](Ae,ke)})}},y.tryColorscale=function(ye,le){var oe=le?A.nestedProperty(ye,le).get():ye;if(oe){var ve=oe.color;if((oe.colorscale||oe._colorAx)&&A.isArrayOrTypedArray(ve))return n.makeColorScaleFuncFromTrace(oe)}return A.identity};var E,O,P={start:1,end:-1,middle:0,bottom:1,top:-1};function I(ye,le,oe,ve,Ce){var ke=k.select(ye.node().parentNode),Ae=le.indexOf("top")!==-1?"top":le.indexOf("bottom")!==-1?"bottom":"middle",Ee=le.indexOf("left")!==-1?"end":le.indexOf("right")!==-1?"start":"middle",ze=ve?ve/.8+1:0,Fe=(r.lineCount(ye)-1)*a+1,ge=P[Ee]*ze,Te=.75*oe+P[Ae]*ze+(P[Ae]-1)*Fe*oe/2;ye.attr("text-anchor",Ee),Ce||ke.attr("transform",i(ge,Te))}function R(ye,le){var oe=ye.ts||le.textfont.size;return w(oe)&&oe>0?oe:0}function H(ye,le,oe){return oe&&(ye=W(ye)),le?j(ye[1]):z(ye[0])}function z(ye){var le=k.round(ye,2);return E=le,le}function j(ye){var le=k.round(ye,2);return O=le,le}function Z(ye,le,oe,ve){var Ce=ye[0]-le[0],ke=ye[1]-le[1],Ae=oe[0]-le[0],Ee=oe[1]-le[1],ze=Math.pow(Ce*Ce+ke*ke,.25),Fe=Math.pow(Ae*Ae+Ee*Ee,.25),ge=(Fe*Fe*Ce-ze*ze*Ae)*ve,Te=(Fe*Fe*ke-ze*ze*Ee)*ve,Se=3*Fe*(ze+Fe),Re=3*ze*(ze+Fe);return[[z(le[0]+(Se&&ge/Se)),j(le[1]+(Se&&Te/Se))],[z(le[0]-(Re&&ge/Re)),j(le[1]-(Re&&Te/Re))]]}y.textPointStyle=function(ye,le,oe){if(ye.size()){var ve;if(le.selectedpoints){var Ce=y.makeSelectedTextStyleFns(le);ve=Ce.selectedTextColorFn}var ke=le.texttemplate,Ae=oe._fullLayout;ye.each(function(Ee){var ze=k.select(this),Fe=ke?A.extractOption(Ee,le,"txt","texttemplate"):A.extractOption(Ee,le,"tx","text");if(Fe||Fe===0){if(ke){var ge=le._module.formatLabels,Te=ge?ge(Ee,le,Ae):{},Se={};c(Se,le,Ee.i);var Re=le._meta||{};Fe=A.texttemplateString(Fe,Te,Ae._d3locale,Se,Ee,Re)}var Pe=Ee.tp||le.textposition,Ve=R(Ee,le),We=ve?ve(Ee):Ee.tc||le.textfont.color;ze.call(y.font,{family:Ee.tf||le.textfont.family,weight:Ee.tw||le.textfont.weight,style:Ee.ty||le.textfont.style,variant:Ee.tv||le.textfont.variant,textcase:Ee.tC||le.textfont.textcase,lineposition:Ee.tE||le.textfont.lineposition,shadow:Ee.tS||le.textfont.shadow,size:Ve,color:We}).text(Fe).call(r.convertToTspans,oe).call(I,Pe,Ve,Ee.mrc)}else ze.remove()})}},y.selectedTextStyle=function(ye,le){if(ye.size()&&le.selectedpoints){var oe=y.makeSelectedTextStyleFns(le);ye.each(function(ve){var Ce=k.select(this),ke=oe.selectedTextColorFn(ve),Ae=ve.tp||le.textposition,Ee=R(ve,le);s.fill(Ce,ke);var ze=f.traceIs(le,"bar-like");I(Ce,Ae,Ee,ve.mrc2||ve.mrc,ze)})}},y.smoothopen=function(ye,le){if(ye.length<3)return"M"+ye.join("L");var oe,ve="M"+ye[0],Ce=[];for(oe=1;oe<ye.length-1;oe++)Ce.push(Z(ye[oe-1],ye[oe],ye[oe+1],le));for(ve+="Q"+Ce[0][0]+" "+ye[1],oe=2;oe<ye.length-1;oe++)ve+="C"+Ce[oe-2][1]+" "+Ce[oe-1][0]+" "+ye[oe];return ve+"Q"+Ce[ye.length-3][1]+" "+ye[ye.length-1]},y.smoothclosed=function(ye,le){if(ye.length<3)return"M"+ye.join("L")+"Z";var oe,ve="M"+ye[0],Ce=ye.length-1,ke=[Z(ye[Ce],ye[0],ye[1],le)];for(oe=1;oe<Ce;oe++)ke.push(Z(ye[oe-1],ye[oe],ye[oe+1],le));for(ke.push(Z(ye[Ce-1],ye[Ce],ye[0],le)),oe=1;oe<=Ce;oe++)ve+="C"+ke[oe-1][1]+" "+ke[oe][0]+" "+ye[oe];return ve+"C"+ke[Ce][1]+" "+ke[0][0]+" "+ye[0]+"Z"};var F={hv:function(ye,le,oe){return"H"+z(le[0])+"V"+H(le,1,oe)},vh:function(ye,le,oe){return"V"+j(le[1])+"H"+H(le,0,oe)},hvh:function(ye,le,oe){return"H"+z((ye[0]+le[0])/2)+"V"+j(le[1])+"H"+H(le,0,oe)},vhv:function(ye,le,oe){return"V"+j((ye[1]+le[1])/2)+"H"+z(le[0])+"V"+H(le,1,oe)}},V=function(ye,le,oe){return"L"+H(le,0,oe)+","+H(le,1,oe)};function W(ye,le){var oe=ye.backoff,ve=ye.trace,Ce=ye.d,ke=ye.i;if(oe&&ve&&ve.marker&&ve.marker.angle%360==0&&ve.line&&ve.line.shape!=="spline"){var Ae=A.isArrayOrTypedArray(oe),Ee=ye,ze=le?le[0]:E||0,Fe=le?le[1]:O||0,ge=Ee[0],Te=Ee[1],Se=ge-ze,Re=Te-Fe,Pe=Math.atan2(Re,Se),Ve=Ae?oe[ke]:oe;if(Ve==="auto"){var We=Ee.i;ve.type==="scatter"&&We--;var Qe=Ee.marker,lt=Qe.symbol;A.isArrayOrTypedArray(lt)&&(lt=lt[We]);var ut=Qe.size;A.isArrayOrTypedArray(ut)&&(ut=ut[We]),Ve=Qe?y.symbolBackOffs[y.symbolNumber(lt)]*ut:0,Ve+=y.getMarkerStandoff(Ce[We],ve)||0}var xt=ge-Ve*Math.cos(Pe),_t=Te-Ve*Math.sin(Pe);(xt<=ge&&xt>=ze||xt>=ge&&xt<=ze)&&(_t<=Te&&_t>=Fe||_t>=Te&&_t<=Fe)&&(ye=[xt,_t])}return ye}y.steps=function(ye){var le=F[ye]||V;return function(oe){for(var ve="M"+z(oe[0][0])+","+j(oe[0][1]),Ce=oe.length,ke=1;ke<Ce;ke++)ve+=le(oe[ke-1],oe[ke],ke===Ce-1);return ve}},y.applyBackoff=W,y.makeTester=function(){var ye=A.ensureSingleById(k.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(t.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),le=A.ensureSingle(ye,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});y.tester=ye,y.testref=le},y.savedBBoxes={};var re=0;function ne(ye){var le=ye.getAttribute("data-unformatted");if(le!==null)return le+ye.getAttribute("data-math")+ye.getAttribute("text-anchor")+ye.getAttribute("style")}function te(ye,le){if(!ye)return null;var oe=le._context,ve=oe._exportedPlot?"":oe._baseUrl||"";return ve?"url('"+ve+"#"+ye+"')":"url(#"+ye+")"}y.bBox=function(ye,le,oe){var ve,Ce,ke;if(oe||(oe=ne(ye)),oe){if(ve=y.savedBBoxes[oe])return A.extendFlat({},ve)}else if(ye.childNodes.length===1){var Ae=ye.childNodes[0];if(oe=ne(Ae)){var Ee=+Ae.getAttribute("x")||0,ze=+Ae.getAttribute("y")||0,Fe=Ae.getAttribute("transform");if(!Fe){var ge=y.bBox(Ae,!1,oe);return Ee&&(ge.left+=Ee,ge.right+=Ee),ze&&(ge.top+=ze,ge.bottom+=ze),ge}if(oe+="~"+Ee+"~"+ze+"~"+Fe,ve=y.savedBBoxes[oe])return A.extendFlat({},ve)}}le?Ce=ye:(ke=y.tester.node(),Ce=ye.cloneNode(!0),ke.appendChild(Ce)),k.select(Ce).attr("transform",null).call(r.positionText,0,0);var Te=Ce.getBoundingClientRect(),Se=y.testref.node().getBoundingClientRect();le||ke.removeChild(Ce);var Re={height:Te.height,width:Te.width,left:Te.left-Se.left,top:Te.top-Se.top,right:Te.right-Se.left,bottom:Te.bottom-Se.top};return re>=1e4&&(y.savedBBoxes={},re=0),oe&&(y.savedBBoxes[oe]=Re),re++,A.extendFlat({},Re)},y.setClipUrl=function(ye,le,oe){ye.attr("clip-path",te(le,oe))},y.getTranslate=function(ye){var le=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,ve,Ce){return[ve,Ce].join(" ")}).split(" ");return{x:+le[0]||0,y:+le[1]||0}},y.setTranslate=function(ye,le,oe){var ve=ye.attr?"attr":"getAttribute",Ce=ye.attr?"attr":"setAttribute",ke=ye[ve]("transform")||"";return le=le||0,oe=oe||0,ke=ke.replace(/(\btranslate\(.*?\);?)/,"").trim(),ke=(ke+=i(le,oe)).trim(),ye[Ce]("transform",ke),ke},y.getScale=function(ye){var le=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,ve,Ce){return[ve,Ce].join(" ")}).split(" ");return{x:+le[0]||1,y:+le[1]||1}},y.setScale=function(ye,le,oe){var ve=ye.attr?"attr":"getAttribute",Ce=ye.attr?"attr":"setAttribute",ke=ye[ve]("transform")||"";return le=le||1,oe=oe||1,ke=ke.replace(/(\bscale\(.*?\);?)/,"").trim(),ke=(ke+="scale("+le+","+oe+")").trim(),ye[Ce]("transform",ke),ke};var Q=/\s*sc.*/;y.setPointGroupScale=function(ye,le,oe){if(le=le||1,oe=oe||1,ye){var ve=le===1&&oe===1?"":"scale("+le+","+oe+")";ye.each(function(){var Ce=(this.getAttribute("transform")||"").replace(Q,"");Ce=(Ce+=ve).trim(),this.setAttribute("transform",Ce)})}};var $=/translate\([^)]*\)\s*$/;function K(ye,le){var oe;return ye&&(oe=ye.mf),oe===void 0&&(oe=le.marker&&le.marker.standoff||0),le._geo||le._xA?oe:-oe}y.setTextPointsScale=function(ye,le,oe){ye&&ye.each(function(){var ve,Ce=k.select(this),ke=Ce.select("text");if(ke.node()){var Ae=parseFloat(ke.attr("x")||0),Ee=parseFloat(ke.attr("y")||0),ze=(Ce.attr("transform")||"").match($);ve=le===1&&oe===1?[]:[i(Ae,Ee),"scale("+le+","+oe+")",i(-Ae,-Ee)],ze&&ve.push(ze),Ce.attr("transform",ve.join(""))}})},y.getMarkerStandoff=K;var ae,ue,se,he,pe,de,xe=Math.atan2,_e=Math.cos,be=Math.sin;function Le(ye,le){var oe=le[0],ve=le[1];return[oe*_e(ye)-ve*be(ye),oe*be(ye)+ve*_e(ye)]}function De(ye,le){var oe,ve,Ce=ye.ma;Ce===void 0&&((Ce=le.marker.angle)&&!A.isArrayOrTypedArray(Ce)||(Ce=0));var ke=le.marker.angleref;if(ke==="previous"||ke==="north"){if(le._geo){var Ae=le._geo.project(ye.lonlat);oe=Ae[0],ve=Ae[1]}else{var Ee=le._xA,ze=le._yA;if(!Ee||!ze)return 90;oe=Ee.c2p(ye.x),ve=ze.c2p(ye.y)}if(le._geo){var Fe,ge=ye.lonlat[0],Te=ye.lonlat[1],Se=le._geo.project([ge,Te+1e-5]),Re=le._geo.project([ge+1e-5,Te]),Pe=xe(Re[1]-ve,Re[0]-oe),Ve=xe(Se[1]-ve,Se[0]-oe);if(ke==="north")Fe=Ce/180*Math.PI;else if(ke==="previous"){var We=ge/180*Math.PI,Qe=Te/180*Math.PI,lt=ae/180*Math.PI,ut=ue/180*Math.PI,xt=lt-We,_t=_e(ut)*be(xt),mt=be(ut)*_e(Qe)-_e(ut)*be(Qe)*_e(xt);Fe=-xe(_t,mt)-Math.PI,ae=ge,ue=Te}var it=Le(Pe,[_e(Fe),0]),nt=Le(Ve,[be(Fe),0]);Ce=xe(it[1]+nt[1],it[0]+nt[0])/Math.PI*180,ke!=="previous"||de===le.uid&&ye.i===pe+1||(Ce=null)}if(ke==="previous"&&!le._geo)if(de===le.uid&&ye.i===pe+1&&w(oe)&&w(ve)){var Et=oe-se,Rt=ve-he,Ft=le.line&&le.line.shape||"",Pt=Ft.slice(Ft.length-1);Pt==="h"&&(Rt=0),Pt==="v"&&(Et=0),Ce+=xe(Rt,Et)/Math.PI*180+90}else Ce=null}return se=oe,he=ve,pe=ye.i,de=le.uid,Ce}y.getMarkerAngle=De},71984:function(U,C,e){var k,A,o,w,b=e(21984),f=e(33428).round,s="M0,0Z",n=Math.sqrt(2),i=Math.sqrt(3),r=Math.PI,t=Math.cos,a=Math.sin;function l(h){return h===null}function u(h,c,y){if(!(h&&h%360!=0||c))return y;if(o===h&&w===c&&k===y)return A;function d(R,H){var z=t(R),j=a(R),Z=H[0],F=H[1]+(c||0);return[Z*z-F*j,Z*j+F*z]}o=h,w=c,k=y;for(var v=h/180*r,g=0,x=0,m=b(y),_="",p=0;p<m.length;p++){var S=m[p],T=S[0],E=g,O=x;if(T==="M"||T==="L")g=+S[1],x=+S[2];else if(T==="m"||T==="l")g+=+S[1],x+=+S[2];else if(T==="H")g=+S[1];else if(T==="h")g+=+S[1];else if(T==="V")x=+S[1];else if(T==="v")x+=+S[1];else if(T==="A"){g=+S[1],x=+S[2];var P=d(v,[+S[6],+S[7]]);S[6]=P[0],S[7]=P[1],S[3]=+S[3]+h}T!=="H"&&T!=="V"||(T="L"),T!=="h"&&T!=="v"||(T="l"),T!=="m"&&T!=="l"||(g-=E,x-=O);var I=d(v,[g,x]);T!=="H"&&T!=="V"||(T="L"),T!=="M"&&T!=="L"&&T!=="m"&&T!=="l"||(S[1]=I[0],S[2]=I[1]),S[0]=T,_+=S[0]+S.slice(1).join(",")}return A=_,_}U.exports={circle:{n:0,f:function(h,c,y){if(l(c))return s;var d=f(h,2),v="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return y?u(c,y,v):v}},square:{n:1,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(h,c,y){if(l(c))return s;var d=f(1.3*h,2);return u(c,y,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(h,c,y){if(l(c))return s;var d=f(.4*h,2),v=f(1.2*h,2);return u(c,y,"M"+v+","+d+"H"+d+"V"+v+"H-"+d+"V"+d+"H-"+v+"V-"+d+"H-"+d+"V-"+v+"H"+d+"V-"+d+"H"+v+"Z")}},x:{n:4,f:function(h,c,y){if(l(c))return s;var d=f(.8*h/n,2),v="l"+d+","+d,g="l"+d+",-"+d,x="l-"+d+",-"+d,m="l-"+d+","+d;return u(c,y,"M0,"+d+v+g+x+g+x+m+x+m+v+m+v+"Z")}},"triangle-up":{n:5,f:function(h,c,y){if(l(c))return s;var d=f(2*h/i,2);return u(c,y,"M-"+d+","+f(h/2,2)+"H"+d+"L0,-"+f(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,c,y){if(l(c))return s;var d=f(2*h/i,2);return u(c,y,"M-"+d+",-"+f(h/2,2)+"H"+d+"L0,"+f(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,c,y){if(l(c))return s;var d=f(2*h/i,2);return u(c,y,"M"+f(h/2,2)+",-"+d+"V"+d+"L-"+f(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,c,y){if(l(c))return s;var d=f(2*h/i,2);return u(c,y,"M-"+f(h/2,2)+",-"+d+"V"+d+"L"+f(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,c,y){if(l(c))return s;var d=f(.6*h,2),v=f(1.2*h,2);return u(c,y,"M-"+v+",-"+d+"H"+d+"V"+v+"Z")}},"triangle-se":{n:10,f:function(h,c,y){if(l(c))return s;var d=f(.6*h,2),v=f(1.2*h,2);return u(c,y,"M"+d+",-"+v+"V"+d+"H-"+v+"Z")}},"triangle-sw":{n:11,f:function(h,c,y){if(l(c))return s;var d=f(.6*h,2),v=f(1.2*h,2);return u(c,y,"M"+v+","+d+"H-"+d+"V-"+v+"Z")}},"triangle-nw":{n:12,f:function(h,c,y){if(l(c))return s;var d=f(.6*h,2),v=f(1.2*h,2);return u(c,y,"M-"+d+","+v+"V-"+d+"H"+v+"Z")}},pentagon:{n:13,f:function(h,c,y){if(l(c))return s;var d=f(.951*h,2),v=f(.588*h,2),g=f(-h,2),x=f(-.309*h,2);return u(c,y,"M"+d+","+x+"L"+v+","+f(.809*h,2)+"H-"+v+"L-"+d+","+x+"L0,"+g+"Z")}},hexagon:{n:14,f:function(h,c,y){if(l(c))return s;var d=f(h,2),v=f(h/2,2),g=f(h*i/2,2);return u(c,y,"M"+g+",-"+v+"V"+v+"L0,"+d+"L-"+g+","+v+"V-"+v+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(h,c,y){if(l(c))return s;var d=f(h,2),v=f(h/2,2),g=f(h*i/2,2);return u(c,y,"M-"+v+","+g+"H"+v+"L"+d+",0L"+v+",-"+g+"H-"+v+"L-"+d+",0Z")}},octagon:{n:16,f:function(h,c,y){if(l(c))return s;var d=f(.924*h,2),v=f(.383*h,2);return u(c,y,"M-"+v+",-"+d+"H"+v+"L"+d+",-"+v+"V"+v+"L"+v+","+d+"H-"+v+"L-"+d+","+v+"V-"+v+"Z")}},star:{n:17,f:function(h,c,y){if(l(c))return s;var d=1.4*h,v=f(.225*d,2),g=f(.951*d,2),x=f(.363*d,2),m=f(.588*d,2),_=f(-d,2),p=f(-.309*d,2),S=f(.118*d,2),T=f(.809*d,2);return u(c,y,"M"+v+","+p+"H"+g+"L"+x+","+S+"L"+m+","+T+"L0,"+f(.382*d,2)+"L-"+m+","+T+"L-"+x+","+S+"L-"+g+","+p+"H-"+v+"L0,"+_+"Z")}},hexagram:{n:18,f:function(h,c,y){if(l(c))return s;var d=f(.66*h,2),v=f(.38*h,2),g=f(.76*h,2);return u(c,y,"M-"+g+",0l-"+v+",-"+d+"h"+g+"l"+v+",-"+d+"l"+v+","+d+"h"+g+"l-"+v+","+d+"l"+v+","+d+"h-"+g+"l-"+v+","+d+"l-"+v+",-"+d+"h-"+g+"Z")}},"star-triangle-up":{n:19,f:function(h,c,y){if(l(c))return s;var d=f(h*i*.8,2),v=f(.8*h,2),g=f(1.6*h,2),x=f(4*h,2),m="A "+x+","+x+" 0 0 1 ";return u(c,y,"M-"+d+","+v+m+d+","+v+m+"0,-"+g+m+"-"+d+","+v+"Z")}},"star-triangle-down":{n:20,f:function(h,c,y){if(l(c))return s;var d=f(h*i*.8,2),v=f(.8*h,2),g=f(1.6*h,2),x=f(4*h,2),m="A "+x+","+x+" 0 0 1 ";return u(c,y,"M"+d+",-"+v+m+"-"+d+",-"+v+m+"0,"+g+m+d+",-"+v+"Z")}},"star-square":{n:21,f:function(h,c,y){if(l(c))return s;var d=f(1.1*h,2),v=f(2*h,2),g="A "+v+","+v+" 0 0 1 ";return u(c,y,"M-"+d+",-"+d+g+"-"+d+","+d+g+d+","+d+g+d+",-"+d+g+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(h,c,y){if(l(c))return s;var d=f(1.4*h,2),v=f(1.9*h,2),g="A "+v+","+v+" 0 0 1 ";return u(c,y,"M-"+d+",0"+g+"0,"+d+g+d+",0"+g+"0,-"+d+g+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(h,c,y){if(l(c))return s;var d=f(.7*h,2),v=f(1.4*h,2);return u(c,y,"M0,"+v+"L"+d+",0L0,-"+v+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(h,c,y){if(l(c))return s;var d=f(1.4*h,2),v=f(.7*h,2);return u(c,y,"M0,"+v+"L"+d+",0L0,-"+v+"L-"+d+",0Z")}},hourglass:{n:25,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,c,y){if(l(c))return s;var d=f(h,2),v=f(h/n,2);return u(c,y,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,c,y){if(l(c))return s;var d=f(1.3*h,2);return u(c,y,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,c,y){if(l(c))return s;var d=f(1.3*h,2),v=f(.65*h,2);return u(c,y,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+v+",-"+v+"L"+v+","+v+"M-"+v+","+v+"L"+v+",-"+v)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,c,y){if(l(c))return s;var d=f(1.4*h,2);return u(c,y,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,c,y){if(l(c))return s;var d=f(1.2*h,2),v=f(.85*h,2);return u(c,y,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,c,y){if(l(c))return s;var d=f(h/2,2),v=f(h,2);return u(c,y,"M"+d+","+v+"V-"+v+"M"+(d-v)+",-"+v+"V"+v+"M"+v+","+d+"H-"+v+"M-"+v+","+(d-v)+"H"+v)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,c,y){if(l(c))return s;var d=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,y,"M-"+d+","+g+"L0,0M"+d+","+g+"L0,0M0,-"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,c,y){if(l(c))return s;var d=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,y,"M-"+d+",-"+g+"L0,0M"+d+",-"+g+"L0,0M0,"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,c,y){if(l(c))return s;var d=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,y,"M"+g+","+d+"L0,0M"+g+",-"+d+"L0,0M-"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,c,y){if(l(c))return s;var d=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,y,"M-"+g+","+d+"L0,0M-"+g+",-"+d+"L0,0M"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,c,y){if(l(c))return s;var d=f(1.4*h,2);return u(c,y,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,c,y){if(l(c))return s;var d=f(1.4*h,2);return u(c,y,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M0,0L-"+d+","+f(2*h,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M0,0L-"+d+",-"+f(2*h,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,c,y){if(l(c))return s;var d=f(2*h,2),v=f(h,2);return u(c,y,"M0,0L"+d+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,c,y){if(l(c))return s;var d=f(2*h,2),v=f(h,2);return u(c,y,"M0,0L-"+d+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M-"+d+",0H"+d+"M0,0L-"+d+","+f(2*h,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,c,y){if(l(c))return s;var d=f(h,2);return u(c,y,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+f(2*h,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,c,y){if(l(c))return s;var d=f(2*h,2),v=f(h,2);return u(c,y,"M0,-"+v+"V"+v+"M0,0L"+d+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,c,y){if(l(c))return s;var d=f(2*h,2),v=f(h,2);return u(c,y,"M0,-"+v+"V"+v+"M0,0L-"+d+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,c,y){if(l(c))return s;var d=r/2.5,v=2*h*t(d),g=2*h*a(d);return u(c,y,"M0,0L"+-v+","+g+"L"+v+","+g+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,c,y){if(l(c))return s;var d=r/4,v=2*h*t(d),g=2*h*a(d);return u(c,y,"M0,0L"+-v+","+g+"A "+2*h+","+2*h+" 0 0 1 "+v+","+g+"Z")},backoff:.4,noDot:!0}}},97644:function(U){U.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(U,C,e){var k=e(38248),A=e(24040),o=e(54460),w=e(3400),b=e(93792);function f(s,n,i,r){var t=n["error_"+r]||{},a=[];if(t.visible&&["linear","log"].indexOf(i.type)!==-1){for(var l=b(t),u=0;u<s.length;u++){var h=s[u],c=h.i;if(c===void 0)c=u;else if(c===null)continue;var y=h[r];if(k(i.c2l(y))){var d=l(y,c);if(k(d[0])&&k(d[1])){var v=h[r+"s"]=y-d[0],g=h[r+"h"]=y+d[1];a.push(v,g)}}}var x=i._id,m=n._extremes[x],_=o.findExtremes(i,a,w.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(_.min),m.max=m.max.concat(_.max)}}U.exports=function(s){for(var n=s.calcdata,i=0;i<n.length;i++){var r=n[i],t=r[0].trace;if(t.visible===!0&&A.traceIs(t,"errorBarsOK")){var a=o.getFromId(s,t.xaxis),l=o.getFromId(s,t.yaxis);f(r,t,a,"x"),f(r,t,l,"y")}}}},93792:function(U){function C(e,k){return e==="percent"?function(A){return Math.abs(A*k/100)}:e==="constant"?function(){return Math.abs(k)}:e==="sqrt"?function(A){return Math.sqrt(Math.abs(A))}:void 0}U.exports=function(e){var k=e.type,A=e.symmetric;if(k==="data"){var o=e.array||[];if(A)return function(s,n){var i=+o[n];return[i,i]};var w=e.arrayminus||[];return function(s,n){var i=+o[n],r=+w[n];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var b=C(k,e.value),f=C(k,e.valueminus);return A||e.valueminus===void 0?function(s){var n=b(s);return[n,n]}:function(s){return[f(s),b(s)]}}},65200:function(U,C,e){var k=e(38248),A=e(24040),o=e(3400),w=e(31780),b=e(97644);U.exports=function(f,s,n,i){var r="error_"+i.axis,t=w.newContainer(s,r),a=f[r]||{};function l(y,d){return o.coerce(a,t,b,y,d)}if(l("visible",a.array!==void 0||a.value!==void 0||a.type==="sqrt")!==!1){var u=l("type","array"in a?"data":"percent"),h=!0;u!=="sqrt"&&(h=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in a))),u==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),h||l("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&l(c,!(a.color||k(a.thickness)||k(a.width))),i.inherit&&t[c]||(l("color",n),l("thickness"),l("width",A.traceIs(s,"gl3d")?0:4))}}},64968:function(U,C,e){var k=e(3400),A=e(67824).overrideAll,o=e(97644),w={error_x:k.extendFlat({},o),error_y:k.extendFlat({},o)};delete w.error_x.copy_zstyle,delete w.error_y.copy_zstyle,delete w.error_y.copy_ystyle;var b={error_x:k.extendFlat({},o),error_y:k.extendFlat({},o),error_z:k.extendFlat({},o)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,U.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:w,bar:w,histogram:w,scatter3d:A(b,"calc","nested"),scattergl:A(w,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(f,s,n){(s.error_y||{}).visible&&(n.yerr=f.yh-f.y,s.error_y.symmetric||(n.yerrneg=f.y-f.ys)),(s.error_x||{}).visible&&(n.xerr=f.xh-f.x,s.error_x.symmetric||(n.xerrneg=f.x-f.xs))}}},78512:function(U,C,e){var k=e(33428),A=e(38248),o=e(43616),w=e(43028);U.exports=function(b,f,s,n){var i=s.xaxis,r=s.yaxis,t=n&&n.duration>0,a=b._context.staticPlot;f.each(function(l){var u,h=l[0].trace,c=h.error_x||{},y=h.error_y||{};h.ids&&(u=function(x){return x.id});var d=w.hasMarkers(h)&&h.marker.maxdisplayed>0;y.visible||c.visible||(l=[]);var v=k.select(this).selectAll("g.errorbar").data(l,u);if(v.exit().remove(),l.length){c.visible||v.selectAll("path.xerror").remove(),y.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var g=v.enter().append("g").classed("errorbar",!0);t&&g.style("opacity",0).transition().duration(n.duration).style("opacity",1),o.setClipUrl(v,s.layerClipId,b),v.each(function(x){var m=k.select(this),_=function(P,I,R){var H={x:I.c2p(P.x),y:R.c2p(P.y)};return P.yh!==void 0&&(H.yh=R.c2p(P.yh),H.ys=R.c2p(P.ys),A(H.ys)||(H.noYS=!0,H.ys=R.c2p(P.ys,!0))),P.xh!==void 0&&(H.xh=I.c2p(P.xh),H.xs=I.c2p(P.xs),A(H.xs)||(H.noXS=!0,H.xs=I.c2p(P.xs,!0))),H}(x,i,r);if(!d||x.vis){var p,S=m.select("path.yerror");if(y.visible&&A(_.x)&&A(_.yh)&&A(_.ys)){var T=y.width;p="M"+(_.x-T)+","+_.yh+"h"+2*T+"m-"+T+",0V"+_.ys,_.noYS||(p+="m-"+T+",0h"+2*T),S.size()?t&&(S=S.transition().duration(n.duration).ease(n.easing)):S=m.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",p)}else S.remove();var E=m.select("path.xerror");if(c.visible&&A(_.y)&&A(_.xh)&&A(_.xs)){var O=(c.copy_ystyle?y:c).width;p="M"+_.xh+","+(_.y-O)+"v"+2*O+"m0,-"+O+"H"+_.xs,_.noXS||(p+="m0,-"+O+"v"+2*O),E.size()?t&&(E=E.transition().duration(n.duration).ease(n.easing)):E=m.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",p)}else E.remove()}})}})}},92036:function(U,C,e){var k=e(33428),A=e(76308);U.exports=function(o){o.each(function(w){var b=w[0].trace,f=b.error_y||{},s=b.error_x||{},n=k.select(this);n.selectAll("path.yerror").style("stroke-width",f.thickness+"px").call(A.stroke,f.color),s.copy_ystyle&&(s=f),n.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(A.stroke,s.color)})}},55756:function(U,C,e){var k=e(25376),A=e(65460).hoverlabel,o=e(92880).extendFlat;U.exports={hoverlabel:{bgcolor:o({},A.bgcolor,{arrayOk:!0}),bordercolor:o({},A.bordercolor,{arrayOk:!0}),font:k({arrayOk:!0,editType:"none"}),align:o({},A.align,{arrayOk:!0}),namelength:o({},A.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(U,C,e){var k=e(3400),A=e(24040);function o(w,b,f,s){s=s||k.identity,Array.isArray(w)&&(b[0][f]=s(w))}U.exports=function(w){var b=w.calcdata,f=w._fullLayout;function s(a){return function(l){return k.coerceHoverinfo({hoverinfo:l},{_module:a._module},f)}}for(var n=0;n<b.length;n++){var i=b[n],r=i[0].trace;if(!A.traceIs(r,"pie-like")){var t=A.traceIs(r,"2dMap")?o:k.fillArray;t(r.hoverinfo,i,"hi",s(r)),r.hovertemplate&&t(r.hovertemplate,i,"ht"),r.hoverlabel&&(t(r.hoverlabel.bgcolor,i,"hbg"),t(r.hoverlabel.bordercolor,i,"hbc"),t(r.hoverlabel.font.size,i,"hts"),t(r.hoverlabel.font.color,i,"htc"),t(r.hoverlabel.font.family,i,"htf"),t(r.hoverlabel.font.weight,i,"htw"),t(r.hoverlabel.font.style,i,"hty"),t(r.hoverlabel.font.variant,i,"htv"),t(r.hoverlabel.namelength,i,"hnl"),t(r.hoverlabel.align,i,"hta"))}}}},62376:function(U,C,e){var k=e(24040),A=e(83292).hover;U.exports=function(o,w,b){var f=k.getComponentMethod("annotations","onClick")(o,o._hoverdata);function s(){o.emit("plotly_click",{points:o._hoverdata,event:w})}b!==void 0&&A(o,w,b,!0),o._hoverdata&&w&&w.target&&(f&&f.then?f.then(s):s(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},92456:function(U){U.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(U,C,e){var k=e(3400),A=e(55756),o=e(16132);U.exports=function(w,b,f,s){var n=k.extendFlat({},s.hoverlabel);b.hovertemplate&&(n.namelength=-1),o(w,b,function(i,r){return k.coerce(w,b,A,i,r)},n)}},10624:function(U,C,e){var k=e(3400);C.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},C.isTraceInSubplots=function(s,n){if(s.type==="splom"){for(var i=s.xaxes||[],r=s.yaxes||[],t=0;t<i.length;t++)for(var a=0;a<r.length;a++)if(n.indexOf(i[t]+r[a])!==-1)return!0;return!1}return n.indexOf(C.getSubplot(s))!==-1},C.flat=function(s,n){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=n;return i},C.p2c=function(s,n){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=s[r].p2c(n);return i},C.getDistanceFunction=function(s,n,i,r){return s==="closest"?r||C.quadrature(n,i):s.charAt(0)==="x"?n:i},C.getClosest=function(s,n,i){if(i.index!==!1)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var r=0;r<s.length;r++){var t=n(s[r]);t<=i.distance&&(i.index=r,i.distance=t)}return i},C.inbox=function(s,n,i){return s*n<0||s===0?i:1/0},C.quadrature=function(s,n){return function(i){var r=s(i),t=n(i);return Math.sqrt(r*r+t*t)}},C.makeEventData=function(s,n,i){var r="index"in s?s.index:s.pointNumber,t={data:n._input,fullData:n,curveNumber:n.index,pointNumber:r};if(n._indexToPoints){var a=n._indexToPoints[r];a.length===1?t.pointIndex=a[0]:t.pointIndices=a}else t.pointIndex=r;return n._module.eventData?t=n._module.eventData(t,s,n,i,r):("xVal"in s?t.x=s.xVal:"x"in s&&(t.x=s.x),"yVal"in s?t.y=s.yVal:"y"in s&&(t.y=s.y),s.xa&&(t.xaxis=s.xa),s.ya&&(t.yaxis=s.ya),s.zLabelVal!==void 0&&(t.z=s.zLabelVal)),C.appendArrayPointValue(t,n,r),t},C.appendArrayPointValue=function(s,n,i){var r=n._arrayAttrs;if(r)for(var t=0;t<r.length;t++){var a=r[t],l=o(a);if(s[l]===void 0){var u=w(k.nestedProperty(n,a).get(),i);u!==void 0&&(s[l]=u)}}},C.appendArrayMultiPointValues=function(s,n,i){var r=n._arrayAttrs;if(r)for(var t=0;t<r.length;t++){var a=r[t],l=o(a);if(s[l]===void 0){for(var u=k.nestedProperty(n,a).get(),h=new Array(i.length),c=0;c<i.length;c++)h[c]=w(u,i[c]);s[l]=h}}};var A={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(s){return A[s]||s}function w(s,n){return Array.isArray(n)?Array.isArray(s)&&Array.isArray(s[n[0]])?s[n[0]][n[1]]:void 0:s[n]}var b={x:!0,y:!0},f={"x unified":!0,"y unified":!0};C.isUnifiedHover=function(s){return typeof s=="string"&&!!f[s]},C.isXYhover=function(s){return typeof s=="string"&&!!b[s]}},83292:function(U,C,e){var k=e(33428),A=e(38248),o=e(49760),w=e(3400),b=w.pushUnique,f=w.strTranslate,s=w.strRotate,n=e(95924),i=e(72736),r=e(72213),t=e(43616),a=e(76308),l=e(86476),u=e(54460),h=e(24040),c=e(10624),y=e(92456),d=e(77864),v=e(31140),g=y.YANGLE,x=Math.PI*g/180,m=1/Math.sin(x),_=Math.cos(x),p=Math.sin(x),S=y.HOVERARROWSIZE,T=y.HOVERTEXTPAD,E={box:!0,ohlc:!0,violin:!0,candlestick:!0},O={scatter:!0,scattergl:!0,splom:!0};function P(K,ae){return K.distance-ae.distance}function I(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}C.hover=function(K,ae,ue,se){K=w.getGraphDiv(K);var he=ae.target;w.throttle(K._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){(function(pe,de,xe,_e,be){xe||(xe="xy");var Le,De,ye,le=Array.isArray(xe)?xe:[xe],oe=pe._fullLayout,ve=oe.hoversubplots,Ce=oe._plots||[],ke=Ce[xe],Ae=oe._has("cartesian"),Ee=de.hovermode||oe.hovermode,ze=(Ee||"").charAt(0)==="x",Fe=(Ee||"").charAt(0)==="y";if(Ae&&(ze||Fe)&&ve==="axis"){for(var ge=le.length,Te=0;Te<ge;Te++)if(Ce[Le=le[Te]]){De=u.getFromId(pe,Le,"x"),ye=u.getFromId(pe,Le,"y");var Se=(ze?De:ye)._subplotsWith;if(Se&&Se.length)for(var Re=0;Re<Se.length;Re++)b(le,Se[Re])}}if(ke&&ve!=="single"){var Pe=ke.overlays.map(function(At){return At.id});le=le.concat(Pe)}for(var Ve=le.length,We=new Array(Ve),Qe=new Array(Ve),lt=!1,ut=0;ut<Ve;ut++)if(Ce[Le=le[ut]])lt=!0,We[ut]=Ce[Le].xaxis,Qe[ut]=Ce[Le].yaxis;else{if(!oe[Le]||!oe[Le]._subplot)return void w.warn("Unrecognized subplot: "+Le);var xt=oe[Le]._subplot;We[ut]=xt.xaxis,Qe[ut]=xt.yaxis}if(Ee&&!lt&&(Ee="closest"),["x","y","closest","x unified","y unified"].indexOf(Ee)===-1||!pe.calcdata||pe.querySelector(".zoombox")||pe._dragging)return l.unhoverRaw(pe,de);var _t=oe.hoverdistance;_t===-1&&(_t=1/0);var mt=oe.spikedistance;mt===-1&&(mt=1/0);var it,nt,Et,Rt,Ft,Pt,Ze,$e,He,Je,ft,ot,je,Ue=[],st=[],Ke={hLinePoint:null,vLinePoint:null},gt=!1;if(Array.isArray(de))for(Ee="array",Et=0;Et<de.length;Et++)(Ft=pe.calcdata[de[Et].curveNumber||0])&&(Pt=Ft[0].trace,Ft[0].trace.hoverinfo!=="skip"&&(st.push(Ft),Pt.orientation==="h"&&(gt=!0)));else{var yt,bt,dt=pe.calcdata.slice();for(dt.sort(function(At,Wt){return(At[0].trace.zorder||0)-(Wt[0].trace.zorder||0)}),Rt=0;Rt<dt.length;Rt++)Ft=dt[Rt],(Pt=Ft[0].trace).hoverinfo!=="skip"&&c.isTraceInSubplots(Pt,le)&&(st.push(Ft),Pt.orientation==="h"&&(gt=!0));if(be){if(n.triggerHandler(pe,"plotly_beforehover",de)===!1)return;var Lt=be.getBoundingClientRect();yt=de.clientX-Lt.left,bt=de.clientY-Lt.top,oe._calcInverseTransform(pe);var wt=w.apply3DTransform(oe._invTransform)(yt,bt);if(yt=wt[0],bt=wt[1],yt<0||yt>We[0]._length||bt<0||bt>Qe[0]._length)return l.unhoverRaw(pe,de)}else yt="xpx"in de?de.xpx:We[0]._length/2,bt="ypx"in de?de.ypx:Qe[0]._length/2;if(de.pointerX=yt+We[0]._offset,de.pointerY=bt+Qe[0]._offset,it="xval"in de?c.flat(le,de.xval):c.p2c(We,yt),nt="yval"in de?c.flat(le,de.yval):c.p2c(Qe,bt),!A(it[0])||!A(nt[0]))return w.warn("Fx.hover failed",de,pe),l.unhoverRaw(pe,de)}var Ct=1/0;function zt(At,Wt){for(Rt=0;Rt<st.length;Rt++)if((Ft=st[Rt])&&Ft[0]&&Ft[0].trace&&(Pt=Ft[0].trace).visible===!0&&Pt._length!==0&&["carpet","contourcarpet"].indexOf(Pt._module.name)===-1){if(He=Ee,c.isUnifiedHover(He)&&(He=He.charAt(0)),Pt.type==="splom"?Ze=le[$e=0]:(Ze=c.getSubplot(Pt),$e=le.indexOf(Ze)),ot={cd:Ft,trace:Pt,xa:We[$e],ya:Qe[$e],maxHoverDistance:_t,maxSpikeDistance:mt,index:!1,distance:Math.min(Ct,_t),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Pt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},oe[Ze]&&(ot.subplot=oe[Ze]._subplot),oe._splomScenes&&oe._splomScenes[Pt.uid]&&(ot.scene=oe._splomScenes[Pt.uid]),He==="array"){var en=de[Rt];"pointNumber"in en?(ot.index=en.pointNumber,He="closest"):(He="","xval"in en&&(Je=en.xval,He="x"),"yval"in en&&(ft=en.yval,He=He?"closest":"y"))}else At!==void 0&&Wt!==void 0?(Je=At,ft=Wt):(Je=it[$e],ft=nt[$e]);if(je=Ue.length,_t!==0)if(Pt._module&&Pt._module.hoverPoints){var dn=Pt._module.hoverPoints(ot,Je,ft,He,{finiteRange:!0,hoverLayer:oe._hoverlayer,hoversubplots:ve,gd:pe});if(dn)for(var gn,_n=0;_n<dn.length;_n++)gn=dn[_n],A(gn.x0)&&A(gn.y0)&&Ue.push(F(gn,Ee))}else w.log("Unrecognized trace type in hover:",Pt);if(Ee==="closest"&&Ue.length>je&&(Ue.splice(0,je),Ct=Ue[0].distance),Ae&&mt!==0&&Ue.length===0){ot.distance=mt,ot.index=!1;var on=Pt._module.hoverPoints(ot,Je,ft,"closest",{hoverLayer:oe._hoverlayer});if(on&&(on=on.filter(function(Cn){return Cn.spikeDistance<=mt})),on&&on.length){var Yt,Xt=on.filter(function(Cn){return Cn.xa.showspikes&&Cn.xa.spikesnap!=="hovered data"});if(Xt.length){var sn=Xt[0];A(sn.x0)&&A(sn.y0)&&(Yt=Nt(sn),(!Ke.vLinePoint||Ke.vLinePoint.spikeDistance>Yt.spikeDistance)&&(Ke.vLinePoint=Yt))}var hn=on.filter(function(Cn){return Cn.ya.showspikes&&Cn.ya.spikesnap!=="hovered data"});if(hn.length){var Sn=hn[0];A(Sn.x0)&&A(Sn.y0)&&(Yt=Nt(Sn),(!Ke.hLinePoint||Ke.hLinePoint.spikeDistance>Yt.spikeDistance)&&(Ke.hLinePoint=Yt))}}}}}function Dt(At,Wt,en){for(var dn,gn=null,_n=1/0,on=0;on<At.length;on++)De&&De._id!==At[on].xa._id||ye&&ye._id!==At[on].ya._id||(dn=At[on].spikeDistance,en&&on===0&&(dn=-1/0),dn<=_n&&dn<=Wt&&(gn=At[on],_n=dn));return gn}function Nt(At){return At?{xa:At.xa,ya:At.ya,x:At.xSpike!==void 0?At.xSpike:(At.x0+At.x1)/2,y:At.ySpike!==void 0?At.ySpike:(At.y0+At.y1)/2,distance:At.distance,spikeDistance:At.spikeDistance,curveNumber:At.trace.index,color:At.color,pointNumber:At.index}:null}zt();var Kt={fullLayout:oe,container:oe._hoverlayer,event:de};pe._spikepoints;var un={vLinePoint:Ke.vLinePoint,hLinePoint:Ke.hLinePoint};pe._spikepoints=un;var qt=function(){var At=Ue.filter(function(en){return De&&De._id===en.xa._id&&ye&&ye._id===en.ya._id}),Wt=Ue.filter(function(en){return!(De&&De._id===en.xa._id&&ye&&ye._id===en.ya._id)});At.sort(P),Wt.sort(P),Ue=function(en,dn){for(var gn=dn.charAt(0),_n=[],on=[],Yt=[],Xt=0;Xt<en.length;Xt++){var sn=en[Xt];h.traceIs(sn.trace,"bar-like")||h.traceIs(sn.trace,"box-violin")?Yt.push(sn):sn.trace[gn+"period"]?on.push(sn):_n.push(sn)}return _n.concat(on).concat(Yt)}(Ue=At.concat(Wt),Ee)};qt();var Jt=Ee.charAt(0),Ut=(Jt==="x"||Jt==="y")&&Ue[0]&&O[Ue[0].trace.type];if(Ae&&mt!==0&&Ue.length!==0){var zn=Dt(Ue.filter(function(At){return At.ya.showspikes}),mt,Ut);Ke.hLinePoint=Nt(zn);var An=Dt(Ue.filter(function(At){return At.xa.showspikes}),mt,Ut);Ke.vLinePoint=Nt(An)}if(Ue.length===0){var mn=l.unhoverRaw(pe,de);return!Ae||Ke.hLinePoint===null&&Ke.vLinePoint===null||V(pe,Ke,Kt),mn}if(Ae&&W()&&V(pe,Ke,Kt),c.isXYhover(He)&&Ue[0].length!==0&&Ue[0].trace.type!=="splom"){var tn=Ue[0],fn=(Ue=E[tn.trace.type]?Ue.filter(function(At){return At.trace.index===tn.trace.index}):[tn]).length;zt(ne("x",tn,oe),ne("y",tn,oe));var rn,pn=[],wn={},kn=0,Pn=function(At){var Wt=E[At.trace.type]?I(At):At.trace.index;if(wn[Wt]){var en=wn[Wt]-1,dn=pn[en];en>0&&Math.abs(At.distance)<Math.abs(dn.distance)&&(pn[en]=At)}else kn++,wn[Wt]=kn,pn.push(At)};for(rn=0;rn<fn;rn++)Pn(Ue[rn]);for(rn=Ue.length-1;rn>fn-1;rn--)Pn(Ue[rn]);Ue=pn,qt()}var On=pe._hoverdata,En=[],Vn=te(pe),Fn=Q(pe);for(Et=0;Et<Ue.length;Et++){var Wn=Ue[Et],rr=c.makeEventData(Wn,Wn.trace,Wn.cd);if(Wn.hovertemplate!==!1){var ir=!1;Wn.cd[Wn.index]&&Wn.cd[Wn.index].ht&&(ir=Wn.cd[Wn.index].ht),Wn.hovertemplate=ir||Wn.trace.hovertemplate||!1}if(Wn.xa&&Wn.ya){var Jn=Wn.x0+Wn.xa._offset,dr=Wn.x1+Wn.xa._offset,nn=Wn.y0+Wn.ya._offset,an=Wn.y1+Wn.ya._offset,In=Math.min(Jn,dr),yn=Math.max(Jn,dr),Dn=Math.min(nn,an),Zn=Math.max(nn,an);rr.bbox={x0:In+Fn,x1:yn+Fn,y0:Dn+Vn,y1:Zn+Vn}}Wn.eventData=[rr],En.push(rr)}pe._hoverdata=En;var Hn=Ee==="y"&&(st.length>1||Ue.length>1)||Ee==="closest"&&gt&&Ue.length>1,Qn=a.combine(oe.plot_bgcolor||a.background,oe.paper_bgcolor),mr=H(Ue,{gd:pe,hovermode:Ee,rotateLabels:Hn,bgColor:Qn,container:oe._hoverlayer,outerContainer:oe._paper.node(),commonLabelOpts:oe.hoverlabel,hoverdistance:oe.hoverdistance}),Qt=mr.hoverLabels;if(c.isUnifiedHover(Ee)||(function(At,Wt,en,dn){var gn,_n,on,Yt,Xt,sn,hn,Sn=Wt?"xa":"ya",Cn=Wt?"ya":"xa",Un=0,qn=1,tr=At.size(),Yn=new Array(tr),sr=0,ar=dn.minX,er=dn.maxX,gr=dn.minY,kr=dn.maxY,yr=function(Nr){return Nr*en._invScaleX},ur=function(Nr){return Nr*en._invScaleY};function _r(Nr){var Ai=Nr[0],Pa=Nr[Nr.length-1];if(_n=Ai.pmin-Ai.pos-Ai.dp+Ai.size,on=Pa.pos+Pa.dp+Pa.size-Ai.pmax,_n>.01){for(Xt=Nr.length-1;Xt>=0;Xt--)Nr[Xt].dp+=_n;gn=!1}if(!(on<.01)){if(_n<-.01){for(Xt=Nr.length-1;Xt>=0;Xt--)Nr[Xt].dp-=on;gn=!1}if(gn){var pa=0;for(Yt=0;Yt<Nr.length;Yt++)(sn=Nr[Yt]).pos+sn.dp+sn.size>Ai.pmax&&pa++;for(Yt=Nr.length-1;Yt>=0&&!(pa<=0);Yt--)(sn=Nr[Yt]).pos>Ai.pmax-1&&(sn.del=!0,pa--);for(Yt=0;Yt<Nr.length&&!(pa<=0);Yt++)if((sn=Nr[Yt]).pos<Ai.pmin+1)for(sn.del=!0,pa--,on=2*sn.size,Xt=Nr.length-1;Xt>=0;Xt--)Nr[Xt].dp-=on;for(Yt=Nr.length-1;Yt>=0&&!(pa<=0);Yt--)(sn=Nr[Yt]).pos+sn.dp+sn.size>Ai.pmax&&(sn.del=!0,pa--)}}}for(At.each(function(Nr){var Ai=Nr[Sn],Pa=Nr[Cn],pa=Ai._id.charAt(0)==="x",Xo=Ai.range;sr===0&&Xo&&Xo[0]>Xo[1]!==pa&&(qn=-1);var Ko=0,Co=pa?en.width:en.height;if(en.hovermode==="x"||en.hovermode==="y"){var da,Po,ms=j(Nr,Wt),Vs=Nr.anchor,to=Vs==="end"?-1:1;if(Vs==="middle")Po=(da=Nr.crossPos+(pa?ur(ms.y-Nr.by/2):yr(Nr.bx/2+Nr.tx2width/2)))+(pa?ur(Nr.by):yr(Nr.bx));else if(pa)Po=(da=Nr.crossPos+ur(S+ms.y)-ur(Nr.by/2-S))+ur(Nr.by);else{var no=yr(to*S+ms.x),Oo=no+yr(to*Nr.bx);da=Nr.crossPos+Math.min(no,Oo),Po=Nr.crossPos+Math.max(no,Oo)}pa?gr!==void 0&&kr!==void 0&&Math.min(Po,kr)-Math.max(da,gr)>1&&(Pa.side==="left"?(Ko=Pa._mainLinePosition,Co=en.width):Co=Pa._mainLinePosition):ar!==void 0&&er!==void 0&&Math.min(Po,er)-Math.max(da,ar)>1&&(Pa.side==="top"?(Ko=Pa._mainLinePosition,Co=en.height):Co=Pa._mainLinePosition)}Yn[sr++]=[{datum:Nr,traceIndex:Nr.trace.index,dp:0,pos:Nr.pos,posref:Nr.posref,size:Nr.by*(pa?m:1)/2,pmin:Ko,pmax:Co}]}),Yn.sort(function(Nr,Ai){return Nr[0].posref-Ai[0].posref||qn*(Ai[0].traceIndex-Nr[0].traceIndex)});!gn&&Un<=tr;){for(Un++,gn=!0,Yt=0;Yt<Yn.length-1;){var Mr=Yn[Yt],Ur=Yn[Yt+1],gi=Mr[Mr.length-1],xi=Ur[0];if((_n=gi.pos+gi.dp+gi.size-xi.pos-xi.dp+xi.size)>.01&&gi.pmin===xi.pmin&&gi.pmax===xi.pmax){for(Xt=Ur.length-1;Xt>=0;Xt--)Ur[Xt].dp+=_n;for(Mr.push.apply(Mr,Ur),Yn.splice(Yt+1,1),hn=0,Xt=Mr.length-1;Xt>=0;Xt--)hn+=Mr[Xt].dp;for(on=hn/Mr.length,Xt=Mr.length-1;Xt>=0;Xt--)Mr[Xt].dp-=on;gn=!1}else Yt++}Yn.forEach(_r)}for(Yt=Yn.length-1;Yt>=0;Yt--){var ia=Yn[Yt];for(Xt=ia.length-1;Xt>=0;Xt--){var hi=ia[Xt],Bi=hi.datum;Bi.offset=hi.dp,Bi.del=hi.del}}}(Qt,Hn,oe,mr.commonLabelBoundingBox),Z(Qt,Hn,oe._invScaleX,oe._invScaleY)),be&&be.tagName){var xn=h.getComponentMethod("annotations","hasClickToShow")(pe,En);r(k.select(be),xn?"pointer":"")}be&&!_e&&function(At,Wt,en){if(!en||en.length!==At._hoverdata.length)return!0;for(var dn=en.length-1;dn>=0;dn--){var gn=en[dn],_n=At._hoverdata[dn];if(gn.curveNumber!==_n.curveNumber||String(gn.pointNumber)!==String(_n.pointNumber)||String(gn.pointNumbers)!==String(_n.pointNumbers))return!0}return!1}(pe,0,On)&&(On&&pe.emit("plotly_unhover",{event:de,points:On}),pe.emit("plotly_hover",{event:de,points:pe._hoverdata,xaxes:We,yaxes:Qe,xvals:it,yvals:nt}))})(K,ae,ue,se,he)})},C.loneHover=function(K,ae){var ue=!0;Array.isArray(K)||(ue=!1,K=[K]);var se=ae.gd,he=te(se),pe=Q(se),de=H(K.map(function(be){var Le=be._x0||be.x0||be.x||0,De=be._x1||be.x1||be.x||0,ye=be._y0||be.y0||be.y||0,le=be._y1||be.y1||be.y||0,oe=be.eventData;if(oe){var ve=Math.min(Le,De),Ce=Math.max(Le,De),ke=Math.min(ye,le),Ae=Math.max(ye,le),Ee=be.trace;if(h.traceIs(Ee,"gl3d")){var ze=se._fullLayout[Ee.scene]._scene.container,Fe=ze.offsetLeft,ge=ze.offsetTop;ve+=Fe,Ce+=Fe,ke+=ge,Ae+=ge}oe.bbox={x0:ve+pe,x1:Ce+pe,y0:ke+he,y1:Ae+he},ae.inOut_bbox&&ae.inOut_bbox.push(oe.bbox)}else oe=!1;return{color:be.color||a.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,fontWeight:be.fontWeight,fontStyle:be.fontStyle,fontVariant:be.fontVariant,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:oe}}),{gd:se,hovermode:"closest",rotateLabels:!1,bgColor:ae.bgColor||a.background,container:k.select(ae.container),outerContainer:ae.outerContainer||ae.container}).hoverLabels,xe=0,_e=0;return de.sort(function(be,Le){return be.y0-Le.y0}).each(function(be,Le){var De=be.y0-be.by/2;be.offset=De-5<xe?xe-De+5:0,xe=De+be.by+be.offset,Le===ae.anchorIndex&&(_e=be.offset)}).each(function(be){be.offset-=_e}),Z(de,!1,se._fullLayout._invScaleX,se._fullLayout._invScaleY),ue?de:de.node()};var R=/<extra>([\s\S]*)<\/extra>/;function H(K,ae){var ue=ae.gd,se=ue._fullLayout,he=ae.hovermode,pe=ae.rotateLabels,de=ae.bgColor,xe=ae.container,_e=ae.outerContainer,be=ae.commonLabelOpts||{};if(K.length===0)return[[]];var Le=ae.fontFamily||y.HOVERFONT,De=ae.fontSize||y.HOVERFONTSIZE,ye=ae.fontWeight||se.font.weight,le=ae.fontStyle||se.font.style,oe=ae.fontVariant||se.font.variant,ve=ae.fontTextcase||se.font.textcase,Ce=ae.fontLineposition||se.font.lineposition,ke=ae.fontShadow||se.font.shadow,Ae=K[0],Ee=Ae.xa,ze=Ae.ya,Fe=he.charAt(0),ge=Fe+"Label",Te=Ae[ge];if(Te===void 0&&Ee.type==="multicategory")for(var Se=0;Se<K.length&&(Te=K[Se][ge])===void 0;Se++);var Re=$(ue,_e),Pe=Re.top,Ve=Re.width,We=Re.height,Qe=Te!==void 0&&Ae.distance<=ae.hoverdistance&&(he==="x"||he==="y");if(Qe){var lt,ut,xt=!0;for(lt=0;lt<K.length;lt++)if(xt&&K[lt].zLabel===void 0&&(xt=!1),ut=K[lt].hoverinfo||K[lt].trace.hoverinfo){var _t=Array.isArray(ut)?ut:ut.split("+");if(_t.indexOf("all")===-1&&_t.indexOf(he)===-1){Qe=!1;break}}xt&&(Qe=!1)}var mt=xe.selectAll("g.axistext").data(Qe?[0]:[]);mt.enter().append("g").classed("axistext",!0),mt.exit().remove();var it={minX:0,maxX:0,minY:0,maxY:0};if(mt.each(function(){var Ut=k.select(this),zn=w.ensureSingle(Ut,"path","",function(yn){yn.style({"stroke-width":"1px"})}),An=w.ensureSingle(Ut,"text","",function(yn){yn.attr("data-notex",1)}),mn=be.bgcolor||a.defaultLine,tn=be.bordercolor||a.contrast(mn),fn=a.contrast(mn),rn=be.font,pn={weight:rn.weight||ye,style:rn.style||le,variant:rn.variant||oe,textcase:rn.textcase||ve,lineposition:rn.lineposition||Ce,shadow:rn.shadow||ke,family:rn.family||Le,size:rn.size||De,color:rn.color||fn};zn.style({fill:mn,stroke:tn}),An.text(Te).call(t.font,pn).call(i.positionText,0,0).call(i.convertToTspans,ue),Ut.attr("transform","");var wn,kn,Pn=$(ue,An.node());if(he==="x"){var On=Ee.side==="top"?"-":"";An.attr("text-anchor","middle").call(i.positionText,0,Ee.side==="top"?Pe-Pn.bottom-S-T:Pe-Pn.top+S+T),wn=Ee._offset+(Ae.x0+Ae.x1)/2,kn=ze._offset+(Ee.side==="top"?0:ze._length);var En=Pn.width/2+T,Vn=wn;wn<En?Vn=En:wn>se.width-En&&(Vn=se.width-En),zn.attr("d","M"+(wn-Vn)+",0L"+(wn-Vn+S)+","+On+S+"H"+En+"v"+On+(2*T+Pn.height)+"H"+-En+"V"+On+S+"H"+(wn-Vn-S)+"Z"),wn=Vn,it.minX=wn-En,it.maxX=wn+En,Ee.side==="top"?(it.minY=kn-(2*T+Pn.height),it.maxY=kn-T):(it.minY=kn+T,it.maxY=kn+(2*T+Pn.height))}else{var Fn,Wn,rr;ze.side==="right"?(Fn="start",Wn=1,rr="",wn=Ee._offset+Ee._length):(Fn="end",Wn=-1,rr="-",wn=Ee._offset),kn=ze._offset+(Ae.y0+Ae.y1)/2,An.attr("text-anchor",Fn),zn.attr("d","M0,0L"+rr+S+","+S+"V"+(T+Pn.height/2)+"h"+rr+(2*T+Pn.width)+"V-"+(T+Pn.height/2)+"H"+rr+S+"V-"+S+"Z"),it.minY=kn-(T+Pn.height/2),it.maxY=kn+(T+Pn.height/2),ze.side==="right"?(it.minX=wn+S,it.maxX=wn+S+(2*T+Pn.width)):(it.minX=wn-S-(2*T+Pn.width),it.maxX=wn-S);var ir,Jn=Pn.height/2,dr=Pe-Pn.top-Jn,nn="clip"+se._uid+"commonlabel"+ze._id;if(wn<Pn.width+2*T+S){ir="M-"+(S+T)+"-"+Jn+"h-"+(Pn.width-T)+"V"+Jn+"h"+(Pn.width-T)+"Z";var an=Pn.width-wn+T;i.positionText(An,an,dr),Fn==="end"&&An.selectAll("tspan").each(function(){var yn=k.select(this),Dn=t.tester.append("text").text(yn.text()).call(t.font,pn),Zn=$(ue,Dn.node());Math.round(Zn.width)<Math.round(Pn.width)&&yn.attr("x",an-Zn.width),Dn.remove()})}else i.positionText(An,Wn*(T+S),dr),ir=null;var In=se._topclips.selectAll("#"+nn).data(ir?[0]:[]);In.enter().append("clipPath").attr("id",nn).append("path"),In.exit().remove(),In.select("path").attr("d",ir),t.setClipUrl(An,ir?nn:null,ue)}Ut.attr("transform",f(wn,kn))}),c.isUnifiedHover(he)){xe.selectAll("g.hovertext").remove();var nt=K.filter(function(Ut){return Ut.hoverinfo!=="none"});if(nt.length===0)return[];var Et=se.hoverlabel,Rt=Et.font,Ft={showlegend:!0,legend:{title:{text:Te,font:Rt},font:Rt,bgcolor:Et.bgcolor,bordercolor:Et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:se.legend?se.legend.traceorder:void 0,orientation:"v"}},Pt={font:Rt};d(Ft,Pt,ue._fullData);var Ze=Pt.legend;Ze.entries=[];for(var $e=0;$e<nt.length;$e++){var He=nt[$e];if(He.hoverinfo!=="none"){var Je=z(He,!0,he,se,Te),ft=Je[0],ot=Je[1];He.name=ot,He.text=ot!==""?ot+" : "+ft:ft;var je=He.cd[He.index];je&&(je.mc&&(He.mc=je.mc),je.mcc&&(He.mc=je.mcc),je.mlc&&(He.mlc=je.mlc),je.mlcc&&(He.mlc=je.mlcc),je.mlw&&(He.mlw=je.mlw),je.mrc&&(He.mrc=je.mrc),je.dir&&(He.dir=je.dir)),He._distinct=!0,Ze.entries.push([He])}}Ze.entries.sort(function(Ut,zn){return Ut[0].trace.index-zn[0].trace.index}),Ze.layer=xe,Ze._inHover=!0,Ze._groupTitleFont=Et.grouptitlefont,v(ue,Ze);var Ue,st,Ke,gt,yt=xe.select("g.legend"),bt=$(ue,yt.node()),dt=bt.width+2*T,Lt=bt.height+2*T,wt=nt[0],Ct=(wt.x0+wt.x1)/2,zt=(wt.y0+wt.y1)/2,Dt=!(h.traceIs(wt.trace,"bar-like")||h.traceIs(wt.trace,"box-violin"));Fe==="y"?Dt?(st=zt-T,Ue=zt+T):(st=Math.min.apply(null,nt.map(function(Ut){return Math.min(Ut.y0,Ut.y1)})),Ue=Math.max.apply(null,nt.map(function(Ut){return Math.max(Ut.y0,Ut.y1)}))):st=Ue=w.mean(nt.map(function(Ut){return(Ut.y0+Ut.y1)/2}))-Lt/2,Fe==="x"?Dt?(Ke=Ct+T,gt=Ct-T):(Ke=Math.max.apply(null,nt.map(function(Ut){return Math.max(Ut.x0,Ut.x1)})),gt=Math.min.apply(null,nt.map(function(Ut){return Math.min(Ut.x0,Ut.x1)}))):Ke=gt=w.mean(nt.map(function(Ut){return(Ut.x0+Ut.x1)/2}))-dt/2;var Nt,Kt,un=Ee._offset,qt=ze._offset;return gt+=un-dt,st+=qt-Lt,Nt=(Ke+=un)+dt<Ve&&Ke>=0?Ke:gt+dt<Ve&&gt>=0?gt:un+dt<Ve?un:Ke-Ct<Ct-gt+dt?Ve-dt:0,Nt+=T,Kt=(Ue+=qt)+Lt<We&&Ue>=0?Ue:st+Lt<We&&st>=0?st:qt+Lt<We?qt:Ue-zt<zt-st+Lt?We-Lt:0,Kt+=T,yt.attr("transform",f(Nt-1,Kt-1)),yt}var Jt=xe.selectAll("g.hovertext").data(K,function(Ut){return I(Ut)});return Jt.enter().append("g").classed("hovertext",!0).each(function(){var Ut=k.select(this);Ut.append("rect").call(a.fill,a.addOpacity(de,.8)),Ut.append("text").classed("name",!0),Ut.append("path").style("stroke-width","1px"),Ut.append("text").classed("nums",!0).call(t.font,{weight:ye,style:le,variant:oe,textcase:ve,lineposition:Ce,shadow:ke,family:Le,size:De})}),Jt.exit().remove(),Jt.each(function(Ut){var zn=k.select(this).attr("transform",""),An=Ut.color;Array.isArray(An)&&(An=An[Ut.eventData[0].pointNumber]);var mn=Ut.bgcolor||An,tn=a.combine(a.opacity(mn)?mn:a.defaultLine,de),fn=a.combine(a.opacity(An)?An:a.defaultLine,de),rn=Ut.borderColor||a.contrast(tn),pn=z(Ut,Qe,he,se,Te,zn),wn=pn[0],kn=pn[1],Pn=zn.select("text.nums").call(t.font,{family:Ut.fontFamily||Le,size:Ut.fontSize||De,color:Ut.fontColor||rn,weight:Ut.fontWeight||ye,style:Ut.fontStyle||le,variant:Ut.fontVariant||oe,textcase:Ut.fontTextcase||ve,lineposition:Ut.fontLineposition||Ce,shadow:Ut.fontShadow||ke}).text(wn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue),On=zn.select("text.name"),En=0,Vn=0;if(kn&&kn!==wn){On.call(t.font,{family:Ut.fontFamily||Le,size:Ut.fontSize||De,color:fn,weight:Ut.fontWeight||ye,style:Ut.fontStyle||le,variant:Ut.fontVariant||oe,textcase:Ut.fontTextcase||ve,lineposition:Ut.fontLineposition||Ce,shadow:Ut.fontShadow||ke}).text(kn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue);var Fn=$(ue,On.node());En=Fn.width+2*T,Vn=Fn.height+2*T}else On.remove(),zn.select("rect").remove();zn.select("path").style({fill:tn,stroke:rn});var Wn=Ut.xa._offset+(Ut.x0+Ut.x1)/2,rr=Ut.ya._offset+(Ut.y0+Ut.y1)/2,ir=Math.abs(Ut.x1-Ut.x0),Jn=Math.abs(Ut.y1-Ut.y0),dr=$(ue,Pn.node()),nn=dr.width/se._invScaleX,an=dr.height/se._invScaleY;Ut.ty0=(Pe-dr.top)/se._invScaleY,Ut.bx=nn+2*T,Ut.by=Math.max(an+2*T,Vn),Ut.anchor="start",Ut.txwidth=nn,Ut.tx2width=En,Ut.offset=0;var In,yn,Dn=(nn+S+T+En)*se._invScaleX;if(pe)Ut.pos=Wn,In=rr+Jn/2+Dn<=We,yn=rr-Jn/2-Dn>=0,Ut.idealAlign!=="top"&&In||!yn?In?(rr+=Jn/2,Ut.anchor="start"):Ut.anchor="middle":(rr-=Jn/2,Ut.anchor="end"),Ut.crossPos=rr;else{if(Ut.pos=rr,In=Wn+ir/2+Dn<=Ve,yn=Wn-ir/2-Dn>=0,Ut.idealAlign!=="left"&&In||!yn)if(In)Wn+=ir/2,Ut.anchor="start";else{Ut.anchor="middle";var Zn=Dn/2,Hn=Wn+Zn-Ve,Qn=Wn-Zn;Hn>0&&(Wn-=Hn),Qn<0&&(Wn+=-Qn)}else Wn-=ir/2,Ut.anchor="end";Ut.crossPos=Wn}Pn.attr("text-anchor",Ut.anchor),En&&On.attr("text-anchor",Ut.anchor),zn.attr("transform",f(Wn,rr)+(pe?s(g):""))}),{hoverLabels:Jt,commonLabelBoundingBox:it}}function z(K,ae,ue,se,he,pe){var de="",xe="";K.nameOverride!==void 0&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=w.templateString(K.name,K.trace._meta)),de=re(K.name,K.nameLength));var _e=ue.charAt(0),be=_e==="x"?"y":"x";K.zLabel!==void 0?(K.xLabel!==void 0&&(xe+="x: "+K.xLabel+"<br>"),K.yLabel!==void 0&&(xe+="y: "+K.yLabel+"<br>"),K.trace.type!=="choropleth"&&K.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+K.zLabel)):ae&&K[_e+"Label"]===he?xe=K[be+"Label"]||"":K.xLabel===void 0?K.yLabel!==void 0&&K.trace.type!=="scattercarpet"&&(xe=K.yLabel):xe=K.yLabel===void 0?K.xLabel:"("+K.xLabel+", "+K.yLabel+")",!K.text&&K.text!==0||Array.isArray(K.text)||(xe+=(xe?"<br>":"")+K.text),K.extraText!==void 0&&(xe+=(xe?"<br>":"")+K.extraText),pe&&xe===""&&!K.hovertemplate&&(de===""&&pe.remove(),xe=de);var Le=K.hovertemplate||!1;if(Le){var De=K.hovertemplateLabels||K;K[_e+"Label"]!==he&&(De[_e+"other"]=De[_e+"Val"],De[_e+"otherLabel"]=De[_e+"Label"]),xe=(xe=w.hovertemplateString(Le,De,se._d3locale,K.eventData[0]||{},K.trace._meta)).replace(R,function(ye,le){return de=re(le,K.nameLength),""})}return[xe,de]}function j(K,ae){var ue=0,se=K.offset;return ae&&(se*=-p,ue=K.offset*_),{x:ue,y:se}}function Z(K,ae,ue,se){var he=function(de){return de*ue},pe=function(de){return de*se};K.each(function(de){var xe=k.select(this);if(de.del)return xe.remove();var _e,be,Le,De,ye=xe.select("text.nums"),le=de.anchor,oe=le==="end"?-1:1,ve=(De=(Le=(be={start:1,end:-1,middle:0}[(_e=de).anchor])*(S+T))+be*(_e.txwidth+T),_e.anchor==="middle"&&(Le-=_e.tx2width/2,De+=_e.txwidth/2+T),{alignShift:be,textShiftX:Le,text2ShiftX:De}),Ce=j(de,ae),ke=Ce.x,Ae=Ce.y,Ee=le==="middle";xe.select("path").attr("d",Ee?"M-"+he(de.bx/2+de.tx2width/2)+","+pe(Ae-de.by/2)+"h"+he(de.bx)+"v"+pe(de.by)+"h-"+he(de.bx)+"Z":"M0,0L"+he(oe*S+ke)+","+pe(S+Ae)+"v"+pe(de.by/2-S)+"h"+he(oe*de.bx)+"v-"+pe(de.by)+"H"+he(oe*S+ke)+"V"+pe(Ae-S)+"Z");var ze=ke+ve.textShiftX,Fe=Ae+de.ty0-de.by/2+T,ge=de.textAlign||"auto";ge!=="auto"&&(ge==="left"&&le!=="start"?(ye.attr("text-anchor","start"),ze=Ee?-de.bx/2-de.tx2width/2+T:-de.bx-T):ge==="right"&&le!=="end"&&(ye.attr("text-anchor","end"),ze=Ee?de.bx/2-de.tx2width/2-T:de.bx+T)),ye.call(i.positionText,he(ze),pe(Fe)),de.tx2width&&(xe.select("text.name").call(i.positionText,he(ve.text2ShiftX+ve.alignShift*T+ke),pe(Ae+de.ty0-de.by/2+T)),xe.select("rect").call(t.setRect,he(ve.text2ShiftX+(ve.alignShift-1)*de.tx2width/2+ke),pe(Ae-de.by/2-1),he(de.tx2width),pe(de.by+2)))})}function F(K,ae){var ue=K.index,se=K.trace||{},he=K.cd[0],pe=K.cd[ue]||{};function de(ye){return ye||A(ye)&&ye===0}var xe=Array.isArray(ue)?function(ye,le){var oe=w.castOption(he,ue,ye);return de(oe)?oe:w.extractOption({},se,"",le)}:function(ye,le){return w.extractOption(pe,se,ye,le)};function _e(ye,le,oe){var ve=xe(le,oe);de(ve)&&(K[ye]=ve)}if(_e("hoverinfo","hi","hoverinfo"),_e("bgcolor","hbg","hoverlabel.bgcolor"),_e("borderColor","hbc","hoverlabel.bordercolor"),_e("fontFamily","htf","hoverlabel.font.family"),_e("fontSize","hts","hoverlabel.font.size"),_e("fontColor","htc","hoverlabel.font.color"),_e("fontWeight","htw","hoverlabel.font.weight"),_e("fontStyle","hty","hoverlabel.font.style"),_e("fontVariant","htv","hoverlabel.font.variant"),_e("nameLength","hnl","hoverlabel.namelength"),_e("textAlign","hta","hoverlabel.align"),K.posref=ae==="y"||ae==="closest"&&se.orientation==="h"?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=w.constrain(K.x0,0,K.xa._length),K.x1=w.constrain(K.x1,0,K.xa._length),K.y0=w.constrain(K.y0,0,K.ya._length),K.y1=w.constrain(K.y1,0,K.ya._length),K.xLabelVal!==void 0&&(K.xLabel="xLabel"in K?K.xLabel:u.hoverLabelText(K.xa,K.xLabelVal,se.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),K.yLabelVal!==void 0&&(K.yLabel="yLabel"in K?K.yLabel:u.hoverLabelText(K.ya,K.yLabelVal,se.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),K.zLabelVal!==void 0&&K.zLabel===void 0&&(K.zLabel=String(K.zLabelVal)),!(isNaN(K.xerr)||K.xa.type==="log"&&K.xerr<=0)){var be=u.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xerrneg!==void 0?K.xLabel+=" +"+be+" / -"+u.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:K.xLabel+=" ± "+be,ae==="x"&&(K.distance+=1)}if(!(isNaN(K.yerr)||K.ya.type==="log"&&K.yerr<=0)){var Le=u.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yerrneg!==void 0?K.yLabel+=" +"+Le+" / -"+u.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:K.yLabel+=" ± "+Le,ae==="y"&&(K.distance+=1)}var De=K.hoverinfo||K.trace.hoverinfo;return De&&De!=="all"&&((De=Array.isArray(De)?De:De.split("+")).indexOf("x")===-1&&(K.xLabel=void 0),De.indexOf("y")===-1&&(K.yLabel=void 0),De.indexOf("z")===-1&&(K.zLabel=void 0),De.indexOf("text")===-1&&(K.text=void 0),De.indexOf("name")===-1&&(K.name=void 0)),K}function V(K,ae,ue){var se,he,pe=ue.container,de=ue.fullLayout,xe=de._size,_e=ue.event,be=!!ae.hLinePoint,Le=!!ae.vLinePoint;if(pe.selectAll(".spikeline").remove(),Le||be){var De=a.combine(de.plot_bgcolor,de.paper_bgcolor);if(be){var ye,le,oe=ae.hLinePoint;se=oe&&oe.xa,(he=oe&&oe.ya).spikesnap==="cursor"?(ye=_e.pointerX,le=_e.pointerY):(ye=se._offset+oe.x,le=he._offset+oe.y);var ve,Ce,ke=o.readability(oe.color,De)<1.5?a.contrast(De):oe.color,Ae=he.spikemode,Ee=he.spikethickness,ze=he.spikecolor||ke,Fe=u.getPxPosition(K,he);if(Ae.indexOf("toaxis")!==-1||Ae.indexOf("across")!==-1){if(Ae.indexOf("toaxis")!==-1&&(ve=Fe,Ce=ye),Ae.indexOf("across")!==-1){var ge=he._counterDomainMin,Te=he._counterDomainMax;he.anchor==="free"&&(ge=Math.min(ge,he.position),Te=Math.max(Te,he.position)),ve=xe.l+ge*xe.w,Ce=xe.l+Te*xe.w}pe.insert("line",":first-child").attr({x1:ve,x2:Ce,y1:le,y2:le,"stroke-width":Ee,stroke:ze,"stroke-dasharray":t.dashStyle(he.spikedash,Ee)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:ve,x2:Ce,y1:le,y2:le,"stroke-width":Ee+2,stroke:De}).classed("spikeline",!0).classed("crisp",!0)}Ae.indexOf("marker")!==-1&&pe.insert("circle",":first-child").attr({cx:Fe+(he.side!=="right"?Ee:-Ee),cy:le,r:Ee,fill:ze}).classed("spikeline",!0)}if(Le){var Se,Re,Pe=ae.vLinePoint;se=Pe&&Pe.xa,he=Pe&&Pe.ya,se.spikesnap==="cursor"?(Se=_e.pointerX,Re=_e.pointerY):(Se=se._offset+Pe.x,Re=he._offset+Pe.y);var Ve,We,Qe=o.readability(Pe.color,De)<1.5?a.contrast(De):Pe.color,lt=se.spikemode,ut=se.spikethickness,xt=se.spikecolor||Qe,_t=u.getPxPosition(K,se);if(lt.indexOf("toaxis")!==-1||lt.indexOf("across")!==-1){if(lt.indexOf("toaxis")!==-1&&(Ve=_t,We=Re),lt.indexOf("across")!==-1){var mt=se._counterDomainMin,it=se._counterDomainMax;se.anchor==="free"&&(mt=Math.min(mt,se.position),it=Math.max(it,se.position)),Ve=xe.t+(1-it)*xe.h,We=xe.t+(1-mt)*xe.h}pe.insert("line",":first-child").attr({x1:Se,x2:Se,y1:Ve,y2:We,"stroke-width":ut,stroke:xt,"stroke-dasharray":t.dashStyle(se.spikedash,ut)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:Se,x2:Se,y1:Ve,y2:We,"stroke-width":ut+2,stroke:De}).classed("spikeline",!0).classed("crisp",!0)}lt.indexOf("marker")!==-1&&pe.insert("circle",":first-child").attr({cx:Se,cy:_t-(se.side!=="top"?ut:-ut),r:ut,fill:xt}).classed("spikeline",!0)}}}function W(K,ae){return!ae}function re(K,ae){return i.plainText(K||"",{len:ae,allowedTags:["br","sub","sup","b","i","em"]})}function ne(K,ae,ue){var se=ae[K+"a"],he=ae[K+"Val"],pe=ae.cd[0];if(se.type==="category"||se.type==="multicategory")he=se._categoriesMap[he];else if(se.type==="date"){var de=ae.trace[K+"periodalignment"];if(de){var xe=ae.cd[ae.index],_e=xe[K+"Start"];_e===void 0&&(_e=xe[K]);var be=xe[K+"End"];be===void 0&&(be=xe[K]);var Le=be-_e;de==="end"?he+=Le:de==="middle"&&(he+=Le/2)}he=se.d2c(he)}return pe&&pe.t&&pe.t.posLetter===se._id&&(ue.boxmode!=="group"&&ue.violinmode!=="group"||(he+=pe.t.dPos)),he}function te(K){return K.offsetTop+K.clientTop}function Q(K){return K.offsetLeft+K.clientLeft}function $(K,ae){var ue=K._fullLayout,se=ae.getBoundingClientRect(),he=se.left,pe=se.top,de=he+se.width,xe=pe+se.height,_e=w.apply3DTransform(ue._invTransform)(he,pe),be=w.apply3DTransform(ue._invTransform)(de,xe),Le=_e[0],De=_e[1],ye=be[0],le=be[1];return{x:Le,y:De,width:ye-Le,height:le-De,top:Math.min(De,le),left:Math.min(Le,ye),right:Math.max(Le,ye),bottom:Math.max(De,le)}}},16132:function(U,C,e){var k=e(3400),A=e(76308),o=e(10624).isUnifiedHover;U.exports=function(w,b,f,s){s=s||{};var n=b.legend;function i(r){s.font[r]||(s.font[r]=n?b.legend.font[r]:b.font[r])}b&&o(b.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),n?(s.bgcolor||(s.bgcolor=A.combine(b.legend.bgcolor,b.paper_bgcolor)),s.bordercolor||(s.bordercolor=b.legend.bordercolor)):s.bgcolor||(s.bgcolor=b.paper_bgcolor)),f("hoverlabel.bgcolor",s.bgcolor),f("hoverlabel.bordercolor",s.bordercolor),f("hoverlabel.namelength",s.namelength),k.coerceFont(f,"hoverlabel.font",s.font),f("hoverlabel.align",s.align)}},41008:function(U,C,e){var k=e(3400),A=e(65460);U.exports=function(o,w){function b(f,s){return w[f]!==void 0?w[f]:k.coerce(o,w,A,f,s)}return b("clickmode"),b("hoversubplots"),b("hovermode")}},93024:function(U,C,e){var k=e(33428),A=e(3400),o=e(86476),w=e(10624),b=e(65460),f=e(83292);U.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:w.getDistanceFunction,getClosest:w.getClosest,inbox:w.inbox,quadrature:w.quadrature,appendArrayPointValue:w.appendArrayPointValue,castHoverOption:function(s,n,i){return A.castOption(s,n,"hoverlabel."+i)},castHoverinfo:function(s,n,i){return A.castOption(s,i,"hoverinfo",function(r){return A.coerceHoverinfo({hoverinfo:r},{_module:s._module},n)})},hover:f.hover,unhover:o.unhover,loneHover:f.loneHover,loneUnhover:function(s){var n=A.isD3Selection(s)?s:k.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(U,C,e){var k=e(92456),A=e(25376),o=A({editType:"none"});o.family.dflt=k.HOVERFONT,o.size.dflt=k.HOVERFONTSIZE,U.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:A({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(U,C,e){var k=e(3400),A=e(65460),o=e(41008),w=e(16132);U.exports=function(b,f){function s(t,a){return k.coerce(b,f,A,t,a)}o(b,f)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var n=f._has("mapbox"),i=f._has("geo"),r=f._basePlotModules.length;f.dragmode==="zoom"&&((n||i)&&r===1||n&&i&&r===2)&&(f.dragmode="pan"),w(b,f,s),k.coerceFont(s,"hoverlabel.grouptitlefont",f.hoverlabel.font)}},81976:function(U,C,e){var k=e(3400),A=e(16132),o=e(65460);U.exports=function(w,b){A(w,b,function(f,s){return k.coerce(w,b,o,f,s)})}},12704:function(U,C,e){var k=e(3400),A=e(53756).counter,o=e(86968).u,w=e(33816).idRegex,b=e(31780),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[A("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[w.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[w.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(r,t,a){var l=t[a+"axes"],u=Object.keys((r._splomAxes||{})[a]||{});return Array.isArray(l)?l:u.length?u:void 0}function n(r,t,a,l,u,h){var c=t(r+"gap",a),y=t("domain."+r);t(r+"side",l);for(var d=new Array(u),v=y[0],g=(y[1]-v)/(u-c),x=g*(1-c),m=0;m<u;m++){var _=v+g*m;d[h?u-1-m:m]=[_,_+x]}return d}function i(r,t,a,l,u){var h,c=new Array(a);function y(d,v){t.indexOf(v)!==-1&&l[v]===void 0?(c[d]=v,l[v]=d):c[d]=""}if(Array.isArray(r))for(h=0;h<a;h++)y(h,r[h]);else for(y(0,u),h=1;h<a;h++)y(h,u+(h+1));return c}U.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:function(r,t){var a=r.grid||{},l=s(t,a,"x"),u=s(t,a,"y");if(r.grid||l||u){var h,c,y=Array.isArray(a.subplots)&&Array.isArray(a.subplots[0]),d=Array.isArray(l),v=Array.isArray(u),g=d&&l!==a.xaxes&&v&&u!==a.yaxes;y?(h=a.subplots.length,c=a.subplots[0].length):(v&&(h=u.length),d&&(c=l.length));var x=b.newContainer(t,"grid"),m=P("rows",h),_=P("columns",c);if(m*_>1){y||d||v||P("pattern")==="independent"&&(y=!0),x._hasSubplotGrid=y;var p,S,T=P("roworder")==="top to bottom",E=y?.2:.1,O=y?.3:.1;g&&t._splomGridDflt&&(p=t._splomGridDflt.xside,S=t._splomGridDflt.yside),x._domains={x:n("x",P,E,p,_),y:n("y",P,O,S,m,T)}}else delete t.grid}function P(I,R){return k.coerce(a,x,f,I,R)}},contentDefaults:function(r,t){var a=t.grid;if(a&&a._domains){var l,u,h,c,y,d,v,g=r.grid||{},x=t._subplots,m=a._hasSubplotGrid,_=a.rows,p=a.columns,S=a.pattern==="independent",T=a._axisMap={};if(m){var E=g.subplots||[];d=a.subplots=new Array(_);var O=1;for(l=0;l<_;l++){var P=d[l]=new Array(p),I=E[l]||[];for(u=0;u<p;u++)if(S?(y=O===1?"xy":"x"+O+"y"+O,O++):y=I[u],P[u]="",x.cartesian.indexOf(y)!==-1){if(v=y.indexOf("y"),h=y.slice(0,v),c=y.slice(v),T[h]!==void 0&&T[h]!==u||T[c]!==void 0&&T[c]!==l)continue;P[u]=y,T[h]=u,T[c]=l}}}else{var R=s(t,g,"x"),H=s(t,g,"y");a.xaxes=i(R,x.xaxis,p,T,"x"),a.yaxes=i(H,x.yaxis,_,T,"y")}var z=a._anchors={},j=a.roworder==="top to bottom";for(var Z in T){var F,V,W,re=Z.charAt(0),ne=a[re+"side"];if(ne.length<8)z[Z]="free";else if(re==="x"){if(ne.charAt(0)==="t"===j?(F=0,V=1,W=_):(F=_-1,V=-1,W=-1),m){var te=T[Z];for(l=F;l!==W;l+=V)if((y=d[l][te])&&(v=y.indexOf("y"),y.slice(0,v)===Z)){z[Z]=y.slice(v);break}}else for(l=F;l!==W;l+=V)if(c=a.yaxes[l],x.cartesian.indexOf(Z+c)!==-1){z[Z]=c;break}}else if(ne.charAt(0)==="l"?(F=0,V=1,W=p):(F=p-1,V=-1,W=-1),m){var Q=T[Z];for(l=F;l!==W;l+=V)if((y=d[Q][l])&&(v=y.indexOf("y"),y.slice(v)===Z)){z[Z]=y.slice(0,v);break}}else for(l=F;l!==W;l+=V)if(h=a.xaxes[l],x.cartesian.indexOf(h+Z)!==-1){z[Z]=h;break}}}}}},65760:function(U,C,e){var k=e(33816),A=e(31780).templatedArray;e(36208),U.exports=A("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",k.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",k.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(U,C,e){var k=e(38248),A=e(36896);U.exports=function(o,w,b,f){w=w||{};var s=b==="log"&&w.type==="linear",n=b==="linear"&&w.type==="log";if(s||n){for(var i,r,t=o._fullLayout.images,a=w._id.charAt(0),l=0;l<t.length;l++)if(r="images["+l+"].",(i=t[l])[a+"ref"]===w._id){var u=i[a],h=i["size"+a],c=null,y=null;if(s){c=A(u,w.range);var d=h/Math.pow(10,c)/2;y=2*Math.log(d+Math.sqrt(1+d*d))/Math.LN10}else y=(c=Math.pow(10,u))*(Math.pow(10,h/2)-Math.pow(10,-h/2));k(c)?k(y)||(y=null):(c=null,y=null),f(r+a,c),f(r+"size"+a,y)}}}},25024:function(U,C,e){var k=e(3400),A=e(54460),o=e(51272),w=e(65760);function b(f,s,n){function i(c,y){return k.coerce(f,s,w,c,y)}var r=i("source");if(!i("visible",!!r))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var t={_fullLayout:n},a=["x","y"],l=0;l<2;l++){var u=a[l],h=A.coerceRef(f,s,t,u,"paper",void 0);h!=="paper"&&A.getFromId(t,h)._imgIndices.push(s._index),A.coercePosition(s,t,i,h,u,0)}return s}U.exports=function(f,s){o(f,s,{name:"images",handleItemDefaults:b})}},60963:function(U,C,e){var k=e(33428),A=e(43616),o=e(54460),w=e(79811),b=e(9616);U.exports=function(f){var s,n,i=f._fullLayout,r=[],t={},a=[];for(n=0;n<i.images.length;n++){var l=i.images[n];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=w.ref2id(l.xref)+w.ref2id(l.yref);var u=i._plots[s];if(!u){a.push(l);continue}u.mainplot&&(s=u.mainplot.id),t[s]||(t[s]=[]),t[s].push(l)}else l.layer==="above"?r.push(l):a.push(l)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function y(p){var S=k.select(this);if(this._imgSrc!==p.source)if(S.attr("xmlns",b.svg),p.source&&p.source.slice(0,5)==="data:")S.attr("xlink:href",p.source),this._imgSrc=p.source;else{var T=new Promise((function(E){var O=new Image;function P(){S.remove(),E()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=P,O.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=I.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",P),O.src=p.source,this._imgSrc=p.source}).bind(this));f._promises.push(T)}}function d(p){var S,T,E=k.select(this),O=o.getFromId(f,p.xref),P=o.getFromId(f,p.yref),I=o.getRefType(p.xref)==="domain",R=o.getRefType(p.yref)==="domain",H=i._size;S=O!==void 0?typeof p.xref=="string"&&I?O._length*p.sizex:Math.abs(O.l2p(p.sizex)-O.l2p(0)):p.sizex*H.w,T=P!==void 0?typeof p.yref=="string"&&R?P._length*p.sizey:Math.abs(P.l2p(p.sizey)-P.l2p(0)):p.sizey*H.h;var z,j,Z=S*h[p.xanchor].offset,F=T*c[p.yanchor].offset,V=h[p.xanchor].sizing+c[p.yanchor].sizing;switch(z=O!==void 0?typeof p.xref=="string"&&I?O._length*p.x+O._offset:O.r2p(p.x)+O._offset:p.x*H.w+H.l,z+=Z,j=P!==void 0?typeof p.yref=="string"&&R?P._length*(1-p.y)+P._offset:P.r2p(p.y)+P._offset:H.h-p.y*H.h+H.t,j+=F,p.sizing){case"fill":V+=" slice";break;case"stretch":V="none"}E.attr({x:z,y:j,width:S,height:T,preserveAspectRatio:V,opacity:p.opacity});var W=(O&&o.getRefType(p.xref)!=="domain"?O._id:"")+(P&&o.getRefType(p.yref)!=="domain"?P._id:"");A.setClipUrl(E,W?"clip"+i._uid+W:null,f)}var v=i._imageLowerLayer.selectAll("image").data(a),g=i._imageUpperLayer.selectAll("image").data(r);v.enter().append("image"),g.enter().append("image"),v.exit().remove(),g.exit().remove(),v.each(function(p){y.bind(this)(p),d.bind(this)(p)}),g.each(function(p){y.bind(this)(p),d.bind(this)(p)});var x=Object.keys(i._plots);for(n=0;n<x.length;n++){s=x[n];var m=i._plots[s];if(m.imagelayer){var _=m.imagelayer.selectAll("image").data(t[s]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(p){y.bind(this)(p),d.bind(this)(p)})}}}},7402:function(U,C,e){U.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(U,C,e){var k=e(25376),A=e(22548);U.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:k({editType:"legend"}),grouptitlefont:k({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:k({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(U){U.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(U,C,e){var k=e(24040),A=e(3400),o=e(31780),w=e(45464),b=e(3800),f=e(64859),s=e(42451);function n(i,r,t,a){var l=r[i]||{},u=o.newContainer(t,i);function h(V,W){return A.coerce(l,u,b,V,W)}var c=A.coerceFont(h,"font",t.font);if(h("bgcolor",t.paper_bgcolor),h("bordercolor"),h("visible")){for(var y,d=function(V,W){var re=y._input,ne=y;return A.coerce(re,ne,w,V,W)},v=t.font||{},g=A.coerceFont(h,"grouptitlefont",v,{overrideDflt:{size:Math.round(1.1*v.size)}}),x=0,m=!1,_="normal",p=(t.shapes||[]).filter(function(V){return V.showlegend}),S=a.concat(p).filter(function(V){return i===(V.legend||"legend")}),T=0;T<S.length;T++)if((y=S[T]).visible){var E=y._isShape;(y.showlegend||y._dfltShowLegend&&!(y._module&&y._module.attributes&&y._module.attributes.showlegend&&y._module.attributes.showlegend.dflt===!1))&&(x++,y.showlegend&&(m=!0,(!E&&k.traceIs(y,"pie-like")||y._input.showlegend===!0)&&x++),A.coerceFont(d,"legendgrouptitle.font",g)),(!E&&k.traceIs(y,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(y.fill)!==-1)&&(_=s.isGrouped({traceorder:_})?"grouped+reversed":"reversed"),y.legendgroup!==void 0&&y.legendgroup!==""&&(_=s.isReversed({traceorder:_})?"reversed+grouped":"grouped")}var O=A.coerce(r,t,f,"showlegend",m&&x>(i==="legend"?1:0));if(O===!1&&(t[i]=void 0),(O!==!1||l.uirevision)&&(h("uirevision",t.uirevision),O!==!1)){h("borderwidth");var P,I,R,H=h("orientation")==="h",z=h("yref")==="paper",j=h("xref")==="paper",Z="left";if(H?(P=0,k.getComponentMethod("rangeslider","isVisible")(r.xaxis)?z?(I=1.1,R="bottom"):(I=1,R="top"):z?(I=-.1,R="top"):(I=0,R="bottom")):(I=1,R="auto",j?P=1.02:(P=1,Z="right")),A.coerce(l,u,{x:{valType:"number",editType:"legend",min:j?-2:0,max:j?3:1,dflt:P}},"x"),A.coerce(l,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:I}},"y"),h("traceorder",_),s.isGrouped(t[i])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",Z),h("yanchor",R),h("valign"),A.noneOrAll(l,u,["x","y"]),h("title.text")){h("title.side",H?"left":"top");var F=A.extendFlat({},c,{size:A.bigFont(c.size)});A.coerceFont(h,"title.font",F)}}}}U.exports=function(i,r,t){var a,l=t.slice(),u=r.shapes;if(u)for(a=0;a<u.length;a++){var h=u[a];if(h.showlegend){var c={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(c)}}var y=["legend"];for(a=0;a<l.length;a++)A.pushUnique(y,l[a].legend);for(r._legends=[],a=0;a<y.length;a++){var d=y[a];n(d,i,r,l),r[d]&&r[d].visible&&(r[d]._id=d),r._legends.push(d)}}},31140:function(U,C,e){var k=e(33428),A=e(3400),o=e(7316),w=e(24040),b=e(95924),f=e(86476),s=e(43616),n=e(76308),i=e(72736),r=e(33048),t=e(65196),a=e(84284),l=a.LINE_SPACING,u=a.FROM_TL,h=a.FROM_BR,c=e(35456),y=e(2012),d=e(42451),v=1,g=/^legend[0-9]*$/;function x(R,H){var z,j,Z=H||{},F=R._fullLayout,V=I(Z),W=Z._inHover;if(W?(j=Z.layer,z="hover"):(j=F._infolayer,z=V),j){var re;if(z+=F._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),W){if(!Z.entries)return;re=c(Z.entries,Z)}else{for(var ne=(R.calcdata||[]).slice(),te=F.shapes,Q=0;Q<te.length;Q++){var $=te[Q];if($.showlegend){var K={_isShape:!0,_fullInput:$,index:$._index,name:$.name||$.label.text||"shape "+$._index,legend:$.legend,legendgroup:$.legendgroup,legendgrouptitle:$.legendgrouptitle,legendrank:$.legendrank,legendwidth:$.legendwidth,showlegend:$.showlegend,visible:$.visible,opacity:$.opacity,mode:$.type==="line"?"lines":"markers",line:$.line,marker:{line:$.line,color:$.fillcolor,size:12,symbol:$.type==="rect"?"square":$.type==="circle"?"circle":"hexagon2"}};ne.push([{trace:K}])}}re=F.showlegend&&c(ne,Z,F._legends.length>1)}var ae=F.hiddenlabels||[];if(!(W||F.showlegend&&re.length))return j.selectAll("."+V).remove(),F._topdefs.select("#"+z).remove(),o.autoMargin(R,V);var ue=A.ensureSingle(j,"g",V,function(De){W||De.attr("pointer-events","all")}),se=A.ensureSingleById(F._topdefs,"clipPath",z,function(De){De.append("rect")}),he=A.ensureSingle(ue,"rect","bg",function(De){De.attr("shape-rendering","crispEdges")});he.call(n.stroke,Z.bordercolor).call(n.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var pe,de=A.ensureSingle(ue,"g","scrollbox"),xe=Z.title;Z._titleWidth=0,Z._titleHeight=0,xe.text?((pe=A.ensureSingle(de,"text",V+"titletext")).attr("text-anchor","start").call(s.font,xe.font).text(xe.text),E(pe,de,R,Z,v)):de.selectAll("."+V+"titletext").remove();var _e=A.ensureSingle(ue,"rect","scrollbar",function(De){De.attr(t.scrollBarEnterAttrs).call(n.fill,t.scrollBarColor)}),be=de.selectAll("g.groups").data(re);be.enter().append("g").attr("class","groups"),be.exit().remove();var Le=be.selectAll("g.traces").data(A.identity);Le.enter().append("g").attr("class","traces"),Le.exit().remove(),Le.style("opacity",function(De){var ye=De[0].trace;return w.traceIs(ye,"pie-like")?ae.indexOf(De[0].label)!==-1?.5:1:ye.visible==="legendonly"?.5:1}).each(function(){k.select(this).call(p,R,Z)}).call(y,R,Z).each(function(){W||k.select(this).call(T,R,V)}),A.syncOrAsync([o.previousPromises,function(){return function(De,ye,le,oe){var ve=De._fullLayout,Ce=I(oe);oe||(oe=ve[Ce]);var ke=ve._size,Ae=d.isVertical(oe),Ee=d.isGrouped(oe),ze=oe.entrywidthmode==="fraction",Fe=oe.borderwidth,ge=2*Fe,Te=t.itemGap,Se=oe.indentation+oe.itemwidth+2*Te,Re=2*(Fe+Te),Pe=P(oe),Ve=oe.y<0||oe.y===0&&Pe==="top",We=oe.y>1||oe.y===1&&Pe==="bottom",Qe=oe.tracegroupgap,lt={};oe._maxHeight=Math.max(Ve||We?ve.height/2:ke.h,30);var ut=0;oe._width=0,oe._height=0;var xt=function(yt){var bt=0,dt=0,Lt=yt.title.side;return Lt&&(Lt.indexOf("left")!==-1&&(bt=yt._titleWidth),Lt.indexOf("top")!==-1&&(dt=yt._titleHeight)),[bt,dt]}(oe);if(Ae)le.each(function(yt){var bt=yt[0].height;s.setTranslate(this,Fe+xt[0],Fe+xt[1]+oe._height+bt/2+Te),oe._height+=bt,oe._width=Math.max(oe._width,yt[0].width)}),ut=Se+oe._width,oe._width+=Te+Se+ge,oe._height+=Re,Ee&&(ye.each(function(yt,bt){s.setTranslate(this,0,bt*oe.tracegroupgap)}),oe._height+=(oe._lgroupsLength-1)*oe.tracegroupgap);else{var _t=O(oe),mt=oe.x<0||oe.x===0&&_t==="right",it=oe.x>1||oe.x===1&&_t==="left",nt=We||Ve,Et=ve.width/2;oe._maxWidth=Math.max(mt?nt&&_t==="left"?ke.l+ke.w:Et:it?nt&&_t==="right"?ke.r+ke.w:Et:ke.w,2*Se);var Rt=0,Ft=0;le.each(function(yt){var bt=m(yt,oe,Se);Rt=Math.max(Rt,bt),Ft+=bt}),ut=null;var Pt=0;if(Ee){var Ze=0,$e=0,He=0;ye.each(function(){var yt=0,bt=0;k.select(this).selectAll("g.traces").each(function(Lt){var wt=m(Lt,oe,Se),Ct=Lt[0].height;s.setTranslate(this,xt[0],xt[1]+Fe+Te+Ct/2+bt),bt+=Ct,yt=Math.max(yt,wt),lt[Lt[0].trace.legendgroup]=yt});var dt=yt+Te;$e>0&&dt+Fe+$e>oe._maxWidth?(Pt=Math.max(Pt,$e),$e=0,He+=Ze+Qe,Ze=bt):Ze=Math.max(Ze,bt),s.setTranslate(this,$e,He),$e+=dt}),oe._width=Math.max(Pt,$e)+Fe,oe._height=He+Ze+Re}else{var Je=le.size(),ft=Ft+ge+(Je-1)*Te<oe._maxWidth,ot=0,je=0,Ue=0,st=0;le.each(function(yt){var bt=yt[0].height,dt=m(yt,oe,Se),Lt=ft?dt:Rt;ze||(Lt+=Te),Lt+Fe+je-Te>=oe._maxWidth&&(Pt=Math.max(Pt,st),je=0,Ue+=ot,oe._height+=ot,ot=0),s.setTranslate(this,xt[0]+Fe+je,xt[1]+Fe+Ue+bt/2+Te),st=je+dt+Te,je+=Lt,ot=Math.max(ot,bt)}),ft?(oe._width=je+ge,oe._height=ot+Re):(oe._width=Math.max(Pt,st)+ge,oe._height+=ot+Re)}}oe._width=Math.ceil(Math.max(oe._width+xt[0],oe._titleWidth+2*(Fe+t.titlePad))),oe._height=Math.ceil(Math.max(oe._height+xt[1],oe._titleHeight+2*(Fe+t.itemGap))),oe._effHeight=Math.min(oe._height,oe._maxHeight);var Ke=De._context.edits,gt=Ke.legendText||Ke.legendPosition;le.each(function(yt){var bt=k.select(this).select("."+Ce+"toggle"),dt=yt[0].height,Lt=yt[0].trace.legendgroup,wt=m(yt,oe,Se);Ee&&Lt!==""&&(wt=lt[Lt]);var Ct=gt?Se:ut||wt;Ae||ze||(Ct+=Te/2),s.setRect(bt,0,-dt/2,Ct,dt)})}(R,be,Le,Z)},function(){var De,ye,le,oe,ve=F._size,Ce=Z.borderwidth,ke=Z.xref==="paper",Ae=Z.yref==="paper";if(xe.text&&function(nt,Et,Rt){if(Et.title.side==="top center"||Et.title.side==="top right"){var Ft=Et.title.font.size*l,Pt=0,Ze=nt.node(),$e=s.bBox(Ze).width;Et.title.side==="top center"?Pt=.5*(Et._width-2*Rt-2*t.titlePad-$e):Et.title.side==="top right"&&(Pt=Et._width-2*Rt-2*t.titlePad-$e),i.positionText(nt,Rt+t.titlePad+Pt,Rt+Ft)}}(pe,Z,Ce),!W){var Ee,ze;Ee=ke?ve.l+ve.w*Z.x-u[O(Z)]*Z._width:F.width*Z.x-u[O(Z)]*Z._width,ze=Ae?ve.t+ve.h*(1-Z.y)-u[P(Z)]*Z._effHeight:F.height*(1-Z.y)-u[P(Z)]*Z._effHeight;var Fe=function(nt,Et,Rt,Ft){var Pt=nt._fullLayout,Ze=Pt[Et],$e=O(Ze),He=P(Ze),Je=Ze.xref==="paper",ft=Ze.yref==="paper";nt._fullLayout._reservedMargin[Et]={};var ot=Ze.y<.5?"b":"t",je=Ze.x<.5?"l":"r",Ue={r:Pt.width-Rt,l:Rt+Ze._width,b:Pt.height-Ft,t:Ft+Ze._effHeight};if(Je&&ft)return o.autoMargin(nt,Et,{x:Ze.x,y:Ze.y,l:Ze._width*u[$e],r:Ze._width*h[$e],b:Ze._effHeight*h[He],t:Ze._effHeight*u[He]});Je?nt._fullLayout._reservedMargin[Et][ot]=Ue[ot]:ft||Ze.orientation==="v"?nt._fullLayout._reservedMargin[Et][je]=Ue[je]:nt._fullLayout._reservedMargin[Et][ot]=Ue[ot]}(R,V,Ee,ze);if(Fe)return;if(F.margin.autoexpand){var ge=Ee,Te=ze;Ee=ke?A.constrain(Ee,0,F.width-Z._width):ge,ze=Ae?A.constrain(ze,0,F.height-Z._effHeight):Te,Ee!==ge&&A.log("Constrain "+V+".x to make legend fit inside graph"),ze!==Te&&A.log("Constrain "+V+".y to make legend fit inside graph")}s.setTranslate(ue,Ee,ze)}if(_e.on(".drag",null),ue.on("wheel",null),W||Z._height<=Z._maxHeight||R._context.staticPlot){var Se=Z._effHeight;W&&(Se=Z._height),he.attr({width:Z._width-Ce,height:Se-Ce,x:Ce/2,y:Ce/2}),s.setTranslate(de,0,0),se.select("rect").attr({width:Z._width-2*Ce,height:Se-2*Ce,x:Ce,y:Ce}),s.setClipUrl(de,z,R),s.setRect(_e,0,0,0,0),delete Z._scrollY}else{var Re,Pe,Ve,We=Math.max(t.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Qe=Z._effHeight-We-2*t.scrollBarMargin,lt=Z._height-Z._effHeight,ut=Qe/lt,xt=Math.min(Z._scrollY||0,lt);he.attr({width:Z._width-2*Ce+t.scrollBarWidth+t.scrollBarMargin,height:Z._effHeight-Ce,x:Ce/2,y:Ce/2}),se.select("rect").attr({width:Z._width-2*Ce+t.scrollBarWidth+t.scrollBarMargin,height:Z._effHeight-2*Ce,x:Ce,y:Ce+xt}),s.setClipUrl(de,z,R),it(xt,We,ut),ue.on("wheel",function(){it(xt=A.constrain(Z._scrollY+k.event.deltaY/Qe*lt,0,lt),We,ut),xt!==0&&xt!==lt&&k.event.preventDefault()});var _t=k.behavior.drag().on("dragstart",function(){var nt=k.event.sourceEvent;Re=nt.type==="touchstart"?nt.changedTouches[0].clientY:nt.clientY,Ve=xt}).on("drag",function(){var nt=k.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(Pe=nt.type==="touchmove"?nt.changedTouches[0].clientY:nt.clientY,xt=function(Et,Rt,Ft){var Pt=(Ft-Rt)/ut+Et;return A.constrain(Pt,0,lt)}(Ve,Re,Pe),it(xt,We,ut))});_e.call(_t);var mt=k.behavior.drag().on("dragstart",function(){var nt=k.event.sourceEvent;nt.type==="touchstart"&&(Re=nt.changedTouches[0].clientY,Ve=xt)}).on("drag",function(){var nt=k.event.sourceEvent;nt.type==="touchmove"&&(Pe=nt.changedTouches[0].clientY,xt=function(Et,Rt,Ft){var Pt=(Rt-Ft)/ut+Et;return A.constrain(Pt,0,lt)}(Ve,Re,Pe),it(xt,We,ut))});de.call(mt)}function it(nt,Et,Rt){Z._scrollY=R._fullLayout[V]._scrollY=nt,s.setTranslate(de,0,-nt),s.setRect(_e,Z._width,t.scrollBarMargin+nt*Rt,t.scrollBarWidth,Et),se.select("rect").attr("y",Ce+nt)}R._context.edits.legendPosition&&(ue.classed("cursor-move",!0),f.init({element:ue.node(),gd:R,prepFn:function(nt){if(nt.target!==_e.node()){var Et=s.getTranslate(ue);le=Et.x,oe=Et.y}},moveFn:function(nt,Et){if(le!==void 0&&oe!==void 0){var Rt=le+nt,Ft=oe+Et;s.setTranslate(ue,Rt,Ft),De=f.align(Rt,Z._width,ve.l,ve.l+ve.w,Z.xanchor),ye=f.align(Ft+Z._height,-Z._height,ve.t+ve.h,ve.t,Z.yanchor)}},doneFn:function(){if(De!==void 0&&ye!==void 0){var nt={};nt[V+".x"]=De,nt[V+".y"]=ye,w.call("_guiRelayout",R,nt)}},clickFn:function(nt,Et){var Rt=j.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return Et.clientX>=Ft.left&&Et.clientX<=Ft.right&&Et.clientY>=Ft.top&&Et.clientY<=Ft.bottom});Rt.size()>0&&_(R,ue,Rt,nt,Et)}}))}],R)}}function m(R,H,z){var j=R[0],Z=j.width,F=H.entrywidthmode,V=j.trace.legendwidth||H.entrywidth;return F==="fraction"?H._maxWidth*V:z+(V||Z)}function _(R,H,z,j,Z){var F=z.data()[0][0].trace,V={event:Z,node:z.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};F._group&&(V.group=F._group),w.traceIs(F,"pie-like")&&(V.label=z.datum()[0].label);var W=b.triggerHandler(R,"plotly_legendclick",V);if(j===1){if(W===!1)return;H._clickTimeout=setTimeout(function(){R._fullLayout&&r(z,R,j)},R._context.doubleClickDelay)}else j===2&&(H._clickTimeout&&clearTimeout(H._clickTimeout),R._legendMouseDownTime=0,b.triggerHandler(R,"plotly_legenddoubleclick",V)!==!1&&W!==!1&&r(z,R,j))}function p(R,H,z){var j,Z,F=I(z),V=R.data()[0][0],W=V.trace,re=w.traceIs(W,"pie-like"),ne=!z._inHover&&H._context.edits.legendText&&!re,te=z._maxNameLength;V.groupTitle?(j=V.groupTitle.text,Z=V.groupTitle.font):(Z=z.font,z.entries?j=V.text:(j=re?V.label:W.name,W._meta&&(j=A.templateString(j,W._meta))));var Q=A.ensureSingle(R,"text",F+"text");Q.attr("text-anchor","start").call(s.font,Z).text(ne?S(j,te):j);var $=z.indentation+z.itemwidth+2*t.itemGap;i.positionText(Q,$,0),ne?Q.call(i.makeEditable,{gd:H,text:j}).call(E,R,H,z).on("edit",function(K){this.text(S(K,te)).call(E,R,H,z);var ae=V.trace._fullInput||{},ue={};if(w.hasTransform(ae,"groupby")){var se=w.getTransformIndices(ae,"groupby"),he=se[se.length-1],pe=A.keyedContainer(ae,"transforms["+he+"].styles","target","value.name");pe.set(V.trace._group,K),ue=pe.constructUpdate()}else ue.name=K;return ae._isShape?w.call("_guiRelayout",H,"shapes["+W.index+"].name",ue.name):w.call("_guiRestyle",H,ue,W.index)}):E(Q,R,H,z)}function S(R,H){var z=Math.max(4,H);if(R&&R.trim().length>=z/2)return R;for(var j=z-(R=R||"").length;j>0;j--)R+=" ";return R}function T(R,H,z){var j,Z=H._context.doubleClickDelay,F=1,V=A.ensureSingle(R,"rect",z+"toggle",function(W){H._context.staticPlot||W.style("cursor","pointer").attr("pointer-events","all"),W.call(n.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(V.on("mousedown",function(){(j=new Date().getTime())-H._legendMouseDownTime<Z?F+=1:(F=1,H._legendMouseDownTime=j)}),V.on("mouseup",function(){if(!H._dragged&&!H._editing){var W=H._fullLayout[z];new Date().getTime()-H._legendMouseDownTime>Z&&(F=Math.max(F-1,1)),_(H,W,R,F,k.event)}}))}function E(R,H,z,j,Z){j._inHover&&R.attr("data-notex",!0),i.convertToTspans(R,z,function(){(function(F,V,W,re){var ne=F.data()[0][0];if(W._inHover||!ne||ne.trace.showlegend){var te=F.select("g[class*=math-group]"),Q=te.node(),$=I(W);W||(W=V._fullLayout[$]);var K,ae,ue=W.borderwidth,se=(re===v?W.title.font:ne.groupTitle?ne.groupTitle.font:W.font).size*l;if(Q){var he=s.bBox(Q);K=he.height,ae=he.width,re===v?s.setTranslate(te,ue,ue+.75*K):s.setTranslate(te,0,.25*K)}else{var pe="."+$+(re===v?"title":"")+"text",de=F.select(pe),xe=i.lineCount(de),_e=de.node();if(K=se*xe,ae=_e?s.bBox(_e).width:0,re===v)W.title.side==="left"&&(ae+=2*t.itemGap),i.positionText(de,ue+t.titlePad,ue+se);else{var be=2*t.itemGap+W.indentation+W.itemwidth;ne.groupTitle&&(be=t.itemGap,ae-=W.indentation+W.itemwidth),i.positionText(de,be,-se*((xe-1)/2-.3))}}re===v?(W._titleWidth=ae,W._titleHeight=K):(ne.lineHeight=se,ne.height=Math.max(K,16)+3,ne.width=ae)}else F.remove()})(H,z,j,Z)})}function O(R){return A.isRightAnchor(R)?"right":A.isCenterAnchor(R)?"center":"left"}function P(R){return A.isBottomAnchor(R)?"bottom":A.isMiddleAnchor(R)?"middle":"top"}function I(R){return R._id||"legend"}U.exports=function(R,H){if(H)x(R,H);else{var z=R._fullLayout,j=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var V=k.select(this),W=V.attr("class").split(" ")[0];W.match(g)&&j.indexOf(W)===-1&&V.remove()});for(var Z=0;Z<j.length;Z++){var F=j[Z];x(R,R._fullLayout[F])}}}},35456:function(U,C,e){var k=e(24040),A=e(42451);U.exports=function(o,w,b){var f,s,n=w._inHover,i=A.isGrouped(w),r=A.isReversed(w),t={},a=[],l=!1,u={},h=0,c=0;function y(j,Z,F){if(w.visible!==!1&&(!b||j===w._id))if(Z!==""&&A.isGrouped(w))a.indexOf(Z)===-1?(a.push(Z),l=!0,t[Z]=[F]):t[Z].push(F);else{var V="~~i"+h;a.push(V),t[V]=[F],h++}}for(f=0;f<o.length;f++){var d=o[f],v=d[0],g=v.trace,x=g.legend,m=g.legendgroup;if(n||g.visible&&g.showlegend)if(k.traceIs(g,"pie-like"))for(u[m]||(u[m]={}),s=0;s<d.length;s++){var _=d[s].label;u[m][_]||(y(x,m,{label:_,color:d[s].color,i:d[s].i,trace:g,pts:d[s].pts}),u[m][_]=!0,c=Math.max(c,(_||"").length))}else y(x,m,v),c=Math.max(c,(g.name||"").length)}if(!a.length)return[];var p=!l||!i,S=[];for(f=0;f<a.length;f++){var T=t[a[f]];p?S.push(T[0]):S.push(T)}for(p&&(S=[S]),f=0;f<S.length;f++){var E=1/0;for(s=0;s<S[f].length;s++){var O=S[f][s].trace.legendrank;E>O&&(E=O)}S[f][0]._groupMinRank=E,S[f][0]._preGroupSort=f}var P=function(j,Z){return j.trace.legendrank-Z.trace.legendrank||j._preSort-Z._preSort};for(S.forEach(function(j,Z){j[0]._preGroupSort=Z}),S.sort(function(j,Z){return j[0]._groupMinRank-Z[0]._groupMinRank||j[0]._preGroupSort-Z[0]._preGroupSort}),f=0;f<S.length;f++){S[f].forEach(function(j,Z){j._preSort=Z}),S[f].sort(P);var I=S[f][0].trace,R=null;for(s=0;s<S[f].length;s++){var H=S[f][s].trace.legendgrouptitle;if(H&&H.text){R=H,n&&(H.font=w._groupTitleFont);break}}if(r&&S[f].reverse(),R){var z=!1;for(s=0;s<S[f].length;s++)if(k.traceIs(S[f][s].trace,"pie-like")){z=!0;break}S[f].unshift({i:-1,groupTitle:R,noClick:z,trace:{showlegend:I.showlegend,legendgroup:I.legendgroup,visible:w.groupclick==="toggleitem"||I.visible}})}for(s=0;s<S[f].length;s++)S[f][s]=[S[f][s]]}return w._lgroupsLength=S.length,w._maxNameLength=c,S}},33048:function(U,C,e){var k=e(24040),A=e(3400),o=A.pushUnique,w=!0;U.exports=function(b,f,s){var n=f._fullLayout;if(!f._dragged&&!f._editing){var i,r=n.legend.itemclick,t=n.legend.itemdoubleclick,a=n.legend.groupclick;if(s===1&&r==="toggle"&&t==="toggleothers"&&w&&f.data&&f._context.showTips&&A.notifier(A._(f,"Double-click on legend to isolate one trace"),"long"),w=!1,s===1?i=r:s===2&&(i=t),i){var l=a==="togglegroup",u=n.hiddenlabels?n.hiddenlabels.slice():[],h=b.data()[0][0];if(!h.groupTitle||!h.noClick){var c=f._fullData,y=(n.shapes||[]).filter(function(ye){return ye.showlegend}),d=c.concat(y),v=h.trace;v._isShape&&(v=v._fullInput);var g,x,m,_,p,S=v.legendgroup,T={},E=[],O=[],P=[],I=(n.shapes||[]).map(function(ye){return ye._input}),R=!1,H=v.legend,z=v._fullInput;if(z&&z._isShape||!k.traceIs(v,"pie-like")){var j,Z=S&&S.length,F=[];if(Z)for(g=0;g<d.length;g++)(j=d[g]).visible&&j.legendgroup===S&&F.push(g);if(i==="toggle"){var V;switch(v.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(Z)if(l)for(g=0;g<d.length;g++){var W=d[g];W.visible!==!1&&W.legendgroup===S&&De(W,V)}else De(v,V);else De(v,V)}else if(i==="toggleothers"){var re,ne,te,Q,$=!0;for(g=0;g<d.length;g++)if(re=(Q=d[g])===v,ne=Q.showlegend!==!0,!(re||ne||Z&&Q.legendgroup===S||Q.legend!==H||Q.visible!==!0||k.traceIs(Q,"notLegendIsolatable"))){$=!1;break}for(g=0;g<d.length;g++)if((Q=d[g]).visible!==!1&&Q.legend===H&&!k.traceIs(Q,"notLegendIsolatable"))switch(v.visible){case"legendonly":De(Q,!0);break;case!0:te=!!$||"legendonly",re=Q===v,ne=Q.showlegend!==!0&&!Q.legendgroup,De(Q,!!(re||Z&&Q.legendgroup===S||ne)||te)}}for(g=0;g<O.length;g++)if(m=O[g]){var K=m.constructUpdate(),ae=Object.keys(K);for(x=0;x<ae.length;x++)_=ae[x],(T[_]=T[_]||[])[P[g]]=K[_]}for(p=Object.keys(T),g=0;g<p.length;g++)for(_=p[g],x=0;x<E.length;x++)T[_].hasOwnProperty(x)||(T[_][x]=void 0);R?k.call("_guiUpdate",f,T,{shapes:I},E):k.call("_guiRestyle",f,T,E)}else{var ue=h.label,se=u.indexOf(ue);if(i==="toggle")se===-1?u.push(ue):u.splice(se,1);else if(i==="toggleothers"){var he=se!==-1,pe=[];for(g=0;g<f.calcdata.length;g++){var de=f.calcdata[g];for(x=0;x<de.length;x++){var xe=de[x].label;H===de[0].trace.legend&&ue!==xe&&(u.indexOf(xe)===-1&&(he=!0),o(u,xe),pe.push(xe))}}if(!he)for(var _e=0;_e<pe.length;_e++){var be=u.indexOf(pe[_e]);be!==-1&&u.splice(be,1)}}k.call("_guiRelayout",f,"hiddenlabels",u)}}}}function Le(ye,le){var oe=E.indexOf(ye),ve=T.visible;return ve||(ve=T.visible=[]),E.indexOf(ye)===-1&&(E.push(ye),oe=E.length-1),ve[oe]=le,oe}function De(ye,le){if(!h.groupTitle||l){var oe,ve=ye._fullInput||ye,Ce=ve._isShape,ke=ve.index;if(ke===void 0&&(ke=ve._index),k.hasTransform(ve,"groupby")){var Ae=O[ke];if(!Ae){var Ee=k.getTransformIndices(ve,"groupby"),ze=Ee[Ee.length-1];Ae=A.keyedContainer(ve,"transforms["+ze+"].styles","target","value.visible"),O[ke]=Ae}var Fe=Ae.get(ye._group);Fe===void 0&&(Fe=!0),Fe!==!1&&Ae.set(ye._group,le),P[ke]=Le(ke,ve.visible!==!1)}else{var ge=ve.visible!==!1&&le;Ce?(oe=ge,I[ke].visible=oe,R=!0):Le(ke,ge)}}}}},42451:function(U,C){C.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},C.isVertical=function(e){return e.orientation!=="h"},C.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(U,C,e){U.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(U,C,e){var k=e(33428),A=e(24040),o=e(3400),w=o.strTranslate,b=e(43616),f=e(76308),s=e(94288).extractOpts,n=e(43028),i=e(10528),r=e(69656).castOption,t=e(65196);function a(h,c){return(c?"radial":"horizontal")+(h?"":"reversed")}function l(h){var c=h[0].trace,y=c.contours,d=n.hasLines(c),v=n.hasMarkers(c),g=c.visible&&c.fill&&c.fill!=="none",x=!1,m=!1;if(y){var _=y.coloring;_==="lines"?x=!0:d=_==="none"||_==="heatmap"||y.showlines,y.type==="constraint"?g=y._operation!=="=":_!=="fill"&&_!=="heatmap"||(m=!0)}return{showMarker:v,showLine:d,showFill:g,showGradientLine:x,showGradientFill:m,anyLine:d||x,anyFill:g||m}}function u(h,c,y){return h&&o.isArrayOrTypedArray(h)?c:h>y?y:h}U.exports=function(h,c,y){var d=c._fullLayout;y||(y=d.legend);var v=y.itemsizing==="constant",g=y.itemwidth,x=(g+2*t.itemGap)/2,m=w(x,0),_=function(T,E,O,P){var I;if(T+1)I=T;else{if(!(E&&E.width>0))return 0;I=E.width}return v?P:Math.min(I,O)};function p(T,E,O){var P=T[0].trace,I=P.marker||{},R=I.line||{},H=I.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",z=O?P.visible&&P.type===O:A.traceIs(P,"bar"),j=k.select(E).select("g.legendpoints").selectAll("path.legend"+O).data(z?[T]:[]);j.enter().append("path").classed("legend"+O,!0).attr("d",H).attr("transform",m),j.exit().remove(),j.each(function(Z){var F=k.select(this),V=Z[0],W=_(V.mlw,I.line,5,2);F.style("stroke-width",W+"px");var re=V.mcc;if(!y._inHover&&"mc"in V){var ne=s(I),te=ne.mid;te===void 0&&(te=(ne.max+ne.min)/2),re=b.tryColorscale(I,"")(te)}var Q=re||V.mc||I.color,$=I.pattern,K=$&&b.getPatternAttr($.shape,0,"");if(K){var ae=b.getPatternAttr($.bgcolor,0,null),ue=b.getPatternAttr($.fgcolor,0,null),se=$.fgopacity,he=u($.size,8,10),pe=u($.solidity,.5,1),de="legend-"+P.uid;F.call(b.pattern,"legend",c,de,K,he,pe,re,$.fillmode,ae,ue,se)}else F.call(f.fill,Q);W&&f.stroke(F,V.mlc||R.color)})}function S(T,E,O){var P=T[0],I=P.trace,R=O?I.visible&&I.type===O:A.traceIs(I,O),H=k.select(E).select("g.legendpoints").selectAll("path.legend"+O).data(R?[T]:[]);if(H.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),H.exit().remove(),H.size()){var z=I.marker||{},j=_(r(z.line.width,P.pts),z.line,5,2),Z="pieLike",F=o.minExtend(I,{marker:{line:{width:j}}},Z),V=o.minExtend(P,{trace:F},Z);i(H,V,F,c)}}h.each(function(T){var E=k.select(this),O=o.ensureSingle(E,"g","layers");O.style("opacity",T[0].trace.opacity);var P=y.indentation,I=y.valign,R=T[0].lineHeight,H=T[0].height;if(I==="middle"&&P===0||!R||!H)O.attr("transform",null);else{var z={top:1,bottom:-1}[I]*(.5*(R-H+3))||0,j=y.indentation;O.attr("transform",w(j,z))}O.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var Z=O.selectAll("g.legendsymbols").data([T]);Z.enter().append("g").classed("legendsymbols",!0),Z.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var E,O=T[0].trace,P=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var I=k.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(R,H){var z,j=k.select(this),Z=s(O),F=Z.colorscale,V=Z.reversescale;if(F){if(!E){var W=F.length;z=H===0?F[V?W-1:0][1]:H===1?F[V?0:W-1][1]:F[Math.floor((W-1)/2)][1]}}else{var re=O.vertexcolor||O.facecolor||O.color;z=o.isArrayOrTypedArray(re)?re[H]||re[0]:re}j.attr("d",R[0]),z?j.call(f.fill,z):j.call(function(ne){if(ne.size()){var te="legendfill-"+O.uid;b.gradient(ne,c,te,a(V,E==="radial"),F,"fill")}})})}).each(function(T){var E=T[0].trace,O=E.type==="waterfall";if(T[0]._distinct&&O){var P=T[0].trace[T[0].dir].marker;return T[0].mc=P.color,T[0].mlw=P.line.width,T[0].mlc=P.line.color,p(T,this,"waterfall")}var I=[];E.visible&&O&&(I=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=k.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(H){var z=k.select(this),j=E[H[0]].marker,Z=_(void 0,j.line,5,2);z.attr("d",H[1]).style("stroke-width",Z+"px").call(f.fill,j.color),Z&&z.call(f.stroke,j.line.color)})}).each(function(T){p(T,this,"funnel")}).each(function(T){p(T,this)}).each(function(T){var E=T[0].trace,O=k.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&A.traceIs(E,"box-violin")?[T]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),O.exit().remove(),O.each(function(){var P=k.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||f.opacity(E.fillcolor)!==0||f.opacity((E.line||{}).color)!==0){var I=_(void 0,E.line,5,2);P.style("stroke-width",I+"px").call(f.fill,E.fillcolor),I&&f.stroke(P,E.line.color)}else{var R=o.minExtend(E,{marker:{size:v?12:o.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(b.pointStyle,R,c)}})}).each(function(T){S(T,this,"funnelarea")}).each(function(T){S(T,this,"pie")}).each(function(T){var E,O,P=l(T),I=P.showFill,R=P.showLine,H=P.showGradientLine,z=P.showGradientFill,j=P.anyFill,Z=P.anyLine,F=T[0],V=F.trace,W=s(V),re=W.colorscale,ne=W.reversescale,te=n.hasMarkers(V)||!j?"M5,0":Z?"M5,-2":"M5,-3",Q=k.select(this),$=Q.select(".legendfill").selectAll("path").data(I||z?[T]:[]);if($.enter().append("path").classed("js-fill",!0),$.exit().remove(),$.attr("d",te+"h"+g+"v6h-"+g+"z").call(function(ue){if(ue.size())if(I)b.fillGroupStyle(ue,c,!0);else{var se="legendfill-"+V.uid;b.gradient(ue,c,se,a(ne),re,"fill")}}),R||H){var K=_(void 0,V.line,10,5);O=o.minExtend(V,{line:{width:K}}),E=[o.minExtend(F,{trace:O})]}var ae=Q.select(".legendlines").selectAll("path").data(R||H?[E]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",te+(H?"l"+g+",0.0001":"h"+g)).call(R?b.lineGroupStyle:function(ue){if(ue.size()){var se="legendline-"+V.uid;b.lineGroupStyle(ue),b.gradient(ue,c,se,a(ne),re,"stroke")}})}).each(function(T){var E,O,P=l(T),I=P.anyFill,R=P.anyLine,H=P.showLine,z=P.showMarker,j=T[0],Z=j.trace,F=!z&&!R&&!I&&n.hasText(Z);function V(ae,ue,se,he){var pe=o.nestedProperty(Z,ae).get(),de=o.isArrayOrTypedArray(pe)&&ue?ue(pe):pe;if(v&&de&&he!==void 0&&(de=he),se){if(de<se[0])return se[0];if(de>se[1])return se[1]}return de}function W(ae){return j._distinct&&j.index&&ae[j.index]?ae[j.index]:ae[0]}if(z||F||H){var re={},ne={};if(z){re.mc=V("marker.color",W),re.mx=V("marker.symbol",W),re.mo=V("marker.opacity",o.mean,[.2,1]),re.mlc=V("marker.line.color",W),re.mlw=V("marker.line.width",o.mean,[0,5],2),ne.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var te=V("marker.size",o.mean,[2,16],12);re.ms=te,ne.marker.size=te}H&&(ne.line={width:V("line.width",W,[0,10],5)}),F&&(re.tx="Aa",re.tp=V("textposition",W),re.ts=10,re.tc=V("textfont.color",W),re.tf=V("textfont.family",W),re.tw=V("textfont.weight",W),re.ty=V("textfont.style",W),re.tv=V("textfont.variant",W),re.tC=V("textfont.textcase",W),re.tE=V("textfont.lineposition",W),re.tS=V("textfont.shadow",W)),E=[o.minExtend(j,re)],(O=o.minExtend(Z,ne)).selectedpoints=null,O.texttemplate=null}var Q=k.select(this).select("g.legendpoints"),$=Q.selectAll("path.scatterpts").data(z?E:[]);$.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),$.exit().remove(),$.call(b.pointStyle,O,c),z&&(E[0].mrc=3);var K=Q.selectAll("g.pointtext").data(F?E:[]);K.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),K.exit().remove(),K.selectAll("text").call(b.textPointStyle,O,c)}).each(function(T){var E=T[0].trace,O=k.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[T,T]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(P,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,I){var R=k.select(this),H=E[I?"increasing":"decreasing"],z=_(void 0,H.line,5,2);R.style("stroke-width",z+"px").call(f.fill,H.fillcolor),z&&f.stroke(R,H.line.color)})}).each(function(T){var E=T[0].trace,O=k.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[T,T]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(P,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,I){var R=k.select(this),H=E[I?"increasing":"decreasing"],z=_(void 0,H.line,5,2);R.style("fill","none").call(b.dashLine,H.line.dash,z),z&&f.stroke(R,H.line.color)})})}},66540:function(U,C,e){e(76052),U.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(U,C,e){var k=e(24040),A=e(7316),o=e(79811),w=e(9224),b=e(4016).eraseActiveShape,f=e(3400),s=f._,n=U.exports={};function i(d,v){var g,x,m=v.currentTarget,_=m.getAttribute("data-attr"),p=m.getAttribute("data-val")||!0,S=d._fullLayout,T={},E=o.list(d,null,!0),O=S._cartesianSpikesEnabled;if(_==="zoom"){var P,I=p==="in"?.5:2,R=(1+I)/2,H=(1-I)/2;for(x=0;x<E.length;x++)if(!(g=E[x]).fixedrange)if(P=g._name,p==="auto")T[P+".autorange"]=!0;else if(p==="reset")g._rangeInitial0===void 0&&g._rangeInitial1===void 0?T[P+".autorange"]=!0:g._rangeInitial0===void 0?(T[P+".autorange"]=g._autorangeInitial,T[P+".range"]=[null,g._rangeInitial1]):g._rangeInitial1===void 0?(T[P+".range"]=[g._rangeInitial0,null],T[P+".autorange"]=g._autorangeInitial):T[P+".range"]=[g._rangeInitial0,g._rangeInitial1],g._showSpikeInitial!==void 0&&(T[P+".showspikes"]=g._showSpikeInitial,O!=="on"||g._showSpikeInitial||(O="off"));else{var z=[g.r2l(g.range[0]),g.r2l(g.range[1])],j=[R*z[0]+H*z[1],R*z[1]+H*z[0]];T[P+".range[0]"]=g.l2r(j[0]),T[P+".range[1]"]=g.l2r(j[1])}}else _!=="hovermode"||p!=="x"&&p!=="y"||(p=S._isHoriz?"y":"x",m.setAttribute("data-val",p)),T[_]=p;S._cartesianSpikesEnabled=O,k.call("_guiRelayout",d,T)}function r(d,v){for(var g=v.currentTarget,x=g.getAttribute("data-attr"),m=g.getAttribute("data-val")||!0,_=d._fullLayout._subplots.gl3d||[],p={},S=x.split("."),T=0;T<_.length;T++)p[_[T]+"."+S[1]]=m;var E=m==="pan"?m:"zoom";p.dragmode=E,k.call("_guiRelayout",d,p)}function t(d,v){for(var g=v.currentTarget.getAttribute("data-attr"),x=g==="resetLastSave",m=g==="resetDefault",_=d._fullLayout,p=_._subplots.gl3d||[],S={},T=0;T<p.length;T++){var E,O=p[T],P=O+".camera",I=O+".aspectratio",R=O+".aspectmode",H=_[O]._scene;x?(S[P+".up"]=H.viewInitial.up,S[P+".eye"]=H.viewInitial.eye,S[P+".center"]=H.viewInitial.center,E=!0):m&&(S[P+".up"]=null,S[P+".eye"]=null,S[P+".center"]=null,E=!0),E&&(S[I+".x"]=H.viewInitial.aspectratio.x,S[I+".y"]=H.viewInitial.aspectratio.y,S[I+".z"]=H.viewInitial.aspectratio.z,S[R]=H.viewInitial.aspectmode)}k.call("_guiRelayout",d,S)}function a(d,v){var g=v.currentTarget,x=g._previousVal,m=d._fullLayout,_=m._subplots.gl3d||[],p=["xaxis","yaxis","zaxis"],S={},T={};if(x)T=x,g._previousVal=null;else{for(var E=0;E<_.length;E++){var O=_[E],P=m[O],I=O+".hovermode";S[I]=P.hovermode,T[I]=!1;for(var R=0;R<3;R++){var H=p[R],z=O+"."+H+".showspikes";T[z]=!1,S[z]=P[H].showspikes}}g._previousVal=S}return T}function l(d,v){for(var g=v.currentTarget,x=g.getAttribute("data-attr"),m=g.getAttribute("data-val")||!0,_=d._fullLayout,p=_._subplots.geo||[],S=0;S<p.length;S++){var T=p[S],E=_[T];if(x==="zoom"){var O=E.projection.scale,P=m==="in"?2*O:.5*O;k.call("_guiRelayout",d,T+".projection.scale",P)}}x==="reset"&&y(d,"geo")}function u(d){var v=d._fullLayout;return!v.hovermode&&(v._has("cartesian")?v._isHoriz?"y":"x":"closest")}function h(d){var v=u(d);k.call("_guiRelayout",d,"hovermode",v)}function c(d,v){for(var g=v.currentTarget.getAttribute("data-val"),x=d._fullLayout,m=x._subplots.mapbox||[],_={},p=0;p<m.length;p++){var S=m[p],T=x[S].zoom,E=g==="in"?1.05*T:T/1.05;_[S+".zoom"]=E}k.call("_guiRelayout",d,_)}function y(d,v){for(var g=d._fullLayout,x=g._subplots[v]||[],m={},_=0;_<x.length;_++)for(var p=x[_],S=g[p]._subplot.viewInitial,T=Object.keys(S),E=0;E<T.length;E++){var O=T[E];m[p+"."+O]=S[O]}k.call("_guiRelayout",d,m)}n.toImage={name:"toImage",title:function(d){var v=(d._context.toImageButtonOptions||{}).format||"png";return s(d,v==="png"?"Download plot as a png":"Download plot")},icon:w.camera,click:function(d){var v=d._context.toImageButtonOptions,g={format:v.format||"png"};f.notifier(s(d,"Taking snapshot - this may take a few seconds"),"long"),g.format!=="svg"&&f.isIE()&&(f.notifier(s(d,"IE only supports svg.  Changing format to svg."),"long"),g.format="svg"),["filename","width","height","scale"].forEach(function(x){x in v&&(g[x]=v[x])}),k.call("downloadImage",d,g).then(function(x){f.notifier(s(d,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){f.notifier(s(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:function(d){return s(d,"Edit in Chart Studio")},icon:w.disk,click:function(d){A.sendDataToCloud(d)}},n.editInChartStudio={name:"editInChartStudio",title:function(d){return s(d,"Edit in Chart Studio")},icon:w.pencil,click:function(d){A.sendDataToCloud(d)}},n.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"dragmode",val:"zoom",icon:w.zoombox,click:i},n.pan2d={name:"pan2d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"dragmode",val:"pan",icon:w.pan,click:i},n.select2d={name:"select2d",_cat:"select",title:function(d){return s(d,"Box Select")},attr:"dragmode",val:"select",icon:w.selectbox,click:i},n.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return s(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:w.lasso,click:i},n.drawclosedpath={name:"drawclosedpath",title:function(d){return s(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:w.drawclosedpath,click:i},n.drawopenpath={name:"drawopenpath",title:function(d){return s(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:w.drawopenpath,click:i},n.drawline={name:"drawline",title:function(d){return s(d,"Draw line")},attr:"dragmode",val:"drawline",icon:w.drawline,click:i},n.drawrect={name:"drawrect",title:function(d){return s(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:w.drawrect,click:i},n.drawcircle={name:"drawcircle",title:function(d){return s(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:w.drawcircle,click:i},n.eraseshape={name:"eraseshape",title:function(d){return s(d,"Erase active shape")},icon:w.eraseshape,click:b},n.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:i},n.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:i},n.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return s(d,"Autoscale")},attr:"zoom",val:"auto",icon:w.autoscale,click:i},n.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return s(d,"Reset axes")},attr:"zoom",val:"reset",icon:w.home,click:i},n.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return s(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:w.tooltip_basic,gravity:"ne",click:i},n.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return s(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:w.tooltip_compare,gravity:"ne",click:i},n.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:w.zoombox,click:r},n.pan3d={name:"pan3d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:w.pan,click:r},n.orbitRotation={name:"orbitRotation",title:function(d){return s(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:w["3d_rotate"],click:r},n.tableRotation={name:"tableRotation",title:function(d){return s(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:w["z-axis"],click:r},n.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return s(d,"Reset camera to default")},attr:"resetDefault",icon:w.home,click:t},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return s(d,"Reset camera to last save")},attr:"resetLastSave",icon:w.movie,click:t},n.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:function(d,v){var g=a(d,v);k.call("_guiRelayout",d,g)}},n.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:l},n.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:l},n.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return s(d,"Reset")},attr:"reset",val:null,icon:w.autoscale,click:l},n.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:h},n.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:h},n.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:w.tooltip_basic,gravity:"ne",click:h},n.resetViewSankey={name:"resetSankeyGroup",title:function(d){return s(d,"Reset view")},icon:w.home,click:function(d){for(var v={"node.groups":[],"node.x":[],"node.y":[]},g=0;g<d._fullData.length;g++){var x=d._fullData[g]._viewInitial;v["node.groups"].push(x.node.groups.slice()),v["node.x"].push(x.node.x.slice()),v["node.y"].push(x.node.y.slice())}k.call("restyle",d,v)}},n.toggleHover={name:"toggleHover",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:function(d,v){var g=a(d,v);g.hovermode=u(d),k.call("_guiRelayout",d,g)}},n.resetViews={name:"resetViews",title:function(d){return s(d,"Reset views")},icon:w.home,click:function(d,v){var g=v.currentTarget;g.setAttribute("data-attr","zoom"),g.setAttribute("data-val","reset"),i(d,v),g.setAttribute("data-attr","resetLastSave"),t(d,v),y(d,"geo"),y(d,"mapbox")}},n.toggleSpikelines={name:"toggleSpikelines",title:function(d){return s(d,"Toggle Spike Lines")},icon:w.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var v=d._fullLayout,g=v._cartesianSpikesEnabled;v._cartesianSpikesEnabled=g==="on"?"off":"on",k.call("_guiRelayout",d,function(x){for(var m=x._fullLayout._cartesianSpikesEnabled==="on",_=o.list(x,null,!0),p={},S=0;S<_.length;S++){var T=_[S];p[T._name+".showspikes"]=!!m||T._showSpikeInitial}return p}(d))}},n.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return s(d,"Reset view")},attr:"reset",icon:w.home,click:function(d){y(d,"mapbox")}},n.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:c},n.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:c}},76052:function(U,C,e){var k=e(44248),A=Object.keys(k),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],w=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),b=[];A.forEach(function(f){(function(s){if(w.indexOf(s._cat||s.name)===-1){var n=s.name,i=(s._cat||s.name).toLowerCase();b.indexOf(n)===-1&&b.push(n),b.indexOf(i)===-1&&b.push(i)}})(k[f])}),b.sort(),U.exports={DRAW_MODES:o,backButtons:w,foreButtons:b}},90824:function(U,C,e){var k=e(3400),A=e(76308),o=e(31780),w=e(66540);U.exports=function(b,f){var s=b.modebar||{},n=o.newContainer(f,"modebar");function i(t,a){return k.coerce(s,n,w,t,a)}i("orientation"),i("bgcolor",A.addOpacity(f.paper_bgcolor,.5));var r=A.contrast(A.rgb(f.modebar.bgcolor));i("color",A.addOpacity(r,.3)),i("activecolor",A.addOpacity(r,.7)),i("uirevision",f.uirevision),i("add"),i("remove")}},45460:function(U,C,e){U.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(U,C,e){var k=e(79811),A=e(43028),o=e(24040),w=e(10624).isUnifiedHover,b=e(66400),f=e(44248),s=e(76052).DRAW_MODES,n=e(3400).extendDeep;U.exports=function(i){var r=i._fullLayout,t=i._context,a=r._modeBar;if(t.displayModeBar||t.watermark){if(!Array.isArray(t.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(t.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=t.modeBarButtons;l=Array.isArray(u)&&u.length?function(h){for(var c=n([],h),y=0;y<c.length;y++)for(var d=c[y],v=0;v<d.length;v++){var g=d[v];if(typeof g=="string"){if(f[g]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[y][v]=f[g]}}return c}(u):!t.displayModeBar&&t.watermark?[]:function(h){var c=h._fullLayout,y=h._fullData,d=h._context;function v(pe,de){if(typeof de=="string"){if(de.toLowerCase()===pe.toLowerCase())return!0}else{var xe=de.name,_e=de._cat||de.name;if(xe===pe||_e===pe.toLowerCase())return!0}return!1}var g=c.modebar.add;typeof g=="string"&&(g=[g]);var x=c.modebar.remove;typeof x=="string"&&(x=[x]);var m=d.modeBarButtonsToAdd.concat(g.filter(function(pe){for(var de=0;de<d.modeBarButtonsToRemove.length;de++)if(v(pe,d.modeBarButtonsToRemove[de]))return!1;return!0})),_=d.modeBarButtonsToRemove.concat(x.filter(function(pe){for(var de=0;de<d.modeBarButtonsToAdd.length;de++)if(v(pe,d.modeBarButtonsToAdd[de]))return!1;return!0})),p=c._has("cartesian"),S=c._has("gl3d"),T=c._has("geo"),E=c._has("pie"),O=c._has("funnelarea"),P=c._has("gl2d"),I=c._has("ternary"),R=c._has("mapbox"),H=c._has("polar"),z=c._has("smith"),j=c._has("sankey"),Z=function(pe){for(var de=k.list({_fullLayout:pe},null,!0),xe=0;xe<de.length;xe++)if(!de[xe].fixedrange)return!1;return!0}(c),F=w(c.hovermode),V=[];function W(pe){if(pe.length){for(var de=[],xe=0;xe<pe.length;xe++){for(var _e=pe[xe],be=f[_e],Le=be.name.toLowerCase(),De=(be._cat||be.name).toLowerCase(),ye=!1,le=0;le<_.length;le++){var oe=_[le].toLowerCase();if(oe===Le||oe===De){ye=!0;break}}ye||de.push(f[_e])}V.push(de)}}var re=["toImage"];d.showEditInChartStudio?re.push("editInChartStudio"):d.showSendToCloud&&re.push("sendDataToCloud"),W(re);var ne=[],te=[],Q=[],$=[];(p||P||E||O||I)+T+S+R+H+z>1?(te=["toggleHover"],Q=["resetViews"]):T?(ne=["zoomInGeo","zoomOutGeo"],te=["hoverClosestGeo"],Q=["resetGeo"]):S?(te=["hoverClosest3d"],Q=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(ne=["zoomInMapbox","zoomOutMapbox"],te=["toggleHover"],Q=["resetViewMapbox"]):P?te=["hoverClosestGl2d"]:E?te=["hoverClosestPie"]:j?(te=["hoverClosestCartesian","hoverCompareCartesian"],Q=["resetViewSankey"]):te=["toggleHover"],p&&(te=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var de=0;de<pe.length;de++)if(!o.traceIs(pe[de],"noHover"))return!1;return!0}(y)||F)&&(te=[]),!p&&!P||Z||(ne=["zoomIn2d","zoomOut2d","autoScale2d"],Q[0]!=="resetViews"&&(Q=["resetScale2d"])),S?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(p||P)&&!Z||I?$=["zoom2d","pan2d"]:R||T?$=["pan2d"]:H&&($=["zoom2d"]),function(pe){for(var de=!1,xe=0;xe<pe.length&&!de;xe++){var _e=pe[xe];_e._module&&_e._module.selectPoints&&(o.traceIs(_e,"scatter-like")?(A.hasMarkers(_e)||A.hasText(_e))&&(de=!0):o.traceIs(_e,"box-violin")&&_e.boxpoints!=="all"&&_e.points!=="all"||(de=!0))}return de}(y)&&$.push("select2d","lasso2d");var K=[],ae=function(pe){K.indexOf(pe)===-1&&te.indexOf(pe)!==-1&&K.push(pe)};if(Array.isArray(m)){for(var ue=[],se=0;se<m.length;se++){var he=m[se];typeof he=="string"?(he=he.toLowerCase(),s.indexOf(he)!==-1?(c._has("mapbox")||c._has("cartesian"))&&$.push(he):he==="togglespikelines"?ae("toggleSpikelines"):he==="togglehover"?ae("toggleHover"):he==="hovercompare"?ae("hoverCompareCartesian"):he==="hoverclosest"?(ae("hoverClosestCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie")):he==="v1hovermode"&&(ae("toggleHover"),ae("hoverClosestCartesian"),ae("hoverCompareCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie"))):ue.push(he)}m=ue}return W($),W(ne.concat(Q)),W(K),function(pe,de){if(de.length)if(Array.isArray(de[0]))for(var xe=0;xe<de.length;xe++)pe.push(de[xe]);else pe.push(de);return pe}(V,m)}(i),a?a.update(i,l):r._modeBar=b(i,l)}else a&&(a.destroy(),delete r._modeBar)}},66400:function(U,C,e){var k=e(33428),A=e(38248),o=e(3400),w=e(9224),b=e(25788).version,f=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var n=s.prototype;n.update=function(i,r){this.graphInfo=i;var t=this.graphInfo._context,a=this.graphInfo._fullLayout,l="modebar-"+a._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),a.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var u=a.modebar,h=t.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(l),o.addRelatedStyleRule(l,h+"#"+l+" .modebar-group","background-color: "+u.bgcolor),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),y=this.hasLogo!==t.displaylogo,d=this.locale!==t.locale;if(this.locale=t.locale,(c||y||d)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var v=this.getLogo();t.watermark&&(v.className=v.className+" watermark"),a.modebar.orientation==="v"?this.element.insertBefore(v,this.element.childNodes[0]):this.element.appendChild(v),this.hasLogo=!0}this.updateActiveButton()},n.updateButtons=function(i){var r=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var a=r.createGroup();t.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var h=r.createButton(l);r.buttonElements.push(h),a.appendChild(h)}),r.element.appendChild(a)})},n.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},n.createButton=function(i){var r=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var a=i.title;a===void 0?a=i.name:typeof a=="function"&&(a=a(this.graphInfo)),(a||a===0)&&t.setAttribute("data-title",a),i.attr!==void 0&&t.setAttribute("data-attr",i.attr);var l=i.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),t.setAttribute("data-val",l)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(h){i.click(r.graphInfo,h),r.updateActiveButton(h.currentTarget)}),t.setAttribute("data-toggle",i.toggle||!1),i.toggle&&k.select(t).classed("active",!0);var u=i.icon;return typeof u=="function"?t.appendChild(u()):t.appendChild(this.createIcon(u||w.question)),t.setAttribute("data-gravity",i.gravity||"n"),t},n.createIcon=function(i){var r,t=A(i.height)?Number(i.height):i.ascent-i.descent,a="http://www.w3.org/2000/svg";if(i.path){(r=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,i.width,t].join(" ")),r.setAttribute("class","icon");var l=document.createElementNS(a,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):i.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),r.appendChild(l)}return i.svg&&(r=f.parseFromString(i.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},n.updateActiveButton=function(i){var r=this.graphInfo._fullLayout,t=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var l=a.getAttribute("data-val")||!0,u=a.getAttribute("data-attr"),h=a.getAttribute("data-toggle")==="true",c=k.select(a);if(h)u===t&&c.classed("active",!c.classed("active"));else{var y=u===null?u:o.nestedProperty(r,u).get();c.classed("active",y===l)}})},n.hasButtons=function(i){var r=this.buttons;if(!r||i.length!==r.length)return!1;for(var t=0;t<i.length;++t){if(i[t].length!==r[t].length)return!1;for(var a=0;a<i[t].length;a++)if(i[t][a].name!==r[t][a].name)return!1}return!0},n.getLogo=function(){var i=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(w.newplotlylogo)),i.appendChild(r),i},n.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},n.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},U.exports=function(i,r){var t=i._fullLayout,a=new s({graphInfo:i,container:t._modebardiv.node(),buttons:r});return t._privateplot&&k.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},26680:function(U,C,e){var k=e(25376),A=e(22548),o=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});U.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:k({editType:"plot"}),bgcolor:{valType:"color",dflt:A.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(U){U.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(U,C,e){var k=e(3400),A=e(76308),o=e(31780),w=e(51272),b=e(26680),f=e(85984);function s(n,i,r,t){var a=t.calendar;function l(h,c){return k.coerce(n,i,b.buttons,h,c)}if(l("visible")){var u=l("step");u!=="all"&&(!a||a==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}U.exports=function(n,i,r,t,a){var l=n.rangeselector||{},u=o.newContainer(i,"rangeselector");function h(d,v){return k.coerce(l,u,b,d,v)}if(h("visible",w(l,u,{name:"buttons",handleItemDefaults:s,calendar:a}).length>0)){var c=function(d,v,g){for(var x=g.filter(function(S){return v[S].anchor===d._id}),m=0,_=0;_<x.length;_++){var p=v[x[_]].domain;p&&(m=Math.max(p[1],m))}return[d.domain[0],m+f.yPad]}(i,r,t);h("x",c[0]),h("y",c[1]),k.noneOrAll(n,i,["x","y"]),h("xanchor"),h("yanchor"),k.coerceFont(h,"font",r.font);var y=h("bgcolor");h("activecolor",A.contrast(y,f.lightAmount,f.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(U,C,e){var k=e(33428),A=e(24040),o=e(7316),w=e(76308),b=e(43616),f=e(3400),s=f.strTranslate,n=e(72736),i=e(79811),r=e(84284),t=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR,u=e(85984),h=e(48040);function c(v){return v._id}function y(v,g,x){var m=f.ensureSingle(v,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(w.stroke,g.bordercolor).call(w.fill,function(_,p){return p._isActive||p._isHovered?_.activecolor:_.bgcolor}(g,x)).style("stroke-width",g.borderwidth+"px")}function d(v,g,x,m){var _,p;f.ensureSingle(v,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,g.font).text((_=x,p=m._fullLayout._meta,_.label?p?f.templateString(_.label,p):_.label:_.step==="all"?"all":_.count+_.step.charAt(0))).call(function(S){n.convertToTspans(S,m)})}U.exports=function(v){var g=v._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var m=i.list(x,"x",!0),_=[],p=0;p<m.length;p++){var S=m[p];S.rangeselector&&S.rangeselector.visible&&_.push(S)}return _}(v),c);g.enter().append("g").classed("rangeselector",!0),g.exit().remove(),g.style({cursor:"pointer","pointer-events":"all"}),g.each(function(x){var m=k.select(this),_=x,p=_.rangeselector,S=m.selectAll("g.button").data(f.filterVisible(p.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(T){var E=k.select(this),O=h(_,T);T._isActive=function(P,I,R){if(I.step==="all")return P.autorange===!0;var H=Object.keys(R);return P.range[0]===R[H[0]]&&P.range[1]===R[H[1]]}(_,T,O),E.call(y,p,T),E.call(d,p,T,v),E.on("click",function(){v._dragged||A.call("_guiRelayout",v,O)}),E.on("mouseover",function(){T._isHovered=!0,E.call(y,p,T)}),E.on("mouseout",function(){T._isHovered=!1,E.call(y,p,T)})}),function(T,E,O,P,I){var R=0,H=0,z=O.borderwidth;E.each(function(){var re=k.select(this).select(".selector-text"),ne=O.font.size*t,te=Math.max(ne*n.lineCount(re),16)+3;H=Math.max(H,te)}),E.each(function(){var re=k.select(this),ne=re.select(".selector-rect"),te=re.select(".selector-text"),Q=te.node()&&b.bBox(te.node()).width,$=O.font.size*t,K=n.lineCount(te),ae=Math.max(Q+10,u.minButtonWidth);re.attr("transform",s(z+R,z)),ne.attr({x:0,y:0,width:ae,height:H}),n.positionText(te,ae/2,H/2-(K-1)*$/2+3),R+=ae+5});var j=T._fullLayout._size,Z=j.l+j.w*O.x,F=j.t+j.h*(1-O.y),V="left";f.isRightAnchor(O)&&(Z-=R,V="right"),f.isCenterAnchor(O)&&(Z-=R/2,V="center");var W="top";f.isBottomAnchor(O)&&(F-=H,W="bottom"),f.isMiddleAnchor(O)&&(F-=H/2,W="middle"),R=Math.ceil(R),H=Math.ceil(H),Z=Math.round(Z),F=Math.round(F),o.autoMargin(T,P+"-range-selector",{x:O.x,y:O.y,l:R*a[V],r:R*l[V],b:H*l[W],t:H*a[W]}),I.attr("transform",s(Z,F))}(v,S,p,_._name,m)})}},48040:function(U,C,e){var k=e(73220),A=e(3400).titleCase;U.exports=function(o,w){var b=o._name,f={};if(w.step==="all")f[b+".autorange"]=!0;else{var s=function(n,i){var r,t=n.range,a=new Date(n.r2l(t[1])),l=i.step,u=k["utc"+A(l)],h=i.count;switch(i.stepmode){case"backward":r=n.l2r(+u.offset(a,-h));break;case"todate":var c=u.offset(a,-h);r=n.l2r(+u.ceil(c))}return[r,t[1]]}(o,w);f[b+".range[0]"]=s[0],f[b+".range[1]"]=s[1]}return f}},41152:function(U,C,e){U.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(U,C,e){var k=e(22548);U.exports={bgcolor:{valType:"color",dflt:k.background,editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(U,C,e){var k=e(79811).list,A=e(19280).getAutoRange,o=e(74636);U.exports=function(w){for(var b=k(w,"x",!0),f=0;f<b.length;f++){var s=b[f],n=s[o.name];n&&n.visible&&n.autorange&&(n._input.autorange=!0,n._input.range=n.range=A(w,s))}}},74636:function(U){U.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(U,C,e){var k=e(3400),A=e(31780),o=e(79811),w=e(11200),b=e(10936);U.exports=function(f,s,n){var i=f[n],r=s[n];if(i.rangeslider||s._requestRangeslider[r._id]){k.isPlainObject(i.rangeslider)||(i.rangeslider={});var t,a,l=i.rangeslider,u=A.newContainer(r,"rangeslider");if(m("visible")){m("bgcolor",s.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!r.isValidRange(l.range)),m("range");var h=s._subplots;if(h)for(var c=h.cartesian.filter(function(p){return p.substr(0,p.indexOf("y"))===o.name2id(n)}).map(function(p){return p.substr(p.indexOf("y"),p.length)}),y=k.simpleMap(c,o.id2name),d=0;d<y.length;d++){var v=y[d];t=l[v]||{},a=A.newContainer(u,v,"yaxis");var g,x=s[v];t.range&&x.isValidRange(t.range)&&(g="fixed"),_("rangemode",g)!=="match"&&_("range",x.range.slice())}u._input=l}}function m(p,S){return k.coerce(l,u,w,p,S)}function _(p,S){return k.coerce(t,a,b,p,S)}}},20060:function(U,C,e){var k=e(33428),A=e(24040),o=e(7316),w=e(3400),b=w.strTranslate,f=e(43616),s=e(76308),n=e(81668),i=e(57952),r=e(79811),t=e(86476),a=e(93972),l=e(74636);function u(x){return typeof x.clientX=="number"?x.clientX:x.touches&&x.touches.length>0?x.touches[0].clientX:0}function h(x,m,_,p){var S=w.ensureSingle(x,"rect",l.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),T=p.borderwidth%2==0?p.borderwidth:p.borderwidth-1,E=-p._offsetShift,O=f.crispRound(m,p.borderwidth);S.attr({width:p._width+T,height:p._height+T,transform:b(E,E),"stroke-width":O}).call(s.stroke,p.bordercolor).call(s.fill,p.bgcolor)}function c(x,m,_,p){var S=m._fullLayout;w.ensureSingleById(S._topdefs,"clipPath",p._clipId,function(T){T.append("rect").attr({x:0,y:0})}).select("rect").attr({width:p._width,height:p._height})}function y(x,m,_,p){var S,T=m.calcdata,E=x.selectAll("g."+l.rangePlotClassName).data(_._subplotsWith,w.identity);E.enter().append("g").attr("class",function(O){return l.rangePlotClassName+" "+O}).call(f.setClipUrl,p._clipId,m),E.order(),E.exit().remove(),E.each(function(O,P){var I=k.select(this),R=P===0,H=r.getFromId(m,O,"y"),z=H._name,j=p[z],Z={data:[],layout:{xaxis:{type:_.type,domain:[0,1],range:p.range.slice(),calendar:_.calendar},width:p._width,height:p._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};_.rangebreaks&&(Z.layout.xaxis.rangebreaks=_.rangebreaks),Z.layout[z]={type:H.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(Z.layout[z].rangebreaks=H.rangebreaks),o.supplyDefaults(Z);var F=Z._fullLayout.xaxis,V=Z._fullLayout[z];F.clearCalc(),F.setScale(),V.clearCalc(),V.setScale();var W={id:O,plotgroup:I,xaxis:F,yaxis:V,isRangePlot:!0};R?S=W:(W.mainplot="xy",W.mainplotinfo=S),i.rangePlot(m,W,function(re,ne){for(var te=[],Q=0;Q<re.length;Q++){var $=re[Q],K=$[0].trace;K.xaxis+K.yaxis===ne&&te.push($)}return te}(T,O))})}function d(x,m,_,p,S){w.ensureSingle(x,"rect",l.maskMinClassName,function(T){T.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,l.maskColor),w.ensureSingle(x,"rect",l.maskMaxClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,l.maskColor),S.rangemode!=="match"&&(w.ensureSingle(x,"rect",l.maskMinOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).call(s.fill,l.maskOppAxisColor),w.ensureSingle(x,"rect",l.maskMaxOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function v(x,m,_,p){m._context.staticPlot||w.ensureSingle(x,"rect",l.slideBoxClassName,function(S){S.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:p._height,fill:l.slideBoxFill})}function g(x,m,_,p){var S=w.ensureSingle(x,"g",l.grabberMinClassName),T=w.ensureSingle(x,"g",l.grabberMaxClassName),E={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(p._height/4),height:Math.round(p._height/2)};w.ensureSingle(S,"rect",l.handleMinClassName,function(I){I.attr(E)}).attr(O),w.ensureSingle(T,"rect",l.handleMaxClassName,function(I){I.attr(E)}).attr(O);var P={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:m._context.staticPlot?void 0:l.grabAreaCursor};w.ensureSingle(S,"rect",l.grabAreaMinClassName,function(I){I.attr(P)}).attr("height",p._height),w.ensureSingle(T,"rect",l.grabAreaMaxClassName,function(I){I.attr(P)}).attr("height",p._height)}U.exports=function(x){for(var m=x._fullLayout,_=m._rangeSliderData,p=0;p<_.length;p++){var S=_[p][l.name];S._clipId=S._id+"-"+m._uid}var T=m._infolayer.selectAll("g."+l.containerClassName).data(_,function(E){return E._name});T.exit().each(function(E){var O=E[l.name];m._topdefs.select("#"+O._clipId).remove()}).remove(),_.length!==0&&(T.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),T.each(function(E){var O=k.select(this),P=E[l.name],I=m[r.id2name(E.anchor)],R=P[r.id2name(E.anchor)];if(P.range){var H,z=w.simpleMap(P.range,E.r2l),j=w.simpleMap(E.range,E.r2l);H=j[0]<j[1]?[Math.min(z[0],j[0]),Math.max(z[1],j[1])]:[Math.max(z[0],j[0]),Math.min(z[1],j[1])],P.range=P._input.range=w.simpleMap(H,E.l2r)}E.cleanRange("rangeslider.range");var Z=m._size,F=E.domain;P._width=Z.w*(F[1]-F[0]);var V=Math.round(Z.l+Z.w*F[0]),W=Math.round(Z.t+Z.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+P._offsetShift+l.extraPad);O.attr("transform",b(V,W)),P._rl=w.simpleMap(P.range,E.r2l);var re=P._rl[0],ne=P._rl[1],te=ne-re;if(P.p2d=function(de){return de/P._width*te+re},P.d2p=function(de){return(de-re)/te*P._width},E.rangebreaks){var Q=E.locateBreaks(re,ne);if(Q.length){var $,K,ae=0;for($=0;$<Q.length;$++)ae+=(K=Q[$]).max-K.min;var ue=P._width/(ne-re-ae),se=[-ue*re];for($=0;$<Q.length;$++)K=Q[$],se.push(se[se.length-1]-ue*(K.max-K.min));for(P.d2p=function(de){for(var xe=se[0],_e=0;_e<Q.length;_e++){var be=Q[_e];if(de>=be.max)xe=se[_e+1];else if(de<be.min)break}return xe+ue*de},$=0;$<Q.length;$++)(K=Q[$]).pmin=P.d2p(K.min),K.pmax=P.d2p(K.max);P.p2d=function(de){for(var xe=se[0],_e=0;_e<Q.length;_e++){var be=Q[_e];if(de>=be.pmax)xe=se[_e+1];else if(de<be.pmin)break}return(de-xe)/ue}}}if(R.rangemode!=="match"){var he=I.r2l(R.range[0]),pe=I.r2l(R.range[1])-he;P.d2pOppAxis=function(de){return(de-he)/pe*P._height}}O.call(h,x,E,P).call(c,x,E,P).call(y,x,E,P).call(d,x,E,P,R).call(v,x,E,P).call(g,x,E,P),function(de,xe,_e,be){if(!xe._context.staticPlot){var Le=de.select("rect."+l.slideBoxClassName).node(),De=de.select("rect."+l.grabAreaMinClassName).node(),ye=de.select("rect."+l.grabAreaMaxClassName).node();de.on("mousedown",le),de.on("touchstart",le)}function le(){var oe=k.event,ve=oe.target,Ce=u(oe),ke=Ce-de.node().getBoundingClientRect().left,Ae=be.d2p(_e._rl[0]),Ee=be.d2p(_e._rl[1]),ze=t.coverSlip();function Fe(Te){var Se,Re,Pe,Ve=+u(Te)-Ce;switch(ve){case Le:if(Pe="ew-resize",Ae+Ve>_e._length||Ee+Ve<0)return;Se=Ae+Ve,Re=Ee+Ve;break;case De:if(Pe="col-resize",Ae+Ve>_e._length)return;Se=Ae+Ve,Re=Ee;break;case ye:if(Pe="col-resize",Ee+Ve<0)return;Se=Ae,Re=Ee+Ve;break;default:Pe="ew-resize",Se=ke,Re=ke+Ve}if(Re<Se){var We=Re;Re=Se,Se=We}be._pixelMin=Se,be._pixelMax=Re,a(k.select(ze),Pe),function(Qe,lt,ut,xt){function _t(nt){return ut.l2r(w.constrain(nt,xt._rl[0],xt._rl[1]))}var mt=_t(xt.p2d(xt._pixelMin)),it=_t(xt.p2d(xt._pixelMax));window.requestAnimationFrame(function(){A.call("_guiRelayout",lt,ut._name+".range",[mt,it])})}(0,xe,_e,be)}function ge(){ze.removeEventListener("mousemove",Fe),ze.removeEventListener("mouseup",ge),this.removeEventListener("touchmove",Fe),this.removeEventListener("touchend",ge),w.removeElement(ze)}this.addEventListener("touchmove",Fe),this.addEventListener("touchend",ge),ze.addEventListener("mousemove",Fe),ze.addEventListener("mouseup",ge)}}(O,x,E,P),function(de,xe,_e,be,Le,De){var ye=l.handleWidth/2;function le(Te){return w.constrain(Te,0,be._width)}function oe(Te){return w.constrain(Te,0,be._height)}function ve(Te){return w.constrain(Te,-ye,be._width+ye)}var Ce=le(be.d2p(_e._rl[0])),ke=le(be.d2p(_e._rl[1]));if(de.select("rect."+l.slideBoxClassName).attr("x",Ce).attr("width",ke-Ce),de.select("rect."+l.maskMinClassName).attr("width",Ce),de.select("rect."+l.maskMaxClassName).attr("x",ke).attr("width",be._width-ke),De.rangemode!=="match"){var Ae=be._height-oe(be.d2pOppAxis(Le._rl[1])),Ee=be._height-oe(be.d2pOppAxis(Le._rl[0]));de.select("rect."+l.maskMinOppAxisClassName).attr("x",Ce).attr("height",Ae).attr("width",ke-Ce),de.select("rect."+l.maskMaxOppAxisClassName).attr("x",Ce).attr("y",Ee).attr("height",be._height-Ee).attr("width",ke-Ce),de.select("rect."+l.slideBoxClassName).attr("y",Ae).attr("height",Ee-Ae)}var ze=.5,Fe=Math.round(ve(Ce-ye))-ze,ge=Math.round(ve(ke-ye))+ze;de.select("g."+l.grabberMinClassName).attr("transform",b(Fe,ze)),de.select("g."+l.grabberMaxClassName).attr("transform",b(ge,ze))}(O,0,E,P,I,R),E.side==="bottom"&&n.draw(x,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:m._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:W+P._height+P._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},97944:function(U,C,e){var k=e(79811),A=e(72736),o=e(74636),w=e(84284).LINE_SPACING,b=o.name;function f(s){var n=s&&s[b];return n&&n.visible}C.isVisible=f,C.makeData=function(s){var n=k.list({_fullLayout:s},"x",!0),i=s.margin,r=[];if(!s._has("gl2d"))for(var t=0;t<n.length;t++){var a=n[t];if(f(a)){r.push(a);var l=a[b];l._id=b+a._id,l._height=(s.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=r},C.autoMarginOpts=function(s,n){var i=s._fullLayout,r=n[b],t=n._id.charAt(0),a=0,l=0;return n.side==="bottom"&&(a=n._depth,n.title.text!==i._dfltTitle[t]&&(l=1.5*n.title.font.size+10+r._offsetShift,l+=(n.title.text.match(A.BR_TAG_ALL)||[]).length*n.title.font.size*w)),{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(i.margin.b,l),pad:o.extraPad+2*r._offsetShift}}},49692:function(U,C,e){var k=e(3400),A=e(11200),o=e(10936),w=e(97944);U.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:k.extendFlat({},A,{yaxis:o})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:w.isVisible,makeData:w.makeData,autoMarginOpts:w.autoMarginOpts}},10936:function(U){U.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(U,C,e){var k=e(13916),A=e(52904).line,o=e(98192).u,w=e(92880).extendFlat,b=e(67824).overrideAll,f=e(31780).templatedArray;e(36208),U.exports=b(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:w({},k.xref,{}),yref:w({},k.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:A.color,width:w({},A.width,{min:1,dflt:1}),dash:w({},o,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(U){U.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(U,C,e){var k=e(3400),A=e(54460),o=e(51272),w=e(93956),b=e(65152);function f(s,n,i){function r(E,O){return k.coerce(s,n,w,E,O)}var t=r("path"),a=r("type",t?"path":"rect")!=="path";a&&delete n.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var l=["x","y"],u=0;u<2;u++){var h,c,y,d=l[u],v={_fullLayout:i},g=A.coerceRef(s,n,v,d);if((h=A.getFromId(v,g))._selectionIndices.push(n._index),y=b.rangeToShapePosition(h),c=b.shapePositionToRange(h),a){var x=d+"0",m=d+"1",_=s[x],p=s[m];s[x]=c(s[x],!0),s[m]=c(s[m],!0),A.coercePosition(n,v,r,g,x),A.coercePosition(n,v,r,g,m);var S=n[x],T=n[m];S!==void 0&&T!==void 0&&(n[x]=y(S),n[m]=y(T),s[x]=_,s[m]=p)}}a&&k.noneOrAll(s,n,["x0","x1","y0","y1"])}U.exports=function(s,n){o(s,n,{name:"selections",handleItemDefaults:f});for(var i=n.selections,r=0;r<i.length;r++){var t=i[r];t&&t.path===void 0&&(t.x0!==void 0&&t.x1!==void 0&&t.y0!==void 0&&t.y1!==void 0||(n.selections[r]=null))}}},23640:function(U,C,e){var k=e(9856).readPaths,A=e(55496),o=e(1936).clearOutlineControllers,w=e(76308),b=e(43616),f=e(31780).arrayEditor,s=e(65152),n=s.getPathString;function i(u){var h=u._fullLayout;for(var c in o(u),h._selectionLayer.selectAll("path").remove(),h._plots){var y=h._plots[c].selectionLayer;y&&y.selectAll("path").remove()}for(var d=0;d<h.selections.length;d++)t(u,d)}function r(u){return u._context.editSelection}function t(u,h){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,h),y=c.options,d=c.plotinfo;y._input&&function(v){var g=n(u,y),x={"data-index":h,"fill-rule":"evenodd",d:g},m=y.opacity,_="rgba(0,0,0,0)",p=y.line.color||w.contrast(u._fullLayout.plot_bgcolor),S=y.line.width,T=y.line.dash;S||(S=5,T="solid");var E=r(u)&&u._fullLayout._activeSelectionIndex===h;E&&(_=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var O=[],P=1;P>=0;P--){var I=v.append("path").attr(x).style("opacity",P?.1:m).call(w.stroke,p).call(w.fill,_).call(b.dashLine,P?"solid":T,P?4+S:S);if(a(I,u,y),E){var R=f(u.layout,"selections",y);I.style({cursor:"move"});var H={element:I.node(),plotinfo:d,gd:u,editHelpers:R,isActiveSelection:!0},z=k(g,u);A(z,I,H)}else I.style("pointer-events",P?"all":"none");O[P]=I}var j=O[0];O[1].node().addEventListener("click",function(){return function(Z,F){if(r(Z)){var V=+F.node().getAttribute("data-index");if(V>=0){if(V===Z._fullLayout._activeSelectionIndex)return void l(Z);Z._fullLayout._activeSelectionIndex=V,Z._fullLayout._deactivateSelection=l,i(Z)}}}(u,j)})}(u._fullLayout._selectionLayer)}function a(u,h,c){var y=c.xref+c.yref;b.setClipUrl(u,"clip"+h._fullLayout._uid+y,h)}function l(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(o(u),delete u._fullLayout._activeSelectionIndex,i(u))}U.exports={draw:i,drawOne:t,activateLastSelection:function(u){if(r(u)){var h=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=h,u._fullLayout._deactivateSelection=l,i(u)}}}},34200:function(U,C,e){var k=e(98192).u,A=e(92880).extendFlat;U.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:A({},k,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(U){U.exports=function(C,e,k){k("newselection.mode"),k("newselection.line.width")&&(k("newselection.line.color"),k("newselection.line.dash")),k("activeselection.fillcolor"),k("activeselection.opacity")}},5968:function(U,C,e){var k=e(72760).selectMode,A=e(1936).clearOutline,o=e(9856),w=o.readPaths,b=o.writePaths,f=o.fixDatesForPaths;U.exports=function(s,n){if(s.length){var i=s[0][0];if(i){var r=i.getAttribute("d"),t=n.gd,a=t._fullLayout.newselection,l=n.plotinfo,u=l.xaxis,h=l.yaxis,c=n.isActiveSelection,y=n.dragmode,d=(t.layout||{}).selections||[];if(!k(y)&&c!==void 0){var v=t._fullLayout._activeSelectionIndex;if(v<d.length)switch(t._fullLayout.selections[v].type){case"rect":y="select";break;case"path":y="lasso"}}var g,x=w(r,t,l,c),m={xref:u._id,yref:h._id,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};x.length===1&&(g=x[0]),g&&g.length===5&&y==="select"?(m.type="rect",m.x0=g[0][1],m.y0=g[0][2],m.x1=g[2][1],m.y1=g[2][2]):(m.type="path",u&&h&&f(x,u,h),m.path=b(x),g=null),A(t);for(var _=n.editHelpers,p=(_||{}).modifyItem,S=[],T=0;T<d.length;T++){var E=t._fullLayout.selections[T];if(E){if(S[T]=E._input,c!==void 0&&T===t._fullLayout._activeSelectionIndex){var O=m;switch(E.type){case"rect":p("x0",O.x0),p("x1",O.x1),p("y0",O.y0),p("y1",O.y1);break;case"path":p("path",O.path)}}}else S[T]=E}return c===void 0?(S.push(m),S):_?_.getUpdateObj():{}}}}},5840:function(U,C,e){var k=e(3400).strTranslate;function A(o,w){switch(o.type){case"log":return o.p2d(w);case"date":return o.p2r(w,0,o.calendar);default:return o.p2r(w)}}U.exports={p2r:A,r2p:function(o,w){switch(o.type){case"log":return o.d2p(w);case"date":return o.r2p(w,0,o.calendar);default:return o.r2p(w)}},axValue:function(o){var w=o._id.charAt(0)==="y"?1:0;return function(b){return A(o,b[w])}},getTransform:function(o){return k(o.xaxis._offset,o.yaxis._offset)}}},22676:function(U,C,e){var k=e(23640),A=e(43156);U.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:k.draw,drawOne:k.drawOne,reselect:A.reselect,prepSelect:A.prepSelect,clearOutline:A.clearOutline,clearSelectionsCache:A.clearSelectionsCache,selectOnClick:A.selectOnClick}},43156:function(U,C,e){var k=e(14756),A=e(61456),o=e(24040),w=e(43616).dashStyle,b=e(76308),f=e(93024),s=e(10624).makeEventData,n=e(72760),i=n.freeMode,r=n.rectMode,t=n.drawMode,a=n.openMode,l=n.selectMode,u=e(65152),h=e(85448),c=e(55496),y=e(1936).clearOutline,d=e(9856),v=d.handleEllipse,g=d.readPaths,x=e(93940).newShapes,m=e(5968),_=e(23640).activateLastSelection,p=e(3400),S=p.sorterAsc,T=e(92065),E=e(91200),O=e(79811).getFromId,P=e(73696),I=e(39172).redrawReglTraces,R=e(83280),H=R.MINSELECT,z=T.filter,j=T.tester,Z=e(5840),F=Z.p2r,V=Z.axValue,W=Z.getTransform;function re(Fe){return Fe.subplot!==void 0}function ne(Fe,ge,Te,Se,Re,Pe,Ve){var We,Qe,lt,ut,xt,_t,mt,it,nt,Et=ge._hoverdata,Rt=ge._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Je){return Je&&Array.isArray(Je)&&Je[0].hoverOnBox!==!0}(Et)){K(Fe,ge,Pe);var Pt=function(Je,ft){var ot,je,Ue=Je[0],st=-1,Ke=[];for(je=0;je<ft.length;je++)if(ot=ft[je],Ue.fullData._expandedIndex===ot.cd[0].trace._expandedIndex){if(Ue.hoverOnBox===!0)break;Ue.pointNumber!==void 0?st=Ue.pointNumber:Ue.binNumber!==void 0&&(st=Ue.binNumber,Ke=Ue.pointNumbers);break}return{pointNumber:st,pointNumbers:Ke,searchInfo:ot}}(Et,We=se(ge,Te,Se,Re));if(Pt.pointNumbers.length>0?function(Je,ft){var ot,je,Ue,st=[];for(Ue=0;Ue<Je.length;Ue++)(ot=Je[Ue]).cd[0].trace.selectedpoints&&ot.cd[0].trace.selectedpoints.length>0&&st.push(ot);if(st.length===1&&st[0]===ft.searchInfo&&(je=ft.searchInfo.cd[0].trace).selectedpoints.length===ft.pointNumbers.length){for(Ue=0;Ue<ft.pointNumbers.length;Ue++)if(je.selectedpoints.indexOf(ft.pointNumbers[Ue])<0)return!1;return!0}return!1}(We,Pt):function(Je){var ft,ot,je=0;for(ot=0;ot<Je.length;ot++)if((ft=Je[ot].cd[0].trace).selectedpoints&&(ft.selectedpoints.length>1||(je+=ft.selectedpoints.length)>1))return!1;return je===1}(We)&&(_t=pe(Pt))){for(Ve&&Ve.remove(),nt=0;nt<We.length;nt++)(Qe=We[nt])._module.selectPoints(Qe,!1);de(ge,We),ae(Pe),Rt&&ze(ge)}else{for(mt=Fe.shiftKey&&(_t!==void 0?_t:pe(Pt)),lt=function(Je,ft,ot){return{pointNumber:Je,searchInfo:ft,subtract:!!ot}}(Pt.pointNumber,Pt.searchInfo,mt),ut=$(Pe.selectionDefs.concat([lt])),nt=0;nt<We.length;nt++)if(xt=_e(We[nt]._module.selectPoints(We[nt],ut),We[nt]),Ft.length)for(var Ze=0;Ze<xt.length;Ze++)Ft.push(xt[Ze]);else Ft=xt;if(de(ge,We,it={points:Ft}),lt&&Pe&&Pe.selectionDefs.push(lt),Ve){var $e=Pe.mergedPolygons,He=a(Pe.dragmode);c(be($e,He),Ve,Pe)}Rt&&Ee(ge,it)}}}function te(Fe){return"pointNumber"in Fe&&"searchInfo"in Fe}function Q(Fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ge,Te,Se,Re){var Pe=Fe.searchInfo.cd[0].trace._expandedIndex;return Re.cd[0].trace._expandedIndex===Pe&&Se===Fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Fe.subtract}}function $(Fe){if(Fe.length){for(var ge=[],Te=te(Fe[0])?0:Fe[0][0][0],Se=Te,Re=te(Fe[0])?0:Fe[0][0][1],Pe=Re,Ve=0;Ve<Fe.length;Ve++)if(te(Fe[Ve]))ge.push(Q(Fe[Ve]));else{var We=j(Fe[Ve]);We.subtract=!!Fe[Ve].subtract,ge.push(We),Te=Math.min(Te,We.xmin),Se=Math.max(Se,We.xmax),Re=Math.min(Re,We.ymin),Pe=Math.max(Pe,We.ymax)}return{xmin:Te,xmax:Se,ymin:Re,ymax:Pe,pts:[],contains:function(Qe,lt,ut,xt){for(var _t=!1,mt=0;mt<ge.length;mt++)ge[mt].contains(Qe,lt,ut,xt)&&(_t=!ge[mt].subtract);return _t},isRect:!1,degenerate:!1}}}function K(Fe,ge,Te){var Se=ge._fullLayout,Re=Te.plotinfo,Pe=Te.dragmode,Ve=Se._lastSelectedSubplot&&Se._lastSelectedSubplot===Re.id,We=(Fe.shiftKey||Fe.altKey)&&!(t(Pe)&&a(Pe));Ve&&We&&Re.selection&&Re.selection.selectionDefs&&!Te.selectionDefs?(Te.selectionDefs=Re.selection.selectionDefs,Te.mergedPolygons=Re.selection.mergedPolygons):We&&Re.selection||ae(Te),Ve||(y(ge),Se._lastSelectedSubplot=Re.id)}function ae(Fe,ge){var Te=Fe.dragmode,Se=Fe.plotinfo,Re=Fe.gd;(function(xt){return xt._fullLayout._activeShapeIndex>=0})(Re)&&Re._fullLayout._deactivateShape(Re),function(xt){return xt._fullLayout._activeSelectionIndex>=0}(Re)&&Re._fullLayout._deactivateSelection(Re);var Pe=Re._fullLayout._zoomlayer,Ve=t(Te),We=l(Te);if(Ve||We){var Qe,lt,ut=Pe.selectAll(".select-outline-"+Se.id);ut&&Re._fullLayout._outlining&&(Ve&&(Qe=x(ut,Fe)),Qe&&o.call("_guiRelayout",Re,{shapes:Qe}),We&&!re(Fe)&&(lt=m(ut,Fe)),lt&&(Re._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",Re,{selections:lt}).then(function(){ge&&_(Re)})),Re._fullLayout._outlining=!1)}Se.selection={},Se.selection.selectionDefs=Fe.selectionDefs=[],Se.selection.mergedPolygons=Fe.mergedPolygons=[]}function ue(Fe){return Fe._id}function se(Fe,ge,Te,Se){if(!Fe.calcdata)return[];var Re,Pe,Ve,We=[],Qe=ge.map(ue),lt=Te.map(ue);for(Ve=0;Ve<Fe.calcdata.length;Ve++)if((Pe=(Re=Fe.calcdata[Ve])[0].trace).visible===!0&&Pe._module&&Pe._module.selectPoints)if(!re({subplot:Se})||Pe.subplot!==Se&&Pe.geo!==Se)if(Pe.type==="splom"){if(Pe._xaxes[Qe[0]]&&Pe._yaxes[lt[0]]){var ut=he(Pe._module,Re,ge[0],Te[0]);ut.scene=Fe._fullLayout._splomScenes[Pe.uid],We.push(ut)}}else if(Pe.type==="sankey"){var xt=he(Pe._module,Re,ge[0],Te[0]);We.push(xt)}else{if(!(Qe.indexOf(Pe.xaxis)!==-1||Pe._xA&&Pe._xA.overlaying)||!(lt.indexOf(Pe.yaxis)!==-1||Pe._yA&&Pe._yA.overlaying))continue;We.push(he(Pe._module,Re,O(Fe,Pe.xaxis),O(Fe,Pe.yaxis)))}else We.push(he(Pe._module,Re,ge[0],Te[0]));return We}function he(Fe,ge,Te,Se){return{_module:Fe,cd:ge,xaxis:Te,yaxis:Se}}function pe(Fe){var ge=Fe.searchInfo.cd[0].trace,Te=Fe.pointNumber,Se=Fe.pointNumbers,Re=Se.length>0?Se[0]:Te;return!!ge.selectedpoints&&ge.selectedpoints.indexOf(Re)>-1}function de(Fe,ge,Te){var Se,Re;for(Se=0;Se<ge.length;Se++){var Pe=ge[Se].cd[0].trace._fullInput,Ve=Fe._fullLayout._tracePreGUI[Pe.uid]||{};Ve.selectedpoints===void 0&&(Ve.selectedpoints=Pe._input.selectedpoints||null)}if(Te){var We=Te.points||[];for(Se=0;Se<ge.length;Se++)(Re=ge[Se].cd[0].trace)._input.selectedpoints=Re._fullInput.selectedpoints=[],Re._fullInput!==Re&&(Re.selectedpoints=[]);for(var Qe=0;Qe<We.length;Qe++){var lt=We[Qe],ut=lt.data,xt=lt.fullData,_t=lt.pointIndex,mt=lt.pointIndices;mt?([].push.apply(ut.selectedpoints,mt),Re._fullInput!==Re&&[].push.apply(xt.selectedpoints,mt)):(ut.selectedpoints.push(_t),Re._fullInput!==Re&&xt.selectedpoints.push(_t))}}else for(Se=0;Se<ge.length;Se++)delete(Re=ge[Se].cd[0].trace).selectedpoints,delete Re._input.selectedpoints,Re._fullInput!==Re&&delete Re._fullInput.selectedpoints;(function(it,nt){for(var Et=!1,Rt=0;Rt<nt.length;Rt++){var Ft=nt[Rt],Pt=Ft.cd;o.traceIs(Pt[0].trace,"regl")&&(Et=!0);var Ze=Ft._module,$e=Ze.styleOnSelect||Ze.style;$e&&($e(it,Pt,Pt[0].node3),Pt[0].nodeRangePlot3&&$e(it,Pt,Pt[0].nodeRangePlot3))}Et&&(P(it),I(it))})(Fe,ge)}function xe(Fe,ge,Te){for(var Se=(Te?k.difference:k.union)({regions:Fe},{regions:[ge]}).regions.reverse(),Re=0;Re<Se.length;Re++){var Pe=Se[Re];Pe.subtract=ve(Pe,Se.slice(0,Re))}return Se}function _e(Fe,ge){if(Array.isArray(Fe))for(var Te=ge.cd,Se=ge.cd[0].trace,Re=0;Re<Fe.length;Re++)Fe[Re]=s(Fe[Re],Se,Te);return Fe}function be(Fe,ge){for(var Te=[],Se=0;Se<Fe.length;Se++){Te[Se]=[];for(var Re=0;Re<Fe[Se].length;Re++){Te[Se][Re]=[],Te[Se][Re][0]=Re?"L":"M";for(var Pe=0;Pe<Fe[Se][Re].length;Pe++)Te[Se][Re].push(Fe[Se][Re][Pe])}ge||Te[Se].push(["Z",Te[Se][0][1],Te[Se][0][2]])}return Te}function Le(Fe,ge){for(var Te,Se,Re=[],Pe=[],Ve=0;Ve<ge.length;Ve++){var We=ge[Ve];Se=We._module.selectPoints(We,Fe),Pe.push(Se),Te=_e(Se,We),Re=Re.concat(Te)}return Re}function De(Fe,ge,Te,Se,Re){var Pe,Ve,We,Qe=!!Se;Re&&(Pe=Re.plotinfo,Ve=Re.xaxes[0]._id,We=Re.yaxes[0]._id);var lt=[],ut=[],xt=oe(Fe),_t=Fe._fullLayout;if(Pe){var mt=_t._zoomlayer,it=_t.dragmode,nt=t(it),Et=l(it);if(nt||Et){var Rt=O(Fe,Ve,"x"),Ft=O(Fe,We,"y");if(Rt&&Ft){var Pt=mt.selectAll(".select-outline-"+Pe.id);if(Pt&&Fe._fullLayout._outlining&&Pt.length){for(var Ze=Pt[0][0].getAttribute("d"),$e=g(Ze,Fe,Pe),He=[],Je=0;Je<$e.length;Je++){for(var ft=$e[Je],ot=[],je=0;je<ft.length;je++)ot.push([Ce(Rt,ft[je][1]),Ce(Ft,ft[je][2])]);ot.xref=Ve,ot.yref=We,ot.subtract=ve(ot,He),He.push(ot)}xt=xt.concat(He)}}}}var Ue=Ve&&We?[Ve+We]:_t._subplots.cartesian;(function(Pn){var On=Pn.calcdata;if(On)for(var En=0;En<On.length;En++){var Vn=On[En][0].trace,Fn=Pn._fullLayout._splomScenes;if(Fn){var Wn=Fn[Vn.uid];Wn&&(Wn.selectBatch=[])}}})(Fe);for(var st={},Ke=0;Ke<Ue.length;Ke++){var gt=Ue[Ke],yt=gt.indexOf("y"),bt=gt.slice(0,yt),dt=gt.slice(yt),Lt=Ve&&We?Te:void 0;if(Lt=le(xt,bt,dt,Lt)){var wt=Se;if(!Qe){var Ct=O(Fe,bt,"x"),zt=O(Fe,dt,"y");wt=se(Fe,[Ct],[zt],gt);for(var Dt=0;Dt<wt.length;Dt++){var Nt=wt[Dt],Kt=Nt.cd[0],un=Kt.trace;if(Nt._module.name==="scattergl"&&!Kt.t.xpx){var qt=un.x,Jt=un.y,Ut=un._length;Kt.t.xpx=[],Kt.t.ypx=[];for(var zn=0;zn<Ut;zn++)Kt.t.xpx[zn]=Ct.c2p(qt[zn]),Kt.t.ypx[zn]=zt.c2p(Jt[zn])}Nt._module.name==="splom"&&(st[un.uid]||(st[un.uid]=!0))}}var An=Le(Lt,wt);lt=lt.concat(An),ut=ut.concat(wt)}}var mn={points:lt};de(Fe,ut,mn);var tn=_t.clickmode.indexOf("event")>-1&&ge;if(!Pe&&ge){var fn=oe(Fe,!0);if(fn.length){var rn=fn[0].xref,pn=fn[0].yref;if(rn&&pn){var wn=ke(fn);Ae([O(Fe,rn,"x"),O(Fe,pn,"y")])(mn,wn)}}Fe._fullLayout._noEmitSelectedAtStart?Fe._fullLayout._noEmitSelectedAtStart=!1:tn&&Ee(Fe,mn),_t._reselect=!1}if(!Pe&&_t._deselect){var kn=_t._deselect;(function(Pn,On,En){for(var Vn=0;Vn<En.length;Vn++){var Fn=En[Vn];if(Fn.xaxis&&Fn.xaxis._id===Pn&&Fn.yaxis&&Fn.yaxis._id===On)return!0}return!1})(Ve=kn.xref,We=kn.yref,ut)||ye(Fe,Ve,We,Se),tn&&(mn.points.length?Ee(Fe,mn):ze(Fe)),_t._deselect=!1}return{eventData:mn,selectionTesters:Te}}function ye(Fe,ge,Te,Se){Se=se(Fe,[O(Fe,ge,"x")],[O(Fe,Te,"y")],ge+Te);for(var Re=0;Re<Se.length;Re++){var Pe=Se[Re];Pe._module.selectPoints(Pe,!1)}de(Fe,Se)}function le(Fe,ge,Te,Se){for(var Re,Pe=0;Pe<Fe.length;Pe++){var Ve=Fe[Pe];ge===Ve.xref&&Te===Ve.yref&&(Re?Se=$(Re=xe(Re,Ve,!!Ve.subtract)):(Re=[Ve],Se=j(Ve)))}return Se}function oe(Fe,ge){for(var Te=[],Se=Fe._fullLayout,Re=Se.selections,Pe=Re.length,Ve=0;Ve<Pe;Ve++)if(!ge||Ve===Se._activeSelectionIndex){var We=Re[Ve];if(We){var Qe,lt,ut,xt,_t,mt=We.xref,it=We.yref,nt=O(Fe,mt,"x"),Et=O(Fe,it,"y");if(We.type==="rect"){_t=[];var Rt=Ce(nt,We.x0),Ft=Ce(nt,We.x1),Pt=Ce(Et,We.y0),Ze=Ce(Et,We.y1);_t=[[Rt,Pt],[Rt,Ze],[Ft,Ze],[Ft,Pt]],Qe=Math.min(Rt,Ft),lt=Math.max(Rt,Ft),ut=Math.min(Pt,Ze),xt=Math.max(Pt,Ze),_t.xmin=Qe,_t.xmax=lt,_t.ymin=ut,_t.ymax=xt,_t.xref=mt,_t.yref=it,_t.subtract=!1,_t.isRect=!0,Te.push(_t)}else if(We.type==="path")for(var $e=We.path.split("Z"),He=[],Je=0;Je<$e.length;Je++){var ft=$e[Je];if(ft){ft+="Z";var ot=u.extractPathCoords(ft,h.paramIsX,"raw"),je=u.extractPathCoords(ft,h.paramIsY,"raw");Qe=1/0,lt=-1/0,ut=1/0,xt=-1/0,_t=[];for(var Ue=0;Ue<ot.length;Ue++){var st=Ce(nt,ot[Ue]),Ke=Ce(Et,je[Ue]);_t.push([st,Ke]),Qe=Math.min(st,Qe),lt=Math.max(st,lt),ut=Math.min(Ke,ut),xt=Math.max(Ke,xt)}_t.xmin=Qe,_t.xmax=lt,_t.ymin=ut,_t.ymax=xt,_t.xref=mt,_t.yref=it,_t.subtract=ve(_t,He),He.push(_t),Te.push(_t)}}}}return Te}function ve(Fe,ge){for(var Te=!1,Se=0;Se<ge.length;Se++)for(var Re=ge[Se],Pe=0;Pe<Fe.length;Pe++)if(A(Fe[Pe],Re)){Te=!Te;break}return Te}function Ce(Fe,ge){return Fe.type==="date"&&(ge=ge.replace("_"," ")),Fe.type==="log"?Fe.c2p(ge):Fe.r2p(ge,null,Fe.calendar)}function ke(Fe){for(var ge=Fe.length,Te=[],Se=0;Se<ge;Se++){var Re=Fe[Se];Te=(Te=Te.concat(Re)).concat([Re[0]])}return(Pe=Te).isRect=Pe.length===5&&Pe[0][0]===Pe[4][0]&&Pe[0][1]===Pe[4][1]&&Pe[0][0]===Pe[1][0]&&Pe[2][0]===Pe[3][0]&&Pe[0][1]===Pe[3][1]&&Pe[1][1]===Pe[2][1]||Pe[0][1]===Pe[1][1]&&Pe[2][1]===Pe[3][1]&&Pe[0][0]===Pe[3][0]&&Pe[1][0]===Pe[2][0],Pe.isRect&&(Pe.xmin=Math.min(Pe[0][0],Pe[2][0]),Pe.xmax=Math.max(Pe[0][0],Pe[2][0]),Pe.ymin=Math.min(Pe[0][1],Pe[2][1]),Pe.ymax=Math.max(Pe[0][1],Pe[2][1])),Pe;var Pe}function Ae(Fe){return function(ge,Te){for(var Se,Re,Pe=0;Pe<Fe.length;Pe++){var Ve=Fe[Pe],We=Ve._id,Qe=We.charAt(0);if(Te.isRect){Se||(Se={});var lt=Te[Qe+"min"],ut=Te[Qe+"max"];lt!==void 0&&ut!==void 0&&(Se[We]=[F(Ve,lt),F(Ve,ut)].sort(S))}else Re||(Re={}),Re[We]=Te.map(V(Ve))}Se&&(ge.range=Se),Re&&(ge.lassoPoints=Re)}}function Ee(Fe,ge){ge&&(ge.selections=(Fe.layout||{}).selections||[]),Fe.emit("plotly_selected",ge)}function ze(Fe){Fe.emit("plotly_deselect",null)}U.exports={reselect:De,prepSelect:function(Fe,ge,Te,Se,Re){var Pe=!re(Se),Ve=i(Re),We=r(Re),Qe=a(Re),lt=t(Re),ut=l(Re),xt=Re==="drawcircle",_t=Re==="drawline"||xt,mt=Se.gd,it=mt._fullLayout,nt=ut&&it.newselection.mode==="immediate"&&Pe,Et=it._zoomlayer,Rt=Se.element.getBoundingClientRect(),Ft=Se.plotinfo,Pt=W(Ft),Ze=ge-Rt.left,$e=Te-Rt.top;it._calcInverseTransform(mt);var He=p.apply3DTransform(it._invTransform)(Ze,$e);Ze=He[0],$e=He[1];var Je,ft,ot,je,Ue,st,Ke,gt=it._invScaleX,yt=it._invScaleY,bt=Ze,dt=$e,Lt="M"+Ze+","+$e,wt=Se.xaxes[0],Ct=Se.yaxes[0],zt=wt._length,Dt=Ct._length,Nt=Fe.altKey&&!(t(Re)&&Qe);K(Fe,mt,Se),Ve&&(Je=z([[Ze,$e]],R.BENDPX));var Kt=Et.selectAll("path.select-outline-"+Ft.id).data([1]),un=lt?it.newshape:it.newselection;lt&&(Se.hasText=un.label.text||un.label.texttemplate);var qt=lt&&!Qe?un.fillcolor:"rgba(0,0,0,0)",Jt=un.line.color||(Pe?b.contrast(mt._fullLayout.plot_bgcolor):"#7f7f7f");Kt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:lt?un.opacity/2:1,"stroke-dasharray":w(un.line.dash,un.line.width),"stroke-width":un.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Jt).call(b.fill,qt).attr("fill-rule","evenodd").classed("cursor-move",!!lt).attr("transform",Pt).attr("d",Lt+"Z");var Ut=Et.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Pt).attr("d","M0,0Z");if(lt&&Se.hasText){var zn=Et.select(".label-temp");zn.empty()&&(zn=Et.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var An=it._uid+R.SELECTID,mn=[],tn=se(mt,Se.xaxes,Se.yaxes,Se.subplot);nt&&!Fe.shiftKey&&(Se._clearSubplotSelections=function(){if(Pe){var rn=wt._id,pn=Ct._id;ye(mt,rn,pn,tn);for(var wn=(mt.layout||{}).selections||[],kn=[],Pn=!1,On=0;On<wn.length;On++){var En=it.selections[On];En.xref!==rn||En.yref!==pn?kn.push(wn[On]):Pn=!0}Pn&&(mt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",mt,{selections:kn}))}});var fn=function(rn){return rn.plotinfo.fillRangeItems||Ae(rn.xaxes.concat(rn.yaxes))}(Se);Se.moveFn=function(rn,pn){Se._clearSubplotSelections&&(Se._clearSubplotSelections(),Se._clearSubplotSelections=void 0),bt=Math.max(0,Math.min(zt,gt*rn+Ze)),dt=Math.max(0,Math.min(Dt,yt*pn+$e));var wn=Math.abs(bt-Ze),kn=Math.abs(dt-$e);if(We){var Pn,On,En;if(ut){var Vn=it.selectdirection;switch(Pn=Vn==="any"?kn<Math.min(.6*wn,H)?"h":wn<Math.min(.6*kn,H)?"v":"d":Vn){case"h":On=xt?Dt/2:0,En=Dt;break;case"v":On=xt?zt/2:0,En=zt}}if(lt)switch(it.newshape.drawdirection){case"vertical":Pn="h",On=xt?Dt/2:0,En=Dt;break;case"horizontal":Pn="v",On=xt?zt/2:0,En=zt;break;case"ortho":wn<kn?(Pn="h",On=$e,En=dt):(Pn="v",On=Ze,En=bt);break;default:Pn="d"}Pn==="h"?((je=_t?v(xt,[bt,On],[bt,En]):[[Ze,On],[Ze,En],[bt,En],[bt,On]]).xmin=_t?bt:Math.min(Ze,bt),je.xmax=_t?bt:Math.max(Ze,bt),je.ymin=Math.min(On,En),je.ymax=Math.max(On,En),Ut.attr("d","M"+je.xmin+","+($e-H)+"h-4v"+2*H+"h4ZM"+(je.xmax-1)+","+($e-H)+"h4v"+2*H+"h-4Z")):Pn==="v"?((je=_t?v(xt,[On,dt],[En,dt]):[[On,$e],[On,dt],[En,dt],[En,$e]]).xmin=Math.min(On,En),je.xmax=Math.max(On,En),je.ymin=_t?dt:Math.min($e,dt),je.ymax=_t?dt:Math.max($e,dt),Ut.attr("d","M"+(Ze-H)+","+je.ymin+"v-4h"+2*H+"v4ZM"+(Ze-H)+","+(je.ymax-1)+"v4h"+2*H+"v-4Z")):Pn==="d"&&((je=_t?v(xt,[Ze,$e],[bt,dt]):[[Ze,$e],[Ze,dt],[bt,dt],[bt,$e]]).xmin=Math.min(Ze,bt),je.xmax=Math.max(Ze,bt),je.ymin=Math.min($e,dt),je.ymax=Math.max($e,dt),Ut.attr("d","M0,0Z"))}else Ve&&(Je.addPt([bt,dt]),je=Je.filtered);if(Se.selectionDefs&&Se.selectionDefs.length?(ot=xe(Se.mergedPolygons,je,Nt),je.subtract=Nt,ft=$(Se.selectionDefs.concat([je]))):(ot=[je],ft=j(je)),c(be(ot,Qe),Kt,Se),ut){var Fn,Wn=De(mt,!1),rr=Wn.eventData?Wn.eventData.points.slice():[];Wn=De(mt,!1,ft,tn,Se),ft=Wn.selectionTesters,Ke=Wn.eventData,Fn=Je?Je.filtered:ke(ot),E.throttle(An,R.SELECTDELAY,function(){for(var ir=(mn=Le(ft,tn)).slice(),Jn=0;Jn<rr.length;Jn++){for(var dr=rr[Jn],nn=!1,an=0;an<ir.length;an++)if(ir[an].curveNumber===dr.curveNumber&&ir[an].pointNumber===dr.pointNumber){nn=!0;break}nn||ir.push(dr)}ir.length&&(Ke||(Ke={}),Ke.points=ir),fn(Ke,Fn),function(In,yn){In.emit("plotly_selecting",yn)}(mt,Ke)})}},Se.clickFn=function(rn,pn){if(Ut.remove(),mt._fullLayout._activeShapeIndex>=0)mt._fullLayout._deactivateShape(mt);else if(!lt){var wn=it.clickmode;E.done(An).then(function(){if(E.clear(An),rn===2){for(Kt.remove(),Ue=0;Ue<tn.length;Ue++)(st=tn[Ue])._module.selectPoints(st,!1);if(de(mt,tn),ae(Se),ze(mt),tn.length){var kn=tn[0].xaxis,Pn=tn[0].yaxis;if(kn&&Pn){for(var On=[],En=mt._fullLayout.selections,Vn=0;Vn<En.length;Vn++){var Fn=En[Vn];Fn&&(Fn.xref===kn._id&&Fn.yref===Pn._id||On.push(Fn))}On.length<En.length&&(mt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",mt,{selections:On}))}}}else wn.indexOf("select")>-1&&ne(pn,mt,Se.xaxes,Se.yaxes,Se.subplot,Se,Kt),wn==="event"&&Ee(mt,void 0);f.click(mt,pn,Ft.id)}).catch(p.error)}},Se.doneFn=function(){Ut.remove(),E.done(An).then(function(){E.clear(An),!nt&&je&&Se.selectionDefs&&(je.subtract=Nt,Se.selectionDefs.push(je),Se.mergedPolygons.length=0,[].push.apply(Se.mergedPolygons,ot)),(nt||lt)&&ae(Se,nt),Se.doneFnCompleted&&Se.doneFnCompleted(mn),ut&&Ee(mt,Ke)}).catch(p.error)}},clearOutline:y,clearSelectionsCache:ae,selectOnClick:ne}},46056:function(U,C,e){var k=e(13916),A=e(25376),o=e(52904).line,w=e(98192).u,b=e(92880).extendFlat,f=e(31780).templatedArray,s=(e(36208),e(45464)),n=e(21776).ye,i=e(97728);U.exports=f("shape",{visible:b({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},s.legend,{editType:"calc+arraydraw"}),legendgroup:b({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:A({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:b({},k.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},k.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},o.color,{editType:"arraydraw"}),width:b({},o.width,{editType:"calc+arraydraw"}),dash:b({},w,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:n({},{keys:Object.keys(i)}),font:A({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(U,C,e){var k=e(3400),A=e(54460),o=e(85448),w=e(65152);function b(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function f(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,r,t,a,l,u){var h=i/2,c=u;if(r==="pixel"){var y=l?w.extractPathCoords(l,u?o.paramIsY:o.paramIsX):[t,a],d=k.aggNums(Math.max,null,y),v=k.aggNums(Math.min,null,y),g=v<0?Math.abs(v)+h:h,x=d>0?d+h:h;return{ppad:h,ppadplus:c?g:x,ppadminus:c?x:g}}return{ppad:h}}function n(i,r,t,a,l){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(r!==void 0)return[u(r),u(t)];if(a){var h,c,y,d,v=1/0,g=-1/0,x=a.match(o.segmentRE);for(i.type==="date"&&(u=w.decodeDate(u)),h=0;h<x.length;h++)(c=l[x[h].charAt(0)].drawn)!==void 0&&(!(y=x[h].substr(1).match(o.paramRE))||y.length<c||((d=u(y[c]))<v&&(v=d),d>g&&(g=d)));return g>=v?[v,g]:void 0}}U.exports=function(i){var r=i._fullLayout,t=k.filterVisible(r.shapes);if(t.length&&i._fullData.length)for(var a=0;a<t.length;a++){var l,u,h=t[a];h._extremes={};var c=A.getRefType(h.xref),y=A.getRefType(h.yref);if(h.xref!=="paper"&&c!=="domain"){var d=h.xsizemode==="pixel"?h.xanchor:h.x0,v=h.xsizemode==="pixel"?h.xanchor:h.x1;(u=n(l=A.getFromId(i,h.xref),d,v,h.path,o.paramIsX))&&(h._extremes[l._id]=A.findExtremes(l,u,b(h)))}if(h.yref!=="paper"&&y!=="domain"){var g=h.ysizemode==="pixel"?h.yanchor:h.y0,x=h.ysizemode==="pixel"?h.yanchor:h.y1;(u=n(l=A.getFromId(i,h.yref),g,x,h.path,o.paramIsY))&&(h._extremes[l._id]=A.findExtremes(l,u,f(h)))}}}},85448:function(U){U.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(U,C,e){var k=e(3400),A=e(54460),o=e(51272),w=e(46056),b=e(65152);function f(s,n,i){function r(Z,F){return k.coerce(s,n,w,Z,F)}if(n._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),k.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var t=r("path"),a=r("type",t?"path":"rect"),l=a!=="path";l&&delete n.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),h=r("ysizemode"),c=["x","y"],y=0;y<2;y++){var d,v,g,x=c[y],m=x+"anchor",_=x==="x"?u:h,p={_fullLayout:i},S=A.coerceRef(s,n,p,x,void 0,"paper");if(A.getRefType(S)==="range"?((d=A.getFromId(p,S))._shapeIndices.push(n._index),g=b.rangeToShapePosition(d),v=b.shapePositionToRange(d)):v=g=k.identity,l){var T=x+"0",E=x+"1",O=s[T],P=s[E];s[T]=v(s[T],!0),s[E]=v(s[E],!0),_==="pixel"?(r(T,0),r(E,10)):(A.coercePosition(n,p,r,S,T,.25),A.coercePosition(n,p,r,S,E,.75)),n[T]=g(n[T]),n[E]=g(n[E]),s[T]=O,s[E]=P}if(_==="pixel"){var I=s[m];s[m]=v(s[m],!0),A.coercePosition(n,p,r,S,m,.25),n[m]=g(n[m]),s[m]=I}}l&&k.noneOrAll(s,n,["x0","x1","y0","y1"]);var R,H,z=a==="line";if(l&&(R=r("label.texttemplate")),R||(H=r("label.text")),H||R){r("label.textangle");var j=r("label.textposition",z?"middle":"middle center");r("label.xanchor"),r("label.yanchor",function(Z,F){return Z?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(z,j)),r("label.padding"),k.coerceFont(r,"label.font",i.font)}}}U.exports=function(s,n){o(s,n,{name:"shapes",handleItemDefaults:f})}},60728:function(U,C,e){var k=e(3400),A=e(54460),o=e(72736),w=e(43616),b=e(9856).readPaths,f=e(65152),s=f.getPathString,n=e(97728),i=e(84284).FROM_TL;U.exports=function(r,t,a,l){if(l.selectAll(".shape-label").remove(),a.label.text||a.label.texttemplate){var u;if(a.label.texttemplate){var h={};if(a.type!=="path"){var c=A.getFromId(r,a.xref),y=A.getFromId(r,a.yref);for(var d in n){var v=n[d](a,c,y);v!==void 0&&(h[d]=v)}}u=k.texttemplateStringForShapes(a.label.texttemplate,{},r._fullLayout._d3locale,h)}else u=a.label.text;var g,x,m,_,p={"data-index":t},S=a.label.font,T=l.append("g").attr(p).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(a.path){var E=s(r,a),O=b(E,r);g=1/0,m=1/0,x=-1/0,_=-1/0;for(var P=0;P<O.length;P++)for(var I=0;I<O[P].length;I++)for(var R=O[P][I],H=1;H<R.length;H+=2){var z=R[H],j=R[H+1];g=Math.min(g,z),x=Math.max(x,z),m=Math.min(m,j),_=Math.max(_,j)}}else{var Z=A.getFromId(r,a.xref),F=A.getRefType(a.xref),V=A.getFromId(r,a.yref),W=A.getRefType(a.yref),re=f.getDataToPixel(r,Z,!1,F),ne=f.getDataToPixel(r,V,!0,W);g=re(a.x0),x=re(a.x1),m=ne(a.y0),_=ne(a.y1)}var te=a.label.textangle;te==="auto"&&(te=a.type==="line"?function(ue,se,he,pe){var de,xe;return xe=Math.abs(he-ue),de=he>=ue?se-pe:pe-se,-180/Math.PI*Math.atan2(de,xe)}(g,m,x,_):0),T.call(function(ue){return ue.call(w.font,S).attr({}),o.convertToTspans(ue,r),ue});var Q=function(ue,se,he,pe,de,xe,_e){var be,Le,De,ye,le=de.label.textposition,oe=de.label.textangle,ve=de.label.padding,Ce=de.type,ke=Math.PI/180*xe,Ae=Math.sin(ke),Ee=Math.cos(ke),ze=de.label.xanchor,Fe=de.label.yanchor;if(Ce==="line"){le==="start"?(be=ue,Le=se):le==="end"?(be=he,Le=pe):(be=(ue+he)/2,Le=(se+pe)/2),ze==="auto"&&(ze=le==="start"?oe==="auto"?he>ue?"left":he<ue?"right":"center":he>ue?"right":he<ue?"left":"center":le==="end"?oe==="auto"?he>ue?"right":he<ue?"left":"center":he>ue?"left":he<ue?"right":"center":"center");var ge={bottom:-1,middle:0,top:1};if(oe==="auto"){var Te=ge[Fe];De=-ve*Ae*Te,ye=ve*Ee*Te}else De=ve*{left:1,center:0,right:-1}[ze],ye=ve*ge[Fe];be+=De,Le+=ye}else De=ve+3,le.indexOf("right")!==-1?(be=Math.max(ue,he)-De,ze==="auto"&&(ze="right")):le.indexOf("left")!==-1?(be=Math.min(ue,he)+De,ze==="auto"&&(ze="left")):(be=(ue+he)/2,ze==="auto"&&(ze="center")),Le=le.indexOf("top")!==-1?Math.min(se,pe):le.indexOf("bottom")!==-1?Math.max(se,pe):(se+pe)/2,ye=ve,Fe==="bottom"?Le-=ye:Fe==="top"&&(Le+=ye);var Se=i[Fe],Re=de.label.font.size,Pe=_e.height;return{textx:be+(Pe*Se-Re)*Ae,texty:Le+-(Pe*Se-Re)*Ee,xanchor:ze}}(g,m,x,_,a,te,w.bBox(T.node())),$=Q.textx,K=Q.texty,ae=Q.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ae],y:K,x:$,transform:"rotate("+te+","+$+","+K+")"}).call(o.positionText,$,K)}}},55496:function(U,C,e){var k=e(3400).strTranslate,A=e(86476),o=e(72760),w=o.drawMode,b=o.selectMode,f=e(24040),s=e(76308),n=e(7e3),i=n.i000,r=n.i090,t=n.i180,a=n.i270,l=e(1936).clearOutlineControllers,u=e(9856),h=u.pointsOnRectangle,c=u.pointsOnEllipse,y=u.writePaths,d=e(93940).newShapes,v=e(93940).createShapeObj,g=e(5968),x=e(60728);function m(_,p){var S,T,E,O=_[p][1],P=_[p][2],I=_.length;return T=_[S=(p+1)%I][1],E=_[S][2],T===O&&E===P&&(T=_[S=(p+2)%I][1],E=_[S][2]),[S,T,E]}U.exports=function _(p,S,T,E){E||(E=0);var O=T.gd;function P(){_(p,S,T,E++),(c(p[0])||T.hasText)&&I({redrawing:!0})}function I(de){var xe={};T.isActiveShape!==void 0&&(T.isActiveShape=!1,xe=d(S,T)),T.isActiveSelection!==void 0&&(T.isActiveSelection=!1,xe=g(S,T),O._fullLayout._reselect=!0),Object.keys(xe).length&&f.call((de||{}).redrawing?"relayout":"_guiRelayout",O,xe)}var R,H,z,j,Z,F=O._fullLayout._zoomlayer,V=T.dragmode,W=w(V),re=b(V);if((W||re)&&(O._fullLayout._outlining=!0),l(O),S.attr("d",y(p)),E||!T.isActiveShape&&!T.isActiveSelection||(Z=function(de,xe){for(var _e=0;_e<xe.length;_e++){var be=xe[_e];de[_e]=[];for(var Le=0;Le<be.length;Le++){de[_e][Le]=[];for(var De=0;De<be[Le].length;De++)de[_e][Le][De]=be[Le][De]}}return de}([],p),function(de){R=[];for(var xe=0;xe<p.length;xe++){var _e=p[xe],be=h(_e),Le=!be&&c(_e);R[xe]=[];for(var De=_e.length,ye=0;ye<De;ye++)if(_e[ye][0]!=="Z"&&(!Le||ye===i||ye===r||ye===t||ye===a)){var le,oe=be&&T.isActiveSelection;oe&&(le=m(_e,ye));var ve=_e[ye][1],Ce=_e[ye][2],ke=de.append(oe?"rect":"circle").attr("data-i",xe).attr("data-j",ye).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(oe){var Ae=le[1]-ve,Ee=le[2]-Ce,ze=Ee?5:Math.max(Math.min(25,Math.abs(Ae)-5),5),Fe=Ae?5:Math.max(Math.min(25,Math.abs(Ee)-5),5);ke.classed(Ee?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ze).attr("height",Fe).attr("x",ve-ze/2).attr("y",Ce-Fe/2).attr("transform",k(Ae/2,Ee/2))}else ke.classed("cursor-grab",!0).attr("r",5).attr("cx",ve).attr("cy",Ce);R[xe][ye]={element:ke.node(),gd:O,prepFn:Q,doneFn:K,clickFn:ae},A.init(R[xe][ye])}}}(F.append("g").attr("class","outline-controllers")),function(){H=[],p.length&&(H[0]={element:S[0][0],gd:O,prepFn:se,doneFn:he,clickFn:pe},A.init(H[0]))}()),W&&T.hasText){var ne=F.select(".label-temp"),te=v(S,T,T.dragmode);x(O,"label-temp",te,ne)}function Q(de){z=+de.srcElement.getAttribute("data-i"),j=+de.srcElement.getAttribute("data-j"),R[z][j].moveFn=$}function $(de,xe){if(p.length){var _e=Z[z][j][1],be=Z[z][j][2],Le=p[z],De=Le.length;if(h(Le)){var ye=de,le=xe;T.isActiveSelection&&(m(Le,j)[1]===Le[j][1]?le=0:ye=0);for(var oe=0;oe<De;oe++)if(oe!==j){var ve=Le[oe];ve[1]===Le[j][1]&&(ve[1]=_e+ye),ve[2]===Le[j][2]&&(ve[2]=be+le)}if(Le[j][1]=_e+ye,Le[j][2]=be+le,!h(Le))for(var Ce=0;Ce<De;Ce++)for(var ke=0;ke<Le[Ce].length;ke++)Le[Ce][ke]=Z[z][Ce][ke]}else Le[j][1]=_e+de,Le[j][2]=be+xe;P()}}function K(){I()}function ae(de,xe){if(de===2){z=+xe.srcElement.getAttribute("data-i"),j=+xe.srcElement.getAttribute("data-j");var _e=p[z];h(_e)||c(_e)||function(){if(p.length&&p[z]&&p[z].length){for(var be=[],Le=0;Le<p[z].length;Le++)Le!==j&&be.push(p[z][Le]);be.length>1&&(be.length!==2||be[1][0]!=="Z")&&(j===0&&(be[0][0]="M"),p[z]=be,P(),I())}}()}}function ue(de,xe){(function(_e,be){if(p.length)for(var Le=0;Le<p.length;Le++)for(var De=0;De<p[Le].length;De++)for(var ye=0;ye+2<p[Le][De].length;ye+=2)p[Le][De][ye+1]=Z[Le][De][ye+1]+_e,p[Le][De][ye+2]=Z[Le][De][ye+2]+be})(de,xe),P()}function se(de){(z=+de.srcElement.getAttribute("data-i"))||(z=0),H[z].moveFn=ue}function he(){I()}function pe(de){de===2&&function(xe){if(b(xe._fullLayout.dragmode)){l(xe);var _e=xe._fullLayout._activeSelectionIndex,be=(xe.layout||{}).selections||[];if(_e<be.length){for(var Le=[],De=0;De<be.length;De++)De!==_e&&Le.push(be[De]);delete xe._fullLayout._activeSelectionIndex;var ye=xe._fullLayout.selections[_e];xe._fullLayout._deselect={xref:ye.xref,yref:ye.yref},f.call("_guiRelayout",xe,{selections:Le})}}}(O)}}},4016:function(U,C,e){var k=e(33428),A=e(24040),o=e(3400),w=e(54460),b=e(9856).readPaths,f=e(55496),s=e(60728),n=e(1936).clearOutlineControllers,i=e(76308),r=e(43616),t=e(31780).arrayEditor,a=e(86476),l=e(93972),u=e(85448),h=e(65152),c=h.getPathString;function y(p){var S=p._fullLayout;for(var T in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[T].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var O=0;O<S.shapes.length;O++)S.shapes[O].visible===!0&&g(p,O)}function d(p){return!!p._fullLayout._outlining}function v(p){return!p._context.edits.shapePosition}function g(p,S){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var T=h.makeShapesOptionsAndPlotinfo(p,S),E=T.options,O=T.plotinfo;function P(I){var R=c(p,E),H={"data-index":S,"fill-rule":E.fillrule,d:R},z=E.opacity,j=E.fillcolor,Z=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,V=E.line.dash;F||E.editable!==!0||(F=5,V="solid");var W=R[R.length-1]!=="Z",re=v(p)&&E.editable&&p._fullLayout._activeShapeIndex===S;re&&(j=W?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor,z=p._fullLayout.activeshape.opacity);var ne,te=I.append("g").classed("shape-group",!0).attr({"data-index":S}),Q=te.append("path").attr(H).style("opacity",z).call(i.stroke,Z).call(i.fill,j).call(r.dashLine,V,F);if(x(te,p,E),s(p,S,E,te),(re||p._context.edits.shapePosition)&&(ne=t(p.layout,"shapes",E)),re){Q.style({cursor:"move"});var $={element:Q.node(),plotinfo:O,gd:p,editHelpers:ne,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},K=b(R,p);f(K,Q,$)}else p._context.edits.shapePosition?function(ae,ue,se,he,pe,de){var xe,_e,be,Le,De,ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe,ge,Te=10,Se=10,Re=se.xsizemode==="pixel",Pe=se.ysizemode==="pixel",Ve=se.type==="line",We=se.type==="path",Qe=de.modifyItem,lt=k.select(ue.node().parentNode),ut=w.getFromId(ae,se.xref),xt=w.getRefType(se.xref),_t=w.getFromId(ae,se.yref),mt=w.getRefType(se.yref),it=h.getDataToPixel(ae,ut,!1,xt),nt=h.getDataToPixel(ae,_t,!0,mt),Et=h.getPixelToData(ae,ut,!1,xt),Rt=h.getPixelToData(ae,_t,!0,mt),Ft=Ve?function(){var ot=10,je=Math.max(se.line.width,ot),Ue=pe.append("g").attr("data-index",he).attr("drag-helper",!0);Ue.append("path").attr("d",ue.attr("d")).style({cursor:"move","stroke-width":je,"stroke-opacity":"0"});var st={"fill-opacity":"0"},Ke=Math.max(je/2,ot);return Ue.append("circle").attr({"data-line-point":"start-point",cx:Re?it(se.xanchor)+se.x0:it(se.x0),cy:Pe?nt(se.yanchor)-se.y0:nt(se.y0),r:Ke}).style(st).classed("cursor-grab",!0),Ue.append("circle").attr({"data-line-point":"end-point",cx:Re?it(se.xanchor)+se.x1:it(se.x1),cy:Pe?nt(se.yanchor)-se.y1:nt(se.y1),r:Ke}).style(st).classed("cursor-grab",!0),Ue}():ue,Pt={element:Ft.node(),gd:ae,prepFn:function(ot){d(ae)||(Re&&(De=it(se.xanchor)),Pe&&(ye=nt(se.yanchor)),se.type==="path"?Fe=se.path:(xe=Re?se.x0:it(se.x0),_e=Pe?se.y0:nt(se.y0),be=Re?se.x1:it(se.x1),Le=Pe?se.y1:nt(se.y1)),xe<be?(ve=xe,Ee="x0",Ce=be,ze="x1"):(ve=be,Ee="x1",Ce=xe,ze="x0"),!Pe&&_e<Le||Pe&&_e>Le?(le=_e,ke="y0",oe=Le,Ae="y1"):(le=Le,ke="y1",oe=_e,Ae="y0"),Ze(ot),Je(pe,se),function(je,Ue,st){var Ke=Ue.xref,gt=Ue.yref,yt=w.getFromId(st,Ke),bt=w.getFromId(st,gt),dt="";Ke==="paper"||yt.autorange||(dt+=Ke),gt==="paper"||bt.autorange||(dt+=gt),r.setClipUrl(je,dt?"clip"+st._fullLayout._uid+dt:null,st)}(ue,se,ae),Pt.moveFn=ge==="move"?$e:He,Pt.altKey=ot.altKey)},doneFn:function(){d(ae)||(l(ue),ft(pe),x(ue,ae,se),A.call("_guiRelayout",ae,de.getUpdateObj()))},clickFn:function(){d(ae)||ft(pe)}};function Ze(ot){if(d(ae))ge=null;else if(Ve)ge=ot.target.tagName==="path"?"move":ot.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var je=Pt.element.getBoundingClientRect(),Ue=je.right-je.left,st=je.bottom-je.top,Ke=ot.clientX-je.left,gt=ot.clientY-je.top,yt=!We&&Ue>Te&&st>Se&&!ot.shiftKey?a.getCursor(Ke/Ue,1-gt/st):"move";l(ue,yt),ge=yt.split("-")[0]}}function $e(ot,je){if(se.type==="path"){var Ue=function(gt){return gt},st=Ue,Ke=Ue;Re?Qe("xanchor",se.xanchor=Et(De+ot)):(st=function(gt){return Et(it(gt)+ot)},ut&&ut.type==="date"&&(st=h.encodeDate(st))),Pe?Qe("yanchor",se.yanchor=Rt(ye+je)):(Ke=function(gt){return Rt(nt(gt)+je)},_t&&_t.type==="date"&&(Ke=h.encodeDate(Ke))),Qe("path",se.path=m(Fe,st,Ke))}else Re?Qe("xanchor",se.xanchor=Et(De+ot)):(Qe("x0",se.x0=Et(xe+ot)),Qe("x1",se.x1=Et(be+ot))),Pe?Qe("yanchor",se.yanchor=Rt(ye+je)):(Qe("y0",se.y0=Rt(_e+je)),Qe("y1",se.y1=Rt(Le+je)));ue.attr("d",c(ae,se)),Je(pe,se),s(ae,he,se,lt)}function He(ot,je){if(We){var Ue=function(Jt){return Jt},st=Ue,Ke=Ue;Re?Qe("xanchor",se.xanchor=Et(De+ot)):(st=function(Jt){return Et(it(Jt)+ot)},ut&&ut.type==="date"&&(st=h.encodeDate(st))),Pe?Qe("yanchor",se.yanchor=Rt(ye+je)):(Ke=function(Jt){return Rt(nt(Jt)+je)},_t&&_t.type==="date"&&(Ke=h.encodeDate(Ke))),Qe("path",se.path=m(Fe,st,Ke))}else if(Ve){if(ge==="resize-over-start-point"){var gt=xe+ot,yt=Pe?_e-je:_e+je;Qe("x0",se.x0=Re?gt:Et(gt)),Qe("y0",se.y0=Pe?yt:Rt(yt))}else if(ge==="resize-over-end-point"){var bt=be+ot,dt=Pe?Le-je:Le+je;Qe("x1",se.x1=Re?bt:Et(bt)),Qe("y1",se.y1=Pe?dt:Rt(dt))}}else{var Lt=function(Jt){return ge.indexOf(Jt)!==-1},wt=Lt("n"),Ct=Lt("s"),zt=Lt("w"),Dt=Lt("e"),Nt=wt?le+je:le,Kt=Ct?oe+je:oe,un=zt?ve+ot:ve,qt=Dt?Ce+ot:Ce;Pe&&(wt&&(Nt=le-je),Ct&&(Kt=oe-je)),(!Pe&&Kt-Nt>Se||Pe&&Nt-Kt>Se)&&(Qe(ke,se[ke]=Pe?Nt:Rt(Nt)),Qe(Ae,se[Ae]=Pe?Kt:Rt(Kt))),qt-un>Te&&(Qe(Ee,se[Ee]=Re?un:Et(un)),Qe(ze,se[ze]=Re?qt:Et(qt)))}ue.attr("d",c(ae,se)),Je(pe,se),s(ae,he,se,lt)}function Je(ot,je){(Re||Pe)&&function(){var Ue=je.type!=="path",st=ot.selectAll(".visual-cue").data([0]);st.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Ke=it(Re?je.xanchor:o.midRange(Ue?[je.x0,je.x1]:h.extractPathCoords(je.path,u.paramIsX))),gt=nt(Pe?je.yanchor:o.midRange(Ue?[je.y0,je.y1]:h.extractPathCoords(je.path,u.paramIsY)));if(Ke=h.roundPositionForSharpStrokeRendering(Ke,1),gt=h.roundPositionForSharpStrokeRendering(gt,1),Re&&Pe){var yt="M"+(Ke-1-1)+","+(gt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";st.attr("d",yt)}else if(Re){var bt="M"+(Ke-1-1)+","+(gt-9-1)+"v18 h2 v-18 Z";st.attr("d",bt)}else{var dt="M"+(Ke-9-1)+","+(gt-1-1)+"h18 v2 h-18 Z";st.attr("d",dt)}}()}function ft(ot){ot.selectAll(".visual-cue").remove()}a.init(Pt),Ft.node().onmousemove=Ze}(p,Q,E,S,I,ne):E.editable===!0&&Q.style("pointer-events",W||i.opacity(j)*z<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return function(ae,ue){if(v(ae)){var se=+ue.node().getAttribute("data-index");if(se>=0){if(se===ae._fullLayout._activeShapeIndex)return void _(ae);ae._fullLayout._activeShapeIndex=se,ae._fullLayout._deactivateShape=_,y(ae)}}}(p,Q)})}E._input&&E.visible===!0&&(E.layer==="above"?P(p._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?P(p._fullLayout._shapeLowerLayer):E.layer==="between"?P(O.shapelayerBetween):O._hadPlotinfo?P((O.mainplotinfo||O).shapelayer):P(p._fullLayout._shapeLowerLayer))}function x(p,S,T){var E=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(p,E?"clip"+S._fullLayout._uid+E:null,S)}function m(p,S,T){return p.replace(u.segmentRE,function(E){var O=0,P=E.charAt(0),I=u.paramIsX[P],R=u.paramIsY[P],H=u.numParams[P];return P+E.substr(1).replace(u.paramRE,function(z){return O>=H||(I[O]?z=S(z):R[O]&&(z=T(z)),O++),z})})}function _(p){v(p)&&p._fullLayout._activeShapeIndex>=0&&(n(p),delete p._fullLayout._activeShapeIndex,y(p))}U.exports={draw:y,drawOne:g,eraseActiveShape:function(p){if(v(p)){n(p);var S=p._fullLayout._activeShapeIndex,T=(p.layout||{}).shapes||[];if(S<T.length){for(var E=[],O=0;O<T.length;O++)O!==S&&E.push(T[O]);return delete p._fullLayout._activeShapeIndex,A.call("_guiRelayout",p,{shapes:E})}}},drawLabel:s}},92872:function(U,C,e){var k=e(67824).overrideAll,A=e(45464),o=e(25376),w=e(98192).u,b=e(92880).extendFlat,f=e(21776).ye,s=e(97728);U.exports=k({newshape:{visible:b({},A.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},A.legend,{}),legendgroup:b({},A.legendgroup,{}),legendgrouptitle:{text:b({},A.legendgrouptitle.text,{}),font:o({})},legendrank:b({},A.legendrank,{}),legendwidth:b({},A.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},w,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},A.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(s)}),font:o({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(U){U.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(U,C,e){var k=e(76308),A=e(3400);U.exports=function(o,w,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),A.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var f=(o||{}).plot_bgcolor||"#FFF";b("newshape.line.color",k.contrast(f)),b("newshape.line.dash")}var s=o.dragmode==="drawline",n=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(n||i){b("newshape.label.textangle");var r=b("newshape.label.textposition",s?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(t,a){return t?"bottom":a.indexOf("top")!==-1?"top":a.indexOf("bottom")!==-1?"bottom":"middle"}(s,r)),b("newshape.label.padding"),A.coerceFont(b,"newshape.label.font",w.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},9856:function(U,C,e){var k=e(21984),A=e(7e3),o=A.CIRCLE_SIDES,w=A.SQRT2,b=e(5840),f=b.p2r,s=b.r2p,n=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function r(a,l){return Math.abs(a-l)<=1e-6}function t(a,l){var u=l[1]-a[1],h=l[2]-a[2];return Math.sqrt(u*u+h*h)}C.writePaths=function(a){var l=a.length;if(!l)return"M0,0Z";for(var u="",h=0;h<l;h++)for(var c=a[h].length,y=0;y<c;y++){var d=a[h][y][0];if(d==="Z")u+="Z";else for(var v=a[h][y].length,g=0;g<v;g++){var x=g;d==="Q"||d==="S"?x=i[g]:d==="C"&&(x=n[g]),u+=a[h][y][x],g>0&&g<v-1&&(u+=",")}}return u},C.readPaths=function(a,l,u,h){var c,y,d,v=k(a),g=[],x=-1,m=0,_=0,p=function(){y=m,d=_};p();for(var S=0;S<v.length;S++){var T,E,O,P,I=[],R=v[S][0],H=R;switch(R){case"M":g[++x]=[],m=+v[S][1],_=+v[S][2],I.push([H,m,_]),p();break;case"Q":case"S":T=+v[S][1],O=+v[S][2],m=+v[S][3],_=+v[S][4],I.push([H,m,_,T,O]);break;case"C":T=+v[S][1],O=+v[S][2],E=+v[S][3],P=+v[S][4],m=+v[S][5],_=+v[S][6],I.push([H,m,_,T,O,E,P]);break;case"T":case"L":m=+v[S][1],_=+v[S][2],I.push([H,m,_]);break;case"H":H="L",m=+v[S][1],I.push([H,m,_]);break;case"V":H="L",_=+v[S][1],I.push([H,m,_]);break;case"A":H="L";var z=+v[S][1],j=+v[S][2];+v[S][4]||(z=-z,j=-j);var Z=m-z,F=_;for(c=1;c<=o/2;c++){var V=2*Math.PI*c/o;I.push([H,Z+z*Math.cos(V),F+j*Math.sin(V)])}break;case"Z":m===y&&_===d||(m=y,_=d,I.push([H,m,_]))}for(var W=(u||{}).domain,re=l._fullLayout._size,ne=u&&u.xsizemode==="pixel",te=u&&u.ysizemode==="pixel",Q=h===!1,$=0;$<I.length;$++){for(c=0;c+2<7;c+=2){var K=I[$][c+1],ae=I[$][c+2];K!==void 0&&ae!==void 0&&(m=K,_=ae,u&&(u.xaxis&&u.xaxis.p2r?(Q&&(K-=u.xaxis._offset),K=ne?s(u.xaxis,u.xanchor)+K:f(u.xaxis,K)):(Q&&(K-=re.l),W?K=W.x[0]+K/re.w:K/=re.w),u.yaxis&&u.yaxis.p2r?(Q&&(ae-=u.yaxis._offset),ae=te?s(u.yaxis,u.yanchor)-ae:f(u.yaxis,ae)):(Q&&(ae-=re.t),ae=W?W.y[1]-ae/re.h:1-ae/re.h)),I[$][c+1]=K,I[$][c+2]=ae)}g[x].push(I[$].slice())}}return g},C.pointsOnRectangle=function(a){if(a.length!==5)return!1;for(var l=1;l<3;l++)if(!r(a[0][l]-a[1][l],a[3][l]-a[2][l])||!r(a[0][l]-a[3][l],a[1][l]-a[2][l]))return!1;return!(!r(a[0][1],a[1][1])&&!r(a[0][1],a[3][1])||!(t(a[0],a[1])*t(a[0],a[3])))},C.pointsOnEllipse=function(a){var l=a.length;if(l!==o+1)return!1;l=o;for(var u=0;u<l;u++){var h=(2*l-u)%l,c=(l/2+h)%l,y=(l/2+u)%l;if(!r(t(a[u],a[y]),t(a[h],a[c])))return!1}return!0},C.handleEllipse=function(a,l,u){if(!a)return[l,u];var h=C.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(h.x1+h.x0)/2,y=(h.y1+h.y0)/2,d=(h.x1-h.x0)/2,v=(h.y1-h.y0)/2;d||(d=v/=w),v||(v=d/=w);for(var g=[],x=0;x<o;x++){var m=2*x*Math.PI/o;g.push([c+d*Math.cos(m),y+v*Math.sin(m)])}return g},C.ellipseOver=function(a){var l=a.x0,u=a.y0,h=a.x1,c=a.y1,y=h-l,d=c-u,v=((l-=y)+h)/2,g=((u-=d)+c)/2;return{x0:v-(y*=w),y0:g-(d*=w),x1:v+y,y1:g+d}},C.fixDatesForPaths=function(a,l,u){var h=l.type==="date",c=u.type==="date";if(!h&&!c)return a;for(var y=0;y<a.length;y++)for(var d=0;d<a[y].length;d++)for(var v=0;v+2<a[y][d].length;v+=2)h&&(a[y][d][v+1]=a[y][d][v+1].replace(" ","_")),c&&(a[y][d][v+2]=a[y][d][v+2].replace(" ","_"));return a}},93940:function(U,C,e){var k=e(72760),A=k.drawMode,o=k.openMode,w=e(7e3),b=w.i000,f=w.i090,s=w.i180,n=w.i270,i=w.cos45,r=w.sin45,t=e(5840),a=t.p2r,l=t.r2p,u=e(1936).clearOutline,h=e(9856),c=h.readPaths,y=h.writePaths,d=h.ellipseOver,v=h.fixDatesForPaths;function g(x,m,_){var p,S=x[0][0],T=m.gd,E=S.getAttribute("d"),O=T._fullLayout.newshape,P=m.plotinfo,I=m.isActiveShape,R=P.xaxis,H=P.yaxis,z=!!P.domain||!P.xaxis,j=!!P.domain||!P.yaxis,Z=o(_),F=c(E,T,P,I),V={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:z?"paper":R._id,yref:j?"paper":H._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(Z||(V.fillcolor=O.fillcolor,V.fillrule=O.fillrule),F.length===1&&(p=F[0]),p&&p.length===5&&_==="drawrect")V.type="rect",V.x0=p[0][1],V.y0=p[0][2],V.x1=p[2][1],V.y1=p[2][2];else if(p&&_==="drawline")V.type="line",V.x0=p[0][1],V.y0=p[0][2],V.x1=p[1][1],V.y1=p[1][2];else if(p&&_==="drawcircle"){V.type="circle";var W=p[b][1],re=p[f][1],ne=p[s][1],te=p[n][1],Q=p[b][2],$=p[f][2],K=p[s][2],ae=p[n][2],ue=P.xaxis&&(P.xaxis.type==="date"||P.xaxis.type==="log"),se=P.yaxis&&(P.yaxis.type==="date"||P.yaxis.type==="log");ue&&(W=l(P.xaxis,W),re=l(P.xaxis,re),ne=l(P.xaxis,ne),te=l(P.xaxis,te)),se&&(Q=l(P.yaxis,Q),$=l(P.yaxis,$),K=l(P.yaxis,K),ae=l(P.yaxis,ae));var he=(re+te)/2,pe=(Q+K)/2,de=d({x0:he,y0:pe,x1:he+(te-re+ne-W)/2*i,y1:pe+(ae-$+K-Q)/2*r});ue&&(de.x0=a(P.xaxis,de.x0),de.x1=a(P.xaxis,de.x1)),se&&(de.y0=a(P.yaxis,de.y0),de.y1=a(P.yaxis,de.y1)),V.x0=de.x0,V.y0=de.y0,V.x1=de.x1,V.y1=de.y1}else V.type="path",R&&H&&v(F,R,H),V.path=y(F),p=null;return V}U.exports={newShapes:function(x,m){if(x.length&&x[0][0]){var _=m.gd,p=m.isActiveShape,S=m.dragmode,T=(_.layout||{}).shapes||[];if(!A(S)&&p!==void 0){var E=_._fullLayout._activeShapeIndex;if(E<T.length)switch(_._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var O=T[E].path||"";S=O[O.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var P=g(x,m,S);u(_);for(var I=m.editHelpers,R=(I||{}).modifyItem,H=[],z=0;z<T.length;z++){var j=_._fullLayout.shapes[z];if(H[z]=j._input,p!==void 0&&z===_._fullLayout._activeShapeIndex){var Z=P;switch(j.type){case"line":case"rect":case"circle":R("x0",Z.x0),R("x1",Z.x1),R("y0",Z.y0),R("y1",Z.y1);break;case"path":R("path",Z.path)}}}return p===void 0?(H.push(P),H):I?I.getUpdateObj():{}}},createShapeObj:g}},1936:function(U){U.exports={clearOutlineControllers:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),C._fullLayout._outlining=!1}}},65152:function(U,C,e){var k=e(85448),A=e(3400),o=e(54460);C.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(b){return b}},C.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(b){return b}},C.decodeDate=function(w){return function(b){return b.replace&&(b=b.replace("_"," ")),w(b)}},C.encodeDate=function(w){return function(b){return w(b).replace(" ","_")}},C.extractPathCoords=function(w,b,f){var s=[];return w.match(k.segmentRE).forEach(function(n){var i=b[n.charAt(0)].drawn;if(i!==void 0){var r=n.substr(1).match(k.paramRE);if(r&&!(r.length<i)){var t=r[i],a=f?t:A.cleanNumber(t);s.push(a)}}}),s},C.getDataToPixel=function(w,b,f,s){var n,i=w._fullLayout._size;if(b)if(s==="domain")n=function(t){return b._length*(f?1-t:t)+b._offset};else{var r=C.shapePositionToRange(b);n=function(t){return b._offset+b.r2p(r(t,!0))},b.type==="date"&&(n=C.decodeDate(n))}else n=f?function(t){return i.t+i.h*(1-t)}:function(t){return i.l+i.w*t};return n},C.getPixelToData=function(w,b,f,s){var n,i=w._fullLayout._size;if(b)if(s==="domain")n=function(t){var a=(t-b._offset)/b._length;return f?1-a:a};else{var r=C.rangeToShapePosition(b);n=function(t){return r(b.p2r(t-b._offset))}}else n=f?function(t){return 1-(t-i.t)/i.h}:function(t){return(t-i.l)/i.w};return n},C.roundPositionForSharpStrokeRendering=function(w,b){var f=Math.round(b%2)===1,s=Math.round(w);return f?s+.5:s},C.makeShapesOptionsAndPlotinfo=function(w,b){var f=w._fullLayout.shapes[b]||{},s=w._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&f.xref!=="paper"&&(s.xaxis=w._fullLayout[f.xref+"axis"]),f.yref&&f.yref!=="paper"&&(s.yaxis=w._fullLayout[f.yref+"axis"])),s.xsizemode=f.xsizemode,s.ysizemode=f.ysizemode,s.xanchor=f.xanchor,s.yanchor=f.yanchor,{options:f,plotinfo:s}},C.makeSelectionsOptionsAndPlotinfo=function(w,b){var f=w._fullLayout.selections[b]||{},s=w._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&(s.xaxis=w._fullLayout[f.xref+"axis"]),f.yref&&(s.yaxis=w._fullLayout[f.yref+"axis"])),{options:f,plotinfo:s}},C.getPathString=function(w,b){var f,s,n,i,r,t,a,l,u=b.type,h=o.getRefType(b.xref),c=o.getRefType(b.yref),y=o.getFromId(w,b.xref),d=o.getFromId(w,b.yref),v=w._fullLayout._size;if(y?h==="domain"?s=function(O){return y._offset+y._length*O}:(f=C.shapePositionToRange(y),s=function(O){return y._offset+y.r2p(f(O,!0))}):s=function(O){return v.l+v.w*O},d?c==="domain"?i=function(O){return d._offset+d._length*(1-O)}:(n=C.shapePositionToRange(d),i=function(O){return d._offset+d.r2p(n(O,!0))}):i=function(O){return v.t+v.h*(1-O)},u==="path")return y&&y.type==="date"&&(s=C.decodeDate(s)),d&&d.type==="date"&&(i=C.decodeDate(i)),function(O,P,I){var R=O.path,H=O.xsizemode,z=O.ysizemode,j=O.xanchor,Z=O.yanchor;return R.replace(k.segmentRE,function(F){var V=0,W=F.charAt(0),re=k.paramIsX[W],ne=k.paramIsY[W],te=k.numParams[W],Q=F.substr(1).replace(k.paramRE,function($){return re[V]?$=H==="pixel"?P(j)+Number($):P($):ne[V]&&($=z==="pixel"?I(Z)-Number($):I($)),++V>te&&($="X"),$});return V>te&&(Q=Q.replace(/[\s,]*X.*/,""),A.log("Ignoring extra params in segment "+F)),W+Q})}(b,s,i);if(b.xsizemode==="pixel"){var g=s(b.xanchor);r=g+b.x0,t=g+b.x1}else r=s(b.x0),t=s(b.x1);if(b.ysizemode==="pixel"){var x=i(b.yanchor);a=x-b.y0,l=x-b.y1}else a=i(b.y0),l=i(b.y1);if(u==="line")return"M"+r+","+a+"L"+t+","+l;if(u==="rect")return"M"+r+","+a+"H"+t+"V"+l+"H"+r+"Z";var m=(r+t)/2,_=(a+l)/2,p=Math.abs(m-r),S=Math.abs(_-a),T="A"+p+","+S,E=m+p+","+_;return"M"+E+T+" 0 1,1 "+m+","+(_-S)+T+" 0 0,1 "+E+"Z"}},41592:function(U,C,e){var k=e(4016);U.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:k.draw,drawOne:k.drawOne}},97728:function(U){function C(o,w){return w?w.d2l(o):o}function e(o,w){return w?w.l2d(o):o}function k(o,w){return C(o.x1,w)-C(o.x0,w)}function A(o,w,b){return C(o.y1,b)-C(o.y0,b)}U.exports={x0:function(o){return o.x0},x1:function(o){return o.x1},y0:function(o){return o.y0},y1:function(o){return o.y1},slope:function(o,w,b){return o.type!=="line"?void 0:A(o,0,b)/k(o,w)},dx:k,dy:A,width:function(o,w){return Math.abs(k(o,w))},height:function(o,w,b){return Math.abs(A(o,0,b))},length:function(o,w,b){return o.type!=="line"?void 0:Math.sqrt(Math.pow(k(o,w),2)+Math.pow(A(o,0,b),2))},xcenter:function(o,w){return e((C(o.x1,w)+C(o.x0,w))/2,w)},ycenter:function(o,w,b){return e((C(o.y1,b)+C(o.y0,b))/2,b)}}},89861:function(U,C,e){var k=e(25376),A=e(66741),o=e(92880).extendDeepAll,w=e(67824).overrideAll,b=e(85656),f=e(31780).templatedArray,s=e(60876),n=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});U.exports=w(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:n,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(A({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:k({})},font:k({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(U){U.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(U,C,e){var k=e(3400),A=e(51272),o=e(89861),w=e(60876).name,b=o.steps;function f(n,i,r){function t(c,y){return k.coerce(n,i,o,c,y)}for(var a=A(n,i,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<a.length;u++)a[u].visible&&l++;if(l<2?i.visible=!1:t("visible")){i._stepCount=l;var h=i._visibleSteps=k.filterVisible(a);(a[t("active")]||{}).visible||(i.active=h[0]._index),t("x"),t("y"),k.noneOrAll(n,i,["x","y"]),t("xanchor"),t("yanchor"),t("len"),t("lenmode"),t("pad.t"),t("pad.r"),t("pad.b"),t("pad.l"),k.coerceFont(t,"font",r.font),t("currentvalue.visible")&&(t("currentvalue.xanchor"),t("currentvalue.prefix"),t("currentvalue.suffix"),t("currentvalue.offset"),k.coerceFont(t,"currentvalue.font",i.font)),t("transition.duration"),t("transition.easing"),t("bgcolor"),t("activebgcolor"),t("bordercolor"),t("borderwidth"),t("ticklen"),t("tickwidth"),t("tickcolor"),t("minorticklen")}}function s(n,i){function r(a,l){return k.coerce(n,i,b,a,l)}if(n.method==="skip"||Array.isArray(n.args)?r("visible"):i.visible=!1){r("method"),r("args");var t=r("label","step-"+i._index);r("value",t),r("execute")}}U.exports=function(n,i){A(n,i,{name:w,handleItemDefaults:f})}},79664:function(U,C,e){var k=e(33428),A=e(7316),o=e(76308),w=e(43616),b=e(3400),f=b.strTranslate,s=e(72736),n=e(31780).arrayEditor,i=e(60876),r=e(84284),t=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR;function u(I){return i.autoMarginIdRoot+I._index}function h(I){return I._index}function c(I,R){var H=w.tester.selectAll("g."+i.labelGroupClass).data(R._visibleSteps);H.enter().append("g").classed(i.labelGroupClass,!0);var z=0,j=0;H.each(function($){var K=v(k.select(this),{step:$},R).node();if(K){var ae=w.bBox(K);j=Math.max(j,ae.height),z=Math.max(z,ae.width)}}),H.remove();var Z=R._dims={};Z.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=I._fullLayout._size;Z.lx=F.l+F.w*R.x,Z.ly=F.t+F.h*(1-R.y),R.lenmode==="fraction"?Z.outerLength=Math.round(F.w*R.len):Z.outerLength=R.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-R.pad.l-R.pad.r);var V=(Z.inputAreaLength-2*i.stepInset)/(R._stepCount-1),W=z+i.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(W/V)),Z.labelHeight=j,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,R.currentvalue.visible){var re=w.tester.append("g");H.each(function($){var K=y(re,R,$.label),ae=K.node()&&w.bBox(K.node())||{width:0,height:0},ue=s.lineCount(K);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(ae.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(ae.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,ue)}),Z.currentValueTotalHeight=Z.currentValueHeight+R.currentvalue.offset,re.remove()}Z.height=Z.currentValueTotalHeight+i.tickOffset+R.ticklen+i.labelOffset+Z.labelHeight+R.pad.t+R.pad.b;var ne="left";b.isRightAnchor(R)&&(Z.lx-=Z.outerLength,ne="right"),b.isCenterAnchor(R)&&(Z.lx-=Z.outerLength/2,ne="center");var te="top";b.isBottomAnchor(R)&&(Z.ly-=Z.height,te="bottom"),b.isMiddleAnchor(R)&&(Z.ly-=Z.height/2,te="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var Q={y:R.y,b:Z.height*l[te],t:Z.height*a[te]};R.lenmode==="fraction"?(Q.l=0,Q.xl=R.x-R.len*a[ne],Q.r=0,Q.xr=R.x+R.len*l[ne]):(Q.x=R.x,Q.l=Z.outerLength*a[ne],Q.r=Z.outerLength*l[ne]),A.autoMargin(I,u(R),Q)}function y(I,R,H){if(R.currentvalue.visible){var z,j,Z=R._dims;switch(R.currentvalue.xanchor){case"right":z=Z.inputAreaLength-i.currentValueInset-Z.currentValueMaxWidth,j="left";break;case"center":z=.5*Z.inputAreaLength,j="middle";break;default:z=i.currentValueInset,j="left"}var F=b.ensureSingle(I,"text",i.labelClass,function(Q){Q.attr({"text-anchor":j,"data-notex":1})}),V=R.currentvalue.prefix?R.currentvalue.prefix:"";if(typeof H=="string")V+=H;else{var W=R.steps[R.active].label,re=R._gd._fullLayout._meta;re&&(W=b.templateString(W,re)),V+=W}R.currentvalue.suffix&&(V+=R.currentvalue.suffix),F.call(w.font,R.currentvalue.font).text(V).call(s.convertToTspans,R._gd);var ne=s.lineCount(F),te=(Z.currentValueMaxLines+1-ne)*R.currentvalue.font.size*t;return s.positionText(F,z,te),F}}function d(I,R,H){b.ensureSingle(I,"rect",i.gripRectClass,function(z){z.call(_,R,I,H).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(o.stroke,H.bordercolor).call(o.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px")}function v(I,R,H){var z=b.ensureSingle(I,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),j=R.step.label,Z=H._gd._fullLayout._meta;return Z&&(j=b.templateString(j,Z)),z.call(w.font,H.font).text(j).call(s.convertToTspans,H._gd),z}function g(I,R){var H=b.ensureSingle(I,"g",i.labelsClass),z=R._dims,j=H.selectAll("g."+i.labelGroupClass).data(z.labelSteps);j.enter().append("g").classed(i.labelGroupClass,!0),j.exit().remove(),j.each(function(Z){var F=k.select(this);F.call(v,Z,R),w.setTranslate(F,T(R,Z.fraction),i.tickOffset+R.ticklen+R.font.size*t+i.labelOffset+z.currentValueTotalHeight)})}function x(I,R,H,z,j){var Z=Math.round(z*(H._stepCount-1)),F=H._visibleSteps[Z]._index;F!==H.active&&m(I,R,H,F,!0,j)}function m(I,R,H,z,j,Z){var F=H.active;H.active=z,n(I.layout,i.name,H).applyUpdate("active",z);var V=H.steps[H.active];R.call(S,H,Z),R.call(y,H),I.emit("plotly_sliderchange",{slider:H,step:H.steps[H.active],interaction:j,previousActive:F}),V&&V.method&&j&&(R._nextMethod?(R._nextMethod.step=V,R._nextMethod.doCallback=j,R._nextMethod.doTransition=Z):(R._nextMethod={step:V,doCallback:j,doTransition:Z},R._nextMethodRaf=window.requestAnimationFrame(function(){var W=R._nextMethod.step;W.method&&(W.execute&&A.executeAPICommand(I,W.method,W.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function _(I,R,H){if(!R._context.staticPlot){var z=H.node(),j=k.select(R);I.on("mousedown",F),I.on("touchstart",F)}function Z(){return H.data()[0]}function F(){var V=Z();R.emit("plotly_sliderstart",{slider:V});var W=H.select("."+i.gripRectClass);k.event.stopPropagation(),k.event.preventDefault(),W.call(o.fill,V.activebgcolor);var re=E(V,k.mouse(z)[0]);function ne(){var Q=Z(),$=E(Q,k.mouse(z)[0]);x(R,H,Q,$,!1)}function te(){var Q=Z();Q._dragging=!1,W.call(o.fill,Q.bgcolor),j.on("mouseup",null),j.on("mousemove",null),j.on("touchend",null),j.on("touchmove",null),R.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}x(R,H,V,re,!0),V._dragging=!0,j.on("mousemove",ne),j.on("touchmove",ne),j.on("mouseup",te),j.on("touchend",te)}}function p(I,R){var H=I.selectAll("rect."+i.tickRectClass).data(R._visibleSteps),z=R._dims;H.enter().append("rect").classed(i.tickRectClass,!0),H.exit().remove(),H.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),H.each(function(j,Z){var F=Z%z.labelStride==0,V=k.select(this);V.attr({height:F?R.ticklen:R.minorticklen}).call(o.fill,R.tickcolor),w.setTranslate(V,T(R,Z/(R._stepCount-1))-.5*R.tickwidth,(F?i.tickOffset:i.minorTickOffset)+z.currentValueTotalHeight)})}function S(I,R,H){for(var z=I.select("rect."+i.gripRectClass),j=0,Z=0;Z<R._stepCount;Z++)if(R._visibleSteps[Z]._index===R.active){j=Z;break}var F=T(R,j/(R._stepCount-1));if(!R._invokingCommand){var V=z;H&&R.transition.duration>0&&(V=V.transition().duration(R.transition.duration).ease(R.transition.easing)),V.attr("transform",f(F-.5*i.gripWidth,R._dims.currentValueTotalHeight))}}function T(I,R){var H=I._dims;return H.inputAreaStart+i.stepInset+(H.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,R))}function E(I,R){var H=I._dims;return Math.min(1,Math.max(0,(R-i.stepInset-H.inputAreaStart)/(H.inputAreaLength-2*i.stepInset-2*H.inputAreaStart)))}function O(I,R,H){var z=H._dims,j=b.ensureSingle(I,"rect",i.railTouchRectClass,function(Z){Z.call(_,R,I,H).style("pointer-events","all")});j.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,i.tickOffset+H.ticklen+z.labelHeight)}).call(o.fill,H.bgcolor).attr("opacity",0),w.setTranslate(j,0,z.currentValueTotalHeight)}function P(I,R){var H=R._dims,z=H.inputAreaLength-2*i.railInset,j=b.ensureSingle(I,"rect",i.railRectClass);j.attr({width:z,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,R.bordercolor).call(o.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),w.setTranslate(j,i.railInset,.5*(H.inputAreaWidth-i.railWidth)+H.currentValueTotalHeight)}U.exports=function(I){var R=I._context.staticPlot,H=I._fullLayout,z=function(re,ne){for(var te=re[i.name],Q=[],$=0;$<te.length;$++){var K=te[$];K.visible&&(K._gd=ne,Q.push(K))}return Q}(H,I),j=H._infolayer.selectAll("g."+i.containerClassName).data(z.length>0?[0]:[]);function Z(re){re._commandObserver&&(re._commandObserver.remove(),delete re._commandObserver),A.autoMargin(I,u(re))}if(j.enter().append("g").classed(i.containerClassName,!0).style("cursor",R?null:"ew-resize"),j.exit().each(function(){k.select(this).selectAll("g."+i.groupClassName).each(Z)}).remove(),z.length!==0){var F=j.selectAll("g."+i.groupClassName).data(z,h);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(Z).remove();for(var V=0;V<z.length;V++){var W=z[V];c(I,W)}F.each(function(re){var ne=k.select(this);(function(te){var Q=te._dims;Q.labelSteps=[];for(var $=te._stepCount,K=0;K<$;K+=Q.labelStride)Q.labelSteps.push({fraction:K/($-1),step:te._visibleSteps[K]})})(re),A.manageCommandObserver(I,re,re._visibleSteps,function(te){var Q=ne.data()[0];Q.active!==te.index&&(Q._dragging||m(I,ne,Q,te.index,!1,!0))}),function(te,Q,$){($.steps[$.active]||{}).visible||($.active=$._visibleSteps[0]._index),Q.call(y,$).call(P,$).call(g,$).call(p,$).call(O,te,$).call(d,te,$);var K=$._dims;w.setTranslate(Q,K.lx+$.pad.l,K.ly+$.pad.t),Q.call(S,$,!1),Q.call(y,$)}(I,k.select(this),re)})}}},97544:function(U,C,e){var k=e(60876);U.exports={moduleType:"component",name:k.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(U,C,e){var k=e(33428),A=e(38248),o=e(7316),w=e(24040),b=e(3400),f=b.strTranslate,s=e(43616),n=e(76308),i=e(72736),r=e(13448),t=e(84284).OPPOSITE_SIDE,a=/ [XY][0-9]* /;U.exports={draw:function(l,u,h){var c,y=h.propContainer,d=h.propName,v=h.placeholder,g=h.traceIndex,x=h.avoid||{},m=h.attributes,_=h.transform,p=h.containerGroup,S=l._fullLayout,T=1,E=!1,O=y.title,P=(O&&O.text?O.text:"").trim(),I=O&&O.font?O.font:{},R=I.family,H=I.size,z=I.color,j=I.weight,Z=I.style,F=I.variant,V=I.textcase,W=I.lineposition,re=I.shadow;d==="title.text"?c="titleText":d.indexOf("axis")!==-1?c="axisTitleText":d.indexOf(!0)&&(c="colorbarTitleText");var ne=l._context.edits[c];P===""?T=0:P.replace(a," % ")===v.replace(a," % ")&&(T=.2,E=!0,ne||(P="")),h._meta?P=b.templateString(P,h._meta):S._meta&&(P=b.templateString(P,S._meta));var te,Q=P||ne;p||(p=b.ensureSingle(S._infolayer,"g","g-"+u),te=S._hColorbarMoveTitle);var $=p.selectAll("text").data(Q?[0]:[]);if($.enter().append("text"),$.text(P).attr("class",u),$.exit().remove(),!Q)return p;function K(se){b.syncOrAsync([ae,ue],se)}function ae(se){var he;return!_&&te&&(_={}),_?(he="",_.rotate&&(he+="rotate("+[_.rotate,m.x,m.y]+")"),(_.offset||te)&&(he+=f(0,(_.offset||0)-(te||0)))):he=null,se.attr("transform",he),se.style("opacity",T*n.opacity(z)).call(s.font,{color:n.rgb(z),size:k.round(H,2),family:R,weight:j,style:Z,variant:F,textcase:V,shadow:re,lineposition:W}).attr(m).call(i.convertToTspans,l),o.previousPromises(l)}function ue(se){var he=k.select(se.node().parentNode);if(x&&x.selection&&x.side&&P){he.attr("transform",null);var pe=t[x.side],de=x.side==="left"||x.side==="top"?-1:1,xe=A(x.pad)?x.pad:2,_e=s.bBox(he.node()),be={t:0,b:0,l:0,r:0},Le=l._fullLayout._reservedMargin;for(var De in Le)for(var ye in Le[De]){var le=Le[De][ye];be[ye]=Math.max(be[ye],le)}var oe={left:be.l,top:be.t,right:S.width-be.r,bottom:S.height-be.b},ve=x.maxShift||de*(oe[x.side]-_e[x.side]),Ce=0;if(ve<0)Ce=ve;else{var ke=x.offsetLeft||0,Ae=x.offsetTop||0;_e.left-=ke,_e.right-=ke,_e.top-=Ae,_e.bottom-=Ae,x.selection.each(function(){var ze=s.bBox(this);b.bBoxIntersect(_e,ze,xe)&&(Ce=Math.max(Ce,de*(ze[x.side]-_e[pe])+xe))}),Ce=Math.min(ve,Ce),y._titleScoot=Math.abs(Ce)}if(Ce>0||ve<0){var Ee={left:[-Ce,0],right:[Ce,0],top:[0,-Ce],bottom:[0,Ce]}[x.side];he.attr("transform",f(Ee[0],Ee[1]))}}}return $.call(K),ne&&(P?$.on(".opacity",null):(T=0,E=!0,$.text(v).on("mouseover.opacity",function(){k.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){k.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),$.call(i.makeEditable,{gd:l}).on("edit",function(se){g!==void 0?w.call("_guiRestyle",l,d,se,g):w.call("_guiRelayout",l,d,se)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(K)}).on("input",function(se){this.text(se||" ").call(i.positionText,m.x,m.y)})),$.classed("js-placeholder",E),p}}},88444:function(U,C,e){var k=e(25376),A=e(22548),o=e(92880).extendFlat,w=e(67824).overrideAll,b=e(66741),f=e(31780).templatedArray,s=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});U.exports=w(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(b({editType:"arraydraw"}),{}),font:k({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:A.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(U){U.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(U,C,e){var k=e(3400),A=e(51272),o=e(88444),w=e(73712).name,b=o.buttons;function f(n,i,r){function t(a,l){return k.coerce(n,i,o,a,l)}t("visible",A(n,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(t("active"),t("direction"),t("type"),t("showactive"),t("x"),t("y"),k.noneOrAll(n,i,["x","y"]),t("xanchor"),t("yanchor"),t("pad.t"),t("pad.r"),t("pad.b"),t("pad.l"),k.coerceFont(t,"font",r.font),t("bgcolor",r.paper_bgcolor),t("bordercolor"),t("borderwidth"))}function s(n,i){function r(t,a){return k.coerce(n,i,b,t,a)}r("visible",n.method==="skip"||Array.isArray(n.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}U.exports=function(n,i){A(n,i,{name:w,handleItemDefaults:f})}},14420:function(U,C,e){var k=e(33428),A=e(7316),o=e(76308),w=e(43616),b=e(3400),f=e(72736),s=e(31780).arrayEditor,n=e(84284).LINE_SPACING,i=e(73712),r=e(37400);function t(T){return T._index}function a(T,E){return+T.attr(i.menuIndexAttrName)===E._index}function l(T,E,O,P,I,R,H,z){E.active=H,s(T.layout,i.name,E).applyUpdate("active",H),E.type==="buttons"?h(T,P,null,null,E):E.type==="dropdown"&&(I.attr(i.menuIndexAttrName,"-1"),u(T,P,I,R,E),z||h(T,P,I,R,E))}function u(T,E,O,P,I){var R=b.ensureSingle(E,"g",i.headerClassName,function(V){V.style("pointer-events","all")}),H=I._dims,z=I.active,j=I.buttons[z]||i.blankHeaderOpts,Z={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},F={width:H.headerWidth,height:H.headerHeight};R.call(c,I,j,T).call(p,I,Z,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(V){V.attr("text-anchor","end").call(w.font,I.font).text(i.arrowSymbol[I.direction])}).attr({x:H.headerWidth-i.arrowOffsetX+I.pad.l,y:H.headerHeight/2+i.textOffsetY+I.pad.t}),R.on("click",function(){O.call(S,String(a(O,I)?-1:I._index)),h(T,E,O,P,I)}),R.on("mouseover",function(){R.call(g)}),R.on("mouseout",function(){R.call(x,I)}),w.setTranslate(E,H.lx,H.ly)}function h(T,E,O,P,I){O||(O=E).attr("pointer-events","all");var R=function(Q){return+Q.attr(i.menuIndexAttrName)==-1}(O)&&I.type!=="buttons"?[]:I.buttons,H=I.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,z=O.selectAll("g."+H).data(b.filterVisible(R)),j=z.enter().append("g").classed(H,!0),Z=z.exit();I.type==="dropdown"?(j.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var F=0,V=0,W=I._dims,re=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(re?V=W.headerHeight+i.gapButtonHeader:F=W.headerWidth+i.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(V=-i.gapButtonHeader+i.gapButton-W.openHeight),I.type==="dropdown"&&I.direction==="left"&&(F=-i.gapButtonHeader+i.gapButton-W.openWidth);var ne={x:W.lx+F+I.pad.l,y:W.ly+V+I.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},te={l:ne.x+I.borderwidth,t:ne.y+I.borderwidth};z.each(function(Q,$){var K=k.select(this);K.call(c,I,Q,T).call(p,I,ne),K.on("click",function(){k.event.defaultPrevented||(Q.execute&&(Q.args2&&I.active===$?(l(T,I,0,E,O,P,-1),A.executeAPICommand(T,Q.method,Q.args2)):(l(T,I,0,E,O,P,$),A.executeAPICommand(T,Q.method,Q.args))),T.emit("plotly_buttonclicked",{menu:I,button:Q,active:I.active}))}),K.on("mouseover",function(){K.call(g)}),K.on("mouseout",function(){K.call(x,I),z.call(v,I)})}),z.call(v,I),re?(te.w=Math.max(W.openWidth,W.headerWidth),te.h=ne.y-te.t):(te.w=ne.x-te.l,te.h=Math.max(W.openHeight,W.headerHeight)),te.direction=I.direction,P&&(z.size()?function(Q,$,K,ae,ue,se){var he,pe,de,xe=ue.direction,_e=xe==="up"||xe==="down",be=ue._dims,Le=ue.active;if(_e)for(pe=0,de=0;de<Le;de++)pe+=be.heights[de]+i.gapButton;else for(he=0,de=0;de<Le;de++)he+=be.widths[de]+i.gapButton;ae.enable(se,he,pe),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,I,te):function(Q){var $=!!Q.hbar,K=!!Q.vbar;$&&Q.hbar.transition().attr("opacity","0").each("end",function(){$=!1,K||Q.disable()}),K&&Q.vbar.transition().attr("opacity","0").each("end",function(){K=!1,$||Q.disable()})}(P))}function c(T,E,O,P){T.call(y,E).call(d,E,O,P)}function y(T,E){b.ensureSingle(T,"rect",i.itemRectClassName,function(O){O.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,E.bordercolor).call(o.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function d(T,E,O,P){var I=b.ensureSingle(T,"text",i.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),R=O.label,H=P._fullLayout._meta;H&&(R=b.templateString(R,H)),I.call(w.font,E.font).text(R).call(f.convertToTspans,P)}function v(T,E){var O=E.active;T.each(function(P,I){var R=k.select(this);I===O&&E.showactive&&R.select("rect."+i.itemRectClassName).call(o.fill,i.activeColor)})}function g(T){T.select("rect."+i.itemRectClassName).call(o.fill,i.hoverColor)}function x(T,E){T.select("rect."+i.itemRectClassName).call(o.fill,E.bgcolor)}function m(T,E){var O=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=w.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));P.enter().append("g").classed(i.dropdownButtonClassName,!0);var I=["up","down"].indexOf(E.direction)!==-1;P.each(function(F,V){var W=k.select(this);W.call(c,E,F,T);var re=W.select("."+i.itemTextClassName),ne=re.node()&&w.bBox(re.node()).width,te=Math.max(ne+i.textPadX,i.minWidth),Q=E.font.size*n,$=f.lineCount(re),K=Math.max(Q*$,i.minHeight)+i.textOffsetY;K=Math.ceil(K),te=Math.ceil(te),O.widths[V]=te,O.heights[V]=K,O.height1=Math.max(O.height1,K),O.width1=Math.max(O.width1,te),I?(O.totalWidth=Math.max(O.totalWidth,te),O.openWidth=O.totalWidth,O.totalHeight+=K+i.gapButton,O.openHeight+=K+i.gapButton):(O.totalWidth+=te+i.gapButton,O.openWidth+=te+i.gapButton,O.totalHeight=Math.max(O.totalHeight,K),O.openHeight=O.totalHeight)}),I?O.totalHeight-=i.gapButton:O.totalWidth-=i.gapButton,O.headerWidth=O.width1+i.arrowPadX,O.headerHeight=O.height1,E.type==="dropdown"&&(I?(O.width1+=i.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=i.arrowPadX),P.remove();var R=O.totalWidth+E.pad.l+E.pad.r,H=O.totalHeight+E.pad.t+E.pad.b,z=T._fullLayout._size;O.lx=z.l+z.w*E.x,O.ly=z.t+z.h*(1-E.y);var j="left";b.isRightAnchor(E)&&(O.lx-=R,j="right"),b.isCenterAnchor(E)&&(O.lx-=R/2,j="center");var Z="top";b.isBottomAnchor(E)&&(O.ly-=H,Z="bottom"),b.isMiddleAnchor(E)&&(O.ly-=H/2,Z="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),A.autoMargin(T,_(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[j]||0),r:R*({left:1,center:.5}[j]||0),b:H*({top:1,middle:.5}[Z]||0),t:H*({bottom:1,middle:.5}[Z]||0)})}function _(T){return i.autoMarginIdRoot+T._index}function p(T,E,O,P){P=P||{};var I=T.select("."+i.itemRectClassName),R=T.select("."+i.itemTextClassName),H=E.borderwidth,z=O.index,j=E._dims;w.setTranslate(T,H+O.x,H+O.y);var Z=["up","down"].indexOf(E.direction)!==-1,F=P.height||(Z?j.heights[z]:j.height1);I.attr({x:0,y:0,width:P.width||(Z?j.width1:j.widths[z]),height:F});var V=E.font.size*n,W=(f.lineCount(R)-1)*V/2;f.positionText(R,i.textOffsetX,F/2-W+i.textOffsetY),Z?O.y+=j.heights[z]+O.yPad:O.x+=j.widths[z]+O.xPad,O.index++}function S(T,E){T.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}U.exports=function(T){var E=T._fullLayout,O=b.filterVisible(E[i.name]);function P(V){A.autoMargin(T,_(V))}var I=E._menulayer.selectAll("g."+i.containerClassName).data(O.length>0?[0]:[]);if(I.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),I.exit().each(function(){k.select(this).selectAll("g."+i.headerGroupClassName).each(P)}).remove(),O.length!==0){var R=I.selectAll("g."+i.headerGroupClassName).data(O,t);R.enter().append("g").classed(i.headerGroupClassName,!0);for(var H=b.ensureSingle(I,"g",i.dropdownButtonGroupClassName,function(V){V.style("pointer-events","all")}),z=0;z<O.length;z++){var j=O[z];m(T,j)}var Z="updatemenus"+E._uid,F=new r(T,H,Z);R.enter().size()&&(H.node().parentNode.appendChild(H.node()),H.call(S)),R.exit().each(function(V){H.call(S),P(V)}).remove(),R.each(function(V){var W=k.select(this),re=V.type==="dropdown"?H:null;A.manageCommandObserver(T,V,V.buttons,function(ne){l(T,V,V.buttons[ne.index],W,re,F,ne.index,!0)}),V.type==="dropdown"?(u(T,W,H,F,V),a(H,V)&&h(T,W,H,F,V)):h(T,W,null,null,V)})}}},76908:function(U,C,e){var k=e(73712);U.exports={moduleType:"component",name:k.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(U,C,e){U.exports=b;var k=e(33428),A=e(76308),o=e(43616),w=e(3400);function b(f,s,n){this.gd=f,this.container=s,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(f,s,n){var i=this.gd._fullLayout,r=i.width,t=i.height;this.position=f;var a,l,u,h,c=this.position.l,y=this.position.w,d=this.position.t,v=this.position.h,g=this.position.direction,x=g==="down",m=g==="left",_=g==="up",p=y,S=v;x||m||g==="right"||_||(this.position.direction="down",x=!0),x||_?(l=(a=c)+p,x?(u=d,S=(h=Math.min(u+S,t))-u):S=(h=d+S)-(u=Math.max(h-S,0))):(h=(u=d)+S,m?p=(l=c+p)-(a=Math.max(l-p,0)):(a=c,p=(l=Math.min(a+p,r))-a)),this._box={l:a,t:u,w:p,h:S};var T=y>p,E=b.barLength+2*b.barPad,O=b.barWidth+2*b.barPad,P=c,I=d+v;I+O>t&&(I=t-O);var R=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(A.fill,b.barColor),T?(this.hbar=R.attr({rx:b.barRadius,ry:b.barRadius,x:P,y:I,width:E,height:O}),this._hbarXMin=P+E/2,this._hbarTranslateMax=p-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=v>S,z=b.barWidth+2*b.barPad,j=b.barLength+2*b.barPad,Z=c+y,F=d;Z+z>r&&(Z=r-z);var V=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(A.fill,b.barColor),H?(this.vbar=V.attr({rx:b.barRadius,ry:b.barRadius,x:Z,y:F,width:z,height:j}),this._vbarYMin=F+j/2,this._vbarTranslateMax=S-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var W=this.id,re=a-.5,ne=H?l+z+.5:l+.5,te=u-.5,Q=T?h+O+.5:h+.5,$=i._topdefs.selectAll("#"+W).data(T||H?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",W).append("rect"),T||H?(this._clipRect=$.select("rect").attr({x:Math.floor(re),y:Math.floor(te),width:Math.ceil(ne)-Math.floor(re),height:Math.ceil(Q)-Math.floor(te)}),this.container.call(o.setClipUrl,W,this.gd),this.bg.attr({x:c,y:d,width:y,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||H){var K=k.behavior.drag().on("dragstart",function(){k.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(K);var ae=k.behavior.drag().on("dragstart",function(){k.event.sourceEvent.preventDefault(),k.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(ae),H&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(s,n)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f-=k.event.dx),this.vbar&&(s-=k.event.dy),this.setTranslate(f,s)},b.prototype._onBoxWheel=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f+=k.event.deltaY),this.vbar&&(s+=k.event.deltaY),this.setTranslate(f,s)},b.prototype._onBarDrag=function(){var f=this.translateX,s=this.translateY;if(this.hbar){var n=f+this._hbarXMin,i=n+this._hbarTranslateMax;f=(w.constrain(k.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var r=s+this._vbarYMin,t=r+this._vbarTranslateMax;s=(w.constrain(k.event.y,r,t)-r)/(t-r)*(this.position.h-this._box.h)}this.setTranslate(f,s)},b.prototype.setTranslate=function(f,s){var n=this.position.w-this._box.w,i=this.position.h-this._box.h;if(f=w.constrain(f||0,0,n),s=w.constrain(s||0,0,i),this.translateX=f,this.translateY=s,this.container.call(o.setTranslate,this._box.l-this.position.l-f,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+f-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var r=f/n;this.hbar.call(o.setTranslate,f+r*this._hbarTranslateMax,s)}if(this.vbar){var t=s/i;this.vbar.call(o.setTranslate,f,s+t*this._vbarTranslateMax)}}},84284:function(U){U.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(U){U.exports={axisRefDescription:function(C,e,k){return["If set to a",C,"axis id (e.g. *"+C+"* or","*"+C+"2*), the `"+C+"` position refers to a",C,"coordinate. If set to *paper*, the `"+C+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+k+"). If set to a",C,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+C+"2 domain* refers to the domain of the second",C," axis and a",C,"position of 0.5 refers to the","point between the",e,"and the",k,"of the domain of the","second",C,"axis."].join(" ")}}},48164:function(U){U.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(U){U.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(U){U.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(U){U.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(U){U.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(U){U.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(U){U.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(U,C){C.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],C.STYLE=C.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(U,C){C.xmlns="http://www.w3.org/2000/xmlns/",C.svg="http://www.w3.org/2000/svg",C.xlink="http://www.w3.org/1999/xlink",C.svgAttrs={xmlns:C.svg,"xmlns:xlink":C.xlink}},64884:function(U,C,e){C.version=e(25788).version,e(88324),e(79288);for(var k=e(24040),A=C.register=k.register,o=e(22448),w=Object.keys(o),b=0;b<w.length;b++){var f=w[b];f.charAt(0)!=="_"&&(C[f]=o[f]),A({moduleType:"apiMethod",name:f,fn:o[f]})}A(e(65875)),A([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),A([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(A(window.PlotlyLocales),delete window.PlotlyLocales),C.Icons=e(9224);var s=e(93024),n=e(7316);C.Plots={resize:n.resize,graphJson:n.graphJson,sendDataToCloud:n.sendDataToCloud},C.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},C.Snapshot=e(78904),C.PlotSchema=e(73060)},9224:function(U){U.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(U,C){C.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},C.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},C.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},C.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},C.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},C.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(U,C,e){var k=e(20435),A=k.mod,o=k.modHalf,w=Math.PI,b=2*w;function f(r){return Math.abs(r[1]-r[0])>b-1e-14}function s(r,t){return o(t-r,b)}function n(r,t){if(f(t))return!0;var a,l;t[0]<t[1]?(a=t[0],l=t[1]):(a=t[1],l=t[0]),(a=A(a,b))>(l=A(l,b))&&(l+=b);var u=A(r,b),h=u+b;return u>=a&&u<=l||h>=a&&h<=l}function i(r,t,a,l,u,h,c){u=u||0,h=h||0;var y,d,v,g,x,m=f([a,l]);function _(E,O){return[E*Math.cos(O)+u,h-E*Math.sin(O)]}m?(y=0,d=w,v=b):a<l?(y=a,v=l):(y=l,v=a),r<t?(g=r,x=t):(g=t,x=r);var p,S=Math.abs(v-y)<=w?0:1;function T(E,O,P){return"A"+[E,E]+" "+[0,S,P]+" "+_(E,O)}return m?p=g===null?"M"+_(x,y)+T(x,d,0)+T(x,v,0)+"Z":"M"+_(g,y)+T(g,d,0)+T(g,v,0)+"ZM"+_(x,y)+T(x,d,1)+T(x,v,1)+"Z":g===null?(p="M"+_(x,y)+T(x,v,0),c&&(p+="L0,0Z")):p="M"+_(g,y)+"L"+_(x,y)+T(x,v,0)+"L"+_(g,v)+T(g,y,1)+"Z",p}U.exports={deg2rad:function(r){return r/180*w},rad2deg:function(r){return r/w*180},angleDelta:s,angleDist:function(r,t){return Math.abs(s(r,t))},isFullCircle:f,isAngleInsideSector:n,isPtInsideSector:function(r,t,a,l){return!!n(t,l)&&(a[0]<a[1]?(u=a[0],h=a[1]):(u=a[1],h=a[0]),r>=u&&r<=h);var u,h},pathArc:function(r,t,a,l,u){return i(null,r,t,a,l,u,0)},pathSector:function(r,t,a,l,u){return i(null,r,t,a,l,u,1)},pathAnnulus:function(r,t,a,l,u,h){return i(r,t,a,l,u,h,1)}}},38116:function(U,C,e){var k=e(83160).decode,A=e(63620),o=Array.isArray,w=ArrayBuffer,b=DataView;function f(t){return w.isView(t)&&!(t instanceof b)}function s(t){return o(t)||f(t)}C.isTypedArray=f,C.isArrayOrTypedArray=s,C.isArray1D=function(t){return!s(t[0])},C.ensureArray=function(t,a){return o(t)||(t=[]),t.length=a,t};var n={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(t){return t.constructor===ArrayBuffer}function r(t,a,l){if(s(t)){if(s(t[0])){for(var u=l,h=0;h<t.length;h++)u=a(u,t[h].length);return u}return t.length}return 0}n.uint8c=n.u1c,n.uint8=n.u1,n.int8=n.i1,n.uint16=n.u2,n.int16=n.i2,n.uint32=n.u4,n.int32=n.i4,n.float32=n.f4,n.float64=n.f8,C.isArrayBuffer=i,C.decodeTypedArraySpec=function(t){var a=[],l=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(t),u=l.dtype,h=n[u];if(!h)throw new Error('Error in dtype: "'+u+'"');var c=h.BYTES_PER_ELEMENT,y=l.bdata;i(y)||(y=k(y));var d=l.shape===void 0?[y.byteLength/c]:(""+l.shape).split(",");d.reverse();var v,g,x=d.length,m=+d[0],_=c*m,p=0;if(x===1)a=new h(y);else if(x===2)for(v=+d[1],g=0;g<v;g++)a[g]=new h(y,p,m),p+=_;else{if(x!==3)throw new Error("ndim: "+x+'is not supported with the shape:"'+l.shape+'"');v=+d[1];for(var S=+d[2],T=0;T<S;T++)for(a[T]=[],g=0;g<v;g++)a[T][g]=new h(y,p,m),p+=_}return a.bdata=l.bdata,a.dtype=l.dtype,a.shape=d.reverse().join(","),t._inputArray=a,a},C.isTypedArraySpec=function(t){return A(t)&&t.hasOwnProperty("dtype")&&typeof t.dtype=="string"&&t.hasOwnProperty("bdata")&&(typeof t.bdata=="string"||i(t.bdata))&&(t.shape===void 0||t.hasOwnProperty("shape")&&(typeof t.shape=="string"||typeof t.shape=="number"))},C.concat=function(){var t,a,l,u,h,c,y,d,v=[],g=!0,x=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(a?v.push(u):(a=u,h=c),o(u)?t=!1:(g=!1,x?t!==u.constructor&&(t=!1):t=u.constructor),x+=c);if(!x)return[];if(!v.length)return a;if(g)return a.concat.apply(a,v);if(t){for((y=new t(x)).set(a),l=0;l<v.length;l++)u=v[l],y.set(u,h),h+=u.length;return y}for(y=new Array(x),d=0;d<a.length;d++)y[d]=a[d];for(l=0;l<v.length;l++){for(u=v[l],d=0;d<u.length;d++)y[h+d]=u[d];h+=d}return y},C.maxRowLength=function(t){return r(t,Math.max,0)},C.minRowLength=function(t){return r(t,Math.min,1/0)}},54037:function(U,C,e){var k=e(38248),A=e(39032).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;U.exports=function(w){return typeof w=="string"&&(w=w.replace(o,"")),k(w)?Number(w):A}},73696:function(U){U.exports=function(C){var e=C._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(k){k.regl&&k.regl.clear({color:!0,depth:!0})})}},75352:function(U){U.exports=function(C){C._responsiveChartHandler&&(window.removeEventListener("resize",C._responsiveChartHandler),delete C._responsiveChartHandler)}},63064:function(U,C,e){var k=e(38248),A=e(49760),o=e(92880).extendFlat,w=e(45464),b=e(88304),f=e(76308),s=e(13448).DESELECTDIM,n=e(22296),i=e(53756).counter,r=e(20435).modHalf,t=e(38116).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;function u(h,c){var y=C.valObjectMeta[c.valType];if(c.arrayOk&&t(h))return!0;if(y.validateFunction)return y.validateFunction(h,c);var d={},v=d,g={set:function(x){v=x}};return y.coerceFunction(h,g,d,c),v!==d}C.valObjectMeta={data_array:{coerceFunction:function(h,c,y){c.set(t(h)?h:a(h)?l(h):y)}},enumerated:{coerceFunction:function(h,c,y,d){d.coerceNumber&&(h=+h),d.values.indexOf(h)===-1?c.set(y):c.set(h)},validateFunction:function(h,c){c.coerceNumber&&(h=+h);for(var y=c.values,d=0;d<y.length;d++){var v=String(y[d]);if(v.charAt(0)==="/"&&v.charAt(v.length-1)==="/"){if(new RegExp(v.substr(1,v.length-2)).test(h))return!0}else if(h===y[d])return!0}return!1}},boolean:{coerceFunction:function(h,c,y){h===!0||h===!1?c.set(h):c.set(y)}},number:{coerceFunction:function(h,c,y,d){a(h)&&(h=l(h)),!k(h)||d.min!==void 0&&h<d.min||d.max!==void 0&&h>d.max?c.set(y):c.set(+h)}},integer:{coerceFunction:function(h,c,y,d){(d.extras||[]).indexOf(h)===-1?(a(h)&&(h=l(h)),h%1||!k(h)||d.min!==void 0&&h<d.min||d.max!==void 0&&h>d.max?c.set(y):c.set(+h)):c.set(h)}},string:{coerceFunction:function(h,c,y,d){if(typeof h!="string"){var v=typeof h=="number";d.strict!==!0&&v?c.set(String(h)):c.set(y)}else d.noBlank&&!h?c.set(y):c.set(h)}},color:{coerceFunction:function(h,c,y){a(h)&&(h=l(h)),A(h).isValid()?c.set(h):c.set(y)}},colorlist:{coerceFunction:function(h,c,y){Array.isArray(h)&&h.length&&h.every(function(d){return A(d).isValid()})?c.set(h):c.set(y)}},colorscale:{coerceFunction:function(h,c,y){c.set(b.get(h,y))}},angle:{coerceFunction:function(h,c,y){a(h)&&(h=l(h)),h==="auto"?c.set("auto"):k(h)?c.set(r(+h,360)):c.set(y)}},subplotid:{coerceFunction:function(h,c,y,d){var v=d.regex||i(y);typeof h=="string"&&v.test(h)?c.set(h):c.set(y)},validateFunction:function(h,c){var y=c.dflt;return h===y||typeof h=="string"&&!!i(y).test(h)}},flaglist:{coerceFunction:function(h,c,y,d){if((d.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var v=h.split("+"),g=0;g<v.length;){var x=v[g];d.flags.indexOf(x)===-1||v.indexOf(x)<g?v.splice(g,1):g++}v.length?c.set(v.join("+")):c.set(y)}else c.set(y);else c.set(h)}},any:{coerceFunction:function(h,c,y){h===void 0?c.set(y):c.set(a(h)?l(h):h)}},info_array:{coerceFunction:function(h,c,y,d){function v(z,j,Z){var F,V={set:function(W){F=W}};return Z===void 0&&(Z=j.dflt),C.valObjectMeta[j.valType].coerceFunction(z,V,Z,j),F}if(a(h)&&(h=l(h)),t(h)){var g,x,m,_,p,S,T=d.dimensions===2||d.dimensions==="1-2"&&Array.isArray(h)&&t(h[0]),E=d.items,O=[],P=Array.isArray(E),I=P&&T&&t(E[0]),R=T&&P&&!I,H=P&&!R?E.length:h.length;if(y=Array.isArray(y)?y:[],T)for(g=0;g<H;g++)for(O[g]=[],m=t(h[g])?h[g]:[],p=R?E.length:P?E[g].length:m.length,x=0;x<p;x++)_=R?E[x]:P?E[g][x]:E,(S=v(m[x],_,(y[g]||[])[x]))!==void 0&&(O[g][x]=S);else for(g=0;g<H;g++)(S=v(h[g],P?E[g]:E,y[g]))!==void 0&&(O[g]=S);c.set(O)}else c.set(y)},validateFunction:function(h,c){if(!t(h))return!1;var y=c.items,d=Array.isArray(y),v=c.dimensions===2;if(!c.freeLength&&h.length!==y.length)return!1;for(var g=0;g<h.length;g++)if(v){if(!t(h[g])||!c.freeLength&&h[g].length!==y[g].length)return!1;for(var x=0;x<h[g].length;x++)if(!u(h[g][x],d?y[g][x]:y))return!1}else if(!u(h[g],d?y[g]:y))return!1;return!0}}},C.coerce=function(h,c,y,d,v){var g=n(y,d).get(),x=n(h,d),m=n(c,d),_=x.get(),p=c._template;if(_===void 0&&p&&(_=n(p,d).get(),p=0),v===void 0&&(v=g.dflt),g.arrayOk){if(t(_))return m.set(_),_;if(a(_))return _=l(_),m.set(_),_}var S=C.valObjectMeta[g.valType].coerceFunction;S(_,m,v,g);var T=m.get();return p&&T===v&&!u(_,g)&&(S(_=n(p,d).get(),m,v,g),T=m.get()),T},C.coerce2=function(h,c,y,d,v){var g=n(h,d),x=C.coerce(h,c,y,d,v);return g.get()!=null&&x},C.coerceFont=function(h,c,y,d){d||(d={}),y=o({},y);var v={family:h(c+".family",(y=o(y,d.overrideDflt||{})).family),size:h(c+".size",y.size),color:h(c+".color",y.color),weight:h(c+".weight",y.weight),style:h(c+".style",y.style)};if(d.noFontVariant||(v.variant=h(c+".variant",y.variant)),d.noFontLineposition||(v.lineposition=h(c+".lineposition",y.lineposition)),d.noFontTextcase||(v.textcase=h(c+".textcase",y.textcase)),!d.noFontShadow){var g=y.shadow;g==="none"&&d.autoShadowDflt&&(g="auto"),v.shadow=h(c+".shadow",g)}return v},C.coercePattern=function(h,c,y,d){if(h(c+".shape")){h(c+".solidity"),h(c+".size");var v=h(c+".fillmode")==="overlay";if(!d){var g=h(c+".bgcolor",v?y:void 0);h(c+".fgcolor",v?f.contrast(g):y)}h(c+".fgopacity",v?.5:1)}},C.coerceHoverinfo=function(h,c,y){var d,v=c._module.attributes,g=v.hoverinfo?v:w,x=g.hoverinfo;if(y._dataLength===1){var m=x.dflt==="all"?x.flags.slice():x.dflt.split("+");m.splice(m.indexOf("name"),1),d=m.join("+")}return C.coerce(h,c,g,"hoverinfo",d)},C.coerceSelectionMarkerOpacity=function(h,c){if(h.marker){var y,d,v=h.marker.opacity;v!==void 0&&(t(v)||h.selected||h.unselected||(y=v,d=s*v),c("selected.marker.opacity",y),c("unselected.marker.opacity",d))}},C.validate=u},67555:function(U,C,e){var k,A,o=e(94336).Yn,w=e(38248),b=e(24248),f=e(20435).mod,s=e(39032),n=s.BADNUM,i=s.ONEDAY,r=s.ONEHOUR,t=s.ONEMIN,a=s.ONESEC,l=s.EPOCHJD,u=e(24040),h=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,d=new Date().getFullYear()-70;function v(R){return R&&u.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}function g(R,H){return String(R+Math.pow(10,H)).substr(1)}C.dateTick0=function(R,H){var z=function(Z,F){return v(Z)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:u.getComponentMethod("calendars","CANONICAL_TICK")[Z]:F?"2000-01-02":"2000-01-01"}(R,!!H);if(H<2)return z;var j=C.dateTime2ms(z,R);return j+=i*(H-1),C.ms2DateTime(j,0,R)},C.dfltRange=function(R){return v(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},C.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"},C.dateTime2ms=function(R,H){if(C.isJSDate(R)){var z=R.getTimezoneOffset()*t,j=(R.getUTCMinutes()-R.getMinutes())*t+(R.getUTCSeconds()-R.getSeconds())*a+(R.getUTCMilliseconds()-R.getMilliseconds());if(j){var Z=3*t;z=z-Z/2+f(j-z+Z/2,Z)}return(R=Number(R)-z)>=k&&R<=A?R:n}if(typeof R!="string"&&typeof R!="number")return n;R=String(R);var F=v(H),V=R.charAt(0);!F||V!=="G"&&V!=="g"||(R=R.substr(1),H="");var W=F&&H.substr(0,7)==="chinese",re=R.match(W?y:c);if(!re)return n;var ne=re[1],te=re[3]||"1",Q=Number(re[5]||1),$=Number(re[7]||0),K=Number(re[9]||0),ae=Number(re[11]||0);if(F){if(ne.length===2)return n;var ue;ne=Number(ne);try{var se=u.getComponentMethod("calendars","getCal")(H);if(W){var he=te.charAt(te.length-1)==="i";te=parseInt(te,10),ue=se.newDate(ne,se.toMonthIndex(ne,te,he),Q)}else ue=se.newDate(ne,Number(te),Q)}catch{return n}return ue?(ue.toJD()-l)*i+$*r+K*t+ae*a:n}ne=ne.length===2?(Number(ne)+2e3-d)%100+d:Number(ne),te-=1;var pe=new Date(Date.UTC(2e3,te,Q,$,K));return pe.setUTCFullYear(ne),pe.getUTCMonth()!==te||pe.getUTCDate()!==Q?n:pe.getTime()+ae*a},k=C.MIN_MS=C.dateTime2ms("-9999"),A=C.MAX_MS=C.dateTime2ms("9999-12-31 23:59:59.9999"),C.isDateTime=function(R,H){return C.dateTime2ms(R,H)!==n};var x=90*i,m=3*r,_=5*t;function p(R,H,z,j,Z){if((H||z||j||Z)&&(R+=" "+g(H,2)+":"+g(z,2),(j||Z)&&(R+=":"+g(j,2),Z))){for(var F=4;Z%10==0;)F-=1,Z/=10;R+="."+g(Z,F)}return R}C.ms2DateTime=function(R,H,z){if(typeof R!="number"||!(R>=k&&R<=A))return n;H||(H=0);var j,Z,F,V,W,re,ne=Math.floor(10*f(R+.05,1)),te=Math.round(R-ne/10);if(v(z)){var Q=Math.floor(te/i)+l,$=Math.floor(f(R,i));try{j=u.getComponentMethod("calendars","getCal")(z).fromJD(Q).formatDate("yyyy-mm-dd")}catch{j=h("G%Y-%m-%d")(new Date(te))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;Z=H<x?Math.floor($/r):0,F=H<x?Math.floor($%r/t):0,V=H<m?Math.floor($%t/a):0,W=H<_?$%a*10+ne:0}else re=new Date(te),j=h("%Y-%m-%d")(re),Z=H<x?re.getUTCHours():0,F=H<x?re.getUTCMinutes():0,V=H<m?re.getUTCSeconds():0,W=H<_?10*re.getUTCMilliseconds()+ne:0;return p(j,Z,F,V,W)},C.ms2DateTimeLocal=function(R){if(!(R>=k+i&&R<=A-i))return n;var H=Math.floor(10*f(R+.05,1)),z=new Date(Math.round(R-H/10));return p(o("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+H)},C.cleanDate=function(R,H,z){if(R===n)return H;if(C.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(v(z))return b.error("JS Dates and milliseconds are incompatible with world calendars",R),H;if(!(R=C.ms2DateTimeLocal(+R))&&H!==void 0)return H}else if(!C.isDateTime(R,z))return b.error("unrecognized date",R),H;return R};var S=/%\d?f/g,T=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function O(R,H,z,j){R=R.replace(S,function(F){var V=Math.min(+F.charAt(1)||6,6);return(H/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0"});var Z=new Date(Math.floor(H+.05));if(R=R.replace(T,function(){return E[z("%q")(Z)]}),v(j))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,H,j)}catch{return"Invalid"}return z(R)(Z)}var P=[59,59.9,59.99,59.999,59.9999];C.formatDate=function(R,H,z,j,Z,F){if(Z=v(Z)&&Z,!H)if(z==="y")H=F.year;else if(z==="m")H=F.month;else{if(z!=="d")return function(V,W){var re=f(V+.05,i),ne=g(Math.floor(re/r),2)+":"+g(f(Math.floor(re/t),60),2);if(W!=="M"){w(W)||(W=0);var te=(100+Math.min(f(V/a,60),P[W])).toFixed(W).substr(1);W>0&&(te=te.replace(/0+$/,"").replace(/[\.]$/,"")),ne+=":"+te}return ne}(R,z)+`
`+O(F.dayMonthYear,R,j,Z);H=F.dayMonth+`
`+F.year}return O(H,R,j,Z)};var I=3*i;C.incrementMonth=function(R,H,z){z=v(z)&&z;var j=f(R,i);if(R=Math.round(R-j),z)try{var Z=Math.round(R/i)+l,F=u.getComponentMethod("calendars","getCal")(z),V=F.fromJD(Z);return H%12?F.add(V,H,"m"):F.add(V,H/12,"y"),(V.toJD()-l)*i+j}catch{b.error("invalid ms "+R+" in calendar "+z)}var W=new Date(R+I);return W.setUTCMonth(W.getUTCMonth()+H)+j-I},C.findExactDates=function(R,H){for(var z,j,Z=0,F=0,V=0,W=0,re=v(H)&&u.getComponentMethod("calendars","getCal")(H),ne=0;ne<R.length;ne++)if(j=R[ne],w(j)){if(!(j%i))if(re)try{(z=re.fromJD(j/i+l)).day()===1?z.month()===1?Z++:F++:V++}catch{}else(z=new Date(j)).getUTCDate()===1?z.getUTCMonth()===0?Z++:F++:V++}else W++;V+=F+=Z;var te=R.length-W;return{exactYears:Z/te,exactMonths:F/te,exactDays:V/te}}},52200:function(U,C,e){var k=e(33428),A=e(24248),o=e(52248),w=e(36524);function b(r){var t=r&&r.parentNode;t&&t.removeChild(r)}function f(r,t,a){var l="plotly.js-style-"+r,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var h=u.sheet;h.insertRule?h.insertRule(t+"{"+a+"}",0):h.addRule?h.addRule(t,a,0):A.warn("addStyleRule failed")}function s(r){var t=window.getComputedStyle(r,null),a=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return a==="none"?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function n(r){for(var t=[];i(r);)t.push(r),r=r.parentNode,typeof ShadowRoot=="function"&&r instanceof ShadowRoot&&(r=r.host);return t}function i(r){return r&&(r instanceof Element||r instanceof HTMLElement)}U.exports={getGraphDiv:function(r){var t;if(typeof r=="string"){if((t=document.getElementById(r))===null)throw new Error("No DOM element with id '"+r+"' exists on the page.");return t}if(r==null)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var t=k.select(r);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(r,t){f("global",r,t)},addRelatedStyleRule:f,deleteRelatedStyleRule:function(r){var t="plotly.js-style-"+r,a=document.getElementById(t);a&&b(a)},getFullTransformMatrix:function(r){var t=n(r),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(l){var u=s(l);if(u){var h=o.convertCssMatrix(u);a=w.multiply(a,a,h)}}),a},getElementTransformMatrix:s,getElementAndAncestors:n,equalDomRects:function(r,t){return r&&t&&r.top===t.top&&r.left===t.left&&r.right===t.right&&r.bottom===t.bottom}}},95924:function(U,C,e){var k=e(61252).EventEmitter,A={init:function(o){if(o._ev instanceof k)return o;var w=new k,b=new k;return o._ev=w,o._internalEv=b,o.on=w.on.bind(w),o.once=w.once.bind(w),o.removeListener=w.removeListener.bind(w),o.removeAllListeners=w.removeAllListeners.bind(w),o._internalOn=b.on.bind(b),o._internalOnce=b.once.bind(b),o._removeInternalListener=b.removeListener.bind(b),o._removeAllInternalListeners=b.removeAllListeners.bind(b),o.emit=function(f,s){typeof jQuery<"u"&&jQuery(o).trigger(f,s),w.emit(f,s),b.emit(f,s)},o},triggerHandler:function(o,w,b){var f,s;typeof jQuery<"u"&&(f=jQuery(o).triggerHandler(w,b));var n=o._ev;if(!n)return f;var i,r=n._events[w];if(!r)return f;function t(a){return a.listener?(n.removeListener(w,a.listener),a.fired?void 0:(a.fired=!0,a.listener.apply(n,[b]))):a.apply(n,[b])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)t(r[i]);return s=t(r[i]),f!==void 0?f:s},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};U.exports=A},92880:function(U,C,e){var k=e(63620),A=Array.isArray;function o(w,b,f,s){var n,i,r,t,a,l,u,h=w[0],c=w.length;if(c===2&&A(h)&&A(w[1])&&h.length===0){if(u=function(d,v){var g,x;for(g=0;g<d.length;g++){if((x=d[g])!==null&&typeof x=="object")return!1;x!==void 0&&(v[g]=x)}return!0}(w[1],h),u)return h;h.splice(0,h.length)}for(var y=1;y<c;y++)for(i in n=w[y])r=h[i],t=n[i],s&&A(t)?h[i]=t:b&&t&&(k(t)||(a=A(t)))?(a?(a=!1,l=r&&A(r)?r:[]):l=r&&k(r)?r:{},h[i]=o([l,t],b,f,s)):(t!==void 0||f)&&(h[i]=t);return h}C.extendFlat=function(){return o(arguments,!1,!1,!1)},C.extendDeep=function(){return o(arguments,!0,!1,!1)},C.extendDeepAll=function(){return o(arguments,!0,!0,!1)},C.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},68944:function(U){U.exports=function(C){for(var e={},k=[],A=0,o=0;o<C.length;o++){var w=C[o];e[w]!==1&&(e[w]=1,k[A++]=w)}return k}},43880:function(U){function C(k){return k.visible===!0}function e(k){var A=k[0].trace;return A.visible===!0&&A._length!==0}U.exports=function(k){for(var A,o=(A=k,Array.isArray(A)&&Array.isArray(A[0])&&A[0][0]&&A[0][0].trace?e:C),w=[],b=0;b<k.length;b++){var f=k[b];o(f)&&w.push(f)}return w}},27144:function(U,C,e){var k=e(33428),A=e(36116),o=e(40440),w=e(77844),b=e(42428),f=e(35536),s=e(24248),n=e(63620),i=e(22296),r=e(92065),t=Object.keys(A),a={"ISO-3":f,"USA-states":f,"country names":function(u){for(var h=0;h<t.length;h++){var c=t[h];if(new RegExp(A[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var h=u.geojson,c=window.PlotlyGeoAssets||{},y=typeof h=="string"?c[h]:h;return n(y)?y:(s.error("Oops ... something went wrong when fetching "+h),!1)}U.exports={locationToFeature:function(u,h,c){if(!h||typeof h!="string")return!1;var y,d,v,g=a[u](h);if(g){if(u==="USA-states")for(y=[],v=0;v<c.length;v++)(d=c[v]).properties&&d.properties.gu&&d.properties.gu==="USA"&&y.push(d);else y=c;for(v=0;v<y.length;v++)if((d=y[v]).id===g)return d;s.log(["Location with id",g,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var h,c,y,d,v=u.geometry,g=v.coordinates,x=u.id,m=[];function _(p){for(var S=0;S<p.length-1;S++)if(p[S][0]>0&&p[S+1][0]<0)return S;return null}switch(h=x==="RUS"||x==="FJI"?function(p){var S;if(_(p)===null)S=p;else for(S=new Array(p.length),d=0;d<p.length;d++)S[d]=[p[d][0]<0?p[d][0]+360:p[d][0],p[d][1]];m.push(r.tester(S))}:x==="ATA"?function(p){var S=_(p);if(S===null)return m.push(r.tester(p));var T=new Array(p.length+1),E=0;for(d=0;d<p.length;d++)d>S?T[E++]=[p[d][0]+360,p[d][1]]:d===S?(T[E++]=p[d],T[E++]=[p[d][0],-90]):T[E++]=p[d];var O=r.tester(T);O.pts.pop(),m.push(O)}:function(p){m.push(r.tester(p))},v.type){case"MultiPolygon":for(c=0;c<g.length;c++)for(y=0;y<g[c].length;y++)h(g[c][y]);break;case"Polygon":for(c=0;c<g.length;c++)h(g[c])}return m},getTraceGeojson:l,extractTraceFeature:function(u){var h=u[0].trace,c=l(h);if(!c)return!1;var y,d={},v=[];for(y=0;y<h._length;y++){var g=u[y];(g.loc||g.loc===0)&&(d[g.loc]=g)}function x(p){var S=i(p,h.featureidkey||"id").get(),T=d[S];if(T){var E=p.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var O={type:"Feature",id:S,geometry:E,properties:{}};O.properties.ct=function(P){var I,R=P.geometry;if(R.type==="MultiPolygon")for(var H=R.coordinates,z=0,j=0;j<H.length;j++){var Z={type:"Polygon",coordinates:H[j]},F=o.default(Z);F>z&&(z=F,I=Z)}else I=R;return w.default(I).geometry.coordinates}(O),T.fIn=p,T.fOut=O,v.push(O)}else s.log(["Location",T.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete d[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(y=0;y<m.length;y++)x(m[y]);break;case"Feature":x(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in d)s.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return v},fetchTraceGeoData:function(u){var h=window.PlotlyGeoAssets||{},c=[];function y(x){return new Promise(function(m,_){k.json(x,function(p,S){if(p){delete h[x];var T=p.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return _(new Error(T))}return h[x]=S,m(S)})})}function d(x){return new Promise(function(m,_){var p=0,S=setInterval(function(){return h[x]&&h[x]!=="pending"?(clearInterval(S),m(h[x])):p>100?(clearInterval(S),_("Unexpected error while fetching from "+x)):void p++},50)})}for(var v=0;v<u.length;v++){var g=u[v][0].trace.geojson;typeof g=="string"&&(h[g]?h[g]==="pending"&&c.push(d(g)):(h[g]="pending",c.push(y(g))))}return c},computeBbox:function(u){return b.default(u)}}},44808:function(U,C,e){var k=e(39032).BADNUM;C.calcTraceToLineCoords=function(A){for(var o=A[0].trace.connectgaps,w=[],b=[],f=0;f<A.length;f++){var s=A[f].lonlat;s[0]!==k?b.push(s):!o&&b.length>0&&(w.push(b),b=[])}return b.length>0&&w.push(b),w},C.makeLine=function(A){return A.length===1?{type:"LineString",coordinates:A[0]}:{type:"MultiLineString",coordinates:A}},C.makePolygon=function(A){if(A.length===1)return{type:"Polygon",coordinates:A};for(var o=new Array(A.length),w=0;w<A.length;w++)o[w]=[A[w]];return{type:"MultiPolygon",coordinates:o}},C.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(U,C,e){var k,A,o,w=e(20435).mod;function b(s,n,i,r,t,a,l,u){var h=i-s,c=t-s,y=l-t,d=r-n,v=a-n,g=u-a,x=h*g-y*d;if(x===0)return null;var m=(c*g-y*v)/x,_=(c*d-h*v)/x;return _<0||_>1||m<0||m>1?null:{x:s+h*m,y:n+d*m}}function f(s,n,i,r,t){var a=r*s+t*n;if(a<0)return r*r+t*t;if(a>i){var l=r-s,u=t-n;return l*l+u*u}var h=r*n-t*s;return h*h/i}C.segmentsIntersect=b,C.segmentDistance=function(s,n,i,r,t,a,l,u){if(b(s,n,i,r,t,a,l,u))return 0;var h=i-s,c=r-n,y=l-t,d=u-a,v=h*h+c*c,g=y*y+d*d,x=Math.min(f(h,c,v,t-s,a-n),f(h,c,v,l-s,u-n),f(y,d,g,s-t,n-a),f(y,d,g,i-t,r-a));return Math.sqrt(x)},C.getTextLocation=function(s,n,i,r){if(s===A&&r===o||(k={},A=s,o=r),k[i])return k[i];var t=s.getPointAtLength(w(i-r/2,n)),a=s.getPointAtLength(w(i+r/2,n)),l=Math.atan((a.y-t.y)/(a.x-t.x)),u=s.getPointAtLength(w(i,n)),h={x:(4*u.x+t.x+a.x)/6,y:(4*u.y+t.y+a.y)/6,theta:l};return k[i]=h,h},C.clearLocationCache=function(){A=null},C.getVisibleSegment=function(s,n,i){var r,t,a=n.left,l=n.right,u=n.top,h=n.bottom,c=0,y=s.getTotalLength(),d=y;function v(x){var m=s.getPointAtLength(x);x===0?r=m:x===y&&(t=m);var _=m.x<a?a-m.x:m.x>l?m.x-l:0,p=m.y<u?u-m.y:m.y>h?m.y-h:0;return Math.sqrt(_*_+p*p)}for(var g=v(c);g;){if((c+=g+i)>d)return;g=v(c)}for(g=v(d);g;){if(c>(d-=g+i))return;g=v(d)}return{min:c,max:d,len:d-c,total:y,isClosed:c===0&&d===y&&Math.abs(r.x-t.x)<.1&&Math.abs(r.y-t.y)<.1}},C.findPointOnPath=function(s,n,i,r){for(var t,a,l,u=(r=r||{}).pathLength||s.getTotalLength(),h=r.tolerance||.001,c=r.iterationLimit||30,y=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,d=0,v=0,g=u;d<c;){if(t=(v+g)/2,l=(a=s.getPointAtLength(t))[i]-n,Math.abs(l)<h)return a;y*l>0?g=t:v=t,d++}return a}},33040:function(U,C,e){var k=e(38248),A=e(49760),o=e(72160),w=e(8932),b=e(22548).defaultLine,f=e(38116).isArrayOrTypedArray,s=o(b);function n(t,a){var l=t;return l[3]*=a,l}function i(t){if(k(t))return s;var a=o(t);return a.length?a:s}function r(t){return k(t)?t:1}U.exports={formatColor:function(t,a,l){var u=t.color;u&&u._inputArray&&(u=u._inputArray);var h,c,y,d,v,g=f(u),x=f(a),m=w.extractOpts(t),_=[];if(h=m.colorscale!==void 0?w.makeColorScaleFuncFromTrace(t):i,c=g?function(S,T){return S[T]===void 0?s:o(h(S[T]))}:i,y=x?function(S,T){return S[T]===void 0?1:r(S[T])}:r,g||x)for(var p=0;p<l;p++)d=c(u,p),v=y(a,p),_[p]=n(d,v);else _=n(o(u),a);return _},parseColorScale:function(t){var a=w.extractOpts(t),l=a.colorscale;return a.reversescale&&(l=w.flipScale(a.colorscale)),l.map(function(u){var h=u[0],c=A(u[1]).toRgb();return{index:h,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(U,C,e){var k=e(35536);function A(o){return[o]}U.exports={keyFun:function(o){return o.key},repeat:A,descend:k,wrap:A,unwrap:function(o){return o[0]}}},35536:function(U){U.exports=function(C){return C}},1396:function(U){U.exports=function(C,e){if(!e)return C;var k=1/Math.abs(e),A=k>1?(k*C+k*e)/k:C+e,o=String(A).length;if(o>16){var w=String(e).length;if(o>=String(C).length+w){var b=parseFloat(A).toPrecision(12);b.indexOf("e+")===-1&&(A=+b)}}return A}},3400:function(U,C,e){var k=e(33428),A=e(94336).E9,o=e(57624).E9,w=e(38248),b=e(39032),f=b.FP_SAFE,s=-f,n=b.BADNUM,i=U.exports={};i.adjustFormat=function($){return!$||/^\d[.]\df/.test($)||/[.]\d%/.test($)?$:$==="0.f"?"~f":/^\d%/.test($)?"~%":/^\ds/.test($)?"~s":!/^[~,.0$]/.test($)&&/[&fps]/.test($)?"~"+$:$};var r={};i.warnBadFormat=function($){var K=String($);r[K]||(r[K]=1,i.warn('encountered bad format: "'+K+'"'))},i.noFormat=function($){return String($)},i.numberFormat=function($){var K;try{K=o(i.adjustFormat($))}catch{return i.warnBadFormat($),i.noFormat}return K},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var t=e(38116);i.isArrayBuffer=t.isArrayBuffer,i.isTypedArray=t.isTypedArray,i.isArrayOrTypedArray=t.isArrayOrTypedArray,i.isArray1D=t.isArray1D,i.ensureArray=t.ensureArray,i.concat=t.concat,i.maxRowLength=t.maxRowLength,i.minRowLength=t.minRowLength;var a=e(20435);i.mod=a.mod,i.modHalf=a.modHalf;var l=e(63064);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(67555);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var h=e(14952);i.findBin=h.findBin,i.sorterAsc=h.sorterAsc,i.sorterDes=h.sorterDes,i.distinctVals=h.distinctVals,i.roundUp=h.roundUp,i.sort=h.sort,i.findIndexOfMin=h.findIndexOfMin,i.sortObjectKeys=e(95376);var c=e(63084);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var y=e(52248);i.init2dArray=y.init2dArray,i.transposeRagged=y.transposeRagged,i.dot=y.dot,i.translationMatrix=y.translationMatrix,i.rotationMatrix=y.rotationMatrix,i.rotationXYMatrix=y.rotationXYMatrix,i.apply3DTransform=y.apply3DTransform,i.apply2DTransform=y.apply2DTransform,i.apply2DTransform2=y.apply2DTransform2,i.convertCssMatrix=y.convertCssMatrix,i.inverseTransformMatrix=y.inverseTransformMatrix;var d=e(11864);i.deg2rad=d.deg2rad,i.rad2deg=d.rad2deg,i.angleDelta=d.angleDelta,i.angleDist=d.angleDist,i.isFullCircle=d.isFullCircle,i.isAngleInsideSector=d.isAngleInsideSector,i.isPtInsideSector=d.isPtInsideSector,i.pathArc=d.pathArc,i.pathSector=d.pathSector,i.pathAnnulus=d.pathAnnulus;var v=e(98308);i.isLeftAnchor=v.isLeftAnchor,i.isCenterAnchor=v.isCenterAnchor,i.isRightAnchor=v.isRightAnchor,i.isTopAnchor=v.isTopAnchor,i.isMiddleAnchor=v.isMiddleAnchor,i.isBottomAnchor=v.isBottomAnchor;var g=e(92348);i.segmentsIntersect=g.segmentsIntersect,i.segmentDistance=g.segmentDistance,i.getTextLocation=g.getTextLocation,i.clearLocationCache=g.clearLocationCache,i.getVisibleSegment=g.getVisibleSegment,i.findPointOnPath=g.findPointOnPath;var x=e(92880);i.extendFlat=x.extendFlat,i.extendDeep=x.extendDeep,i.extendDeepAll=x.extendDeepAll,i.extendDeepNoArrays=x.extendDeepNoArrays;var m=e(24248);i.log=m.log,i.warn=m.warn,i.error=m.error;var _=e(53756);i.counterRegex=_.counter;var p=e(91200);i.throttle=p.throttle,i.throttleDone=p.done,i.clearThrottle=p.clear;var S=e(52200);function T($){var K={};for(var ae in $)for(var ue=$[ae],se=0;se<ue.length;se++)K[ue[se]]=+ae;return K}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function($){return w($)?($=Number($))>f||$<s?n:$:n},i.isIndex=function($,K){return!(K!==void 0&&$>=K)&&w($)&&$>=0&&$%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function($,K){for(var ae=new Array(K),ue=0;ue<K;ue++)ae[ue]=$;return ae},i.swapAttrs=function($,K,ae,ue){ae||(ae="x"),ue||(ue="y");for(var se=0;se<K.length;se++){var he=K[se],pe=i.nestedProperty($,he.replace("?",ae)),de=i.nestedProperty($,he.replace("?",ue)),xe=pe.get();pe.set(de.get()),de.set(xe)}},i.raiseToTop=function($){$.parentNode.appendChild($)},i.cancelTransition=function($){return $.transition().duration(0)},i.constrain=function($,K,ae){return K>ae?Math.max(ae,Math.min(K,$)):Math.max(K,Math.min(ae,$))},i.bBoxIntersect=function($,K,ae){return ae=ae||0,$.left<=K.right+ae&&K.left<=$.right+ae&&$.top<=K.bottom+ae&&K.top<=$.bottom+ae},i.simpleMap=function($,K,ae,ue,se){for(var he=$.length,pe=new Array(he),de=0;de<he;de++)pe[de]=K($[de],ae,ue,se);return pe},i.randstr=function $(K,ae,ue,se){if(ue||(ue=16),ae===void 0&&(ae=24),ae<=0)return"0";var he,pe,de=Math.log(Math.pow(2,ae))/Math.log(ue),xe="";for(he=2;de===1/0;he*=2)de=Math.log(Math.pow(2,ae/he))/Math.log(ue)*he;var _e=de-Math.floor(de);for(he=0;he<Math.floor(de);he++)xe=Math.floor(Math.random()*ue).toString(ue)+xe;_e&&(pe=Math.pow(ue,_e),xe=Math.floor(Math.random()*pe).toString(ue)+xe);var be=parseInt(xe,ue);return K&&K[xe]||be!==1/0&&be>=Math.pow(2,ae)?se>10?(i.warn("randstr failed uniqueness"),xe):$(K,ae,ue,(se||0)+1):xe},i.OptionControl=function($,K){$||($={}),K||(K="opt");var ae={optionList:[],_newoption:function(ue){ue[K]=$,ae[ue.name]=ue,ae.optionList.push(ue)}};return ae["_"+K]=$,ae},i.smooth=function($,K){if((K=Math.round(K)||0)<2)return $;var ae,ue,se,he,pe=$.length,de=2*pe,xe=2*K-1,_e=new Array(xe),be=new Array(pe);for(ae=0;ae<xe;ae++)_e[ae]=(1-Math.cos(Math.PI*(ae+1)/K))/(2*K);for(ae=0;ae<pe;ae++){for(he=0,ue=0;ue<xe;ue++)(se=ae+ue+1-K)<-pe?se-=de*Math.round(se/de):se>=de&&(se-=de*Math.floor(se/de)),se<0?se=-1-se:se>=pe&&(se=de-1-se),he+=$[se]*_e[ue];be[ae]=he}return be},i.syncOrAsync=function($,K,ae){var ue;function se(){return i.syncOrAsync($,K,ae)}for(;$.length;)if((ue=(0,$.splice(0,1)[0])(K))&&ue.then)return ue.then(se);return ae&&ae(K)},i.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},i.noneOrAll=function($,K,ae){if($){var ue,se=!1,he=!0;for(ue=0;ue<ae.length;ue++)$[ae[ue]]!=null?se=!0:he=!1;if(se&&!he)for(ue=0;ue<ae.length;ue++)$[ae[ue]]=K[ae[ue]]}},i.mergeArray=function($,K,ae,ue){var se=typeof ue=="function";if(i.isArrayOrTypedArray($))for(var he=Math.min($.length,K.length),pe=0;pe<he;pe++){var de=$[pe];K[pe][ae]=se?ue(de):de}},i.mergeArrayCastPositive=function($,K,ae){return i.mergeArray($,K,ae,function(ue){var se=+ue;return isFinite(se)&&se>0?se:0})},i.fillArray=function($,K,ae,ue){if(ue=ue||i.identity,i.isArrayOrTypedArray($))for(var se=0;se<K.length;se++)K[se][ae]=ue($[se])},i.castOption=function($,K,ae,ue){ue=ue||i.identity;var se=i.nestedProperty($,ae).get();return i.isArrayOrTypedArray(se)?Array.isArray(K)&&i.isArrayOrTypedArray(se[K[0]])?ue(se[K[0]][K[1]]):ue(se[K]):se},i.extractOption=function($,K,ae,ue){if(ae in $)return $[ae];var se=i.nestedProperty(K,ue).get();return Array.isArray(se)?void 0:se},i.tagSelected=function($,K,ae){var ue,se,he=K.selectedpoints,pe=K._indexToPoints;pe&&(ue=T(pe));for(var de=0;de<he.length;de++){var xe=he[de];if(i.isIndex(xe)||i.isArrayOrTypedArray(xe)&&i.isIndex(xe[0])&&i.isIndex(xe[1])){var _e=ue?ue[xe]:xe,be=ae?ae[_e]:_e;(se=be)!==void 0&&se<$.length&&($[be].selected=1)}}},i.selIndices2selPoints=function($){var K=$.selectedpoints,ae=$._indexToPoints;if(ae){for(var ue=T(ae),se=[],he=0;he<K.length;he++){var pe=K[he];if(i.isIndex(pe)){var de=ue[pe];i.isIndex(de)&&se.push(de)}}return se}return K},i.getTargetArray=function($,K){var ae=K.target;if(typeof ae=="string"&&ae){var ue=i.nestedProperty($,ae).get();return!!i.isArrayOrTypedArray(ue)&&ue}return!!i.isArrayOrTypedArray(ae)&&ae},i.minExtend=function $(K,ae,ue){var se={};typeof ae!="object"&&(ae={});var he,pe,de,xe=ue==="pieLike"?-1:3,_e=Object.keys(K);for(he=0;he<_e.length;he++)de=K[pe=_e[he]],pe.charAt(0)!=="_"&&typeof de!="function"&&(pe==="module"?se[pe]=de:Array.isArray(de)?se[pe]=pe==="colorscale"||xe===-1?de.slice():de.slice(0,xe):i.isTypedArray(de)?se[pe]=xe===-1?de.subarray():de.subarray(0,xe):se[pe]=de&&typeof de=="object"?$(K[pe],ae[pe],ue):de);for(_e=Object.keys(ae),he=0;he<_e.length;he++)typeof(de=ae[pe=_e[he]])=="object"&&pe in se&&typeof se[pe]=="object"||(se[pe]=de);return se},i.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},i.containsAny=function($,K){for(var ae=0;ae<K.length;ae++)if($.indexOf(K[ae])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;i.isIOS=function(){return O.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var $=P.exec(window.navigator.userAgent);if($&&$.length===2){var K=parseInt($[1]);if(!isNaN(K))return K}return null},i.isD3Selection=function($){return $ instanceof k.selection},i.ensureSingle=function($,K,ae,ue){var se=$.select(K+(ae?"."+ae:""));if(se.size())return se;var he=$.append(K);return ae&&he.classed(ae,!0),ue&&he.call(ue),he},i.ensureSingleById=function($,K,ae,ue){var se=$.select(K+"#"+ae);if(se.size())return se;var he=$.append(K).attr("id",ae);return ue&&he.call(ue),he},i.objectFromPath=function($,K){for(var ae,ue=$.split("."),se=ae={},he=0;he<ue.length;he++){var pe=ue[he],de=null,xe=ue[he].match(/(.*)\[([0-9]+)\]/);xe?(pe=xe[1],de=xe[2],ae=ae[pe]=[],he===ue.length-1?ae[de]=K:ae[de]={},ae=ae[de]):(he===ue.length-1?ae[pe]=K:ae[pe]={},ae=ae[pe])}return se};var I=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function H($){return $.slice(0,2)==="__"}i.expandObjectPaths=function($){var K,ae,ue,se,he,pe,de;if(typeof $=="object"&&!Array.isArray($)){for(ae in $)if($.hasOwnProperty(ae))if(K=ae.match(I)){if(se=$[ae],H(ue=K[1]))continue;delete $[ae],$[ue]=i.extendDeepNoArrays($[ue]||{},i.objectFromPath(ae,i.expandObjectPaths(se))[ue])}else if(K=ae.match(R)){if(se=$[ae],H(ue=K[1]))continue;if(he=parseInt(K[2]),delete $[ae],$[ue]=$[ue]||[],K[3]===".")de=K[4],pe=$[ue][he]=$[ue][he]||{},i.extendDeepNoArrays(pe,i.objectFromPath(de,i.expandObjectPaths(se)));else{if(H(ue))continue;$[ue][he]=i.expandObjectPaths(se)}}else{if(H(ae))continue;$[ae]=i.expandObjectPaths($[ae])}}return $},i.numSeparate=function($,K,ae){if(ae||(ae=!1),typeof K!="string"||K.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var ue=/(\d+)(\d{3})/,se=K.charAt(0),he=K.charAt(1),pe=$.split("."),de=pe[0],xe=pe.length>1?se+pe[1]:"";if(he&&(pe.length>1||de.length>4||ae))for(;ue.test(de);)de=de.replace(ue,"$1"+he+"$2");return de+xe},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;i.templateString=function($,K){var ae={};return $.replace(i.TEMPLATE_STRING_REGEX,function(ue,se){var he;return z.test(se)?he=K[se]:(ae[se]=ae[se]||i.nestedProperty(K,se).get,he=ae[se]()),i.isValidTextValue(he)?he:""})};var j={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return re.apply(j,arguments)};var Z={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return re.apply(Z,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return re.apply(V,arguments)};var W=/^[:|\|]/;function re($,K,ae){var ue=this,se=arguments;K||(K={});var he={};return $.replace(i.TEMPLATE_STRING_REGEX,function(pe,de,xe){var _e=de==="_xother"||de==="_yother",be=de==="_xother_"||de==="_yother_",Le=de==="xother_"||de==="yother_",De=de==="xother"||de==="yother"||_e||Le||be,ye=de;(_e||be)&&(ye=ye.substring(1)),(Le||be)&&(ye=ye.substring(0,ye.length-1));var le,oe,ve,Ce=null,ke=null;if(ue.parseMultDiv){var Ae=function(ge){var Te=ge.match(F);return Te?{key:Te[1],op:Te[2],number:Number(Te[3])}:{key:ge,op:null,number:null}}(ye);ye=Ae.key,Ce=Ae.op,ke=Ae.number}if(De){if((le=K[ye])===void 0)return""}else for(ve=3;ve<se.length;ve++)if(oe=se[ve]){if(oe.hasOwnProperty(ye)){le=oe[ye];break}if(z.test(ye)||(le=i.nestedProperty(oe,ye).get(),(le=he[ye]||i.nestedProperty(oe,ye).get())&&(he[ye]=le)),le!==void 0)break}if(le!==void 0&&(Ce==="*"&&(le*=ke),Ce==="/"&&(le/=ke)),le===void 0&&ue)return ue.count<ue.max&&(i.warn("Variable '"+ye+"' in "+ue.name+" could not be found!"),le=pe),ue.count===ue.max&&i.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,pe;if(xe){var Ee;if(xe[0]===":"&&(Ee=ae?ae.numberFormat:i.numberFormat,le!==""&&(le=Ee(xe.replace(W,""))(le))),xe[0]==="|"){Ee=ae?ae.timeFormat:A;var ze=i.dateTime2ms(le);le=i.formatDate(ze,xe.replace(W,""),!1,Ee)}}else{var Fe=ye+"Label";K.hasOwnProperty(Fe)&&(le=K[Fe])}return De&&(le="("+le+")",(_e||be)&&(le=" "+le),(Le||be)&&(le+=" ")),le})}i.subplotSort=function($,K){for(var ae=Math.min($.length,K.length)+1,ue=0,se=0,he=0;he<ae;he++){var pe=$.charCodeAt(he)||0,de=K.charCodeAt(he)||0,xe=pe>=48&&pe<=57,_e=de>=48&&de<=57;if(xe&&(ue=10*ue+pe-48),_e&&(se=10*se+de-48),!xe||!_e){if(ue!==se)return ue-se;if(pe!==de)return pe-de}}return se-ue};var ne=2e9;i.seedPseudoRandom=function(){ne=2e9},i.pseudoRandom=function(){var $=ne;return ne=(69069*ne+1)%4294967296,Math.abs(ne-$)<429496729?i.pseudoRandom():ne/4294967296},i.fillText=function($,K,ae){var ue=Array.isArray(ae)?function(pe){ae.push(pe)}:function(pe){ae.text=pe},se=i.extractOption($,K,"htx","hovertext");if(i.isValidTextValue(se))return ue(se);var he=i.extractOption($,K,"tx","text");return i.isValidTextValue(he)?ue(he):void 0},i.isValidTextValue=function($){return $||$===0},i.formatPercent=function($,K){K=K||0;for(var ae=(Math.round(100*$*Math.pow(10,K))*Math.pow(.1,K)).toFixed(K)+"%",ue=0;ue<K;ue++)ae.indexOf(".")!==-1&&(ae=(ae=ae.replace("0%","%")).replace(".%","%"));return ae},i.isHidden=function($){var K=window.getComputedStyle($).display;return!K||K==="none"},i.strTranslate=function($,K){return $||K?"translate("+$+","+K+")":""},i.strRotate=function($){return $?"rotate("+$+")":""},i.strScale=function($){return $!==1?"scale("+$+")":""},i.getTextTransform=function($){var K=$.noCenter,ae=$.textX,ue=$.textY,se=$.targetX,he=$.targetY,pe=$.anchorX||0,de=$.anchorY||0,xe=$.rotate,_e=$.scale;return _e?_e>1&&(_e=1):_e=0,i.strTranslate(se-_e*(ae+pe),he-_e*(ue+de))+i.strScale(_e)+(xe?"rotate("+xe+(K?"":" "+ae+" "+ue)+")":"")},i.setTransormAndDisplay=function($,K){$.attr("transform",i.getTextTransform(K)),$.style("display",K.scale?null:"none")},i.ensureUniformFontSize=function($,K){var ae=i.extendFlat({},K);return ae.size=Math.max(K.size,$._fullLayout.uniformtext.minsize||0),ae},i.join2=function($,K,ae){var ue=$.length;return ue>1?$.slice(0,-1).join(K)+ae+$[ue-1]:$.join(K)},i.bigFont=function($){return Math.round(1.2*$)};var te=i.getFirefoxVersion(),Q=te!==null&&te<86;i.getPositionFromD3Event=function(){return Q?[k.event.layerX,k.event.layerY]:[k.event.offsetX,k.event.offsetY]}},63620:function(U){U.exports=function(C){return window&&window.process&&window.process.versions?Object.prototype.toString.call(C)==="[object Object]":Object.prototype.toString.call(C)==="[object Object]"&&Object.getPrototypeOf(C).hasOwnProperty("hasOwnProperty")}},37804:function(U,C,e){var k=e(22296),A=/^\w*$/;U.exports=function(o,w,b,f){var s,n,i;b=b||"name",f=f||"value";var r={};w&&w.length?(i=k(o,w),n=i.get()):n=o,w=w||"";var t={};if(n)for(s=0;s<n.length;s++)t[n[s][b]]=s;var a=A.test(f),l={set:function(u,h){var c=h===null?4:0;if(!n){if(!i||c===4)return;n=[],i.set(n)}var y=t[u];if(y===void 0){if(c===4)return;c|=3,y=n.length,t[u]=y}else h!==(a?n[y][f]:k(n[y],f).get())&&(c|=2);var d=n[y]=n[y]||{};return d[b]=u,a?d[f]=h:k(d,f).set(h),h!==null&&(c&=-5),r[y]=r[y]|c,l},get:function(u){if(n){var h=t[u];return h===void 0?void 0:a?n[h][f]:k(n[h],f).get()}},rename:function(u,h){var c=t[u];return c===void 0||(r[c]=1|r[c],t[h]=c,delete t[u],n[c][b]=h),l},remove:function(u){var h=t[u];if(h===void 0)return l;var c=n[h];if(Object.keys(c).length>2)return r[h]=2|r[h],l.set(u,null);if(a){for(s=h;s<n.length;s++)r[s]=3|r[s];for(s=h;s<n.length;s++)t[n[s][b]]--;n.splice(h,1),delete t[u]}else k(c,f).set(null),r[h]=6|r[h];return l},constructUpdate:function(){for(var u,h,c={},y=Object.keys(r),d=0;d<y.length;d++)h=y[d],u=w+"["+h+"]",n[h]?(1&r[h]&&(c[u+"."+b]=n[h][b]),2&r[h]&&(c[u+"."+f]=a?4&r[h]?null:n[h][f]:4&r[h]?null:k(n[h],f).get())):c[u]=null;return c}};return l}},98356:function(U,C,e){var k=e(24040);U.exports=function(A,o){for(var w=A._context.locale,b=0;b<2;b++){for(var f=A._context.locales,s=0;s<2;s++){var n=(f[w]||{}).dictionary;if(n){var i=n[o];if(i)return i}f=k.localeRegistry}var r=w.split("-")[0];if(r===w)break;w=r}return o}},24248:function(U,C,e){var k=e(20556).dfltConfig,A=e(41792),o=U.exports={};o.log=function(){var w;if(k.logging>1){var b=["LOG:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.trace.apply(console,b)}if(k.notifyOnLogging>1){var f=[];for(w=0;w<arguments.length;w++)f.push(arguments[w]);A(f.join("<br>"),"long")}},o.warn=function(){var w;if(k.logging>0){var b=["WARN:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.trace.apply(console,b)}if(k.notifyOnLogging>0){var f=[];for(w=0;w<arguments.length;w++)f.push(arguments[w]);A(f.join("<br>"),"stick")}},o.error=function(){var w;if(k.logging>0){var b=["ERROR:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.error.apply(console,b)}if(k.notifyOnLogging>0){var f=[];for(w=0;w<arguments.length;w++)f.push(arguments[w]);A(f.join("<br>"),"stick")}}},30988:function(U,C,e){var k=e(33428);U.exports=function(A,o,w){var b=A.selectAll("g."+w.replace(/\s/g,".")).data(o,function(s){return s[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",w),b.order();var f=A.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(s){s[0][f]=k.select(this)}),b}},52248:function(U,C,e){var k=e(36524);C.init2dArray=function(A,o){for(var w=new Array(A),b=0;b<A;b++)w[b]=new Array(o);return w},C.transposeRagged=function(A){var o,w,b=0,f=A.length;for(o=0;o<f;o++)b=Math.max(b,A[o].length);var s=new Array(b);for(o=0;o<b;o++)for(s[o]=new Array(f),w=0;w<f;w++)s[o][w]=A[w][o];return s},C.dot=function(A,o){if(!A.length||!o.length||A.length!==o.length)return null;var w,b,f=A.length;if(A[0].length)for(w=new Array(f),b=0;b<f;b++)w[b]=C.dot(A[b],o);else if(o[0].length){var s=C.transposeRagged(o);for(w=new Array(s.length),b=0;b<s.length;b++)w[b]=C.dot(A,s[b])}else for(w=0,b=0;b<f;b++)w+=A[b]*o[b];return w},C.translationMatrix=function(A,o){return[[1,0,A],[0,1,o],[0,0,1]]},C.rotationMatrix=function(A){var o=A*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},C.rotationXYMatrix=function(A,o,w){return C.dot(C.dot(C.translationMatrix(o,w),C.rotationMatrix(A)),C.translationMatrix(-o,-w))},C.apply3DTransform=function(A){return function(){var o=arguments,w=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return C.dot(A,[w[0],w[1],w[2],1]).slice(0,3)}},C.apply2DTransform=function(A){return function(){var o=arguments;o.length===3&&(o=o[0]);var w=arguments.length===1?o[0]:[o[0],o[1]];return C.dot(A,[w[0],w[1],1]).slice(0,2)}},C.apply2DTransform2=function(A){var o=C.apply2DTransform(A);return function(w){return o(w.slice(0,2)).concat(o(w.slice(2,4)))}},C.convertCssMatrix=function(A){if(A){var o=A.length;if(o===16)return A;if(o===6)return[A[0],A[1],0,0,A[2],A[3],0,0,0,0,1,0,A[4],A[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},C.inverseTransformMatrix=function(A){var o=[];return k.invert(o,A),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},20435:function(U){U.exports={mod:function(C,e){var k=C%e;return k<0?k+e:k},modHalf:function(C,e){return Math.abs(C)>e/2?C-Math.round(C/e)*e:C}}},22296:function(U,C,e){var k=e(38248),A=e(38116).isArrayOrTypedArray;function o(r,t){return function(){var a,l,u,h,c,y=r;for(h=0;h<t.length-1;h++){if((a=t[h])===-1){for(l=!0,u=[],c=0;c<y.length;c++)u[c]=o(y[c],t.slice(h+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof a=="number"&&!A(y)||typeof(y=y[a])!="object"||y===null)return}if(typeof y=="object"&&y!==null&&(u=y[t[h]])!==null)return u}}U.exports=function(r,t){if(k(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var a,l,u,h,c=t.split(".");for(h=0;h<c.length;h++)if(String(c[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<c.length;){if(a=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(a[1])c[h]=a[1];else{if(h!==0)throw"bad property string";c.splice(0,1)}for(l=a[2].substr(1,a[2].length-2).split("]["),u=0;u<l.length;u++)h++,c.splice(h,0,Number(l[u]))}h++}return typeof r!="object"?function(y,d,v){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:v,obj:y}}(r,t,c):{set:f(r,c,t),get:o(r,c),astr:t,parts:c,obj:r}};var w=/(^|\.)args\[/;function b(r,t){return r===void 0||r===null&&!t.match(w)}function f(r,t,a){return function(l){var u,h,c=r,y="",d=b(l,a);for(h=0;h<t.length-1;h++){if(typeof(u=t[h])=="number"&&!A(c))throw"array index but container is not an array";if(u===-1){if(d=!n(c,t.slice(h+1),l,a))break;return}if(!i(c,u,t[h+1],d))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";y=s(y,u)}if(d){if(h===t.length-1&&(delete c[t[h]],Array.isArray(c)&&+t[h]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[t[h]]=l}}function s(r,t){var a=t;return k(t)?a="["+t+"]":r&&(a="."+t),r+a}function n(r,t,a,l){var u,h=A(a),c=!0,y=a,d=l.replace("-1",0),v=!h&&b(a,d),g=t[0];for(u=0;u<r.length;u++)d=l.replace("-1",u),h&&(v=b(y=a[u%a.length],d)),v&&(c=!1),i(r,u,g,v)&&f(r[u],t,l.replace("-1",u))(y);return c}function i(r,t,a,l){if(r[t]===void 0){if(l)return!1;r[t]=typeof a=="number"?[]:{}}return!0}},16628:function(U){U.exports=function(){}},41792:function(U,C,e){var k=e(33428),A=e(38248),o=[];U.exports=function(w,b){if(o.indexOf(w)===-1){o.push(w);var f=1e3;A(b)?f=b:b==="long"&&(f=3e3);var s=k.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var r=k.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(n)});for(var t=r.append("p"),a=i.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&t.append("br"),t.append("span").text(a[l]);b==="stick"?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(f).call(n)})}function n(i){i.duration(700).style("opacity",0).each("end",function(r){var t=o.indexOf(r);t!==-1&&o.splice(t,1),k.select(this).remove()})}}},72213:function(U,C,e){var k=e(93972),A="data-savedcursor";U.exports=function(o,w){var b=o.attr(A);if(w){if(!b){for(var f=(o.attr("class")||"").split(" "),s=0;s<f.length;s++){var n=f[s];n.indexOf("cursor-")===0&&o.attr(A,n.substr(7)).classed(n,!1)}o.attr(A)||o.attr(A,"!!")}k(o,w)}else b&&(o.attr(A,null),b==="!!"?k(o):k(o,b))}},92065:function(U,C,e){var k=e(52248).dot,A=e(39032).BADNUM,o=U.exports={};o.tester=function(w){var b,f=w.slice(),s=f[0][0],n=s,i=f[0][1],r=i;for(f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),b=1;b<f.length;b++)s=Math.min(s,f[b][0]),n=Math.max(n,f[b][0]),i=Math.min(i,f[b][1]),r=Math.max(r,f[b][1]);var t,a=!1;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(a=!0,t=function(h){return h[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(a=!0,t=function(h){return h[1]===f[0][1]}));var l=!0,u=f[0];for(b=1;b<f.length;b++)if(u[0]!==f[b][0]||u[1]!==f[b][1]){l=!1;break}return{xmin:s,xmax:n,ymin:i,ymax:r,pts:f,contains:a?function(h,c){var y=h[0],d=h[1];return!(y===A||y<s||y>n||d===A||d<i||d>r||c&&t(h))}:function(h,c){var y=h[0],d=h[1];if(y===A||y<s||y>n||d===A||d<i||d>r)return!1;var v,g,x,m,_,p=f.length,S=f[0][0],T=f[0][1],E=0;for(v=1;v<p;v++)if(g=S,x=T,S=f[v][0],T=f[v][1],!(y<(m=Math.min(g,S))||y>Math.max(g,S)||d>Math.max(x,T)))if(d<Math.min(x,T))y!==m&&E++;else{if(d===(_=S===g?d:x+(y-g)*(T-x)/(S-g)))return v!==1||!c;d<=_&&y!==m&&E++}return E%2==1},isRect:a,degenerate:l}},o.isSegmentBent=function(w,b,f,s){var n,i,r,t=w[b],a=[w[f][0]-t[0],w[f][1]-t[1]],l=k(a,a),u=Math.sqrt(l),h=[-a[1]/u,a[0]/u];for(n=b+1;n<f;n++)if(i=[w[n][0]-t[0],w[n][1]-t[1]],(r=k(i,a))<0||r>l||Math.abs(k(i,h))>s)return!0;return!1},o.filter=function(w,b){var f=[w[0]],s=0,n=0;function i(r){w.push(r);var t=f.length,a=s;f.splice(n+1);for(var l=a+1;l<w.length;l++)(l===w.length-1||o.isSegmentBent(w,a,l+1,b))&&(f.push(w[l]),f.length<t-2&&(s=l,n=f.length-1),a=l)}return w.length>1&&i(w.pop()),{addPt:i,raw:w,filtered:f}}},5048:function(U,C,e){var k=e(16576),A=e(28624);U.exports=function(o,w,b){var f=o._fullLayout,s=!0;return f._glcanvas.each(function(n){if(n.regl)n.regl.preloadCachedCode(b);else if(!n.pick||f._has("parcoords")){try{n.regl=A({canvas:this,attributes:{antialias:!n.pick,preserveDrawingBuffer:!0},pixelRatio:o._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:b||{}})}catch{s=!1}n.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){o&&o.emit&&o.emit("plotly_webglcontextlost",{event:i,layer:n.key})},!1)}}),s||k({container:f._glcontainer.node()}),s}},34296:function(U,C,e){var k=e(38248),A=e(25928);U.exports=function(o){var w;if(typeof(w=o&&o.hasOwnProperty("userAgent")?o.userAgent:function(){var t;return typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),t}())!="string")return!0;var b=A({ua:{headers:{"user-agent":w}},tablet:!0,featureDetect:!1});if(!b){for(var f=w.split(" "),s=1;s<f.length;s++)if(f[s].indexOf("Safari")!==-1)for(var n=s-1;n>-1;n--){var i=f[n];if(i.substr(0,8)==="Version/"){var r=i.substr(8).split(".")[0];if(k(r)&&(r=+r),r>=13)return!0}}}return b}},52416:function(U){U.exports=function(C,e){if(e instanceof RegExp){for(var k=e.toString(),A=0;A<C.length;A++)if(C[A]instanceof RegExp&&C[A].toString()===k)return C;C.push(e)}else!e&&e!==0||C.indexOf(e)!==-1||C.push(e);return C}},94552:function(U,C,e){var k=e(3400),A=e(20556).dfltConfig,o={add:function(w,b,f,s,n){var i,r;w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},r=w.undoQueue.index,w.autoplay?w.undoQueue.inSequence||(w.autoplay=!1):(!w.undoQueue.sequence||w.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(r,w.undoQueue.queue.length-r,i),w.undoQueue.index+=1):i=w.undoQueue.queue[r-1],w.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(f),i.redo.calls.push(s),i.redo.args.push(n)),w.undoQueue.queue.length>A.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--))},startSequence:function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},stopSequence:function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},undo:function(w){var b,f;if(!(w.undoQueue===void 0||isNaN(w.undoQueue.index)||w.undoQueue.index<=0)){for(w.undoQueue.index--,b=w.undoQueue.queue[w.undoQueue.index],w.undoQueue.inSequence=!0,f=0;f<b.undo.calls.length;f++)o.plotDo(w,b.undo.calls[f],b.undo.args[f]);w.undoQueue.inSequence=!1,w.autoplay=!1}},redo:function(w){var b,f;if(!(w.undoQueue===void 0||isNaN(w.undoQueue.index)||w.undoQueue.index>=w.undoQueue.queue.length)){for(b=w.undoQueue.queue[w.undoQueue.index],w.undoQueue.inSequence=!0,f=0;f<b.redo.calls.length;f++)o.plotDo(w,b.redo.calls[f],b.redo.args[f]);w.undoQueue.inSequence=!1,w.autoplay=!1,w.undoQueue.index++}},plotDo:function(w,b,f){w.autoplay=!0,f=function(s,n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r[t]=i===s?i:typeof i=="object"?Array.isArray(i)?k.extendDeep([],i):k.extendDeepAll({},i):i;return r}(w,f),b.apply(null,f)}};U.exports=o},53756:function(U,C){C.counter=function(e,k,A,o){var w=(k||"")+(A?"":"$"),b=o===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+w):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+w)}},23193:function(U){var C=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;U.exports=function(k,A){for(;A;){var o=k.match(C);if(o)k=o[1];else{if(!k.match(e))throw new Error("bad relativeAttr call:"+[k,A]);k=""}if(A.charAt(0)!=="^")break;A=A.slice(1)}return k&&A.charAt(0)!=="["?k+"."+A:k+A}},51528:function(U,C,e){var k=e(38116).isArrayOrTypedArray,A=e(63620);U.exports=function o(w,b){for(var f in b){var s=b[f],n=w[f];if(n!==s)if(f.charAt(0)==="_"||typeof s=="function"){if(f in w)continue;w[f]=s}else if(k(s)&&k(n)&&A(s[0])){if(f==="customdata"||f==="ids")continue;for(var i=Math.min(s.length,n.length),r=0;r<i;r++)n[r]!==s[r]&&A(s[r])&&A(n[r])&&o(n[r],s[r])}else A(s)&&A(n)&&(o(n,s),Object.keys(n).length||delete w[f])}}},14952:function(U,C,e){var k=e(38248),A=e(24248),o=e(35536),w=e(39032).BADNUM,b=1e-9;function f(r,t){return r<t}function s(r,t){return r<=t}function n(r,t){return r>t}function i(r,t){return r>=t}C.findBin=function(r,t,a){if(k(t.start))return a?Math.ceil((r-t.start)/t.size-b)-1:Math.floor((r-t.start)/t.size+b);var l,u,h=0,c=t.length,y=0,d=c>1?(t[c-1]-t[0])/(c-1):1;for(u=d>=0?a?f:s:a?i:n,r+=d*b*(a?-1:1)*(d>=0?1:-1);h<c&&y++<100;)u(t[l=Math.floor((h+c)/2)],r)?h=l+1:c=l;return y>90&&A.log("Long binary search..."),h-1},C.sorterAsc=function(r,t){return r-t},C.sorterDes=function(r,t){return t-r},C.distinctVals=function(r){var t,a=r.slice();for(a.sort(C.sorterAsc),t=a.length-1;t>-1&&a[t]===w;t--);for(var l,u=a[t]-a[0]||1,h=u/(t||1)/1e4,c=[],y=0;y<=t;y++){var d=a[y],v=d-l;l===void 0?(c.push(d),l=d):v>h&&(u=Math.min(u,v),c.push(d),l=d)}return{vals:c,minDiff:u}},C.roundUp=function(r,t,a){for(var l,u=0,h=t.length-1,c=0,y=a?0:1,d=a?1:0,v=a?Math.ceil:Math.floor;u<h&&c++<100;)t[l=v((u+h)/2)]<=r?u=l+y:h=l-d;return t[u]},C.sort=function(r,t){for(var a=0,l=0,u=1;u<r.length;u++){var h=t(r[u],r[u-1]);if(h<0?a=1:h>0&&(l=1),a&&l)return r.sort(t)}return l?r:r.reverse()},C.findIndexOfMin=function(r,t){t=t||o;for(var a,l=1/0,u=0;u<r.length;u++){var h=t(r[u]);h<l&&(l=h,a=u)}return a}},93972:function(U){U.exports=function(C,e){(C.attr("class")||"").split(" ").forEach(function(k){k.indexOf("cursor-")===0&&C.classed(k,!1)}),e&&C.classed("cursor-"+e,!0)}},16576:function(U,C,e){var k=e(76308),A=function(){};U.exports=function(o){for(var w in o)typeof o[w]=="function"&&(o[w]=A);o.destroy=function(){o.container.parentNode.removeChild(o.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=k.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=k.lightLine,b.style["z-index"]=30;var f=document.createElement("p");return f.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",f.style.position="relative",f.style.top="50%",f.style.left="50%",f.style.height="30%",f.style.width="50%",f.style.margin="-15% 0 0 -25%",b.appendChild(f),o.container.appendChild(b),o.container.style.background="#FFFFFF",o.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(U){U.exports=function(C){return Object.keys(C).sort()}},63084:function(U,C,e){var k=e(38248),A=e(38116).isArrayOrTypedArray;C.aggNums=function(o,w,b,f){var s,n;if((!f||f>b.length)&&(f=b.length),k(w)||(w=!1),A(b[0])){for(n=new Array(f),s=0;s<f;s++)n[s]=C.aggNums(o,w,b[s]);b=n}for(s=0;s<f;s++)k(w)?k(b[s])&&(w=o(+w,+b[s])):w=b[s];return w},C.len=function(o){return C.aggNums(function(w){return w+1},0,o)},C.mean=function(o,w){return w||(w=C.len(o)),C.aggNums(function(b,f){return b+f},0,o)/w},C.midRange=function(o){if(o!==void 0&&o.length!==0)return(C.aggNums(Math.max,null,o)+C.aggNums(Math.min,null,o))/2},C.variance=function(o,w,b){return w||(w=C.len(o)),k(b)||(b=C.mean(o,w)),C.aggNums(function(f,s){return f+Math.pow(s-b,2)},0,o)/w},C.stdev=function(o,w,b){return Math.sqrt(C.variance(o,w,b))},C.median=function(o){var w=o.slice().sort();return C.interp(w,.5)},C.interp=function(o,w){if(!k(w))throw"n should be a finite number";if((w=w*o.length-.5)<0)return o[0];if(w>o.length-1)return o[o.length-1];var b=w%1;return b*o[Math.ceil(w)]+(1-b)*o[Math.floor(w)]}},43080:function(U,C,e){var k=e(72160);U.exports=function(A){return A?k(A):[0,0,0,1]}},9188:function(U,C,e){var k=e(2264),A=e(43616),o=e(3400),w=null;U.exports=function(){if(w!==null)return w;w=!1;var b=o.isIE()||o.isSafari()||o.isIOS();if(window.navigator.userAgent&&!b){var f=Array.from(k.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")w=f.some(function(r){return s.apply(null,r)});else{var n=A.tester.append("image").attr("style",k.STYLE),i=window.getComputedStyle(n.node()).imageRendering;w=f.some(function(r){var t=r[1];return i===t||i===t.toLowerCase()}),n.remove()}}return w}},72736:function(U,C,e){var k=e(33428),A=e(3400),o=A.strTranslate,w=e(9616),b=e(84284).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;C.convertToTspans=function(R,H,z){var j=R.text(),Z=!R.attr("data-notex")&&H&&H._context.typesetMath&&typeof MathJax<"u"&&j.match(f),F=k.select(R.node().parentNode);if(!F.empty()){var V=R.attr("class")?R.attr("class").split(" ")[0]:"text";return V+="-math",F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove(),R.style("display",null).attr({"data-unformatted":j,"data-math":"N"}),Z?(H&&H._promises||[]).push(new Promise(function(re){R.style("display","none");var ne=parseInt(R.node().style.fontSize,10),te={fontSize:ne};(function(Q,$,K){var ae,ue,se,he,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var de=function(){var _e="math-output-"+A.randstr({},64),be=(he=k.select("body").append("div").attr({id:_e}).style({visibility:"hidden",position:"absolute","font-size":$.fontSize+"px"}).text(Q.replace(s,"\\lt ").replace(n,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(be):MathJax.typeset([be])},xe=function(){var _e=he.select(pe===2?".MathJax_SVG":".MathJax"),be=!_e.empty()&&he.select("svg").node();if(be){var Le,De=be.getBoundingClientRect();Le=pe===2?k.select("body").select("#MathJax_SVG_glyphs"):_e.select("defs"),K(_e,Le,De)}else A.log("There was an error in the tex syntax.",Q),K();he.remove()};pe===2?MathJax.Hub.Queue(function(){return ue=A.extendDeepAll({},MathJax.Hub.config),se=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((ae=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},de,xe,function(){if(ae!=="SVG")return MathJax.Hub.setRenderer(ae)},function(){return se!==void 0&&(MathJax.Hub.processSectionDelay=se),MathJax.Hub.Config(ue)}):pe===3&&(ue=A.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(ae=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){de(),xe(),ae!=="svg"&&(MathJax.config.startup.output=ae),MathJax.config=ue}))}else A.warn("No MathJax version:",MathJax.version)})(Z[2],te,function(Q,$,K){F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove();var ae=Q&&Q.select("svg");if(!ae||!ae.node())return W(),void re();var ue=F.append("g").classed(V+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});ue.node().appendChild(ae.node()),$&&$.node()&&ae.node().insertBefore($.node().cloneNode(!0),ae.node().firstChild);var se=K.width,he=K.height;ae.attr({class:V,height:he,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=R.node().style.fill||"black",de=ae.select("g");de.attr({fill:pe,stroke:pe});var xe=de.node().getBoundingClientRect(),_e=xe.width,be=xe.height;(_e>se||be>he)&&(ae.style("overflow","hidden"),_e=(xe=ae.node().getBoundingClientRect()).width,be=xe.height);var Le=+R.attr("x"),De=+R.attr("y"),ye=-(ne||R.node().getBoundingClientRect().height)/4;if(V[0]==="y")ue.attr({transform:"rotate("+[-90,Le,De]+")"+o(-_e/2,ye-be/2)});else if(V[0]==="l")De=ye-be/2;else if(V[0]==="a"&&V.indexOf("atitle")!==0)Le=0,De=ye;else{var le=R.attr("text-anchor");Le-=_e*(le==="middle"?.5:le==="end"?1:0),De=De+ye-be/2}ae.attr({x:Le,y:De}),z&&z.call(R,ue),re(ue)})})):W(),R}function W(){F.empty()||(V=R.attr("class")+"-math",F.select("svg."+V).remove()),R.text("").style("white-space","pre");var re=function(ne,te){te=te.replace(h," ");var Q,$=!1,K=[],ae=-1;function ue(){ae++;var ke=document.createElementNS(w.svg,"tspan");k.select(ke).attr({class:"line",dy:ae*b+"em"}),ne.appendChild(ke),Q=ke;var Ae=K;if(K=[{node:ke}],Ae.length>1)for(var Ee=1;Ee<Ae.length;Ee++)se(Ae[Ee])}function se(ke){var Ae,Ee=ke.type,ze={};if(Ee==="a"){Ae="a";var Fe=ke.target,ge=ke.href,Te=ke.popup;ge&&(ze={"xlink:xlink:show":Fe==="_blank"||Fe.charAt(0)!=="_"?"new":"replace",target:Fe,"xlink:xlink:href":ge},Te&&(ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Te+'");return false;'))}else Ae="tspan";ke.style&&(ze.style=ke.style);var Se=document.createElementNS(w.svg,Ae);if(Ee==="sup"||Ee==="sub"){he(Q,l),Q.appendChild(Se);var Re=document.createElementNS(w.svg,"tspan");he(Re,l),k.select(Re).attr("dy",a[Ee]),ze.dy=t[Ee],Q.appendChild(Se),Q.appendChild(Re)}else Q.appendChild(Se);k.select(Se).attr(ze),Q=ke.node=Se,K.push(ke)}function he(ke,Ae){ke.appendChild(document.createTextNode(Ae))}function pe(ke){if(K.length!==1){var Ae=K.pop();ke!==Ae.type&&A.log("Start tag <"+Ae.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",te),Q=K[K.length-1].node}else A.log("Ignoring unexpected end tag </"+ke+">.",te)}d.test(te)?ue():(Q=ne,K=[{node:ne}]);for(var de=te.split(c),xe=0;xe<de.length;xe++){var _e=de[xe],be=_e.match(y),Le=be&&be[2].toLowerCase(),De=r[Le];if(Le==="br")ue();else if(De===void 0)he(Q,E(_e));else if(be[1])pe(Le);else{var ye=be[4],le={type:Le},oe=_(ye,v);if(oe?(oe=oe.replace(p,"$1 fill:"),De&&(oe+=";"+De)):De&&(oe=De),oe&&(le.style=oe),Le==="a"){$=!0;var ve=_(ye,g);if(ve){var Ce=O(ve);Ce&&(le.href=Ce,le.target=_(ye,x)||"_blank",le.popup=_(ye,m))}}se(le)}}return $}(R.node(),j);re&&R.style("pointer-events","all"),C.positionText(R),z&&z.call(R)}};var s=/(<|&lt;|&#60;)/g,n=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},t={sub:"0.3em",sup:"-0.6em"},a={sub:"-0.21em",sup:"0.42em"},l="​",u=["http:","https:","mailto:","",void 0,":"],h=C.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;C.BR_TAG_ALL=/<br(\s+.*)?>/gi;var v=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,g=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function _(R,H){if(!R)return null;var z=R.match(H),j=z&&(z[3]||z[4]);return j&&E(j)}var p=/(^|;)\s*color:/;C.plainText=function(R,H){for(var z=(H=H||{}).len!==void 0&&H.len!==-1?H.len:1/0,j=H.allowedTags!==void 0?H.allowedTags:["br"],Z=R.split(c),F=[],V="",W=0,re=0;re<Z.length;re++){var ne=Z[re],te=ne.match(y),Q=te&&te[2].toLowerCase();if(Q)j.indexOf(Q)!==-1&&(F.push(ne),V=Q);else{var $=ne.length;if(W+$<z)F.push(ne),W+=$;else if(W<z){var K=z-W;V&&(V!=="br"||K<=3||$<=3)&&F.pop(),z>3?F.push(ne.substr(0,K-3)+"..."):F.push(ne.substr(0,K));break}V=""}}return F.join("")};var S={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},T=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(T,function(H,z){return(z.charAt(0)==="#"?function(j){if(!(j>1114111)){var Z=String.fromCodePoint;if(Z)return Z(j);var F=String.fromCharCode;return j<=65535?F(j):F(55232+(j>>10),j%1024+56320)}}(z.charAt(1)==="x"?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):S[z])||H})}function O(R){var H=encodeURI(decodeURI(R)),z=document.createElement("a"),j=document.createElement("a");z.href=R,j.href=H;var Z=z.protocol,F=j.protocol;return u.indexOf(Z)!==-1&&u.indexOf(F)!==-1?H:""}function P(R,H,z){var j,Z,F,V=z.horizontalAlign,W=z.verticalAlign||"top",re=R.node().getBoundingClientRect(),ne=H.node().getBoundingClientRect();return Z=W==="bottom"?function(){return re.bottom-j.height}:W==="middle"?function(){return re.top+(re.height-j.height)/2}:function(){return re.top},F=V==="right"?function(){return re.right-j.width}:V==="center"?function(){return re.left+(re.width-j.width)/2}:function(){return re.left},function(){j=this.node().getBoundingClientRect();var te=F()-ne.left,Q=Z()-ne.top,$=z.gd||{};if(z.gd){$._fullLayout._calcInverseTransform($);var K=A.apply3DTransform($._fullLayout._invTransform)(te,Q);te=K[0],Q=K[1]}return this.style({top:Q+"px",left:te+"px","z-index":1e3}),this}}C.convertEntities=E,C.sanitizeHTML=function(R){R=R.replace(h," ");for(var H=document.createElement("p"),z=H,j=[],Z=R.split(c),F=0;F<Z.length;F++){var V=Z[F],W=V.match(y),re=W&&W[2].toLowerCase();if(re in r)if(W[1])j.length&&(z=j.pop());else{var ne=W[4],te=_(ne,v),Q=te?{style:te}:{};if(re==="a"){var $=_(ne,g);if($){var K=O($);if(K){Q.href=K;var ae=_(ne,x);ae&&(Q.target=ae)}}}var ue=document.createElement(re);z.appendChild(ue),k.select(ue).attr(Q),z=ue,j.push(ue)}else z.appendChild(document.createTextNode(E(V)))}return H.innerHTML},C.lineCount=function(R){return R.selectAll("tspan.line").size()||1},C.positionText=function(R,H,z){return R.each(function(){var j=k.select(this);function Z(W,re){return re===void 0?(re=j.attr(W))===null&&(j.attr(W,0),re=0):j.attr(W,re),re}var F=Z("x",H),V=Z("y",z);this.nodeName==="text"&&j.selectAll("tspan.line").attr({x:F,y:V})})};var I="1px ";C.makeTextShadow=function(R){return I+I+I+R+", -"+I+"-"+I+I+R+", "+I+"-"+I+I+R+", -"+I+I+I+R},C.makeEditable=function(R,H){var z=H.gd,j=H.delegate,Z=k.dispatch("edit","input","cancel"),F=j||R;if(R.style({"pointer-events":j?"none":"all"}),R.size()!==1)throw new Error("boo");function V(){var re,ne,te,Q,$;re=k.select(z).select(".svg-container"),ne=re.append("div"),te=R.node().style,Q=parseFloat(te.fontSize||12),($=H.text)===void 0&&($=R.attr("data-unformatted")),ne.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":Q,color:H.fill||te.fill||"black",opacity:1,"background-color":H.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(P(R,re,H)).on("blur",function(){z._editing=!1,R.text(this.textContent).style({opacity:1});var ue,se=k.select(this).attr("class");(ue=se?"."+se.split(" ")[0]+"-math-group":"[class*=-math-group]")&&k.select(R.node().parentNode).select(ue).style({opacity:0});var he=this.textContent;k.select(this).transition().duration(0).remove(),k.select(document).on("mouseup",null),Z.edit.call(R,he)}).on("focus",function(){var ue=this;z._editing=!0,k.select(document).on("mouseup",function(){if(k.event.target===ue)return!1;document.activeElement===ne.node()&&ne.node().blur()})}).on("keyup",function(){k.event.which===27?(z._editing=!1,R.style({opacity:1}),k.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Z.cancel.call(R,this.textContent)):(Z.input.call(R,this.textContent),k.select(this).call(P(R,re,H)))}).on("keydown",function(){k.event.which===13&&this.blur()}).call(W),R.style({opacity:0});var K,ae=F.attr("class");(K=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&k.select(R.node().parentNode).select(K).style({opacity:0})}function W(re){var ne=re.node(),te=document.createRange();te.selectNodeContents(ne);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(te),ne.focus()}return H.immediate?V():F.on("click",V),k.rebind(R,Z,"on")}},91200:function(U,C){var e={};function k(A){A&&A.timer!==null&&(clearTimeout(A.timer),A.timer=null)}C.throttle=function(A,o,w){var b=e[A],f=Date.now();if(!b){for(var s in e)e[s].ts<f-6e4&&delete e[s];b=e[A]={ts:0,timer:null}}function n(){w(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}k(b),f>b.ts+o?n():b.timer=setTimeout(function(){n(),b.timer=null},o)},C.done=function(A){var o=e[A];return o&&o.timer?new Promise(function(w){var b=o.onDone;o.onDone=function(){b&&b(),w(),o.onDone=null}}):Promise.resolve()},C.clear=function(A){if(A)k(e[A]),delete e[A];else for(var o in e)C.clear(o)}},36896:function(U,C,e){var k=e(38248);U.exports=function(A,o){if(A>0)return Math.log(A)/Math.LN10;var w=Math.log(Math.min(o[0],o[1]))/Math.LN10;return k(w)||(w=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),w}},59972:function(U,C,e){var k=U.exports={},A=e(79552).locationmodeToLayer,o=e(55712).NO;k.getTopojsonName=function(w){return[w.scope.replace(/ /g,"-"),"_",w.resolution.toString(),"m"].join("")},k.getTopojsonPath=function(w,b){return w+b+".json"},k.getTopojsonFeatures=function(w,b){var f=A[w.locationmode],s=b.objects[f];return o(b,s).features}},11680:function(U){U.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(U){U.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(U,C,e){var k=e(24040);U.exports=function(A){for(var o,w,b=k.layoutArrayContainers,f=k.layoutArrayRegexes,s=A.split("[")[0],n=0;n<f.length;n++)if((w=A.match(f[n]))&&w.index===0){o=w[0];break}if(o||(o=b[b.indexOf(s)]),!o)return!1;var i=A.substr(o.length);return i?!!(w=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(w[1]),property:w[3]||""}:{array:o,index:"",property:""}}},67824:function(U,C,e){var k=e(92880).extendFlat,A=e(63620),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},w={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=o.flags.slice().concat(["fullReplot"]),f=w.flags.slice().concat("layoutReplot");function s(r){for(var t={},a=0;a<r.length;a++)t[r[a]]=!1;return t}function n(r,t,a){var l=k({},r);for(var u in l){var h=l[u];A(h)&&(l[u]=i(h,t,0,u))}return a==="from-root"&&(l.editType=t),l}function i(r,t,a,l){if(r.valType){var u=k({},r);if(u.editType=t,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var h=0;h<r.items.length;h++)u.items[h]=i(r.items[h],t)}return u}return n(r,t,l.charAt(0)==="_"?"nested":"from-root")}U.exports={traces:o,layout:w,traceFlags:function(){return s(b)},layoutFlags:function(){return s(f)},update:function(r,t){var a=t.editType;if(a&&a!=="none")for(var l=a.split("+"),u=0;u<l.length;u++)r[l[u]]=!0},overrideAll:n}},93404:function(U,C,e){var k=e(38248),A=e(61784),o=e(24040),w=e(3400),b=e(7316),f=e(79811),s=e(76308),n=f.cleanId,i=f.getFromTrace,r=o.traceIs;function t(g,x){var m=g[x],_=x.charAt(0);m&&m!=="paper"&&(g[x]=n(m,_,!0))}function a(g){function x(m,_){var p=g[m],S=g.title&&g.title[_];p&&!S&&(g.title||(g.title={}),g.title[_]=g[m],delete g[m])}g&&(typeof g.title!="string"&&typeof g.title!="number"||(g.title={text:g.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function l(g){if(!w.isPlainObject(g))return!1;var x=g.name;return delete g.name,delete g.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function u(g,x,m,_){if(m&&!_)return g;if(_&&!m||!g.trim())return x;if(!x.trim())return g;var p,S=Math.min(g.length,x.length);for(p=0;p<S&&g.charAt(p)===x.charAt(p);p++);return g.substr(0,p).trim()}function h(g){var x="middle",m="center";return typeof g=="string"&&(g.indexOf("top")!==-1?x="top":g.indexOf("bottom")!==-1&&(x="bottom"),g.indexOf("left")!==-1?m="left":g.indexOf("right")!==-1&&(m="right")),x+" "+m}function c(g,x){return x in g&&typeof g[x]=="object"&&Object.keys(g[x]).length===0}C.clearPromiseQueue=function(g){Array.isArray(g._promises)&&g._promises.length>0&&w.log("Clearing previous rejected promises from queue."),g._promises=[]},C.cleanLayout=function(g){var x,m;g||(g={}),g.xaxis1&&(g.xaxis||(g.xaxis=g.xaxis1),delete g.xaxis1),g.yaxis1&&(g.yaxis||(g.yaxis=g.yaxis1),delete g.yaxis1),g.scene1&&(g.scene||(g.scene=g.scene1),delete g.scene1);var _=(b.subplotsRegistry.cartesian||{}).attrRegex,p=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,T=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(g);for(x=0;x<E.length;x++){var O=E[x];if(_&&_.test(O)){var P=g[O];P.anchor&&P.anchor!=="free"&&(P.anchor=n(P.anchor)),P.overlaying&&(P.overlaying=n(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":P.isdate===!1&&P.islog===!1&&(P.type="linear")),P.autorange!=="withzero"&&P.autorange!=="tozero"||(P.autorange=!0,P.rangemode="tozero"),P.insiderange&&delete P.range,delete P.islog,delete P.isdate,delete P.categories,c(P,"domain")&&delete P.domain,P.autotick!==void 0&&(P.tickmode===void 0&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),a(P)}else if(p&&p.test(O))a(g[O].radialaxis);else if(S&&S.test(O)){var I=g[O];a(I.aaxis),a(I.baxis),a(I.caxis)}else if(T&&T.test(O)){var R=g[O],H=R.cameraposition;if(Array.isArray(H)&&H[0].length===4){var z=H[0],j=H[1],Z=H[2],F=A([],z),V=[];for(m=0;m<3;++m)V[m]=j[m]+Z*F[2+4*m];R.camera={eye:{x:V[0],y:V[1],z:V[2]},center:{x:j[0],y:j[1],z:j[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}a(R.xaxis),a(R.yaxis),a(R.zaxis)}}var W=Array.isArray(g.annotations)?g.annotations.length:0;for(x=0;x<W;x++){var re=g.annotations[x];w.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),t(re,"xref"),t(re,"yref"))}var ne=Array.isArray(g.shapes)?g.shapes.length:0;for(x=0;x<ne;x++){var te=g.shapes[x];w.isPlainObject(te)&&(t(te,"xref"),t(te,"yref"))}var Q=Array.isArray(g.images)?g.images.length:0;for(x=0;x<Q;x++){var $=g.images[x];w.isPlainObject($)&&(t($,"xref"),t($,"yref"))}var K=g.legend;return K&&(K.x>3?(K.x=1.02,K.xanchor="left"):K.x<-2&&(K.x=-.02,K.xanchor="right"),K.y>3?(K.y=1.02,K.yanchor="bottom"):K.y<-2&&(K.y=-.02,K.yanchor="top")),a(g),g.dragmode==="rotate"&&(g.dragmode="orbit"),s.clean(g),g.template&&g.template.layout&&C.cleanLayout(g.template.layout),g},C.cleanData=function(g){for(var x=0;x<g.length;x++){var m,_=g[x];if(_.type==="histogramy"&&"xbins"in _&&!("ybins"in _)&&(_.ybins=_.xbins,delete _.xbins),_.error_y&&"opacity"in _.error_y){var p=s.defaults,S=_.error_y.color||(r(_,"bar")?s.defaultLine:p[x%p.length]);_.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*_.error_y.opacity),delete _.error_y.opacity}if("bardir"in _&&(_.bardir!=="h"||!r(_,"bar")&&_.type.substr(0,9)!=="histogram"||(_.orientation="h",C.swapXYData(_)),delete _.bardir),_.type==="histogramy"&&C.swapXYData(_),_.type!=="histogramx"&&_.type!=="histogramy"||(_.type="histogram"),"scl"in _&&!("colorscale"in _)&&(_.colorscale=_.scl,delete _.scl),"reversescl"in _&&!("reversescale"in _)&&(_.reversescale=_.reversescl,delete _.reversescl),_.xaxis&&(_.xaxis=n(_.xaxis,"x")),_.yaxis&&(_.yaxis=n(_.yaxis,"y")),r(_,"gl3d")&&_.scene&&(_.scene=b.subplotsRegistry.gl3d.cleanId(_.scene)),!r(_,"pie-like")&&!r(_,"bar-like"))if(Array.isArray(_.textposition))for(m=0;m<_.textposition.length;m++)_.textposition[m]=h(_.textposition[m]);else _.textposition&&(_.textposition=h(_.textposition));var T=o.getModule(_);if(T&&T.colorbar){var E=T.colorbar.container,O=E?_[E]:_;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(_.type==="surface"&&w.isPlainObject(_.contours)){var P=["x","y","z"];for(m=0;m<P.length;m++){var I=_.contours[P[m]];w.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(_.type==="candlestick"||_.type==="ohlc"){var R=(_.increasing||{}).showlegend!==!1,H=(_.decreasing||{}).showlegend!==!1,z=l(_.increasing),j=l(_.decreasing);if(z!==!1&&j!==!1){var Z=u(z,j,R,H);Z&&(_.name=Z)}else!z&&!j||_.name||(_.name=z||j)}if(Array.isArray(_.transforms)){var F=_.transforms;for(m=0;m<F.length;m++){var V=F[m];if(w.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var W=V.styles,re=Object.keys(W);V.styles=[];for(var ne=0;ne<re.length;ne++)V.styles.push({target:re[ne],value:W[re[ne]]})}}}}c(_,"line")&&delete _.line,"marker"in _&&(c(_.marker,"line")&&delete _.marker.line,c(_,"marker")&&delete _.marker),s.clean(_),_.autobinx&&(delete _.autobinx,delete _.xbins),_.autobiny&&(delete _.autobiny,delete _.ybins),a(_),_.colorbar&&a(_.colorbar),_.marker&&_.marker.colorbar&&a(_.marker.colorbar),_.line&&_.line.colorbar&&a(_.line.colorbar),_.aaxis&&a(_.aaxis),_.baxis&&a(_.baxis)}},C.swapXYData=function(g){var x;if(w.swapAttrs(g,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(g.z)&&Array.isArray(g.z[0])&&(g.transpose?delete g.transpose:g.transpose=!0),g.error_x&&g.error_y){var m=g.error_y,_="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);w.swapAttrs(g,["error_?.copy_ystyle"]),_&&w.swapAttrs(g,["error_?.color","error_?.thickness","error_?.width"])}if(typeof g.hoverinfo=="string"){var p=g.hoverinfo.split("+");for(x=0;x<p.length;x++)p[x]==="x"?p[x]="y":p[x]==="y"&&(p[x]="x");g.hoverinfo=p.join("+")}},C.coerceTraceIndices=function(g,x){if(k(x))return[x];if(!Array.isArray(x)||!x.length)return g.data.map(function(p,S){return S});if(Array.isArray(x)){for(var m=[],_=0;_<x.length;_++)w.isIndex(x[_],g.data.length)?m.push(x[_]):w.warn("trace index (",x[_],") is not a number or is out of bounds");return m}return x},C.manageArrayContainers=function(g,x,m){var _=g.obj,p=g.parts,S=p.length,T=p[S-1],E=k(T);if(E&&x===null){var O=p.slice(0,S-1).join(".");w.nestedProperty(_,O).get().splice(T,1)}else E&&g.get()===void 0&&g.get()===void 0&&(m[g.astr]=null),g.set(x)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(g){var x=g.search(y);if(x>0)return g.substr(0,x)}C.hasParent=function(g,x){for(var m=d(x);m;){if(m in g)return!0;m=d(m)}return!1};var v=["x","y","z"];C.clearAxisTypes=function(g,x,m){for(var _=0;_<x.length;_++)for(var p=g._fullData[_],S=0;S<3;S++){var T=i(g,p,v[S]);if(T&&T.type!=="log"){var E=T._name,O=T._id.substr(1);if(O.substr(0,5)==="scene"){if(m[O]!==void 0)continue;E=O+"."+E}var P=E+".type";m[E]===void 0&&m[P]===void 0&&w.nestedProperty(g.layout,P).set(null)}}}},22448:function(U,C,e){var k=e(36424);C._doPlot=k._doPlot,C.newPlot=k.newPlot,C.restyle=k.restyle,C.relayout=k.relayout,C.redraw=k.redraw,C.update=k.update,C._guiRestyle=k._guiRestyle,C._guiRelayout=k._guiRelayout,C._guiUpdate=k._guiUpdate,C._storeDirectGUIEdit=k._storeDirectGUIEdit,C.react=k.react,C.extendTraces=k.extendTraces,C.prependTraces=k.prependTraces,C.addTraces=k.addTraces,C.deleteTraces=k.deleteTraces,C.moveTraces=k.moveTraces,C.purge=k.purge,C.addFrames=k.addFrames,C.deleteFrames=k.deleteFrames,C.animate=k.animate,C.setPlotConfig=k.setPlotConfig;var A=e(52200).getGraphDiv,o=e(4016).eraseActiveShape;C.deleteActiveShape=function(b){return o(A(b))},C.toImage=e(67024),C.validate=e(21480),C.downloadImage=e(39792);var w=e(94828);C.makeTemplate=w.makeTemplate,C.validateTemplate=w.validateTemplate},17680:function(U,C,e){var k=e(63620),A=e(16628),o=e(24248),w=e(14952).sorterAsc,b=e(24040);C.containerArrayMatch=e(69820);var f=C.isAddVal=function(n){return n==="add"||k(n)},s=C.isRemoveVal=function(n){return n===null||n==="remove"};C.applyContainerArrayChanges=function(n,i,r,t,a){var l=i.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),h=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),y=t.replot||t.recalc||u===A||h===A,d=n.layout,v=n._fullLayout;if(r[""]){Object.keys(r).length>1&&o.warn("Full array edits are incompatible with other edits",l);var g=r[""][""];if(s(g))i.set(null);else{if(!Array.isArray(g))return o.warn("Unrecognized full array edit value",l,g),!0;i.set(g)}return!y&&(u(d,v),h(n),!0)}var x,m,_,p,S,T,E,O,P=Object.keys(r).map(Number).sort(w),I=i.get(),R=I||[],H=a(v,l).get(),z=[],j=-1,Z=R.length;for(x=0;x<P.length;x++)if(p=r[_=P[x]],S=Object.keys(p),T=p[""],E=f(T),_<0||_>R.length-(E?0:1))o.warn("index out of range",l,_);else if(T!==void 0)S.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",l,_),s(T)?z.push(_):E?(T==="add"&&(T={}),R.splice(_,0,T),H&&H.splice(_,0,{})):o.warn("Unrecognized full object edit value",l,_,T),j===-1&&(j=_);else for(m=0;m<S.length;m++)O=l+"["+_+"].",a(R[_],S[m],O).set(p[S[m]]);for(x=z.length-1;x>=0;x--)R.splice(z[x],1),H&&H.splice(z[x],1);if(R.length?I||i.set(R):i.set(null),y)return!1;if(u(d,v),c!==A){var F;if(j===-1)F=P;else{for(Z=Math.max(R.length,Z),F=[],x=0;x<P.length&&!((_=P[x])>=j);x++)F.push(_);for(x=j;x<Z;x++)F.push(x)}for(x=0;x<F.length;x++)c(n,F[x])}else h(n);return!0}},36424:function(U,C,e){var k=e(33428),A=e(38248),o=e(52264),w=e(3400),b=w.nestedProperty,f=e(95924),s=e(94552),n=e(24040),i=e(73060),r=e(7316),t=e(54460),a=e(96312),l=e(94724),u=e(43616),h=e(76308),c=e(42464).initInteractions,y=e(9616),d=e(22676).clearOutline,v=e(20556).dfltConfig,g=e(17680),x=e(93404),m=e(39172),_=e(67824),p=e(33816).AX_NAME_PATTERN,S=0;function T(ke){var Ae=ke._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:ke.emit("plotly_afterplot")}function E(ke,Ae){try{ke._fullLayout._paper.style("background",Ae)}catch(Ee){w.error(Ee)}}function O(ke,Ae){E(ke,h.combine(Ae,"white"))}function P(ke,Ae){if(!ke._context){ke._context=w.extendDeep({},v);var Ee=k.select("base");ke._context._baseUrl=Ee.size()&&Ee.attr("href")?window.location.href.split("#")[0]:""}var ze,Fe,ge,Te=ke._context;if(Ae){for(Fe=Object.keys(Ae),ze=0;ze<Fe.length;ze++)(ge=Fe[ze])!=="editable"&&ge!=="edits"&&ge in Te&&(ge==="setBackground"&&Ae[ge]==="opaque"?Te[ge]=O:Te[ge]=Ae[ge]);Ae.plot3dPixelRatio&&!Te.plotGlPixelRatio&&(Te.plotGlPixelRatio=Te.plot3dPixelRatio);var Se=Ae.editable;if(Se!==void 0)for(Te.editable=Se,Fe=Object.keys(Te.edits),ze=0;ze<Fe.length;ze++)Te.edits[Fe[ze]]=Se;if(Ae.edits)for(Fe=Object.keys(Ae.edits),ze=0;ze<Fe.length;ze++)(ge=Fe[ze])in Te.edits&&(Te.edits[ge]=Ae.edits[ge]);Te._exportedPlot=Ae._exportedPlot}Te.staticPlot&&(Te.editable=!1,Te.edits={},Te.autosizable=!1,Te.scrollZoom=!1,Te.doubleClick=!1,Te.showTips=!1,Te.showLink=!1,Te.displayModeBar=!1),Te.displayModeBar!=="hover"||o||(Te.displayModeBar=!0),Te.setBackground!=="transparent"&&typeof Te.setBackground=="function"||(Te.setBackground=E),Te._hasZeroHeight=Te._hasZeroHeight||ke.clientHeight===0,Te._hasZeroWidth=Te._hasZeroWidth||ke.clientWidth===0;var Re=Te.scrollZoom,Pe=Te._scrollZoom={};if(Re===!0)Pe.cartesian=1,Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1;else if(typeof Re=="string"){var Ve=Re.split("+");for(ze=0;ze<Ve.length;ze++)Pe[Ve[ze]]=1}else Re!==!1&&(Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1)}function I(ke,Ae){var Ee,ze,Fe=Ae+1,ge=[];for(Ee=0;Ee<ke.length;Ee++)(ze=ke[Ee])<0?ge.push(Fe+ze):ge.push(ze);return ge}function R(ke,Ae,Ee){var ze,Fe;for(ze=0;ze<Ae.length;ze++){if((Fe=Ae[ze])!==parseInt(Fe,10))throw new Error("all values in "+Ee+" must be integers");if(Fe>=ke.data.length||Fe<-ke.data.length)throw new Error(Ee+" must be valid indices for gd.data.");if(Ae.indexOf(Fe,ze+1)>-1||Fe>=0&&Ae.indexOf(-ke.data.length+Fe)>-1||Fe<0&&Ae.indexOf(ke.data.length+Fe)>-1)throw new Error("each index in "+Ee+" must be unique.")}}function H(ke,Ae,Ee){if(!Array.isArray(ke.data))throw new Error("gd.data must be an array.");if(Ae===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),R(ke,Ae,"currentIndices"),Ee===void 0||Array.isArray(Ee)||(Ee=[Ee]),Ee!==void 0&&R(ke,Ee,"newIndices"),Ee!==void 0&&Ae.length!==Ee.length)throw new Error("current and new indices must be of equal length.")}function z(ke,Ae,Ee,ze,Fe){(function(Qe,lt,ut,xt){var _t=w.isPlainObject(xt);if(!Array.isArray(Qe.data))throw new Error("gd.data must be an array");if(!w.isPlainObject(lt))throw new Error("update must be a key:value object");if(ut===void 0)throw new Error("indices must be an integer or array of integers");for(var mt in R(Qe,ut,"indices"),lt){if(!Array.isArray(lt[mt])||lt[mt].length!==ut.length)throw new Error("attribute "+mt+" must be an array of length equal to indices array length");if(_t&&(!(mt in xt)||!Array.isArray(xt[mt])||xt[mt].length!==lt[mt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(ke,Ae,Ee,ze);for(var ge=function(Qe,lt,ut,xt){var _t,mt,it,nt,Et,Rt=w.isPlainObject(xt),Ft=[];for(var Pt in Array.isArray(ut)||(ut=[ut]),ut=I(ut,Qe.data.length-1),lt)for(var Ze=0;Ze<ut.length;Ze++){if(_t=Qe.data[ut[Ze]],mt=(it=b(_t,Pt)).get(),nt=lt[Pt][Ze],!w.isArrayOrTypedArray(nt))throw new Error("attribute: "+Pt+" index: "+Ze+" must be an array");if(!w.isArrayOrTypedArray(mt))throw new Error("cannot extend missing or non-array attribute: "+Pt);if(mt.constructor!==nt.constructor)throw new Error("cannot extend array with an array of a different type: "+Pt);Et=Rt?xt[Pt][Ze]:xt,A(Et)||(Et=-1),Ft.push({prop:it,target:mt,insert:nt,maxp:Math.floor(Et)})}return Ft}(ke,Ae,Ee,ze),Te={},Se={},Re=0;Re<ge.length;Re++){var Pe=ge[Re].prop,Ve=ge[Re].maxp,We=Fe(ge[Re].target,ge[Re].insert,Ve);Pe.set(We[0]),Array.isArray(Te[Pe.astr])||(Te[Pe.astr]=[]),Te[Pe.astr].push(We[1]),Array.isArray(Se[Pe.astr])||(Se[Pe.astr]=[]),Se[Pe.astr].push(ge[Re].target.length)}return{update:Te,maxPoints:Se}}function j(ke,Ae){var Ee=new ke.constructor(ke.length+Ae.length);return Ee.set(ke),Ee.set(Ae,ke.length),Ee}function Z(ke,Ae,Ee,ze){ke=w.getGraphDiv(ke),x.clearPromiseQueue(ke);var Fe={};if(typeof Ae=="string")Fe[Ae]=Ee;else{if(!w.isPlainObject(Ae))return w.warn("Restyle fail.",Ae,Ee,ze),Promise.reject();Fe=w.extendFlat({},Ae),ze===void 0&&(ze=Ee)}Object.keys(Fe).length&&(ke.changed=!0);var ge=x.coerceTraceIndices(ke,ze),Te=re(ke,Fe,ge),Se=Te.flags;Se.calc&&(ke.calcdata=void 0),Se.clearAxisTypes&&x.clearAxisTypes(ke,ge,{});var Re=[];Se.fullReplot?Re.push(C._doPlot):(Re.push(r.previousPromises),r.supplyDefaults(ke),Se.markerSize&&(r.doCalcdata(ke),$(Re)),Se.style&&Re.push(m.doTraceStyle),Se.colorbars&&Re.push(m.doColorBars),Re.push(T)),Re.push(r.rehover,r.redrag,r.reselect),s.add(ke,Z,[ke,Te.undoit,Te.traces],Z,[ke,Te.redoit,Te.traces]);var Pe=w.syncOrAsync(Re,ke);return Pe&&Pe.then||(Pe=Promise.resolve()),Pe.then(function(){return ke.emit("plotly_restyle",Te.eventData),ke})}function F(ke){return ke===void 0?null:ke}function V(ke,Ae){return Ae?function(Ee,ze,Fe){var ge=b(Ee,ze),Te=ge.set;return ge.set=function(Se){W((Fe||"")+ze,ge.get(),Se,ke),Te(Se)},ge}:b}function W(ke,Ae,Ee,ze){if(Array.isArray(Ae)||Array.isArray(Ee))for(var Fe=Array.isArray(Ae)?Ae:[],ge=Array.isArray(Ee)?Ee:[],Te=Math.max(Fe.length,ge.length),Se=0;Se<Te;Se++)W(ke+"["+Se+"]",Fe[Se],ge[Se],ze);else if(w.isPlainObject(Ae)||w.isPlainObject(Ee)){var Re=w.isPlainObject(Ae)?Ae:{},Pe=w.isPlainObject(Ee)?Ee:{},Ve=w.extendFlat({},Re,Pe);for(var We in Ve)W(ke+"."+We,Re[We],Pe[We],ze)}else ze[ke]===void 0&&(ze[ke]=F(Ae))}function re(ke,Ae,Ee){var ze,Fe=ke._fullLayout,ge=ke._fullData,Te=ke.data,Se=Fe._guiEditing,Re=V(Fe._preGUI,Se),Pe=w.extendDeepAll({},Ae);ne(Ae);var Ve,We=_.traceFlags(),Qe={},lt={};function ut(){return Ee.map(function(){})}function xt(qt){var Jt=t.id2name(qt);Ve.indexOf(Jt)===-1&&Ve.push(Jt)}function _t(qt){return"LAYOUT"+qt+".autorange"}function mt(qt){return"LAYOUT"+qt+".range"}function it(qt){for(var Jt=qt;Jt<ge.length;Jt++)if(ge[Jt]._input===Te[qt])return ge[Jt]}function nt(qt,Jt,Ut){if(Array.isArray(qt))qt.forEach(function(mn){nt(mn,Jt,Ut)});else if(!(qt in Ae)&&!x.hasParent(Ae,qt)){var zn;if(qt.substr(0,6)==="LAYOUT")zn=Re(ke.layout,qt.replace("LAYOUT",""));else{var An=Ee[Ut];zn=V(Fe._tracePreGUI[it(An)._fullInput.uid],Se)(Te[An],qt)}qt in lt||(lt[qt]=ut()),lt[qt][Ut]===void 0&&(lt[qt][Ut]=F(zn.get())),Jt!==void 0&&zn.set(Jt)}}function Et(qt){return function(Jt){return ge[Jt][qt]}}function Rt(qt){return function(Jt,Ut){return Jt===!1?ge[Ee[Ut]][qt]:null}}for(var Ft in Ae){if(x.hasParent(Ae,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Pt,Ze,$e,He,Je,ft,ot=Ae[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",ot=Array.isArray(ot)?ot.map(Rt(Ft)):ot===!1?Ee.map(Et(Ft)):null),Qe[Ft]=ot,Ft.substr(0,6)!=="LAYOUT"){for(lt[Ft]=ut(),ze=0;ze<Ee.length;ze++)if(Pt=Te[Ee[ze]],Ze=it(Ee[ze]),He=($e=V(Fe._tracePreGUI[Ze._fullInput.uid],Se)(Pt,Ft)).get(),(Je=Array.isArray(ot)?ot[ze%ot.length]:ot)!==void 0){var je=$e.parts[$e.parts.length-1],Ue=Ft.substr(0,Ft.length-je.length-1),st=Ue?Ue+".":"",Ke=Ue?b(Ze,Ue).get():Ze;if((ft=i.getTraceValObject(Ze,$e.parts))&&ft.impliedEdits&&Je!==null)for(var gt in ft.impliedEdits)nt(w.relativeAttr(Ft,gt),ft.impliedEdits[gt],ze);else if(je!=="thicknessmode"&&je!=="lenmode"||He===Je||Je!=="fraction"&&Je!=="pixels"||!Ke){if(Ft==="type"&&(Je==="pie"!=(He==="pie")||Je==="funnelarea"!=(He==="funnelarea"))){var yt="x",bt="y";Je!=="bar"&&He!=="bar"||Pt.orientation!=="h"||(yt="y",bt="x"),w.swapAttrs(Pt,["?","?src"],"labels",yt),w.swapAttrs(Pt,["d?","?0"],"label",yt),w.swapAttrs(Pt,["?","?src"],"values",bt),He==="pie"||He==="funnelarea"?(b(Pt,"marker.color").set(b(Pt,"marker.colors").get()),Fe._pielayer.selectAll("g.trace").remove()):n.traceIs(Pt,"cartesian")&&b(Pt,"marker.colors").set(b(Pt,"marker.color").get())}}else{var dt=Fe._size,Lt=Ke.orient,wt=Lt==="top"||Lt==="bottom";if(je==="thicknessmode"){var Ct=wt?dt.h:dt.w;nt(st+"thickness",Ke.thickness*(Je==="fraction"?1/Ct:Ct),ze)}else{var zt=wt?dt.w:dt.h;nt(st+"len",Ke.len*(Je==="fraction"?1/zt:zt),ze)}}if(lt[Ft][ze]=F(He),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){$e.set(Je);var Dt=Pt.x&&!Pt.y?"h":"v";if(($e.get()||Dt)===Ze.orientation)continue}else Ft==="orientationaxes"&&(Pt.orientation={v:"h",h:"v"}[Ze.orientation]);x.swapXYData(Pt),We.calc=We.clearAxisTypes=!0}else r.dataArrayContainers.indexOf($e.parts[0])!==-1?(x.manageArrayContainers($e,Je,lt),We.calc=!0):(ft?ft.arrayOk&&!n.traceIs(Ze,"regl")&&(w.isArrayOrTypedArray(Je)||w.isArrayOrTypedArray(He))?We.calc=!0:_.update(We,ft):We.calc=!0,$e.set(Je))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&t.swap(ke,Ee),Ft==="orientationaxes"){var Nt=b(ke.layout,"hovermode"),Kt=Nt.get();Kt==="x"?Nt.set("y"):Kt==="y"?Nt.set("x"):Kt==="x unified"?Nt.set("y unified"):Kt==="y unified"&&Nt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(Ve=[],ze=0;ze<Ee.length;ze++){var un=Te[Ee[ze]];n.traceIs(un,"cartesian")&&(xt(un.xaxis||"x"),xt(un.yaxis||"y"))}nt(Ve.map(_t),!0,0),nt(Ve.map(mt),[0,1],0)}}else $e=Re(ke.layout,Ft.replace("LAYOUT","")),lt[Ft]=[F($e.get())],$e.set(Array.isArray(ot)?ot[0]:ot),We.calc=!0}return(We.calc||We.plot)&&(We.fullReplot=!0),{flags:We,undoit:lt,redoit:Qe,traces:Ee,eventData:w.extendDeepNoArrays([],[Pe,Ee])}}function ne(ke){var Ae,Ee,ze,Fe=w.counterRegex("axis",".title",!1,!1),ge=/colorbar\.title$/,Te=Object.keys(ke);for(Ae=0;Ae<Te.length;Ae++)Ee=Te[Ae],ze=ke[Ee],Ee!=="title"&&!Fe.test(Ee)&&!ge.test(Ee)||typeof ze!="string"&&typeof ze!="number"?Ee.indexOf("titlefont")>-1&&Ee.indexOf("grouptitlefont")===-1?Se(Ee,Ee.replace("titlefont","title.font")):Ee.indexOf("titleposition")>-1?Se(Ee,Ee.replace("titleposition","title.position")):Ee.indexOf("titleside")>-1?Se(Ee,Ee.replace("titleside","title.side")):Ee.indexOf("titleoffset")>-1&&Se(Ee,Ee.replace("titleoffset","title.offset")):Se(Ee,Ee.replace("title","title.text"));function Se(Re,Pe){ke[Pe]=ke[Re],delete ke[Re]}}function te(ke,Ae,Ee){ke=w.getGraphDiv(ke),x.clearPromiseQueue(ke);var ze={};if(typeof Ae=="string")ze[Ae]=Ee;else{if(!w.isPlainObject(Ae))return w.warn("Relayout fail.",Ae,Ee),Promise.reject();ze=w.extendFlat({},Ae)}Object.keys(ze).length&&(ke.changed=!0);var Fe=se(ke,ze),ge=Fe.flags;ge.calc&&(ke.calcdata=void 0);var Te=[r.previousPromises];ge.layoutReplot?Te.push(m.layoutReplot):Object.keys(ze).length&&(Q(ke,ge,Fe)||r.supplyDefaults(ke),ge.legend&&Te.push(m.doLegend),ge.layoutstyle&&Te.push(m.layoutStyles),ge.axrange&&$(Te,Fe.rangesAltered),ge.ticks&&Te.push(m.doTicksRelayout),ge.modebar&&Te.push(m.doModeBar),ge.camera&&Te.push(m.doCamera),ge.colorbars&&Te.push(m.doColorBars),Te.push(T)),Te.push(r.rehover,r.redrag,r.reselect),s.add(ke,te,[ke,Fe.undoit],te,[ke,Fe.redoit]);var Se=w.syncOrAsync(Te,ke);return Se&&Se.then||(Se=Promise.resolve(ke)),Se.then(function(){return ke.emit("plotly_relayout",Fe.eventData),ke})}function Q(ke,Ae,Ee){var ze,Fe,ge=ke._fullLayout;if(!Ae.axrange)return!1;for(var Te in Ae)if(Te!=="axrange"&&Ae[Te])return!1;var Se=function(lt,ut){return w.coerce(ze,Fe,l,lt,ut)},Re={};for(var Pe in Ee.rangesAltered){var Ve=t.id2name(Pe);if(ze=ke.layout[Ve],Fe=ge[Ve],a(ze,Fe,Se,Re),Fe._matchGroup){for(var We in Fe._matchGroup)if(We!==Pe){var Qe=ge[t.id2name(We)];Qe.autorange=Fe.autorange,Qe.range=Fe.range.slice(),Qe._input.range=Fe.range.slice()}}}return!0}function $(ke,Ae){var Ee=Ae?function(ze){var Fe=[];for(var ge in Ae){var Te=t.getFromId(ze,ge);if(Fe.push(ge),(Te.ticklabelposition||"").indexOf("inside")!==-1&&Te._anchorAxis&&Fe.push(Te._anchorAxis._id),Te._matchGroup)for(var Se in Te._matchGroup)Ae[Se]||Fe.push(Se)}return t.draw(ze,Fe,{skipTitle:!0})}:function(ze){return t.draw(ze,"redraw")};ke.push(d,m.doAutoRangeAndConstraints,Ee,m.drawData,m.finalDraw)}var K=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ae=/^[xyz]axis[0-9]*\.autorange$/,ue=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function se(ke,Ae){var Ee,ze,Fe,ge=ke.layout,Te=ke._fullLayout,Se=Te._guiEditing,Re=V(Te._preGUI,Se),Pe=Object.keys(Ae),Ve=t.list(ke),We=w.extendDeepAll({},Ae),Qe={};for(ne(Ae),Pe=Object.keys(Ae),ze=0;ze<Pe.length;ze++)if(Pe[ze].indexOf("allaxes")===0){for(Fe=0;Fe<Ve.length;Fe++){var lt=Ve[Fe]._id.substr(1),ut=lt.indexOf("scene")!==-1?lt+".":"",xt=Pe[ze].replace("allaxes",ut+Ve[Fe]._name);Ae[xt]||(Ae[xt]=Ae[Pe[ze]])}delete Ae[Pe[ze]]}var _t=_.layoutFlags(),mt={},it={};function nt(mn,tn){if(Array.isArray(mn))mn.forEach(function(rn){nt(rn,tn)});else if(!(mn in Ae)&&!x.hasParent(Ae,mn)){var fn=Re(ge,mn);mn in it||(it[mn]=F(fn.get())),tn!==void 0&&fn.set(tn)}}var Et,Rt={};function Ft(mn){var tn=t.name2id(mn.split(".")[0]);return Rt[tn]=1,tn}for(var Pt in Ae){if(x.hasParent(Ae,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Ze=Re(ge,Pt),$e=Ae[Pt],He=Ze.parts.length-1;He>0&&typeof Ze.parts[He]!="string";)He--;var Je=Ze.parts[He],ft=Ze.parts[He-1]+"."+Je,ot=Ze.parts.slice(0,He).join("."),je=b(ke.layout,ot).get(),Ue=b(Te,ot).get(),st=Ze.get();if($e!==void 0){mt[Pt]=$e,it[Pt]=Je==="reverse"?$e:F(st);var Ke=i.getLayoutValObject(Te,Ze.parts);if(Ke&&Ke.impliedEdits&&$e!==null)for(var gt in Ke.impliedEdits)nt(w.relativeAttr(Pt,gt),Ke.impliedEdits[gt]);if(["width","height"].indexOf(Pt)!==-1)if($e){nt("autosize",null);var yt=Pt==="height"?"width":"height";nt(yt,Te[yt])}else Te[Pt]=ke._initialAutoSize[Pt];else if(Pt==="autosize")nt("width",$e?null:Te.width),nt("height",$e?null:Te.height);else if(ft.match(K))Ft(ft),b(Te,ot+"._inputRange").set(null);else if(ft.match(ae)){Ft(ft),b(Te,ot+"._inputRange").set(null);var bt=b(Te,ot).get();bt._inputDomain&&(bt._input.domain=bt._inputDomain.slice())}else ft.match(ue)&&b(Te,ot+"._inputDomain").set(null);if(Je==="type"){Et=je;var dt=Ue.type==="linear"&&$e==="log",Lt=Ue.type==="log"&&$e==="linear";if(dt||Lt){if(Et&&Et.range)if(Ue.autorange)dt&&(Et.range=Et.range[1]>Et.range[0]?[1,2]:[2,1]);else{var wt=Et.range[0],Ct=Et.range[1];dt?(wt<=0&&Ct<=0&&nt(ot+".autorange",!0),wt<=0?wt=Ct/1e6:Ct<=0&&(Ct=wt/1e6),nt(ot+".range[0]",Math.log(wt)/Math.LN10),nt(ot+".range[1]",Math.log(Ct)/Math.LN10)):(nt(ot+".range[0]",Math.pow(10,wt)),nt(ot+".range[1]",Math.pow(10,Ct)))}else nt(ot+".autorange",!0);Array.isArray(Te._subplots.polar)&&Te._subplots.polar.length&&Te[Ze.parts[0]]&&Ze.parts[1]==="radialaxis"&&delete Te[Ze.parts[0]]._subplot.viewInitial["radialaxis.range"],n.getComponentMethod("annotations","convertCoords")(ke,Ue,$e,nt),n.getComponentMethod("images","convertCoords")(ke,Ue,$e,nt)}else nt(ot+".autorange",!0),nt(ot+".range",null);b(Te,ot+"._inputRange").set(null)}else if(Je.match(p)){var zt=b(Te,Pt).get(),Dt=($e||{}).type;Dt&&Dt!=="-"||(Dt="linear"),n.getComponentMethod("annotations","convertCoords")(ke,zt,Dt,nt),n.getComponentMethod("images","convertCoords")(ke,zt,Dt,nt)}var Nt=g.containerArrayMatch(Pt);if(Nt){Ee=Nt.array,ze=Nt.index;var Kt=Nt.property,un=Ke||{editType:"calc"};ze!==""&&Kt===""&&(g.isAddVal($e)?it[Pt]=null:g.isRemoveVal($e)?it[Pt]=(b(ge,Ee).get()||[])[ze]:w.warn("unrecognized full object value",Ae)),_.update(_t,un),Qe[Ee]||(Qe[Ee]={});var qt=Qe[Ee][ze];qt||(qt=Qe[Ee][ze]={}),qt[Kt]=$e,delete Ae[Pt]}else Je==="reverse"?(je.range?je.range.reverse():(nt(ot+".autorange",!0),je.range=[1,0]),Ue.autorange?_t.calc=!0:_t.plot=!0):(Pt==="dragmode"&&($e===!1&&st!==!1||$e!==!1&&st===!1)||Te._has("scatter-like")&&Te._has("regl")&&Pt==="dragmode"&&($e==="lasso"||$e==="select")&&st!=="lasso"&&st!=="select"||Te._has("gl2d")?_t.plot=!0:Ke?_.update(_t,Ke):_t.calc=!0,Ze.set($e))}}for(Ee in Qe)g.applyContainerArrayChanges(ke,Re(ge,Ee),Qe[Ee],_t,Re)||(_t.plot=!0);for(var Jt in Rt){var Ut=(Et=t.getFromId(ke,Jt))&&Et._constraintGroup;if(Ut)for(var zn in _t.calc=!0,Ut)Rt[zn]||(t.getFromId(ke,zn)._constraintShrinkable=!0)}(he(ke)||Ae.height||Ae.width)&&(_t.plot=!0);var An=Te.shapes;for(ze=0;ze<An.length;ze++)if(An[ze].showlegend){_t.calc=!0;break}return(_t.plot||_t.calc)&&(_t.layoutReplot=!0),{flags:_t,rangesAltered:Rt,undoit:it,redoit:mt,eventData:We}}function he(ke){var Ae=ke._fullLayout,Ee=Ae.width,ze=Ae.height;return ke.layout.autosize&&r.plotAutoSize(ke,ke.layout,Ae),Ae.width!==Ee||Ae.height!==ze}function pe(ke,Ae,Ee,ze){ke=w.getGraphDiv(ke),x.clearPromiseQueue(ke),w.isPlainObject(Ae)||(Ae={}),w.isPlainObject(Ee)||(Ee={}),Object.keys(Ae).length&&(ke.changed=!0),Object.keys(Ee).length&&(ke.changed=!0);var Fe=x.coerceTraceIndices(ke,ze),ge=re(ke,w.extendFlat({},Ae),Fe),Te=ge.flags,Se=se(ke,w.extendFlat({},Ee)),Re=Se.flags;(Te.calc||Re.calc)&&(ke.calcdata=void 0),Te.clearAxisTypes&&x.clearAxisTypes(ke,Fe,Ee);var Pe=[];Re.layoutReplot?Pe.push(m.layoutReplot):Te.fullReplot?Pe.push(C._doPlot):(Pe.push(r.previousPromises),Q(ke,Re,Se)||r.supplyDefaults(ke),Te.style&&Pe.push(m.doTraceStyle),(Te.colorbars||Re.colorbars)&&Pe.push(m.doColorBars),Re.legend&&Pe.push(m.doLegend),Re.layoutstyle&&Pe.push(m.layoutStyles),Re.axrange&&$(Pe,Se.rangesAltered),Re.ticks&&Pe.push(m.doTicksRelayout),Re.modebar&&Pe.push(m.doModeBar),Re.camera&&Pe.push(m.doCamera),Pe.push(T)),Pe.push(r.rehover,r.redrag,r.reselect),s.add(ke,pe,[ke,ge.undoit,Se.undoit,ge.traces],pe,[ke,ge.redoit,Se.redoit,ge.traces]);var Ve=w.syncOrAsync(Pe,ke);return Ve&&Ve.then||(Ve=Promise.resolve(ke)),Ve.then(function(){return ke.emit("plotly_update",{data:ge.eventData,layout:Se.eventData}),ke})}function de(ke){return function(Ae){Ae._fullLayout._guiEditing=!0;var Ee=ke.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,Ee}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],_e=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function be(ke,Ae){for(var Ee=0;Ee<Ae.length;Ee++){var ze=Ae[Ee],Fe=ke.match(ze.pattern);if(Fe){var ge=Fe[1]||"";return{head:ge,tail:ke.substr(ge.length+1),attr:ze.attr}}}}function Le(ke,Ae){var Ee=b(Ae,ke).get();if(Ee!==void 0)return Ee;var ze=ke.split(".");for(ze.pop();ze.length>1;)if(ze.pop(),(Ee=b(Ae,ze.join(".")+".uirevision").get())!==void 0)return Ee;return Ae.uirevision}function De(ke,Ae){for(var Ee=0;Ee<Ae.length;Ee++)if(Ae[Ee]._fullInput.uid===ke)return Ee;return-1}function ye(ke,Ae,Ee){for(var ze=0;ze<Ae.length;ze++)if(Ae[ze].uid===ke)return ze;return!Ae[Ee]||Ae[Ee].uid?-1:Ee}function le(ke,Ae){var Ee=w.isPlainObject(ke),ze=Array.isArray(ke);return Ee||ze?(Ee&&w.isPlainObject(Ae)||ze&&Array.isArray(Ae))&&JSON.stringify(ke)===JSON.stringify(Ae):ke===Ae}function oe(ke,Ae,Ee,ze){var Fe,ge,Te,Se=ze.getValObject,Re=ze.flags,Pe=ze.immutable,Ve=ze.inArray,We=ze.arrayIndex;function Qe(){var je=Fe.editType;Ve&&je.indexOf("arraydraw")!==-1?w.pushUnique(Re.arrays[Ve],We):(_.update(Re,Fe),je!=="none"&&Re.nChanges++,ze.transition&&Fe.anim&&Re.nChangesAnim++,(K.test(Te)||ae.test(Te))&&(Re.rangesAltered[Ee[0]]=1),ue.test(Te)&&b(Ae,"_inputDomain").set(null),ge==="datarevision"&&(Re.newDataRevision=1))}function lt(je){return je.valType==="data_array"||je.arrayOk}for(ge in ke){if(Re.calc&&!ze.transition)return;var ut=ke[ge],xt=Ae[ge],_t=Ee.concat(ge);if(Te=_t.join("."),ge.charAt(0)!=="_"&&typeof ut!="function"&&ut!==xt){if((ge==="tick0"||ge==="dtick")&&Ee[0]!=="geo"){var mt=Ae.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if((ge!=="range"||!Ae.autorange)&&(ge!=="zmin"&&ge!=="zmax"||Ae.type!=="contourcarpet")&&(Fe=Se(_t))&&(!Fe._compareAsJSON||JSON.stringify(ut)!==JSON.stringify(xt))){var it,nt=Fe.valType,Et=lt(Fe),Rt=Array.isArray(ut),Ft=Array.isArray(xt);if(Rt&&Ft){var Pt="_input_"+ge,Ze=ke[Pt],$e=Ae[Pt];if(Array.isArray(Ze)&&Ze===$e)continue}if(xt===void 0)Et&&Rt?Re.calc=!0:Qe();else if(Fe._isLinkedToArray){var He=[],Je=!1;Ve||(Re.arrays[ge]=He);var ft=Math.min(ut.length,xt.length),ot=Math.max(ut.length,xt.length);if(ft!==ot){if(Fe.editType!=="arraydraw"){Qe();continue}Je=!0}for(it=0;it<ft;it++)oe(ut[it],xt[it],_t.concat(it),w.extendFlat({inArray:ge,arrayIndex:it},ze));if(Je)for(it=ft;it<ot;it++)He.push(it)}else!nt&&w.isPlainObject(ut)?oe(ut,xt,_t,ze):Et?Rt&&Ft?(Pe&&(Re.calc=!0),(Pe||ze.newDataRevision)&&Qe()):Rt!==Ft?Re.calc=!0:Qe():Rt&&Ft&&ut.length===xt.length&&String(ut)===String(xt)||Qe()}}}for(ge in Ae)if(!(ge in ke)&&ge.charAt(0)!=="_"&&typeof Ae[ge]!="function"){if(lt(Fe=Se(Ee.concat(ge)))&&Array.isArray(Ae[ge]))return void(Re.calc=!0);Qe()}}function ve(ke,Ae){var Ee;for(Ee in ke)if(Ee.charAt(0)!=="_"){var ze=ke[Ee],Fe=Ae[Ee];if(ze!==Fe)if(w.isPlainObject(ze)&&w.isPlainObject(Fe)){if(ve(ze,Fe))return!0}else{if(!Array.isArray(ze)||!Array.isArray(Fe)||ze.length!==Fe.length)return!0;for(var ge=0;ge<ze.length;ge++)if(ze[ge]!==Fe[ge]&&(!w.isPlainObject(ze[ge])||!w.isPlainObject(Fe[ge])||ve(ze[ge],Fe[ge])))return!0}}}function Ce(ke){var Ae=ke._fullLayout,Ee=ke.getBoundingClientRect();if(!w.equalDomRects(Ee,Ae._lastBBox)){var ze=Ae._invTransform=w.inverseTransformMatrix(w.getFullTransformMatrix(ke));Ae._invScaleX=Math.sqrt(ze[0][0]*ze[0][0]+ze[0][1]*ze[0][1]+ze[0][2]*ze[0][2]),Ae._invScaleY=Math.sqrt(ze[1][0]*ze[1][0]+ze[1][1]*ze[1][1]+ze[1][2]*ze[1][2]),Ae._lastBBox=Ee}}C.animate=function(ke,Ae,Ee){if(ke=w.getGraphDiv(ke),!w.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ze=ke._transitionData;ze._frameQueue||(ze._frameQueue=[]);var Fe=(Ee=r.supplyAnimationDefaults(Ee)).transition,ge=Ee.frame;function Te(Pe){return Array.isArray(Fe)?Pe>=Fe.length?Fe[0]:Fe[Pe]:Fe}function Se(Pe){return Array.isArray(ge)?Pe>=ge.length?ge[0]:ge[Pe]:ge}function Re(Pe,Ve){var We=0;return function(){if(Pe&&++We===Ve)return Pe()}}return ze._frameWaitingCnt===void 0&&(ze._frameWaitingCnt=0),new Promise(function(Pe,Ve){function We(){ke.emit("plotly_animating"),ze._lastFrameAt=-1/0,ze._timeToNext=0,ze._runningTransitions=0,ze._currentFrame=null;var Pt=function(){ze._animationRaf=window.requestAnimationFrame(Pt),Date.now()-ze._lastFrameAt>ze._timeToNext&&function(){ze._currentFrame&&ze._currentFrame.onComplete&&ze._currentFrame.onComplete();var Ze=ze._currentFrame=ze._frameQueue.shift();if(Ze){var $e=Ze.name?Ze.name.toString():null;ke._fullLayout._currentFrame=$e,ze._lastFrameAt=Date.now(),ze._timeToNext=Ze.frameOpts.duration,r.transition(ke,Ze.frame.data,Ze.frame.layout,x.coerceTraceIndices(ke,Ze.frame.traces),Ze.frameOpts,Ze.transitionOpts).then(function(){Ze.onComplete&&Ze.onComplete()}),ke.emit("plotly_animatingframe",{name:$e,frame:Ze.frame,animation:{frame:Ze.frameOpts,transition:Ze.transitionOpts}})}else ke.emit("plotly_animated"),window.cancelAnimationFrame(ze._animationRaf),ze._animationRaf=null}()};Pt()}var Qe,lt,ut=0;function xt(Pt){return Array.isArray(Fe)?ut>=Fe.length?Pt.transitionOpts=Fe[ut]:Pt.transitionOpts=Fe[0]:Pt.transitionOpts=Fe,ut++,Pt}var _t=[],mt=Ae==null,it=Array.isArray(Ae);if(mt||it||!w.isPlainObject(Ae)){if(mt||["string","number"].indexOf(typeof Ae)!==-1)for(Qe=0;Qe<ze._frames.length;Qe++)(lt=ze._frames[Qe])&&(mt||String(lt.group)===String(Ae))&&_t.push({type:"byname",name:String(lt.name),data:xt({name:lt.name})});else if(it)for(Qe=0;Qe<Ae.length;Qe++){var nt=Ae[Qe];["number","string"].indexOf(typeof nt)!==-1?(nt=String(nt),_t.push({type:"byname",name:nt,data:xt({name:nt})})):w.isPlainObject(nt)&&_t.push({type:"object",data:xt(w.extendFlat({},nt))})}}else _t.push({type:"object",data:xt(w.extendFlat({},Ae))});for(Qe=0;Qe<_t.length;Qe++)if((lt=_t[Qe]).type==="byname"&&!ze._frameHash[lt.data.name])return w.warn('animate failure: frame not found: "'+lt.data.name+'"'),void Ve();["next","immediate"].indexOf(Ee.mode)!==-1&&function(){if(ze._frameQueue.length!==0){for(;ze._frameQueue.length;){var Pt=ze._frameQueue.pop();Pt.onInterrupt&&Pt.onInterrupt()}ke.emit("plotly_animationinterrupted",[])}}(),Ee.direction==="reverse"&&_t.reverse();var Et=ke._fullLayout._currentFrame;if(Et&&Ee.fromcurrent){var Rt=-1;for(Qe=0;Qe<_t.length;Qe++)if((lt=_t[Qe]).type==="byname"&&lt.name===Et){Rt=Qe;break}if(Rt>0&&Rt<_t.length-1){var Ft=[];for(Qe=0;Qe<_t.length;Qe++)lt=_t[Qe],(_t[Qe].type!=="byname"||Qe>Rt)&&Ft.push(lt);_t=Ft}}_t.length>0?function(Pt){if(Pt.length!==0){for(var Ze=0;Ze<Pt.length;Ze++){var $e;$e=Pt[Ze].type==="byname"?r.computeFrame(ke,Pt[Ze].name):Pt[Ze].data;var He=Se(Ze),Je=Te(Ze);Je.duration=Math.min(Je.duration,He.duration);var ft={frame:$e,name:Pt[Ze].name,frameOpts:He,transitionOpts:Je};Ze===Pt.length-1&&(ft.onComplete=Re(Pe,2),ft.onInterrupt=Ve),ze._frameQueue.push(ft)}Ee.mode==="immediate"&&(ze._lastFrameAt=-1/0),ze._animationRaf||We()}}(_t):(ke.emit("plotly_animated"),Pe())})},C.addFrames=function(ke,Ae,Ee){if(ke=w.getGraphDiv(ke),Ae==null)return Promise.resolve();if(!w.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ze,Fe,ge,Te,Se=ke._transitionData._frames,Re=ke._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var Pe=Se.length+2*Ae.length,Ve=[],We={};for(ze=Ae.length-1;ze>=0;ze--)if(w.isPlainObject(Ae[ze])){var Qe=Ae[ze].name,lt=(Re[Qe]||We[Qe]||{}).name,ut=Ae[ze].name,xt=Re[lt]||We[lt];lt&&ut&&typeof ut=="number"&&xt&&S<5&&(S++,w.warn('addFrames: overwriting frame "'+(Re[lt]||We[lt]).name+'" with a frame whose name of type "number" also equates to "'+lt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&w.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),We[Qe]={name:Qe},Ve.push({frame:r.supplyFrameDefaults(Ae[ze]),index:Ee&&Ee[ze]!==void 0&&Ee[ze]!==null?Ee[ze]:Pe+ze})}Ve.sort(function(Pt,Ze){return Pt.index>Ze.index?-1:Pt.index<Ze.index?1:0});var _t=[],mt=[],it=Se.length;for(ze=Ve.length-1;ze>=0;ze--){if(typeof(Fe=Ve[ze].frame).name=="number"&&w.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Fe.name)for(;Re[Fe.name="frame "+ke._transitionData._counter++];);if(Re[Fe.name]){for(ge=0;ge<Se.length&&(Se[ge]||{}).name!==Fe.name;ge++);_t.push({type:"replace",index:ge,value:Fe}),mt.unshift({type:"replace",index:ge,value:Se[ge]})}else Te=Math.max(0,Math.min(Ve[ze].index,it)),_t.push({type:"insert",index:Te,value:Fe}),mt.unshift({type:"delete",index:Te}),it++}var nt=r.modifyFrames,Et=r.modifyFrames,Rt=[ke,mt],Ft=[ke,_t];return s&&s.add(ke,nt,Rt,Et,Ft),r.modifyFrames(ke,_t)},C.deleteFrames=function(ke,Ae){if(ke=w.getGraphDiv(ke),!w.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke);var Ee,ze,Fe=ke._transitionData._frames,ge=[],Te=[];if(!Ae)for(Ae=[],Ee=0;Ee<Fe.length;Ee++)Ae.push(Ee);for((Ae=Ae.slice()).sort(),Ee=Ae.length-1;Ee>=0;Ee--)ze=Ae[Ee],ge.push({type:"delete",index:ze}),Te.unshift({type:"insert",index:ze,value:Fe[ze]});var Se=r.modifyFrames,Re=r.modifyFrames,Pe=[ke,Te],Ve=[ke,ge];return s&&s.add(ke,Se,Pe,Re,Ve),r.modifyFrames(ke,ge)},C.addTraces=function ke(Ae,Ee,ze){Ae=w.getGraphDiv(Ae);var Fe,ge,Te=[],Se=C.deleteTraces,Re=ke,Pe=[Ae,Te],Ve=[Ae,Ee];for(function(We,Qe,lt){var ut,xt;if(!Array.isArray(We.data))throw new Error("gd.data must be an array.");if(Qe===void 0)throw new Error("traces must be defined.");for(Array.isArray(Qe)||(Qe=[Qe]),ut=0;ut<Qe.length;ut++)if(typeof(xt=Qe[ut])!="object"||Array.isArray(xt)||xt===null)throw new Error("all values in traces array must be non-array objects");if(lt===void 0||Array.isArray(lt)||(lt=[lt]),lt!==void 0&&lt.length!==Qe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ae,Ee,ze),Array.isArray(Ee)||(Ee=[Ee]),Ee=Ee.map(function(We){return w.extendFlat({},We)}),x.cleanData(Ee),Fe=0;Fe<Ee.length;Fe++)Ae.data.push(Ee[Fe]);for(Fe=0;Fe<Ee.length;Fe++)Te.push(-Ee.length+Fe);if(ze===void 0)return ge=C.redraw(Ae),s.add(Ae,Se,Pe,Re,Ve),ge;Array.isArray(ze)||(ze=[ze]);try{H(Ae,Te,ze)}catch(We){throw Ae.data.splice(Ae.data.length-Ee.length,Ee.length),We}return s.startSequence(Ae),s.add(Ae,Se,Pe,Re,Ve),ge=C.moveTraces(Ae,Te,ze),s.stopSequence(Ae),ge},C.deleteTraces=function ke(Ae,Ee){Ae=w.getGraphDiv(Ae);var ze,Fe,ge=[],Te=C.addTraces,Se=ke,Re=[Ae,ge,Ee],Pe=[Ae,Ee];if(Ee===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ee)||(Ee=[Ee]),R(Ae,Ee,"indices"),(Ee=I(Ee,Ae.data.length-1)).sort(w.sorterDes),ze=0;ze<Ee.length;ze+=1)Fe=Ae.data.splice(Ee[ze],1)[0],ge.push(Fe);var Ve=C.redraw(Ae);return s.add(Ae,Te,Re,Se,Pe),Ve},C.extendTraces=function ke(Ae,Ee,ze,Fe){var ge=z(Ae=w.getGraphDiv(Ae),Ee,ze,Fe,function(Re,Pe,Ve){var We,Qe;if(w.isTypedArray(Re))if(Ve<0){var lt=new Re.constructor(0),ut=j(Re,Pe);Ve<0?(We=ut,Qe=lt):(We=lt,Qe=ut)}else if(We=new Re.constructor(Ve),Qe=new Re.constructor(Re.length+Pe.length-Ve),Ve===Pe.length)We.set(Pe),Qe.set(Re);else if(Ve<Pe.length){var xt=Pe.length-Ve;We.set(Pe.subarray(xt)),Qe.set(Re),Qe.set(Pe.subarray(0,xt),Re.length)}else{var _t=Ve-Pe.length,mt=Re.length-_t;We.set(Re.subarray(mt)),We.set(Pe,_t),Qe.set(Re.subarray(0,mt))}else We=Re.concat(Pe),Qe=Ve>=0&&Ve<We.length?We.splice(0,We.length-Ve):[];return[We,Qe]}),Te=C.redraw(Ae),Se=[Ae,ge.update,ze,ge.maxPoints];return s.add(Ae,C.prependTraces,Se,ke,arguments),Te},C.moveTraces=function ke(Ae,Ee,ze){var Fe,ge=[],Te=[],Se=ke,Re=ke,Pe=[Ae=w.getGraphDiv(Ae),ze,Ee],Ve=[Ae,Ee,ze];if(H(Ae,Ee,ze),Ee=Array.isArray(Ee)?Ee:[Ee],ze===void 0)for(ze=[],Fe=0;Fe<Ee.length;Fe++)ze.push(-Ee.length+Fe);for(ze=Array.isArray(ze)?ze:[ze],Ee=I(Ee,Ae.data.length-1),ze=I(ze,Ae.data.length-1),Fe=0;Fe<Ae.data.length;Fe++)Ee.indexOf(Fe)===-1&&ge.push(Ae.data[Fe]);for(Fe=0;Fe<Ee.length;Fe++)Te.push({newIndex:ze[Fe],trace:Ae.data[Ee[Fe]]});for(Te.sort(function(Qe,lt){return Qe.newIndex-lt.newIndex}),Fe=0;Fe<Te.length;Fe+=1)ge.splice(Te[Fe].newIndex,0,Te[Fe].trace);Ae.data=ge;var We=C.redraw(Ae);return s.add(Ae,Se,Pe,Re,Ve),We},C.prependTraces=function ke(Ae,Ee,ze,Fe){var ge=z(Ae=w.getGraphDiv(Ae),Ee,ze,Fe,function(Re,Pe,Ve){var We,Qe;if(w.isTypedArray(Re))if(Ve<=0){var lt=new Re.constructor(0),ut=j(Pe,Re);Ve<0?(We=ut,Qe=lt):(We=lt,Qe=ut)}else if(We=new Re.constructor(Ve),Qe=new Re.constructor(Re.length+Pe.length-Ve),Ve===Pe.length)We.set(Pe),Qe.set(Re);else if(Ve<Pe.length){var xt=Pe.length-Ve;We.set(Pe.subarray(0,xt)),Qe.set(Pe.subarray(xt)),Qe.set(Re,xt)}else{var _t=Ve-Pe.length;We.set(Pe),We.set(Re.subarray(0,_t),Pe.length),Qe.set(Re.subarray(_t))}else We=Pe.concat(Re),Qe=Ve>=0&&Ve<We.length?We.splice(Ve,We.length):[];return[We,Qe]}),Te=C.redraw(Ae),Se=[Ae,ge.update,ze,ge.maxPoints];return s.add(Ae,C.extendTraces,Se,ke,arguments),Te},C.newPlot=function(ke,Ae,Ee,ze){return ke=w.getGraphDiv(ke),r.cleanPlot([],{},ke._fullData||[],ke._fullLayout||{}),r.purge(ke),C._doPlot(ke,Ae,Ee,ze)},C._doPlot=function(ke,Ae,Ee,ze){var Fe;if(ke=w.getGraphDiv(ke),f.init(ke),w.isPlainObject(Ae)){var ge=Ae;Ae=ge.data,Ee=ge.layout,ze=ge.config,Fe=ge.frames}if(f.triggerHandler(ke,"plotly_beforeplot",[Ae,Ee,ze])===!1)return Promise.reject();Ae||Ee||w.isPlotDiv(ke)||w.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ke),P(ke,ze),Ee||(Ee={}),k.select(ke).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(ke._promises)||(ke._promises=[]);var Te=(ke.data||[]).length===0&&Array.isArray(Ae);Array.isArray(Ae)&&(x.cleanData(Ae),Te?ke.data=Ae:ke.data.push.apply(ke.data,Ae),ke.empty=!1),ke.layout&&!Te||(ke.layout=x.cleanLayout(Ee)),r.supplyDefaults(ke);var Se=ke._fullLayout,Re=Se._has("cartesian");Se._replotting=!0,(Te||Se._shouldCreateBgLayer)&&(function(mt){var it=k.select(mt),nt=mt._fullLayout;if(nt._calcInverseTransform=Ce,nt._calcInverseTransform(mt),nt._container=it.selectAll(".plot-container").data([0]),nt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),nt._paperdiv=nt._container.selectAll(".svg-container").data([0]),nt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),nt._glcontainer=nt._paperdiv.selectAll(".gl-container").data([{}]),nt._glcontainer.enter().append("div").classed("gl-container",!0),nt._paperdiv.selectAll(".main-svg").remove(),nt._paperdiv.select(".modebar-container").remove(),nt._paper=nt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),nt._toppaper=nt._paperdiv.append("svg").classed("main-svg",!0),nt._modebardiv=nt._paperdiv.append("div"),delete nt._modeBar,nt._hoverpaper=nt._paperdiv.append("svg").classed("main-svg",!0),!nt._uid){var Et={};k.selectAll("defs").each(function(){this.id&&(Et[this.id.split("-")[1]]=1)}),nt._uid=w.randstr(Et)}nt._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),nt._defs=nt._paper.append("defs").attr("id","defs-"+nt._uid),nt._clips=nt._defs.append("g").classed("clips",!0),nt._topdefs=nt._toppaper.append("defs").attr("id","topdefs-"+nt._uid),nt._topclips=nt._topdefs.append("g").classed("clips",!0),nt._bgLayer=nt._paper.append("g").classed("bglayer",!0),nt._draggers=nt._paper.append("g").classed("draglayer",!0);var Rt=nt._paper.append("g").classed("layer-below",!0);nt._imageLowerLayer=Rt.append("g").classed("imagelayer",!0),nt._shapeLowerLayer=Rt.append("g").classed("shapelayer",!0),nt._cartesianlayer=nt._paper.append("g").classed("cartesianlayer",!0),nt._polarlayer=nt._paper.append("g").classed("polarlayer",!0),nt._smithlayer=nt._paper.append("g").classed("smithlayer",!0),nt._ternarylayer=nt._paper.append("g").classed("ternarylayer",!0),nt._geolayer=nt._paper.append("g").classed("geolayer",!0),nt._funnelarealayer=nt._paper.append("g").classed("funnelarealayer",!0),nt._pielayer=nt._paper.append("g").classed("pielayer",!0),nt._iciclelayer=nt._paper.append("g").classed("iciclelayer",!0),nt._treemaplayer=nt._paper.append("g").classed("treemaplayer",!0),nt._sunburstlayer=nt._paper.append("g").classed("sunburstlayer",!0),nt._indicatorlayer=nt._toppaper.append("g").classed("indicatorlayer",!0),nt._glimages=nt._paper.append("g").classed("glimages",!0);var Ft=nt._toppaper.append("g").classed("layer-above",!0);nt._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),nt._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),nt._selectionLayer=nt._toppaper.append("g").classed("selectionlayer",!0),nt._infolayer=nt._toppaper.append("g").classed("infolayer",!0),nt._menulayer=nt._toppaper.append("g").classed("menulayer",!0),nt._zoomlayer=nt._toppaper.append("g").classed("zoomlayer",!0),nt._hoverlayer=nt._hoverpaper.append("g").classed("hoverlayer",!0),nt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),mt.emit("plotly_framework")}(ke),Se._shouldCreateBgLayer&&delete Se._shouldCreateBgLayer),u.initGradients(ke),u.initPatterns(ke),Te&&t.saveShowSpikeInitial(ke);var Pe=!ke.calcdata||ke.calcdata.length!==(ke._fullData||[]).length;Pe&&r.doCalcdata(ke);for(var Ve=0;Ve<ke.calcdata.length;Ve++)ke.calcdata[Ve][0].trace=ke._fullData[Ve];ke._context.responsive?ke._responsiveChartHandler||(ke._responsiveChartHandler=function(){w.isHidden(ke)||r.resize(ke)},window.addEventListener("resize",ke._responsiveChartHandler)):w.clearResponsive(ke);var We=w.extendFlat({},Se._size),Qe=0;function lt(){if(r.clearAutoMarginIds(ke),m.drawMarginPushers(ke),t.allowAutoMargin(ke),ke._fullLayout.title.text&&ke._fullLayout.title.automargin&&r.allowAutoMargin(ke,"title.automargin"),Se._has("pie"))for(var mt=ke._fullData,it=0;it<mt.length;it++){var nt=mt[it];nt.type==="pie"&&nt.automargin&&r.allowAutoMargin(ke,"pie."+nt.uid+".automargin")}return r.doAutoMargin(ke),r.previousPromises(ke)}function ut(){ke._transitioning||(m.doAutoRangeAndConstraints(ke),Te&&t.saveRangeInitial(ke),n.getComponentMethod("rangeslider","calcAutorange")(ke))}var xt=[r.previousPromises,function(){if(Fe)return C.addFrames(ke,Fe)},function mt(){for(var it=Se._basePlotModules,nt=0;nt<it.length;nt++)it[nt].drawFramework&&it[nt].drawFramework(ke);!Se._glcanvas&&Se._has("gl")&&(Se._glcanvas=Se._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Pt){return Pt.key}),Se._glcanvas.enter().append("canvas").attr("class",function(Pt){return"gl-canvas gl-canvas-"+Pt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Et=ke._context.plotGlPixelRatio;if(Se._glcanvas){Se._glcanvas.attr("width",Se.width*Et).attr("height",Se.height*Et).style("width",Se.width+"px").style("height",Se.height+"px");var Rt=Se._glcanvas.data()[0].regl;if(Rt&&(Math.floor(Se.width*Et)!==Rt._gl.drawingBufferWidth||Math.floor(Se.height*Et)!==Rt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Qe)return w.log(Ft+" Clearing graph and plotting again."),r.cleanPlot([],{},ke._fullData,Se),r.supplyDefaults(ke),Se=ke._fullLayout,r.doCalcdata(ke),Qe++,mt();w.error(Ft)}}return Se.modebar.orientation==="h"?Se._modebardiv.style("height",null).style("width","100%"):Se._modebardiv.style("width",null).style("height",Se.height+"px"),r.previousPromises(ke)},lt,function(){if(r.didMarginChange(We,Se._size))return w.syncOrAsync([lt,m.layoutStyles],ke)}];Re&&xt.push(function(){if(Pe)return w.syncOrAsync([n.getComponentMethod("shapes","calcAutorange"),n.getComponentMethod("annotations","calcAutorange"),ut],ke);ut()}),xt.push(m.layoutStyles),Re&&xt.push(function(){return t.draw(ke,Te?"":"redraw")},function(mt){var it=mt._fullLayout._insideTickLabelsUpdaterange;if(it)return mt._fullLayout._insideTickLabelsUpdaterange=void 0,te(mt,it).then(function(){t.saveRangeInitial(mt,!0)})}),xt.push(m.drawData,m.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var _t=w.syncOrAsync(xt,ke);return _t&&_t.then||(_t=Promise.resolve()),_t.then(function(){return T(ke),ke})},C.purge=function(ke){var Ae=(ke=w.getGraphDiv(ke))._fullLayout||{},Ee=ke._fullData||[];return r.cleanPlot([],{},Ee,Ae),r.purge(ke),f.purge(ke),Ae._container&&Ae._container.remove(),delete ke._context,ke},C.react=function(ke,Ae,Ee,ze){var Fe,ge;ke=w.getGraphDiv(ke),x.clearPromiseQueue(ke);var Te=ke._fullData,Se=ke._fullLayout;if(w.isPlotDiv(ke)&&Te&&Se){if(w.isPlainObject(Ae)){var Re=Ae;Ae=Re.data,Ee=Re.layout,ze=Re.config,Fe=Re.frames}var Pe=!1;if(ze){var Ve=w.extendDeep({},ke._context);ke._context=void 0,P(ke,ze),Pe=ve(Ve,ke._context)}ke.data=Ae||[],x.cleanData(ke.data),ke.layout=Ee||{},x.cleanLayout(ke.layout),function(ot,je,Ue,st){var Ke,gt,yt,bt,dt,Lt,wt,Ct,zt,Dt,Nt=st._preGUI,Kt=[],un={},qt={};for(Ke in Nt){if(dt=be(Ke,xe)){if(zt=dt.head,Dt=dt.tail,gt=dt.attr||zt+".uirevision",(bt=(yt=b(st,gt).get())&&Le(gt,je))&&bt===yt){if((Lt=Nt[Ke])===null&&(Lt=void 0),le(Ct=(wt=b(je,Ke)).get(),Lt)){Ct===void 0&&Dt==="autorange"&&Kt.push(zt),wt.set(F(b(st,Ke).get()));continue}if(Dt==="autorange"||Dt.substr(0,6)==="range["){var Jt=Nt[zt+".range[0]"],Ut=Nt[zt+".range[1]"],zn=Nt[zt+".autorange"];if(zn||zn===null&&Jt===null&&Ut===null){if(!(zt in un)){var An=b(je,zt).get();un[zt]=An&&(An.autorange||An.autorange!==!1&&(!An.range||An.range.length!==2))}if(un[zt]){wt.set(F(b(st,Ke).get()));continue}}}}}else w.warn("unrecognized GUI edit: "+Ke);delete Nt[Ke],dt&&dt.tail.substr(0,6)==="range["&&(qt[dt.head]=1)}for(var mn=0;mn<Kt.length;mn++){var tn=Kt[mn];if(qt[tn]){var fn=b(je,tn).get();fn&&delete fn.autorange}}var rn=st._tracePreGUI;for(var pn in rn){var wn,kn=rn[pn],Pn=null;for(Ke in kn){if(!Pn){var On=De(pn,Ue);if(On<0){delete rn[pn];break}var En=ye(pn,ot,(wn=Ue[On]._fullInput).index);if(En<0){delete rn[pn];break}Pn=ot[En]}if(dt=be(Ke,_e)){if(dt.attr?bt=(yt=b(st,dt.attr).get())&&Le(dt.attr,je):(yt=wn.uirevision,(bt=Pn.uirevision)===void 0&&(bt=je.uirevision)),bt&&bt===yt&&((Lt=kn[Ke])===null&&(Lt=void 0),le(Ct=(wt=b(Pn,Ke)).get(),Lt))){wt.set(F(b(wn,Ke).get()));continue}}else w.warn("unrecognized GUI edit: "+Ke+" in trace uid "+pn);delete kn[Ke]}}}(ke.data,ke.layout,Te,Se),r.supplyDefaults(ke,{skipUpdateCalc:!0});var We=ke._fullData,Qe=ke._fullLayout,lt=Qe.datarevision===void 0,ut=Qe.transition,xt=function(ot,je,Ue,st,Ke){var gt=_.layoutFlags();return gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,oe(je,Ue,[],{getValObject:function(yt){return i.getLayoutValObject(Ue,yt)},flags:gt,immutable:st,transition:Ke,gd:ot}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),Ke&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}(ke,Se,Qe,lt,ut),_t=xt.newDataRevision,mt=function(ot,je,Ue,st,Ke,gt){var yt=je.length===Ue.length;if(!Ke&&!yt)return{fullReplot:!0,calc:!0};var bt,dt,Lt=_.traceFlags();Lt.arrays={},Lt.nChanges=0,Lt.nChangesAnim=0;var wt={getValObject:function(zt){var Dt=i.getTraceValObject(dt,zt);return!dt._module.animatable&&Dt.anim&&(Dt.anim=!1),Dt},flags:Lt,immutable:st,transition:Ke,newDataRevision:gt,gd:ot},Ct={};for(bt=0;bt<je.length;bt++)if(Ue[bt]){if(dt=Ue[bt]._fullInput,r.hasMakesDataTransform(dt)&&(dt=Ue[bt]),Ct[dt.uid])continue;Ct[dt.uid]=1,oe(je[bt]._fullInput,dt,[],wt)}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),Ke&&Lt.nChanges&&Lt.nChangesAnim&&(Lt.anim=Lt.nChanges===Lt.nChangesAnim&&yt?"all":"some"),Lt}(ke,Te,We,lt,ut,_t);if(he(ke)&&(xt.layoutReplot=!0),mt.calc||xt.calc){ke.calcdata=void 0;for(var it=Object.getOwnPropertyNames(Qe),nt=0;nt<it.length;nt++){var Et=it[nt],Rt=Et.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Ft=Qe[Et]._emptyCategories;Ft&&Ft()}}}else r.supplyDefaultsUpdateCalc(ke.calcdata,We);var Pt=[];if(Fe&&(ke._transitionData={},r.createTransitionData(ke),Pt.push(function(){return C.addFrames(ke,Fe)})),Qe.transition&&!Pe&&(mt.anim||xt.anim))xt.ticks&&Pt.push(m.doTicksRelayout),r.doCalcdata(ke),m.doAutoRangeAndConstraints(ke),Pt.push(function(){return r.transitionFromReact(ke,mt,xt,Se)});else if(mt.fullReplot||xt.layoutReplot||Pe)ke._fullLayout._skipDefaults=!0,Pt.push(C._doPlot);else{for(var Ze in xt.arrays){var $e=xt.arrays[Ze];if($e.length){var He=n.getComponentMethod(Ze,"drawOne");if(He!==w.noop)for(var Je=0;Je<$e.length;Je++)He(ke,$e[Je]);else{var ft=n.getComponentMethod(Ze,"draw");if(ft===w.noop)throw new Error("cannot draw components: "+Ze);ft(ke)}}}Pt.push(r.previousPromises),mt.style&&Pt.push(m.doTraceStyle),(mt.colorbars||xt.colorbars)&&Pt.push(m.doColorBars),xt.legend&&Pt.push(m.doLegend),xt.layoutstyle&&Pt.push(m.layoutStyles),xt.axrange&&$(Pt),xt.ticks&&Pt.push(m.doTicksRelayout),xt.modebar&&Pt.push(m.doModeBar),xt.camera&&Pt.push(m.doCamera),Pt.push(T)}Pt.push(r.rehover,r.redrag,r.reselect),(ge=w.syncOrAsync(Pt,ke))&&ge.then||(ge=Promise.resolve(ke))}else ge=C.newPlot(ke,Ae,Ee,ze);return ge.then(function(){return ke.emit("plotly_react",{data:Ae,layout:Ee}),ke})},C.redraw=function(ke){if(ke=w.getGraphDiv(ke),!w.isPlotDiv(ke))throw new Error("This element is not a Plotly plot: "+ke);return x.cleanData(ke.data),x.cleanLayout(ke.layout),ke.calcdata=void 0,C._doPlot(ke).then(function(){return ke.emit("plotly_redraw"),ke})},C.relayout=te,C.restyle=Z,C.setPlotConfig=function(ke){return w.extendFlat(v,ke)},C.update=pe,C._guiRelayout=de(te),C._guiRestyle=de(Z),C._guiUpdate=de(pe),C._storeDirectGUIEdit=function(ke,Ae,Ee){for(var ze in Ee)W(ze,b(ke,ze).get(),Ee[ze],Ae)}},20556:function(U){var C={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function k(A,o){for(var w in A){var b=A[w];b.valType?o[w]=b.dflt:(o[w]||(o[w]={}),k(b,o[w]))}})(C,e),U.exports={configAttributes:C,dfltConfig:e}},73060:function(U,C,e){var k=e(24040),A=e(3400),o=e(45464),w=e(64859),b=e(16672),f=e(85656),s=e(20556).configAttributes,n=e(67824),i=A.extendDeepAll,r=A.isPlainObject,t=A.isArrayOrTypedArray,a=A.nestedProperty,l=A.valObjectMeta,u="_isSubplotObj",h="_isLinkedToArray",c="_deprecated",y=[u,h,"_arrayAttrRegexps",c];function d(p,S,T){if(!p)return!1;if(p._isLinkedToArray){if(v(S[T]))T++;else if(T<S.length)return!1}for(;T<S.length;T++){var E=p[S[T]];if(!r(E)||(p=E,T===S.length-1))break;if(p._isLinkedToArray){if(!v(S[++T]))return!1}else if(p.valType==="info_array"){var O=S[++T];if(!v(O))return!1;var P=p.items;if(Array.isArray(P)){if(O>=P.length)return!1;if(p.dimensions===2){if(T++,S.length===T)return p;var I=S[T];if(!v(I))return!1;p=P[O][I]}else p=P[O]}else p=P}}return p}function v(p){return p===Math.round(p)&&p>=0}function g(){var p,S,T={};for(p in i(T,w),k.subplotsRegistry)if((S=k.subplotsRegistry[p]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(T,S,S.attr[E]);else m(T,S,S.attr==="subplot"?S.name:S.attr);for(p in k.componentsRegistry){var O=(S=k.componentsRegistry[p]).schema;if(O&&(O.subplots||O.layout)){var P=O.subplots;if(P&&P.xaxis&&!P.yaxis)for(var I in P.xaxis)delete T.yaxis[I];delete T.xaxis.shift,delete T.xaxis.autoshift}else S.name==="colorscale"?i(T,S.layoutAttributes):S.layoutAttributes&&_(T,S.layoutAttributes,S.name)}return{layoutAttributes:x(T)}}function x(p){return function(S){C.crawl(S,function(T,E,O){C.isValObject(T)?T.arrayOk!==!0&&T.valType!=="data_array"||(O[E+"src"]={valType:"string",editType:"none"}):r(T)&&(T.role="object")})}(p),function(S){C.crawl(S,function(T,E,O){if(T){var P=T[h];P&&(delete T[h],O[E]={items:{}},O[E].items[P]=T,O[E].role="object")}})}(p),function(S){(function T(E){for(var O in E)if(r(E[O]))T(E[O]);else if(Array.isArray(E[O]))for(var P=0;P<E[O].length;P++)T(E[O][P]);else E[O]instanceof RegExp&&(E[O]=E[O].toString())})(S)}(p),p}function m(p,S,T){var E=a(p,T),O=i({},S.layoutAttributes);O[u]=!0,E.set(O)}function _(p,S,T){var E=a(p,T);E.set(i(E.get()||{},S))}C.IS_SUBPLOT_OBJ=u,C.IS_LINKED_TO_ARRAY=h,C.DEPRECATED=c,C.UNDERSCORE_ATTRS=y,C.get=function(){var p={};k.allTypes.forEach(function(E){p[E]=function(O){var P,I;I=(P=k.modules[O]._module).basePlotModule;var R={type:null},H=i({},o),z=i({},P.attributes);C.crawl(z,function(F,V,W,re,ne){a(H,ne).set(void 0),F===void 0&&a(z,ne).set(void 0)}),i(R,H),k.traceIs(O,"noOpacity")&&delete R.opacity,k.traceIs(O,"showLegend")||(delete R.showlegend,delete R.legendgroup),k.traceIs(O,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),P.selectPoints||delete R.selectedpoints,i(R,z),I.attributes&&i(R,I.attributes),R.type=O;var j={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:O,attributes:x(R)};if(P.layoutAttributes){var Z={};i(Z,P.layoutAttributes),j.layoutAttributes=x(Z)}return P.animatable||C.crawl(j,function(F){C.isValObject(F)&&"anim"in F&&delete F.anim}),j}(E)});var S,T={};return Object.keys(k.transformsRegistry).forEach(function(E){T[E]=function(O){var P=k.transformsRegistry[O],I=i({},P.attributes);return Object.keys(k.componentsRegistry).forEach(function(R){var H=k.componentsRegistry[R];H.schema&&H.schema.transforms&&H.schema.transforms[O]&&Object.keys(H.schema.transforms[O]).forEach(function(z){_(I,H.schema.transforms[O][z],z)})}),{attributes:x(I)}}(E)}),{defs:{valObjects:l,metaKeys:y.concat(["description","role","editType","impliedEdits"]),editType:{traces:n.traces,layout:n.layout},impliedEdits:{}},traces:p,layout:g(),transforms:T,frames:(S={frames:i({},b)},x(S),S.frames),animation:x(f),config:x(s)}},C.crawl=function(p,S,T,E){var O=T||0;E=E||"",Object.keys(p).forEach(function(P){var I=p[P];if(y.indexOf(P)===-1){var R=(E?E+".":"")+P;S(I,P,p,O,R),C.isValObject(I)||r(I)&&P!=="impliedEdits"&&C.crawl(I,S,O+1,R)}})},C.isValObject=function(p){return p&&p.valType!==void 0},C.findArrayAttributes=function(p){var S,T,E=[],O=[],P=[];function I(F,V,W,re){O=O.slice(0,re).concat([V]),P=P.slice(0,re).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(O[re-1]!=="colorbar"||V!=="ticktext"&&V!=="tickvals")&&R(S,0,"")}function R(F,V,W){var re=F[O[V]],ne=W+O[V];if(V===O.length-1)t(re)&&E.push(T+ne);else if(P[V]){if(Array.isArray(re))for(var te=0;te<re.length;te++)r(re[te])&&R(re[te],V+1,ne+"["+te+"].")}else r(re)&&R(re,V+1,ne+".")}S=p,T="",C.crawl(o,I),p._module&&p._module.attributes&&C.crawl(p._module.attributes,I);var H=p.transforms;if(H)for(var z=0;z<H.length;z++){var j=H[z],Z=j._module;Z&&(T="transforms["+z+"].",S=j,C.crawl(Z.attributes,I))}return E},C.getTraceValObject=function(p,S){var T,E,O=S[0],P=1;if(O==="transforms"){if(S.length===1)return o.transforms;var I=p.transforms;if(!Array.isArray(I)||!I.length)return!1;var R=S[1];if(!v(R)||R>=I.length)return!1;E=(T=(k.transformsRegistry[I[R].type]||{}).attributes)&&T[S[2]],P=3}else{var H=p._module;if(H||(H=(k.modules[p.type||o.type.dflt]||{})._module),!H)return!1;if(!(E=(T=H.attributes)&&T[O])){var z=H.basePlotModule;z&&z.attributes&&(E=z.attributes[O])}E||(E=o[O])}return d(E,S,P)},C.getLayoutValObject=function(p,S){var T=function(E,O){var P,I,R,H,z=E._basePlotModules;if(z){var j;for(P=0;P<z.length;P++){if((R=z[P]).attrRegex&&R.attrRegex.test(O)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!j&&R.layoutAttributes&&(j=R.layoutAttributes)}var Z=R.baseLayoutAttrOverrides;if(Z&&O in Z)return Z[O]}if(j)return j}var F=E._modules;if(F){for(P=0;P<F.length;P++)if((H=F[P].layoutAttributes)&&O in H)return H[O]}for(I in k.componentsRegistry){if((R=k.componentsRegistry[I]).name==="colorscale"&&O.indexOf("coloraxis")===0)return R.layoutAttributes[O];if(!R.schema&&O===R.name)return R.layoutAttributes}return O in w&&w[O]}(p,S[0]);return d(T,S,1)}},31780:function(U,C,e){var k=e(3400),A=e(45464),o="templateitemname",w={name:{valType:"string",editType:"none"}};function b(s){return s&&typeof s=="string"}function f(s){var n=s.length-1;return s.charAt(n)!=="s"&&k.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}w[o]={valType:"string",editType:"calc"},C.templatedArray=function(s,n){return n._isLinkedToArray=s,n.name=w.name,n[o]=w[o],n},C.traceTemplater=function(s){var n,i,r={};for(n in s)i=s[n],Array.isArray(i)&&i.length&&(r[n]=0);return{newTrace:function(t){var a={type:n=k.coerce(t,{},A,"type"),_template:null};if(n in r){i=s[n];var l=r[n]%i.length;r[n]++,a._template=i[l]}return a}}},C.newContainer=function(s,n,i){var r=s._template,t=r&&(r[n]||i&&r[i]);return k.isPlainObject(t)||(t=null),s[n]={_template:t}},C.arrayTemplater=function(s,n,i){var r=s._template,t=r&&r[f(n)],a=r&&r[n];Array.isArray(a)&&a.length||(a=[]);var l={};return{newItem:function(u){var h={name:u.name,_input:u},c=h[o]=u[o];if(!b(c))return h._template=t,h;for(var y=0;y<a.length;y++){var d=a[y];if(d.name===c)return l[c]=1,h._template=d,h}return h[i]=u[i]||!1,h._template=!1,h},defaultItems:function(){for(var u=[],h=0;h<a.length;h++){var c=a[h],y=c.name;if(b(y)&&!l[y]){var d={_template:c,name:y,_input:{_templateitemname:y}};d[o]=c[o],u.push(d),l[y]=1}}return u}}},C.arrayDefaultKey=f,C.arrayEditor=function(s,n,i){var r=(k.nestedProperty(s,n).get()||[]).length,t=i._index,a=t>=r&&(i._input||{})._templateitemname;a&&(t=r);var l,u=n+"["+t+"]";function h(){l={},a&&(l[u]={},l[u][o]=a)}function c(d,v){a?k.nestedProperty(l[u],d).set(v):l[u+"."+d]=v}function y(){var d=l;return h(),d}return h(),{modifyBase:function(d,v){l[d]=v},modifyItem:c,getUpdateObj:y,applyUpdate:function(d,v){d&&c(d,v);var g=y();for(var x in g)k.nestedProperty(s,x).set(g[x])}}}},39172:function(U,C,e){var k=e(33428),A=e(24040),o=e(7316),w=e(3400),b=e(72736),f=e(73696),s=e(76308),n=e(43616),i=e(81668),r=e(45460),t=e(54460),a=e(84284),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,y="start";function d(_,p,S){for(var T=0;T<S.length;T++){var E=S[T][0],O=S[T][1];if(!(E[0]>=_[1]||E[1]<=_[0])&&O[0]<p[1]&&O[1]>p[0])return!0}return!1}function v(_){var p,S,T,E,O,P,I=_._fullLayout,R=I._size,H=R.p,z=t.list(_,"",!0);if(I._paperdiv.style({width:_._context.responsive&&I.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":I.width+"px",height:_._context.responsive&&I.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(n.setSize,I.width,I.height),_._context.setBackground(_,I.paper_bgcolor),C.drawMainTitle(_),r.manage(_),!I._has("cartesian"))return o.previousPromises(_);function j(Pe,Ve,We){var Qe=Pe._lw/2;return Pe._id.charAt(0)==="x"?Ve?We==="top"?Ve._offset-H-Qe:Ve._offset+Ve._length+H+Qe:R.t+R.h*(1-(Pe.position||0))+Qe%1:Ve?We==="right"?Ve._offset+Ve._length+H+Qe:Ve._offset-H-Qe:R.l+R.w*(Pe.position||0)+Qe%1}for(p=0;p<z.length;p++){var Z=(E=z[p])._anchorAxis;E._linepositions={},E._lw=n.crispRound(_,E.linewidth,1),E._mainLinePosition=j(E,Z,E.side),E._mainMirrorPosition=E.mirror&&Z?j(E,Z,a.OPPOSITE_SIDE[E.side]):null}var F=[],V=[],W=[],re=s.opacity(I.paper_bgcolor)===1&&s.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(S in I._plots)if((T=I._plots[S]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var ne=T.xaxis.domain,te=T.yaxis.domain,Q=T.plotgroup;if(d(ne,te,W)){var $=Q.node(),K=T.bg=w.ensureSingle(Q,"rect","bg");$.insertBefore(K.node(),$.childNodes[0]),V.push(S)}else Q.select("rect.bg").remove(),W.push([ne,te]),re||(F.push(S),V.push(S))}var ae,ue,se,he,pe,de,xe,_e,be,Le,De,ye,le,oe=I._bgLayer.selectAll(".bg").data(F);for(oe.enter().append("rect").classed("bg",!0),oe.exit().remove(),oe.each(function(Pe){I._plots[Pe].bg=k.select(this)}),p=0;p<V.length;p++)T=I._plots[V[p]],O=T.xaxis,P=T.yaxis,T.bg&&O._offset!==void 0&&P._offset!==void 0&&T.bg.call(n.setRect,O._offset-H,P._offset-H,O._length+2*H,P._length+2*H).call(s.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(S in I._plots){T=I._plots[S],O=T.xaxis,P=T.yaxis;var ve,Ce,ke=T.clipId="clip"+I._uid+S+"plot",Ae=w.ensureSingleById(I._clips,"clipPath",ke,function(Pe){Pe.classed("plotclip",!0).append("rect")});T.clipRect=Ae.select("rect").attr({width:O._length,height:P._length}),n.setTranslate(T.plot,O._offset,P._offset),T._hasClipOnAxisFalse?(ve=null,Ce=ke):(ve=ke,Ce=null),n.setClipUrl(T.plot,ve,_),T.layerClipId=Ce}function Ee(Pe){return"M"+ae+","+Pe+"H"+ue}function ze(Pe){return"M"+O._offset+","+Pe+"h"+O._length}function Fe(Pe){return"M"+Pe+","+_e+"V"+xe}function ge(Pe){return P._shift!==void 0&&(Pe+=P._shift),"M"+Pe+","+P._offset+"v"+P._length}function Te(Pe,Ve,We){if(!Pe.showline||S!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return We(Pe._mainLinePosition);var Qe=Ve(Pe._mainLinePosition);return Pe.mirror&&(Qe+=Ve(Pe._mainMirrorPosition)),Qe}for(S in I._plots){T=I._plots[S],O=T.xaxis,P=T.yaxis;var Se="M0,0";g(O,S)&&(pe=m(O,"left",P,z),ae=O._offset-(pe?H+pe:0),de=m(O,"right",P,z),ue=O._offset+O._length+(de?H+de:0),se=j(O,P,"bottom"),he=j(O,P,"top"),!(le=!O._anchorAxis||S!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[S]=[se,he]),Se=Te(O,Ee,ze),le&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(Se+=Ee(se)+Ee(he)),T.xlines.style("stroke-width",O._lw+"px").call(s.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",Se);var Re="M0,0";g(P,S)&&(De=m(P,"bottom",O,z),xe=P._offset+P._length+(De?H:0),ye=m(P,"top",O,z),_e=P._offset-(ye?H:0),be=j(P,O,"left"),Le=j(P,O,"right"),!(le=!P._anchorAxis||S!==P._mainSubplot)||P.mirror!=="allticks"&&P.mirror!=="all"||(P._linepositions[S]=[be,Le]),Re=Te(P,Fe,ge),le&&P.showline&&(P.mirror==="all"||P.mirror==="allticks")&&(Re+=Fe(be)+Fe(Le)),T.ylines.style("stroke-width",P._lw+"px").call(s.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",Re)}return t.makeClipPaths(_),o.previousPromises(_)}function g(_,p){return(_.ticks||_.showline)&&(p===_._mainSubplot||_.mirror==="all"||_.mirror==="allticks")}function x(_,p,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var T=S._anchorAxis;if(!T)return!1;var E=a.FROM_BL[p];return S.side===p?T.domain[E]===_.domain[E]:S.mirror&&T.domain[1-E]===_.domain[1-E]}function m(_,p,S,T){if(x(_,p,S))return S._lw;for(var E=0;E<T.length;E++){var O=T[E];if(O._mainAxis===S._mainAxis&&x(_,p,O))return O._lw}return 0}C.layoutStyles=function(_){return w.syncOrAsync([o.doAutoMargin,v],_)},C.drawMainTitle=function(_){var p,S=_._fullLayout.title,T=_._fullLayout,E=function(F){var V=F.title,W="middle";return w.isRightAnchor(V)?W="end":w.isLeftAnchor(V)&&(W=y),W}(T),O=function(F){var V=F.title,W="0em";return w.isTopAnchor(V)?W=a.CAP_SHIFT+"em":w.isMiddleAnchor(V)&&(W=a.MID_SHIFT+"em"),W}(T),P=function(F,V){var W=F.title,re=F._size,ne=0;return V!=="0em"&&V?V===a.CAP_SHIFT+"em"&&(ne=W.pad.t):ne=-W.pad.b,W.y==="auto"?re.t/2:W.yref==="paper"?re.t+re.h-re.h*W.y+ne:F.height-F.height*W.y+ne}(T,O),I=function(F,V){var W=F.title,re=F._size,ne=0;return V===y?ne=W.pad.l:V==="end"&&(ne=-W.pad.r),W.xref==="paper"?re.l+re.w*W.x+ne:F.width*W.x+ne}(T,E);if(i.draw(_,"gtitle",{propContainer:T,propName:"title.text",placeholder:T._dfltTitle.plot,attributes:{x:I,y:P,"text-anchor":E,dy:O}}),S.text&&S.automargin){var R=k.selectAll(".gtitle"),H=n.bBox(R.node()).height,z=function(F,V,W){var re=V.y,ne=V.yanchor,te=re>.5?"t":"b",Q=F._fullLayout.margin[te],$=0;return V.yref==="paper"?$=W+V.pad.t+V.pad.b:V.yref==="container"&&($=function(K,ae,ue,se,he){var pe=0;return ue==="middle"&&(pe+=he/2),K==="t"?(ue==="top"&&(pe+=he),pe+=se-ae*se):(ue==="bottom"&&(pe+=he),pe+=ae*se),pe}(te,re,ne,F._fullLayout.height,W)+V.pad.t+V.pad.b),$>Q?$:0}(_,S,H);if(z>0){(function(F,V,W,re){var ne="title.automargin",te=F._fullLayout.title,Q=te.y>.5?"t":"b",$={x:te.x,y:te.y,t:0,b:0},K={};te.yref==="paper"&&function(ae,ue,se,he,pe){var de=ue.yref==="paper"?ae._fullLayout._size.h:ae._fullLayout.height,xe=w.isTopAnchor(ue)?he:he-pe,_e=se==="b"?de-xe:xe;return!(w.isTopAnchor(ue)&&se==="t"||w.isBottomAnchor(ue)&&se==="b")&&_e<pe}(F,te,Q,V,re)?$[Q]=W:te.yref==="container"&&(K[Q]=W,F._fullLayout._reservedMargin[ne]=K),o.allowAutoMargin(F,ne),o.autoMargin(F,ne,$)})(_,P,z,H),R.attr({x:I,y:P,"text-anchor":E,dy:(p=S.yanchor,p==="top"?a.CAP_SHIFT+.3+"em":p==="bottom"?"-0.3em":a.MID_SHIFT+"em")}).call(b.positionText,I,P);var j=(S.text.match(b.BR_TAG_ALL)||[]).length;if(j){var Z=a.LINE_SPACING*j+a.MID_SHIFT;S.y===0&&(Z=-Z),R.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",F)})}}}},C.doTraceStyle=function(_){var p,S=_.calcdata,T=[];for(p=0;p<S.length;p++){var E=S[p],O=E[0]||{},P=O.trace||{},I=P._module||{},R=I.arraysToCalcdata;R&&R(E,P);var H=I.editStyle;H&&T.push({fn:H,cd0:O})}if(T.length){for(p=0;p<T.length;p++){var z=T[p];z.fn(_,z.cd0)}f(_),C.redrawReglTraces(_)}return o.style(_),A.getComponentMethod("legend","draw")(_),o.previousPromises(_)},C.doColorBars=function(_){return A.getComponentMethod("colorbar","draw")(_),o.previousPromises(_)},C.layoutReplot=function(_){var p=_.layout;return _.layout=void 0,A.call("_doPlot",_,"",p)},C.doLegend=function(_){return A.getComponentMethod("legend","draw")(_),o.previousPromises(_)},C.doTicksRelayout=function(_){return t.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(A.subplotsRegistry.splom.updateGrid(_),f(_),C.redrawReglTraces(_)),C.drawMainTitle(_),o.previousPromises(_)},C.doModeBar=function(_){var p=_._fullLayout;r.manage(_);for(var S=0;S<p._basePlotModules.length;S++){var T=p._basePlotModules[S].updateFx;T&&T(_)}return o.previousPromises(_)},C.doCamera=function(_){for(var p=_._fullLayout,S=p._subplots.gl3d,T=0;T<S.length;T++){var E=p[S[T]];E._scene.setViewport(E)}},C.drawData=function(_){var p=_._fullLayout;f(_);for(var S=p._basePlotModules,T=0;T<S.length;T++)S[T].plot(_);return C.redrawReglTraces(_),o.style(_),A.getComponentMethod("selections","draw")(_),A.getComponentMethod("shapes","draw")(_),A.getComponentMethod("annotations","draw")(_),A.getComponentMethod("images","draw")(_),p._replotting=!1,o.previousPromises(_)},C.redrawReglTraces=function(_){var p=_._fullLayout;if(p._has("regl")){var S,T,E=_._fullData,O=[],P=[];for(p._hasOnlyLargeSploms&&p._splomGrid.draw(),S=0;S<E.length;S++){var I=E[S];I.visible===!0&&I._length!==0&&(I.type==="splom"?p._splomScenes[I.uid].draw():I.type==="scattergl"?w.pushUnique(O,I.xaxis+I.yaxis):I.type==="scatterpolargl"&&w.pushUnique(P,I.subplot))}for(S=0;S<O.length;S++)(T=p._plots[O[S]])._scene&&T._scene.draw();for(S=0;S<P.length;S++)(T=p[P[S]]._subplot)._scene&&T._scene.draw()}},C.doAutoRangeAndConstraints=function(_){for(var p,S=t.list(_,"",!0),T={},E=0;E<S.length;E++)if(!T[(p=S[E])._id]){T[p._id]=1,h(_,p),c(_,p);var O=p._matchGroup;if(O)for(var P in O){var I=t.getFromId(_,P);c(_,I,p.range),T[P]=1}}u(_)},C.finalDraw=function(_){A.getComponentMethod("rangeslider","draw")(_),A.getComponentMethod("rangeselector","draw")(_)},C.drawMarginPushers=function(_){A.getComponentMethod("legend","draw")(_),A.getComponentMethod("rangeselector","draw")(_),A.getComponentMethod("sliders","draw")(_),A.getComponentMethod("updatemenus","draw")(_),A.getComponentMethod("colorbar","draw")(_)}},94828:function(U,C,e){var k=e(3400),A=k.isPlainObject,o=e(73060),w=e(7316),b=e(45464),f=e(31780),s=e(20556).dfltConfig;function n(c,y){c=k.extendDeep({},c);var d,v,g=Object.keys(c).sort();function x(T,E,O){if(A(E)&&A(T))n(T,E);else if(Array.isArray(E)&&Array.isArray(T)){var P=f.arrayTemplater({_template:c},O);for(v=0;v<E.length;v++){var I=E[v],R=P.newItem(I)._template;R&&n(R,I)}var H=P.defaultItems();for(v=0;v<H.length;v++)E.push(H[v]._template);for(v=0;v<E.length;v++)delete E[v].templateitemname}}for(d=0;d<g.length;d++){var m=g[d],_=c[m];if(m in y?x(_,y[m],m):y[m]=_,i(m)===m)for(var p in y){var S=i(p);p===S||S!==m||p in c||x(_,y[p],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function r(c,y,d,v,g){var x=g&&d(g);for(var m in c){var _=c[m],p=l(c,m,v),S=l(c,m,g),T=d(S);if(!T){var E=i(m);E!==m&&(T=d(S=l(c,E,g)))}if(!(x&&x===T||!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(_)))if(!T.valType&&A(_))r(_,y,d,p,S);else if(T._isLinkedToArray&&Array.isArray(_))for(var O=!1,P=0,I={},R=0;R<_.length;R++){var H=_[R];if(A(H)){var z=H.name;if(z)I[z]||(r(H,y,d,l(_,P,p),l(_,P,S)),P++,I[z]=1);else if(!O){var j=l(c,f.arrayDefaultKey(m),v),Z=l(_,P,p);r(H,y,d,Z,l(_,P,S));var F=k.nestedProperty(y,Z);k.nestedProperty(y,j).set(F.get()),F.set(null),O=!0}}}else k.nestedProperty(y,p).set(_)}}function t(c,y){return o.getLayoutValObject(c,k.nestedProperty({},y).parts)}function a(c,y){return o.getTraceValObject(c,k.nestedProperty({},y).parts)}function l(c,y,d){return d?Array.isArray(c)?d+"["+y+"]":d+"."+y:y}function u(c){for(var y=0;y<c.length;y++)if(A(c[y]))return!0}function h(c){var y;switch(c.code){case"data":y="The template has no key data.";break;case"layout":y="The template has no key layout.";break;case"missing":y=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":y=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":y="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=y,c}C.makeTemplate=function(c){c=k.isPlainObject(c)?c:k.getGraphDiv(c),c=k.extendDeep({_context:s},{data:c.data,layout:c.layout}),w.supplyDefaults(c);var y=c.data||[],d=c.layout||{};d._basePlotModules=c._fullLayout._basePlotModules,d._modules=c._fullLayout._modules;var v={data:{},layout:{}};y.forEach(function(P){var I={};r(P,I,a.bind(null,P));var R=k.coerce(P,{},b,"type"),H=v.data[R];H||(H=v.data[R]=[]),H.push(I)}),r(d,v.layout,t.bind(null,d)),delete v.layout.template;var g=d.template;if(A(g)){var x,m,_,p,S,T,E=g.layout;A(E)&&n(E,v.layout);var O=g.data;if(A(O)){for(m in v.data)if(_=O[m],Array.isArray(_)){for(T=(S=v.data[m]).length,p=_.length,x=0;x<T;x++)n(_[x%p],S[x]);for(x=T;x<p;x++)S.push(k.extendDeep({},_[x]))}for(m in O)m in v.data||(v.data[m]=k.extendDeep([],O[m]))}}return v},C.validateTemplate=function(c,y){var d=k.extendDeep({},{_context:s,data:c.data,layout:c.layout}),v=d.layout||{};A(y)||(y=v.template||{});var g=y.layout,x=y.data,m=[];d.layout=v,d.layout.template=y,w.supplyDefaults(d);var _=d._fullLayout,p=d._fullData,S={};if(A(g)?(function H(z,j){for(var Z in z)if(Z.charAt(0)!=="_"&&A(z[Z])){var F,V=i(Z),W=[];for(F=0;F<j.length;F++)W.push(l(z,Z,j[F])),V!==Z&&W.push(l(z,V,j[F]));for(F=0;F<W.length;F++)S[W[F]]=1;H(z[Z],W)}}(_,["layout"]),function H(z,j){for(var Z in z)if(Z.indexOf("defaults")===-1&&A(z[Z])){var F=l(z,Z,j);S[F]?H(z[Z],F):m.push({code:"unused",path:F})}}(g,"layout")):m.push({code:"layout"}),A(x)){for(var T,E={},O=0;O<p.length;O++){var P=p[O];E[T=P.type]=(E[T]||0)+1,P._fullInput._template||m.push({code:"missing",index:P._fullInput.index,traceType:T})}for(T in x){var I=x[T].length,R=E[T]||0;I>R?m.push({code:"unused",traceType:T,templateCount:I,dataCount:R}):R>I&&m.push({code:"reused",traceType:T,templateCount:I,dataCount:R})}}else m.push({code:"data"});if(function H(z,j){for(var Z in z)if(Z.charAt(0)!=="_"){var F=z[Z],V=l(z,Z,j);A(F)?(Array.isArray(z)&&F._template===!1&&F.templateitemname&&m.push({code:"missing",path:V,templateitemname:F.templateitemname}),H(F,V)):Array.isArray(F)&&u(F)&&H(F,V)}}({data:p,layout:_},""),m.length)return m.map(h)}},67024:function(U,C,e){var k=e(38248),A=e(36424),o=e(7316),w=e(3400),b=e(81792),f=e(37164),s=e(63268),n=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};U.exports=function(r,t){var a,l,u,h;function c(R){return!(R in t)||w.validate(t[R],i[R])}if(t=t||{},w.isPlainObject(r)?(a=r.data||[],l=r.layout||{},u=r.config||{},h={}):(r=w.getGraphDiv(r),a=w.extendDeep([],r.data),l=w.extendDeep({},r.layout),u=r._context,h=r._fullLayout||{}),!c("width")&&t.width!==null||!c("height")&&t.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+w.join2(i.format.values,", "," or ")+".");var y={};function d(R,H){return w.coerce(t,y,i,R,H)}var v=d("format"),g=d("width"),x=d("height"),m=d("scale"),_=d("setBackground"),p=d("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var T=w.extendFlat({},l);g?T.width=g:t.width===null&&k(h.width)&&(T.width=h.width),x?T.height=x:t.height===null&&k(h.height)&&(T.height=h.height);var E=w.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),O=b.getRedrawFunc(S);function P(){return new Promise(function(R){setTimeout(R,b.getDelay(S._fullLayout))})}function I(){return new Promise(function(R,H){var z=f(S,v,m),j=S._fullLayout.width,Z=S._fullLayout.height;function F(){A.purge(S),document.body.removeChild(S)}if(v==="full-json"){var V=o.graphJson(S,!1,"keepdata","object",!0,!0);return V.version=n,V=JSON.stringify(V),F(),R(p?V:b.encodeJSON(V))}if(F(),v==="svg")return R(p?z:b.encodeSVG(z));var W=document.createElement("canvas");W.id=w.randstr(),s({format:v,width:j,height:Z,scale:m,canvas:W,svg:z,promise:!0}).then(R).catch(H)})}return new Promise(function(R,H){A.newPlot(S,a,T,E).then(O).then(P).then(I).then(function(z){R(function(j){return p?j.replace(b.IMAGE_URL_PREFIX,""):j}(z))}).catch(function(z){H(z)})})}},21480:function(U,C,e){var k=e(3400),A=e(7316),o=e(73060),w=e(20556).dfltConfig,b=k.isPlainObject,f=Array.isArray,s=k.isArrayOrTypedArray;function n(c,y,d,v,g,x){x=x||[];for(var m=Object.keys(c),_=0;_<m.length;_++){var p=m[_];if(p!=="transforms"){var S=x.slice();S.push(p);var T=c[p],E=y[p],O=l(d,p),P=(O||{}).valType,I=P==="info_array",R=P==="colorscale",H=(O||{}).items;if(a(d,p))if(b(T)&&b(E)&&P!=="any")n(T,E,O,v,g,S);else if(I&&f(T)){T.length>E.length&&v.push(t("unused",g,S.concat(E.length)));var z,j,Z,F,V,W=E.length,re=Array.isArray(H);if(re&&(W=Math.min(W,H.length)),O.dimensions===2)for(j=0;j<W;j++)if(f(T[j])){T[j].length>E[j].length&&v.push(t("unused",g,S.concat(j,E[j].length)));var ne=E[j].length;for(z=0;z<(re?Math.min(ne,H[j].length):ne);z++)Z=re?H[j][z]:H,F=T[j][z],V=E[j][z],k.validate(F,Z)?V!==F&&V!==+F&&v.push(t("dynamic",g,S.concat(j,z),F,V)):v.push(t("value",g,S.concat(j,z),F))}else v.push(t("array",g,S.concat(j),T[j]));else for(j=0;j<W;j++)Z=re?H[j]:H,F=T[j],V=E[j],k.validate(F,Z)?V!==F&&V!==+F&&v.push(t("dynamic",g,S.concat(j),F,V)):v.push(t("value",g,S.concat(j),F))}else if(O.items&&!I&&f(T)){var te,Q,$=H[Object.keys(H)[0]],K=[];for(te=0;te<E.length;te++){var ae=E[te]._index||te;if((Q=S.slice()).push(ae),b(T[ae])&&b(E[te])){K.push(ae);var ue=T[ae],se=E[te];b(ue)&&ue.visible!==!1&&se.visible===!1?v.push(t("invisible",g,Q)):n(ue,se,$,v,g,Q)}}for(te=0;te<T.length;te++)(Q=S.slice()).push(te),b(T[te])?K.indexOf(te)===-1&&v.push(t("unused",g,Q)):v.push(t("object",g,Q,T[te]))}else!b(T)&&b(E)?v.push(t("object",g,S,T)):s(T)||!s(E)||I||R?p in y?k.validate(T,O)?O.valType==="enumerated"&&(O.coerceNumber&&T!==+E||T!==E)&&v.push(t("dynamic",g,S,T,E)):v.push(t("value",g,S,T)):v.push(t("unused",g,S,T)):v.push(t("array",g,S,T));else v.push(t("schema",g,S))}}return v}U.exports=function(c,y){c===void 0&&(c=[]),y===void 0&&(y={});var d,v,g=o.get(),x=[],m={_context:k.extendFlat({},w)};f(c)?(m.data=k.extendDeep([],c),d=c):(m.data=[],d=[],x.push(t("array","data"))),b(y)?(m.layout=k.extendDeep({},y),v=y):(m.layout={},v={},arguments.length>1&&x.push(t("object","layout"))),A.supplyDefaults(m);for(var _=m._fullData,p=d.length,S=0;S<p;S++){var T=d[S],E=["data",S];if(b(T)){var O=_[S],P=O.type,I=g.traces[P].attributes;I.type={valType:"enumerated",values:[P]},O.visible===!1&&T.visible!==!1&&x.push(t("invisible",E)),n(T,O,I,x,E);var R=T.transforms,H=O.transforms;if(R){f(R)||x.push(t("array",E,["transforms"])),E.push("transforms");for(var z=0;z<R.length;z++){var j=["transforms",z],Z=R[z].type;if(b(R[z])){var F=g.transforms[Z]?g.transforms[Z].attributes:{};F.type={valType:"enumerated",values:Object.keys(g.transforms)},n(R[z],H[z],F,x,E,j)}else x.push(t("object",E,j))}}}else x.push(t("object",E))}var V=m._fullLayout,W=function(re,ne){for(var te=re.layout.layoutAttributes,Q=0;Q<ne.length;Q++){var $=ne[Q],K=re.traces[$.type],ae=K.layoutAttributes;ae&&($.subplot?k.extendFlat(te[K.attributes.subplot.dflt],ae):k.extendFlat(te,ae))}return te}(g,_);return n(v,V,W,x,"layout"),x.length===0?void 0:x};var i={object:function(c,y){return(c==="layout"&&y===""?"The layout argument":c[0]==="data"&&y===""?"Trace "+c[1]+" in the data argument":r(c)+"key "+y)+" must be linked to an object container"},array:function(c,y){return(c==="data"?"The data argument":r(c)+"key "+y)+" must be linked to an array container"},schema:function(c,y){return r(c)+"key "+y+" is not part of the schema"},unused:function(c,y,d){var v=b(d)?"container":"key";return r(c)+v+" "+y+" did not get coerced"},dynamic:function(c,y,d,v){return[r(c)+"key",y,"(set to '"+d+"')","got reset to","'"+v+"'","during defaults."].join(" ")},invisible:function(c,y){return(y?r(c)+"item "+y:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,y,d){return[r(c)+"key "+y,"is set to an invalid value ("+d+")"].join(" ")}};function r(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function t(c,y,d,v,g){var x,m;d=d||"",f(y)?(x=y[0],m=y[1]):(x=y,m=null);var _=function(S){if(!f(S))return String(S);for(var T="",E=0;E<S.length;E++){var O=S[E];typeof O=="number"?T=T.substr(0,T.length-1)+"["+O+"]":T+=O,E<S.length-1&&(T+=".")}return T}(d),p=i[c](y,_,v,g);return k.log(p),{code:c,container:x,trace:m,path:d,astr:_,msg:p}}function a(c,y){var d=h(y),v=d.keyMinusId,g=d.id;return!!(v in c&&c[v]._isSubplotObj&&g)||y in c}function l(c,y){return y in c?c[y]:c[h(y).keyMinusId]}var u=k.counterRegex("([a-z]+)");function h(c){var y=c.match(u);return{keyMinusId:y&&y[1],id:y&&y[2]}}},85656:function(U){U.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(U,C,e){var k=e(3400),A=e(31780);U.exports=function(o,w,b){var f,s,n=b.name,i=b.inclusionAttr||"visible",r=w[n],t=k.isArrayOrTypedArray(o[n])?o[n]:[],a=w[n]=[],l=A.arrayTemplater(w,n,i);for(f=0;f<t.length;f++){var u=t[f];k.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[i]=!1,s._index=f,s[i]!==!1&&b.handleItemDefaults(u,s,w,b),a.push(s)}var h=l.defaultItems();for(f=0;f<h.length;f++)(s=h[f])._index=a.length,b.handleItemDefaults({},s,w,b,{}),a.push(s);if(k.isArrayOrTypedArray(r)){var c=Math.min(r.length,a.length);for(f=0;f<c;f++)k.relinkPrivateKeys(a[f],r[f])}return a}},45464:function(U,C,e){var k=e(25376),A=e(55756);U.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:k({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:A.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(U,C,e){var k=e(38248),A=e(3400),o=A.dateTime2ms,w=A.incrementMonth,b=e(39032).ONEAVGMONTH;U.exports=function(f,s,n,i){if(s.type!=="date")return{vals:i};var r=f[n+"periodalignment"];if(!r)return{vals:i};var t,a=f[n+"period"];if(k(a)){if((a=+a)<=0)return{vals:i}}else if(typeof a=="string"&&a.charAt(0)==="M"){var l=+a.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};t=l}for(var u=s.calendar,h=r==="start",c=r==="end",y=f[n+"period0"],d=o(y,u)||0,v=[],g=[],x=[],m=i.length,_=0;_<m;_++){var p,S,T,E=i[_];if(t){for(p=Math.round((E-d)/(t*b)),T=w(d,t*p,u);T>E;)T=w(T,-t,u);for(;T<=E;)T=w(T,t,u);S=w(T,-t,u)}else{for(T=d+(p=Math.round((E-d)/a))*a;T>E;)T-=a;for(;T<=E;)T+=a;S=T-a}v[_]=h?S:c?T:(S+T)/2,g[_]=S,x[_]=T}return{vals:v,starts:g,ends:x}}},26720:function(U){U.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(U,C,e){var k=e(33428),A=e(38248),o=e(3400),w=e(39032).FP_SAFE,b=e(24040),f=e(43616),s=e(79811),n=s.getFromId,i=s.isLinked;function r(_,p){var S,T,E=[],O=_._fullLayout,P=a(O,p,0),I=a(O,p,1),R=u(_,p),H=R.min,z=R.max;if(H.length===0||z.length===0)return o.simpleMap(p.range,p.r2l);var j=H[0].val,Z=z[0].val;for(S=1;S<H.length&&j===Z;S++)j=Math.min(j,H[S].val);for(S=1;S<z.length&&j===Z;S++)Z=Math.max(Z,z[S].val);var F=p.autorange,V=F==="reversed"||F==="min reversed"||F==="max reversed";if(!V&&p.range){var W=o.simpleMap(p.range,p.r2l);V=W[1]<W[0]}p.autorange==="reversed"&&(p.autorange=!0);var re,ne,te,Q,$,K,ae=p.rangemode,ue=ae==="tozero",se=ae==="nonnegative",he=p._length,pe=he/10,de=0;for(S=0;S<H.length;S++)for(re=H[S],T=0;T<z.length;T++)(K=(ne=z[T]).val-re.val-t(p,re.val,ne.val))>0&&(($=he-P(re)-I(ne))>pe?K/$>de&&(te=re,Q=ne,de=K/$):K/he>de&&(te={val:re.val,nopad:1},Q={val:ne.val,nopad:1},de=K/he));if(j===Z){var xe=j-1,_e=j+1;if(ue)if(j===0)E=[0,1];else{var be=(j>0?z:H).reduce(function(De,ye){return Math.max(De,I(ye))},0),Le=j/(1-Math.min(.5,be/he));E=j>0?[0,Le]:[Le,0]}else E=se?[Math.max(0,xe),Math.max(1,_e)]:[xe,_e]}else ue?(te.val>=0&&(te={val:0,nopad:1}),Q.val<=0&&(Q={val:0,nopad:1})):se&&(te.val-de*P(te)<0&&(te={val:0,nopad:1}),Q.val<=0&&(Q={val:1,nopad:1})),de=(Q.val-te.val-t(p,re.val,ne.val))/(he-P(te)-I(Q)),E=[te.val-de*P(te),Q.val+de*I(Q)];return E=m(E,p),p.limitRange&&p.limitRange(),V&&E.reverse(),o.simpleMap(E,p.l2r||Number)}function t(_,p,S){var T=0;if(_.rangebreaks)for(var E=_.locateBreaks(p,S),O=0;O<E.length;O++){var P=E[O];T+=P.max-P.min}return T}function a(_,p,S){var T=.05*p._length,E=p._anchorAxis||{};if((p.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var O=p.isReversed();if(!O){var P=o.simpleMap(p.range,p.r2l);O=P[1]<P[0]}O&&(S=!S)}var I=0;return i(_,p._id)||(I=function(R,H,z){var j=0,Z=H._id.charAt(0)==="x";for(var F in R._plots){var V=R._plots[F];if(H._id===V.xaxis._id||H._id===V.yaxis._id){var W=(Z?V.yaxis:V.xaxis)||{};if((W.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(W.side==="left"||W.side==="bottom")||z&&(W.side==="top"||W.side==="right"))){if(W._vals){var re=o.deg2rad(W._tickAngles[W._id+"tick"]||0),ne=Math.abs(Math.cos(re)),te=Math.abs(Math.sin(re));if(!W._vals[0].bb){var Q=W._id+"tick";W._selections[Q].each(function(se){var he=k.select(this);he.select(".text-math-group").empty()&&(se.bb=f.bBox(he.node()))})}for(var $=0;$<W._vals.length;$++){var K=W._vals[$].bb;if(K){var ae=2*l+K.width,ue=2*l+K.height;j=Math.max(j,Z?Math.max(ae*ne,ue*te):Math.max(ue*ne,ae*te))}}}W.ticks==="inside"&&W.ticklabelposition==="inside"&&(j+=W.ticklen||0)}}}return j}(_,p,S)),T=Math.max(I,T),p.constrain==="domain"&&p._inputDomain&&(T*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?T:I)}}U.exports={applyAutorangeOptions:m,getAutoRange:r,makePadFn:a,doAutoRange:function(_,p,S){if(p.setScale(),p.autorange){p.range=S?S.slice():r(_,p),p._r=p.range.slice(),p._rl=o.simpleMap(p._r,p.r2l);var T=p._input,E={};E[p._attr+".range"]=p.range,E[p._attr+".autorange"]=p.autorange,b.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,E),T.range=p.range.slice(),T.autorange=p.autorange}var O=p._anchorAxis;if(O&&O.rangeslider){var P=O.rangeslider[p._name];P&&P.rangemode==="auto"&&(P.range=r(_,p)),O._input.rangeslider[p._name]=o.extendFlat({},P)}},findExtremes:function(_,p,S){S||(S={}),_._m||_.setScale();var T,E,O,P,I,R,H,z,j,Z=[],F=[],V=p.length,W=S.padded||!1,re=S.tozero&&(_.type==="linear"||_.type==="-"),ne=_.type==="log",te=!1,Q=S.vpadLinearized||!1;function $(xe){if(Array.isArray(xe))return te=!0,function(be){return Math.max(Number(xe[be]||0),0)};var _e=Math.max(Number(xe||0),0);return function(){return _e}}var K=$((_._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),ae=$((_._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),ue=$(S.vpadplus||S.vpad),se=$(S.vpadminus||S.vpad);if(!te){if(z=1/0,j=-1/0,ne)for(T=0;T<V;T++)(E=p[T])<z&&E>0&&(z=E),E>j&&E<w&&(j=E);else for(T=0;T<V;T++)(E=p[T])<z&&E>-w&&(z=E),E>j&&E<w&&(j=E);p=[z,j],V=2}var he={tozero:re,extrapad:W};function pe(xe){O=p[xe],A(O)&&(R=K(xe),H=ae(xe),Q?(P=_.c2l(O)-se(xe),I=_.c2l(O)+ue(xe)):(z=O-se(xe),j=O+ue(xe),ne&&z<j/10&&(z=j/10),P=_.c2l(z),I=_.c2l(j)),re&&(P=Math.min(0,P),I=Math.max(0,I)),d(P)&&h(Z,P,H,he),d(I)&&c(F,I,R,he))}var de=Math.min(6,V);for(T=0;T<de;T++)pe(T);for(T=V-1;T>=de;T--)pe(T);return{min:Z,max:F,opts:S}},concatExtremes:u};var l=3;function u(_,p,S){var T,E,O,P=p._id,I=_._fullData,R=_._fullLayout,H=[],z=[];function j(re,ne){for(T=0;T<ne.length;T++){var te=re[ne[T]],Q=(te._extremes||{})[P];if(te.visible===!0&&Q){for(E=0;E<Q.min.length;E++)O=Q.min[E],h(H,O.val,O.pad,{extrapad:O.extrapad});for(E=0;E<Q.max.length;E++)O=Q.max[E],c(z,O.val,O.pad,{extrapad:O.extrapad})}}}if(j(I,p._traceIndices),j(R.annotations||[],p._annIndices||[]),j(R.shapes||[],p._shapeIndices||[]),p._matchGroup&&!S){for(var Z in p._matchGroup)if(Z!==p._id){var F=n(_,Z),V=u(_,F,!0),W=p._length/F._length;for(E=0;E<V.min.length;E++)O=V.min[E],h(H,O.val,O.pad*W,{extrapad:O.extrapad});for(E=0;E<V.max.length;E++)O=V.max[E],c(z,O.val,O.pad*W,{extrapad:O.extrapad})}}return{min:H,max:z}}function h(_,p,S,T){y(_,p,S,T,v)}function c(_,p,S,T){y(_,p,S,T,g)}function y(_,p,S,T,E){for(var O=T.tozero,P=T.extrapad,I=!0,R=0;R<_.length&&I;R++){var H=_[R];if(E(H.val,p)&&H.pad>=S&&(H.extrapad||!P)){I=!1;break}E(p,H.val)&&H.pad<=S&&(P||!H.extrapad)&&(_.splice(R,1),R--)}if(I){var z=O&&p===0;_.push({val:p,pad:z?0:S,extrapad:!z&&P})}}function d(_){return A(_)&&Math.abs(_)<w}function v(_,p){return _<=p}function g(_,p){return _>=p}function x(_,p,S){return p===void 0||S===void 0||(p=_.d2l(p))<_.d2l(S)}function m(_,p){if(!p||!p.autorangeoptions)return _;var S=_[0],T=_[1],E=p.autorangeoptions.include;if(E!==void 0){var O=p.d2l(S),P=p.d2l(T);o.isArrayOrTypedArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var R=p.d2l(E[I]);O>=R&&(O=R,S=R),P<=R&&(P=R,T=R)}}return S=function(H,z){var j=z.autorangeoptions;return j&&j.minallowed!==void 0&&x(z,j.minallowed,j.maxallowed)?j.minallowed:j&&j.clipmin!==void 0&&x(z,j.clipmin,j.clipmax)?Math.max(H,z.d2l(j.clipmin)):H}(S,p),T=function(H,z){var j=z.autorangeoptions;return j&&j.maxallowed!==void 0&&x(z,j.minallowed,j.maxallowed)?j.maxallowed:j&&j.clipmax!==void 0&&x(z,j.clipmin,j.clipmax)?Math.min(H,z.d2l(j.clipmax)):H}(T,p),[S,T]}},76808:function(U){U.exports=function(C,e,k){var A,o;if(k){var w=e==="reversed"||e==="min reversed"||e==="max reversed";A=k[w?1:0],o=k[w?0:1]}var b=C("autorangeoptions.minallowed",o===null?A:void 0),f=C("autorangeoptions.maxallowed",A===null?o:void 0);b===void 0&&C("autorangeoptions.clipmin"),f===void 0&&C("autorangeoptions.clipmax"),C("autorangeoptions.include")}},54460:function(U,C,e){var k=e(33428),A=e(38248),o=e(7316),w=e(24040),b=e(3400),f=b.strTranslate,s=e(72736),n=e(81668),i=e(76308),r=e(43616),t=e(94724),a=e(98728),l=e(39032),u=l.ONEMAXYEAR,h=l.ONEAVGYEAR,c=l.ONEMINYEAR,y=l.ONEMAXQUARTER,d=l.ONEAVGQUARTER,v=l.ONEMINQUARTER,g=l.ONEMAXMONTH,x=l.ONEAVGMONTH,m=l.ONEMINMONTH,_=l.ONEWEEK,p=l.ONEDAY,S=p/2,T=l.ONEHOUR,E=l.ONEMIN,O=l.ONESEC,P=l.MINUS_SIGN,I=l.BADNUM,R={K:"zeroline"},H={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},j={K:"tick",L:"path"},Z={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),W=V.MID_SHIFT,re=V.CAP_SHIFT,ne=V.LINE_SPACING,te=V.OPPOSITE_SIDE,Q=U.exports={};Q.setConvert=e(78344);var $=e(52976),K=e(79811),ae=K.idSort,ue=K.isLinked;Q.id2name=K.id2name,Q.name2id=K.name2id,Q.cleanId=K.cleanId,Q.list=K.list,Q.listIds=K.listIds,Q.getFromId=K.getFromId,Q.getFromTrace=K.getFromTrace;var se=e(19280);Q.getAutoRange=se.getAutoRange,Q.findExtremes=se.findExtremes;var he=1e-4;function pe(je){var Ue=(je[1]-je[0])*he;return[je[0]-Ue,je[1]+Ue]}Q.coerceRef=function(je,Ue,st,Ke,gt,yt){var bt=Ke.charAt(Ke.length-1),dt=st._fullLayout._subplots[bt+"axis"],Lt=Ke+"ref",wt={};return gt||(gt=dt[0]||(typeof yt=="string"?yt:yt[0])),yt||(yt=gt),dt=dt.concat(dt.map(function(Ct){return Ct+" domain"})),wt[Lt]={valType:"enumerated",values:dt.concat(yt?typeof yt=="string"?[yt]:yt:[]),dflt:gt},b.coerce(je,Ue,wt,Lt)},Q.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},Q.coercePosition=function(je,Ue,st,Ke,gt,yt){var bt,dt;if(Q.getRefType(Ke)!=="range")bt=b.ensureNumber,dt=st(gt,yt);else{var Lt=Q.getFromId(Ue,Ke);dt=st(gt,yt=Lt.fraction2r(yt)),bt=Lt.cleanPos}je[gt]=bt(dt)},Q.cleanPosition=function(je,Ue,st){return(st==="paper"||st==="pixel"?b.ensureNumber:Q.getFromId(Ue,st).cleanPos)(je)},Q.redrawComponents=function(je,Ue){Ue=Ue||Q.listIds(je);var st=je._fullLayout;function Ke(gt,yt,bt,dt){for(var Lt=w.getComponentMethod(gt,yt),wt={},Ct=0;Ct<Ue.length;Ct++)for(var zt=st[Q.id2name(Ue[Ct])][bt],Dt=0;Dt<zt.length;Dt++){var Nt=zt[Dt];if(!wt[Nt]&&(Lt(je,Nt),wt[Nt]=1,dt))return}}Ke("annotations","drawOne","_annIndices"),Ke("shapes","drawOne","_shapeIndices"),Ke("images","draw","_imgIndices",!0),Ke("selections","drawOne","_selectionIndices")};var de=Q.getDataConversions=function(je,Ue,st,Ke){var gt,yt=st==="x"||st==="y"||st==="z"?st:Ke;if(b.isArrayOrTypedArray(yt)){if(gt={type:$(Ke,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(gt),gt.type==="category")for(var bt=0;bt<Ke.length;bt++)gt.d2c(Ke[bt])}else gt=Q.getFromTrace(je,Ue,yt);return gt?{d2c:gt.d2c,c2d:gt.c2d}:yt==="ids"?{d2c:_e,c2d:_e}:{d2c:xe,c2d:xe}};function xe(je){return+je}function _e(je){return String(je)}function be(je,Ue){return Math.abs((je/Ue+.5)%1-.5)<.001}function Le(je,Ue){return Math.abs(je/Ue-1)<.001}function De(je){return+je.substring(1)}function ye(je,Ue){return je.rangebreaks&&(Ue=Ue.filter(function(st){return je.maskBreaks(st.x)!==I})),Ue}function le(je){var Ue=je._mainAxis,st=[];if(Ue._vals){for(var Ke=0;Ke<Ue._vals.length;Ke++)if(!Ue._vals[Ke].noTick){var gt=Ue.l2p(Ue._vals[Ke].x),yt=je.p2l(gt),bt=Q.tickText(je,yt);Ue._vals[Ke].minor&&(bt.minor=!0,bt.text=""),st.push(bt)}}return ye(je,st)}function oe(je,Ue){var st=pe(b.simpleMap(je.range,je.r2l)),Ke=Math.min(st[0],st[1]),gt=Math.max(st[0],st[1]),yt=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var bt=[],dt=0;dt<=1;dt++)if((Ue===void 0||!(Ue&&dt||Ue===!1&&!dt))&&(!dt||je.minor)){var Lt=dt?je.minor.tickvals:je.tickvals,wt=dt?[]:je.ticktext;if(Lt){b.isArrayOrTypedArray(wt)||(wt=[]);for(var Ct=0;Ct<Lt.length;Ct++){var zt=yt(Lt[Ct]);if(zt>Ke&&zt<gt){var Dt=Q.tickText(je,zt,!1,String(wt[Ct]));dt&&(Dt.minor=!0,Dt.text=""),bt.push(Dt)}}}}return ye(je,bt)}Q.getDataToCoordFunc=function(je,Ue,st,Ke){return de(je,Ue,st,Ke).d2c},Q.counterLetter=function(je){var Ue=je.charAt(0);return Ue==="x"?"y":Ue==="y"?"x":void 0},Q.minDtick=function(je,Ue,st,Ke){["log","category","multicategory"].indexOf(je.type)===-1&&Ke?je._minDtick===void 0?(je._minDtick=Ue,je._forceTick0=st):je._minDtick&&((je._minDtick/Ue+1e-6)%1<2e-6&&((st-je._forceTick0)/Ue%1+1.000001)%1<2e-6?(je._minDtick=Ue,je._forceTick0=st):((Ue/je._minDtick+1e-6)%1>2e-6||((st-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0)):je._minDtick=0},Q.saveRangeInitial=function(je,Ue){for(var st=Q.list(je,"",!0),Ke=!1,gt=0;gt<st.length;gt++){var yt=st[gt],bt=yt._rangeInitial0===void 0&&yt._rangeInitial1===void 0,dt=bt||yt.range[0]!==yt._rangeInitial0||yt.range[1]!==yt._rangeInitial1,Lt=yt.autorange;(bt&&Lt!==!0||Ue&&dt)&&(yt._rangeInitial0=Lt==="min"||Lt==="max reversed"?void 0:yt.range[0],yt._rangeInitial1=Lt==="max"||Lt==="min reversed"?void 0:yt.range[1],yt._autorangeInitial=Lt,Ke=!0)}return Ke},Q.saveShowSpikeInitial=function(je,Ue){for(var st=Q.list(je,"",!0),Ke=!1,gt="on",yt=0;yt<st.length;yt++){var bt=st[yt],dt=bt._showSpikeInitial===void 0,Lt=dt||bt.showspikes!==bt._showspikes;(dt||Ue&&Lt)&&(bt._showSpikeInitial=bt.showspikes,Ke=!0),gt!=="on"||bt.showspikes||(gt="off")}return je._fullLayout._cartesianSpikesEnabled=gt,Ke},Q.autoBin=function(je,Ue,st,Ke,gt,yt){var bt,dt=b.aggNums(Math.min,null,je),Lt=b.aggNums(Math.max,null,je);if(Ue.type==="category"||Ue.type==="multicategory")return{start:dt-.5,end:Lt+.5,size:Math.max(1,Math.round(yt)||1),_dataSpan:Lt-dt};if(gt||(gt=Ue.calendar),bt=Ue.type==="log"?{type:"linear",range:[dt,Lt]}:{type:Ue.type,range:b.simpleMap([dt,Lt],Ue.c2r,0,gt),calendar:gt},Q.setConvert(bt),yt=yt&&a.dtick(yt,bt.type))bt.dtick=yt,bt.tick0=a.tick0(void 0,bt.type,gt);else{var wt;if(st)wt=(Lt-dt)/st;else{var Ct=b.distinctVals(je),zt=Math.pow(10,Math.floor(Math.log(Ct.minDiff)/Math.LN10)),Dt=zt*b.roundUp(Ct.minDiff/zt,[.9,1.9,4.9,9.9],!0);wt=Math.max(Dt,2*b.stdev(je)/Math.pow(je.length,Ke?.25:.4)),A(wt)||(wt=1)}Q.autoTicks(bt,wt)}var Nt,Kt=bt.dtick,un=Q.tickIncrement(Q.tickFirst(bt),Kt,"reverse",gt);if(typeof Kt=="number")un=function(qt,Jt,Ut,zn,An){var mn=0,tn=0,fn=0,rn=0;function pn(On){return(1+100*(On-qt)/Ut.dtick)%100<2}for(var wn=0;wn<Jt.length;wn++)Jt[wn]%1==0?fn++:A(Jt[wn])||rn++,pn(Jt[wn])&&mn++,pn(Jt[wn]+Ut.dtick/2)&&tn++;var kn=Jt.length-rn;if(fn===kn&&Ut.type!=="date")Ut.dtick<1?qt=zn-.5*Ut.dtick:(qt-=.5)+Ut.dtick<zn&&(qt+=Ut.dtick);else if(tn<.1*kn&&(mn>.3*kn||pn(zn)||pn(An))){var Pn=Ut.dtick/2;qt+=qt+Pn<zn?Pn:-Pn}return qt}(un,je,bt,dt,Lt),Nt=un+(1+Math.floor((Lt-un)/Kt))*Kt;else for(bt.dtick.charAt(0)==="M"&&(un=function(qt,Jt,Ut,zn,An){var mn=b.findExactDates(Jt,An);if(mn.exactDays>.8){var tn=Number(Ut.substr(1));mn.exactYears>.8&&tn%12==0?qt=Q.tickIncrement(qt,"M6","reverse")+1.5*p:mn.exactMonths>.8?qt=Q.tickIncrement(qt,"M1","reverse")+15.5*p:qt-=S;var fn=Q.tickIncrement(qt,Ut);if(fn<=zn)return fn}return qt}(un,je,Kt,dt,gt)),Nt=un;Nt<=Lt;)Nt=Q.tickIncrement(Nt,Kt,!1,gt);return{start:Ue.c2r(un,0,gt),end:Ue.c2r(Nt,0,gt),size:Kt,_dataSpan:Lt-dt}},Q.prepMinorTicks=function(je,Ue,st){if(!Ue.minor.dtick){delete je.dtick;var Ke,gt=Ue.dtick&&A(Ue._tmin);if(gt){var yt=Q.tickIncrement(Ue._tmin,Ue.dtick,!0);Ke=[Ue._tmin,.99*yt+.01*Ue._tmin]}else{var bt=b.simpleMap(Ue.range,Ue.r2l);Ke=[bt[0],.8*bt[0]+.2*bt[1]]}if(je.range=b.simpleMap(Ke,Ue.l2r),je._isMinor=!0,Q.prepTicks(je,st),gt){var dt=A(Ue.dtick),Lt=A(je.dtick),wt=dt?Ue.dtick:+Ue.dtick.substring(1),Ct=Lt?je.dtick:+je.dtick.substring(1);dt&&Lt?be(wt,Ct)?wt===2*_&&Ct===2*p&&(je.dtick=_):wt===2*_&&Ct===3*p?je.dtick=_:wt!==_||(Ue._input.minor||{}).nticks?Le(wt/Ct,2.5)?je.dtick=wt/2:je.dtick=wt:je.dtick=p:String(Ue.dtick).charAt(0)==="M"?Lt?je.dtick="M1":be(wt,Ct)?wt>=12&&Ct===2&&(je.dtick="M3"):je.dtick=Ue.dtick:String(je.dtick).charAt(0)==="L"?String(Ue.dtick).charAt(0)==="L"?be(wt,Ct)||(je.dtick=Le(wt/Ct,2.5)?Ue.dtick/2:Ue.dtick):je.dtick="D1":je.dtick==="D2"&&+Ue.dtick>1&&(je.dtick=1)}je.range=Ue.range}Ue.minor._tick0Init===void 0&&(je.tick0=Ue.tick0)},Q.prepTicks=function(je,Ue){var st=b.simpleMap(je.range,je.r2l,void 0,void 0,Ue);if(je.tickmode==="auto"||!je.dtick){var Ke,gt=je.nticks;gt||(je.type==="category"||je.type==="multicategory"?(Ke=je.tickfont?b.bigFont(je.tickfont.size||12):15,gt=je._length/Ke):(Ke=je._id.charAt(0)==="y"?40:80,gt=b.constrain(je._length/Ke,4,9)+1),je._name==="radialaxis"&&(gt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(gt*=100),je._roughDTick=Math.abs(st[1]-st[0])/gt,Q.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<2*je._minDtick&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&function(yt){var bt;function dt(){return!(A(yt.dtick)||yt.dtick.charAt(0)!=="M")}var Lt=dt(),wt=Q.getTickFormat(yt);if(wt){var Ct=yt._dtickInit!==yt.dtick;/%[fLQsSMX]/.test(wt)||(/%[HI]/.test(wt)?(bt=T,Ct&&!Lt&&yt.dtick<T&&(yt.dtick=T)):/%p/.test(wt)?(bt=S,Ct&&!Lt&&yt.dtick<S&&(yt.dtick=S)):/%[Aadejuwx]/.test(wt)?(bt=p,Ct&&!Lt&&yt.dtick<p&&(yt.dtick=p)):/%[UVW]/.test(wt)?(bt=_,Ct&&!Lt&&yt.dtick<_&&(yt.dtick=_)):/%[Bbm]/.test(wt)?(bt=x,Ct&&(Lt?De(yt.dtick)<1:yt.dtick<m)&&(yt.dtick="M1")):/%[q]/.test(wt)?(bt=d,Ct&&(Lt?De(yt.dtick)<3:yt.dtick<v)&&(yt.dtick="M3")):/%[Yy]/.test(wt)&&(bt=h,Ct&&(Lt?De(yt.dtick)<12:yt.dtick<c)&&(yt.dtick="M12")))}(Lt=dt())&&yt.tick0===yt._dowTick0&&(yt.tick0=yt._rawTick0),yt._definedDelta=bt}(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),Te(je)},Q.calcTicks=function(je,Ue){for(var st,Ke,gt=je.type,yt=je.calendar,bt=je.ticklabelstep,dt=je.ticklabelmode==="period",Lt=b.simpleMap(je.range,je.r2l,void 0,void 0,Ue),wt=Lt[1]<Lt[0],Ct=Math.min(Lt[0],Lt[1]),zt=Math.max(Lt[0],Lt[1]),Dt=Math.max(1e3,je._length||0),Nt=[],Kt=[],un=[],qt=[],Jt=je.minor&&(je.minor.ticks||je.minor.showgrid),Ut=1;Ut>=(Jt?0:1);Ut--){var zn=!Ut;Ut?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var An=Ut?je:b.extendFlat({},je,je.minor);if(zn?Q.prepMinorTicks(An,je,Ue):Q.prepTicks(An,Ue),An.tickmode!=="array")if(An.tickmode!=="sync"){var mn=pe(Lt),tn=mn[0],fn=mn[1],rn=A(An.dtick),pn=gt==="log"&&!(rn||An.dtick.charAt(0)==="L"),wn=Q.tickFirst(An,Ue);if(Ut){if(je._tmin=wn,wn<tn!==wt)break;gt!=="category"&&gt!=="multicategory"||(fn=wt?Math.max(-.5,fn):Math.min(je._categories.length-.5,fn))}var kn,Pn,On=null,En=wn;Ut&&(rn?Pn=je.dtick:gt==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(Pn=x*je.dtick.substring(1)):Pn=je._roughDTick,kn=Math.round((je.r2l(En)-je.r2l(je.tick0))/Pn)-1);var Vn=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(En=He(En,je),wt||(En=Q.tickIncrement(En,Vn,!wt,yt))),Ut&&dt&&(En=Q.tickIncrement(En,Vn,!wt,yt),kn--);wt?En>=fn:En<=fn;En=Q.tickIncrement(En,Vn,wt,yt)){if(Ut&&kn++,An.rangebreaks&&!wt){if(En<tn)continue;if(An.maskBreaks(En)===I&&He(En,An)>=zt)break}if(un.length>Dt||En===On)break;On=En;var Fn={value:En};Ut?(pn&&En!==(0|En)&&(Fn.simpleLabel=!0),bt>1&&kn%bt&&(Fn.skipLabel=!0),un.push(Fn)):(Fn.minor=!0,qt.push(Fn))}}else un=[],Nt=le(je);else Ut?(un=[],Nt=oe(je,!zn)):(qt=[],Kt=oe(je,!zn))}if(Jt&&!(je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside")){for(var Wn=un.map(function(At){return At.value}),rr=[],ir=0;ir<qt.length;ir++){var Jn=qt[ir],dr=Jn.value;if(Wn.indexOf(dr)===-1){for(var nn=!1,an=0;!nn&&an<un.length;an++)1e7+un[an].value===1e7+dr&&(nn=!0);nn||rr.push(Jn)}}qt=rr}if(dt&&function(At,Wt,en){for(var dn=0;dn<At.length;dn++){var gn=At[dn].value,_n=dn,on=dn+1;dn<At.length-1?(_n=dn,on=dn+1):dn>0?(_n=dn-1,on=dn):(_n=dn,on=dn);var Yt,Xt=At[_n].value,sn=At[on].value,hn=Math.abs(sn-Xt),Sn=en||hn,Cn=0;Sn>=c?Cn=hn>=c&&hn<=u?hn:h:en===d&&Sn>=v?Cn=hn>=v&&hn<=y?hn:d:Sn>=m?Cn=hn>=m&&hn<=g?hn:x:en===_&&Sn>=_?Cn=_:Sn>=p?Cn=p:en===S&&Sn>=S?Cn=S:en===T&&Sn>=T&&(Cn=T),Cn>=hn&&(Cn=hn,Yt=!0);var Un=gn+Cn;if(Wt.rangebreaks&&Cn>0){for(var qn=0,tr=0;tr<84;tr++){var Yn=(tr+.5)/84;Wt.maskBreaks(gn*(1-Yn)+Yn*Un)!==I&&qn++}(Cn*=qn/84)||(At[dn].drop=!0),Yt&&hn>_&&(Cn=hn)}(Cn>0||dn===0)&&(At[dn].periodX=gn+Cn/2)}}(un,je,je._definedDelta),je.rangebreaks){var In=je._id.charAt(0)==="y",yn=1;je.tickmode==="auto"&&(yn=je.tickfont?je.tickfont.size:12);var Dn=NaN;for(st=un.length-1;st>-1;st--)if(un[st].drop)un.splice(st,1);else{un[st].value=He(un[st].value,je);var Zn=je.c2p(un[st].value);(In?Dn>Zn-yn:Dn<Zn+yn)?un.splice(wt?st+1:st,1):Dn=Zn}}$e(je)&&Math.abs(Lt[1]-Lt[0])===360&&un.pop(),je._tmax=(un[un.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var Hn,Qn,mr=function(At){At.text="",je._prevDateHead=Ke};for(un=un.concat(qt),st=0;st<un.length;st++){var Qt=un[st].minor,xn=un[st].value;Qt?Kt.push({x:xn,minor:!0}):(Ke=je._prevDateHead,Hn=Q.tickText(je,xn,!1,un[st].simpleLabel),(Qn=un[st].periodX)!==void 0&&(Hn.periodX=Qn,(Qn>zt||Qn<Ct)&&(Qn>zt&&(Hn.periodX=zt),Qn<Ct&&(Hn.periodX=Ct),mr(Hn))),un[st].skipLabel&&mr(Hn),Nt.push(Hn))}return Nt=Nt.concat(Kt),je._inCalcTicks=!1,dt&&Nt.length&&(Nt[0].noTick=!0),Nt};var ve=[2,5,10],Ce=[1,2,3,6,12],ke=[1,2,5,10,15,30],Ae=[1,2,3,7,14],Ee=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ze=[-.301,0,.301,.699,1],Fe=[15,30,45,90,180];function ge(je,Ue,st){return Ue*b.roundUp(je/Ue,st)}function Te(je){var Ue=je.dtick;if(je._tickexponent=0,A(Ue)||typeof Ue=="string"||(Ue=1),je.type!=="category"&&je.type!=="multicategory"||(je._tickround=null),je.type==="date"){var st=je.r2l(je.tick0),Ke=je.l2r(st).replace(/(^-|i)/g,""),gt=Ke.length;if(String(Ue).charAt(0)==="M")gt>10||Ke.substr(5)!=="01-01"?je._tickround="d":je._tickround=+Ue.substr(1)%12==0?"y":"m";else if(Ue>=p&&gt<=10||Ue>=15*p)je._tickround="d";else if(Ue>=E&&gt<=16||Ue>=T)je._tickround="M";else if(Ue>=O&&gt<=19||Ue>=E)je._tickround="S";else{var yt=je.l2r(st+Ue).replace(/^-/,"").length;je._tickround=Math.max(gt,yt)-20,je._tickround<0&&(je._tickround=4)}}else if(A(Ue)||Ue.charAt(0)==="L"){var bt=je.range.map(je.r2d||Number);A(Ue)||(Ue=Number(Ue.substr(1))),je._tickround=2-Math.floor(Math.log(Ue)/Math.LN10+.01);var dt=Math.max(Math.abs(bt[0]),Math.abs(bt[1])),Lt=Math.floor(Math.log(dt)/Math.LN10+.01),wt=je.minexponent===void 0?3:je.minexponent;Math.abs(Lt)>wt&&(Pe(je.exponentformat)&&!Ve(Lt)?je._tickexponent=3*Math.round((Lt-1)/3):je._tickexponent=Lt)}else je._tickround=null}function Se(je,Ue,st){var Ke=je.tickfont||{};return{x:Ue,dx:0,dy:0,text:st||"",fontSize:Ke.size,font:Ke.family,fontWeight:Ke.weight,fontStyle:Ke.style,fontVariant:Ke.variant,fontTextcase:Ke.textcase,fontLineposition:Ke.lineposition,fontShadow:Ke.shadow,fontColor:Ke.color}}Q.autoTicks=function(je,Ue,st){var Ke;function gt(zt){return Math.pow(zt,Math.floor(Math.log(Ue)/Math.LN10))}if(je.type==="date"){je.tick0=b.dateTick0(je.calendar,0);var yt=2*Ue;if(yt>h)Ue/=h,Ke=gt(10),je.dtick="M"+12*ge(Ue,Ke,ve);else if(yt>x)Ue/=x,je.dtick="M"+ge(Ue,1,Ce);else if(yt>p){if(je.dtick=ge(Ue,p,je._hasDayOfWeekBreaks?[1,2,7,14]:Ae),!st){var bt=Q.getTickFormat(je),dt=je.ticklabelmode==="period";dt&&(je._rawTick0=je.tick0),/%[uVW]/.test(bt)?je.tick0=b.dateTick0(je.calendar,2):je.tick0=b.dateTick0(je.calendar,1),dt&&(je._dowTick0=je.tick0)}}else yt>T?je.dtick=ge(Ue,T,Ce):yt>E?je.dtick=ge(Ue,E,ke):yt>O?je.dtick=ge(Ue,O,ke):(Ke=gt(10),je.dtick=ge(Ue,Ke,ve))}else if(je.type==="log"){je.tick0=0;var Lt=b.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ue*=1.5),Ue>.7)je.dtick=Math.ceil(Ue);else if(Math.abs(Lt[1]-Lt[0])<1){var wt=1.5*Math.abs((Lt[1]-Lt[0])/Ue);Ue=Math.abs(Math.pow(10,Lt[1])-Math.pow(10,Lt[0]))/wt,Ke=gt(10),je.dtick="L"+ge(Ue,Ke,ve)}else je.dtick=Ue>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ue,1))):$e(je)?(je.tick0=0,Ke=1,je.dtick=ge(Ue,Ke,Fe)):(je.tick0=0,Ke=gt(10),je.dtick=ge(Ue,Ke,ve));if(je.dtick===0&&(je.dtick=1),!A(je.dtick)&&typeof je.dtick!="string"){var Ct=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(Ct)}},Q.tickIncrement=function(je,Ue,st,Ke){var gt=st?-1:1;if(A(Ue))return b.increment(je,gt*Ue);var yt=Ue.charAt(0),bt=gt*Number(Ue.substr(1));if(yt==="M")return b.incrementMonth(je,bt,Ke);if(yt==="L")return Math.log(Math.pow(10,je)+bt)/Math.LN10;if(yt==="D"){var dt=Ue==="D2"?ze:Ee,Lt=je+.01*gt,wt=b.roundUp(b.mod(Lt,1),dt,st);return Math.floor(Lt)+Math.log(k.round(Math.pow(10,wt),1))/Math.LN10}throw"unrecognized dtick "+String(Ue)},Q.tickFirst=function(je,Ue){var st=je.r2l||Number,Ke=b.simpleMap(je.range,st,void 0,void 0,Ue),gt=Ke[1]<Ke[0],yt=gt?Math.floor:Math.ceil,bt=pe(Ke)[0],dt=je.dtick,Lt=st(je.tick0);if(A(dt)){var wt=yt((bt-Lt)/dt)*dt+Lt;return je.type!=="category"&&je.type!=="multicategory"||(wt=b.constrain(wt,0,je._categories.length-1)),wt}var Ct=dt.charAt(0),zt=Number(dt.substr(1));if(Ct==="M"){for(var Dt,Nt,Kt,un=0,qt=Lt;un<10;){if(((Dt=Q.tickIncrement(qt,dt,gt,je.calendar))-bt)*(qt-bt)<=0)return gt?Math.min(qt,Dt):Math.max(qt,Dt);Nt=(bt-(qt+Dt)/2)/(Dt-qt),Kt=Ct+(Math.abs(Math.round(Nt))||1)*zt,qt=Q.tickIncrement(qt,Kt,Nt<0?!gt:gt,je.calendar),un++}return b.error("tickFirst did not converge",je),qt}if(Ct==="L")return Math.log(yt((Math.pow(10,bt)-Lt)/zt)*zt+Lt)/Math.LN10;if(Ct==="D"){var Jt=dt==="D2"?ze:Ee,Ut=b.roundUp(b.mod(bt,1),Jt,gt);return Math.floor(bt)+Math.log(k.round(Math.pow(10,Ut),1))/Math.LN10}throw"unrecognized dtick "+String(dt)},Q.tickText=function(je,Ue,st,Ke){var gt,yt=Se(je,Ue),bt=je.tickmode==="array",dt=st||bt,Lt=je.type,wt=Lt==="category"?je.d2l_noadd:je.d2l,Ct=function(qt){var Jt=je.l2p(qt);return Jt>=0&&Jt<=je._length?qt:null};if(bt&&b.isArrayOrTypedArray(je.ticktext)){var zt=b.simpleMap(je.range,je.r2l),Dt=(Math.abs(zt[1]-zt[0])-(je._lBreaks||0))/1e4;for(gt=0;gt<je.ticktext.length&&!(Math.abs(Ue-wt(je.tickvals[gt]))<Dt);gt++);if(gt<je.ticktext.length)return yt.text=String(je.ticktext[gt]),yt.xbnd=[Ct(yt.x-.5),Ct(yt.x+je.dtick-.5)],yt}function Nt(qt){if(qt===void 0)return!0;if(st)return qt==="none";var Jt={first:je._tmin,last:je._tmax}[qt];return qt!=="all"&&Ue!==Jt}var Kt=st?"never":je.exponentformat!=="none"&&Nt(je.showexponent)?"hide":"";if(Lt==="date"?function(qt,Jt,Ut,zn){var An=qt._tickround,mn=Ut&&qt.hoverformat||Q.getTickFormat(qt);(zn=!mn&&zn)&&(An=A(An)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[An]);var tn,fn=b.formatDate(Jt.x,mn,An,qt._dateFormat,qt.calendar,qt._extraFormat),rn=fn.indexOf(`
`);if(rn!==-1&&(tn=fn.substr(rn+1),fn=fn.substr(0,rn)),zn&&(tn===void 0||fn!=="00:00:00"&&fn!=="00:00"?fn.length===8&&(fn=fn.replace(/:00$/,"")):(fn=tn,tn="")),tn)if(Ut)An==="d"?fn+=", "+tn:fn=tn+(fn?", "+fn:"");else if(qt._inCalcTicks&&qt._prevDateHead===tn){var pn=Je(qt),wn=qt._trueSide||qt.side;(!pn&&wn==="top"||pn&&wn==="bottom")&&(fn+="<br> ")}else qt._prevDateHead=tn,fn+="<br>"+tn;Jt.text=fn}(je,yt,st,dt):Lt==="log"?function(qt,Jt,Ut,zn,An){var mn=qt.dtick,tn=Jt.x,fn=qt.tickformat,rn=typeof mn=="string"&&mn.charAt(0);if(An==="never"&&(An=""),zn&&rn!=="L"&&(mn="L3",rn="L"),fn||rn==="L")Jt.text=We(Math.pow(10,tn),qt,An,zn);else if(A(mn)||rn==="D"&&b.mod(tn+.01,1)<.1){var pn=Math.round(tn),wn=Math.abs(pn),kn=qt.exponentformat;kn==="power"||Pe(kn)&&Ve(pn)?(Jt.text=pn===0?1:pn===1?"10":"10<sup>"+(pn>1?"":P)+wn+"</sup>",Jt.fontSize*=1.25):(kn==="e"||kn==="E")&&wn>2?Jt.text="1"+kn+(pn>0?"+":P)+wn:(Jt.text=We(Math.pow(10,tn),qt,"","fakehover"),mn==="D1"&&qt._id.charAt(0)==="y"&&(Jt.dy-=Jt.fontSize/6))}else{if(rn!=="D")throw"unrecognized dtick "+String(mn);Jt.text=String(Math.round(Math.pow(10,b.mod(tn,1)))),Jt.fontSize*=.75}if(qt.dtick==="D1"){var Pn=String(Jt.text).charAt(0);Pn!=="0"&&Pn!=="1"||(qt._id.charAt(0)==="y"?Jt.dx-=Jt.fontSize/4:(Jt.dy+=Jt.fontSize/2,Jt.dx+=(qt.range[1]>qt.range[0]?1:-1)*Jt.fontSize*(tn<0?.5:.25)))}}(je,yt,0,dt,Kt):Lt==="category"?function(qt,Jt){var Ut=qt._categories[Math.round(Jt.x)];Ut===void 0&&(Ut=""),Jt.text=String(Ut)}(je,yt):Lt==="multicategory"?function(qt,Jt,Ut){var zn=Math.round(Jt.x),An=qt._categories[zn]||[],mn=An[1]===void 0?"":String(An[1]),tn=An[0]===void 0?"":String(An[0]);Ut?Jt.text=tn+" - "+mn:(Jt.text=mn,Jt.text2=tn)}(je,yt,st):$e(je)?function(qt,Jt,Ut,zn,An){if(qt.thetaunit!=="radians"||Ut)Jt.text=We(Jt.x,qt,An,zn);else{var mn=Jt.x/180;if(mn===0)Jt.text="0";else{var tn=function(rn){function pn(On,En){return Math.abs(On-En)<=1e-6}var wn=function(On){for(var En=1;!pn(Math.round(On*En)/En,On);)En*=10;return En}(rn),kn=rn*wn,Pn=Math.abs(function On(En,Vn){return pn(Vn,0)?En:On(Vn,En%Vn)}(kn,wn));return[Math.round(kn/Pn),Math.round(wn/Pn)]}(mn);if(tn[1]>=100)Jt.text=We(b.deg2rad(Jt.x),qt,An,zn);else{var fn=Jt.x<0;tn[1]===1?tn[0]===1?Jt.text="π":Jt.text=tn[0]+"π":Jt.text=["<sup>",tn[0],"</sup>","⁄","<sub>",tn[1],"</sub>","π"].join(""),fn&&(Jt.text=P+Jt.text)}}}}(je,yt,st,dt,Kt):function(qt,Jt,Ut,zn,An){An==="never"?An="":qt.showexponent==="all"&&Math.abs(Jt.x/qt.dtick)<1e-6&&(An="hide"),Jt.text=We(Jt.x,qt,An,zn)}(je,yt,0,dt,Kt),Ke||(je.tickprefix&&!Nt(je.showtickprefix)&&(yt.text=je.tickprefix+yt.text),je.ticksuffix&&!Nt(je.showticksuffix)&&(yt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(yt.text)){var un=je.labelalias[yt.text];typeof un=="string"&&(yt.text=un)}return(je.tickson==="boundaries"||je.showdividers)&&(yt.xbnd=[Ct(yt.x-.5),Ct(yt.x+je.dtick-.5)]),yt},Q.hoverLabelText=function(je,Ue,st){st&&(je=b.extendFlat({},je,{hoverformat:st}));var Ke=b.isArrayOrTypedArray(Ue)?Ue[0]:Ue,gt=b.isArrayOrTypedArray(Ue)?Ue[1]:void 0;if(gt!==void 0&&gt!==Ke)return Q.hoverLabelText(je,Ke,st)+" - "+Q.hoverLabelText(je,gt,st);var yt=je.type==="log"&&Ke<=0,bt=Q.tickText(je,je.c2l(yt?-Ke:Ke),"hover").text;return yt?Ke===0?"0":P+bt:bt};var Re=["f","p","n","μ","m","","k","M","G","T"];function Pe(je){return je==="SI"||je==="B"}function Ve(je){return je>14||je<-15}function We(je,Ue,st,Ke){var gt=je<0,yt=Ue._tickround,bt=st||Ue.exponentformat||"B",dt=Ue._tickexponent,Lt=Q.getTickFormat(Ue),wt=Ue.separatethousands;if(Ke){var Ct={exponentformat:bt,minexponent:Ue.minexponent,dtick:Ue.showexponent==="none"?Ue.dtick:A(je)&&Math.abs(je)||1,range:Ue.showexponent==="none"?Ue.range.map(Ue.r2d):[0,je||1]};Te(Ct),yt=(Number(Ct._tickround)||0)+4,dt=Ct._tickexponent,Ue.hoverformat&&(Lt=Ue.hoverformat)}if(Lt)return Ue._numFormat(Lt)(je).replace(/-/g,P);var zt,Dt=Math.pow(10,-yt)/2;if(bt==="none"&&(dt=0),(je=Math.abs(je))<Dt)je="0",gt=!1;else{if(je+=Dt,dt&&(je*=Math.pow(10,-dt),yt+=dt),yt===0)je=String(Math.floor(je));else if(yt<0){je=(je=String(Math.round(je))).substr(0,je.length+yt);for(var Nt=yt;Nt<0;Nt++)je+="0"}else{var Kt=(je=String(je)).indexOf(".")+1;Kt&&(je=je.substr(0,Kt+yt).replace(/\.?0+$/,""))}je=b.numSeparate(je,Ue._separators,wt)}return dt&&bt!=="hide"&&(Pe(bt)&&Ve(dt)&&(bt="power"),zt=dt<0?P+-dt:bt!=="power"?"+"+dt:String(dt),bt==="e"||bt==="E"?je+=bt+zt:bt==="power"?je+="×10<sup>"+zt+"</sup>":bt==="B"&&dt===9?je+="B":Pe(bt)&&(je+=Re[dt/3+5])),gt?P+je:je}function Qe(je,Ue){if(je){var st=Object.keys(F).reduce(function(Ke,gt){return Ue.indexOf(gt)!==-1&&F[gt].forEach(function(yt){Ke[yt]=1}),Ke},{});Object.keys(je).forEach(function(Ke){st[Ke]||(Ke.length===1?je[Ke]=0:delete je[Ke])})}}function lt(je,Ue){for(var st=[],Ke={},gt=0;gt<Ue.length;gt++){var yt=Ue[gt];Ke[yt.text2]?Ke[yt.text2].push(yt.x):Ke[yt.text2]=[yt.x]}for(var bt in Ke)st.push(Se(je,b.interp(Ke[bt],.5),bt));return st}function ut(je){return je.periodX!==void 0?je.periodX:je.x}function xt(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}function _t(je){var Ue=je.title.font.size,st=(je.title.text.match(s.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?Ue*(re+st*ne):st?Ue*(st+1)*ne:Ue}function mt(je,Ue){var st=je.l2p(Ue);return st>1&&st<je._length-1}function it(je){var Ue=k.select(je),st=Ue.select(".text-math-group");return st.empty()?Ue.select("text"):st}function nt(je){return je._id+".automargin"}function Et(je){return nt(je)+".mirror"}function Rt(je){return je._id+".rangeslider"}function Ft(je,Ue){for(var st=0;st<Ue.length;st++)je.indexOf(Ue[st])===-1&&je.push(Ue[st])}function Pt(je,Ue,st){var Ke,gt,yt=[],bt=[],dt=je.layout;for(Ke=0;Ke<Ue.length;Ke++)yt.push(Q.getFromId(je,Ue[Ke]));for(Ke=0;Ke<st.length;Ke++)bt.push(Q.getFromId(je,st[Ke]));var Lt=Object.keys(t),wt=["anchor","domain","overlaying","position","side","tickangle","editType"],Ct=["linear","log"];for(Ke=0;Ke<Lt.length;Ke++){var zt=Lt[Ke],Dt=yt[0][zt],Nt=bt[0][zt],Kt=!0,un=!1,qt=!1;if(zt.charAt(0)!=="_"&&typeof Dt!="function"&&wt.indexOf(zt)===-1){for(gt=1;gt<yt.length&&Kt;gt++){var Jt=yt[gt][zt];zt==="type"&&Ct.indexOf(Dt)!==-1&&Ct.indexOf(Jt)!==-1&&Dt!==Jt?un=!0:Jt!==Dt&&(Kt=!1)}for(gt=1;gt<bt.length&&Kt;gt++){var Ut=bt[gt][zt];zt==="type"&&Ct.indexOf(Nt)!==-1&&Ct.indexOf(Ut)!==-1&&Nt!==Ut?qt=!0:bt[gt][zt]!==Nt&&(Kt=!1)}Kt&&(un&&(dt[yt[0]._name].type="linear"),qt&&(dt[bt[0]._name].type="linear"),Ze(dt,zt,yt,bt,je._fullLayout._dfltTitle))}}for(Ke=0;Ke<je._fullLayout.annotations.length;Ke++){var zn=je._fullLayout.annotations[Ke];Ue.indexOf(zn.xref)!==-1&&st.indexOf(zn.yref)!==-1&&b.swapAttrs(dt.annotations[Ke],["?"])}}function Ze(je,Ue,st,Ke,gt){var yt,bt=b.nestedProperty,dt=bt(je[st[0]._name],Ue).get(),Lt=bt(je[Ke[0]._name],Ue).get();for(Ue==="title"&&(dt&&dt.text===gt.x&&(dt.text=gt.y),Lt&&Lt.text===gt.y&&(Lt.text=gt.x)),yt=0;yt<st.length;yt++)bt(je,st[yt]._name+"."+Ue).set(Lt);for(yt=0;yt<Ke.length;yt++)bt(je,Ke[yt]._name+"."+Ue).set(dt)}function $e(je){return je._id==="angularaxis"}function He(je,Ue){for(var st=Ue._rangebreaks.length,Ke=0;Ke<st;Ke++){var gt=Ue._rangebreaks[Ke];if(je>=gt.min&&je<gt.max)return gt.max}return je}function Je(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function ft(je,Ue){Je(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ue)}function ot(je,Ue,st,Ke){var gt,yt=je.anchor==="free"||je.overlaying!==void 0&&je.overlaying!==!1?je.overlaying:je._id;gt=Ke?je.side==="right"?Ue:-Ue:Ue,yt in st||(st[yt]={}),je.side in st[yt]||(st[yt][je.side]=0),st[yt][je.side]+=gt}Q.getTickFormat=function(je){var Ue,st,Ke,gt,yt,bt,dt,Lt;function wt(Dt){return typeof Dt!="string"?Dt:Number(Dt.replace("M",""))*x}function Ct(Dt,Nt){var Kt=["L","D"];if(typeof Dt==typeof Nt){if(typeof Dt=="number")return Dt-Nt;var un=Kt.indexOf(Dt.charAt(0)),qt=Kt.indexOf(Nt.charAt(0));return un===qt?Number(Dt.replace(/(L|D)/g,""))-Number(Nt.replace(/(L|D)/g,"")):un-qt}return typeof Dt=="number"?1:-1}function zt(Dt,Nt){var Kt=Nt[0]===null,un=Nt[1]===null,qt=Ct(Dt,Nt[0])>=0,Jt=Ct(Dt,Nt[1])<=0;return(Kt||qt)&&(un||Jt)}if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":for(Ue=0;Ue<je.tickformatstops.length;Ue++)if((Ke=je.tickformatstops[Ue]).enabled&&(gt=je.dtick,yt=Ke.dtickrange,bt=void 0,dt=void 0,Lt=void 0,bt=wt||function(Dt){return Dt},dt=yt[0],Lt=yt[1],(!dt&&typeof dt!="number"||bt(dt)<=bt(gt))&&(!Lt&&typeof Lt!="number"||bt(Lt)>=bt(gt)))){st=Ke;break}break;case"log":for(Ue=0;Ue<je.tickformatstops.length;Ue++)if((Ke=je.tickformatstops[Ue]).enabled&&zt(je.dtick,Ke.dtickrange)){st=Ke;break}}return st?st.value:je.tickformat},Q.getSubplots=function(je,Ue){var st=je._fullLayout._subplots,Ke=st.cartesian.concat(st.gl2d||[]),gt=Ue?Q.findSubplotsWithAxis(Ke,Ue):Ke;return gt.sort(function(yt,bt){var dt=yt.substr(1).split("y"),Lt=bt.substr(1).split("y");return dt[0]===Lt[0]?+dt[1]-+Lt[1]:+dt[0]-+Lt[0]}),gt},Q.findSubplotsWithAxis=function(je,Ue){for(var st=new RegExp(Ue._id.charAt(0)==="x"?"^"+Ue._id+"y":Ue._id+"$"),Ke=[],gt=0;gt<je.length;gt++){var yt=je[gt];st.test(yt)&&Ke.push(yt)}return Ke},Q.makeClipPaths=function(je){var Ue=je._fullLayout;if(!Ue._hasOnlyLargeSploms){var st,Ke,gt={_offset:0,_length:Ue.width,_id:""},yt={_offset:0,_length:Ue.height,_id:""},bt=Q.list(je,"x",!0),dt=Q.list(je,"y",!0),Lt=[];for(st=0;st<bt.length;st++)for(Lt.push({x:bt[st],y:yt}),Ke=0;Ke<dt.length;Ke++)st===0&&Lt.push({x:gt,y:dt[Ke]}),Lt.push({x:bt[st],y:dt[Ke]});var wt=Ue._clips.selectAll(".axesclip").data(Lt,function(Ct){return Ct.x._id+Ct.y._id});wt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Ct){return"clip"+Ue._uid+Ct.x._id+Ct.y._id}).append("rect"),wt.exit().remove(),wt.each(function(Ct){k.select(this).select("rect").attr({x:Ct.x._offset||0,y:Ct.y._offset||0,width:Ct.x._length||1,height:Ct.y._length||1})})}},Q.draw=function(je,Ue,st){var Ke=je._fullLayout;Ue==="redraw"&&Ke._paper.selectAll("g.subplot").each(function(dt){var Lt=dt[0],wt=Ke._plots[Lt];if(wt){var Ct=wt.xaxis,zt=wt.yaxis;wt.xaxislayer.selectAll("."+Ct._id+"tick").remove(),wt.yaxislayer.selectAll("."+zt._id+"tick").remove(),wt.xaxislayer.selectAll("."+Ct._id+"tick2").remove(),wt.yaxislayer.selectAll("."+zt._id+"tick2").remove(),wt.xaxislayer.selectAll("."+Ct._id+"divider").remove(),wt.yaxislayer.selectAll("."+zt._id+"divider").remove(),wt.minorGridlayer&&wt.minorGridlayer.selectAll("path").remove(),wt.gridlayer&&wt.gridlayer.selectAll("path").remove(),wt.zerolinelayer&&wt.zerolinelayer.selectAll("path").remove(),Ke._infolayer.select(".g-"+Ct._id+"title").remove(),Ke._infolayer.select(".g-"+zt._id+"title").remove()}});var gt=Ue&&Ue!=="redraw"?Ue:Q.listIds(je),yt=Q.list(je).filter(function(dt){return dt.autoshift}).map(function(dt){return dt.overlaying});gt.map(function(dt){var Lt=Q.getFromId(je,dt);if(Lt.tickmode==="sync"&&Lt.overlaying){var wt=gt.findIndex(function(Ct){return Ct===Lt.overlaying});wt>=0&&gt.unshift(gt.splice(wt,1).shift())}});var bt={false:{left:0,right:0}};return b.syncOrAsync(gt.map(function(dt){return function(){if(dt){var Lt=Q.getFromId(je,dt);st||(st={}),st.axShifts=bt,st.overlayingShiftedAx=yt;var wt=Q.drawOne(je,Lt,st);return Lt._shiftPusher&&ot(Lt,Lt._fullDepth||0,bt,!0),Lt._r=Lt.range.slice(),Lt._rl=b.simpleMap(Lt._r,Lt.r2l),wt}}}))},Q.drawOne=function(je,Ue,st){var Ke,gt,yt,bt=(st=st||{}).axShifts||{},dt=st.overlayingShiftedAx||[];Ue.setScale();var Lt=je._fullLayout,wt=Ue._id,Ct=wt.charAt(0),zt=Q.counterLetter(wt),Dt=Lt._plots[Ue._mainSubplot];if(Dt){if(Ue._shiftPusher=Ue.autoshift||dt.indexOf(Ue._id)!==-1||dt.indexOf(Ue.overlaying)!==-1,Ue._shiftPusher&Ue.anchor==="free"){var Nt=Ue.linewidth/2||0;Ue.ticks==="inside"&&(Nt+=Ue.ticklen),ot(Ue,Nt,bt,!0),ot(Ue,Ue.shift||0,bt,!1)}st.skipTitle===!0&&Ue._shift!==void 0||(Ue._shift=function(on,Yt){return on.autoshift?Yt[on.overlaying][on.side]:on.shift||0}(Ue,bt));var Kt=Dt[Ct+"axislayer"],un=Ue._mainLinePosition,qt=un+=Ue._shift,Jt=Ue._mainMirrorPosition,Ut=Ue._vals=Q.calcTicks(Ue),zn=[Ue.mirror,qt,Jt].join("_");for(Ke=0;Ke<Ut.length;Ke++)Ut[Ke].axInfo=zn;Ue._selections={},Ue._tickAngles&&(Ue._prevTickAngles=Ue._tickAngles),Ue._tickAngles={},Ue._depth=null;var An={};if(Ue.visible){var mn,tn,fn=Q.makeTransTickFn(Ue),rn=Q.makeTransTickLabelFn(Ue),pn=Ue.ticks==="inside",wn=Ue.ticks==="outside";if(Ue.tickson==="boundaries"){var kn=function(on,Yt){var Xt,sn=[],hn=function(Sn,Cn){var Un=Sn.xbnd[Cn];Un!==null&&sn.push(b.extendFlat({},Sn,{x:Un}))};if(Yt.length){for(Xt=0;Xt<Yt.length;Xt++)hn(Yt[Xt],0);hn(Yt[Xt-1],1)}return sn}(0,Ut);tn=Q.clipEnds(Ue,kn),mn=pn?tn:kn}else tn=Q.clipEnds(Ue,Ut),mn=pn&&Ue.ticklabelmode!=="period"?tn:Ut;var Pn,On=Ue._gridVals=tn,En=function(on,Yt){var Xt,sn,hn=[],Sn=Yt.length&&Yt[Yt.length-1].x<Yt[0].x,Cn=function(qn,tr){var Yn=qn.xbnd[tr];Yn!==null&&hn.push(b.extendFlat({},qn,{x:Yn}))};if(on.showdividers&&Yt.length){for(Xt=0;Xt<Yt.length;Xt++){var Un=Yt[Xt];Un.text2!==sn&&Cn(Un,Sn?1:0),sn=Un.text2}Cn(Yt[Xt-1],Sn?0:1)}return hn}(Ue,Ut);if(!Lt._hasOnlyLargeSploms){var Vn=Ue._subplotsWith,Fn={};for(Ke=0;Ke<Vn.length;Ke++){gt=Vn[Ke];var Wn=(yt=Lt._plots[gt])[zt+"axis"],rr=Wn._mainAxis._id;if(!Fn[rr]){Fn[rr]=1;var ir=Ct==="x"?"M0,"+Wn._offset+"v"+Wn._length:"M"+Wn._offset+",0h"+Wn._length;Q.drawGrid(je,Ue,{vals:On,counterAxis:Wn,layer:yt.gridlayer.select("."+wt),minorLayer:yt.minorGridlayer.select("."+wt),path:ir,transFn:fn}),Q.drawZeroLine(je,Ue,{counterAxis:Wn,layer:yt.zerolinelayer,path:ir,transFn:fn})}}}var Jn=Q.getTickSigns(Ue),dr=Q.getTickSigns(Ue,"minor");if(Ue.ticks||Ue.minor&&Ue.minor.ticks){var nn,an,In,yn,Dn=Q.makeTickPath(Ue,qt,Jn[2]),Zn=Q.makeTickPath(Ue,qt,dr[2],{minor:!0});if(Ue._anchorAxis&&Ue.mirror&&Ue.mirror!==!0?(nn=Q.makeTickPath(Ue,Jt,Jn[3]),an=Q.makeTickPath(Ue,Jt,dr[3],{minor:!0}),In=Dn+nn,yn=Zn+an):(nn="",an="",In=Dn,yn=Zn),Ue.showdividers&&wn&&Ue.tickson==="boundaries"){var Hn={};for(Ke=0;Ke<En.length;Ke++)Hn[En[Ke].x]=1;Pn=function(on){return Hn[on.x]?nn:In}}else Pn=function(on){return on.minor?yn:In}}if(Q.drawTicks(je,Ue,{vals:mn,layer:Kt,path:Pn,transFn:fn}),Ue.mirror==="allticks"){var Qn=Object.keys(Ue._linepositions||{});for(Ke=0;Ke<Qn.length;Ke++){gt=Qn[Ke],yt=Lt._plots[gt];var mr=Ue._linepositions[gt]||[],Qt=mr[0],xn=mr[1],At=mr[2],Wt=Q.makeTickPath(Ue,Qt,At?Jn[0]:dr[0],{minor:At})+Q.makeTickPath(Ue,xn,At?Jn[1]:dr[1],{minor:At});Q.drawTicks(je,Ue,{vals:mn,layer:yt[Ct+"axislayer"],path:Wt,transFn:fn})}}var en=[];if(en.push(function(){return Q.drawLabels(je,Ue,{vals:Ut,layer:Kt,plotinfo:yt,transFn:rn,labelFns:Q.makeLabelFns(Ue,qt)})}),Ue.type==="multicategory"){var dn={x:2,y:10}[Ct];en.push(function(){var on={x:"height",y:"width"}[Ct],Yt=_n()[on]+dn+(Ue._tickAngles[wt+"tick"]?Ue.tickfont.size*ne:0);return Q.drawLabels(je,Ue,{vals:lt(Ue,Ut),layer:Kt,cls:wt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:fn,labelFns:Q.makeLabelFns(Ue,qt+Yt*Jn[4])})}),en.push(function(){return Ue._depth=Jn[4]*(_n("tick2")[Ue.side]-qt),function(on,Yt,Xt){var sn=Yt._id+"divider",hn=Xt.vals,Sn=Xt.layer.selectAll("path."+sn).data(hn,xt);Sn.exit().remove(),Sn.enter().insert("path",":first-child").classed(sn,1).classed("crisp",1).call(i.stroke,Yt.dividercolor).style("stroke-width",r.crispRound(on,Yt.dividerwidth,1)+"px"),Sn.attr("transform",Xt.transFn).attr("d",Xt.path)}(je,Ue,{vals:En,layer:Kt,path:Q.makeTickPath(Ue,qt,Jn[4],{len:Ue._depth}),transFn:fn})})}else Ue.title.hasOwnProperty("standoff")&&en.push(function(){Ue._depth=Jn[4]*(_n()[Ue.side]-qt)});var gn=w.getComponentMethod("rangeslider","isVisible")(Ue);return st.skipTitle||gn&&Ue.side==="bottom"||en.push(function(){return function(on,Yt){var Xt,sn=on._fullLayout,hn=Yt._id,Sn=hn.charAt(0),Cn=Yt.title.font.size,Un=(Yt.title.text.match(s.BR_TAG_ALL)||[]).length;if(Yt.title.hasOwnProperty("standoff"))Yt.side==="bottom"||Yt.side==="right"?Xt=Yt._depth+Yt.title.standoff+Cn*re:Yt.side!=="top"&&Yt.side!=="left"||(Xt=Yt._depth+Yt.title.standoff+Cn*(W+Un*ne));else{var qn=Je(Yt);if(Yt.type==="multicategory")Xt=Yt._depth;else{var tr=1.5*Cn;qn&&(tr=.5*Cn,Yt.ticks==="outside"&&(tr+=Yt.ticklen)),Xt=10+tr+(Yt.linewidth?Yt.linewidth-1:0)}qn||(Xt+=Sn==="x"?Yt.side==="top"?Cn*(Yt.showticklabels?1:0):Cn*(Yt.showticklabels?1.5:.5):Yt.side==="right"?Cn*(Yt.showticklabels?1:.5):Cn*(Yt.showticklabels?.5:0))}var Yn,sr,ar,er,gr=Q.getPxPosition(on,Yt);if(Sn==="x"?(sr=Yt._offset+Yt._length/2,ar=Yt.side==="top"?gr-Xt:gr+Xt):(ar=Yt._offset+Yt._length/2,sr=Yt.side==="right"?gr+Xt:gr-Xt,Yn={rotate:"-90",offset:0}),Yt.type!=="multicategory"){var kr=Yt._selections[Yt._id+"tick"];if(er={selection:kr,side:Yt.side},kr&&kr.node()&&kr.node().parentNode){var yr=r.getTranslate(kr.node().parentNode);er.offsetLeft=yr.x,er.offsetTop=yr.y}Yt.title.hasOwnProperty("standoff")&&(er.pad=0)}return Yt._titleStandoff=Xt,n.draw(on,hn+"title",{propContainer:Yt,propName:Yt._name+".title.text",placeholder:sn._dfltTitle[Sn],avoid:er,transform:Yn,attributes:{x:sr,y:ar,"text-anchor":"middle"}})}(je,Ue)}),en.push(function(){var on,Yt,Xt,sn,hn=Ue.side.charAt(0),Sn=te[Ue.side].charAt(0),Cn=Q.getPxPosition(je,Ue),Un=wn?Ue.ticklen:0;(Ue.automargin||gn||Ue._shiftPusher)&&(Ue.type==="multicategory"?on=_n("tick2"):(on=_n(),Ct==="x"&&hn==="b"&&(Ue._depth=Math.max(on.width>0?on.bottom-Cn:0,Un))));var qn=0,tr=0;if(Ue._shiftPusher&&(qn=Math.max(Un,on.height>0?hn==="l"?Cn-on.left:on.right-Cn:0),Ue.title.text!==Lt._dfltTitle[Ct]&&(tr=(Ue._titleStandoff||0)+(Ue._titleScoot||0),hn==="l"&&(tr+=_t(Ue))),Ue._fullDepth=Math.max(qn,tr)),Ue.automargin){Yt={x:0,y:0,r:0,l:0,t:0,b:0};var Yn=[0,1],sr=typeof Ue._shift=="number"?Ue._shift:0;if(Ct==="x"){if(hn==="b"?Yt[hn]=Ue._depth:(Yt[hn]=Ue._depth=Math.max(on.width>0?Cn-on.top:0,Un),Yn.reverse()),on.width>0){var ar=on.right-(Ue._offset+Ue._length);ar>0&&(Yt.xr=1,Yt.r=ar);var er=Ue._offset-on.left;er>0&&(Yt.xl=0,Yt.l=er)}}else if(hn==="l"?(Ue._depth=Math.max(on.height>0?Cn-on.left:0,Un),Yt[hn]=Ue._depth-sr):(Ue._depth=Math.max(on.height>0?on.right-Cn:0,Un),Yt[hn]=Ue._depth+sr,Yn.reverse()),on.height>0){var gr=on.bottom-(Ue._offset+Ue._length);gr>0&&(Yt.yb=0,Yt.b=gr);var kr=Ue._offset-on.top;kr>0&&(Yt.yt=1,Yt.t=kr)}Yt[zt]=Ue.anchor==="free"?Ue.position:Ue._anchorAxis.domain[Yn[0]],Ue.title.text!==Lt._dfltTitle[Ct]&&(Yt[hn]+=_t(Ue)+(Ue.title.standoff||0)),Ue.mirror&&Ue.anchor!=="free"&&((Xt={x:0,y:0,r:0,l:0,t:0,b:0})[Sn]=Ue.linewidth,Ue.mirror&&Ue.mirror!==!0&&(Xt[Sn]+=Un),Ue.mirror===!0||Ue.mirror==="ticks"?Xt[zt]=Ue._anchorAxis.domain[Yn[1]]:Ue.mirror!=="all"&&Ue.mirror!=="allticks"||(Xt[zt]=[Ue._counterDomainMin,Ue._counterDomainMax][Yn[1]]))}gn&&(sn=w.getComponentMethod("rangeslider","autoMarginOpts")(je,Ue)),typeof Ue.automargin=="string"&&(Qe(Yt,Ue.automargin),Qe(Xt,Ue.automargin)),o.autoMargin(je,nt(Ue),Yt),o.autoMargin(je,Et(Ue),Xt),o.autoMargin(je,Rt(Ue),sn)}),b.syncOrAsync(en)}}function _n(on){var Yt=wt+(on||"tick");return An[Yt]||(An[Yt]=function(Xt,sn,hn){var Sn,Cn,Un,qn;if(Xt._selections[sn].size())Sn=1/0,Cn=-1/0,Un=1/0,qn=-1/0,Xt._selections[sn].each(function(){var Yn=it(this),sr=r.bBox(Yn.node().parentNode);Sn=Math.min(Sn,sr.top),Cn=Math.max(Cn,sr.bottom),Un=Math.min(Un,sr.left),qn=Math.max(qn,sr.right)});else{var tr=Q.makeLabelFns(Xt,hn);Sn=Cn=tr.yFn({dx:0,dy:0,fontSize:0}),Un=qn=tr.xFn({dx:0,dy:0,fontSize:0})}return{top:Sn,bottom:Cn,left:Un,right:qn,height:Cn-Sn,width:qn-Un}}(Ue,Yt,qt)),An[Yt]}},Q.getTickSigns=function(je,Ue){var st=je._id.charAt(0),Ke={x:"top",y:"right"}[st],gt=je.side===Ke?1:-1,yt=[-1,1,gt,-gt];return(Ue?(je.minor||{}).ticks:je.ticks)!=="inside"==(st==="x")&&(yt=yt.map(function(bt){return-bt})),je.side&&yt.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),yt},Q.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(Ue){return f(je._offset+je.l2p(Ue.x),0)}:function(Ue){return f(0,je._offset+je.l2p(Ue.x))}},Q.makeTransTickLabelFn=function(je){var Ue=function(gt){var yt=gt.ticklabelposition||"",bt=function(Jt){return yt.indexOf(Jt)!==-1},dt=bt("top"),Lt=bt("left"),wt=bt("right"),Ct=bt("bottom"),zt=bt("inside"),Dt=Ct||Lt||dt||wt;if(!Dt&&!zt)return[0,0];var Nt=gt.side,Kt=Dt?(gt.tickwidth||0)/2:0,un=3,qt=gt.tickfont?gt.tickfont.size:12;return(Ct||dt)&&(Kt+=qt*re,un+=(gt.linewidth||0)/2),(Lt||wt)&&(Kt+=(gt.linewidth||0)/2,un+=3),zt&&Nt==="top"&&(un-=qt*(1-re)),(Lt||dt)&&(Kt=-Kt),Nt!=="bottom"&&Nt!=="right"||(un=-un),[Dt?Kt:0,zt?un:0]}(je),st=Ue[0],Ke=Ue[1];return je._id.charAt(0)==="x"?function(gt){return f(st+je._offset+je.l2p(ut(gt)),Ke)}:function(gt){return f(Ke,st+je._offset+je.l2p(ut(gt)))}},Q.makeTickPath=function(je,Ue,st,Ke){Ke||(Ke={});var gt=Ke.minor;if(gt&&!je.minor)return"";var yt=Ke.len!==void 0?Ke.len:gt?je.minor.ticklen:je.ticklen,bt=je._id.charAt(0),dt=(je.linewidth||1)/2;return bt==="x"?"M0,"+(Ue+dt*st)+"v"+yt*st:"M"+(Ue+dt*st)+",0h"+yt*st},Q.makeLabelFns=function(je,Ue,st){var Ke=je.ticklabelposition||"",gt=function(kn){return Ke.indexOf(kn)!==-1},yt=gt("top"),bt=gt("left"),dt=gt("right"),Lt=gt("bottom")||bt||yt||dt,wt=gt("inside"),Ct=Ke==="inside"&&je.ticks==="inside"||!wt&&je.ticks==="outside"&&je.tickson!=="boundaries",zt=0,Dt=0,Nt=Ct?je.ticklen:0;if(wt?Nt*=-1:Lt&&(Nt=0),Ct&&(zt+=Nt,st)){var Kt=b.deg2rad(st);zt=Nt*Math.cos(Kt)+1,Dt=Nt*Math.sin(Kt)}je.showticklabels&&(Ct||je.showline)&&(zt+=.2*je.tickfont.size);var un,qt,Jt,Ut,zn,An={labelStandoff:zt+=(je.linewidth||1)/2*(wt?-1:1),labelShift:Dt},mn=0,tn=je.side,fn=je._id.charAt(0),rn=je.tickangle;if(fn==="x")Ut=(zn=!wt&&tn==="bottom"||wt&&tn==="top")?1:-1,wt&&(Ut*=-1),un=Dt*Ut,qt=Ue+zt*Ut,Jt=zn?1:-.2,Math.abs(rn)===90&&(wt?Jt+=W:Jt=rn===-90&&tn==="bottom"?re:rn===90&&tn==="top"?W:.5,mn=W/2*(rn/90)),An.xFn=function(kn){return kn.dx+un+mn*kn.fontSize},An.yFn=function(kn){return kn.dy+qt+kn.fontSize*Jt},An.anchorFn=function(kn,Pn){if(Lt){if(bt)return"end";if(dt)return"start"}return A(Pn)&&Pn!==0&&Pn!==180?Pn*Ut<0!==wt?"end":"start":"middle"},An.heightFn=function(kn,Pn,On){return Pn<-60||Pn>60?-.5*On:je.side==="top"!==wt?-On:0};else if(fn==="y"){if(Ut=(zn=!wt&&tn==="left"||wt&&tn==="right")?1:-1,wt&&(Ut*=-1),un=zt,qt=Dt*Ut,Jt=0,wt||Math.abs(rn)!==90||(Jt=rn===-90&&tn==="left"||rn===90&&tn==="right"?re:.5),wt){var pn=A(rn)?+rn:0;if(pn!==0){var wn=b.deg2rad(pn);mn=Math.abs(Math.sin(wn))*re*Ut,Jt=0}}An.xFn=function(kn){return kn.dx+Ue-(un+kn.fontSize*Jt)*Ut+mn*kn.fontSize},An.yFn=function(kn){return kn.dy+qt+kn.fontSize*W},An.anchorFn=function(kn,Pn){return A(Pn)&&Math.abs(Pn)===90?"middle":zn?"end":"start"},An.heightFn=function(kn,Pn,On){return je.side==="right"&&(Pn*=-1),Pn<-30?-On:Pn<30?-.5*On:0}}return An},Q.drawTicks=function(je,Ue,st){st=st||{};var Ke=Ue._id+"tick",gt=[].concat(Ue.minor&&Ue.minor.ticks?st.vals.filter(function(bt){return bt.minor&&!bt.noTick}):[]).concat(Ue.ticks?st.vals.filter(function(bt){return!bt.minor&&!bt.noTick}):[]),yt=st.layer.selectAll("path."+Ke).data(gt,xt);yt.exit().remove(),yt.enter().append("path").classed(Ke,1).classed("ticks",1).classed("crisp",st.crisp!==!1).each(function(bt){return i.stroke(k.select(this),bt.minor?Ue.minor.tickcolor:Ue.tickcolor)}).style("stroke-width",function(bt){return r.crispRound(je,bt.minor?Ue.minor.tickwidth:Ue.tickwidth,1)+"px"}).attr("d",st.path).style("display",null),ft(Ue,[j]),yt.attr("transform",st.transFn)},Q.drawGrid=function(je,Ue,st){if(st=st||{},Ue.tickmode!=="sync"){var Ke=Ue._id+"grid",gt=Ue.minor&&Ue.minor.showgrid,yt=gt?st.vals.filter(function(Jt){return Jt.minor}):[],bt=Ue.showgrid?st.vals.filter(function(Jt){return!Jt.minor}):[],dt=st.counterAxis;if(dt&&Q.shouldShowZeroLine(je,Ue,dt))for(var Lt=Ue.tickmode==="array",wt=0;wt<bt.length;wt++){var Ct=bt[wt].x;if(Lt?!Ct:Math.abs(Ct)<Ue.dtick/100){if(bt=bt.slice(0,wt).concat(bt.slice(wt+1)),!Lt)break;wt--}}Ue._gw=r.crispRound(je,Ue.gridwidth,1);for(var zt=gt?r.crispRound(je,Ue.minor.gridwidth,1):0,Dt=st.layer,Nt=st.minorLayer,Kt=1;Kt>=0;Kt--){var un=Kt?Dt:Nt;if(un){var qt=un.selectAll("path."+Ke).data(Kt?bt:yt,xt);qt.exit().remove(),qt.enter().append("path").classed(Ke,1).classed("crisp",st.crisp!==!1),qt.attr("transform",st.transFn).attr("d",st.path).each(function(Jt){return i.stroke(k.select(this),Jt.minor?Ue.minor.gridcolor:Ue.gridcolor||"#ddd")}).style("stroke-dasharray",function(Jt){return r.dashStyle(Jt.minor?Ue.minor.griddash:Ue.griddash,Jt.minor?Ue.minor.gridwidth:Ue.gridwidth)}).style("stroke-width",function(Jt){return(Jt.minor?zt:Ue._gw)+"px"}).style("display",null),typeof st.path=="function"&&qt.attr("d",st.path)}}ft(Ue,[H,z])}},Q.drawZeroLine=function(je,Ue,st){st=st||st;var Ke=Ue._id+"zl",gt=Q.shouldShowZeroLine(je,Ue,st.counterAxis),yt=st.layer.selectAll("path."+Ke).data(gt?[{x:0,id:Ue._id}]:[]);yt.exit().remove(),yt.enter().append("path").classed(Ke,1).classed("zl",1).classed("crisp",st.crisp!==!1).each(function(){st.layer.selectAll("path").sort(function(bt,dt){return ae(bt.id,dt.id)})}),yt.attr("transform",st.transFn).attr("d",st.path).call(i.stroke,Ue.zerolinecolor||i.defaultLine).style("stroke-width",r.crispRound(je,Ue.zerolinewidth,Ue._gw||1)+"px").style("display",null),ft(Ue,[R])},Q.drawLabels=function(je,Ue,st){st=st||{};var Ke=je._fullLayout,gt=Ue._id,yt=st.cls||gt+"tick",bt=st.vals.filter(function(Fn){return Fn.text}),dt=st.labelFns,Lt=st.secondary?0:Ue.tickangle,wt=(Ue._prevTickAngles||{})[yt],Ct=st.layer.selectAll("g."+yt).data(Ue.showticklabels?bt:[],xt),zt=[];function Dt(Fn,Wn){Fn.each(function(rr){var ir=k.select(this),Jn=ir.select(".text-math-group"),dr=dt.anchorFn(rr,Wn),nn=st.transFn.call(ir.node(),rr)+(A(Wn)&&+Wn!=0?" rotate("+Wn+","+dt.xFn(rr)+","+(dt.yFn(rr)-rr.fontSize/2)+")":""),an=s.lineCount(ir),In=ne*rr.fontSize,yn=dt.heightFn(rr,A(Wn)?+Wn:0,(an-1)*In);if(yn&&(nn+=f(0,yn)),Jn.empty()){var Dn=ir.select("text");Dn.attr({transform:nn,"text-anchor":dr}),Dn.style("opacity",1),Ue._adjustTickLabelsOverflow&&Ue._adjustTickLabelsOverflow()}else{var Zn=r.bBox(Jn.node()).width*{end:-.5,start:.5}[dr];Jn.attr("transform",nn+f(Zn,0))}})}Ct.enter().append("g").classed(yt,1).append("text").attr("text-anchor","middle").each(function(Fn){var Wn=k.select(this),rr=je._promises.length;Wn.call(s.positionText,dt.xFn(Fn),dt.yFn(Fn)).call(r.font,{family:Fn.font,size:Fn.fontSize,color:Fn.fontColor,weight:Fn.fontWeight,style:Fn.fontStyle,variant:Fn.fontVariant,textcase:Fn.fontTextcase,lineposition:Fn.fontLineposition,shadow:Fn.fontShadow}).text(Fn.text).call(s.convertToTspans,je),je._promises[rr]?zt.push(je._promises.pop().then(function(){Dt(Wn,Lt)})):Dt(Wn,Lt)}),ft(Ue,[Z]),Ct.exit().remove(),st.repositionOnUpdate&&Ct.each(function(Fn){k.select(this).select("text").call(s.positionText,dt.xFn(Fn),dt.yFn(Fn))}),Ue._adjustTickLabelsOverflow=function(){var Fn=Ue.ticklabeloverflow;if(Fn&&Fn!=="allow"){var Wn=Fn.indexOf("hide")!==-1,rr=Ue._id.charAt(0)==="x",ir=0,Jn=rr?je._fullLayout.width:je._fullLayout.height;if(Fn.indexOf("domain")!==-1){var dr=b.simpleMap(Ue.range,Ue.r2l);ir=Ue.l2p(dr[0])+Ue._offset,Jn=Ue.l2p(dr[1])+Ue._offset}var nn=Math.min(ir,Jn),an=Math.max(ir,Jn),In=Ue.side,yn=1/0,Dn=-1/0;for(var Zn in Ct.each(function(mr){var Qt=k.select(this);if(Qt.select(".text-math-group").empty()){var xn=r.bBox(Qt.node()),At=0;rr?(xn.right>an||xn.left<nn)&&(At=1):(xn.bottom>an||xn.top+(Ue.tickangle?0:mr.fontSize/4)<nn)&&(At=1);var Wt=Qt.select("text");At?Wn&&Wt.style("opacity",0):(Wt.style("opacity",1),yn=In==="bottom"||In==="right"?Math.min(yn,rr?xn.top:xn.left):-1/0,Dn=In==="top"||In==="left"?Math.max(Dn,rr?xn.bottom:xn.right):1/0)}}),Ke._plots){var Hn=Ke._plots[Zn];if(Ue._id===Hn.xaxis._id||Ue._id===Hn.yaxis._id){var Qn=rr?Hn.yaxis:Hn.xaxis;Qn&&(Qn["_visibleLabelMin_"+Ue._id]=yn,Qn["_visibleLabelMax_"+Ue._id]=Dn)}}}},Ue._hideCounterAxisInsideTickLabels=function(Fn){var Wn=Ue._id.charAt(0)==="x",rr=[];for(var ir in Ke._plots){var Jn=Ke._plots[ir];Ue._id!==Jn.xaxis._id&&Ue._id!==Jn.yaxis._id||rr.push(Wn?Jn.yaxis:Jn.xaxis)}rr.forEach(function(dr,nn){dr&&Je(dr)&&(Fn||[R,z,H,j,Z]).forEach(function(an){var In=an.K==="tick"&&an.L==="text"&&Ue.ticklabelmode==="period",yn=Ke._plots[Ue._mainSubplot];(an.K===R.K?yn.zerolinelayer.selectAll("."+Ue._id+"zl"):an.K===z.K?yn.minorGridlayer.selectAll("."+Ue._id):an.K===H.K?yn.gridlayer.selectAll("."+Ue._id):yn[Ue._id.charAt(0)+"axislayer"]).each(function(){var Dn=k.select(this);an.L&&(Dn=Dn.selectAll(an.L)),Dn.each(function(Zn){var Hn=Ue.l2p(In?ut(Zn):Zn.x)+Ue._offset,Qn=k.select(this);Hn<Ue["_visibleLabelMax_"+dr._id]&&Hn>Ue["_visibleLabelMin_"+dr._id]?Qn.style("display","none"):an.K!=="tick"||nn||Qn.style("display",null)})})})})},Dt(Ct,wt+1?wt:Lt);var Nt=null;Ue._selections&&(Ue._selections[yt]=Ct);var Kt=[function(){return zt.length&&Promise.all(zt)}];Ue.automargin&&Ke._redrawFromAutoMarginCount&&wt===90?(Nt=wt,Kt.push(function(){Dt(Ct,wt)})):Kt.push(function(){if(Dt(Ct,Lt),bt.length&&Ue.autotickangles&&(Ue.type!=="log"||String(Ue.dtick).charAt(0)!=="D")){Nt=Ue.autotickangles[0];var Fn,Wn=0,rr=[],ir=1;Ct.each(function(_n){Wn=Math.max(Wn,_n.fontSize);var on=Ue.l2p(_n.x),Yt=it(this),Xt=r.bBox(Yt.node());ir=Math.max(ir,s.lineCount(Yt)),rr.push({top:0,bottom:10,height:10,left:on-Xt.width/2,right:on+Xt.width/2+2,width:Xt.width+2})});var Jn=(Ue.tickson==="boundaries"||Ue.showdividers)&&!st.secondary,dr=bt.length,nn=Math.abs((bt[dr-1].x-bt[0].x)*Ue._m)/(dr-1),an=Jn?nn/2:nn,In=Jn?Ue.ticklen:1.25*Wn*ir,yn=an/Math.sqrt(Math.pow(an,2)+Math.pow(In,2)),Dn=Ue.autotickangles.map(function(_n){return _n*Math.PI/180}),Zn=Dn.find(function(_n){return Math.abs(Math.cos(_n))<=yn});Zn===void 0&&(Zn=Dn.reduce(function(_n,on){return Math.abs(Math.cos(_n))<Math.abs(Math.cos(on))?_n:on},Dn[0]));var Hn=Zn*(180/Math.PI);if(Jn){var Qn=2;for(Ue.ticks&&(Qn+=Ue.tickwidth/2),Fn=0;Fn<rr.length;Fn++){var mr=bt[Fn].xbnd,Qt=rr[Fn];if(mr[0]!==null&&Qt.left-Ue.l2p(mr[0])<Qn||mr[1]!==null&&Ue.l2p(mr[1])-Qt.right<Qn){Nt=Hn;break}}}else{var xn=Ue.ticklabelposition||"",At=function(_n){return xn.indexOf(_n)!==-1},Wt=At("top"),en=At("left"),dn=At("right"),gn=At("bottom")||en||Wt||dn?(Ue.tickwidth||0)+6:0;for(Fn=0;Fn<rr.length-1;Fn++)if(b.bBoxIntersect(rr[Fn],rr[Fn+1],gn)){Nt=Hn;break}}Nt&&Dt(Ct,Nt)}}),Ue._tickAngles&&Kt.push(function(){Ue._tickAngles[yt]=Nt===null?A(Lt)?Lt:0:Nt});var un=function(){var Fn=0,Wn=0;return Ct.each(function(rr,ir){var Jn,dr=it(this);dr.select(".text-math-group").empty()&&(Ue._vals[ir]&&(Jn=Ue._vals[ir].bb||r.bBox(dr.node()),Ue._vals[ir].bb=Jn),Fn=Math.max(Fn,Jn.width),Wn=Math.max(Wn,Jn.height))}),{labelsMaxW:Fn,labelsMaxH:Wn}},qt=Ue._anchorAxis;if(qt&&(qt.autorange||qt.insiderange)&&Je(Ue)&&!ue(Ke,Ue._id)&&(Ke._insideTickLabelsUpdaterange||(Ke._insideTickLabelsUpdaterange={}),qt.autorange&&(Ke._insideTickLabelsUpdaterange[qt._name+".autorange"]=qt.autorange,Kt.push(un)),qt.insiderange)){var Jt=un(),Ut=Ue._id.charAt(0)==="y"?Jt.labelsMaxW:Jt.labelsMaxH;Ut+=6,Ue.ticklabelposition==="inside"&&(Ut+=Ue.ticklen||0);var zn=Ue.side==="right"||Ue.side==="top"?1:-1,An=zn===1?1:0,mn=zn===1?0:1,tn=[];tn[mn]=qt.range[mn];var fn=qt.range,rn=qt.r2p(fn[An]),pn=qt.r2p(fn[mn]),wn=Ke._insideTickLabelsUpdaterange[qt._name+".range"];if(wn){var kn=qt.r2p(wn[An]),Pn=qt.r2p(wn[mn]),On=zn*(Ue._id.charAt(0)==="y"?1:-1);On*rn<On*kn&&(rn=kn,tn[An]=fn[An]=wn[An]),On*pn>On*Pn&&(pn=Pn,tn[mn]=fn[mn]=wn[mn])}var En=Math.abs(pn-rn);En-Ut>0?Ut*=1+Ut/(En-=Ut):Ut=0,Ue._id.charAt(0)!=="y"&&(Ut=-Ut),tn[An]=qt.p2r(qt.r2p(fn[An])+zn*Ut),qt.autorange==="min"||qt.autorange==="max reversed"?(tn[0]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0):qt.autorange!=="max"&&qt.autorange!=="min reversed"||(tn[1]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0),Ke._insideTickLabelsUpdaterange[qt._name+".range"]=tn}var Vn=b.syncOrAsync(Kt);return Vn&&Vn.then&&je._promises.push(Vn),Vn},Q.getPxPosition=function(je,Ue){var st,Ke=je._fullLayout._size,gt=Ue._id.charAt(0),yt=Ue.side;return Ue.anchor!=="free"?st=Ue._anchorAxis:gt==="x"?st={_offset:Ke.t+(1-(Ue.position||0))*Ke.h,_length:0}:gt==="y"&&(st={_offset:Ke.l+(Ue.position||0)*Ke.w+Ue._shift,_length:0}),yt==="top"||yt==="left"?st._offset:yt==="bottom"||yt==="right"?st._offset+st._length:void 0},Q.shouldShowZeroLine=function(je,Ue,st){var Ke=b.simpleMap(Ue.range,Ue.r2l);return Ke[0]*Ke[1]<=0&&Ue.zeroline&&(Ue.type==="linear"||Ue.type==="-")&&!(Ue.rangebreaks&&Ue.maskBreaks(0)===I)&&(mt(Ue,0)||!function(gt,yt,bt,dt){var Lt=bt._mainAxis;if(Lt){var wt=gt._fullLayout,Ct=yt._id.charAt(0),zt=Q.counterLetter(yt._id),Dt=yt._offset+(Math.abs(dt[0])<Math.abs(dt[1])==(Ct==="x")?0:yt._length),Nt=wt._plots[bt._mainSubplot];if(!(Nt.mainplotinfo||Nt).overlays.length)return Jt(bt);for(var Kt=Q.list(gt,zt),un=0;un<Kt.length;un++){var qt=Kt[un];if(qt._mainAxis===Lt&&Jt(qt))return!0}}function Jt(Ut){if(!Ut.showline||!Ut.linewidth)return!1;var zn=Math.max((Ut.linewidth+yt.zerolinewidth)/2,1);function An(fn){return typeof fn=="number"&&Math.abs(fn-Dt)<zn}if(An(Ut._mainLinePosition)||An(Ut._mainMirrorPosition))return!0;var mn=Ut._linepositions||{};for(var tn in mn)if(An(mn[tn][0])||An(mn[tn][1]))return!0}}(je,Ue,st,Ke)||function(gt,yt){for(var bt=gt._fullData,dt=yt._mainSubplot,Lt=yt._id.charAt(0),wt=0;wt<bt.length;wt++){var Ct=bt[wt];if(Ct.visible===!0&&Ct.xaxis+Ct.yaxis===dt&&(w.traceIs(Ct,"bar-like")&&Ct.orientation==={x:"h",y:"v"}[Lt]||Ct.fill&&Ct.fill.charAt(Ct.fill.length-1)===Lt))return!0}return!1}(je,Ue))},Q.clipEnds=function(je,Ue){return Ue.filter(function(st){return mt(je,st.x)})},Q.allowAutoMargin=function(je){for(var Ue=Q.list(je,"",!0),st=0;st<Ue.length;st++){var Ke=Ue[st];Ke.automargin&&(o.allowAutoMargin(je,nt(Ke)),Ke.mirror&&o.allowAutoMargin(je,Et(Ke))),w.getComponentMethod("rangeslider","isVisible")(Ke)&&o.allowAutoMargin(je,Rt(Ke))}},Q.swap=function(je,Ue){for(var st=function(gt,yt){var bt,dt,Lt=[];for(bt=0;bt<yt.length;bt++){var wt=[],Ct=gt._fullData[yt[bt]].xaxis,zt=gt._fullData[yt[bt]].yaxis;if(Ct&&zt){for(dt=0;dt<Lt.length;dt++)Lt[dt].x.indexOf(Ct)===-1&&Lt[dt].y.indexOf(zt)===-1||wt.push(dt);if(wt.length){var Dt,Nt=Lt[wt[0]];if(wt.length>1)for(dt=1;dt<wt.length;dt++)Dt=Lt[wt[dt]],Ft(Nt.x,Dt.x),Ft(Nt.y,Dt.y);Ft(Nt.x,[Ct]),Ft(Nt.y,[zt])}else Lt.push({x:[Ct],y:[zt]})}}return Lt}(je,Ue),Ke=0;Ke<st.length;Ke++)Pt(je,st[Ke].x,st[Ke].y)}},52976:function(U,C,e){var k=e(38248),A=e(3400),o=e(39032).BADNUM,w=A.isArrayOrTypedArray,b=A.isDateTime,f=A.cleanNumber,s=Math.round;function n(r,t){return t?k(r):typeof r=="number"}function i(r){return Math.max(1,(r-1)/1e3)}U.exports=function(r,t,a){var l=r,u=a.noMultiCategory;if(w(l)&&!l.length)return"-";if(!u&&function(v){return w(v[0])&&w(v[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var h=[],c=0;c<l.length;c++)if(w(l[c]))for(var y=0;y<l[c].length;y++)h.push(l[c][y]);l=h}if(function(v,g){for(var x=v.length,m=i(x),_=0,p=0,S={},T=0;T<x;T+=m){var E=v[s(T)],O=String(E);S[O]||(S[O]=1,b(E,g)&&_++,k(E)&&p++)}return _>2*p}(l,t))return"date";var d=a.autotypenumbers!=="strict";return function(v,g){for(var x=v.length,m=i(x),_=0,p=0,S={},T=0;T<x;T+=m){var E=v[s(T)],O=String(E);if(!S[O]){S[O]=1;var P=typeof E;P==="boolean"?p++:(g?f(E)!==o:P==="number")?_++:P==="string"&&p++}}return p>2*_}(l,d)?"category":function(v,g){for(var x=v.length,m=0;m<x;m++)if(n(v[m],g))return!0;return!1}(l,d)?"linear":"-"}},28336:function(U,C,e){var k=e(38248),A=e(24040),o=e(3400),w=e(31780),b=e(51272),f=e(94724),s=e(26332),n=e(25404),i=e(95936),r=e(42568),t=e(22416),a=e(42136),l=e(96312),u=e(78344),h=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function y(g,x,m){function _(R,H){return o.coerce(g,x,f.rangebreaks,R,H)}if(_("enabled")){var p=_("bounds");if(p&&p.length>=2){var S,T,E="";if(p.length===2){for(S=0;S<2;S++)if(T=v(p[S])){E=h;break}}var O=_("pattern",E);if(O===h)for(S=0;S<2;S++)(T=v(p[S]))&&(x.bounds[S]=p[S]=T-1);if(O)for(S=0;S<2;S++)switch(T=p[S],O){case h:if(!k(T)||(T=+T)!==Math.floor(T)||T<0||T>=7)return void(x.enabled=!1);x.bounds[S]=p[S]=T;break;case c:if(!k(T)||(T=+T)<0||T>24)return void(x.enabled=!1);x.bounds[S]=p[S]=T}if(m.autorange===!1){var P=m.range;if(P[0]<P[1]){if(p[0]<P[0]&&p[1]>P[1])return void(x.enabled=!1)}else if(p[0]>P[0]&&p[1]<P[1])return void(x.enabled=!1)}}else{var I=_("values");if(!I||!I.length)return void(x.enabled=!1);_("dvalue")}}}U.exports=function(g,x,m,_,p){var S,T=_.letter,E=_.font||{},O=_.splomStash||{},P=m("visible",!_.visibleDflt),I=x._template||{},R=x.type||I.type||"-";R==="date"&&(A.getComponentMethod("calendars","handleDefaults")(g,x,"calendar",_.calendar),_.noTicklabelmode||(S=m("ticklabelmode")));var H="";_.noTicklabelposition&&R!=="multicategory"||(H=o.coerce(g,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||m("ticklabeloverflow",H.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),u(x,p),l(g,x,m,_),t(g,x,m,_),R==="category"||_.noHover||m("hoverformat");var z=m("color"),j=z!==f.color.dflt?z:E.color,Z=O.label||p._dfltTitle[T];if(r(g,x,m,R,_),!P)return x;m("title.text",Z),o.coerceFont(m,"title.font",E,{overrideDflt:{size:o.bigFont(E.size),color:j}}),s(g,x,m,R);var F=_.hasMinor;if(F&&(w.newContainer(x,"minor"),s(g,x,m,R,{isMinor:!0})),i(g,x,m,R,_),n(g,x,m,_),F){var V=_.isMinor;_.isMinor=!0,n(g,x,m,_),_.isMinor=V}a(g,x,m,{dfltColor:z,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:F,attributes:f}),!F||x.minor.ticks||x.minor.showgrid||delete x.minor,(x.showline||x.ticks)&&m("mirror");var W,re=R==="multicategory";if(_.noTickson||R!=="category"&&!re||!x.ticks&&!x.showgrid||(re&&(W="boundaries"),m("tickson",W)==="boundaries"&&delete x.ticklabelposition),re&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),R==="date")if(b(g,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),x.rangebreaks.length){for(var ne=0;ne<x.rangebreaks.length;ne++)if(x.rangebreaks[ne].pattern===h){x._hasDayOfWeekBreaks=!0;break}if(u(x,p),p._has("scattergl")||p._has("splom"))for(var te=0;te<_.data.length;te++){var Q=_.data[te];Q.type!=="scattergl"&&Q.type!=="splom"||(Q.visible=!1,o.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(g){if(typeof g=="string")return d[g.substr(0,3).toLowerCase()]}},29736:function(U,C,e){var k=e(26880),A=k.FORMAT_LINK,o=k.DATE_FORMAT_LINK;function w(f,s){return["Sets the "+f+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+A+"."].join(" ")}function b(f,s){return w(f,s)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}U.exports={axisHoverFormat:function(f,s){return{valType:"string",dflt:"",editType:"none",description:(s?w:b)("hover text",f)+["By default the values are formatted using "+(s?"generic number format":"`"+f+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:w,descriptionWithDates:b}},79811:function(U,C,e){var k=e(24040),A=e(33816);function o(w,b){if(b&&b.length){for(var f=0;f<b.length;f++)if(b[f][w])return!0}return!1}C.id2name=function(w){if(typeof w=="string"&&w.match(A.AX_ID_PATTERN)){var b=w.split(" ")[0].substr(1);return b==="1"&&(b=""),w.charAt(0)+"axis"+b}},C.name2id=function(w){if(w.match(A.AX_NAME_PATTERN)){var b=w.substr(5);return b==="1"&&(b=""),w.charAt(0)+b}},C.cleanId=function(w,b,f){var s=/( domain)$/.test(w);if(typeof w=="string"&&w.match(A.AX_ID_PATTERN)&&(!b||w.charAt(0)===b)&&(!s||f)){var n=w.split(" ")[0].substr(1).replace(/^0+/,"");return n==="1"&&(n=""),w.charAt(0)+n+(s&&f?" domain":"")}},C.list=function(w,b,f){var s=w._fullLayout;if(!s)return[];var n,i=C.listIds(w,b),r=new Array(i.length);for(n=0;n<i.length;n++){var t=i[n];r[n]=s[t.charAt(0)+"axis"+t.substr(1)]}if(!f){var a=s._subplots.gl3d||[];for(n=0;n<a.length;n++){var l=s[a[n]];b?r.push(l[b+"axis"]):r.push(l.xaxis,l.yaxis,l.zaxis)}}return r},C.listIds=function(w,b){var f=w._fullLayout;if(!f)return[];var s=f._subplots;return b?s[b+"axis"]:s.xaxis.concat(s.yaxis)},C.getFromId=function(w,b,f){var s=w._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),f==="x"?b=b.replace(/y[0-9]*/,""):f==="y"&&(b=b.replace(/x[0-9]*/,"")),s[C.id2name(b)]},C.getFromTrace=function(w,b,f){var s=w._fullLayout,n=null;if(k.traceIs(b,"gl3d")){var i=b.scene;i.substr(0,5)==="scene"&&(n=s[i][f+"axis"])}else n=C.getFromId(w,b[f+"axis"]||f);return n},C.idSort=function(w,b){var f=w.charAt(0),s=b.charAt(0);return f!==s?f>s?1:-1:+(w.substr(1)||1)-+(b.substr(1)||1)},C.ref2id=function(w){return!!/^[xyz]/.test(w)&&w.split(" ")[0]},C.isLinked=function(w,b){return o(b,w._axisMatchGroups)||o(b,w._axisConstraintGroups)}},22416:function(U,C,e){var k=e(38116).isTypedArraySpec;U.exports=function(A,o,w,b){if(o.type==="category"){var f,s=A.categoryarray,n=Array.isArray(s)&&s.length>0||k(s);n&&(f="array");var i,r=w("categoryorder",f);r==="array"&&(i=w("categoryarray")),n||r!=="array"||(r=o.categoryorder="trace"),r==="trace"?o._initialCategories=[]:r==="array"?o._initialCategories=i.slice():(i=function(t,a){var l,u,h,c=a.dataAttr||t._id.charAt(0),y={};if(a.axData)l=a.axData;else for(l=[],u=0;u<a.data.length;u++){var d=a.data[u];d[c+"axis"]===t._id&&l.push(d)}for(u=0;u<l.length;u++){var v=l[u][c];for(h=0;h<v.length;h++){var g=v[h];g!=null&&(y[g]=1)}}return Object.keys(y)}(o,b).sort(),r==="category ascending"?o._initialCategories=i:r==="category descending"&&(o._initialCategories=i.reverse()))}}},98728:function(U,C,e){var k=e(38248),A=e(3400),o=e(39032),w=o.ONEDAY,b=o.ONEWEEK;C.dtick=function(f,s){var n=s==="log",i=s==="date",r=s==="category",t=i?w:1;if(!f)return t;if(k(f))return(f=Number(f))<=0?t:r?Math.max(1,Math.round(f)):i?Math.max(.1,f):f;if(typeof f!="string"||!i&&!n)return t;var a=f.charAt(0),l=f.substr(1);return(l=k(l)?Number(l):0)<=0||!(i&&a==="M"&&l===Math.round(l)||n&&a==="L"||n&&a==="D"&&(l===1||l===2))?t:f},C.tick0=function(f,s,n,i){return s==="date"?A.cleanDate(f,A.dateTick0(n,i%b==0?1:0)):i!=="D1"&&i!=="D2"?k(f)?Number(f):0:void 0}},33816:function(U,C,e){var k=e(53756).counter;U.exports={idRegex:{x:k("x","( domain)?"),y:k("y","( domain)?")},attrRegex:k("[xy]axis"),xAxisMatch:k("xaxis"),yAxisMatch:k("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(U,C,e){var k=e(3400),A=e(19280),o=e(79811).id2name,w=e(94724),b=e(21160),f=e(78344),s=e(39032).ALMOST_EQUAL,n=e(84284).FROM_BL;function i(c,y,d){var v=d.axIds,g=d.layoutOut,x=d.hasImage,m=g._axisConstraintGroups,_=g._axisMatchGroups,p=y._id,S=p.charAt(0),T=((g._splomAxes||{})[S]||{})[p]||{},E=y._id,O=E.charAt(0)==="x";function P($,K){return k.coerce(c,y,w,$,K)}y._matchGroup=null,y._constraintGroup=null,P("constrain",x?"domain":"range"),k.coerce(c,y,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var I,R,H=y.type,z=[];for(I=0;I<v.length;I++)(R=v[I])!==E&&g[o(R)].type===H&&z.push(R);var j=t(m,E);if(j){var Z=[];for(I=0;I<z.length;I++)j[R=z[I]]||Z.push(R);z=Z}var F,V,W=z.length;W&&(c.matches||T.matches)&&(F=k.coerce(c,y,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var re=x&&!O?y.anchor:void 0;if(W&&!F&&(c.scaleanchor||re)&&(V=k.coerce(c,y,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",re)),F){y._matchGroup=a(_,E,F,1);var ne=g[o(F)],te=r(g,y)/r(g,ne);O!==(F.charAt(0)==="x")&&(te=(O?"x":"y")+te),a(m,E,F,te)}else c.matches&&v.indexOf(c.matches)!==-1&&k.warn("ignored "+y._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(V){var Q=P("scaleratio");Q||(Q=y.scaleratio=1),a(m,E,V,Q)}else c.scaleanchor&&v.indexOf(c.scaleanchor)!==-1&&k.warn("ignored "+y._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,y){var d=y.domain;return d||(d=c[o(y.overlaying)].domain),d[1]-d[0]}function t(c,y){for(var d=0;d<c.length;d++)if(c[d][y])return c[d];return null}function a(c,y,d,v){var g,x,m,_,p,S=t(c,y);S===null?((S={})[y]=1,p=c.length,c.push(S)):p=c.indexOf(S);var T=Object.keys(S);for(g=0;g<c.length;g++)if(m=c[g],g!==p&&m[d]){var E=m[d];for(x=0;x<T.length;x++)m[_=T[x]]=l(E,l(v,S[_]));return void c.splice(p,1)}if(v!==1)for(x=0;x<T.length;x++){var O=T[x];S[O]=l(v,S[O])}S[d]=1}function l(c,y){var d,v,g="",x="";typeof c=="string"&&(d=(g=c.match(/^[xy]*/)[0]).length,c=+c.substr(d)),typeof y=="string"&&(v=(x=y.match(/^[xy]*/)[0]).length,y=+y.substr(v));var m=c*y;return d||v?d&&v&&g.charAt(0)!==x.charAt(0)?d===v?m:(d>v?g.substr(v):x.substr(d))+m:g+x+c*y:m}function u(c,y){for(var d=y._size,v=d.h/d.w,g={},x=Object.keys(c),m=0;m<x.length;m++){var _=x[m],p=c[_];if(typeof p=="string"){var S=p.match(/^[xy]*/)[0],T=S.length;p=+p.substr(T);for(var E=S.charAt(0)==="y"?v:1/v,O=0;O<T;O++)p*=E}g[_]=p}return g}function h(c,y){var d=c._inputDomain,v=n[c.constraintoward],g=d[0]+(d[1]-d[0])*v;c.domain=c._input.domain=[g+(d[0]-g)/y,g+(d[1]-g)/y],c.setScale()}C.handleDefaults=function(c,y,d){var v,g,x,m,_,p,S,T,E=d.axIds,O=d.axHasImage,P=y._axisConstraintGroups=[],I=y._axisMatchGroups=[];for(v=0;v<E.length;v++)i(_=c[m=o(E[v])],p=y[m],{axIds:E,layoutOut:y,hasImage:O[m]});function R(ne,te){for(v=0;v<ne.length;v++)for(x in g=ne[v])y[o(x)][te]=g}for(R(I,"_matchGroup"),v=0;v<P.length;v++)for(x in g=P[v])if((p=y[o(x)]).fixedrange){for(var H in g){var z=o(H);(c[z]||{}).fixedrange===!1&&k.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),y[z].fixedrange=!0}break}for(v=0;v<P.length;){for(x in g=P[v]){(p=y[o(x)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(g).length&&(P.splice(v,1),v--);break}v++}R(P,"_constraintGroup");var j=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Z=!1,F=!1;function V(){T=p[S],S==="rangebreaks"&&(F=p._hasDayOfWeekBreaks)}for(v=0;v<I.length;v++){g=I[v];for(var W=0;W<j.length;W++){var re;for(x in S=j[W],T=null,g)if(_=c[m=o(x)],p=y[m],S in p){if(!p.matches&&(re=p,S in _)){V();break}T===null&&S in _&&V()}if(S==="range"&&T&&_.range&&_.range.length===2&&_.range[0]!==null&&_.range[1]!==null&&(Z=!0),S==="autorange"&&T===null&&Z&&(T=!1),T===null&&S in re&&(T=re[S]),T!==null)for(x in g)(p=y[o(x)])[S]=S==="range"?T.slice():T,S==="rangebreaks"&&(p._hasDayOfWeekBreaks=F,f(p,y))}}},C.enforce=function(c){var y,d,v,g,x,m,_,p,S=c._fullLayout,T=S._axisConstraintGroups||[];for(y=0;y<T.length;y++){v=u(T[y],S);var E=Object.keys(v),O=1/0,P=0,I=1/0,R={},H={},z=!1;for(d=0;d<E.length;d++)H[g=E[d]]=x=S[o(g)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),R[g]=m=Math.abs(x._m)/v[g],O=Math.min(O,m),x.constrain!=="domain"&&x._constraintShrinkable||(I=Math.min(I,m)),delete x._constraintShrinkable,P=Math.max(P,m),x.constrain==="domain"&&(z=!0);if(!(O>s*P)||z){for(d=0;d<E.length;d++)if(m=R[g=E[d]],_=(x=H[g]).constrain,m!==I||_==="domain")if(p=m/I,_==="range")b(x,p);else{var j=x._inputDomain,Z=(x.domain[1]-x.domain[0])/(j[1]-j[0]),F=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((p/=Z)*F<1){x.domain=x._input.domain=j.slice(),b(x,p);continue}if(F<1&&(x.range=x._input.range=x._inputRange.slice(),p*=F),x.autorange){var V=x.r2l(x.range[0]),W=x.r2l(x.range[1]),re=(V+W)/2,ne=re,te=re,Q=Math.abs(W-re),$=re-Q*p*1.0001,K=re+Q*p*1.0001,ae=A.makePadFn(S,x,0),ue=A.makePadFn(S,x,1);h(x,p);var se,he,pe=Math.abs(x._m),de=A.concatExtremes(c,x),xe=de.min,_e=de.max;for(he=0;he<xe.length;he++)(se=xe[he].val-ae(xe[he])/pe)>$&&se<ne&&(ne=se);for(he=0;he<_e.length;he++)(se=_e[he].val+ue(_e[he])/pe)<K&&se>te&&(te=se);p/=(te-ne)/(2*Q),ne=x.l2r(ne),te=x.l2r(te),x.range=x._input.range=V<W?[ne,te]:[te,ne]}h(x,p)}}}},C.getAxisGroup=function(c,y){for(var d=c._axisMatchGroups,v=0;v<d.length;v++)if(d[v][y])return"g"+v;return y},C.clean=function(c,y){if(y._inputDomain){for(var d=!1,v=y._id,g=c._fullLayout._axisConstraintGroups,x=0;x<g.length;x++)if(g[x][v]){d=!0;break}d&&y.constrain==="domain"||(y._input.domain=y.domain=y._inputDomain,delete y._inputDomain)}}},51184:function(U,C,e){var k=e(33428),A=e(3400),o=A.numberFormat,w=e(49760),b=e(89184),f=e(24040),s=A.strTranslate,n=e(72736),i=e(76308),r=e(43616),t=e(93024),a=e(54460),l=e(93972),u=e(86476),h=e(72760),c=h.selectingOrDrawing,y=h.freeMode,d=e(84284).FROM_TL,v=e(73696),g=e(39172).redrawReglTraces,x=e(7316),m=e(79811).getFromId,_=e(22676).prepSelect,p=e(22676).clearOutline,S=e(22676).selectOnClick,T=e(21160),E=e(33816),O=E.MINDRAG,P=E.MINZOOM,I=!0;function R(se,he,pe,de){var xe=A.ensureSingle(se.draglayer,he,pe,function(_e){_e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return xe.call(l,de),xe.node()}function H(se,he,pe,de,xe,_e,be){var Le=R(se,"rect",he,pe);return k.select(Le).call(r.setRect,de,xe,_e,be),Le}function z(se,he){for(var pe=0;pe<se.length;pe++)if(!se[pe].fixedrange)return he;return""}function j(se,he,pe,de,xe){for(var _e=0;_e<se.length;_e++){var be=se[_e];if(!be.fixedrange)if(be.rangebreaks){var Le=be._id.charAt(0)==="y",De=Le?1-he:he,ye=Le?1-pe:pe;de[be._name+".range[0]"]=be.l2r(be.p2l(De*be._length)),de[be._name+".range[1]"]=be.l2r(be.p2l(ye*be._length))}else{var le=be._rl[0],oe=be._rl[1]-le;de[be._name+".range[0]"]=be.l2r(le+oe*he),de[be._name+".range[1]"]=be.l2r(le+oe*pe)}}if(xe&&xe.length){var ve=(he+(1-pe))/2;j(xe,ve,1-ve,de,[])}}function Z(se,he){for(var pe=0;pe<se.length;pe++){var de=se[pe];if(!de.fixedrange){if(de.rangebreaks){var xe=de._length,_e=(de.p2l(0+he)-de.p2l(0)+(de.p2l(xe+he)-de.p2l(xe)))/2;de.range=[de.l2r(de._rl[0]-_e),de.l2r(de._rl[1]-_e)]}else de.range=[de.l2r(de._rl[0]-he/de._m),de.l2r(de._rl[1]-he/de._m)];de.limitRange&&de.limitRange()}}}function F(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function V(se,he,pe,de,xe){return se.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(pe,de)).attr("d",xe+"Z")}function W(se,he,pe){return se.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(he,pe)).attr("d","M0,0Z")}function re(se,he,pe,de,xe,_e){se.attr("d",de+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),ne(se,he,xe,_e)}function ne(se,he,pe,de){pe||(se.transition().style("fill",de>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function te(se){k.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(se){I&&se.data&&se._context.showTips&&(A.notifier(A._(se,"Double-click to zoom back out"),"long"),I=!1)}function $(se){var he=Math.floor(Math.min(se.b-se.t,se.r-se.l,P)/2);return"M"+(se.l-3.5)+","+(se.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function K(se,he,pe,de,xe){for(var _e,be,Le,De,ye=!1,le={},oe={},ve=(xe||{}).xaHash,Ce=(xe||{}).yaHash,ke=0;ke<he.length;ke++){var Ae=he[ke];for(_e in pe)if(Ae[_e]){for(Le in Ae)xe&&(ve[Le]||Ce[Le])||(Le.charAt(0)==="x"?pe:de)[Le]||(le[Le]=_e);for(be in de)xe&&(ve[be]||Ce[be])||!Ae[be]||(ye=!0)}for(be in de)if(Ae[be])for(De in Ae)xe&&(ve[De]||Ce[De])||(De.charAt(0)==="x"?pe:de)[De]||(oe[De]=be)}ye&&(A.extendFlat(le,oe),oe={});var Ee={},ze=[];for(Le in le){var Fe=m(se,Le);ze.push(Fe),Ee[Fe._id]=Fe}var ge={},Te=[];for(De in oe){var Se=m(se,De);Te.push(Se),ge[Se._id]=Se}return{xaHash:Ee,yaHash:ge,xaxes:ze,yaxes:Te,xLinks:le,yLinks:oe,isSubplotConstrained:ye}}function ae(se,he){if(b){var pe=se.onwheel!==void 0?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(pe,se._onwheel),se._onwheel=he,se.addEventListener(pe,he,{passive:!1})}else se.onwheel!==void 0?se.onwheel=he:se.onmousewheel!==void 0?se.onmousewheel=he:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",he,{passive:!1}))}function ue(se){var he=[];for(var pe in se)he.push(se[pe]);return he}U.exports={makeDragBox:function(se,he,pe,de,xe,_e,be,Le){var De,ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe,ge,Te,Se,Re,Pe,Ve,We,Qe,lt,ut,xt,_t,mt=se._fullLayout._zoomlayer,it=be+Le==="nsew",nt=(be+Le).length===1;function Et(){if(De=he.xaxis,ye=he.yaxis,Ee=De._length,ze=ye._length,ke=De._offset,Ae=ye._offset,(le={})[De._id]=De,(oe={})[ye._id]=ye,be&&Le)for(var tn=he.overlays,fn=0;fn<tn.length;fn++){var rn=tn[fn].xaxis;le[rn._id]=rn;var pn=tn[fn].yaxis;oe[pn._id]=pn}ve=ue(le),Ce=ue(oe),Te=z(ve,Le),Se=z(Ce,be),Re=!Se&&!Te,ge=K(se,se._fullLayout._axisMatchGroups,le,oe);var wn=(Fe=K(se,se._fullLayout._axisConstraintGroups,le,oe,ge)).isSubplotConstrained||ge.isSubplotConstrained;Pe=Le||wn,Ve=be||wn;var kn=se._fullLayout;We=kn._has("scattergl"),Qe=kn._has("splom"),lt=kn._has("svg")}pe+=he.yaxis._shift,Et();var Rt=function(tn,fn,rn){return tn?tn==="nsew"?rn?"":fn==="pan"?"move":"crosshair":tn.toLowerCase()+"-resize":"pointer"}(Se+Te,se._fullLayout.dragmode,it),Ft=H(he,be+Le+"drag",Rt,pe,de,xe,_e);if(Re&&!it)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Pt,Ze,$e,He,Je,ft,ot,je,Ue,st,Ke={element:Ft,gd:se,plotinfo:he};function gt(){Ke.plotinfo.selection=!1,p(se)}function yt(tn,fn){var rn=Ke.gd;if(rn._fullLayout._activeShapeIndex>=0)rn._fullLayout._deactivateShape(rn);else{var pn=rn._fullLayout.clickmode;if(te(rn),tn!==2||nt||qt(),it)pn.indexOf("select")>-1&&S(fn,rn,ve,Ce,he.id,Ke),pn.indexOf("event")>-1&&t.click(rn,fn,he.id);else if(tn===1&&nt){var wn=be?ye:De,kn=be==="s"||Le==="w"?0:1,Pn=wn._name+".range["+kn+"]",On=function(Fn,Wn){var rr,ir=Fn.range[Wn],Jn=Math.abs(ir-Fn.range[1-Wn]);return Fn.type==="date"?ir:Fn.type==="log"?(rr=Math.ceil(Math.max(0,-Math.log(Jn)/Math.LN10))+3,o("."+rr+"g")(Math.pow(10,ir))):(rr=Math.floor(Math.log(Math.abs(ir))/Math.LN10)-Math.floor(Math.log(Jn)/Math.LN10)+4,o("."+String(rr)+"g")(ir))}(wn,kn),En="left",Vn="middle";if(wn.fixedrange)return;be?(Vn=be==="n"?"top":"bottom",wn.side==="right"&&(En="right")):Le==="e"&&(En="right"),rn._context.showAxisRangeEntryBoxes&&k.select(Ft).call(n.makeEditable,{gd:rn,immediate:!0,background:rn._fullLayout.paper_bgcolor,text:String(On),fill:wn.tickfont?wn.tickfont.color:"#444",horizontalAlign:En,verticalAlign:Vn}).on("edit",function(Fn){var Wn=wn.d2r(Fn);Wn!==void 0&&f.call("_guiRelayout",rn,Pn,Wn)})}}}function bt(tn,fn){if(se._transitioningWithDuration)return!1;var rn=Math.max(0,Math.min(Ee,xt*tn+Pt)),pn=Math.max(0,Math.min(ze,_t*fn+Ze)),wn=Math.abs(rn-Pt),kn=Math.abs(pn-Ze);function Pn(){ot="",$e.r=$e.l,$e.t=$e.b,Ue.attr("d","M0,0Z")}if($e.l=Math.min(Pt,rn),$e.r=Math.max(Pt,rn),$e.t=Math.min(Ze,pn),$e.b=Math.max(Ze,pn),Fe.isSubplotConstrained)wn>P||kn>P?(ot="xy",wn/Ee>kn/ze?(kn=wn*ze/Ee,Ze>pn?$e.t=Ze-kn:$e.b=Ze+kn):(wn=kn*Ee/ze,Pt>rn?$e.l=Pt-wn:$e.r=Pt+wn),Ue.attr("d",$($e))):Pn();else if(ge.isSubplotConstrained)if(wn>P||kn>P){ot="xy";var On=Math.min($e.l/Ee,(ze-$e.b)/ze),En=Math.max($e.r/Ee,(ze-$e.t)/ze);$e.l=On*Ee,$e.r=En*Ee,$e.b=(1-On)*ze,$e.t=(1-En)*ze,Ue.attr("d",$($e))}else Pn();else!Se||kn<Math.min(Math.max(.6*wn,O),P)?wn<O||!Te?Pn():($e.t=0,$e.b=ze,ot="x",Ue.attr("d",function(Vn,Fn){return"M"+(Vn.l-.5)+","+(Fn-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Vn.r+.5)+","+(Fn-P-.5)+"h3v"+(2*P+1)+"h-3Z"}($e,Ze))):!Te||wn<Math.min(.6*kn,P)?($e.l=0,$e.r=Ee,ot="y",Ue.attr("d",function(Vn,Fn){return"M"+(Fn-P-.5)+","+(Vn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(Fn-P-.5)+","+(Vn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}($e,Pt))):(ot="xy",Ue.attr("d",$($e)));$e.w=$e.r-$e.l,$e.h=$e.b-$e.t,ot&&(st=!0),se._dragged=st,re(je,Ue,$e,Je,ft,He),dt(),se.emit("plotly_relayouting",ut),ft=!0}function dt(){ut={},ot!=="xy"&&ot!=="x"||(j(ve,$e.l/Ee,$e.r/Ee,ut,Fe.xaxes),Kt("x",ut)),ot!=="xy"&&ot!=="y"||(j(Ce,(ze-$e.b)/ze,(ze-$e.t)/ze,ut,Fe.yaxes),Kt("y",ut))}function Lt(){dt(),te(se),Jt(),Q(se)}Ke.prepFn=function(tn,fn,rn){var pn=Ke.dragmode,wn=se._fullLayout.dragmode;wn!==pn&&(Ke.dragmode=wn),Et(),xt=se._fullLayout._invScaleX,_t=se._fullLayout._invScaleY,Re||(it?tn.shiftKey?wn==="pan"?wn="zoom":c(wn)||(wn="pan"):tn.ctrlKey&&(wn="pan"):wn="pan"),y(wn)?Ke.minDrag=1:Ke.minDrag=void 0,c(wn)?(Ke.xaxes=ve,Ke.yaxes=Ce,_(tn,fn,rn,Ke,wn)):(Ke.clickFn=yt,c(pn)&&gt(),Re||(wn==="zoom"?(Ke.moveFn=bt,Ke.doneFn=Lt,Ke.minDrag=1,function(kn,Pn,On){var En=Ft.getBoundingClientRect();Pt=Pn-En.left,Ze=On-En.top,se._fullLayout._calcInverseTransform(se);var Vn=A.apply3DTransform(se._fullLayout._invTransform)(Pt,Ze);Pt=Vn[0],Ze=Vn[1],$e={l:Pt,r:Pt,w:0,t:Ze,b:Ze,h:0},He=se._hmpixcount?se._hmlumcount/se._hmpixcount:w(se._fullLayout.plot_bgcolor).getLuminance(),ft=!1,ot="xy",st=!1,je=V(mt,He,ke,Ae,Je="M0,0H"+Ee+"V"+ze+"H0V0"),Ue=W(mt,ke,Ae)}(0,fn,rn)):wn==="pan"&&(Ke.moveFn=Nt,Ke.doneFn=Jt))),se._fullLayout._redrag=function(){var kn=se._dragdata;if(kn&&kn.element===Ft){var Pn=se._fullLayout.dragmode;c(Pn)||(Et(),Ut([0,0,Ee,ze]),Ke.moveFn(kn.dx,kn.dy))}}},u.init(Ke);var wt=[0,0,Ee,ze],Ct=null,zt=E.REDRAWDELAY,Dt=he.mainplot?se._fullLayout._plots[he.mainplot]:he;function Nt(tn,fn){if(tn*=xt,fn*=_t,!se._transitioningWithDuration){if(se._fullLayout._replotting=!0,Te==="ew"||Se==="ns"){var rn=Te?-tn:0,pn=Se?-fn:0;if(ge.isSubplotConstrained){if(Te&&Se){var wn=(tn/Ee-fn/ze)/2;rn=-(tn=wn*Ee),pn=-(fn=-wn*ze)}Se?rn=-pn*Ee/ze:pn=-rn*ze/Ee}return Te&&(Z(ve,tn),Kt("x")),Se&&(Z(Ce,fn),Kt("y")),Ut([rn,pn,Ee,ze]),un(),void se.emit("plotly_relayouting",ut)}var kn,Pn,On=Te==="w"==(Se==="n")?1:-1;if(Te&&Se&&(Fe.isSubplotConstrained||ge.isSubplotConstrained)){var En=(tn/Ee+On*fn/ze)/2;tn=En*Ee,fn=On*En*ze}if(Te==="w"?tn=rr(ve,0,tn):Te==="e"?tn=rr(ve,1,-tn):Te||(tn=0),Se==="n"?fn=rr(Ce,1,fn):Se==="s"?fn=rr(Ce,0,-fn):Se||(fn=0),kn=Te==="w"?tn:0,Pn=Se==="n"?fn:0,Fe.isSubplotConstrained&&!ge.isSubplotConstrained||ge.isSubplotConstrained&&Te&&Se&&On>0){var Vn;if(ge.isSubplotConstrained||!Te&&Se.length===1){for(Vn=0;Vn<ve.length;Vn++)ve[Vn].range=ve[Vn]._r.slice(),T(ve[Vn],1-fn/ze);kn=(tn=fn*Ee/ze)/2}if(ge.isSubplotConstrained||!Se&&Te.length===1){for(Vn=0;Vn<Ce.length;Vn++)Ce[Vn].range=Ce[Vn]._r.slice(),T(Ce[Vn],1-tn/Ee);Pn=(fn=tn*ze/Ee)/2}}ge.isSubplotConstrained&&Se||Kt("x"),ge.isSubplotConstrained&&Te||Kt("y");var Fn=Ee-tn,Wn=ze-fn;!ge.isSubplotConstrained||Te&&Se||(Te?(Pn=kn?0:tn*ze/Ee,Wn=Fn*ze/Ee):(kn=Pn?0:fn*Ee/ze,Fn=Wn*Ee/ze)),Ut([kn,Pn,Fn,Wn]),un(),se.emit("plotly_relayouting",ut)}function rr(ir,Jn,dr){for(var nn,an,In=1-Jn,yn=0;yn<ir.length;yn++){var Dn=ir[yn];if(!Dn.fixedrange){nn=Dn,an=Dn._rl[In]+(Dn._rl[Jn]-Dn._rl[In])/F(dr/Dn._length);var Zn=Dn.l2r(an);Zn!==!1&&Zn!==void 0&&(Dn.range[Jn]=Zn)}}return nn._length*(nn._rl[Jn]-an)/(nn._rl[Jn]-nn._rl[In])}}function Kt(tn,fn){for(var rn=ge.isSubplotConstrained?{x:Ce,y:ve}[tn]:ge[tn+"axes"],pn=ge.isSubplotConstrained?{x:ve,y:Ce}[tn]:[],wn=0;wn<rn.length;wn++){var kn=rn[wn],Pn=kn._id,On=ge.xLinks[Pn]||ge.yLinks[Pn],En=pn[0]||le[On]||oe[On];En&&(fn?(fn[kn._name+".range[0]"]=fn[En._name+".range[0]"],fn[kn._name+".range[1]"]=fn[En._name+".range[1]"]):kn.range=En.range.slice())}}function un(){var tn,fn=[];function rn(Pn){for(tn=0;tn<Pn.length;tn++)Pn[tn].fixedrange||fn.push(Pn[tn]._id)}function pn(Pn,On){for(tn=0;tn<Pn.length;tn++){var En=Pn[tn],Vn=En[On];En.fixedrange||Vn.tickmode!=="sync"||fn.push(Vn._id)}}for(Pe&&(rn(ve),rn(Fe.xaxes),rn(ge.xaxes),pn(he.overlays,"xaxis")),Ve&&(rn(Ce),rn(Fe.yaxes),rn(ge.yaxes),pn(he.overlays,"yaxis")),ut={},tn=0;tn<fn.length;tn++){var wn=fn[tn],kn=m(se,wn);a.drawOne(se,kn,{skipTitle:!0}),ut[kn._name+".range[0]"]=kn.range[0],ut[kn._name+".range[1]"]=kn.range[1]}a.redrawComponents(se,fn)}function qt(){if(!se._transitioningWithDuration){var tn=se._context.doubleClick,fn=[];Te&&(fn=fn.concat(ve)),Se&&(fn=fn.concat(Ce)),ge.xaxes&&(fn=fn.concat(ge.xaxes)),ge.yaxes&&(fn=fn.concat(ge.yaxes));var rn,pn,wn={};if(tn==="reset+autosize")for(tn="autosize",pn=0;pn<fn.length;pn++){var kn=(rn=fn[pn])._rangeInitial0,Pn=rn._rangeInitial1,On=kn!==void 0||Pn!==void 0;if(On&&(kn!==void 0&&kn!==rn.range[0]||Pn!==void 0&&Pn!==rn.range[1])||!On&&rn.autorange!==!0){tn="reset";break}}if(tn==="autosize")for(pn=0;pn<fn.length;pn++)(rn=fn[pn]).fixedrange||(wn[rn._name+".autorange"]=!0);else if(tn==="reset"){for((Te||Fe.isSubplotConstrained)&&(fn=fn.concat(Fe.xaxes)),Se&&!Fe.isSubplotConstrained&&(fn=fn.concat(Fe.yaxes)),Fe.isSubplotConstrained&&(Te?Se||(fn=fn.concat(Ce)):fn=fn.concat(ve)),pn=0;pn<fn.length;pn++)if(!(rn=fn[pn]).fixedrange){var En=rn._name,Vn=rn._autorangeInitial;rn._rangeInitial0===void 0&&rn._rangeInitial1===void 0?wn[En+".autorange"]=!0:rn._rangeInitial0===void 0?(wn[En+".autorange"]=Vn,wn[En+".range"]=[null,rn._rangeInitial1]):rn._rangeInitial1===void 0?(wn[En+".range"]=[rn._rangeInitial0,null],wn[En+".autorange"]=Vn):wn[En+".range"]=[rn._rangeInitial0,rn._rangeInitial1]}}se.emit("plotly_doubleclick",null),f.call("_guiRelayout",se,wn)}}function Jt(){Ut([0,0,Ee,ze]),A.syncOrAsync([x.previousPromises,function(){se._fullLayout._replotting=!1,f.call("_guiRelayout",se,ut)}],se)}function Ut(tn){var fn,rn,pn,wn,kn=se._fullLayout,Pn=kn._plots,On=kn._subplots.cartesian;if(Qe&&f.subplotsRegistry.splom.drag(se),We){for(fn=0;fn<On.length;fn++)if(pn=(rn=Pn[On[fn]]).xaxis,wn=rn.yaxis,rn._scene){var En=A.simpleMap(pn.range,pn.r2l),Vn=A.simpleMap(wn.range,wn.r2l);pn.limitRange&&pn.limitRange(),wn.limitRange&&wn.limitRange(),En=pn.range,Vn=wn.range,rn._scene.update({range:[En[0],Vn[0],En[1],Vn[1]]})}}if((Qe||We)&&(v(se),g(se)),lt){var Fn=tn[2]/De._length,Wn=tn[3]/ye._length;for(fn=0;fn<On.length;fn++){pn=(rn=Pn[On[fn]]).xaxis,wn=rn.yaxis;var rr,ir,Jn,dr,nn=(Pe||ge.isSubplotConstrained)&&!pn.fixedrange&&le[pn._id],an=(Ve||ge.isSubplotConstrained)&&!wn.fixedrange&&oe[wn._id];if(nn?(rr=Fn,Jn=Le||ge.isSubplotConstrained?tn[0]:mn(pn,rr)):ge.xaHash[pn._id]?(rr=Fn,Jn=tn[0]*pn._length/De._length):ge.yaHash[pn._id]?(rr=Wn,Jn=Se==="ns"?-tn[1]*pn._length/ye._length:mn(pn,rr,{n:"top",s:"bottom"}[Se])):Jn=An(pn,rr=zn(pn,Fn,Wn)),rr>1&&(pn.maxallowed!==void 0&&Pe===(pn.range[0]<pn.range[1]?"e":"w")||pn.minallowed!==void 0&&Pe===(pn.range[0]<pn.range[1]?"w":"e"))&&(rr=1,Jn=0),an?(ir=Wn,dr=be||ge.isSubplotConstrained?tn[1]:mn(wn,ir)):ge.yaHash[wn._id]?(ir=Wn,dr=tn[1]*wn._length/ye._length):ge.xaHash[wn._id]?(ir=Fn,dr=Te==="ew"?-tn[0]*wn._length/De._length:mn(wn,ir,{e:"right",w:"left"}[Te])):dr=An(wn,ir=zn(wn,Fn,Wn)),ir>1&&(wn.maxallowed!==void 0&&Ve===(wn.range[0]<wn.range[1]?"n":"s")||wn.minallowed!==void 0&&Ve===(wn.range[0]<wn.range[1]?"s":"n"))&&(ir=1,dr=0),rr||ir){rr||(rr=1),ir||(ir=1);var In=pn._offset-Jn/rr,yn=wn._offset-dr/ir;rn.clipRect.call(r.setTranslate,Jn,dr).call(r.setScale,rr,ir),rn.plot.call(r.setTranslate,In,yn).call(r.setScale,1/rr,1/ir),rr===rn.xScaleFactor&&ir===rn.yScaleFactor||(r.setPointGroupScale(rn.zoomScalePts,rr,ir),r.setTextPointsScale(rn.zoomScaleTxt,rr,ir)),r.hideOutsideRangePoints(rn.clipOnAxisFalseTraces,rn),rn.xScaleFactor=rr,rn.yScaleFactor=ir}}}}function zn(tn,fn,rn){return tn.fixedrange?0:Pe&&Fe.xaHash[tn._id]?fn:Ve&&(Fe.isSubplotConstrained?Fe.xaHash:Fe.yaHash)[tn._id]?rn:0}function An(tn,fn){return fn?(tn.range=tn._r.slice(),T(tn,fn),mn(tn,fn)):0}function mn(tn,fn,rn){return tn._length*(1-fn)*d[rn||tn.constraintoward||"middle"]}return be.length*Le.length!=1&&ae(Ft,function(tn){if(se._context._scrollZoom.cartesian||se._fullLayout._enablescrollzoom){if(gt(),se._transitioningWithDuration)return tn.preventDefault(),void tn.stopPropagation();Et(),clearTimeout(Ct);var fn=-tn.deltaY;if(isFinite(fn)||(fn=tn.wheelDelta/10),isFinite(fn)){var rn,pn=Math.exp(-Math.min(Math.max(fn,-20),20)/200),wn=Dt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),kn=(tn.clientX-wn.left)/wn.width,Pn=(wn.bottom-tn.clientY)/wn.height;if(Pe){for(Le||(kn=.5),rn=0;rn<ve.length;rn++)On(ve[rn],kn,pn);Kt("x"),wt[2]*=pn,wt[0]+=wt[2]*kn*(1/pn-1)}if(Ve){for(be||(Pn=.5),rn=0;rn<Ce.length;rn++)On(Ce[rn],Pn,pn);Kt("y"),wt[3]*=pn,wt[1]+=wt[3]*(1-Pn)*(1/pn-1)}Ut(wt),un(),se.emit("plotly_relayouting",ut),Ct=setTimeout(function(){se._fullLayout&&(wt=[0,0,Ee,ze],Jt())},zt),tn.preventDefault()}else A.log("Did not find wheel motion attributes: ",tn)}function On(En,Vn,Fn){if(!En.fixedrange){var Wn=A.simpleMap(En.range,En.r2l),rr=Wn[0]+(Wn[1]-Wn[0])*Vn;En.range=Wn.map(function(ir){return En.l2r(rr+(ir-rr)*Fn)})}}}),Ft},makeDragger:R,makeRectDragger:H,makeZoombox:V,makeCorners:W,updateZoombox:re,xyCorners:$,transitionZoombox:ne,removeZoombox:te,showDoubleClickNotifier:Q,attachWheelEventHandler:ae}},42464:function(U,C,e){var k=e(33428),A=e(93024),o=e(86476),w=e(93972),b=e(51184).makeDragBox,f=e(33816).DRAGGERSIZE;C.initInteractions=function(s){var n=s._fullLayout;if(s._context.staticPlot)k.select(s).selectAll(".drag").remove();else if(n._has("cartesian")||n._has("splom")){Object.keys(n._plots||{}).sort(function(r,t){if((n._plots[r].mainplot&&!0)===(n._plots[t].mainplot&&!0)){var a=r.split("y"),l=t.split("y");return a[0]===l[0]?Number(a[1]||1)-Number(l[1]||1):Number(a[0]||1)-Number(l[0]||1)}return n._plots[r].mainplot?1:-1}).forEach(function(r){var t=n._plots[r],a=t.xaxis,l=t.yaxis;if(!t.mainplot){var u=b(s,t,a._offset,l._offset,a._length,l._length,"ns","ew");u.onmousemove=function(y){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===r&&s._fullLayout._plots[r]&&A.hover(s,y,r)},A.hover(s,y,r),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=r},u.onmouseout=function(y){s._dragging||(s._fullLayout._hoversubplot=null,o.unhover(s,y))},s._context.showAxisDragHandles&&(b(s,t,a._offset-f,l._offset-f,f,f,"n","w"),b(s,t,a._offset+a._length,l._offset-f,f,f,"n","e"),b(s,t,a._offset-f,l._offset+l._length,f,f,"s","w"),b(s,t,a._offset+a._length,l._offset+l._length,f,f,"s","e"))}if(s._context.showAxisDragHandles){if(r===a._mainSubplot){var h=a._mainLinePosition;a.side==="top"&&(h-=f),b(s,t,a._offset+.1*a._length,h,.8*a._length,f,"","ew"),b(s,t,a._offset,h,.1*a._length,f,"","w"),b(s,t,a._offset+.9*a._length,h,.1*a._length,f,"","e")}if(r===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=f),b(s,t,c,l._offset+.1*l._length,f,.8*l._length,"ns",""),b(s,t,c,l._offset+.9*l._length,f,.1*l._length,"s",""),b(s,t,c,l._offset,f,.1*l._length,"n","")}}});var i=n._hoverlayer.node();i.onmousemove=function(r){r.target=s._fullLayout._lasthover,A.hover(s,r,n._hoversubplot)},i.onclick=function(r){r.target=s._fullLayout._lasthover,A.click(s,r)},i.onmousedown=function(r){s._fullLayout._lasthover.onmousedown(r)},C.updateFx(s)}},C.updateFx=function(s){var n=s._fullLayout,i=n.dragmode==="pan"?"move":"crosshair";w(n._draggers,i)}},36632:function(U,C,e){var k=e(24040),A=e(3400),o=e(79811);U.exports=function(w){return function(b,f){var s=b[w];if(Array.isArray(s))for(var n=k.subplotsRegistry.cartesian,i=n.idRegex,r=f._subplots,t=r.xaxis,a=r.yaxis,l=r.cartesian,u=f._has("cartesian")||f._has("gl2d"),h=0;h<s.length;h++){var c=s[h];if(A.isPlainObject(c)){var y=o.cleanId(c.xref,"x",!1),d=o.cleanId(c.yref,"y",!1),v=i.x.test(y),g=i.y.test(d);if(v||g){u||A.pushUnique(f._basePlotModules,n);var x=!1;v&&t.indexOf(y)===-1&&(t.push(y),x=!0),g&&a.indexOf(d)===-1&&(a.push(d),x=!0),x&&v&&g&&l.push(y+d)}}}}}},57952:function(U,C,e){var k=e(33428),A=e(24040),o=e(3400),w=e(7316),b=e(43616),f=e(84888)._M,s=e(79811),n=e(33816),i=e(9616),r=o.ensureSingle;function t(c,y,d){return o.ensureSingle(c,y,d,function(v){v.datum(d)})}function a(c,y,d,v,g){for(var x,m,_,p=n.traceLayerClasses,S=c._fullLayout,T=S._modules,E={},O=0;O<d.length;O++){var P=d[O][0].trace.zorder||0;E[P]||(E[P]=[]),E[P].push(d[O])}for(var I=[],R=[],H=Object.keys(E).map(Number).sort(o.sorterAsc),z=0;z<H.length;z++)for(var j=H[z],Z=0;Z<T.length;Z++){var F=(x=T[Z]).name,V=A.modules[F].categories;if(V.svg){var W=x.layerName||F+"layer",re=W+(z?Number(z)+1:""),ne=x.plot;_=(m=f(d,ne,j))[0],d=m[1],_.length&&I.push({i:p.indexOf(W),zorder:z,className:re,plotMethod:ne,cdModule:_}),V.zoomScale&&R.push("."+re)}}I.sort(function($,K){return($.zorder||0)-(K.zorder||0)||$.i-K.i});var te=y.plot.selectAll("g.mlayer").data(I,function($){return $.className});if(te.enter().append("g").attr("class",function($){return $.className}).classed("mlayer",!0).classed("rangeplot",y.isRangePlot),te.exit().remove(),te.order(),te.each(function($){var K=k.select(this),ae=$.className;$.plotMethod(c,y,$.cdModule,K,v,g),n.clipOnAxisFalseQuery.indexOf("."+ae)===-1&&b.setClipUrl(K,y.layerClipId,c)}),S._has("scattergl")&&(x=A.getModule("scattergl"),_=f(d,x)[0],x.plot(c,y,_)),!c._context.staticPlot&&(y._hasClipOnAxisFalse&&(y.clipOnAxisFalseTraces=y.plot.selectAll(n.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var Q=y.plot.selectAll(R.join(",")).selectAll(".trace");y.zoomScalePts=Q.selectAll("path.point"),y.zoomScaleTxt=Q.selectAll(".textpoint")}}function l(c,y){var d=y.plotgroup,v=y.id,g=n.layerValue2layerClass[y.xaxis.layer],x=n.layerValue2layerClass[y.yaxis.layer],m=c._fullLayout._hasOnlyLargeSploms;if(y.mainplot){var _=y.mainplotinfo,p=_.plotgroup,S=v+"-x",T=v+"-y";y.minorGridlayer=_.minorGridlayer,y.gridlayer=_.gridlayer,y.zerolinelayer=_.zerolinelayer,r(_.overlinesBelow,"path",S),r(_.overlinesBelow,"path",T),r(_.overaxesBelow,"g",S),r(_.overaxesBelow,"g",T),y.plot=r(_.overplot,"g",v),r(_.overlinesAbove,"path",S),r(_.overlinesAbove,"path",T),r(_.overaxesAbove,"g",S),r(_.overaxesAbove,"g",T),y.xlines=p.select(".overlines-"+g).select("."+S),y.ylines=p.select(".overlines-"+x).select("."+T),y.xaxislayer=p.select(".overaxes-"+g).select("."+S),y.yaxislayer=p.select(".overaxes-"+x).select("."+T)}else if(m)y.xlines=r(d,"path","xlines-above"),y.ylines=r(d,"path","ylines-above"),y.xaxislayer=r(d,"g","xaxislayer-above"),y.yaxislayer=r(d,"g","yaxislayer-above");else{var E=r(d,"g","layer-subplot");y.shapelayer=r(E,"g","shapelayer"),y.imagelayer=r(E,"g","imagelayer"),y.minorGridlayer=r(d,"g","minor-gridlayer"),y.gridlayer=r(d,"g","gridlayer"),y.zerolinelayer=r(d,"g","zerolinelayer");var O=r(d,"g","layer-between");y.shapelayerBetween=r(O,"g","shapelayer"),y.imagelayerBetween=r(O,"g","imagelayer"),r(d,"path","xlines-below"),r(d,"path","ylines-below"),y.overlinesBelow=r(d,"g","overlines-below"),r(d,"g","xaxislayer-below"),r(d,"g","yaxislayer-below"),y.overaxesBelow=r(d,"g","overaxes-below"),y.plot=r(d,"g","plot"),y.overplot=r(d,"g","overplot"),y.xlines=r(d,"path","xlines-above"),y.ylines=r(d,"path","ylines-above"),y.overlinesAbove=r(d,"g","overlines-above"),r(d,"g","xaxislayer-above"),r(d,"g","yaxislayer-above"),y.overaxesAbove=r(d,"g","overaxes-above"),y.xlines=d.select(".xlines-"+g),y.ylines=d.select(".ylines-"+x),y.xaxislayer=d.select(".xaxislayer-"+g),y.yaxislayer=d.select(".yaxislayer-"+x)}m||(t(y.minorGridlayer,"g",y.xaxis._id),t(y.minorGridlayer,"g",y.yaxis._id),y.minorGridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort),t(y.gridlayer,"g",y.xaxis._id),t(y.gridlayer,"g",y.yaxis._id),y.gridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort)),y.xlines.style("fill","none").classed("crisp",!0),y.ylines.style("fill","none").classed("crisp",!0)}function u(c,y){if(c){var d={};for(var v in c.each(function(_){var p=_[0];k.select(this).remove(),h(p,y),d[p]=!0}),y._plots)for(var g=y._plots[v].overlays||[],x=0;x<g.length;x++){var m=g[x];d[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(c,y){y._draggers.selectAll("g."+c).remove(),y._defs.select("#clip"+y._uid+c+"plot").remove()}C.name="cartesian",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=n.idRegex,C.attrRegex=n.attrRegex,C.attributes=e(26720),C.layoutAttributes=e(94724),C.supplyLayoutDefaults=e(67352),C.transitionAxes=e(73736),C.finalizeSubplots=function(c,y){var d,v,g,x=y._subplots,m=x.xaxis,_=x.yaxis,p=x.cartesian,S=p.concat(x.gl2d||[]),T={},E={};for(d=0;d<S.length;d++){var O=S[d].split("y");T[O[0]]=1,E["y"+O[1]]=1}for(d=0;d<m.length;d++)T[v=m[d]]||(g=(c[s.id2name(v)]||{}).anchor,n.idRegex.y.test(g)||(g="y"),p.push(v+g),S.push(v+g),E[g]||(E[g]=1,o.pushUnique(_,g)));for(d=0;d<_.length;d++)E[g=_[d]]||(v=(c[s.id2name(g)]||{}).anchor,n.idRegex.x.test(v)||(v="x"),p.push(v+g),S.push(v+g),T[v]||(T[v]=1,o.pushUnique(m,v)));if(!S.length){for(var P in v="",g="",c)n.attrRegex.test(P)&&(P.charAt(0)==="x"?(!v||+P.substr(5)<+v.substr(5))&&(v=P):(!g||+P.substr(5)<+g.substr(5))&&(g=P));v=v?s.name2id(v):"x",g=g?s.name2id(g):"y",m.push(v),_.push(g),p.push(v+g)}},C.plot=function(c,y,d,v){var g,x=c._fullLayout,m=x._subplots.cartesian,_=c.calcdata;if(!Array.isArray(y))for(y=[],g=0;g<_.length;g++)y.push(g);for(g=0;g<m.length;g++){for(var p,S=m[g],T=x._plots[S],E=[],O=0;O<_.length;O++){var P=_[O],I=P[0].trace;I.xaxis+I.yaxis===S&&((y.indexOf(I.index)!==-1||I.carpet)&&(p&&p[0].trace.xaxis+p[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&E.indexOf(p)===-1&&E.push(p),E.push(P)),p=P)}a(c,T,E,d,v)}},C.clean=function(c,y,d,v){var g,x,m,_=v._plots||{},p=y._plots||{},S=v._subplots||{};if(v._hasOnlyLargeSploms&&!y._hasOnlyLargeSploms)for(m in _)(g=_[m]).plotgroup&&g.plotgroup.remove();var T=v._has&&v._has("gl"),E=y._has&&y._has("gl");if(T&&!E)for(m in _)(g=_[m])._scene&&g._scene.destroy();if(S.xaxis&&S.yaxis){var O=s.listIds({_fullLayout:v});for(x=0;x<O.length;x++){var P=O[x];y[s.id2name(P)]||v._infolayer.selectAll(".g-"+P+"title").remove()}}var I=v._has&&v._has("cartesian"),R=y._has&&y._has("cartesian");if(I&&!R)u(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(S.cartesian)for(x=0;x<S.cartesian.length;x++){var H=S.cartesian[x];if(!p[H]){var z="."+H+",."+H+"-x,."+H+"-y";v._cartesianlayer.selectAll(z).remove(),h(H,v)}}},C.drawFramework=function(c){var y=c._fullLayout,d=function(g){var x,m,_,p,S,T,E=g._fullLayout,O=E._subplots.cartesian,P=O.length,I=[],R=[];for(x=0;x<P;x++){_=O[x],S=(p=E._plots[_]).xaxis,T=p.yaxis;var H=S._mainAxis,z=T._mainAxis,j=H._id+z._id,Z=E._plots[j];p.overlays=[],j!==_&&Z?(p.mainplot=j,p.mainplotinfo=Z,R.push(_)):(p.mainplot=void 0,p.mainplotinfo=void 0,I.push(_))}for(x=0;x<R.length;x++)_=R[x],(p=E._plots[_]).mainplotinfo.overlays.push(p);var F=I.concat(R),V=new Array(P);for(x=0;x<P;x++){_=F[x],S=(p=E._plots[_]).xaxis,T=p.yaxis;var W=[_,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(m=0;m<p.overlays.length;m++)W.push(p.overlays[m].id);V[x]=W}return V}(c),v=y._cartesianlayer.selectAll(".subplot").data(d,String);v.enter().append("g").attr("class",function(g){return"subplot "+g[0]}),v.order(),v.exit().call(u,y),v.each(function(g){var x=g[0],m=y._plots[x];m.plotgroup=k.select(this),l(c,m),m.draglayer=r(y._draggers,"g",x)})},C.rangePlot=function(c,y,d){l(c,y),a(c,y,d),w.style(c)},C.toSVG=function(c){var y=c._fullLayout._glimages,d=k.select(c).selectAll(".svg-container");d.filter(function(v,g){return g===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var v=this,g=v.toDataURL("image/png");y.append("svg:image").attr({xmlns:i.svg,"xlink:href":g,preserveAspectRatio:"none",x:0,y:0,width:v.style.width,height:v.style.height})})},C.updateFx=e(42464).updateFx},94724:function(U,C,e){var k=e(25376),A=e(22548),o=e(98192).u,w=e(92880).extendFlat,b=e(31780).templatedArray,f=e(29736).descriptionWithDates,s=e(39032).ONEDAY,n=e(33816),i=n.HOUR_PATTERN,r=n.WEEKDAY_PATTERN,t={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},a=w({},t,{values:t.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},y={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function v(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var g={valType:"color",dflt:A.defaultLine,editType:"ticks"},x={valType:"color",dflt:A.lightLine,editType:"ticks"};function m(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var _=w({},o,{editType:"ticks"}),p={valType:"boolean",editType:"ticks"};U.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:A.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:k({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:a,nticks:l(),tick0:u,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:y,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:v(),tickcolor:g,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:w({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:k({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:A.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:p,gridcolor:x,gridwidth:m(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:A.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:A.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},minor:{tickmode:t,nticks:l("minor"),tick0:u,dtick:h,tickvals:c,ticks:y,ticklen:d("minor"),tickwidth:v("minor"),tickcolor:g,gridcolor:x,gridwidth:m("minor"),griddash:_,showgrid:p,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:k({editType:"ticks"})}}},67352:function(U,C,e){var k=e(3400),A=e(76308),o=e(10624).isUnifiedHover,w=e(41008),b=e(31780),f=e(64859),s=e(94724),n=e(14944),i=e(28336),r=e(71888),t=e(37668),a=e(79811),l=a.id2name,u=a.name2id,h=e(33816).AX_ID_PATTERN,c=e(24040),y=c.traceIs,d=c.getComponentMethod;function v(g,x,m){Array.isArray(g[x])?g[x].push(m):g[x]=[m]}U.exports=function(g,x,m){var _,p,S=x.autotypenumbers,T={},E={},O={},P={},I={},R={},H={},z={},j={},Z={};for(_=0;_<m.length;_++){var F=m[_];if(y(F,"cartesian")||y(F,"gl2d")){var V,W;if(F.xaxis)V=l(F.xaxis),v(T,V,F);else if(F.xaxes)for(p=0;p<F.xaxes.length;p++)v(T,l(F.xaxes[p]),F);if(F.yaxis)W=l(F.yaxis),v(T,W,F);else if(F.yaxes)for(p=0;p<F.yaxes.length;p++)v(T,l(F.yaxes[p]),F);F.type==="funnel"?F.orientation==="h"?(V&&(E[V]=!0),W&&(H[W]=!0)):W&&(O[W]=!0):F.type==="image"?(W&&(z[W]=!0),V&&(z[V]=!0)):(W&&(I[W]=!0,R[W]=!0),y(F,"carpet")&&(F.type!=="carpet"||F._cheater)||V&&(P[V]=!0)),F.type==="carpet"&&F._cheater&&V&&(E[V]=!0),y(F,"2dMap")&&(j[V]=!0,j[W]=!0),y(F,"oriented")&&(Z[F.orientation==="h"?W:V]=!0)}}var re=x._subplots,ne=re.xaxis,te=re.yaxis,Q=k.simpleMap(ne,l),$=k.simpleMap(te,l),K=Q.concat($),ae=A.background;ne.length&&te.length&&(ae=k.coerce(g,x,f,"plot_bgcolor"));var ue,se,he,pe,de,xe=A.combine(ae,x.paper_bgcolor);function _e(){var nt=T[ue]||[];de._traceIndices=nt.map(function(Et){return Et._expandedIndex}),de._annIndices=[],de._shapeIndices=[],de._selectionIndices=[],de._imgIndices=[],de._subplotsWith=[],de._counterAxes=[],de._name=de._attr=ue,de._id=se}function be(nt,Et){return k.coerce(pe,de,s,nt,Et)}function Le(nt,Et){return k.coerce2(pe,de,s,nt,Et)}function De(nt){return nt==="x"?te:ne}function ye(nt,Et){for(var Rt=nt==="x"?Q:$,Ft=[],Pt=0;Pt<Rt.length;Pt++){var Ze=Rt[Pt];Ze===Et||(g[Ze]||{}).overlaying||Ft.push(u(Ze))}return Ft}var le={x:De("x"),y:De("y")},oe=le.x.concat(le.y),ve={},Ce=[];function ke(){var nt=pe.matches;h.test(nt)&&oe.indexOf(nt)===-1&&(ve[nt]=pe.type,Ce=Object.keys(ve))}var Ae=w(g,x),Ee=o(Ae);for(_=0;_<K.length;_++){ue=K[_],se=u(ue),he=ue.charAt(0),k.isPlainObject(g[ue])||(g[ue]={}),pe=g[ue],de=b.newContainer(x,ue,he+"axis"),_e();var ze=he==="x"&&!P[ue]&&E[ue]||he==="y"&&!I[ue]&&O[ue],Fe=he==="y"&&(!R[ue]&&H[ue]||z[ue]),ge={hasMinor:!0,letter:he,font:x.font,outerTicks:j[ue],showGrid:!Z[ue],data:T[ue]||[],bgColor:xe,calendar:x.calendar,automargin:!0,visibleDflt:ze,reverseDflt:Fe,autotypenumbersDflt:S,splomStash:((x._splomAxes||{})[he]||{})[se],noAutotickangles:he==="y"};be("uirevision",x.uirevision),n(pe,de,be,ge),i(pe,de,be,ge,x);var Te=Ee&&he===Ae.charAt(0),Se=Le("spikecolor",Ee?de.color:void 0),Re=Le("spikethickness",Ee?1.5:void 0),Pe=Le("spikedash",Ee?"dot":void 0),Ve=Le("spikemode",Ee?"across":void 0),We=Le("spikesnap");be("showspikes",!!(Te||Se||Re||Pe||Ve||We))||(delete de.spikecolor,delete de.spikethickness,delete de.spikedash,delete de.spikemode,delete de.spikesnap);var Qe=l(pe.overlaying),lt=[0,1];if(x[Qe]!==void 0){var ut=l(x[Qe].anchor);x[ut]!==void 0&&(lt=x[ut].domain)}t(pe,de,be,{letter:he,counterAxes:le[he],overlayableAxes:ye(he,ue),grid:x.grid,overlayingDomain:lt}),be("title.standoff"),ke(),de._input=pe}for(_=0;_<Ce.length;){se=Ce[_++],he=(ue=l(se)).charAt(0),k.isPlainObject(g[ue])||(g[ue]={}),pe=g[ue],de=b.newContainer(x,ue,he+"axis"),_e();var xt={letter:he,font:x.font,outerTicks:j[ue],showGrid:!Z[ue],data:[],bgColor:xe,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((x._splomAxes||{})[he]||{})[se]};be("uirevision",x.uirevision),de.type=ve[se]||"linear",i(pe,de,be,xt,x),t(pe,de,be,{letter:he,counterAxes:le[he],overlayableAxes:ye(he,ue),grid:x.grid}),be("fixedrange"),ke(),de._input=pe}var _t=d("rangeslider","handleDefaults"),mt=d("rangeselector","handleDefaults");for(_=0;_<Q.length;_++)ue=Q[_],pe=g[ue],de=x[ue],_t(g,x,ue),de.type==="date"&&mt(pe,de,x,$,de.calendar),be("fixedrange");for(_=0;_<$.length;_++){ue=$[_],pe=g[ue],de=x[ue];var it=x[l(de.anchor)];be("fixedrange",d("rangeslider","isVisible")(it))}r.handleDefaults(g,x,{axIds:oe.concat(Ce).sort(a.idSort),axHasImage:z})}},42136:function(U,C,e){var k=e(49760).mix,A=e(22548),o=e(3400);U.exports=function(w,b,f,s){var n=(s=s||{}).dfltColor;function i(g,x){return o.coerce2(w,b,s.attributes,g,x)}var r=i("linecolor",n),t=i("linewidth");f("showline",s.showLine||!!r||!!t)||(delete b.linecolor,delete b.linewidth);var a=i("gridcolor",k(n,s.bgColor,s.blend||A.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(f("showgrid",s.showGrid||!!a||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),s.hasMinor){var h=i("minor.gridcolor",k(b.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),y=i("minor.griddash",b.griddash||"solid");f("minor.showgrid",!!h||!!c||!!y)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!s.noZeroLine){var d=i("zerolinecolor",n),v=i("zerolinewidth");f("zeroline",s.showGrid||!!d||!!v)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},37668:function(U,C,e){var k=e(38248),A=e(3400);U.exports=function(o,w,b,f){var s,n,i,r,t,a,l=f.counterAxes||[],u=f.overlayableAxes||[],h=f.letter,c=f.grid,y=f.overlayingDomain;c&&(n=c._domains[h][c._axisMap[w._id]],s=c._anchors[w._id],n&&(i=c[h+"side"].split(" ")[0],r=c.domain[h][i==="right"||i==="top"?1:0])),n=n||[0,1],s=s||(k(o.position)?"free":l[0]||"free"),i=i||(h==="x"?"bottom":"left"),r=r||0,t=0,a=!1;var d=A.coerce(o,w,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),v=A.coerce(o,w,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");d==="free"&&(h==="y"&&(b("autoshift")&&(r=v==="left"?y[0]:y[1],a=!w.automargin||w.automargin,t=v==="left"?-3:3),b("shift",t)),b("position",r)),b("automargin",a);var g=!1;if(u.length&&(g=A.coerce(o,w,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!g){var x=b("domain",n);x[0]>x[1]-.000244140625&&(w.domain=n),A.noneOrAll(o.domain,w.domain,n),w.tickmode==="sync"&&(w.tickmode="auto")}return b("layer"),w}},42568:function(U,C,e){var k=e(85024);U.exports=function(A,o,w,b,f){f||(f={});var s=f.tickSuffixDflt,n=k(A);w("tickprefix")&&w("showtickprefix",n),w("ticksuffix",s)&&w("showticksuffix",n)}},96312:function(U,C,e){var k=e(76808);U.exports=function(A,o,w,b){var f=o._template||{},s=o.type||f.type||"-";w("minallowed"),w("maxallowed");var n,i=w("range");i||b.noInsiderange||s==="log"||(!(n=w("insiderange"))||n[0]!==null&&n[1]!==null||(o.insiderange=!1,n=void 0),n&&(i=w("range",n)));var r,t=o.getAutorangeDflt(i,b),a=w("autorange",t);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||a!=="reversed"&&a!==!0)&&(i[0]===null||a!=="min"&&a!=="max reversed")&&(i[1]===null||a!=="max"&&a!=="min reversed")||(i=void 0,delete o.range,o.autorange=!0,r=!0),r||(a=w("autorange",t=o.getAutorangeDflt(i,b))),a&&(k(w,a,i),s!=="linear"&&s!=="-"||w("rangemode")),o.cleanRange()}},21160:function(U,C,e){var k=e(84284).FROM_BL;U.exports=function(A,o,w){w===void 0&&(w=k[A.constraintoward||"center"]);var b=[A.r2l(A.range[0]),A.r2l(A.range[1])],f=b[0]+(b[1]-b[0])*w;A.range=A._input.range=[A.l2r(f+(b[0]-f)*o),A.l2r(f+(b[1]-f)*o)],A.setScale()}},78344:function(U,C,e){var k=e(33428),A=e(94336).E9,o=e(3400),w=o.numberFormat,b=e(38248),f=o.cleanNumber,s=o.ms2DateTime,n=o.dateTime2ms,i=o.ensureNumber,r=o.isArrayOrTypedArray,t=e(39032),a=t.FP_SAFE,l=t.BADNUM,u=t.LOG_CLIP,h=t.ONEWEEK,c=t.ONEDAY,y=t.ONEHOUR,d=t.ONEMIN,v=t.ONESEC,g=e(79811),x=e(33816),m=x.HOUR_PATTERN,_=x.WEEKDAY_PATTERN;function p(T){return Math.pow(10,T)}function S(T){return T!=null}U.exports=function(T,E){E=E||{};var O=T._id||"x",P=O.charAt(0);function I(K,ae){if(K>0)return Math.log(K)/Math.LN10;if(K<=0&&ae&&T.range&&T.range.length===2){var ue=T.range[0],se=T.range[1];return .5*(ue+se-2*u*Math.abs(ue-se))}return l}function R(K,ae,ue,se){if((se||{}).msUTC&&b(K))return+K;var he=n(K,ue||T.calendar);if(he===l){if(!b(K))return l;K=+K;var pe=Math.floor(10*o.mod(K+.05,1)),de=Math.round(K-pe/10);he=n(new Date(de))+pe/10}return he}function H(K,ae,ue){return s(K,ae,ue||T.calendar)}function z(K){return T._categories[Math.round(K)]}function j(K){if(S(K)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[K]!==void 0)return T._categoriesMap[K];T._categories.push(typeof K=="number"?String(K):K);var ae=T._categories.length-1;return T._categoriesMap[K]=ae,ae}return l}function Z(K){if(T._categoriesMap)return T._categoriesMap[K]}function F(K){var ae=Z(K);return ae!==void 0?ae:b(K)?+K:void 0}function V(K){return b(K)?+K:Z(K)}function W(K,ae,ue){return k.round(ue+ae*K,2)}function re(K,ae,ue){return(K-ue)/ae}var ne=function(K){return b(K)?W(K,T._m,T._b):l},te=function(K){return re(K,T._m,T._b)};if(T.rangebreaks){var Q=P==="y";ne=function(K){if(!b(K))return l;var ae=T._rangebreaks.length;if(!ae)return W(K,T._m,T._b);var ue=Q;T.range[0]>T.range[1]&&(ue=!ue);for(var se=ue?-1:1,he=se*K,pe=0,de=0;de<ae;de++){var xe=se*T._rangebreaks[de].min,_e=se*T._rangebreaks[de].max;if(he<xe)break;if(!(he>_e)){pe=he<(xe+_e)/2?de:de+1;break}pe=de+1}var be=T._B[pe]||0;return isFinite(be)?W(K,T._m2,be):0},te=function(K){var ae=T._rangebreaks.length;if(!ae)return re(K,T._m,T._b);for(var ue=0,se=0;se<ae&&!(K<T._rangebreaks[se].pmin);se++)K>T._rangebreaks[se].pmax&&(ue=se+1);return re(K,T._m2,T._B[ue])}}T.c2l=T.type==="log"?I:i,T.l2c=T.type==="log"?p:i,T.l2p=ne,T.p2l=te,T.c2p=T.type==="log"?function(K,ae){return ne(I(K,ae))}:ne,T.p2c=T.type==="log"?function(K){return p(te(K))}:te,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=f,T.c2d=T.c2r=T.l2d=T.l2r=i,T.d2p=T.r2p=function(K){return T.l2p(f(K))},T.p2d=T.p2r=te,T.cleanPos=i):T.type==="log"?(T.d2r=T.d2l=function(K,ae){return I(f(K),ae)},T.r2d=T.r2c=function(K){return p(f(K))},T.d2c=T.r2l=f,T.c2d=T.l2r=i,T.c2r=I,T.l2d=p,T.d2p=function(K,ae){return T.l2p(T.d2r(K,ae))},T.p2d=function(K){return p(te(K))},T.r2p=function(K){return T.l2p(f(K))},T.p2r=te,T.cleanPos=i):T.type==="date"?(T.d2r=T.r2d=o.identity,T.d2c=T.r2c=T.d2l=T.r2l=R,T.c2d=T.c2r=T.l2d=T.l2r=H,T.d2p=T.r2p=function(K,ae,ue){return T.l2p(R(K,0,ue))},T.p2d=T.p2r=function(K,ae,ue){return H(te(K),ae,ue)},T.cleanPos=function(K){return o.cleanDate(K,l,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=j,T.r2d=T.c2d=T.l2d=z,T.d2r=T.d2l_noadd=F,T.r2c=function(K){var ae=V(K);return ae!==void 0?ae:T.fraction2r(.5)},T.l2r=T.c2r=i,T.r2l=V,T.d2p=function(K){return T.l2p(T.r2c(K))},T.p2d=function(K){return z(te(K))},T.r2p=T.d2p,T.p2r=te,T.cleanPos=function(K){return typeof K=="string"&&K!==""?K:i(K)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=z,T.d2r=T.d2l_noadd=F,T.r2c=function(K){var ae=F(K);return ae!==void 0?ae:T.fraction2r(.5)},T.r2c_just_indices=Z,T.l2r=T.c2r=i,T.r2l=F,T.d2p=function(K){return T.l2p(T.r2c(K))},T.p2d=function(K){return z(te(K))},T.r2p=T.d2p,T.p2r=te,T.cleanPos=function(K){return Array.isArray(K)||typeof K=="string"&&K!==""?K:i(K)},T.setupMultiCategory=function(K){var ae,ue,se=T._traceIndices,he=T._matchGroup;if(he&&T._categories.length===0){for(var pe in he)if(pe!==O){var de=E[g.id2name(pe)];se=se.concat(de._traceIndices)}}var xe=[[0,{}],[0,{}]],_e=[];for(ae=0;ae<se.length;ae++){var be=K[se[ae]];if(P in be){var Le=be[P],De=be._length||o.minRowLength(Le);if(r(Le[0])&&r(Le[1]))for(ue=0;ue<De;ue++){var ye=Le[0][ue],le=Le[1][ue];S(ye)&&S(le)&&(_e.push([ye,le]),ye in xe[0][1]||(xe[0][1][ye]=xe[0][0]++),le in xe[1][1]||(xe[1][1][le]=xe[1][0]++))}}}for(_e.sort(function(oe,ve){var Ce=xe[0][1],ke=Ce[oe[0]]-Ce[ve[0]];if(ke)return ke;var Ae=xe[1][1];return Ae[oe[1]]-Ae[ve[1]]}),ae=0;ae<_e.length;ae++)j(_e[ae])}),T.fraction2r=function(K){var ae=T.r2l(T.range[0]),ue=T.r2l(T.range[1]);return T.l2r(ae+K*(ue-ae))},T.r2fraction=function(K){var ae=T.r2l(T.range[0]),ue=T.r2l(T.range[1]);return(T.r2l(K)-ae)/(ue-ae)},T.limitRange=function(K){var ae=T.minallowed,ue=T.maxallowed;if(ae!==void 0||ue!==void 0){K||(K="range");var se=o.nestedProperty(T,K).get(),he=o.simpleMap(se,T.r2l),pe=he[1]<he[0];pe&&he.reverse();var de=o.simpleMap([ae,ue],T.r2l);if(ae!==void 0&&he[0]<de[0]&&(se[pe?1:0]=ae),ue!==void 0&&he[1]>de[1]&&(se[pe?0:1]=ue),se[0]===se[1]){var xe=T.l2r(ae),_e=T.l2r(ue);if(ae!==void 0){var be=xe+1;ue!==void 0&&(be=Math.min(be,_e)),se[pe?1:0]=be}if(ue!==void 0){var Le=_e+1;ae!==void 0&&(Le=Math.max(Le,xe)),se[pe?0:1]=Le}}}},T.cleanRange=function(K,ae){T._cleanRange(K,ae),T.limitRange(K)},T._cleanRange=function(K,ae){ae||(ae={}),K||(K="range");var ue,se,he=o.nestedProperty(T,K).get();if(se=(se=T.type==="date"?o.dfltRange(T.calendar):P==="y"?x.DFLTRANGEY:T._name==="realaxis"?[0,1]:ae.dfltRange||x.DFLTRANGEX).slice(),T.rangemode!=="tozero"&&T.rangemode!=="nonnegative"||(se[0]=0),he&&he.length===2){var pe=he[0]===null,de=he[1]===null;for(T.type!=="date"||T.autorange||(he[0]=o.cleanDate(he[0],l,T.calendar),he[1]=o.cleanDate(he[1],l,T.calendar)),ue=0;ue<2;ue++)if(T.type==="date"){if(!o.isDateTime(he[ue],T.calendar)){T[K]=se;break}if(T.r2l(he[0])===T.r2l(he[1])){var xe=o.constrain(T.r2l(he[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);he[0]=T.l2r(xe-1e3),he[1]=T.l2r(xe+1e3);break}}else{if(!b(he[ue])){if(pe||de||!b(he[1-ue])){T[K]=se;break}he[ue]=he[1-ue]*(ue?10:.1)}if(he[ue]<-a?he[ue]=-a:he[ue]>a&&(he[ue]=a),he[0]===he[1]){var _e=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=_e,he[1]+=_e}}}else o.nestedProperty(T,K).set(se)},T.setScale=function(K){var ae=E._size;if(T.overlaying){var ue=g.getFromId({_fullLayout:E},T.overlaying);T.domain=ue.domain}var se=K&&T._r?"_r":"range",he=T.calendar;T.cleanRange(se);var pe,de,xe=T.r2l(T[se][0],he),_e=T.r2l(T[se][1],he),be=P==="y";if(be?(T._offset=ae.t+(1-T.domain[1])*ae.h,T._length=ae.h*(T.domain[1]-T.domain[0]),T._m=T._length/(xe-_e),T._b=-T._m*_e):(T._offset=ae.l+T.domain[0]*ae.w,T._length=ae.w*(T.domain[1]-T.domain[0]),T._m=T._length/(_e-xe),T._b=-T._m*xe),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(xe,_e),Math.max(xe,_e)),T._rangebreaks.length)){for(pe=0;pe<T._rangebreaks.length;pe++)de=T._rangebreaks[pe],T._lBreaks+=Math.abs(de.max-de.min);var Le=be;xe>_e&&(Le=!Le),Le&&T._rangebreaks.reverse();var De=Le?-1:1;for(T._m2=De*T._length/(Math.abs(_e-xe)-T._lBreaks),T._B.push(-T._m2*(be?_e:xe)),pe=0;pe<T._rangebreaks.length;pe++)de=T._rangebreaks[pe],T._B.push(T._B[T._B.length-1]-De*T._m2*(de.max-de.min));for(pe=0;pe<T._rangebreaks.length;pe++)(de=T._rangebreaks[pe]).pmin=ne(de.min),de.pmax=ne(de.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(K){var ae,ue,se,he,pe,de=T.rangebreaks||[];de._cachedPatterns||(de._cachedPatterns=de.map(function(ye){return ye.enabled&&ye.bounds?o.simpleMap(ye.bounds,ye.pattern?f:T.d2c):null})),de._cachedValues||(de._cachedValues=de.map(function(ye){return ye.enabled&&ye.values?o.simpleMap(ye.values,T.d2c).sort(o.sorterAsc):null}));for(var xe=0;xe<de.length;xe++){var _e=de[xe];if(_e.enabled){if(_e.bounds){var be=_e.pattern;switch(ue=(ae=de._cachedPatterns[xe])[0],se=ae[1],be){case _:he=(pe=new Date(K)).getUTCDay(),ue>se&&(se+=7,he<ue&&(he+=7));break;case m:he=(pe=new Date(K)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),ue>se&&(se+=24,he<ue&&(he+=24));break;case"":he=K}if(he>=ue&&he<se)return l}else for(var Le=de._cachedValues[xe],De=0;De<Le.length;De++)if(se=(ue=Le[De])+_e.dvalue,K>=ue&&K<se)return l}}return K},T.locateBreaks=function(K,ae){var ue,se,he,pe,de=[];if(!T.rangebreaks)return de;var xe=T.rangebreaks.slice().sort(function(Ae,Ee){return Ae.pattern===_&&Ee.pattern===m?-1:Ee.pattern===_&&Ae.pattern===m?1:0}),_e=function(Ae,Ee){if((Ae=o.constrain(Ae,K,ae))!==(Ee=o.constrain(Ee,K,ae))){for(var ze=!0,Fe=0;Fe<de.length;Fe++){var ge=de[Fe];Ae<ge.max&&Ee>=ge.min&&(Ae<ge.min&&(ge.min=Ae),Ee>ge.max&&(ge.max=Ee),ze=!1)}ze&&de.push({min:Ae,max:Ee})}};for(ue=0;ue<xe.length;ue++){var be=xe[ue];if(be.enabled)if(be.bounds){var Le=K,De=ae;be.pattern&&(Le=Math.floor(Le)),he=(se=o.simpleMap(be.bounds,be.pattern?f:T.r2l))[0],pe=se[1];var ye,le,oe=new Date(Le);switch(be.pattern){case _:le=h,ye=(pe-he+(pe<he?7:0))*c,Le+=he*c-(oe.getUTCDay()*c+oe.getUTCHours()*y+oe.getUTCMinutes()*d+oe.getUTCSeconds()*v+oe.getUTCMilliseconds());break;case m:le=c,ye=(pe-he+(pe<he?24:0))*y,Le+=he*y-(oe.getUTCHours()*y+oe.getUTCMinutes()*d+oe.getUTCSeconds()*v+oe.getUTCMilliseconds());break;default:Le=Math.min(se[0],se[1]),ye=le=(De=Math.max(se[0],se[1]))-Le}for(var ve=Le;ve<De;ve+=le)_e(ve,ve+ye)}else for(var Ce=o.simpleMap(be.values,T.d2c),ke=0;ke<Ce.length;ke++)_e(he=Ce[ke],pe=he+be.dvalue)}return de.sort(function(Ae,Ee){return Ae.min-Ee.min}),de},T.makeCalcdata=function(K,ae,ue){var se,he,pe,de,xe=T.type,_e=xe==="date"&&K[ae+"calendar"];if(ae in K){if(se=K[ae],de=K._length||o.minRowLength(se),o.isTypedArray(se)&&(xe==="linear"||xe==="log")){if(de===se.length)return se;if(se.subarray)return se.subarray(0,de)}if(xe==="multicategory")return function(De,ye){for(var le=new Array(ye),oe=0;oe<ye;oe++){var ve=(De[0]||[])[oe],Ce=(De[1]||[])[oe];le[oe]=Z([ve,Ce])}return le}(se,de);for(he=new Array(de),pe=0;pe<de;pe++)he[pe]=T.d2c(se[pe],0,_e,ue)}else{var be=ae+"0"in K?T.d2c(K[ae+"0"],0,_e):0,Le=K["d"+ae]?Number(K["d"+ae]):1;for(se=K[{x:"y",y:"x"}[ae]],de=K._length||se.length,he=new Array(de),pe=0;pe<de;pe++)he[pe]=be+pe*Le}if(T.rangebreaks)for(pe=0;pe<de;pe++)he[pe]=T.maskBreaks(he[pe]);return he},T.isValidRange=function(K,ae){return Array.isArray(K)&&K.length===2&&(ae&&K[0]===null||b(T.r2l(K[0])))&&(ae&&K[1]===null||b(T.r2l(K[1])))},T.getAutorangeDflt=function(K,ae){var ue=!T.isValidRange(K,"nullOk");return ue&&ae&&ae.reverseDflt?ue="reversed":K&&(K[0]===null&&K[1]===null?ue=!0:K[0]===null&&K[1]!==null?ue="min":K[0]!==null&&K[1]===null&&(ue="max")),ue},T.isReversed=function(){var K=T.autorange;return K==="reversed"||K==="min reversed"||K==="max reversed"},T.isPtWithinRange=function(K,ae){var ue=T.c2l(K[P],null,ae),se=T.r2l(T.range[0]),he=T.r2l(T.range[1]);return se<he?se<=ue&&ue<=he:he<=ue&&ue<=se},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var K=T._matchGroup;if(K){var ae=null,ue=null;for(var se in K){var he=E[g.id2name(se)];if(he._categories){ae=he._categories,ue=he._categoriesMap;break}}ae&&ue?(T._categories=ae,T._categoriesMap=ue):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var pe=0;pe<T._initialCategories.length;pe++)j(T._initialCategories[pe])},T.sortByInitialCategories=function(){var K=[];if(T._emptyCategories(),T._initialCategories)for(var ae=0;ae<T._initialCategories.length;ae++)j(T._initialCategories[ae]);K=K.concat(T._traceIndices);var ue=T._matchGroup;for(var se in ue)if(O!==se){var he=E[g.id2name(se)];he._categories=T._categories,he._categoriesMap=T._categoriesMap,K=K.concat(he._traceIndices)}return K};var $=E._d3locale;T.type==="date"&&(T._dateFormat=$?$.timeFormat:A,T._extraFormat=E._extraFormat),T._separators=E.separators,T._numFormat=$?$.numberFormat:w,delete T._minDtick,delete T._forceTick0}},85024:function(U){U.exports=function(C){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(k){return C[k]!==void 0});if(e.every(function(k){return C[k]===C[e[0]]})||e.length===1)return C[e[0]]}},95936:function(U,C,e){var k=e(3400),A=e(76308).contrast,o=e(94724),w=e(85024),b=e(51272);function f(s,n){function i(r,t){return k.coerce(s,n,o.tickformatstops,r,t)}i("enabled")&&(i("dtickrange"),i("value"))}U.exports=function(s,n,i,r,t){t||(t={});var a=i("labelalias");k.isPlainObject(a)||delete n.labelalias;var l=w(s);if(i("showticklabels")){var u=t.font||{},h=n.color,c=(n.ticklabelposition||"").indexOf("inside")!==-1?A(t.bgColor):h&&h!==o.color.dflt?h:u.color;if(k.coerceFont(i,"tickfont",u,{overrideDflt:{color:c}}),t.noTicklabelstep||r==="multicategory"||r==="log"||i("ticklabelstep"),!t.noAng){var y=i("tickangle");t.noAutotickangles||y!=="auto"||i("autotickangles")}if(r!=="category"){var d=i("tickformat");b(s,n,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),n.tickformatstops.length||delete n.tickformatstops,t.noExp||d||r==="date"||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(U,C,e){var k=e(3400),A=e(94724);U.exports=function(o,w,b,f){var s=f.isMinor,n=s?o.minor||{}:o,i=s?w.minor:w,r=s?A.minor:A,t=s?"minor.":"",a=k.coerce2(n,i,r,"ticklen",s?.6*(w.ticklen||5):void 0),l=k.coerce2(n,i,r,"tickwidth",s?w.tickwidth||1:void 0),u=k.coerce2(n,i,r,"tickcolor",(s?w.tickcolor:void 0)||i.color);b(t+"ticks",!s&&f.outerTicks||a||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(U,C,e){var k=e(98728),A=e(3400).isArrayOrTypedArray,o=e(38116).isTypedArraySpec,w=e(38116).decodeTypedArraySpec;U.exports=function(b,f,s,n,i){i||(i={});var r=i.isMinor,t=r?b.minor||{}:b,a=r?f.minor:f,l=r?"minor.":"";function u(g){var x=t[g];return o(x)&&(x=w(x)),x!==void 0?x:(a._template||{})[g]}var h=u("tick0"),c=u("dtick"),y=u("tickvals"),d=s(l+"tickmode",A(y)?"array":c?"linear":"auto");if(d==="auto"||d==="sync")s(l+"nticks");else if(d==="linear"){var v=a.dtick=k.dtick(c,n);a.tick0=k.tick0(h,n,f.calendar,v)}else n!=="multicategory"&&(s(l+"tickvals")===void 0?a.tickmode="auto":r||s("ticktext"))}},73736:function(U,C,e){var k=e(33428),A=e(24040),o=e(3400),w=e(43616),b=e(54460);U.exports=function(f,s,n,i){var r=f._fullLayout;if(s.length!==0){var t,a,l,u;i&&(t=i());var h=k.ease(n.easing);return f._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var d={},v=0;v<s.length;v++){var g=s[v],x=g.plotinfo.xaxis,m=g.plotinfo.yaxis;g.xr0&&(d[x._name+".range"]=g.xr0.slice()),g.yr0&&(d[m._name+".range"]=g.yr0.slice())}return A.call("relayout",f,d).then(function(){for(var _=0;_<s.length;_++)c(s[_].plotinfo)})}()}),a=Date.now(),u=window.requestAnimationFrame(function d(){l=Date.now();for(var v=Math.min(1,(l-a)/n.duration),g=h(v),x=0;x<s.length;x++)y(s[x],g);l-a>n.duration?(function(){for(var m={},_=0;_<s.length;_++){var p=s[_],S=p.plotinfo.xaxis,T=p.plotinfo.yaxis;p.xr1&&(m[S._name+".range"]=p.xr1.slice()),p.yr1&&(m[T._name+".range"]=p.yr1.slice())}t&&t(),A.call("relayout",f,m).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(d)):u=window.requestAnimationFrame(d)}),Promise.resolve()}function c(d){var v=d.xaxis,g=d.yaxis;r._defs.select("#"+d.clipId+"> rect").call(w.setTranslate,0,0).call(w.setScale,1,1),d.plot.call(w.setTranslate,v._offset,g._offset).call(w.setScale,1,1);var x=d.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(w.setPointGroupScale,1,1),x.selectAll(".textpoint").call(w.setTextPointsScale,1,1),x.call(w.hideOutsideRangePoints,d)}function y(d,v){var g=d.plotinfo,x=g.xaxis,m=g.yaxis,_=x._length,p=m._length,S=!!d.xr1,T=!!d.yr1,E=[];if(S){var O=o.simpleMap(d.xr0,x.r2l),P=o.simpleMap(d.xr1,x.r2l),I=O[1]-O[0],R=P[1]-P[0];E[0]=(O[0]*(1-v)+v*P[0]-O[0])/(O[1]-O[0])*_,E[2]=_*(1-v+v*R/I),x.range[0]=x.l2r(O[0]*(1-v)+v*P[0]),x.range[1]=x.l2r(O[1]*(1-v)+v*P[1])}else E[0]=0,E[2]=_;if(T){var H=o.simpleMap(d.yr0,m.r2l),z=o.simpleMap(d.yr1,m.r2l),j=H[1]-H[0],Z=z[1]-z[0];E[1]=(H[1]*(1-v)+v*z[1]-H[1])/(H[0]-H[1])*p,E[3]=p*(1-v+v*Z/j),m.range[0]=x.l2r(H[0]*(1-v)+v*z[0]),m.range[1]=m.l2r(H[1]*(1-v)+v*z[1])}else E[1]=0,E[3]=p;b.drawOne(f,x,{skipTitle:!0}),b.drawOne(f,m,{skipTitle:!0}),b.redrawComponents(f,[x._id,m._id]);var F=S?_/E[2]:1,V=T?p/E[3]:1,W=S?E[0]:0,re=T?E[1]:0,ne=S?E[0]/E[2]*_:0,te=T?E[1]/E[3]*p:0,Q=x._offset-ne,$=m._offset-te;g.clipRect.call(w.setTranslate,W,re).call(w.setScale,1/F,1/V),g.plot.call(w.setTranslate,Q,$).call(w.setScale,F,V),w.setPointGroupScale(g.zoomScalePts,1/F,1/V),w.setTextPointsScale(g.zoomScaleTxt,1/F,1/V)}b.redrawComponents(f)}},14944:function(U,C,e){var k=e(24040).traceIs,A=e(52976);function o(b){return{v:"x",h:"y"}[b.orientation||"v"]}function w(b,f){var s=o(b),n=k(b,"box-violin"),i=k(b._fullInput||{},"candlestick");return n&&!i&&f===s&&b[s]===void 0&&b[s+"0"]===void 0}U.exports=function(b,f,s,n){s("autotypenumbers",n.autotypenumbersDflt),s("type",(n.splomStash||{}).type)==="-"&&(function(i,r){if(i.type==="-"){var t,a=i._id,l=a.charAt(0);a.indexOf("scene")!==-1&&(a=l);var u=function(m,_,p){for(var S=0;S<m.length;S++){var T=m[S];if(T.type==="splom"&&T._length>0&&(T["_"+p+"axes"]||{})[_]||(T[p+"axis"]||p)===_&&(w(T,p)||(T[p]||[]).length||T[p+"0"]))return T}}(r,a,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var h=l+"calendar",c=u[h],y={noMultiCategory:!k(u,"cartesian")||k(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=i.autotypenumbers,w(u,l)){var d=o(u),v=[];for(t=0;t<r.length;t++){var g=r[t];k(g,"box-violin")&&(g[l+"axis"]||l)===a&&(g[d]!==void 0?v.push(g[d][0]):g.name!==void 0?v.push(g.name):v.push("text"),g[h]!==c&&(c=void 0))}i.type=A(v,c,y)}else if(u.type==="splom"){var x=u.dimensions[u._axesDim[a]];x.visible&&(i.type=A(x.values,c,y))}else i.type=A(u[l]||[u[l+"0"]],c,y)}else i.type="linear"}}(f,n.data),f.type==="-"?f.type="linear":b.type=f.type)}},62460:function(U,C,e){var k=e(24040),A=e(3400);function o(s,n,i){var r,t,a,l=!1;if(n.type==="data")r=s._fullData[n.traces!==null?n.traces[0]:0];else{if(n.type!=="layout")return!1;r=s._fullLayout}return t=A.nestedProperty(r,n.prop).get(),(a=i[n.type]=i[n.type]||{}).hasOwnProperty(n.prop)&&a[n.prop]!==t&&(l=!0),a[n.prop]=t,{changed:l,value:t}}function w(s,n){var i=[],r=n[0],t={};if(typeof r=="string")t[r]=n[1];else{if(!A.isPlainObject(r))return i;t=r}return f(t,function(a,l,u){i.push({type:"layout",prop:a,value:u})},"",0),i}function b(s,n){var i,r,t,a,l=[];if(r=n[0],t=n[1],i=n[2],a={},typeof r=="string")a[r]=t;else{if(!A.isPlainObject(r))return l;a=r,i===void 0&&(i=t)}return i===void 0&&(i=null),f(a,function(u,h,c){var y,d;if(Array.isArray(c)){d=c.slice();var v=Math.min(d.length,s.data.length);i&&(v=Math.min(v,i.length)),y=[];for(var g=0;g<v;g++)y[g]=i?i[g]:g}else d=c,y=i?i.slice():null;if(y===null)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(y)){if(!Array.isArray(d)){var x=d;d=[];for(var m=0;m<y.length;m++)d[m]=x}d.length=Math.min(y.length,d.length)}l.push({type:"data",prop:u,traces:y,value:d})},"",0),l}function f(s,n,i,r){Object.keys(s).forEach(function(t){var a=s[t];if(t[0]!=="_"){var l=i+(r>0?".":"")+t;A.isPlainObject(a)?f(a,n,l,r+1):n(l,t,a)}})}C.manageCommandObserver=function(s,n,i,r){var t={},a=!0;n&&n._commandObserver&&(t=n._commandObserver),t.cache||(t.cache={}),t.lookupTable={};var l=C.hasSimpleAPICommandBindings(s,i,t.lookupTable);if(n&&n._commandObserver){if(l)return t;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,t}if(l){o(s,l,t.cache),t.check=function(){if(a){var c=o(s,l,t.cache);return c.changed&&r&&t.lookupTable[c.value]!==void 0&&(t.disable(),Promise.resolve(r({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:t.lookupTable[c.value]})).then(t.enable,t.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)s._internalOn(u[h],t.check);t.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],t.check)}}else A.log("Unable to automatically bind plot updates to API command"),t.lookupTable={},t.remove=function(){};return t.disable=function(){a=!1},t.enable=function(){a=!0},n&&(n._commandObserver=t),t},C.hasSimpleAPICommandBindings=function(s,n,i){var r,t,a=n.length;for(r=0;r<a;r++){var l,u=n[r],h=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!h)return!1;var y=C.computeAPICommandBindings(s,h,c);if(y.length!==1)return!1;if(t){if((l=y[0]).type!==t.type||l.prop!==t.prop)return!1;if(Array.isArray(t.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var d=0;d<t.traces.length;d++)if(t.traces[d]!==l.traces[d])return!1}else if(l.prop!==t.prop)return!1}else t=y[0],Array.isArray(t.traces)&&t.traces.sort();var v=(l=y[0]).value;if(Array.isArray(v)){if(v.length!==1)return!1;v=v[0]}i&&(i[v]=r)}return t},C.executeAPICommand=function(s,n,i){if(n==="skip")return Promise.resolve();var r=k.apiMethodRegistry[n],t=[s];Array.isArray(i)||(i=[]);for(var a=0;a<i.length;a++)t.push(i[a]);return r.apply(null,t).catch(function(l){return A.warn("API call to Plotly."+n+" rejected.",l),Promise.reject(l)})},C.computeAPICommandBindings=function(s,n,i){var r;switch(Array.isArray(i)||(i=[]),n){case"restyle":r=b(s,i);break;case"relayout":r=w(0,i);break;case"update":r=b(s,[i[0],i[2]]).concat(w(0,[i[1]]));break;case"animate":r=function(t,a){return Array.isArray(a[0])&&a[0].length===1&&["string","number"].indexOf(typeof a[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:a[0][0].toString()}]:[]}(0,i);break;default:r=[]}return r}},86968:function(U,C,e){var k=e(92880).extendFlat;C.u=function(A,o){o=o||{};var w={valType:"info_array",editType:(A=A||{}).editType,items:[{valType:"number",min:0,max:1,editType:A.editType},{valType:"number",min:0,max:1,editType:A.editType}],dflt:[0,1]},b=(A.name&&A.name,A.trace,o.description&&o.description,{x:k({},w,{}),y:k({},w,{}),editType:A.editType});return A.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:A.editType},b.column={valType:"integer",min:0,dflt:0,editType:A.editType}),b},C.Q=function(A,o,w,b){var f=b&&b.x||[0,1],s=b&&b.y||[0,1],n=o.grid;if(n){var i=w("domain.column");i!==void 0&&(i<n.columns?f=n._domains.x[i]:delete A.domain.column);var r=w("domain.row");r!==void 0&&(r<n.rows?s=n._domains.y[r]:delete A.domain.row)}var t=w("domain.x",f),a=w("domain.y",s);t[0]<t[1]||(A.domain.x=f.slice()),a[0]<a[1]||(A.domain.y=s.slice())}},25376:function(U){U.exports=function(C){var e=C.variantValues,k=C.editType,A=C.colorEditType;A===void 0&&(A=k);var o={editType:k,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};C.noNumericWeightValues&&(o.valType="enumerated",o.values=o.extras,o.extras=void 0,o.min=void 0,o.max=void 0);var w={family:{valType:"string",noBlank:!0,strict:!0,editType:k},size:{valType:"number",min:1,editType:k},color:{valType:"color",editType:A},weight:o,style:{editType:k,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:C.noFontVariant?void 0:{editType:k,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:C.noFontTextcase?void 0:{editType:k,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:C.noFontLineposition?void 0:{editType:k,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:C.noFontShadow?void 0:{editType:k,valType:"string",dflt:C.autoShadowDflt?"auto":"none"},editType:k};return C.autoSize&&(w.size.dflt="auto"),C.autoColor&&(w.color.dflt="auto"),C.arrayOk&&(w.family.arrayOk=!0,w.weight.arrayOk=!0,w.style.arrayOk=!0,C.noFontVariant||(w.variant.arrayOk=!0),C.noFontTextcase||(w.textcase.arrayOk=!0),C.noFontLineposition||(w.lineposition.arrayOk=!0),C.noFontShadow||(w.shadow.arrayOk=!0),w.size.arrayOk=!0,w.color.arrayOk=!0),w}},16672:function(U){U.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(U,C){C.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},C.axesNames=["lonaxis","lataxis"],C.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},C.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},C.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},C.clipPad=.001,C.precision=.1,C.landColor="#F0DC82",C.waterColor="#3399FF",C.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},C.sphereSVG={type:"Sphere"},C.fillLayers={ocean:1,land:1,lakes:1},C.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},C.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],C.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],C.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(U,C,e){var k=e(33428),A=e(83356),o=A.geoPath,w=A.geoDistance,b=e(87108),f=e(24040),s=e(3400),n=s.strTranslate,i=e(76308),r=e(43616),t=e(93024),a=e(7316),l=e(54460),u=e(19280).getAutoRange,h=e(86476),c=e(22676).prepSelect,y=e(22676).clearOutline,d=e(22676).selectOnClick,v=e(79248),g=e(79552),x=e(27144),m=e(59972),_=e(55712).NO;function p(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=p.prototype;function T(E,O){var P=g.clipPad,I=E[0]+P,R=E[1]-P,H=O[0]+P,z=O[1]-P;I>0&&R<0&&(R+=360);var j=(R-I)/4;return{type:"Polygon",coordinates:[[[I,H],[I,z],[I+j,z],[I+2*j,z],[I+3*j,z],[R,z],[R,H],[R-j,H],[R-2*j,H],[R-3*j,H],[I,H]]]}}U.exports=function(E){return new p(E)},S.plot=function(E,O,P,I){var R=this;if(I)return R.update(E,O,!0);R._geoCalcData=E,R._fullLayout=O;var H=O[this.id],z=[],j=!1;for(var Z in g.layerNameToAdjective)if(Z!=="frame"&&H["show"+Z]){j=!0;break}for(var F=!1,V=0;V<E.length;V++){var W=E[0][0].trace;W._geo=R,W.locationmode&&(j=!0);var re=W.marker;if(re){var ne=re.angle,te=re.angleref;(ne||te==="north"||te==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,j){var Q=m.getTopojsonName(H);R.topojson!==null&&Q===R.topojsonName||(R.topojsonName=Q,PlotlyGeoAssets.topojson[R.topojsonName]===void 0&&z.push(R.fetchTopojson()))}z=z.concat(x.fetchTraceGeoData(E)),P.push(new Promise(function($,K){Promise.all(z).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,O),$()}).catch(K)}))},S.fetchTopojson=function(){var E=this,O=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(P,I){k.json(O,function(R,H){if(R)return R.status===404?I(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):I(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=H,P()})})},S.update=function(E,O,P){var I=O[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var H=E[R],z=H[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(H,O)}if(!P){if(this.updateProjection(E,O))return;this.viewInitial&&this.scope===I.scope||this.saveViewInitial(I)}this.scope=I.scope,this.updateBaseLayers(O,I),this.updateDims(O,I),this.updateFx(O,I),a.generalUpdatePerTraceModule(this.graphDiv,this,E,I);var j=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=j.selectAll(".point"),this.dataPoints.text=j.selectAll("text"),this.dataPaths.line=j.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},S.updateProjection=function(E,O){var P=this.graphDiv,I=O[this.id],R=O._size,H=I.domain,z=I.projection,j=I.lonaxis,Z=I.lataxis,F=j._ax,V=Z._ax,W=this.projection=function(oe){var ve=oe.projection,Ce=ve.type,ke=g.projNames[Ce];ke="geo"+s.titleCase(ke);for(var Ae=(A[ke]||b[ke])(),Ee=oe._isSatellite?180*Math.acos(1/ve.distance)/Math.PI:oe._isClipped?g.lonaxisSpan[Ce]/2:null,ze=["center","rotate","parallels","clipExtent"],Fe=function(Se){return Se?Ae:[]},ge=0;ge<ze.length;ge++){var Te=ze[ge];typeof Ae[Te]!="function"&&(Ae[Te]=Fe)}return Ae.isLonLatOverEdges=function(Se){if(Ae(Se)===null)return!0;if(Ee){var Re=Ae.rotate();return w(Se,[-Re[0],-Re[1]])>Ee*Math.PI/180}return!1},Ae.getPath=function(){return o().projection(Ae)},Ae.getBounds=function(Se){return Ae.getPath().bounds(Se)},Ae.precision(g.precision),oe._isSatellite&&Ae.tilt(ve.tilt).distance(ve.distance),Ee&&Ae.clipAngle(Ee-g.clipPad),Ae}(I),re=[[R.l+R.w*H.x[0],R.t+R.h*(1-H.y[1])],[R.l+R.w*H.x[1],R.t+R.h*(1-H.y[0])]],ne=I.center||{},te=z.rotation||{},Q=j.range||[],$=Z.range||[];if(I.fitbounds){F._length=re[1][0]-re[0][0],V._length=re[1][1]-re[0][1],F.range=u(P,F),V.range=u(P,V);var K=(F.range[0]+F.range[1])/2,ae=(V.range[0]+V.range[1])/2;if(I._isScoped)ne={lon:K,lat:ae};else if(I._isClipped){ne={lon:K,lat:ae},te={lon:K,lat:ae,roll:te.roll};var ue=z.type,se=g.lonaxisSpan[ue]/2||180,he=g.lataxisSpan[ue]/2||90;Q=[K-se,K+se],$=[ae-he,ae+he]}else ne={lon:K,lat:ae},te={lon:K,lat:te.lat,roll:te.roll}}W.center([ne.lon-te.lon,ne.lat-te.lat]).rotate([-te.lon,-te.lat,te.roll]).parallels(z.parallels);var pe=T(Q,$);W.fitExtent(re,pe);var de=this.bounds=W.getBounds(pe),xe=this.fitScale=W.scale(),_e=W.translate();if(I.fitbounds){var be=W.getBounds(T(F.range,V.range)),Le=Math.min((de[1][0]-de[0][0])/(be[1][0]-be[0][0]),(de[1][1]-de[0][1])/(be[1][1]-be[0][1]));isFinite(Le)?W.scale(Le*xe):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else W.scale(z.scale*xe);var De=this.midPt=[(de[0][0]+de[1][0])/2,(de[0][1]+de[1][1])/2];if(W.translate([_e[0]+(De[0]-_e[0]),_e[1]+(De[1]-_e[1])]).clipExtent(de),I._isAlbersUsa){var ye=W([ne.lon,ne.lat]),le=W.translate();W.translate([le[0]-(ye[0]-le[0]),le[1]-(ye[1]-le[1])])}},S.updateBaseLayers=function(E,O){var P=this,I=P.topojson,R=P.layers,H=P.basePaths;function z(W){return W==="lonaxis"||W==="lataxis"}function j(W){return!!g.lineLayers[W]}function Z(W){return!!g.fillLayers[W]}var F=(this.hasChoropleth?g.layersForChoropleth:g.layers).filter(function(W){return j(W)||Z(W)?O["show"+W]:!z(W)||O[W].showgrid}),V=P.framework.selectAll(".layer").data(F,String);V.exit().each(function(W){delete R[W],delete H[W],k.select(this).remove()}),V.enter().append("g").attr("class",function(W){return"layer "+W}).each(function(W){var re=R[W]=k.select(this);W==="bg"?P.bgRect=re.append("rect").style("pointer-events","all"):z(W)?H[W]=re.append("path").style("fill","none"):W==="backplot"?re.append("g").classed("choroplethlayer",!0):W==="frontplot"?re.append("g").classed("scatterlayer",!0):j(W)?H[W]=re.append("path").style("fill","none").style("stroke-miterlimit",2):Z(W)&&(H[W]=re.append("path").style("stroke","none"))}),V.order(),V.each(function(W){var re=H[W],ne=g.layerNameToAdjective[W];W==="frame"?re.datum(g.sphereSVG):j(W)||Z(W)?re.datum(_(I,I.objects[W])):z(W)&&re.datum(function(te,Q,$){var K,ae,ue,se=Q[te],he=g.scopeDefaults[Q.scope];te==="lonaxis"?(K=he.lonaxisRange,ae=he.lataxisRange,ue=function(le,oe){return[le,oe]}):te==="lataxis"&&(K=he.lataxisRange,ae=he.lonaxisRange,ue=function(le,oe){return[oe,le]});var pe={type:"linear",range:[K[0],K[1]-1e-6],tick0:se.tick0,dtick:se.dtick};l.setConvert(pe,$);var de=l.calcTicks(pe);Q.isScoped||te!=="lonaxis"||de.pop();for(var xe=de.length,_e=new Array(xe),be=0;be<xe;be++)for(var Le=de[be].x,De=_e[be]=[],ye=ae[0];ye<ae[1]+2.5;ye+=2.5)De.push(ue(Le,ye));return{type:"MultiLineString",coordinates:_e}}(W,O,E)).call(i.stroke,O[W].gridcolor).call(r.dashLine,O[W].griddash,O[W].gridwidth),j(W)?re.call(i.stroke,O[ne+"color"]).call(r.dashLine,"",O[ne+"width"]):Z(W)&&re.call(i.fill,O[ne+"color"])})},S.updateDims=function(E,O){var P=this.bounds,I=(O.framewidth||0)/2,R=P[0][0]-I,H=P[0][1]-I,z=P[1][0]-R+I,j=P[1][1]-H+I;r.setRect(this.clipRect,R,H,z,j),this.bgRect.call(r.setRect,R,H,z,j).call(i.fill,O.bgcolor),this.xaxis._offset=R,this.xaxis._length=z,this.yaxis._offset=H,this.yaxis._length=j},S.updateFx=function(E,O){var P=this,I=P.graphDiv,R=P.bgRect,H=E.dragmode,z=E.clickmode;if(!P.isStatic){var j={element:P.bgRect.node(),gd:I,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(F,V){V.isRect?(F.range={})[P.id]=[Z([V.xmin,V.ymin]),Z([V.xmax,V.ymax])]:(F.lassoPoints={})[P.id]=V.map(Z)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(F){F===2&&y(I)}};H==="pan"?(R.node().onmousedown=null,R.call(v(P,O)),R.on("dblclick.zoom",function(){var F=P.viewInitial,V={};for(var W in F)V[P.id+"."+W]=F[W];f.call("_guiRelayout",I,V),I.emit("plotly_doubleclick",null)}),I._context._scrollZoom.geo||R.on("wheel.zoom",null)):H!=="select"&&H!=="lasso"||(R.on(".zoom",null),j.prepFn=function(F,V,W){c(F,V,W,j,H)},h.init(j)),R.on("mousemove",function(){var F=P.projection.invert(s.getPositionFromD3Event());if(!F)return h.unhover(I,k.event);P.xaxis.p2c=function(){return F[0]},P.yaxis.p2c=function(){return F[1]},t.hover(I,k.event,P.id)}),R.on("mouseout",function(){I._dragging||h.unhover(I,k.event)}),R.on("click",function(){H!=="select"&&H!=="lasso"&&(z.indexOf("select")>-1&&d(k.event,I,[P.xaxis],[P.yaxis],P.id,j),z.indexOf("event")>-1&&t.click(I,k.event))})}function Z(F){return P.projection.invert([F[0]+P.xaxis._offset,F[1]+P.yaxis._offset])}},S.makeFramework=function(){var E=this,O=E.graphDiv,P=O._fullLayout,I="clip"+P._uid+E.id;E.clipDef=P._clips.append("clipPath").attr("id",I),E.clipRect=E.clipDef.append("rect"),E.framework=k.select(E.container).append("g").attr("class","geo "+E.id).call(r.setClipUrl,I,O),E.project=function(R){var H=E.projection(R);return H?[H[0]-E.xaxis._offset,H[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(E.mockAxis,P)},S.saveViewInitial=function(E){var O,P=E.center||{},I=E.projection,R=I.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":I.scale},O=E._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":R.lon},s.extendFlat(this.viewInitial,O)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,O=this.projection,P=O.getPath();function I(H){var z=O(H.lonlat);return z?n(z[0],z[1]):null}function R(H){return O.isLonLatOverEdges(H.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",P);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(H){return P(H.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",I)}},10816:function(U,C,e){var k=e(84888).KY,A=e(3400).counterRegex,o=e(43520),w="geo",b=A(w),f={};f[w]={valType:"subplotid",dflt:w,editType:"calc"},U.exports={attr:w,name:w,idRoot:w,idRegex:b,attrRegex:b,attributes:f,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var n=s._fullLayout,i=s.calcdata,r=n._subplots[w],t=0;t<r.length;t++){var a=r[t],l=k(i,w,a),u=n[a]._subplot;u||(u=o({id:a,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[a]._subplot=u),u.plot(l,n,s._promises)}},updateFx:function(s){for(var n=s._fullLayout,i=n._subplots[w],r=0;r<i.length;r++){var t=n[i[r]];t._subplot.updateFx(n,t)}},clean:function(s,n,i,r){for(var t=r._subplots[w]||[],a=0;a<t.length;a++){var l=t[a],u=r[l]._subplot;!n[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(U,C,e){var k=e(22548),A=e(86968).u,o=e(98192).u,w=e(79552),b=e(67824).overrideAll,f=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:k.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:o};(U.exports=b({domain:A({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:f(w.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:f(w.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:k.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:w.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:w.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:w.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:w.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:k.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:k.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:k.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:k.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(U,C,e){var k=e(3400),A=e(168),o=e(84888).op,w=e(79552),b=e(40384),f=w.axesNames;function s(n,i,r,t){var a=o(t.fullData,"geo",t.id).map(function(te){return te._expandedIndex}),l=r("resolution"),u=r("scope"),h=w.scopeDefaults[u],c=r("projection.type",h.projType),y=i._isAlbersUsa=c==="albers usa";y&&(u=i.scope="usa");var d=i._isScoped=u!=="world",v=i._isSatellite=c==="satellite",g=i._isConic=c.indexOf("conic")!==-1||c==="albers",x=i._isClipped=!!w.lonaxisSpan[c];if(n.visible===!1){var m=k.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var _=r("visible"),p=0;p<f.length;p++){var S,T=f[p],E=[30,10][p];if(d)S=h[T+"Range"];else{var O=w[T+"Span"],P=(O[c]||O["*"])/2,I=r("projection.rotation."+T.substr(0,3),h.projRotate[p]);S=[I-P,I+P]}var R=r(T+".range",S);r(T+".tick0"),r(T+".dtick",E),r(T+".showgrid",!!_&&void 0)&&(r(T+".gridcolor"),r(T+".gridwidth"),r(T+".griddash")),i[T]._ax={type:"linear",_id:T.slice(0,3),_traceIndices:a,setScale:k.identity,c2l:k.identity,r2l:k.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var H=i.lonaxis.range,z=i.lataxis.range,j=H[0],Z=H[1];j>0&&Z<0&&(Z+=360);var F,V,W,re=(j+Z)/2;if(!y){var ne=d?h.projRotate:[re,0,0];F=r("projection.rotation.lon",ne[0]),r("projection.rotation.lat",ne[1]),r("projection.rotation.roll",ne[2]),r("showcoastlines",!d&&_)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!_&&void 0)&&r("oceancolor")}y?(V=-96.6,W=38.7):(V=d?re:F,W=(z[0]+z[1])/2),r("center.lon",V),r("center.lat",W),v&&(r("projection.tilt"),r("projection.distance")),g&&r("projection.parallels",h.projParallels||[0,60]),r("projection.scale"),r("showland",!!_&&void 0)&&r("landcolor"),r("showlakes",!!_&&void 0)&&r("lakecolor"),r("showrivers",!!_&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",d&&u!=="usa"&&_)&&(r("countrycolor"),r("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(r("showsubunits",_),r("subunitcolor"),r("subunitwidth")),d||r("showframe",_)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete i.projection.scale,d?(delete i.center.lon,delete i.center.lat):x?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}U.exports=function(n,i,r){A(n,i,r,{type:"geo",attributes:b,handleDefaults:s,fullData:r,partition:"y"})}},79248:function(U,C,e){var k=e(33428),A=e(3400),o=e(24040),w=Math.PI/180,b=180/Math.PI,f={cursor:"pointer"},s={cursor:"auto"};function n(d,v){return k.behavior.zoom().translate(v.translate()).scale(v.scale())}function i(d,v,g){var x=d.id,m=d.graphDiv,_=m.layout,p=_[x],S=m._fullLayout,T=S[x],E={},O={};function P(I,R){E[x+"."+I]=A.nestedProperty(p,I).get(),o.call("_storeDirectGUIEdit",_,S._preGUI,E);var H=A.nestedProperty(T,I);H.get()!==R&&(H.set(R),A.nestedProperty(p,I).set(R),O[x+"."+I]=R)}g(P),P("projection.scale",v.scale()/d.fitScale),P("fitbounds",!1),m.emit("plotly_relayout",O)}function r(d,v){var g=n(0,v);function x(m){var _=v.invert(d.midPt);m("center.lon",_[0]),m("center.lat",_[1])}return g.on("zoomstart",function(){k.select(this).style(f)}).on("zoom",function(){v.scale(k.event.scale).translate(k.event.translate),d.render(!0);var m=v.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/d.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){k.select(this).style(s),i(d,v,x)}),g}function t(d,v){var g,x,m,_,p,S,T,E,O,P=n(0,v);function I(H){return v.invert(H)}function R(H){var z=v.rotate(),j=v.invert(d.midPt);H("projection.rotation.lon",-z[0]),H("center.lon",j[0]),H("center.lat",j[1])}return P.on("zoomstart",function(){k.select(this).style(f),g=k.mouse(this),x=v.rotate(),m=v.translate(),_=x,p=I(g)}).on("zoom",function(){if(S=k.mouse(this),function(j){var Z=I(j);if(!Z)return!0;var F=v(Z);return Math.abs(F[0]-j[0])>2||Math.abs(F[1]-j[1])>2}(g))return P.scale(v.scale()),void P.translate(v.translate());v.scale(k.event.scale),v.translate([m[0],k.event.translate[1]]),p?I(S)&&(E=I(S),T=[_[0]+(E[0]-p[0]),x[1],x[2]],v.rotate(T),_=T):p=I(g=S),O=!0,d.render(!0);var H=v.rotate(),z=v.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/d.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-H[0]})}).on("zoomend",function(){k.select(this).style(s),O&&i(d,v,R)}),P}function a(d,v){var g;v.rotate(),v.scale();var x=n(0,v),m=function(T){for(var E=0,O=arguments.length,P=[];++E<O;)P.push(arguments[E]);var I=k.dispatch.apply(null,P);return I.of=function(R,H){return function(z){var j;try{j=z.sourceEvent=k.event,z.target=T,k.event=z,I[z.type].apply(R,H)}finally{k.event=j}}},I}(x,"zoomstart","zoom","zoomend"),_=0,p=x.on;function S(T){var E=v.rotate();T("projection.rotation.lon",-E[0]),T("projection.rotation.lat",-E[1])}return x.on("zoomstart",function(){k.select(this).style(f);var T,E,O,P,I,R,H,z,j,Z,F,V=k.mouse(this),W=v.rotate(),re=W,ne=v.translate(),te=(E=.5*(T=W)[0]*w,O=.5*T[1]*w,P=.5*T[2]*w,I=Math.sin(E),R=Math.cos(E),H=Math.sin(O),z=Math.cos(O),j=Math.sin(P),[R*z*(Z=Math.cos(P))+I*H*j,I*z*Z-R*H*j,R*H*Z+I*z*j,R*z*j-I*H*Z]);g=l(v,V),p.call(x,"zoom",function(){var Q,$,K,ae,ue,se,he,pe,de,xe,_e=k.mouse(this);if(v.scale(k.event.scale),g){if(l(v,_e)){v.rotate(W).translate(ne);var be=l(v,_e),Le=function(le,oe){if(le&&oe){var ve=function(Ee,ze){return[Ee[1]*ze[2]-Ee[2]*ze[1],Ee[2]*ze[0]-Ee[0]*ze[2],Ee[0]*ze[1]-Ee[1]*ze[0]]}(le,oe),Ce=Math.sqrt(y(ve,ve)),ke=.5*Math.acos(Math.max(-1,Math.min(1,y(le,oe)))),Ae=Math.sin(ke)/Ce;return Ce&&[Math.cos(ke),ve[2]*Ae,-ve[1]*Ae,ve[0]*Ae]}}(g,be),De=function(le){return[Math.atan2(2*(le[0]*le[1]+le[2]*le[3]),1-2*(le[1]*le[1]+le[2]*le[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(le[0]*le[2]-le[3]*le[1]))))*b,Math.atan2(2*(le[0]*le[3]+le[1]*le[2]),1-2*(le[2]*le[2]+le[3]*le[3]))*b]}((K=(Q=te)[0],ae=Q[1],ue=Q[2],se=Q[3],[K*(he=($=Le)[0])-ae*(pe=$[1])-ue*(de=$[2])-se*(xe=$[3]),K*pe+ae*he+ue*xe-se*de,K*de-ae*xe+ue*he+se*pe,K*xe+ae*de-ue*pe+se*he])),ye=function(le,oe,ve){var Ce=c(oe,2,le[0]);Ce=c(Ce,1,le[1]),Ce=c(Ce,0,le[2]-ve[2]);var ke,Ae,Ee=oe[0],ze=oe[1],Fe=oe[2],ge=Ce[0],Te=Ce[1],Se=Ce[2],Re=Math.atan2(ze,Ee)*b,Pe=Math.sqrt(Ee*Ee+ze*ze);Math.abs(Te)>Pe?(Ae=(Te>0?90:-90)-Re,ke=0):(Ae=Math.asin(Te/Pe)*b-Re,ke=Math.sqrt(Pe*Pe-Te*Te));var Ve=180-Ae-2*Re,We=(Math.atan2(Se,ge)-Math.atan2(Fe,ke))*b,Qe=(Math.atan2(Se,ge)-Math.atan2(Fe,-ke))*b;return u(ve[0],ve[1],Ae,We)<=u(ve[0],ve[1],Ve,Qe)?[Ae,We,ve[2]]:[Ve,Qe,ve[2]]}(De,g,re);isFinite(ye[0])&&isFinite(ye[1])&&isFinite(ye[2])||(ye=re),v.rotate(ye),re=ye}}else g=l(v,V=_e);m.of(this,arguments)({type:"zoom"})}),F=m.of(this,arguments),_++||F({type:"zoomstart"})}).on("zoomend",function(){var T;k.select(this).style(s),p.call(x,"zoom",null),T=m.of(this,arguments),--_||T({type:"zoomend"}),i(d,v,S)}).on("zoom.redraw",function(){d.render(!0);var T=v.rotate();d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/d.fitScale,"geo.projection.rotation.lon":-T[0],"geo.projection.rotation.lat":-T[1]})}),k.rebind(x,m,"on")}function l(d,v){var g=d.invert(v);return g&&isFinite(g[0])&&isFinite(g[1])&&function(x){var m=x[0]*w,_=x[1]*w,p=Math.cos(_);return[p*Math.cos(m),p*Math.sin(m),Math.sin(_)]}(g)}function u(d,v,g,x){var m=h(g-d),_=h(x-v);return Math.sqrt(m*m+_*_)}function h(d){return(d%360+540)%360-180}function c(d,v,g){var x=g*w,m=d.slice(),_=v===0?1:0,p=v===2?1:2,S=Math.cos(x),T=Math.sin(x);return m[_]=d[_]*S-d[p]*T,m[p]=d[p]*S+d[_]*T,m}function y(d,v){for(var g=0,x=0,m=d.length;x<m;++x)g+=d[x]*v[x];return g}U.exports=function(d,v){var g=d.projection;return(v._isScoped?r:v._isClipped?a:t)(d,g)}},84888:function(U,C,e){var k=e(24040),A=e(33816).SUBPLOT_PATTERN;C.KY=function(o,w,b){var f=k.subplotsRegistry[w];if(!f)return[];for(var s=f.attr,n=[],i=0;i<o.length;i++){var r=o[i];r[0].trace[s]===b&&n.push(r)}return n},C._M=function(o,w,b){var f,s=[],n=[];if(!(f=typeof w=="string"?k.getModule(w).plot:typeof w=="function"?w:w.plot))return[s,o];for(var i=b,r=0;r<o.length;r++){var t=o[r],a=t[0].trace,l=a.zorder!==void 0;a.visible===!0&&a._length!==0&&(!a._module||a._module.plot!==f||l&&a.zorder!==i?n.push(t):s.push(t))}return[s,n]},C.op=function(o,w,b){if(!k.subplotsRegistry[w])return[];var f,s,n,i=k.subplotsRegistry[w].attr,r=[];if(w==="gl2d"){var t=b.match(A);s="x"+t[1],n="y"+t[2]}for(var a=0;a<o.length;a++)f=o[a],w==="gl2d"&&k.traceIs(f,"gl2d")?f[i[0]]===s&&f[i[1]]===n&&r.push(f):f[i]===b&&r.push(f);return r}},2428:function(U,C,e){var k=e(62644),A=e(97264),o=e(29128),w=e(33816),b=e(89184);function f(s,n){this.element=s,this.plot=n,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}U.exports=function(s){var n=s.mouseContainer,i=s.glplot,r=new f(n,i);function t(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function a(l,u,h){var c,y,d=s.calcDataBox(),v=i.viewBox,g=r.lastPos[0],x=r.lastPos[1],m=w.MINDRAG*i.pixelRatio,_=w.MINZOOM*i.pixelRatio;function p(I,R,H){var z=Math.min(R,H),j=Math.max(R,H);z!==j?(d[I]=z,d[I+2]=j,r.dataBox=d,s.setRanges(d)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,h*=i.pixelRatio,h=v[3]-v[1]-h,s.fullLayout.dragmode){case"zoom":if(l){var S=u/(v[2]-v[0])*(d[2]-d[0])+d[0],T=h/(v[3]-v[1])*(d[3]-d[1])+d[1];r.boxInited||(r.boxStart[0]=S,r.boxStart[1]=T,r.dragStart[0]=u,r.dragStart[1]=h),r.boxEnd[0]=S,r.boxEnd[1]=T,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var E=Math.abs(r.dragStart[0]-u)<_,O=Math.abs(r.dragStart[1]-h)<_;if(!function(){for(var I=s.graphDiv._fullLayout._axisConstraintGroups,R=s.xaxis._id,H=s.yaxis._id,z=0;z<I.length;z++)if(I[z][R]!==-1){if(I[z][H]!==-1)return!0;break}return!1}()||E&&O)E&&(r.boxEnd[0]=r.boxStart[0]),O&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],y=r.boxEnd[1]-r.boxStart[1];var P=(d[3]-d[1])/(d[2]-d[0]);Math.abs(c*P)>Math.abs(y)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*P*(y>=0?1:-1),r.boxEnd[1]<d[1]?(r.boxEnd[1]=d[1],r.boxEnd[0]=r.boxStart[0]+(d[1]-r.boxStart[1])/Math.abs(P)):r.boxEnd[1]>d[3]&&(r.boxEnd[1]=d[3],r.boxEnd[0]=r.boxStart[0]+(d[3]-r.boxStart[1])/Math.abs(P))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(y)/P*(c>=0?1:-1),r.boxEnd[0]<d[0]?(r.boxEnd[0]=d[0],r.boxEnd[1]=r.boxStart[1]+(d[0]-r.boxStart[0])*Math.abs(P)):r.boxEnd[0]>d[2]&&(r.boxEnd[0]=d[2],r.boxEnd[1]=r.boxStart[1]+(d[2]-r.boxStart[0])*Math.abs(P)))}}else r.boxEnabled?(c=r.boxStart[0]!==r.boxEnd[0],y=r.boxStart[1]!==r.boxEnd[1],c||y?(c&&(p(0,r.boxStart[0],r.boxEnd[0]),s.xaxis.autorange=!1),y&&(p(1,r.boxStart[1],r.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,l?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=h),Math.abs(r.dragStart[0]-u)<m&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-h)<m&&(h=r.dragStart[1]),c=(g-u)*(d[2]-d[0])/(i.viewBox[2]-i.viewBox[0]),y=(x-h)*(d[3]-d[1])/(i.viewBox[3]-i.viewBox[1]),d[0]+=c,d[2]+=c,d[1]+=y,d[3]+=y,s.setRanges(d),r.panning=!0,r.lastInputTime=Date.now(),t(),s.cameraChanged(),s.handleAnnotations()):r.panning&&(r.panning=!1,s.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=h}return r.mouseListener=k(n,a),n.addEventListener("touchstart",function(l){var u=o(l.changedTouches[0],n);a(0,u[0],u[1]),a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),n.addEventListener("touchmove",function(l){l.preventDefault();var u=o(l.changedTouches[0],n);a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),n.addEventListener("touchend",function(l){a(0,r.lastPos[0],r.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),r.wheelListener=A(n,function(l,u){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),c=i.viewBox,y=r.lastPos[0],d=r.lastPos[1],v=Math.exp(5*u/(c[3]-c[1])),g=y/(c[2]-c[0])*(h[2]-h[0])+h[0],x=d/(c[3]-c[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-g)*v+g,h[2]=(h[2]-g)*v+g,h[1]=(h[1]-x)*v+x,h[3]=(h[3]-x)*v+x,s.setRanges(h),r.lastInputTime=Date.now(),t(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),r}},92568:function(U,C,e){var k=e(54460),A=e(43080);function o(f){this.scene=f,this.gl=f.gl,this.pixelRatio=f.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var w=o.prototype,b=["xaxis","yaxis"];w.merge=function(f){var s,n,i,r,t,a,l,u,h,c,y;for(this.titleEnable=!1,this.backgroundColor=A(f.plot_bgcolor),c=0;c<2;++c){var d=(s=b[c]).charAt(0);for(i=(n=f[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[d]?"":n.title.text,y=0;y<=2;y+=2)this.labelEnable[c+y]=!1,this.labels[c+y]=i,this.labelColor[c+y]=A(n.title.font.color),this.labelFont[c+y]=n.title.font.family,this.labelSize[c+y]=n.title.font.size,this.labelPad[c+y]=this.getLabelPad(s,n),this.tickEnable[c+y]=!1,this.tickColor[c+y]=A((n.tickfont||{}).color),this.tickAngle[c+y]=n.tickangle==="auto"?0:Math.PI*-n.tickangle/180,this.tickPad[c+y]=this.getTickPad(n),this.tickMarkLength[c+y]=0,this.tickMarkWidth[c+y]=n.tickwidth||0,this.tickMarkColor[c+y]=A(n.tickcolor),this.borderLineEnable[c+y]=!1,this.borderLineColor[c+y]=A(n.linecolor),this.borderLineWidth[c+y]=n.linewidth||0;l=this.hasSharedAxis(n),t=this.hasAxisInDfltPos(s,n)&&!l,a=this.hasAxisInAltrPos(s,n)&&!l,r=n.mirror||!1,u=l?String(r).indexOf("all")!==-1:!!r,h=l?r==="allticks":String(r).indexOf("ticks")!==-1,t?this.labelEnable[c]=!0:a&&(this.labelEnable[c+2]=!0),t?this.tickEnable[c]=n.showticklabels:a&&(this.tickEnable[c+2]=n.showticklabels),(t||u)&&(this.borderLineEnable[c]=n.showline),(a||u)&&(this.borderLineEnable[c+2]=n.showline),(t||h)&&(this.tickMarkLength[c]=this.getTickMarkLength(n)),(a||h)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(n)),this.gridLineEnable[c]=n.showgrid,this.gridLineColor[c]=A(n.gridcolor),this.gridLineWidth[c]=n.gridwidth,this.zeroLineEnable[c]=n.zeroline,this.zeroLineColor[c]=A(n.zerolinecolor),this.zeroLineWidth[c]=n.zerolinewidth}},w.hasSharedAxis=function(f){var s=this.scene,n=s.fullLayout._subplots.gl2d;return k.findSubplotsWithAxis(n,f).indexOf(s.id)!==0},w.hasAxisInDfltPos=function(f,s){var n=s.side;return f==="xaxis"?n==="bottom":f==="yaxis"?n==="left":void 0},w.hasAxisInAltrPos=function(f,s){var n=s.side;return f==="xaxis"?n==="top":f==="yaxis"?n==="right":void 0},w.getLabelPad=function(f,s){var n=1.5,i=s.title.font.size,r=s.showticklabels;return f==="xaxis"?s.side==="top"?i*(n+(r?1:0))-10:i*(n+(r?.5:0))-10:f==="yaxis"?s.side==="right"?10+i*(n+(r?1:.5)):10+i*(n+(r?.5:0)):void 0},w.getTickPad=function(f){return f.ticks==="outside"?10+f.ticklen:15},w.getTickMarkLength=function(f){if(!f.ticks)return 0;var s=f.ticklen;return f.ticks==="inside"?-s:s},U.exports=function(f){return new o(f)}},39952:function(U,C,e){var k=e(67824).overrideAll,A=e(17188),o=e(64859),w=e(9616),b=e(33816),f=e(57952),s=e(65460),n=e(84888).op;C.name="gl2d",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=b.idRegex,C.attrRegex=b.attrRegex,C.attributes=e(26720),C.supplyLayoutDefaults=function(i,r,t){r._has("cartesian")||f.supplyLayoutDefaults(i,r,t)},C.layoutAttrOverrides=k(f.layoutAttributes,"plot","from-root"),C.baseLayoutAttrOverrides=k({plot_bgcolor:o.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),C.plot=function(i){for(var r=i._fullLayout,t=i._fullData,a=r._subplots.gl2d,l=0;l<a.length;l++){var u=a[l],h=r._plots[u],c=n(t,"gl2d",u),y=h._scene2d;y===void 0&&(y=new A({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},r),h._scene2d=y),y.plot(c,i.calcdata,r,i.layout)}},C.clean=function(i,r,t,a){for(var l=a._subplots.gl2d||[],u=0;u<l.length;u++){var h=l[u],c=a._plots[h];c._scene2d&&n(i,"gl2d",h).length===0&&(c._scene2d.destroy(),delete a._plots[h])}f.clean.apply(this,arguments)},C.drawFramework=function(i){i._context.staticPlot||f.drawFramework(i)},C.toSVG=function(i){for(var r=i._fullLayout,t=r._subplots.gl2d,a=0;a<t.length;a++){var l=r._plots[t[a]]._scene2d,u=l.toImage("png");r._glimages.append("svg:image").attr({xmlns:w.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},C.updateFx=function(i){for(var r=i._fullLayout,t=r._subplots.gl2d,a=0;a<t.length;a++)r._plots[t[a]]._scene2d.updateFx(r.dragmode)}},17188:function(U,C,e){var k,A,o=e(24040),w=e(54460),b=e(93024),f=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,n=e(67792).gl_select_box,i=e(5408),r=e(92568),t=e(2428),a=e(16576),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,y=e(72760),d=y.drawMode,v=y.selectMode,g=["xaxis","yaxis"],x=e(33816).SUBPLOT_PATTERN;function m(p,S){this.container=p.container,this.graphDiv=p.graphDiv,this.pixelRatio=p.plotGlPixelRatio||window.devicePixelRatio,this.id=p.id,this.staticPlot=!!p.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=f(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=n(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}U.exports=m;var _=m.prototype;_.makeFramework=function(){if(this.staticPlot){if(!(A||(k=document.createElement("canvas"),A=i({canvas:k,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=k,this.gl=A}else{var p=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return a(this),void(this.stopped=!0);this.canvas=p,this.gl=S}var T=this.canvas;T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.top="0px",T.style.left="0px",T.style["pointer-events"]="none",this.updateSize(T);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var O=this.mouseContainer=document.createElement("div");O.style.position="absolute",O.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(E),P.appendChild(O);var I=this;O.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),O.addEventListener("mouseover",function(){I.isMouseOver=!0})},_.toImage=function(p){p||(p="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(k),this.updateSize(this.canvas);var S=this.glplot.gl,T=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var O=new Uint8Array(T*E*4);S.readPixels(0,0,T,E,S.RGBA,S.UNSIGNED_BYTE,O);for(var P=0,I=E-1;P<I;++P,--I)for(var R=0;R<T;++R)for(var H=0;H<4;++H){var z=O[4*(T*P+R)+H];O[4*(T*P+R)+H]=O[4*(T*I+R)+H],O[4*(T*I+R)+H]=z}var j=document.createElement("canvas");j.width=T,j.height=E;var Z,F=j.getContext("2d",{willReadFrequently:!0}),V=F.createImageData(T,E);switch(V.data.set(O),F.putImageData(V,0,0),p){case"jpeg":Z=j.toDataURL("image/jpeg");break;case"webp":Z=j.toDataURL("image/webp");break;default:Z=j.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(k),Z},_.updateSize=function(p){p||(p=this.canvas);var S=this.pixelRatio,T=this.fullLayout,E=T.width,O=T.height,P=0|Math.ceil(S*E),I=0|Math.ceil(S*O);return p.width===P&&p.height===I||(p.width=P,p.height=I),p},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var p=[w.calcTicks(this.xaxis),w.calcTicks(this.yaxis)],S=0;S<2;++S)for(var T=0;T<p[S].length;++T)p[S][T].text=p[S][T].text+"";return p},_.updateRefs=function(p){this.fullLayout=p;var S=this.id.match(x),T="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[T],this.yaxis=this.fullLayout[E]},_.relayoutCallback=function(){var p=this.graphDiv,S=this.xaxis,T=this.yaxis,E=p.layout,O={},P=O[S._name+".range"]=S.range.slice(),I=O[T._name+".range"]=T.range.slice();O[S._name+".autorange"]=S.autorange,O[T._name+".autorange"]=T.autorange,o.call("_storeDirectGUIEdit",p.layout,p._fullLayout._preGUI,O);var R=E[S._name];R.range=P,R.autorange=S.autorange;var H=E[T._name];H.range=I,H.autorange=T.autorange,O.lastInputTime=this.camera.lastInputTime,p.emit("plotly_relayout",O)},_.cameraChanged=function(){var p=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(T,E){for(var O=0;O<2;++O){var P=T[O],I=E[O];if(P.length!==I.length)return!0;for(var R=0;R<P.length;++R)if(P[R].x!==I[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=p.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var p=this.graphDiv,S=this.fullLayout.annotations,T=0;T<S.length;T++){var E=S[T];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&o.getComponentMethod("annotations","drawOne")(p,T)}},_.destroy=function(){if(this.glplot){var p=this.traces;p&&Object.keys(p).map(function(S){p[S].dispose(),delete p[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(p,S,T){var E=this.glplot;this.updateRefs(T),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(p,S),this.updateFx(T.dragmode);var O=T.width,P=T.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(T),I.screenBox=[0,0,O,P];var R={_fullLayout:{_axisConstraintGroups:T._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:T._size}};h(R,this.xaxis),h(R,this.yaxis);var H,z,j=T._size,Z=this.xaxis.domain,F=this.yaxis.domain;for(I.viewBox=[j.l+Z[0]*j.w,j.b+F[0]*j.h,O-j.r-(1-Z[1])*j.w,P-j.t-(1-F[1])*j.h],this.mouseContainer.style.width=j.w*(Z[1]-Z[0])+"px",this.mouseContainer.style.height=j.h*(F[1]-F[0])+"px",this.mouseContainer.height=j.h*(F[1]-F[0]),this.mouseContainer.style.left=j.l+Z[0]*j.w+"px",this.mouseContainer.style.top=j.t+(1-F[1])*j.h+"px",z=0;z<2;++z)(H=this[g[z]])._length=I.viewBox[z+2]-I.viewBox[z],c(this.graphDiv,H),H.setScale();u(R),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(T),E.update(I),this.glplot.draw()},_.calcDataBox=function(){var p=this.xaxis,S=this.yaxis,T=p.range,E=S.range,O=p.r2l,P=S.r2l;return[O(T[0]),P(E[0]),O(T[1]),P(E[1])]},_.setRanges=function(p){var S=this.xaxis,T=this.yaxis,E=S.l2r,O=T.l2r;S.range=[E(p[0]),E(p[2])],T.range=[O(p[1]),O(p[3])]},_.updateTraces=function(p,S){var T,E,O,P=Object.keys(this.traces);this.fullData=p;e:for(T=0;T<P.length;T++){var I=P[T],R=this.traces[I];for(E=0;E<p.length;E++)if((O=p[E]).uid===I&&O.type===R.type)continue e;R.dispose(),delete this.traces[I]}for(T=0;T<p.length;T++){O=p[T];var H=S[T],z=this.traces[O.uid];z?z.update(O,H):(z=O._module.plot(this,O,H),this.traces[O.uid]=z)}this.glplot.objects.sort(function(j,Z){return j._trace.index-Z._trace.index})},_.updateFx=function(p){v(p)||d(p)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=p==="pan"?"move":p==="zoom"?"crosshair":null},_.emitPointAction=function(p,S){for(var T,E=p.trace.uid,O=p.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===E&&(T=this.fullData[P]);var I={x:p.traceCoord[0],y:p.traceCoord[1],curveNumber:T.index,pointNumber:O,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(I,T,O),this.graphDiv.emit(S,{points:[I]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var p=this.glplot,S=this.camera,T=S.mouseListener,E=this.lastButtonState===1&&T.buttons===0,O=this.fullLayout;this.lastButtonState=T.buttons,this.cameraChanged();var P,I=T.x*p.pixelRatio,R=this.canvas.height-p.pixelRatio*T.y;if(S.boxEnabled&&O.dragmode==="zoom"){this.selectBox.enabled=!0;for(var H=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],z=0;z<2;z++)S.boxStart[z]===S.boxEnd[z]&&(H[z]=p.dataBox[z],H[z+2]=p.dataBox[z+2]);p.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var j=O._size,Z=this.xaxis.domain,F=this.yaxis.domain,V=(P=p.pick(I/p.pixelRatio+j.l+Z[0]*j.w,R/p.pixelRatio-(j.t+(1-F[1])*j.h)))&&P.object._trace.handlePick(P);if(V&&E&&this.emitPointAction(V,"plotly_click"),P&&P.object._trace.hoverinfo!=="skip"&&O.hovermode&&V&&(!this.lastPickResult||this.lastPickResult.traceUid!==V.trace.uid||this.lastPickResult.dataCoord[0]!==V.dataCoord[0]||this.lastPickResult.dataCoord[1]!==V.dataCoord[1])){var W=V;this.lastPickResult={traceUid:V.trace?V.trace.uid:null,dataCoord:V.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),W.screenCoord=[((p.viewBox[2]-p.viewBox[0])*(P.dataCoord[0]-p.dataBox[0])/(p.dataBox[2]-p.dataBox[0])+p.viewBox[0])/p.pixelRatio,(this.canvas.height-(p.viewBox[3]-p.viewBox[1])*(P.dataCoord[1]-p.dataBox[1])/(p.dataBox[3]-p.dataBox[1])-p.viewBox[1])/p.pixelRatio],this.emitPointAction(V,"plotly_hover");var re=this.fullData[W.trace.index]||{},ne=W.pointIndex,te=b.castHoverinfo(re,O,ne);if(te&&te!=="all"){var Q=te.split("+");Q.indexOf("x")===-1&&(W.traceCoord[0]=void 0),Q.indexOf("y")===-1&&(W.traceCoord[1]=void 0),Q.indexOf("z")===-1&&(W.traceCoord[2]=void 0),Q.indexOf("text")===-1&&(W.textLabel=void 0),Q.indexOf("name")===-1&&(W.name=void 0)}b.loneHover({x:W.screenCoord[0],y:W.screenCoord[1],xLabel:this.hoverFormatter("xaxis",W.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",W.traceCoord[1]),zLabel:W.traceCoord[2],text:W.textLabel,name:W.name,color:b.castHoverOption(re,ne,"bgcolor")||W.color,borderColor:b.castHoverOption(re,ne,"bordercolor"),fontFamily:b.castHoverOption(re,ne,"font.family"),fontSize:b.castHoverOption(re,ne,"font.size"),fontColor:b.castHoverOption(re,ne,"font.color"),nameLength:b.castHoverOption(re,ne,"namelength"),textAlign:b.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),p.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},_.hoverFormatter=function(p,S){if(S!==void 0){var T=this[p];return w.tickText(T,T.c2l(S),"hover").text}}},12536:function(U,C,e){var k=e(67824).overrideAll,A=e(65460),o=e(98432),w=e(84888).op,b=e(3400),f=e(9616),s="gl3d",n="scene";C.name=s,C.attr=n,C.idRoot=n,C.idRegex=C.attrRegex=b.counterRegex("scene"),C.attributes=e(6636),C.layoutAttributes=e(346),C.baseLayoutAttrOverrides=k({hoverlabel:A.hoverlabel},"plot","nested"),C.supplyLayoutDefaults=e(5208),C.plot=function(i){for(var r=i._fullLayout,t=i._fullData,a=r._subplots[s],l=0;l<a.length;l++){var u=a[l],h=w(t,s,u),c=r[u],y=c.camera,d=c._scene;d||(d=new o({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:y},r),c._scene=d),d.viewInitial||(d.viewInitial={up:{x:y.up.x,y:y.up.y,z:y.up.z},eye:{x:y.eye.x,y:y.eye.y,z:y.eye.z},center:{x:y.center.x,y:y.center.y,z:y.center.z}}),d.plot(h,r,i.layout)}},C.clean=function(i,r,t,a){for(var l=a._subplots[s]||[],u=0;u<l.length;u++){var h=l[u];!r[h]&&a[h]._scene&&(a[h]._scene.destroy(),a._infolayer&&a._infolayer.selectAll(".annotation-"+h).remove())}},C.toSVG=function(i){for(var r=i._fullLayout,t=r._subplots[s],a=r._size,l=0;l<t.length;l++){var u=r[t[l]],h=u.domain,c=u._scene,y=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":y,x:a.l+a.w*h.x[0],y:a.t+a.h*(1-h.y[1]),width:a.w*(h.x[1]-h.x[0]),height:a.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),c.destroy()}},C.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var r=i.substr(5);return r==="1"&&(r=""),n+r}},C.updateFx=function(i){for(var r=i._fullLayout,t=r._subplots[s],a=0;a<t.length;a++)r[t[a]]._scene.updateFx(r.dragmode,r.hovermode)}},6636:function(U){U.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(U,C,e){var k=e(76308),A=e(94724),o=e(92880).extendFlat,w=e(67824).overrideAll;U.exports=w({visible:A.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:k.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:A.color,categoryorder:A.categoryorder,categoryarray:A.categoryarray,title:{text:A.title.text,font:A.title.font},type:o({},A.type,{values:["-","linear","log","date","category"]}),autotypenumbers:A.autotypenumbers,autorange:A.autorange,autorangeoptions:{minallowed:A.autorangeoptions.minallowed,maxallowed:A.autorangeoptions.maxallowed,clipmin:A.autorangeoptions.clipmin,clipmax:A.autorangeoptions.clipmax,include:A.autorangeoptions.include,editType:"plot"},rangemode:A.rangemode,minallowed:A.minallowed,maxallowed:A.maxallowed,range:o({},A.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:A.ticks,mirror:A.mirror,ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:A.tickfont,tickangle:A.tickangle,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,showexponent:A.showexponent,exponentformat:A.exponentformat,minexponent:A.minexponent,separatethousands:A.separatethousands,tickformat:A.tickformat,tickformatstops:A.tickformatstops,hoverformat:A.hoverformat,showline:A.showline,linecolor:A.linecolor,linewidth:A.linewidth,showgrid:A.showgrid,gridcolor:o({},A.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:A.gridwidth,zeroline:A.zeroline,zerolinecolor:A.zerolinecolor,zerolinewidth:A.zerolinewidth,_deprecated:{title:A._deprecated.title,titlefont:A._deprecated.titlefont}},"plot","from-root")},64380:function(U,C,e){var k=e(49760).mix,A=e(3400),o=e(31780),w=e(86140),b=e(14944),f=e(28336),s=["xaxis","yaxis","zaxis"];U.exports=function(n,i,r){var t,a;function l(c,y){return A.coerce(t,a,w,c,y)}for(var u=0;u<s.length;u++){var h=s[u];t=n[h]||{},(a=o.newContainer(i,h))._id=h[0]+r.scene,a._name=h,b(t,a,l,r),f(t,a,l,{font:r.font,letter:h[0],data:r.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),l("gridcolor",k(a.color,r.bgColor,72.72727272727273).toRgbString()),l("title.text",h[0]),a.setScale=A.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",a.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(U,C,e){var k=e(43080),A=e(3400),o=["xaxis","yaxis","zaxis"];function w(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}w.prototype.merge=function(b,f){for(var s=this,n=0;n<3;++n){var i=f[o[n]];i.visible?(s.labels[n]=b._meta?A.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[n]=k(i.title.font.color)),i.title.font.family&&(s.labelFont[n]=i.title.font.family),i.title.font.size&&(s.labelSize[n]=i.title.font.size),i.title.font.weight&&(s.labelFontWeight[n]=i.title.font.weight),i.title.font.style&&(s.labelFontStyle[n]=i.title.font.style),i.title.font.variant&&(s.labelFontVariant[n]=i.title.font.variant)),"showline"in i&&(s.lineEnable[n]=i.showline),"linecolor"in i&&(s.lineColor[n]=k(i.linecolor)),"linewidth"in i&&(s.lineWidth[n]=i.linewidth),"showgrid"in i&&(s.gridEnable[n]=i.showgrid),"gridcolor"in i&&(s.gridColor[n]=k(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[n]=i.gridwidth),i.type==="log"?s.zeroEnable[n]=!1:"zeroline"in i&&(s.zeroEnable[n]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[n]=k(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[n]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[n]=!0:s.lineTickEnable[n]=!1,"ticklen"in i&&(s.lineTickLength[n]=s._defaultLineTickLength[n]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[n]=k(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[n]=i.tickwidth),"tickangle"in i&&(s.tickAngle[n]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[n]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[n]=k(i.tickfont.color)),i.tickfont.family&&(s.tickFont[n]=i.tickfont.family),i.tickfont.size&&(s.tickSize[n]=i.tickfont.size),i.tickfont.weight&&(s.tickFontWeight[n]=i.tickfont.weight),i.tickfont.style&&(s.tickFontStyle[n]=i.tickfont.style),i.tickfont.variant&&(s.tickFontVariant[n]=i.tickfont.variant)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(s.lineTickMirror[n]=!0,s.lineMirror[n]=!0):i.mirror===!0?(s.lineTickMirror[n]=!1,s.lineMirror[n]=!0):(s.lineTickMirror[n]=!1,s.lineMirror[n]=!1):s.lineMirror[n]=!1,"showbackground"in i&&i.showbackground!==!1?(s.backgroundEnable[n]=!0,s.backgroundColor[n]=k(i.backgroundcolor)):s.backgroundEnable[n]=!1):(s.tickEnable[n]=!1,s.labelEnable[n]=!1,s.lineEnable[n]=!1,s.lineTickEnable[n]=!1,s.gridEnable[n]=!1,s.zeroEnable[n]=!1,s.backgroundEnable[n]=!1)}},U.exports=function(b,f){var s=new w;return s.merge(b,f),s}},5208:function(U,C,e){var k=e(3400),A=e(76308),o=e(24040),w=e(168),b=e(64380),f=e(346),s=e(84888).op,n="gl3d";function i(r,t,a,l){for(var u=a("bgcolor"),h=A.combine(u,l.paper_bgcolor),c=["up","center","eye"],y=0;y<c.length;y++)a("camera."+c[y]+".x"),a("camera."+c[y]+".y"),a("camera."+c[y]+".z");a("camera.projection.type");var d=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),v=a("aspectmode",d?"manual":"auto");d||(r.aspectratio=t.aspectratio={x:1,y:1,z:1},v==="manual"&&(t.aspectmode="auto"),r.aspectmode=t.aspectmode);var g=s(l.fullData,n,l.id);b(r,t,{font:l.font,scene:l.id,data:g,bgColor:h,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(r,t,l);var x=l.getDfltFromLayout("dragmode");if(x!==!1&&!x)if(x="orbit",r.camera&&r.camera.up){var m=r.camera.up.x,_=r.camera.up.y,p=r.camera.up.z;p!==0&&(m&&_&&p?p/Math.sqrt(m*m+_*_+p*p)>.999&&(x="turntable"):x="turntable")}else x="turntable";a("dragmode",x),a("hovermode",l.getDfltFromLayout("hovermode"))}U.exports=function(r,t,a){var l=t._basePlotModules.length>1;w(r,t,a,{type:n,attributes:f,handleDefaults:i,fullLayout:t,font:t.font,fullData:a,getDfltFromLayout:function(u){if(!l)return k.validate(r[u],f[u])?r[u]:void 0},autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},346:function(U,C,e){var k=e(86140),A=e(86968).u,o=e(92880).extendFlat,w=e(3400).counterRegex;function b(f,s,n){return{x:{valType:"number",dflt:f,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}U.exports={_arrayAttrRegexps:[w("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(b(0,0,1),{}),center:o(b(0,0,0),{}),eye:o(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:A({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:k,yaxis:k,zaxis:k,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(U,C,e){var k=e(43080),A=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(w){for(var b=0;b<3;++b){var f=w[A[b]];f.visible?(this.enabled[b]=f.showspikes,this.colors[b]=k(f.spikecolor),this.drawSides[b]=f.spikesides,this.lineWidth[b]=f.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},U.exports=function(w){var b=new o;return b.merge(w),b}},87152:function(U,C,e){U.exports=function(b){for(var f=b.axesOptions,s=b.glplot.axesPixels,n=b.fullSceneLayout,i=[[],[],[]],r=0;r<3;++r){var t=n[o[r]];if(t._length=(s[r].hi-s[r].lo)*s[r].pixelsPerDataUnit/b.dataScale[r],Math.abs(t._length)===1/0||isNaN(t._length))i[r]=[];else{t._input_range=t.range.slice(),t.range[0]=s[r].lo/b.dataScale[r],t.range[1]=s[r].hi/b.dataScale[r],t._m=1/(b.dataScale[r]*s[r].pixelsPerDataUnit),t.range[0]===t.range[1]&&(t.range[0]-=1,t.range[1]+=1);var a=t.tickmode;if(t.tickmode==="auto"){t.tickmode="linear";var l=t.nticks||A.constrain(t._length/40,4,9);k.autoTicks(t,Math.abs(t.range[1]-t.range[0])/l)}for(var u=k.calcTicks(t,{msUTC:!0}),h=0;h<u.length;++h)u[h].x=u[h].x*b.dataScale[r],t.type==="date"&&(u[h].text=u[h].text.replace(/\<br\>/g," "));i[r]=u,t.tickmode=a}}for(f.ticks=i,r=0;r<3;++r)for(w[r]=.5*(b.glplot.bounds[0][r]+b.glplot.bounds[1][r]),h=0;h<2;++h)f.bounds[h][r]=b.glplot.bounds[h][r];b.contourLevels=function(c){for(var y=new Array(3),d=0;d<3;++d){for(var v=c[d],g=new Array(v.length),x=0;x<v.length;++x)g[x]=v[x].x;y[d]=g}return y}(i)};var k=e(54460),A=e(3400),o=["xaxis","yaxis","zaxis"],w=[0,0,0]},94424:function(U){function C(e,k){var A,o,w=[0,0,0,0];for(A=0;A<4;++A)for(o=0;o<4;++o)w[o]+=e[4*A+o]*k[A];return w}U.exports=function(e,k){return C(e.projection,C(e.view,C(e.model,[k[0],k[1],k[2],1])))}},98432:function(U,C,e){var k,A,o=e(67792).gl_plot3d,w=o.createCamera,b=o.createScene,f=e(5408),s=e(89184),n=e(24040),i=e(3400),r=i.preserveDrawingBuffer(),t=e(54460),a=e(93024),l=e(43080),u=e(16576),h=e(94424),c=e(44728),y=e(9020),d=e(87152),v=e(19280).applyAutorangeOptions,g=!1;function x(T,E){var O=document.createElement("div"),P=T.container;this.graphDiv=T.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",O.appendChild(I),this.svgContainer=I,O.id=T.id,O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",P.appendChild(O),this.fullLayout=E,this.id=T.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=y(E[this.id]),this.container=O,this.staticMode=!!T.staticPlot,this.pixelRatio=this.pixelRatio||T.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=n.getComponentMethod("annotations3d","convert"),this.drawAnnotations=n.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=x.prototype;m.prepareOptions=function(){var T=this,E={canvas:T.canvas,gl:T.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:T.container,axes:T.axesOptions,spikes:T.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:T.camera,pixelRatio:T.pixelRatio};if(T.staticMode){if(!(A||(k=document.createElement("canvas"),A=f({canvas:k,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=A,E.canvas=k}return E};var _=!0;m.tryCreatePlot=function(){var T=this,E=T.prepareOptions(),O=!0;try{T.glplot=b(E)}catch{if(T.staticMode||!_||r)O=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=E.glOptions.preserveDrawingBuffer=!0,T.glplot=b(E)}catch{r=E.glOptions.preserveDrawingBuffer=!1,O=!1}}}return _=!1,O},m.initializeGLCamera=function(){var T=this,E=T.fullSceneLayout.camera,O=E.projection.type==="orthographic";T.camera=w(T.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:O,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var T=this;if(T.initializeGLCamera(),!T.tryCreatePlot())return u(T);T.traces={},T.make4thDimension();var E=T.graphDiv,O=E.layout,P=function(){var R={};return T.isCameraChanged(O)&&(R[T.id+".camera"]=T.getCamera()),T.isAspectChanged(O)&&(R[T.id+".aspectratio"]=T.glplot.getAspectratio(),O[T.id].aspectmode!=="manual"&&(T.fullSceneLayout.aspectmode=O[T.id].aspectmode=R[T.id+".aspectmode"]="manual")),R},I=function(R){if(R.fullSceneLayout.dragmode!==!1){var H=P();R.saveLayout(O),R.graphDiv.emit("plotly_relayout",H)}};return T.glplot.canvas&&(T.glplot.canvas.addEventListener("mouseup",function(){I(T)}),T.glplot.canvas.addEventListener("touchstart",function(){g=!0}),T.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(T.camera._ortho){var H=R.deltaX>R.deltaY?1.1:.9090909090909091,z=T.glplot.getAspectratio();T.glplot.setAspectratio({x:H*z.x,y:H*z.y,z:H*z.z})}I(T)}},!!s&&{passive:!1}),T.glplot.canvas.addEventListener("mousemove",function(){if(T.fullSceneLayout.dragmode!==!1&&T.camera.mouseListener.buttons!==0){var R=P();T.graphDiv.emit("plotly_relayouting",R)}}),T.staticMode||T.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:T.id})},!1)),T.glplot.oncontextloss=function(){T.recoverContext()},T.glplot.onrender=function(){T.render()},!0},m.render=function(){var T,E=this,O=E.graphDiv,P=E.svgContainer,I=E.container.getBoundingClientRect();O._fullLayout._calcInverseTransform(O);var R=O._fullLayout._invScaleX,H=O._fullLayout._invScaleY,z=I.width*R,j=I.height*H;P.setAttributeNS(null,"viewBox","0 0 "+z+" "+j),P.setAttributeNS(null,"width",z),P.setAttributeNS(null,"height",j),d(E),E.glplot.axes.update(E.axesOptions);for(var Z=Object.keys(E.traces),F=null,V=E.glplot.selection,W=0;W<Z.length;++W)(T=E.traces[Z[W]]).data.hoverinfo!=="skip"&&T.handlePick(V)&&(F=T),T.setContourLevels&&T.setContourLevels();function re(_e,be,Le){var De=E.fullSceneLayout[_e+"axis"];return De.type!=="log"&&(be=De.d2l(be)),t.hoverLabelText(De,be,Le)}if(F!==null){var ne=h(E.glplot.cameraParams,V.dataCoordinate);T=F.data;var te,Q=O._fullData[T.index],$=V.index,K={xLabel:re("x",V.traceCoordinate[0],T.xhoverformat),yLabel:re("y",V.traceCoordinate[1],T.yhoverformat),zLabel:re("z",V.traceCoordinate[2],T.zhoverformat)},ae=a.castHoverinfo(Q,E.fullLayout,$),ue=(ae||"").split("+"),se=ae&&ae==="all";Q.hovertemplate||se||(ue.indexOf("x")===-1&&(K.xLabel=void 0),ue.indexOf("y")===-1&&(K.yLabel=void 0),ue.indexOf("z")===-1&&(K.zLabel=void 0),ue.indexOf("text")===-1&&(V.textLabel=void 0),ue.indexOf("name")===-1&&(F.name=void 0));var he=[];T.type==="cone"||T.type==="streamtube"?(K.uLabel=re("x",V.traceCoordinate[3],T.uhoverformat),(se||ue.indexOf("u")!==-1)&&he.push("u: "+K.uLabel),K.vLabel=re("y",V.traceCoordinate[4],T.vhoverformat),(se||ue.indexOf("v")!==-1)&&he.push("v: "+K.vLabel),K.wLabel=re("z",V.traceCoordinate[5],T.whoverformat),(se||ue.indexOf("w")!==-1)&&he.push("w: "+K.wLabel),K.normLabel=V.traceCoordinate[6].toPrecision(3),(se||ue.indexOf("norm")!==-1)&&he.push("norm: "+K.normLabel),T.type==="streamtube"&&(K.divergenceLabel=V.traceCoordinate[7].toPrecision(3),(se||ue.indexOf("divergence")!==-1)&&he.push("divergence: "+K.divergenceLabel)),V.textLabel&&he.push(V.textLabel),te=he.join("<br>")):T.type==="isosurface"||T.type==="volume"?(K.valueLabel=t.hoverLabelText(E._mockAxis,E._mockAxis.d2l(V.traceCoordinate[3]),T.valuehoverformat),he.push("value: "+K.valueLabel),V.textLabel&&he.push(V.textLabel),te=he.join("<br>")):te=V.textLabel;var pe={x:V.traceCoordinate[0],y:V.traceCoordinate[1],z:V.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:$};a.appendArrayPointValue(pe,Q,$),T._module.eventData&&(pe=Q._module.eventData(pe,V,Q,{},$));var de={points:[pe]};if(E.fullSceneLayout.hovermode){var xe=[];a.loneHover({trace:Q,x:(.5+.5*ne[0]/ne[3])*z,y:(.5-.5*ne[1]/ne[3])*j,xLabel:K.xLabel,yLabel:K.yLabel,zLabel:K.zLabel,text:te,name:F.name,color:a.castHoverOption(Q,$,"bgcolor")||F.color,borderColor:a.castHoverOption(Q,$,"bordercolor"),fontFamily:a.castHoverOption(Q,$,"font.family"),fontSize:a.castHoverOption(Q,$,"font.size"),fontColor:a.castHoverOption(Q,$,"font.color"),nameLength:a.castHoverOption(Q,$,"namelength"),textAlign:a.castHoverOption(Q,$,"align"),hovertemplate:i.castOption(Q,$,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,K),eventData:[pe]},{container:P,gd:O,inOut_bbox:xe}),pe.bbox=xe[0]}V.distance<5&&(V.buttons||g)?O.emit("plotly_click",de):O.emit("plotly_hover",de),this.oldEventData=de}else a.loneUnhover(P),this.oldEventData&&O.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var T=this;T.glplot.dispose();var E=function(){T.glplot.gl.isContextLost()?requestAnimationFrame(E):T.initializeGLPlot()?T.plot.apply(T,T.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var p=["xaxis","yaxis","zaxis"];function S(T,E,O){for(var P=T.fullSceneLayout,I=0;I<3;I++){var R=p[I],H=R.charAt(0),z=P[R],j=E[H],Z=E[H+"calendar"],F=E["_"+H+"length"];if(i.isArrayOrTypedArray(j))for(var V,W=0;W<(F||j.length);W++)if(i.isArrayOrTypedArray(j[W]))for(var re=0;re<j[W].length;++re)V=z.d2l(j[W][re],0,Z),!isNaN(V)&&isFinite(V)&&(O[0][I]=Math.min(O[0][I],V),O[1][I]=Math.max(O[1][I],V));else V=z.d2l(j[W],0,Z),!isNaN(V)&&isFinite(V)&&(O[0][I]=Math.min(O[0][I],V),O[1][I]=Math.max(O[1][I],V));else O[0][I]=Math.min(O[0][I],0),O[1][I]=Math.max(O[1][I],F-1)}}m.plot=function(T,E,O){var P=this;if(P.plotArgs=[T,E,O],!P.glplot.contextLost){var I,R,H,z,j,Z,F=E[P.id],V=O[P.id];P.fullLayout=E,P.fullSceneLayout=F,P.axesOptions.merge(E,F),P.spikeOptions.merge(F),P.setViewport(F),P.updateFx(F.dragmode,F.hovermode),P.camera.enableWheel=P.graphDiv._context._scrollZoom.gl3d,P.glplot.setClearColor(l(F.bgcolor)),P.setConvert(j),T?Array.isArray(T)||(T=[T]):T=[];var W=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<T.length;++H)(I=T[H]).visible===!0&&I._length!==0&&S(this,I,W);(function(Ee,ze){for(var Fe=Ee.fullSceneLayout,ge=Fe.annotations||[],Te=0;Te<3;Te++)for(var Se=p[Te],Re=Se.charAt(0),Pe=Fe[Se],Ve=0;Ve<ge.length;Ve++){var We=ge[Ve];if(We.visible){var Qe=Pe.r2l(We[Re]);!isNaN(Qe)&&isFinite(Qe)&&(ze[0][Te]=Math.min(ze[0][Te],Qe),ze[1][Te]=Math.max(ze[1][Te],Qe))}}})(this,W);var re=[1,1,1];for(z=0;z<3;++z)W[1][z]===W[0][z]?re[z]=1:re[z]=1/(W[1][z]-W[0][z]);for(P.dataScale=re,P.convertAnnotations(this),H=0;H<T.length;++H)(I=T[H]).visible===!0&&I._length!==0&&((R=P.traces[I.uid])?R.data.type===I.type?R.update(I):(R.dispose(),R=I._module.plot(this,I),P.traces[I.uid]=R):(R=I._module.plot(this,I),P.traces[I.uid]=R),R.name=I.name);var ne=Object.keys(P.traces);e:for(H=0;H<ne.length;++H){for(z=0;z<T.length;++z)if(T[z].uid===ne[H]&&T[z].visible===!0&&T[z]._length!==0)continue e;(R=P.traces[ne[H]]).dispose(),delete P.traces[ne[H]]}P.glplot.objects.sort(function(Ee,ze){return Ee._trace.data.index-ze._trace.data.index});var te,Q=[[0,0,0],[0,0,0]],$=[],K={};for(H=0;H<3;++H){var ae;if((Z=(j=F[p[H]]).type)in K?(K[Z].acc*=re[H],K[Z].count+=1):K[Z]={acc:re[H],count:1},j.autorange){Q[0][H]=1/0,Q[1][H]=-1/0;var ue=P.glplot.objects,se=P.fullSceneLayout.annotations||[],he=j._name.charAt(0);for(z=0;z<ue.length;z++){var pe=ue[z],de=pe.bounds,xe=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&j._lowerLogErrorBound?Q[0][H]=Math.min(Q[0][H],j._lowerLogErrorBound):Q[0][H]=Math.min(Q[0][H],de[0][H]/re[H]-xe),Q[1][H]=Math.max(Q[1][H],de[1][H]/re[H]+xe)}for(z=0;z<se.length;z++){var _e=se[z];if(_e.visible){var be=j.r2l(_e[he]);Q[0][H]=Math.min(Q[0][H],be),Q[1][H]=Math.max(Q[1][H],be)}}if("rangemode"in j&&j.rangemode==="tozero"&&(Q[0][H]=Math.min(Q[0][H],0),Q[1][H]=Math.max(Q[1][H],0)),Q[0][H]>Q[1][H])Q[0][H]=-1,Q[1][H]=1;else{var Le=Q[1][H]-Q[0][H];Q[0][H]-=Le/32,Q[1][H]+=Le/32}if(ae=[Q[0][H],Q[1][H]],ae=v(ae,j),Q[0][H]=ae[0],Q[1][H]=ae[1],j.isReversed()){var De=Q[0][H];Q[0][H]=Q[1][H],Q[1][H]=De}}else ae=j.range,Q[0][H]=j.r2l(ae[0]),Q[1][H]=j.r2l(ae[1]);Q[0][H]===Q[1][H]&&(Q[0][H]-=1,Q[1][H]+=1),$[H]=Q[1][H]-Q[0][H],j.range=[Q[0][H],Q[1][H]],j.limitRange(),P.glplot.setBounds(H,{min:j.range[0]*re[H],max:j.range[1]*re[H]})}var ye=F.aspectmode;if(ye==="cube")te=[1,1,1];else if(ye==="manual"){var le=F.aspectratio;te=[le.x,le.y,le.z]}else{if(ye!=="auto"&&ye!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var oe=[1,1,1];for(H=0;H<3;++H){var ve=K[Z=(j=F[p[H]]).type];oe[H]=Math.pow(ve.acc,1/ve.count)/re[H]}te=ye==="data"||Math.max.apply(null,oe)/Math.min.apply(null,oe)<=4?oe:[1,1,1]}F.aspectratio.x=V.aspectratio.x=te[0],F.aspectratio.y=V.aspectratio.y=te[1],F.aspectratio.z=V.aspectratio.z=te[2],P.glplot.setAspectratio(F.aspectratio),P.viewInitial.aspectratio||(P.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),P.viewInitial.aspectmode||(P.viewInitial.aspectmode=F.aspectmode);var Ce=F.domain||null,ke=E._size||null;if(Ce&&ke){var Ae=P.container.style;Ae.position="absolute",Ae.left=ke.l+Ce.x[0]*ke.w+"px",Ae.top=ke.t+(1-Ce.y[1])*ke.h+"px",Ae.width=ke.w*(Ce.x[1]-Ce.x[0])+"px",Ae.height=ke.h*(Ce.y[1]-Ce.y[0])+"px"}P.glplot.redraw()}},m.destroy=function(){var T=this;T.glplot&&(T.camera.mouseListener.enabled=!1,T.container.removeEventListener("wheel",T.camera.wheelListener),T.camera=null,T.glplot.dispose(),T.container.parentNode.removeChild(T.container),T.glplot=null)},m.getCamera=function(){var T,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(T=E.camera).up[0],y:T.up[1],z:T.up[2]},center:{x:T.center[0],y:T.center[1],z:T.center[2]},eye:{x:T.eye[0],y:T.eye[1],z:T.eye[2]},projection:{type:T._ortho===!0?"orthographic":"perspective"}}},m.setViewport=function(T){var E,O=this,P=T.camera;O.camera.lookAt.apply(this,[[(E=P).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),O.glplot.setAspectratio(T.aspectratio),P.projection.type==="orthographic"!==O.camera._ortho&&(O.glplot.redraw(),O.glplot.clearRGBA(),O.glplot.dispose(),O.initializeGLPlot())},m.isCameraChanged=function(T){var E=this.getCamera(),O=i.nestedProperty(T,this.id+".camera").get();function P(z,j,Z,F){var V=["up","center","eye"],W=["x","y","z"];return j[V[Z]]&&z[V[Z]][W[F]]===j[V[Z]][W[F]]}var I=!1;if(O===void 0)I=!0;else{for(var R=0;R<3;R++)for(var H=0;H<3;H++)if(!P(E,O,R,H)){I=!0;break}(!O.projection||E.projection&&E.projection.type!==O.projection.type)&&(I=!0)}return I},m.isAspectChanged=function(T){var E=this.glplot.getAspectratio(),O=i.nestedProperty(T,this.id+".aspectratio").get();return O===void 0||O.x!==E.x||O.y!==E.y||O.z!==E.z},m.saveLayout=function(T){var E,O,P,I,R,H,z=this,j=z.fullLayout,Z=z.isCameraChanged(T),F=z.isAspectChanged(T),V=Z||F;if(V){var W={};Z&&(E=z.getCamera(),P=(O=i.nestedProperty(T,z.id+".camera")).get(),W[z.id+".camera"]=P),F&&(I=z.glplot.getAspectratio(),H=(R=i.nestedProperty(T,z.id+".aspectratio")).get(),W[z.id+".aspectratio"]=H),n.call("_storeDirectGUIEdit",T,j._preGUI,W),Z&&(O.set(E),i.nestedProperty(j,z.id+".camera").set(E)),F&&(R.set(I),i.nestedProperty(j,z.id+".aspectratio").set(I),z.glplot.redraw())}return V},m.updateFx=function(T,E){var O=this,P=O.camera;if(P)if(T==="orbit")P.mode="orbit",P.keyBindingMode="rotate";else if(T==="turntable"){P.up=[0,0,1],P.mode="turntable",P.keyBindingMode="rotate";var I=O.graphDiv,R=I._fullLayout,H=O.fullSceneLayout.camera,z=H.up.x,j=H.up.y,Z=H.up.z;if(Z/Math.sqrt(z*z+j*j+Z*Z)<.999){var F=O.id+".camera.up",V={x:0,y:0,z:1},W={};W[F]=V;var re=I.layout;n.call("_storeDirectGUIEdit",re,R._preGUI,W),H.up=V,i.nestedProperty(re,F).set(V)}}else P.keyBindingMode=T;O.fullSceneLayout.hovermode=E},m.toImage=function(T){var E=this;T||(T="png"),E.staticMode&&E.container.appendChild(k),E.glplot.redraw();var O=E.glplot.gl,P=O.drawingBufferWidth,I=O.drawingBufferHeight;O.bindFramebuffer(O.FRAMEBUFFER,null);var R=new Uint8Array(P*I*4);O.readPixels(0,0,P,I,O.RGBA,O.UNSIGNED_BYTE,R),function(F,V,W){for(var re=0,ne=W-1;re<ne;++re,--ne)for(var te=0;te<V;++te)for(var Q=0;Q<4;++Q){var $=4*(V*re+te)+Q,K=4*(V*ne+te)+Q,ae=F[$];F[$]=F[K],F[K]=ae}}(R,P,I),function(F,V,W){for(var re=0;re<W;++re)for(var ne=0;ne<V;++ne){var te=4*(V*re+ne),Q=F[te+3];if(Q>0)for(var $=255/Q,K=0;K<3;++K)F[te+K]=Math.min($*F[te+K],255)}}(R,P,I);var H=document.createElement("canvas");H.width=P,H.height=I;var z,j=H.getContext("2d",{willReadFrequently:!0}),Z=j.createImageData(P,I);switch(Z.data.set(R),j.putImageData(Z,0,0),T){case"jpeg":z=H.toDataURL("image/jpeg");break;case"webp":z=H.toDataURL("image/webp");break;default:z=H.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(k),z},m.setConvert=function(){for(var T=0;T<3;T++){var E=this.fullSceneLayout[p[T]];t.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var T=this,E=T.graphDiv._fullLayout;T._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(T._mockAxis,E)},U.exports=x},52094:function(U){U.exports=function(C,e,k,A){A=A||C.length;for(var o=new Array(A),w=0;w<A;w++)o[w]=[C[w],e[w],k[w]];return o}},64859:function(U,C,e){var k=e(25376),A=e(85656),o=e(22548),w=e(92872),b=e(34200),f=e(66741),s=e(92880).extendFlat,n=k({editType:"calc"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=o.defaultLine,U.exports={font:n,title:{text:{valType:"string",editType:"layoutstyle"},font:k({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:w.newshape,activeshape:w.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},A.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:k({editType:"layoutstyle"})}}},47552:function(U,C,e){var k=e(95376),A="1.13.4",o='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',w=['© <a target="_blank" href="https://carto.com/">Carto</a>',o].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),f={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:o,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:w,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:w,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=k(f);U.exports={requiredVersion:A,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:f,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+A+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(U,C,e){var k=e(3400);U.exports=function(A,o){var w=A.split(" "),b=w[0],f=w[1],s=k.isArrayOrTypedArray(o)?k.mean(o):o,n=.5+s/100,i=1.5+s/100,r=["",""],t=[0,0];switch(b){case"top":r[0]="top",t[1]=-i;break;case"bottom":r[0]="bottom",t[1]=i}switch(f){case"left":r[1]="right",t[0]=-n;break;case"right":r[1]="left",t[0]=n}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:t}}},33688:function(U,C,e){var k=e(3480),A=e(3400),o=A.strTranslate,w=A.strScale,b=e(84888).KY,f=e(9616),s=e(33428),n=e(43616),i=e(72736),r=e(14440),t="mapbox",a=C.constants=e(47552);function l(u){return typeof u=="string"&&(a.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}C.name=t,C.attr="subplot",C.idRoot=t,C.idRegex=C.attrRegex=A.counterRegex(t),C.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},C.layoutAttributes=e(5232),C.supplyLayoutDefaults=e(5976),C.plot=function(u){var h=u._fullLayout,c=u.calcdata,y=h._subplots[t];if(k.version!==a.requiredVersion)throw new Error(a.wrongVersionErrorMsg);var d=function(p,S){var T=p._fullLayout;if(p._context.mapboxAccessToken==="")return"";for(var E=[],O=[],P=!1,I=!1,R=0;R<S.length;R++){var H=T[S[R]],z=H.accesstoken;l(H.style)&&(z?A.pushUnique(E,z):(l(H._input.style)&&(A.error("Uses Mapbox map style, but did not set an access token."),P=!0),I=!0)),z&&A.pushUnique(O,z)}if(I){var j=P?a.noAccessTokenErrorMsg:a.missingStyleErrorMsg;throw A.error(j),new Error(j)}return E.length?(E.length>1&&A.warn(a.multipleTokensErrorMsg),E[0]):(O.length&&A.log(["Listed mapbox access token(s)",O.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,y);k.accessToken=d;for(var v=0;v<y.length;v++){var g=y[v],x=b(c,t,g),m=h[g],_=m._subplot;_||(_=new r(u,g),h[g]._subplot=_),_.viewInitial||(_.viewInitial={center:A.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),_.plot(x,h,u._promises)}},C.clean=function(u,h,c,y){for(var d=y._subplots[t]||[],v=0;v<d.length;v++){var g=d[v];!h[g]&&y[g]._subplot&&y[g]._subplot.destroy()}},C.toSVG=function(u){for(var h=u._fullLayout,c=h._subplots[t],y=h._size,d=0;d<c.length;d++){var v=h[c[d]],g=v.domain,x=v._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":x,x:y.l+y.w*g.x[0],y:y.t+y.h*(1-g.y[1]),width:y.w*(g.x[1]-g.x[0]),height:y.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"});var m=s.select(v._subplot.div);if(m.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var _=h._glimages.append("g");_.attr("transform",o(y.l+y.w*g.x[0]+10,y.t+y.h*(1-g.y[0])-31)),_.append("path").attr("d",a.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),_.append("path").attr("d",a.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),_.append("path").attr("d",a.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),_.append("polygon").attr("points",a.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var p=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=h._glimages.append("g"),T=S.append("text");T.text(p).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":p});var E=n.bBox(T.node()),O=y.w*(g.x[1]-g.x[0]);if(E.width>O/2){var P=p.split("|").join("<br>");T.text(P).attr("data-unformatted",P).call(i.convertToTspans,u),E=n.bBox(T.node())}T.attr("transform",o(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var I=1;E.width+6>O&&(I=O/(E.width+6));var R=[y.l+y.w*g.x[1],y.t+y.h*(1-g.y[0])];S.attr("transform",o(R[0],R[1])+w(I))}},C.updateFx=function(u){for(var h=u._fullLayout,c=h._subplots[t],y=0;y<c.length;y++)h[c[y]]._subplot.updateFx(h)}},22360:function(U,C,e){var k=e(3400),A=e(72736).sanitizeHTML,o=e(89032),w=e(47552);function b(i,r){this.subplot=i,this.uid=i.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=w.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var f=b.prototype;function s(i){if(!i.visible)return!1;var r=i.source;if(Array.isArray(r)&&r.length>0){for(var t=0;t<r.length;t++)if(typeof r[t]!="string"||r[t].length===0)return!1;return!0}return k.isPlainObject(r)||typeof r=="string"&&r.length>0}function n(i){var r={},t={};switch(i.type){case"circle":k.extendFlat(t,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":k.extendFlat(t,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":k.extendFlat(t,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var a=i.symbol,l=o(a.textposition,a.iconsize);k.extendFlat(r,{"icon-image":a.icon+"-15","icon-size":a.iconsize/10,"text-field":a.text,"text-size":a.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":a.placement}),k.extendFlat(t,{"icon-color":i.color,"text-color":a.textfont.color,"text-opacity":i.opacity});break;case"raster":k.extendFlat(t,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:r,paint:t}}f.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},f.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},f.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},f.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},f.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},f.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());r!==null&&this.subplot.map.moveLayer(this.idLayer,r)},f.updateSource=function(i){var r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var t=function(a){var l,u=a.sourcetype,h=a.source,c={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof h=="string"?"url":"tiles":u==="raster"?(l="tiles",c.tileSize=256):u==="image"&&(l="url",c.coordinates=a.coordinates),c[l]=h,a.sourceattribution&&(c.attribution=A(a.sourceattribution)),c}(i);r.addSource(this.idSource,t)}},f.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var r=this.subplot.getMapLayers(),t=0;t<r.length;t++){var a=r[t].id;if(typeof a=="string"&&a.indexOf(w.traceLayerPrefix)===0){i=a;break}}return i},f.updateLayer=function(i){var r=this.subplot,t=n(i),a=this.lookupBelow(),l=this.findFollowingMapboxLayerId(a);this.removeLayer(),s(i)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:t.layout,paint:t.paint},l),this.layerType=i.type,this.below=a},f.updateStyle=function(i){if(s(i)){var r=n(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},f.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},f.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},U.exports=function(i,r,t){var a=new b(i,r);return a.update(t),a}},5232:function(U,C,e){var k=e(3400),A=e(76308).defaultLine,o=e(86968).u,w=e(25376),b=e(52904).textposition,f=e(67824).overrideAll,s=e(31780).templatedArray,n=e(47552),i=w({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(U.exports=f({_arrayAttrRegexps:[k.counterRegex("mapbox",".layers",!0)],domain:o({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:n.styleValuesMapbox.concat(n.styleValuesNonMapbox),dflt:n.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:A},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:A}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:k.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(U,C,e){var k=e(3400),A=e(168),o=e(51272),w=e(5232);function b(s,n,i,r){i("accesstoken",r.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var t=i("bounds.west"),a=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");t!==void 0&&a!==void 0&&l!==void 0&&u!==void 0||delete n.bounds,o(s,n,{name:"layers",handleItemDefaults:f}),n._input=s}function f(s,n){function i(u,h){return k.coerce(s,n,w.layers,u,h)}if(i("visible")){var r,t=i("sourcetype"),a=t==="raster"||t==="image";i("source"),i("sourceattribution"),t==="vector"&&i("sourcelayer"),t==="image"&&i("coordinates"),a&&(r="raster");var l=i("type",r);a&&l!=="raster"&&(l=n.type="raster",k.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),l==="circle"&&i("circle.radius"),l==="line"&&(i("line.width"),i("line.dash")),l==="fill"&&i("fill.outlinecolor"),l==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),k.coerceFont(i,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),i("symbol.textposition"),i("symbol.placement"))}}U.exports=function(s,n,i){A(s,n,i,{type:"mapbox",attributes:w,handleDefaults:b,partition:"y",accessToken:n._mapboxAccessToken})}},14440:function(U,C,e){var k=e(3480),A=e(3400),o=e(27144),w=e(24040),b=e(54460),f=e(86476),s=e(93024),n=e(72760),i=n.drawMode,r=n.selectMode,t=e(22676).prepSelect,a=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,h=e(47552),c=e(22360);function y(_,p){this.id=p,this.gd=_;var S=_._fullLayout,T=_._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=y.prototype;d.plot=function(_,p,S){var T,E=this,O=p[E.id];E.map&&O.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),T=E.map?new Promise(function(P,I){E.updateMap(_,p,P,I)}):new Promise(function(P,I){E.createMap(_,p,P,I)}),S.push(T)},d.createMap=function(_,p,S,T){var E=this,O=p[E.id],P=E.styleObj=g(O.style,p);E.accessToken=O.accesstoken;var I=O.bounds,R=I?[[I.west,I.south],[I.east,I.north]]:null,H=E.map=new k.Map({container:E.div,style:P.style,center:m(O.center),zoom:O.zoom,bearing:O.bearing,pitch:O.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new k.AttributionControl({compact:!0}));H._canvas.style.left="0px",H._canvas.style.top="0px",E.rejectOnError(T),E.isStatic||E.initFx(_,p);var z=[];z.push(new Promise(function(j){H.once("load",j)})),z=z.concat(o.fetchTraceGeoData(_)),Promise.all(z).then(function(){E.fillBelowLookup(_,p),E.updateData(_),E.updateLayout(p),E.resolveOnRender(S)}).catch(T)},d.updateMap=function(_,p,S,T){var E=this,O=E.map,P=p[this.id];E.rejectOnError(T);var I=[],R=g(P.style,p);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,O.setStyle(R.style),E.traceHash={},I.push(new Promise(function(H){O.once("styledata",H)}))),I=I.concat(o.fetchTraceGeoData(_)),Promise.all(I).then(function(){E.fillBelowLookup(_,p),E.updateData(_),E.updateLayout(p),E.resolveOnRender(S)}).catch(T)},d.fillBelowLookup=function(_,p){var S,T,E=p[this.id].layers,O=this.belowLookup={},P=!1;for(S=0;S<_.length;S++){var I=_[S][0].trace,R=I._module;typeof I.below=="string"?T=I.below:R.getBelow&&(T=R.getBelow(I,this)),T===""&&(P=!0),O["trace-"+I.uid]=T||""}for(S=0;S<E.length;S++){var H=E[S];T=typeof H.below=="string"?H.below:P?"traces":"",O["layout-"+S]=T}var z,j,Z={};for(z in O)Z[T=O[z]]?Z[T].push(z):Z[T]=[z];for(T in Z){var F=Z[T];if(F.length>1)for(S=0;S<F.length;S++)(z=F[S]).indexOf("trace-")===0?(j=z.split("trace-")[1],this.traceHash[j]&&(this.traceHash[j].below=null)):z.indexOf("layout-")===0&&(j=z.split("layout-")[1],this.layerList[j]&&(this.layerList[j].below=null))}};var v={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function g(_,p){var S={};if(A.isPlainObject(_))S.id=_.id,S.style=_;else if(typeof _=="string")if(S.id=_,h.styleValuesMapbox.indexOf(_)!==-1)S.style=x(_);else if(h.stylesNonMapbox[_]){S.style=h.stylesNonMapbox[_];var T=S.style.sources["plotly-"+_],E=T?T.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=p._mapboxAccessToken)}else S.style=_;else S.id=h.styleValueDflt,S.style=x(h.styleValueDflt);return S.transition={duration:0,delay:0},S}function x(_){return h.styleUrlPrefix+_+"-"+h.styleUrlSuffix}function m(_){return[_.lon,_.lat]}d.updateData=function(_){var p,S,T,E,O=this.traceHash,P=_.slice().sort(function(j,Z){return v[j[0].trace.type]-v[Z[0].trace.type]});for(T=0;T<P.length;T++){var I=P[T],R=!1;(p=O[(S=I[0].trace).uid])&&(p.type===S.type?(p.update(I),R=!0):p.dispose()),!R&&S._module&&(O[S.uid]=S._module.plot(this,I))}var H=Object.keys(O);e:for(T=0;T<H.length;T++){var z=H[T];for(E=0;E<_.length;E++)if(z===(S=_[E][0].trace).uid)continue e;(p=O[z]).dispose(),delete O[z]}},d.updateLayout=function(_){var p=this.map,S=_[this.id];this.dragging||this.wheeling||(p.setCenter(m(S.center)),p.setZoom(S.zoom),p.setBearing(S.bearing),p.setPitch(S.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?p.scrollZoom.enable():p.scrollZoom.disable()},d.resolveOnRender=function(_){var p=this.map;p.on("render",function S(){p.loaded()&&(p.off("render",S),setTimeout(_,10))})},d.rejectOnError=function(_){var p=this.map;function S(){_(new Error(h.mapOnErrorMsg))}p.once("error",S),p.once("style.error",S),p.once("source.error",S),p.once("tile.error",S),p.once("layer.error",S)},d.createFramework=function(_){var p=this,S=p.div=document.createElement("div");S.id=p.uid,S.style.position="absolute",p.container.appendChild(S),p.xaxis={_id:"x",c2p:function(T){return p.project(T).x}},p.yaxis={_id:"y",c2p:function(T){return p.project(T).y}},p.updateFramework(_),p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(p.mockAxis,_)},d.initFx=function(_,p){var S=this,T=S.gd,E=S.map;function O(){s.loneUnhover(p._hoverlayer)}function P(){var I=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}E.on("moveend",function(I){if(S.map){var R=T._fullLayout;if(I.originalEvent||S.wheeling){var H=R[S.id];w.call("_storeDirectGUIEdit",T.layout,R._preGUI,S.getViewEdits(H));var z=S.getView();H._input.center=H.center=z.center,H._input.zoom=H.zoom=z.zoom,H._input.bearing=H.bearing=z.bearing,H._input.pitch=H.pitch=z.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(z))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(I){var R=S.div.getBoundingClientRect(),H=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(H).lng},S.yaxis.p2c=function(){return E.unproject(H).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&s.hover(T,I,S.id)},s.hover(T,I,S.id),T._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,O()}),E.on("zoomstart",O),E.on("mouseout",function(){T._fullLayout._hoversubplot=null}),E.on("drag",P),E.on("zoom",P),E.on("dblclick",function(){var I=T._fullLayout[S.id];w.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(I));var R=S.viewInitial;E.setCenter(m(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var H=S.getView();I._input.center=I.center=H.center,I._input.zoom=I.zoom=H.zoom,I._input.bearing=I.bearing=H.bearing,I._input.pitch=I.pitch=H.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(H))}),S.clearOutline=function(){l(S.dragOptions),a(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(R){var H=T._fullLayout.clickmode;H.indexOf("select")>-1&&u(R.originalEvent,T,[S.xaxis],[S.yaxis],S.id,I),H.indexOf("event")>-1&&s.click(T,R.originalEvent)}}},d.updateFx=function(_){var p=this,S=p.map,T=p.gd;if(!p.isStatic){var E,O=_.dragmode;E=function(R,H){H.isRect?(R.range={})[p.id]=[I([H.xmin,H.ymin]),I([H.xmax,H.ymax])]:(R.lassoPoints={})[p.id]=H.map(I)};var P=p.dragOptions;p.dragOptions=A.extendDeep(P||{},{dragmode:_.dragmode,element:p.div,gd:T,plotinfo:{id:p.id,domain:_[p.id].domain,xaxis:p.xaxis,yaxis:p.yaxis,fillRangeItems:E},xaxes:[p.xaxis],yaxes:[p.yaxis],subplot:p.id}),S.off("click",p.onClickInPanHandler),r(O)||i(O)?(S.dragPan.disable(),S.on("zoomstart",p.clearOutline),p.dragOptions.prepFn=function(R,H,z){t(R,H,z,p.dragOptions,O)},f.init(p.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",p.clearOutline),p.div.onmousedown=null,p.div.ontouchstart=null,p.div.removeEventListener("touchstart",p.div._ontouchstart),p.onClickInPanHandler=p.onClickInPanFn(p.dragOptions),S.on("click",p.onClickInPanHandler))}function I(R){var H=p.map.unproject(R);return[H.lng,H.lat]}},d.updateFramework=function(_){var p=_[this.id].domain,S=_._size,T=this.div.style;T.width=S.w*(p.x[1]-p.x[0])+"px",T.height=S.h*(p.y[1]-p.y[0])+"px",T.left=S.l+p.x[0]*S.w+"px",T.top=S.t+(1-p.y[1])*S.h+"px",this.xaxis._offset=S.l+p.x[0]*S.w,this.xaxis._length=S.w*(p.x[1]-p.x[0]),this.yaxis._offset=S.t+(1-p.y[1])*S.h,this.yaxis._length=S.h*(p.y[1]-p.y[0])},d.updateLayers=function(_){var p,S=_[this.id].layers,T=this.layerList;if(S.length!==T.length){for(p=0;p<T.length;p++)T[p].dispose();for(T=this.layerList=[],p=0;p<S.length;p++)T.push(c(this,p,S[p]))}else for(p=0;p<S.length;p++)T[p].update(S[p])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(_,p,S){for(var T in S)this.map[p](_,T,S[T])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(_,p){var S=this.map;if(typeof p=="string"){if(p==="")return void S.addLayer(_,p);for(var T=this.getMapLayers(),E=0;E<T.length;E++)if(p===T[E].id)return void S.addLayer(_,p);A.warn(["Trying to add layer with *below* value",p,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(_)},d.project=function(_){return this.map.project(new k.LngLat(_[0],_[1]))},d.getView=function(){var _=this.map,p=_.getCenter(),S={lon:p.lng,lat:p.lat},T=_.getCanvas(),E=parseInt(T.style.width),O=parseInt(T.style.height);return{center:S,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([E,0]).toArray(),_.unproject([E,O]).toArray(),_.unproject([0,O]).toArray()]}}},d.getViewEdits=function(_){for(var p=this.id,S=["center","zoom","bearing","pitch"],T={},E=0;E<S.length;E++){var O=S[E];T[p+"."+O]=_[O]}return T},d.getViewEditsWithDerived=function(_){var p=this.id,S=this.getViewEdits(_);return S[p+"._derived"]=_._derived,S},U.exports=y},66741:function(U){U.exports=function(C){var e=C.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(U,C,e){var k=e(33428),A=e(94336).m_,o=e(57624).SO,w=e(38248),b=e(83160),f=e(24040),s=e(73060),n=e(31780),i=e(3400),r=e(76308),t=e(39032).BADNUM,a=e(79811),l=e(1936).clearOutline,u=e(55308),h=e(85656),c=e(16672),y=e(84888)._M,d=i.relinkPrivateKeys,v=i._,g=U.exports={};i.extendFlat(g,f),g.attributes=e(45464),g.attributes.type.values=g.allTypes,g.fontAttrs=e(25376),g.layoutAttributes=e(64859);var x=g.transformsRegistry,m=e(62460);g.executeAPICommand=m.executeAPICommand,g.computeAPICommandBindings=m.computeAPICommandBindings,g.manageCommandObserver=m.manageCommandObserver,g.hasSimpleAPICommandBindings=m.hasSimpleAPICommandBindings,g.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(V){setTimeout(function(){F._fullLayout&&(f.getComponentMethod("annotations","draw")(F),f.getComponentMethod("legend","draw")(F),f.getComponentMethod("colorbar","draw")(F),V(g.previousPromises(F)))},300)})},g.resize=function(F){var V;F=i.getGraphDiv(F);var W=new Promise(function(re,ne){F&&!i.isHidden(F)||ne(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(V=F._resolveResize),F._resolveResize=re,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))re(F);else{delete F.layout.width,delete F.layout.height;var te=F.changed;F.autoplay=!0,f.call("relayout",F,{autosize:!0}).then(function(){F.changed=te,F._resolveResize===re&&(delete F._resolveResize,re(F))})}},100)});return V&&V(W),W},g.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},g.addLinks=function(F){if(F._context.showLink||F._context.showSources){var V=F._fullLayout,W=i.ensureSingle(V._paper,"text","js-plot-link-container",function(K){K.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var ae=k.select(this);ae.append("tspan").classed("js-link-to-tool",!0),ae.append("tspan").classed("js-link-spacer",!0),ae.append("tspan").classed("js-sourcelinks",!0)})}),re=W.node(),ne={y:V._paper.attr("height")-9};document.body.contains(re)&&re.getComputedTextLength()>=V.width-20?(ne["text-anchor"]="start",ne.x=5):(ne["text-anchor"]="end",ne.x=V._paper.attr("width")-7),W.attr(ne);var te=W.select(".js-link-to-tool"),Q=W.select(".js-link-spacer"),$=W.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(K,ae){ae.text("");var ue=ae.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(K._context.linkText+" »");if(K._context.sendData)ue.on("click",function(){g.sendDataToCloud(K)});else{var se=window.location.pathname.split("/"),he=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+he})}}(F,te),Q.text(te.text()&&$.text()?" - ":"")}},g.sendDataToCloud=function(F){var V=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(V){F.emit("plotly_beforeexport");var W=k.select(F).append("div").attr("id","hiddenform").style("display","none"),re=W.append("form").attr({action:V+"/external",method:"post",target:"_blank"});return re.append("input").attr({type:"text",name:"data"}).node().value=g.graphJson(F,!1,"keepdata"),re.node().submit(),W.remove(),F.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],p=["year","month","dayMonth","dayMonthYear"];function S(F,V){var W=F._context.locale;W||(W="en-US");var re=!1,ne={};function te(se){for(var he=!0,pe=0;pe<V.length;pe++){var de=V[pe];ne[de]||(se[de]?ne[de]=se[de]:he=!1)}he&&(re=!0)}for(var Q=0;Q<2;Q++){for(var $=F._context.locales,K=0;K<2;K++){var ae=($[W]||{}).format;if(ae&&(te(ae),re))break;$=f.localeRegistry}var ue=W.split("-")[0];if(re||ue===W)break;W=ue}return re||te(f.localeRegistry.en.format),ne}function T(F,V){var W={_fullLayout:V},re=F._id.charAt(0)==="x",ne=F._mainAxis._anchorAxis,te="",Q="",$="";if(ne&&($=ne._mainAxis._id,te=re?F._id+$:$+F._id),!te||!V._plots[te]){te="";for(var K=F._counterAxes,ae=0;ae<K.length;ae++){var ue=K[ae],se=re?F._id+ue:ue+F._id;Q||(Q=se);var he=a.getFromId(W,ue);if($&&he.overlaying===$){te=se;break}}}return te||Q}function E(F){var V=F.transforms;if(Array.isArray(V)&&V.length)for(var W=0;W<V.length;W++){var re=V[W],ne=re._module||x[re.type];if(ne&&ne.makesData)return!0}return!1}function O(F,V,W,re){for(var ne=F.transforms,te=[F],Q=0;Q<ne.length;Q++){var $=ne[Q],K=x[$.type];K&&K.transform&&(te=K.transform(te,{transform:$,fullTrace:F,fullData:V,layout:W,fullLayout:re,transformIndex:Q}))}return te}function P(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function I(F){var V=F.margin;if(!F._size){var W=F._size={l:Math.round(V.l),r:Math.round(V.r),t:Math.round(V.t),b:Math.round(V.b),p:Math.round(V.pad)};W.w=Math.round(F.width)-W.l-W.r,W.h=Math.round(F.height)-W.t-W.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}g.supplyDefaults=function(F,V){var W=V&&V.skipUpdateCalc,re=F._fullLayout||{};if(re._skipDefaults)delete re._skipDefaults;else{var ne,te=F._fullLayout={},Q=F.layout||{},$=F._fullData||[],K=F._fullData=[],ae=F.data||[],ue=F.calcdata||[],se=F._context||{};F._transitionData||g.createTransitionData(F),te._dfltTitle={plot:v(F,"Click to enter Plot title"),x:v(F,"Click to enter X axis title"),y:v(F,"Click to enter Y axis title"),colorbar:v(F,"Click to enter Colorscale title"),annotation:v(F,"new text")},te._traceWord=v(F,"trace");var he=S(F,_);if(te._mapboxAccessToken=se.mapboxAccessToken,re._initialAutoSizeIsDone){var pe=re.width,de=re.height;g.supplyLayoutGlobalDefaults(Q,te,he),Q.width||(te.width=pe),Q.height||(te.height=de),g.sanitizeMargins(te)}else{g.supplyLayoutGlobalDefaults(Q,te,he);var xe=!Q.width||!Q.height,_e=te.autosize,be=se.autosizable;xe&&(_e||be)?g.plotAutoSize(F,Q,te):xe&&g.sanitizeMargins(te),!_e&&xe&&(Q.width=te.width,Q.height=te.height)}te._d3locale=function(Pe,Ve){return Pe.decimal=Ve.charAt(0),Pe.thousands=Ve.charAt(1),{numberFormat:function(We){try{We=o(Pe).format(i.adjustFormat(We))}catch{return i.warnBadFormat(We),i.noFormat}return We},timeFormat:A(Pe).utcFormat}}(he,te.separators),te._extraFormat=S(F,p),te._initialAutoSizeIsDone=!0,te._dataLength=ae.length,te._modules=[],te._visibleModules=[],te._basePlotModules=[];var Le=te._subplots=function(){var Pe,Ve,We=f.collectableSubplotTypes,Qe={};if(!We){We=[];var lt=f.subplotsRegistry;for(var ut in lt){var xt=lt[ut].attr;if(xt&&(We.push(ut),Array.isArray(xt)))for(Ve=0;Ve<xt.length;Ve++)i.pushUnique(We,xt[Ve])}}for(Pe=0;Pe<We.length;Pe++)Qe[We[Pe]]=[];return Qe}(),De=te._splomAxes={x:{},y:{}},ye=te._splomSubplots={};te._splomGridDflt={},te._scatterStackOpts={},te._firstScatter={},te._alignmentOpts={},te._colorAxes={},te._requestRangeslider={},te._traceUids=function(Pe,Ve){var We,Qe,lt=Ve.length,ut=[];for(We=0;We<Pe.length;We++){var xt=Pe[We]._fullInput;xt!==Qe&&ut.push(xt),Qe=xt}var _t=ut.length,mt=new Array(lt),it={};function nt(Ft,Pt){mt[Pt]=Ft,it[Ft]=1}function Et(Ft,Pt){if(Ft&&typeof Ft=="string"&&!it[Ft])return nt(Ft,Pt),!0}for(We=0;We<lt;We++){var Rt=Ve[We].uid;typeof Rt=="number"&&(Rt=String(Rt)),Et(Rt,We)||We<_t&&Et(ut[We].uid,We)||nt(i.randstr(it),We)}return mt}($,ae),te._globalTransforms=(F._context||{}).globalTransforms,g.supplyDataDefaults(ae,K,Q,te);var le=Object.keys(De.x),oe=Object.keys(De.y);if(le.length>1&&oe.length>1){for(f.getComponentMethod("grid","sizeDefaults")(Q,te),ne=0;ne<le.length;ne++)i.pushUnique(Le.xaxis,le[ne]);for(ne=0;ne<oe.length;ne++)i.pushUnique(Le.yaxis,oe[ne]);for(var ve in ye)i.pushUnique(Le.cartesian,ve)}if(te._has=g._hasPlotType.bind(te),$.length===K.length)for(ne=0;ne<K.length;ne++)d(K[ne],$[ne]);g.supplyLayoutModuleDefaults(Q,te,K,F._transitionData);var Ce=te._visibleModules,ke=[];for(ne=0;ne<Ce.length;ne++){var Ae=Ce[ne].crossTraceDefaults;Ae&&i.pushUnique(ke,Ae)}for(ne=0;ne<ke.length;ne++)ke[ne](K,te);te._hasOnlyLargeSploms=te._basePlotModules.length===1&&te._basePlotModules[0].name==="splom"&&le.length>15&&oe.length>15&&te.shapes.length===0&&te.images.length===0,g.linkSubplots(K,te,$,re),g.cleanPlot(K,te,$,re);var Ee=!(!re._has||!re._has("gl2d")),ze=!(!te._has||!te._has("gl2d")),Fe=!(!re._has||!re._has("cartesian"))||Ee,ge=!(!te._has||!te._has("cartesian"))||ze;Fe&&!ge?re._bgLayer.remove():ge&&!Fe&&(te._shouldCreateBgLayer=!0),re._zoomlayer&&!F._dragging&&l({_fullLayout:re}),function(Pe,Ve){var We,Qe=[];Ve.meta&&(We=Ve._meta={meta:Ve.meta,layout:{meta:Ve.meta}});for(var lt=0;lt<Pe.length;lt++){var ut=Pe[lt];ut.meta?Qe[ut.index]=ut._meta={meta:ut.meta}:Ve.meta&&(ut._meta={meta:Ve.meta}),Ve.meta&&(ut._meta.layout={meta:Ve.meta})}Qe.length&&(We||(We=Ve._meta={}),We.data=Qe)}(K,te),d(te,re),f.getComponentMethod("colorscale","crossTraceDefaults")(K,te),te._preGUI||(te._preGUI={}),te._tracePreGUI||(te._tracePreGUI={});var Te,Se=te._tracePreGUI,Re={};for(Te in Se)Re[Te]="old";for(ne=0;ne<K.length;ne++)Re[Te=K[ne]._fullInput.uid]||(Se[Te]={}),Re[Te]="new";for(Te in Re)Re[Te]==="old"&&delete Se[Te];I(te),f.getComponentMethod("rangeslider","makeData")(te),W||ue.length!==K.length||g.supplyDefaultsUpdateCalc(ue,K)}},g.supplyDefaultsUpdateCalc=function(F,V){for(var W=0;W<V.length;W++){var re=V[W],ne=(F[W]||[])[0];if(ne&&ne.trace){var te=ne.trace;if(te._hasCalcTransform){var Q,$,K,ae=te._arrayAttrs;for(Q=0;Q<ae.length;Q++)$=ae[Q],K=i.nestedProperty(te,$).get().slice(),i.nestedProperty(re,$).set(K)}ne.trace=re}}},g.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},g._hasPlotType=function(F){var V,W=this._basePlotModules||[];for(V=0;V<W.length;V++)if(W[V].name===F)return!0;var re=this._modules||[];for(V=0;V<re.length;V++){var ne=re[V].name;if(ne===F)return!0;var te=f.modules[ne];if(te&&te.categories[F])return!0}return!1},g.cleanPlot=function(F,V,W,re){var ne,te,Q=re._basePlotModules||[];for(ne=0;ne<Q.length;ne++){var $=Q[ne];$.clean&&$.clean(F,V,W,re)}var K=re._has&&re._has("gl"),ae=V._has&&V._has("gl");K&&!ae&&re._glcontainer!==void 0&&(re._glcontainer.selectAll(".gl-canvas").remove(),re._glcontainer.selectAll(".no-webgl").remove(),re._glcanvas=null);var ue=!!re._infolayer;e:for(ne=0;ne<W.length;ne++){var se=W[ne].uid;for(te=0;te<F.length;te++)if(se===F[te].uid)continue e;ue&&re._infolayer.select(".cb"+se).remove()}},g.linkSubplots=function(F,V,W,re){var ne,te,Q=re._plots||{},$=V._plots={},K=V._subplots,ae={_fullData:F,_fullLayout:V},ue=K.cartesian.concat(K.gl2d||[]);for(ne=0;ne<ue.length;ne++){var se,he=ue[ne],pe=Q[he],de=a.getFromId(ae,he,"x"),xe=a.getFromId(ae,he,"y");for(pe?se=$[he]=pe:(se=$[he]={}).id=he,de._counterAxes.push(xe._id),xe._counterAxes.push(de._id),de._subplotsWith.push(he),xe._subplotsWith.push(he),se.xaxis=de,se.yaxis=xe,se._hasClipOnAxisFalse=!1,te=0;te<F.length;te++){var _e=F[te];if(_e.xaxis===se.xaxis._id&&_e.yaxis===se.yaxis._id&&_e.cliponaxis===!1){se._hasClipOnAxisFalse=!0;break}}}var be,Le=a.list(ae,null,!0);for(ne=0;ne<Le.length;ne++){var De=null;(be=Le[ne]).overlaying&&(De=a.getFromId(ae,be.overlaying))&&De.overlaying&&(be.overlaying=!1,De=null),be._mainAxis=De||be,De&&(be.domain=De.domain.slice()),be._anchorAxis=be.anchor==="free"?null:a.getFromId(ae,be.anchor)}for(ne=0;ne<Le.length;ne++)if((be=Le[ne])._counterAxes.sort(a.idSort),be._subplotsWith.sort(i.subplotSort),be._mainSubplot=T(be,V),be._counterAxes.length&&(be.spikemode&&be.spikemode.indexOf("across")!==-1||be.automargin&&be.mirror&&be.anchor!=="free"||f.getComponentMethod("rangeslider","isVisible")(be))){var ye=1,le=0;for(te=0;te<be._counterAxes.length;te++){var oe=a.getFromId(ae,be._counterAxes[te]);ye=Math.min(ye,oe.domain[0]),le=Math.max(le,oe.domain[1])}ye<le&&(be._counterDomainMin=ye,be._counterDomainMax=le)}},g.clearExpandedTraceDefaultColors=function(F){var V,W,re;for(W=[],(V=F._module._colorAttrs)||(F._module._colorAttrs=V=[],s.crawl(F._module.attributes,function(ne,te,Q,$){W[$]=te,W.length=$+1,ne.valType==="color"&&ne.dflt===void 0&&V.push(W.join("."))})),re=0;re<V.length;re++)i.nestedProperty(F,"_input."+V[re]).get()||i.nestedProperty(F,V[re]).set(null)},g.supplyDataDefaults=function(F,V,W,re){var ne,te,Q,$=re._modules,K=re._visibleModules,ae=re._basePlotModules,ue=0,se=0;function he(ve){V.push(ve);var Ce=ve._module;Ce&&(i.pushUnique($,Ce),ve.visible===!0&&i.pushUnique(K,Ce),i.pushUnique(ae,ve._module.basePlotModule),ue++,ve._input.visible!==!1&&se++)}re._transformModules=[];var pe={},de=[],xe=(W.template||{}).data||{},_e=n.traceTemplater(xe);for(ne=0;ne<F.length;ne++){if(Q=F[ne],(te=_e.newTrace(Q)).uid=re._traceUids[ne],g.supplyTraceDefaults(Q,te,se,re,ne),te.index=ne,te._input=Q,te._expandedIndex=ue,te.transforms&&te.transforms.length)for(var be=Q.visible!==!1&&te.visible===!1,Le=O(te,V,W,re),De=0;De<Le.length;De++){var ye=Le[De],le={_template:te._template,type:te.type,uid:te.uid+De};be&&ye.visible===!1&&delete ye.visible,g.supplyTraceDefaults(ye,le,ue,re,ne),d(le,ye),le.index=ne,le._input=Q,le._fullInput=te,le._expandedIndex=ue,le._expandedInput=ye,he(le)}else te._fullInput=te,te._expandedInput=te,he(te);f.traceIs(te,"carpetAxis")&&(pe[te.carpet]=te),f.traceIs(te,"carpetDependent")&&de.push(ne)}for(ne=0;ne<de.length;ne++)if((te=V[de[ne]]).visible){var oe=pe[te.carpet];te._carpet=oe,oe&&oe.visible?(te.xaxis=oe.xaxis,te.yaxis=oe.yaxis):te.visible=!1}},g.supplyAnimationDefaults=function(F){var V;F=F||{};var W={};function re(ne,te){return i.coerce(F||{},W,h,ne,te)}if(re("mode"),re("direction"),re("fromcurrent"),Array.isArray(F.frame))for(W.frame=[],V=0;V<F.frame.length;V++)W.frame[V]=g.supplyAnimationFrameDefaults(F.frame[V]||{});else W.frame=g.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(W.transition=[],V=0;V<F.transition.length;V++)W.transition[V]=g.supplyAnimationTransitionDefaults(F.transition[V]||{});else W.transition=g.supplyAnimationTransitionDefaults(F.transition||{});return W},g.supplyAnimationFrameDefaults=function(F){var V={};function W(re,ne){return i.coerce(F||{},V,h.frame,re,ne)}return W("duration"),W("redraw"),V},g.supplyAnimationTransitionDefaults=function(F){var V={};function W(re,ne){return i.coerce(F||{},V,h.transition,re,ne)}return W("duration"),W("easing"),V},g.supplyFrameDefaults=function(F){var V={};function W(re,ne){return i.coerce(F,V,c,re,ne)}return W("group"),W("name"),W("traces"),W("baseframe"),W("data"),W("layout"),V},g.supplyTraceDefaults=function(F,V,W,re,ne){var te,Q=re.colorway||r.defaults,$=Q[W%Q.length];function K(De,ye){return i.coerce(F,V,g.attributes,De,ye)}var ae=K("visible");K("type"),K("name",re._traceWord+" "+ne),K("uirevision",re.uirevision);var ue=g.getModule(V);if(V._module=ue,ue){var se=ue.basePlotModule,he=se.attr,pe=se.attributes;if(he&&pe){var de=re._subplots,xe="";if(ae||se.name!=="gl2d"){if(Array.isArray(he))for(te=0;te<he.length;te++){var _e=he[te],be=i.coerce(F,V,pe,_e);de[_e]&&i.pushUnique(de[_e],be),xe+=be}else xe=i.coerce(F,V,pe,he);de[se.name]&&i.pushUnique(de[se.name],xe)}}}if(ae){if(K("customdata"),K("ids"),K("meta"),f.traceIs(V,"showLegend")?(i.coerce(F,V,ue.attributes.showlegend?ue.attributes:g.attributes,"showlegend"),K("legend"),K("legendwidth"),K("legendgroup"),K("legendgrouptitle.text"),K("legendrank"),V._dfltShowLegend=!0):V._dfltShowLegend=!1,ue&&ue.supplyDefaults(F,V,$,re),f.traceIs(V,"noOpacity")||K("opacity"),f.traceIs(V,"notLegendIsolatable")&&(V.visible=!!V.visible),f.traceIs(V,"noHover")||(V.hovertemplate||i.coerceHoverinfo(F,V,re),V.type!=="parcats"&&f.getComponentMethod("fx","supplyDefaults")(F,V,$,re)),ue&&ue.selectPoints){var Le=K("selectedpoints");i.isTypedArray(Le)&&(V.selectedpoints=Array.from(Le))}g.supplyTransformDefaults(F,V,re)}return V},g.hasMakesDataTransform=E,g.supplyTransformDefaults=function(F,V,W){if(V._length||E(F)){var re=W._globalTransforms||[],ne=W._transformModules||[];if(Array.isArray(F.transforms)||re.length!==0)for(var te=F.transforms||[],Q=re.concat(te),$=V.transforms=[],K=0;K<Q.length;K++){var ae,ue=Q[K],se=ue.type,he=x[se],pe=!(ue._module&&ue._module===he),de=he&&typeof he.transform=="function";he||i.warn("Unrecognized transform type "+se+"."),he&&he.supplyDefaults&&(pe||de)?((ae=he.supplyDefaults(ue,V,W,F)).type=se,ae._module=he,i.pushUnique(ne,he)):ae=i.extendFlat({},ue),$.push(ae)}}},g.supplyLayoutGlobalDefaults=function(F,V,W){function re(ue,se){return i.coerce(F,V,g.layoutAttributes,ue,se)}var ne=F.template;i.isPlainObject(ne)&&(V.template=ne,V._template=ne.layout,V._dataTemplate=ne.data),re("autotypenumbers");var te=i.coerceFont(re,"font"),Q=te.size;i.coerceFont(re,"title.font",te,{overrideDflt:{size:Math.round(1.4*Q)}}),re("title.text",V._dfltTitle.plot),re("title.xref");var $=re("title.yref");re("title.pad.t"),re("title.pad.r"),re("title.pad.b"),re("title.pad.l");var K=re("title.automargin");re("title.x"),re("title.xanchor"),re("title.y"),re("title.yanchor"),K&&($==="paper"&&(V.title.y!==0&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y===0?"top":"bottom")),$==="container"&&(V.title.y==="auto"&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y<.5?"bottom":"top"))),re("uniformtext.mode")&&re("uniformtext.minsize"),re("autosize",!(F.width&&F.height)),re("width"),re("height"),re("minreducedwidth"),re("minreducedheight"),re("margin.l"),re("margin.r"),re("margin.t"),re("margin.b"),re("margin.pad"),re("margin.autoexpand"),F.width&&F.height&&g.sanitizeMargins(V),f.getComponentMethod("grid","sizeDefaults")(F,V),re("paper_bgcolor"),re("separators",W.decimal+W.thousands),re("hidesources"),re("colorway"),re("datarevision");var ae=re("uirevision");re("editrevision",ae),re("selectionrevision",ae),f.getComponentMethod("modebar","supplyLayoutDefaults")(F,V),f.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,V,re),f.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,V,re),re("meta"),i.isPlainObject(F.transition)&&(re("transition.duration"),re("transition.easing"),re("transition.ordering")),f.getComponentMethod("calendars","handleDefaults")(F,V,"calendar"),f.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,V,re),i.coerce(F,V,u,"scattermode")},g.plotAutoSize=function(F,V,W){var re,ne,te=F._context||{},Q=te.frameMargins,$=i.isPlotDiv(F);if($&&F.emit("plotly_autosize"),te.fillFrame)re=window.innerWidth,ne=window.innerHeight,document.body.style.overflow="hidden";else{var K=$?window.getComputedStyle(F):{};if(re=P(K.width)||P(K.maxWidth)||W.width,ne=P(K.height)||P(K.maxHeight)||W.height,w(Q)&&Q>0){var ae=1-2*Q;re=Math.round(ae*re),ne=Math.round(ae*ne)}}var ue=g.layoutAttributes.width.min,se=g.layoutAttributes.height.min;re<ue&&(re=ue),ne<se&&(ne=se);var he=!V.width&&Math.abs(W.width-re)>1,pe=!V.height&&Math.abs(W.height-ne)>1;(pe||he)&&(he&&(W.width=re),pe&&(W.height=ne)),F._initialAutoSize||(F._initialAutoSize={width:re,height:ne}),g.sanitizeMargins(W)},g.supplyLayoutModuleDefaults=function(F,V,W,re){var ne,te,Q,$=f.componentsRegistry,K=V._basePlotModules,ae=f.subplotsRegistry.cartesian;for(ne in $)(Q=$[ne]).includeBasePlot&&Q.includeBasePlot(F,V);for(var ue in K.length||K.push(ae),V._has("cartesian")&&(f.getComponentMethod("grid","contentDefaults")(F,V),ae.finalizeSubplots(F,V)),V._subplots)V._subplots[ue].sort(i.subplotSort);for(te=0;te<K.length;te++)(Q=K[te]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(F,V,W);var se=V._modules;for(te=0;te<se.length;te++)(Q=se[te]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(F,V,W);var he=V._transformModules;for(te=0;te<he.length;te++)(Q=he[te]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(F,V,W,re);for(ne in $)(Q=$[ne]).supplyLayoutDefaults&&Q.supplyLayoutDefaults(F,V,W)},g.purge=function(F){var V=F._fullLayout||{};V._glcontainer!==void 0&&(V._glcontainer.selectAll(".gl-canvas").remove(),V._glcontainer.remove(),V._glcanvas=null),V._modeBar&&V._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},g.style=function(F){var V,W=F._fullLayout._visibleModules,re=[];for(V=0;V<W.length;V++){var ne=W[V];ne.style&&i.pushUnique(re,ne.style)}for(V=0;V<re.length;V++)re[V](F)},g.sanitizeMargins=function(F){if(F&&F.margin){var V,W=F.width,re=F.height,ne=F.margin,te=W-(ne.l+ne.r),Q=re-(ne.t+ne.b);te<0&&(V=(W-1)/(ne.l+ne.r),ne.l=Math.floor(V*ne.l),ne.r=Math.floor(V*ne.r)),Q<0&&(V=(re-1)/(ne.t+ne.b),ne.t=Math.floor(V*ne.t),ne.b=Math.floor(V*ne.b))}},g.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(F,V){F._fullLayout._pushmarginIds[V]=1},g.autoMargin=function(F,V,W){var re=F._fullLayout,ne=re.width,te=re.height,Q=re.margin,$=re.minreducedwidth,K=re.minreducedheight,ae=i.constrain(ne-Q.l-Q.r,2,$),ue=i.constrain(te-Q.t-Q.b,2,K),se=Math.max(0,ne-ae),he=Math.max(0,te-ue),pe=re._pushmargin,de=re._pushmarginIds;if(Q.autoexpand!==!1){if(W){var xe=W.pad;if(xe===void 0&&(xe=Math.min(12,Q.l,Q.r,Q.t,Q.b)),se){var _e=(W.l+W.r)/se;_e>1&&(W.l/=_e,W.r/=_e)}if(he){var be=(W.t+W.b)/he;be>1&&(W.t/=be,W.b/=be)}var Le=W.xl!==void 0?W.xl:W.x,De=W.xr!==void 0?W.xr:W.x,ye=W.yt!==void 0?W.yt:W.y,le=W.yb!==void 0?W.yb:W.y;pe[V]={l:{val:Le,size:W.l+xe},r:{val:De,size:W.r+xe},b:{val:le,size:W.b+xe},t:{val:ye,size:W.t+xe}},de[V]=1}else delete pe[V],delete de[V];if(!re._replotting)return g.doAutoMargin(F)}},g.doAutoMargin=function(F){var V=F._fullLayout,W=V.width,re=V.height;V._size||(V._size={}),I(V);var ne=V._size,te=V.margin,Q={t:0,b:0,l:0,r:0},$=i.extendFlat({},ne),K=te.l,ae=te.r,ue=te.t,se=te.b,he=V._pushmargin,pe=V._pushmarginIds,de=V.minreducedwidth,xe=V.minreducedheight;if(te.autoexpand!==!1){for(var _e in he)pe[_e]||delete he[_e];var be=F._fullLayout._reservedMargin;for(var Le in be)for(var De in be[Le]){var ye=be[Le][De];Q[De]=Math.max(Q[De],ye)}for(var le in he.base={l:{val:0,size:K},r:{val:1,size:ae},t:{val:1,size:ue},b:{val:0,size:se}},Q){var oe=0;for(var ve in he)ve!=="base"&&w(he[ve][le].size)&&(oe=he[ve][le].size>oe?he[ve][le].size:oe);var Ce=Math.max(0,te[le]-oe);Q[le]=Math.max(0,Q[le]-Ce)}for(var ke in he){var Ae=he[ke].l||{},Ee=he[ke].b||{},ze=Ae.val,Fe=Ae.size,ge=Ee.val,Te=Ee.size,Se=W-Q.r-Q.l,Re=re-Q.t-Q.b;for(var Pe in he){if(w(Fe)&&he[Pe].r){var Ve=he[Pe].r.val,We=he[Pe].r.size;if(Ve>ze){var Qe=(Fe*Ve+(We-Se)*ze)/(Ve-ze),lt=(We*(1-ze)+(Fe-Se)*(1-Ve))/(Ve-ze);Qe+lt>K+ae&&(K=Qe,ae=lt)}}if(w(Te)&&he[Pe].t){var ut=he[Pe].t.val,xt=he[Pe].t.size;if(ut>ge){var _t=(Te*ut+(xt-Re)*ge)/(ut-ge),mt=(xt*(1-ge)+(Te-Re)*(1-ut))/(ut-ge);_t+mt>se+ue&&(se=_t,ue=mt)}}}}}var it=i.constrain(W-te.l-te.r,2,de),nt=i.constrain(re-te.t-te.b,2,xe),Et=Math.max(0,W-it),Rt=Math.max(0,re-nt);if(Et){var Ft=(K+ae)/Et;Ft>1&&(K/=Ft,ae/=Ft)}if(Rt){var Pt=(se+ue)/Rt;Pt>1&&(se/=Pt,ue/=Pt)}if(ne.l=Math.round(K)+Q.l,ne.r=Math.round(ae)+Q.r,ne.t=Math.round(ue)+Q.t,ne.b=Math.round(se)+Q.b,ne.p=Math.round(te.pad),ne.w=Math.round(W)-ne.l-ne.r,ne.h=Math.round(re)-ne.t-ne.b,!V._replotting&&(g.didMarginChange($,ne)||function($e){if("_redrawFromAutoMarginCount"in $e._fullLayout)return!1;var He=a.list($e,"",!0);for(var Je in He)if(He[Je].autoshift||He[Je].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in V?V._redrawFromAutoMarginCount++:V._redrawFromAutoMarginCount=1;var Ze=3*(1+Object.keys(pe).length);if(V._redrawFromAutoMarginCount<Ze)return f.call("_doPlot",F);V._size=$,i.warn("Too many auto-margin redraws.")}(function($e){var He=a.list($e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Je){for(var ft=0;ft<He.length;ft++){var ot=He[ft][Je];ot&&ot()}})})(F)};var R=["l","r","t","b","p","w","h"];function H(F,V,W){var re=!1,ne=[g.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(Q){var $=Promise.resolve();if(!Q)return $;for(;Q.length;)$=$.then(Q.shift());return $}(F._transitionData._interruptCallbacks)},W.prepareFn,g.rehover,g.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(Q){F._transitioning=!0,V.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){re=!0}),W.redraw&&F._transitionData._interruptCallbacks.push(function(){return f.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var $=0,K=0;function ae(){return $++,function(){var ue;K++,re||K!==$||(ue=Q,F._transitionData&&(function(se){if(se)for(;se.length;)se.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(W.redraw)return f.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(ue)))}}W.runFn(ae),setTimeout(ae())})}],te=i.syncOrAsync(ne,F);return te&&te.then||(te=Promise.resolve()),te.then(function(){return F})}g.didMarginChange=function(F,V){for(var W=0;W<R.length;W++){var re=R[W],ne=F[re],te=V[re];if(!w(ne)||Math.abs(te-ne)>1)return!0}return!1},g.graphJson=function(F,V,W,re,ne,te){(ne&&V&&!F._fullData||ne&&!V&&!F._fullLayout)&&g.supplyDefaults(F);var Q=ne?F._fullData:F.data,$=ne?F._fullLayout:F.layout,K=(F._transitionData||{})._frames;function ae(he,pe){if(typeof he=="function")return pe?"_function_":null;if(i.isPlainObject(he)){var de,xe={};return Object.keys(he).sort().forEach(function(De){if(["_","["].indexOf(De.charAt(0))===-1)if(typeof he[De]!="function"){if(W==="keepdata"){if(De.substr(De.length-3)==="src")return}else if(W==="keepstream"){if(typeof(de=he[De+"src"])=="string"&&de.indexOf(":")>0&&!i.isPlainObject(he.stream))return}else if(W!=="keepall"&&typeof(de=he[De+"src"])=="string"&&de.indexOf(":")>0)return;xe[De]=ae(he[De],pe)}else pe&&(xe[De]="_function")}),xe}var _e=Array.isArray(he),be=i.isTypedArray(he);if((_e||be)&&he.dtype&&he.shape){var Le=he.bdata;return ae({dtype:he.dtype,shape:he.shape,bdata:i.isArrayBuffer(Le)?b.encode(Le):Le},pe)}return _e?he.map(function(De){return ae(De,pe)}):be?i.simpleMap(he,i.identity):i.isJSDate(he)?i.ms2DateTimeLocal(+he):he}var ue={data:(Q||[]).map(function(he){var pe=ae(he);return V&&delete pe.fit,pe})};if(!V&&(ue.layout=ae($),ne)){var se=$._size;ue.layout.computed={margin:{b:se.b,l:se.l,r:se.r,t:se.t}}}return K&&(ue.frames=ae(K)),te&&(ue.config=ae(F._context,!0)),re==="object"?ue:JSON.stringify(ue)},g.modifyFrames=function(F,V){var W,re,ne,te=F._transitionData._frames,Q=F._transitionData._frameHash;for(W=0;W<V.length;W++)switch((re=V[W]).type){case"replace":ne=re.value;var $=(te[re.index]||{}).name,K=ne.name;te[re.index]=Q[K]=ne,K!==$&&(delete Q[$],Q[K]=ne);break;case"insert":Q[(ne=re.value).name]=ne,te.splice(re.index,0,ne);break;case"delete":delete Q[(ne=te[re.index]).name],te.splice(re.index,1)}return Promise.resolve()},g.computeFrame=function(F,V){var W,re,ne,te,Q=F._transitionData._frameHash;if(!V)throw new Error("computeFrame must be given a string frame name");var $=Q[V.toString()];if(!$)return!1;for(var K=[$],ae=[$.name];$.baseframe&&($=Q[$.baseframe.toString()])&&ae.indexOf($.name)===-1;)K.push($),ae.push($.name);for(var ue={};$=K.pop();)if($.layout&&(ue.layout=g.extendLayout(ue.layout,$.layout)),$.data){if(ue.data||(ue.data=[]),!(re=$.traces))for(re=[],W=0;W<$.data.length;W++)re[W]=W;for(ue.traces||(ue.traces=[]),W=0;W<$.data.length;W++)(ne=re[W])!=null&&((te=ue.traces.indexOf(ne))===-1&&(te=ue.data.length,ue.traces[te]=ne),ue.data[te]=g.extendTrace(ue.data[te],$.data[W]))}return ue},g.recomputeFrameHash=function(F){for(var V=F._transitionData._frameHash={},W=F._transitionData._frames,re=0;re<W.length;re++){var ne=W[re];ne&&ne.name&&(V[ne.name]=ne)}},g.extendObjectWithContainers=function(F,V,W){var re,ne,te,Q,$,K,ae,ue=i.extendDeepNoArrays({},V||{}),se=i.expandObjectPaths(ue),he={};if(W&&W.length)for(te=0;te<W.length;te++)(ne=(re=i.nestedProperty(se,W[te])).get())===void 0?i.nestedProperty(he,W[te]).set(null):(re.set(null),i.nestedProperty(he,W[te]).set(ne));if(F=i.extendDeepNoArrays(F||{},se),W&&W.length){for(te=0;te<W.length;te++)if(K=i.nestedProperty(he,W[te]).get()){for(ae=($=i.nestedProperty(F,W[te])).get(),Array.isArray(ae)||(ae=[],$.set(ae)),Q=0;Q<K.length;Q++){var pe=K[Q];ae[Q]=pe===null?null:g.extendObjectWithContainers(ae[Q],pe)}$.set(ae)}}return F},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=f.layoutArrayContainers,g.extendTrace=function(F,V){return g.extendObjectWithContainers(F,V,g.dataArrayContainers)},g.extendLayout=function(F,V){return g.extendObjectWithContainers(F,V,g.layoutArrayContainers)},g.transition=function(F,V,W,re,ne,te){var Q={redraw:ne.redraw},$={},K=[];return Q.prepareFn=function(){for(var ae=Array.isArray(V)?V.length:0,ue=re.slice(0,ae),se=0;se<ue.length;se++){var he=ue[se],pe=F._fullData[he]._module;if(pe){if(pe.animatable){var de=pe.basePlotModule.name;$[de]||($[de]=[]),$[de].push(he)}F.data[ue[se]]=g.extendTrace(F.data[ue[se]],V[se])}}var xe=i.expandObjectPaths(i.extendDeepNoArrays({},W)),_e=/^[xy]axis[0-9]*$/;for(var be in xe)_e.test(be)&&delete xe[be].range;g.extendLayout(F.layout,xe),delete F.calcdata,g.supplyDefaults(F),g.doCalcdata(F);var Le=i.expandObjectPaths(W);if(Le){var De=F._fullLayout._plots;for(var ye in De){var le=De[ye],oe=le.xaxis,ve=le.yaxis,Ce=oe.range.slice(),ke=ve.range.slice(),Ae=null,Ee=null,ze=null,Fe=null;Array.isArray(Le[oe._name+".range"])?Ae=Le[oe._name+".range"].slice():Array.isArray((Le[oe._name]||{}).range)&&(Ae=Le[oe._name].range.slice()),Array.isArray(Le[ve._name+".range"])?Ee=Le[ve._name+".range"].slice():Array.isArray((Le[ve._name]||{}).range)&&(Ee=Le[ve._name].range.slice()),Ce&&Ae&&(oe.r2l(Ce[0])!==oe.r2l(Ae[0])||oe.r2l(Ce[1])!==oe.r2l(Ae[1]))&&(ze={xr0:Ce,xr1:Ae}),ke&&Ee&&(ve.r2l(ke[0])!==ve.r2l(Ee[0])||ve.r2l(ke[1])!==ve.r2l(Ee[1]))&&(Fe={yr0:ke,yr1:Ee}),(ze||Fe)&&K.push(i.extendFlat({plotinfo:le},ze,Fe))}}return Promise.resolve()},Q.runFn=function(ae){var ue,se,he=F._fullLayout._basePlotModules,pe=K.length;if(W)for(se=0;se<he.length;se++)he[se].transitionAxes&&he[se].transitionAxes(F,K,te,ae);for(var de in pe?((ue=i.extendFlat({},te)).duration=0,delete $.cartesian):ue=te,$){var xe=$[de];F._fullData[xe[0]]._module.basePlotModule.plot(F,xe,ue,ae)}},H(F,te,Q)},g.transitionFromReact=function(F,V,W,re){var ne=F._fullLayout,te=ne.transition,Q={},$=[];return Q.prepareFn=function(){var K=ne._plots;for(var ae in Q.redraw=!1,V.anim==="some"&&(Q.redraw=!0),W.anim==="some"&&(Q.redraw=!0),K){var ue=K[ae],se=ue.xaxis,he=ue.yaxis,pe=re[se._name].range.slice(),de=re[he._name].range.slice(),xe=se.range.slice(),_e=he.range.slice();se.setScale(),he.setScale();var be=null,Le=null;se.r2l(pe[0])===se.r2l(xe[0])&&se.r2l(pe[1])===se.r2l(xe[1])||(be={xr0:pe,xr1:xe}),he.r2l(de[0])===he.r2l(_e[0])&&he.r2l(de[1])===he.r2l(_e[1])||(Le={yr0:de,yr1:_e}),(be||Le)&&$.push(i.extendFlat({plotinfo:ue},be,Le))}return Promise.resolve()},Q.runFn=function(K){for(var ae,ue,se,he=F._fullData,pe=F._fullLayout._basePlotModules,de=[],xe=0;xe<he.length;xe++)de.push(xe);function _e(){if(F._fullLayout)for(var Le=0;Le<pe.length;Le++)pe[Le].transitionAxes&&pe[Le].transitionAxes(F,$,ae,K)}function be(){if(F._fullLayout)for(var Le=0;Le<pe.length;Le++)pe[Le].plot(F,se,ue,K)}$.length&&V.anim?te.ordering==="traces first"?(ae=i.extendFlat({},te,{duration:0}),se=de,ue=te,setTimeout(_e,te.duration),be()):(ae=te,se=null,ue=i.extendFlat({},te,{duration:0}),setTimeout(be,ae.duration),_e()):$.length?(ae=te,_e()):V.anim&&(se=de,ue=te,be())},H(F,te,Q)},g.doCalcdata=function(F,V){var W,re,ne,te,Q=a.list(F),$=F._fullData,K=F._fullLayout,ae=new Array($.length),ue=(F.calcdata||[]).slice();for(F.calcdata=ae,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},ne=0;ne<$.length;ne++)Array.isArray(V)&&V.indexOf(ne)===-1&&(ae[ne]=ue[ne]);for(ne=0;ne<$.length;ne++)(W=$[ne])._arrayAttrs=s.findArrayAttributes(W),W._extremes={};var se=K._subplots.polar||[];for(ne=0;ne<se.length;ne++)Q.push(K[se[ne]].radialaxis,K[se[ne]].angularaxis);for(var he in K._colorAxes){var pe=K[he];pe.cauto!==!1&&(delete pe.cmin,delete pe.cmax)}var de=!1;function xe(Le){if(W=$[Le],re=W._module,W.visible===!0&&W.transforms){if(re&&re.calc){var De=re.calc(F,W);De[0]&&De[0].t&&De[0].t._scene&&delete De[0].t._scene.dirty}for(te=0;te<W.transforms.length;te++){var ye=W.transforms[te];(re=x[ye.type])&&re.calcTransform&&(W._hasCalcTransform=!0,de=!0,re.calcTransform(F,W,ye))}}}function _e(Le,De){if(W=$[Le],!!(re=W._module).isContainer===De){var ye=[];if(W.visible===!0&&W._length!==0){delete W._indexToPoints;var le=W.transforms||[];for(te=le.length-1;te>=0;te--)if(le[te].enabled){W._indexToPoints=le[te]._indexToPoints;break}re&&re.calc&&(ye=re.calc(F,W))}Array.isArray(ye)&&ye[0]||(ye=[{x:t,y:t}]),ye[0].t||(ye[0].t={}),ye[0].trace=W,ae[Le]=ye}}for(j(Q,$,K),ne=0;ne<$.length;ne++)_e(ne,!0);for(ne=0;ne<$.length;ne++)xe(ne);for(de&&j(Q,$,K),ne=0;ne<$.length;ne++)_e(ne,!0);for(ne=0;ne<$.length;ne++)_e(ne,!1);Z(F);var be=function(Le,De){var ye,le,oe,ve,Ce,ke=[];function Ae(Je,ft,ot){var je=ft._id.charAt(0);if(Je==="histogram2dcontour"){var Ue=ft._counterAxes[0],st=a.getFromId(De,Ue),Ke=je==="x"||Ue==="x"&&st.type==="category",gt=je==="y"||Ue==="y"&&st.type==="category";return function(yt,bt){return yt===0||bt===0||Ke&&yt===ot[bt].length-1||gt&&bt===ot.length-1?-1:(je==="y"?bt:yt)-1}}return function(yt,bt){return je==="y"?bt:yt}}var Ee={min:function(Je){return i.aggNums(Math.min,null,Je)},max:function(Je){return i.aggNums(Math.max,null,Je)},sum:function(Je){return i.aggNums(function(ft,ot){return ft+ot},null,Je)},total:function(Je){return i.aggNums(function(ft,ot){return ft+ot},null,Je)},mean:function(Je){return i.mean(Je)},median:function(Je){return i.median(Je)}};function ze(Je,ft){return Je[1]-ft[1]}function Fe(Je,ft){return ft[1]-Je[1]}for(ye=0;ye<Le.length;ye++){var ge=Le[ye];if(ge.type==="category"){var Te=ge.categoryorder.match(z);if(Te){var Se=Te[1],Re=Te[2],Pe=ge._id.charAt(0),Ve=Pe==="x",We=[];for(le=0;le<ge._categories.length;le++)We.push([ge._categories[le],[]]);for(le=0;le<ge._traceIndices.length;le++){var Qe=ge._traceIndices[le],lt=De._fullData[Qe];if(lt.visible===!0){var ut=lt.type;f.traceIs(lt,"histogram")&&(delete lt._xautoBinFinished,delete lt._yautoBinFinished);var xt=ut==="splom",_t=ut==="scattergl",mt=De.calcdata[Qe];for(oe=0;oe<mt.length;oe++){var it,nt,Et=mt[oe];if(xt){var Rt=lt._axesDim[ge._id];if(!Ve){var Ft=lt._diag[Rt][0];Ft&&(ge=De._fullLayout[a.id2name(Ft)])}var Pt=Et.trace.dimensions[Rt].values;for(ve=0;ve<Pt.length;ve++)for(it=ge._categoriesMap[Pt[ve]],Ce=0;Ce<Et.trace.dimensions.length;Ce++)if(Ce!==Rt){var Ze=Et.trace.dimensions[Ce];We[it][1].push(Ze.values[ve])}}else if(_t){for(ve=0;ve<Et.t.x.length;ve++)Ve?(it=Et.t.x[ve],nt=Et.t.y[ve]):(it=Et.t.y[ve],nt=Et.t.x[ve]),We[it][1].push(nt);Et.t&&Et.t._scene&&delete Et.t._scene.dirty}else if(Et.hasOwnProperty("z")){nt=Et.z;var $e=Ae(lt.type,ge,nt);for(ve=0;ve<nt.length;ve++)for(Ce=0;Ce<nt[ve].length;Ce++)(it=$e(Ce,ve))+1&&We[it][1].push(nt[ve][Ce])}else for((it=Et.p)===void 0&&(it=Et[Pe]),(nt=Et.s)===void 0&&(nt=Et.v),nt===void 0&&(nt=Ve?Et.y:Et.x),Array.isArray(nt)||(nt=nt===void 0?[]:[nt]),ve=0;ve<nt.length;ve++)We[it][1].push(nt[ve])}}}ge._categoriesValue=We;var He=[];for(le=0;le<We.length;le++)He.push([We[le][0],Ee[Se](We[le][1])]);He.sort(Re==="descending"?Fe:ze),ge._categoriesAggregatedValue=He,ge._initialCategories=He.map(function(Je){return Je[0]}),ke=ke.concat(ge.sortByInitialCategories())}}}return ke}(Q,F);if(be.length){for(K._numBoxes=0,K._numViolins=0,ne=0;ne<be.length;ne++)_e(be[ne],!0);for(ne=0;ne<be.length;ne++)_e(be[ne],!1);Z(F)}f.getComponentMethod("fx","calc")(F),f.getComponentMethod("errorbars","calc")(F)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function j(F,V,W){var re={};function ne(K){K.clearCalc(),K.type==="multicategory"&&K.setupMultiCategory(V),re[K._id]=1}i.simpleMap(F,ne);for(var te=W._axisMatchGroups||[],Q=0;Q<te.length;Q++)for(var $ in te[Q])re[$]||ne(W[a.id2name($)])}function Z(F){var V,W,re,ne=F._fullLayout,te=ne._visibleModules,Q={};for(W=0;W<te.length;W++){var $=te[W],K=$.crossTraceCalc;if(K){var ae=$.basePlotModule.name;Q[ae]?i.pushUnique(Q[ae],K):Q[ae]=[K]}}for(re in Q){var ue=Q[re],se=ne._subplots[re];if(Array.isArray(se))for(V=0;V<se.length;V++){var he=se[V],pe=re==="cartesian"?ne._plots[he]:ne[he];for(W=0;W<ue.length;W++)ue[W](F,pe,he)}else for(W=0;W<ue.length;W++)ue[W](F)}}g.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},g.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},g.reselect=function(F){var V=F._fullLayout,W=(F.layout||{}).selections,re=V._previousSelections;V._previousSelections=W;var ne=V._reselect||JSON.stringify(W)!==JSON.stringify(re);f.getComponentMethod("selections","reselect")(F,ne)},g.generalUpdatePerTraceModule=function(F,V,W,re){var ne,te=V.traceHash,Q={};for(ne=0;ne<W.length;ne++){var $=W[ne],K=$[0].trace;K.visible&&(Q[K.type]=Q[K.type]||[],Q[K.type].push($))}for(var ae in te)if(!Q[ae]){var ue=te[ae][0];ue[0].trace.visible=!1,Q[ae]=[ue]}for(var se in Q){var he=Q[se];he[0][0].trace._module.plot(F,V,i.filterVisible(he),re)}V.traceHash=Q},g.plotBasePlot=function(F,V,W,re,ne){var te=f.getModule(F),Q=y(V.calcdata,te)[0];te.plot(V,Q,re,ne)},g.cleanBasePlot=function(F,V,W,re,ne){var te=ne._has&&ne._has(F),Q=W._has&&W._has(F);te&&!Q&&ne["_"+F+"layer"].selectAll("g.trace").remove()}},39360:function(U){U.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(U,C,e){var k=e(3400),A=e(92065).tester,o=k.findIndexOfMin,w=k.isAngleInsideSector,b=k.angleDelta,f=k.angleDist;function s(t,a,l,u){var h,c,y=u[0],d=u[1],v=i(Math.sin(a)-Math.sin(t)),g=i(Math.cos(a)-Math.cos(t)),x=Math.tan(l),m=i(1/x),_=v/g,p=d-_*y;return m?v&&g?c=x*(h=p/(x-_)):g?(h=d*m,c=d):(h=y,c=y*x):v&&g?(h=0,c=p):g?(h=0,c=d):h=c=NaN,[h,c]}function n(t,a,l,u){return k.isFullCircle([a,l])?function(h,c){var y,d=c.length,v=new Array(d+1);for(y=0;y<d;y++){var g=c[y];v[y]=[h*Math.cos(g),h*Math.sin(g)]}return v[y]=v[0].slice(),v}(t,u):function(h,c,y,d){var v,g,x=d.length,m=[];function _(H){return[h*Math.cos(H),h*Math.sin(H)]}function p(H,z,j){return s(H,z,j,_(H))}function S(H){return k.mod(H,x)}function T(H){return w(H,[c,y])}var E=o(d,function(H){return T(H)?f(H,c):1/0}),O=p(d[E],d[S(E-1)],c);for(m.push(O),v=E,g=0;g<x;v++,g++){var P=d[S(v)];if(!T(P))break;m.push(_(P))}var I=o(d,function(H){return T(H)?f(H,y):1/0}),R=p(d[I],d[S(I+1)],y);return m.push(R),m.push([0,0]),m.push(m[0].slice()),m}(t,a,l,u)}function i(t){return Math.abs(t)>1e-10?t:0}function r(t,a,l){a=a||0,l=l||0;for(var u=t.length,h=new Array(u),c=0;c<u;c++){var y=t[c];h[c]=[a+y[0],l-y[1]]}return h}U.exports={isPtInsidePolygon:function(t,a,l,u,h){if(!w(a,u))return!1;var c,y;l[0]<l[1]?(c=l[0],y=l[1]):(c=l[1],y=l[0]);var d=A(n(c,u[0],u[1],h)),v=A(n(y,u[0],u[1],h)),g=[t*Math.cos(a),t*Math.sin(a)];return v.contains(g)&&!d.contains(g)},findPolygonOffset:function(t,a,l,u){for(var h=1/0,c=1/0,y=n(t,a,l,u),d=0;d<y.length;d++){var v=y[d];h=Math.min(h,v[0]),c=Math.min(c,-v[1])}return[h,c]},findEnclosingVertexAngles:function(t,a){var l=o(a,function(h){var c=b(h,t);return c>0?c:1/0}),u=k.mod(l+1,a.length);return[a[l],a[u]]},findIntersectionXY:s,findXYatLength:function(t,a,l,u){var h=-a*l,c=a*a+1,y=2*(a*h-l),d=h*h+l*l-t*t,v=Math.sqrt(y*y-4*c*d),g=(-y+v)/(2*c),x=(-y-v)/(2*c);return[[g,a*g+h+u],[x,a*x+h+u]]},clampTiny:i,pathPolygon:function(t,a,l,u,h,c){return"M"+r(n(t,a,l,u),h,c).join("L")},pathPolygonAnnulus:function(t,a,l,u,h,c,y){var d,v;t<a?(d=t,v=a):(d=a,v=t);var g=r(n(d,l,u,h),c,y);return"M"+r(n(v,l,u,h),c,y).reverse().join("L")+"M"+g.join("L")}}},40872:function(U,C,e){var k=e(84888).KY,A=e(3400).counterRegex,o=e(62400),w=e(39360),b=w.attr,f=w.name,s=A(f),n={};n[b]={valType:"subplotid",dflt:f,editType:"calc"},U.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:n,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var r=i._fullLayout,t=i.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=k(t,f,u),c=r[u]._subplot;c||(c=o(i,u),r[u]._subplot=c),c.plot(h,r,i._promises)}},clean:function(i,r,t,a){for(var l=a._subplots[f]||[],u=a._has&&a._has("gl"),h=r._has&&r._has("gl"),c=u&&!h,y=0;y<l.length;y++){var d=l[y],v=a[d]._subplot;if(!r[d]&&v)for(var g in v.framework.remove(),v.layers["radial-axis-title"].remove(),v.clipPaths)v.clipPaths[g].remove();c&&v._scene&&(v._scene.destroy(),v._scene=null)}},toSVG:e(57952).toSVG}},95300:function(U,C,e){var k=e(22548),A=e(94724),o=e(86968).u,w=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:A.color,showline:w({},A.showline,{dflt:!0}),linecolor:A.linecolor,linewidth:A.linewidth,showgrid:w({},A.showgrid,{dflt:!0}),gridcolor:A.gridcolor,gridwidth:A.gridwidth,griddash:A.griddash},"plot","from-root"),s=b({tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:A.ticks,ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,showtickprefix:A.showtickprefix,tickprefix:A.tickprefix,showticksuffix:A.showticksuffix,ticksuffix:A.ticksuffix,showexponent:A.showexponent,exponentformat:A.exponentformat,minexponent:A.minexponent,separatethousands:A.separatethousands,tickfont:A.tickfont,tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,layer:A.layer},"plot","from-root"),n={visible:w({},A.visible,{dflt:!0}),type:w({},A.type,{values:["-","linear","log","date","category"]}),autotypenumbers:A.autotypenumbers,autorangeoptions:{minallowed:A.autorangeoptions.minallowed,maxallowed:A.autorangeoptions.maxallowed,clipmin:A.autorangeoptions.clipmin,clipmax:A.autorangeoptions.clipmax,include:A.autorangeoptions.include,editType:"plot"},autorange:w({},A.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:w({},A.minallowed,{editType:"plot"}),maxallowed:w({},A.maxallowed,{editType:"plot"}),range:w({},A.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:A.categoryorder,categoryarray:A.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:A.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:w({},A.title.text,{editType:"plot",dflt:""}),font:w({},A.title.font,{editType:"plot"}),editType:"plot"},hoverformat:A.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:A._deprecated.title,titlefont:A._deprecated.titlefont}};w(n,f,s);var i={visible:w({},A.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:A.autotypenumbers,categoryorder:A.categoryorder,categoryarray:A.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:A.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};w(i,f,s),U.exports={domain:o({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:k.background},radialaxis:n,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(U,C,e){var k=e(3400),A=e(76308),o=e(31780),w=e(168),b=e(84888).op,f=e(26332),s=e(25404),n=e(95936),i=e(42568),r=e(22416),t=e(42136),a=e(76808),l=e(52976),u=e(95300),h=e(57696),c=e(39360),y=c.axisNames;function d(g,x,m,_){var p=m("bgcolor");_.bgColor=A.combine(p,_.paper_bgcolor);var S=m("sector");m("hole");var T,E=b(_.fullData,c.name,_.id),O=_.layoutOut;function P(be,Le){return m(T+"."+be,Le)}for(var I=0;I<y.length;I++){T=y[I],k.isPlainObject(g[T])||(g[T]={});var R=g[T],H=o.newContainer(x,T);H._id=H._name=T,H._attr=_.id+"."+T,H._traceIndices=E.map(function(be){return be._expandedIndex});var z=c.axisName2dataArray[T],j=v(R,H,P,E,z,_);r(R,H,P,{axData:E,dataAttr:z});var Z=P("visible");switch(h(H,x,O),P("uirevision",x.uirevision),H._m=1,T){case"radialaxis":P("minallowed"),P("maxallowed");var F,V=P("range"),W=H.getAutorangeDflt(V),re=P("autorange",W);!V||(V[0]!==null||V[1]!==null)&&(V[0]!==null&&V[1]!==null||re!=="reversed"&&re!==!0)&&(V[0]===null||re!=="min"&&re!=="max reversed")&&(V[1]===null||re!=="max"&&re!=="min reversed")||(V=void 0,delete H.range,H.autorange=!0,F=!0),F||(re=P("autorange",W=H.getAutorangeDflt(V))),R.autorange=re,re&&(a(P,re,V),j!=="linear"&&j!=="-"||P("rangemode"),H.isReversed()&&(H._m=-1)),H.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(j==="date"){k.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<E.length;ne++)E[ne].visible=!1;j=R.type=H.type="linear"}P(j==="linear"?"thetaunit":"period");var te=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[te])}if(i(R,H,P,H.type,{tickSuffixDflt:H.thetaunit==="degrees"?"°":void 0}),Z){var Q,$,K,ae,ue,se,he,pe,de,xe,_e=_.font||{};$=(Q=P("color"))===R.color?Q:_e.color,K=_e.size,ae=_e.family,ue=_e.weight,se=_e.style,he=_e.variant,pe=_e.textcase,de=_e.lineposition,xe=_e.shadow,f(R,H,P,H.type),n(R,H,P,H.type,{font:{weight:ue,style:se,variant:he,textcase:pe,lineposition:de,shadow:xe,color:$,size:K,family:ae},noAutotickangles:T==="angularaxis"}),s(R,H,P,{outerTicks:!0}),t(R,H,P,{dfltColor:Q,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[T]}),P("layer"),T==="radialaxis"&&(P("side"),P("angle",S[0]),P("title.text"),k.coerceFont(P,"title.font",{weight:ue,style:se,variant:he,textcase:pe,lineposition:de,shadow:xe,color:$,size:k.bigFont(K),family:ae}))}j!=="category"&&P("hoverformat"),H._input=R}x.angularaxis.type==="category"&&m("gridshape")}function v(g,x,m,_,p,S){var T=m("autotypenumbers",S.autotypenumbersDflt);if(m("type")==="-"){for(var E,O=0;O<_.length;O++)if(_[O].visible){E=_[O];break}E&&E[p]&&(x.type=l(E[p],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),x.type==="-"?x.type="linear":g.type=x.type}return x.type}U.exports=function(g,x,m){w(g,x,m,{type:c.name,attributes:u,handleDefaults:d,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:m,layoutOut:x})}},62400:function(U,C,e){var k=e(33428),A=e(49760),o=e(24040),w=e(3400),b=w.strRotate,f=w.strTranslate,s=e(76308),n=e(43616),i=e(7316),r=e(54460),t=e(78344),a=e(57696),l=e(19280).doAutoRange,u=e(51184),h=e(86476),c=e(93024),y=e(81668),d=e(22676).prepSelect,v=e(22676).selectOnClick,g=e(22676).clearOutline,x=e(93972),m=e(73696),_=e(39172).redrawReglTraces,p=e(84284).MID_SHIFT,S=e(39360),T=e(57384),E=e(36416),O=E.smith,P=E.reactanceArc,I=E.resistanceArc,R=E.smithTransform,H=w._,z=w.mod,j=w.deg2rad,Z=w.rad2deg;function F(te,Q,$){this.isSmith=$||!1,this.id=Q,this.gd=te,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var K=te._fullLayout,ae="clip"+K._uid+Q;this.clipIds.forTraces=ae+"-for-traces",this.clipPaths.forTraces=K._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=K["_"+($?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(ue){return this.isSmith?0:ue.hole},this.getSector=function(ue){return this.isSmith?[0,360]:ue.sector},this.getRadial=function(ue){return this.isSmith?ue.realaxis:ue.radialaxis},this.getAngular=function(ue){return this.isSmith?ue.imaginaryaxis:ue.angularaxis},$||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=F.prototype;function W(te){var Q=te.ticks+String(te.ticklen)+String(te.showticklabels);return"side"in te&&(Q+=te.side),Q}function re(te,Q){return Q[w.findIndexOfMin(Q,function($){return w.angleDist(te,$)})]}function ne(te,Q,$){return Q?(te.attr("display",null),te.attr($)):te&&te.attr("display","none"),te}U.exports=function(te,Q,$){return new F(te,Q,$)},V.plot=function(te,Q){for(var $=this,K=Q[$.id],ae=!1,ue=0;ue<te.length;ue++)if(te[ue][0].trace.cliponaxis===!1){ae=!0;break}$._hasClipOnAxisFalse=ae,$.updateLayers(Q,K),$.updateLayout(Q,K),i.generalUpdatePerTraceModule($.gd,$,te,K),$.updateFx(Q,K),$.isSmith&&(delete K.realaxis.range,delete K.imaginaryaxis.range)},V.updateLayers=function(te,Q){var $=this,K=$.isSmith,ae=$.layers,ue=$.getRadial(Q),se=$.getAngular(Q),he=S.layerNames,pe=he.indexOf("frontplot"),de=he.slice(0,pe),xe=se.layer==="below traces",_e=ue.layer==="below traces";xe&&de.push("angular-line"),_e&&de.push("radial-line"),xe&&de.push("angular-axis"),_e&&de.push("radial-axis"),de.push("frontplot"),xe||de.push("angular-line"),_e||de.push("radial-line"),xe||de.push("angular-axis"),_e||de.push("radial-axis");var be=(K?"smith":"polar")+"sublayer",Le=$.framework.selectAll("."+be).data(de,String);Le.enter().append("g").attr("class",function(De){return be+" "+De}).each(function(De){var ye=ae[De]=k.select(this);switch(De){case"frontplot":K||ye.append("g").classed("barlayer",!0),ye.append("g").classed("scatterlayer",!0);break;case"backplot":ye.append("g").classed("maplayer",!0);break;case"plotbg":ae.bg=ye.append("path");break;case"radial-grid":case"angular-grid":ye.style("fill","none");break;case"radial-line":ye.append("line").style("fill","none");break;case"angular-line":ye.append("path").style("fill","none")}}),Le.order()},V.updateLayout=function(te,Q){var $=this,K=$.layers,ae=te._size,ue=$.getRadial(Q),se=$.getAngular(Q),he=Q.domain.x,pe=Q.domain.y;$.xOffset=ae.l+ae.w*he[0],$.yOffset=ae.t+ae.h*(1-pe[1]);var de=$.xLength=ae.w*(he[1]-he[0]),xe=$.yLength=ae.h*(pe[1]-pe[0]),_e=$.getSector(Q);$.sectorInRad=_e.map(j);var be,Le,De,ye,le,oe=$.sectorBBox=function(lt){var ut,xt=lt[0],_t=lt[1]-xt,mt=z(xt,360),it=mt+_t,nt=Math.cos(j(mt)),Et=Math.sin(j(mt)),Rt=Math.cos(j(it)),Ft=Math.sin(j(it));return ut=mt<=90&&it>=90||mt>90&&it>=450?1:Et<=0&&Ft<=0?0:Math.max(Et,Ft),[mt<=180&&it>=180||mt>180&&it>=540?-1:nt>=0&&Rt>=0?0:Math.min(nt,Rt),mt<=270&&it>=270||mt>270&&it>=630?-1:Et>=0&&Ft>=0?0:Math.min(Et,Ft),it>=360?1:nt<=0&&Rt<=0?0:Math.max(nt,Rt),ut]}(_e),ve=oe[2]-oe[0],Ce=oe[3]-oe[1],ke=xe/de,Ae=Math.abs(Ce/ve);ke>Ae?(be=de,le=(xe-(Le=de*Ae))/ae.h/2,De=[he[0],he[1]],ye=[pe[0]+le,pe[1]-le]):(Le=xe,le=(de-(be=xe/Ae))/ae.w/2,De=[he[0]+le,he[1]-le],ye=[pe[0],pe[1]]),$.xLength2=be,$.yLength2=Le,$.xDomain2=De,$.yDomain2=ye;var Ee,ze=$.xOffset2=ae.l+ae.w*De[0],Fe=$.yOffset2=ae.t+ae.h*(1-ye[1]),ge=$.radius=be/ve,Te=$.innerRadius=$.getHole(Q)*ge,Se=$.cx=ze-ge*oe[0],Re=$.cy=Fe+ge*oe[3],Pe=$.cxx=Se-ze,Ve=$.cyy=Re-Fe,We=ue.side;We==="counterclockwise"?(Ee=We,We="top"):We==="clockwise"&&(Ee=We,We="bottom"),$.radialAxis=$.mockAxis(te,Q,ue,{_id:"x",side:We,_trueSide:Ee,domain:[Te/ae.w,ge/ae.w]}),$.angularAxis=$.mockAxis(te,Q,se,{side:"right",domain:[0,Math.PI],autorange:!1}),$.doAutoRange(te,Q),$.updateAngularAxis(te,Q),$.updateRadialAxis(te,Q),$.updateRadialAxisTitle(te,Q),$.xaxis=$.mockCartesianAxis(te,Q,{_id:"x",domain:De}),$.yaxis=$.mockCartesianAxis(te,Q,{_id:"y",domain:ye});var Qe=$.pathSubplot();$.clipPaths.forTraces.select("path").attr("d",Qe).attr("transform",f(Pe,Ve)),K.frontplot.attr("transform",f(ze,Fe)).call(n.setClipUrl,$._hasClipOnAxisFalse?null:$.clipIds.forTraces,$.gd),K.bg.attr("d",Qe).attr("transform",f(Se,Re)).call(s.fill,Q.bgcolor)},V.mockAxis=function(te,Q,$,K){var ae=w.extendFlat({},$,K);return a(ae,Q,te),ae},V.mockCartesianAxis=function(te,Q,$){var K=this,ae=K.isSmith,ue=$._id,se=w.extendFlat({type:"linear"},$);t(se,te);var he={x:[0,2],y:[1,3]};return se.setRange=function(){var pe=K.sectorBBox,de=he[ue],xe=K.radialAxis._rl,_e=(xe[1]-xe[0])/(1-K.getHole(Q));se.range=[pe[de[0]]*_e,pe[de[1]]*_e]},se.isPtWithinRange=ue!=="x"||ae?function(){return!0}:function(pe){return K.isPtInside(pe)},se.setRange(),se.setScale(),se},V.doAutoRange=function(te,Q){var $=this,K=$.gd,ae=$.radialAxis,ue=$.getRadial(Q);l(K,ae);var se=ae.range;if(ue.range=se.slice(),ue._input.range=se.slice(),ae._rl=[ae.r2l(se[0],null,"gregorian"),ae.r2l(se[1],null,"gregorian")],ae.minallowed!==void 0){var he=ae.r2l(ae.minallowed);ae._rl[0]>ae._rl[1]?ae._rl[1]=Math.max(ae._rl[1],he):ae._rl[0]=Math.max(ae._rl[0],he)}if(ae.maxallowed!==void 0){var pe=ae.r2l(ae.maxallowed);ae._rl[0]<ae._rl[1]?ae._rl[1]=Math.min(ae._rl[1],pe):ae._rl[0]=Math.min(ae._rl[0],pe)}},V.updateRadialAxis=function(te,Q){var $=this,K=$.gd,ae=$.layers,ue=$.radius,se=$.innerRadius,he=$.cx,pe=$.cy,de=$.getRadial(Q),xe=z($.getSector(Q)[0],360),_e=$.radialAxis,be=se<ue,Le=$.isSmith;Le||($.fillViewInitialKey("radialaxis.angle",de.angle),$.fillViewInitialKey("radialaxis.range",_e.range.slice()),_e.setGeometry()),_e.tickangle==="auto"&&xe>90&&xe<=270&&(_e.tickangle=180);var De=Le?function(Fe){var ge=R($,O([Fe.x,0]));return f(ge[0]-he,ge[1]-pe)}:function(Fe){return f(_e.l2p(Fe.x)+se,0)},ye=Le?function(Fe){return I($,Fe.x,-1/0,1/0)}:function(Fe){return $.pathArc(_e.r2p(Fe.x)+se)},le=W(de);if($.radialTickLayout!==le&&(ae["radial-axis"].selectAll(".xtick").remove(),$.radialTickLayout=le),be){_e.setScale();var oe=0,ve=Le?(_e.tickvals||[]).filter(function(Fe){return Fe>=0}).map(function(Fe){return r.tickText(_e,Fe,!0,!1)}):r.calcTicks(_e),Ce=Le?ve:r.clipEnds(_e,ve),ke=r.getTickSigns(_e)[2];Le&&((_e.ticks==="top"&&_e.side==="bottom"||_e.ticks==="bottom"&&_e.side==="top")&&(ke=-ke),_e.ticks==="top"&&_e.side==="top"&&(oe=-_e.ticklen),_e.ticks==="bottom"&&_e.side==="bottom"&&(oe=_e.ticklen)),r.drawTicks(K,_e,{vals:ve,layer:ae["radial-axis"],path:r.makeTickPath(_e,0,ke),transFn:De,crisp:!1}),r.drawGrid(K,_e,{vals:Ce,layer:ae["radial-grid"],path:ye,transFn:w.noop,crisp:!1}),r.drawLabels(K,_e,{vals:ve,layer:ae["radial-axis"],transFn:De,labelFns:r.makeLabelFns(_e,oe)})}var Ae=$.radialAxisAngle=$.vangles?Z(re(j(de.angle),$.vangles)):de.angle,Ee=f(he,pe),ze=Ee+b(-Ae);ne(ae["radial-axis"],be&&(de.showticklabels||de.ticks),{transform:ze}),ne(ae["radial-grid"],be&&de.showgrid,{transform:Le?"":Ee}),ne(ae["radial-line"].select("line"),be&&de.showline,{x1:Le?-ue:se,y1:0,x2:ue,y2:0,transform:ze}).attr("stroke-width",de.linewidth).call(s.stroke,de.linecolor)},V.updateRadialAxisTitle=function(te,Q,$){if(!this.isSmith){var K=this,ae=K.gd,ue=K.radius,se=K.cx,he=K.cy,pe=K.getRadial(Q),de=K.id+"title",xe=0;if(pe.title){var _e=n.bBox(K.layers["radial-axis"].node()).height,be=pe.title.font.size,Le=pe.side;xe=Le==="top"?be:Le==="counterclockwise"?-(_e+.4*be):_e+.8*be}var De=$!==void 0?$:K.radialAxisAngle,ye=j(De),le=Math.cos(ye),oe=Math.sin(ye),ve=se+ue/2*le+xe*oe,Ce=he-ue/2*oe+xe*le;K.layers["radial-axis-title"]=y.draw(ae,de,{propContainer:pe,propName:K.id+".radialaxis.title",placeholder:H(ae,"Click to enter radial axis title"),attributes:{x:ve,y:Ce,"text-anchor":"middle"},transform:{rotate:-De}})}},V.updateAngularAxis=function(te,Q){var $=this,K=$.gd,ae=$.layers,ue=$.radius,se=$.innerRadius,he=$.cx,pe=$.cy,de=$.getAngular(Q),xe=$.angularAxis,_e=$.isSmith;_e||($.fillViewInitialKey("angularaxis.rotation",de.rotation),xe.setGeometry(),xe.setScale());var be=_e?function(Fe){var ge=R($,O([0,Fe.x]));return Math.atan2(ge[0]-he,ge[1]-pe)-Math.PI/2}:function(Fe){return xe.t2g(Fe.x)};xe.type==="linear"&&xe.thetaunit==="radians"&&(xe.tick0=Z(xe.tick0),xe.dtick=Z(xe.dtick));var Le=function(Fe){return f(he+ue*Math.cos(Fe),pe-ue*Math.sin(Fe))},De=_e?function(Fe){var ge=R($,O([0,Fe.x]));return f(ge[0],ge[1])}:function(Fe){return Le(be(Fe))},ye=_e?function(Fe){var ge=R($,O([0,Fe.x])),Te=Math.atan2(ge[0]-he,ge[1]-pe)-Math.PI/2;return f(ge[0],ge[1])+b(-Z(Te))}:function(Fe){var ge=be(Fe);return Le(ge)+b(-Z(ge))},le=_e?function(Fe){return P($,Fe.x,0,1/0)}:function(Fe){var ge=be(Fe),Te=Math.cos(ge),Se=Math.sin(ge);return"M"+[he+se*Te,pe-se*Se]+"L"+[he+ue*Te,pe-ue*Se]},oe=r.makeLabelFns(xe,0).labelStandoff,ve={xFn:function(Fe){var ge=be(Fe);return Math.cos(ge)*oe},yFn:function(Fe){var ge=be(Fe),Te=Math.sin(ge)>0?.2:1;return-Math.sin(ge)*(oe+Fe.fontSize*Te)+Math.abs(Math.cos(ge))*(Fe.fontSize*p)},anchorFn:function(Fe){var ge=be(Fe),Te=Math.cos(ge);return Math.abs(Te)<.1?"middle":Te>0?"start":"end"},heightFn:function(Fe,ge,Te){var Se=be(Fe);return-.5*(1+Math.sin(Se))*Te}},Ce=W(de);$.angularTickLayout!==Ce&&(ae["angular-axis"].selectAll("."+xe._id+"tick").remove(),$.angularTickLayout=Ce);var ke,Ae=_e?[1/0].concat(xe.tickvals||[]).map(function(Fe){return r.tickText(xe,Fe,!0,!1)}):r.calcTicks(xe);if(_e&&(Ae[0].text="∞",Ae[0].fontSize*=1.75),Q.gridshape==="linear"?(ke=Ae.map(be),w.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,$.vangles=ke,xe.type==="category"&&(Ae=Ae.filter(function(Fe){return w.isAngleInsideSector(be(Fe),$.sectorInRad)})),xe.visible){var Ee=xe.ticks==="inside"?-1:1,ze=(xe.linewidth||1)/2;r.drawTicks(K,xe,{vals:Ae,layer:ae["angular-axis"],path:"M"+Ee*ze+",0h"+Ee*xe.ticklen,transFn:ye,crisp:!1}),r.drawGrid(K,xe,{vals:Ae,layer:ae["angular-grid"],path:le,transFn:w.noop,crisp:!1}),r.drawLabels(K,xe,{vals:Ae,layer:ae["angular-axis"],repositionOnUpdate:!0,transFn:De,labelFns:ve})}ne(ae["angular-line"].select("path"),de.showline,{d:$.pathSubplot(),transform:f(he,pe)}).attr("stroke-width",de.linewidth).call(s.stroke,de.linecolor)},V.updateFx=function(te,Q){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(te),this.updateRadialDrag(te,Q,0),this.updateRadialDrag(te,Q,1)),this.updateHoverAndMainDrag(te))},V.updateHoverAndMainDrag=function(te){var Q,$,K=this,ae=K.isSmith,ue=K.gd,se=K.layers,he=te._zoomlayer,pe=S.MINZOOM,de=S.OFFEDGE,xe=K.radius,_e=K.innerRadius,be=K.cx,Le=K.cy,De=K.cxx,ye=K.cyy,le=K.sectorInRad,oe=K.vangles,ve=K.radialAxis,Ce=T.clampTiny,ke=T.findXYatLength,Ae=T.findEnclosingVertexAngles,Ee=S.cornerHalfWidth,ze=S.cornerLen/2,Fe=u.makeDragger(se,"path","maindrag",te.dragmode===!1?"none":"crosshair");k.select(Fe).attr("d",K.pathSubplot()).attr("transform",f(be,Le)),Fe.onmousemove=function(ot){c.hover(ue,ot,K.id),ue._fullLayout._lasthover=Fe,ue._fullLayout._hoversubplot=K.id},Fe.onmouseout=function(ot){ue._dragging||h.unhover(ue,ot)};var ge,Te,Se,Re,Pe,Ve,We,Qe,lt,ut={element:Fe,gd:ue,subplot:K.id,plotinfo:{id:K.id,xaxis:K.xaxis,yaxis:K.yaxis},xaxes:[K.xaxis],yaxes:[K.yaxis]};function xt(ot,je){return Math.sqrt(ot*ot+je*je)}function _t(ot,je){return xt(ot-De,je-ye)}function mt(ot,je){return Math.atan2(ye-je,ot-De)}function it(ot,je){return[ot*Math.cos(je),ot*Math.sin(-je)]}function nt(ot,je){if(ot===0)return K.pathSector(2*Ee);var Ue=ze/ot,st=je-Ue,Ke=je+Ue,gt=Math.max(0,Math.min(ot,xe)),yt=gt-Ee,bt=gt+Ee;return"M"+it(yt,st)+"A"+[yt,yt]+" 0,0,0 "+it(yt,Ke)+"L"+it(bt,Ke)+"A"+[bt,bt]+" 0,0,1 "+it(bt,st)+"Z"}function Et(ot,je,Ue){if(ot===0)return K.pathSector(2*Ee);var st,Ke,gt=it(ot,je),yt=it(ot,Ue),bt=Ce((gt[0]+yt[0])/2),dt=Ce((gt[1]+yt[1])/2);if(bt&&dt){var Lt=dt/bt,wt=-1/Lt,Ct=ke(Ee,Lt,bt,dt);st=ke(ze,wt,Ct[0][0],Ct[0][1]),Ke=ke(ze,wt,Ct[1][0],Ct[1][1])}else{var zt,Dt;dt?(zt=ze,Dt=Ee):(zt=Ee,Dt=ze),st=[[bt-zt,dt-Dt],[bt+zt,dt-Dt]],Ke=[[bt-zt,dt+Dt],[bt+zt,dt+Dt]]}return"M"+st.join("L")+"L"+Ke.reverse().join("L")+"Z"}function Rt(ot,je){return je=Math.max(Math.min(je,xe),_e),ot<de?ot=0:xe-ot<de?ot=xe:je<de?je=0:xe-je<de&&(je=xe),Math.abs(je-ot)>pe?(ot<je?(Se=ot,Re=je):(Se=je,Re=ot),!0):(Se=null,Re=null,!1)}function Ft(ot,je){ot=ot||Pe,je=je||"M0,0Z",Qe.attr("d",ot),lt.attr("d",je),u.transitionZoombox(Qe,lt,Ve,We),Ve=!0;var Ue={};Je(Ue),ue.emit("plotly_relayouting",Ue)}function Pt(ot,je){var Ue,st,Ke=ge+(ot*=Q),gt=Te+(je*=$),yt=_t(ge,Te),bt=Math.min(_t(Ke,gt),xe),dt=mt(ge,Te);Rt(yt,bt)&&(Ue=Pe+K.pathSector(Re),Se&&(Ue+=K.pathSector(Se)),st=nt(Se,dt)+nt(Re,dt)),Ft(Ue,st)}function Ze(ot,je,Ue,st){var Ke=T.findIntersectionXY(Ue,st,Ue,[ot-De,ye-je]);return xt(Ke[0],Ke[1])}function $e(ot,je){var Ue,st,Ke=ge+ot,gt=Te+je,yt=mt(ge,Te),bt=mt(Ke,gt),dt=Ae(yt,oe),Lt=Ae(bt,oe);Rt(Ze(ge,Te,dt[0],dt[1]),Math.min(Ze(Ke,gt,Lt[0],Lt[1]),xe))&&(Ue=Pe+K.pathSector(Re),Se&&(Ue+=K.pathSector(Se)),st=[Et(Se,dt[0],dt[1]),Et(Re,dt[0],dt[1])].join(" ")),Ft(Ue,st)}function He(){if(u.removeZoombox(ue),Se!==null&&Re!==null){var ot={};Je(ot),u.showDoubleClickNotifier(ue),o.call("_guiRelayout",ue,ot)}}function Je(ot){var je=ve._rl,Ue=(je[1]-je[0])/(1-_e/xe)/xe,st=[je[0]+(Se-_e)*Ue,je[0]+(Re-_e)*Ue];ot[K.id+".radialaxis.range"]=st}function ft(ot,je){var Ue=ue._fullLayout.clickmode;if(u.removeZoombox(ue),ot===2){var st={};for(var Ke in K.viewInitial)st[K.id+"."+Ke]=K.viewInitial[Ke];ue.emit("plotly_doubleclick",null),o.call("_guiRelayout",ue,st)}Ue.indexOf("select")>-1&&ot===1&&v(je,ue,[K.xaxis],[K.yaxis],K.id,ut),Ue.indexOf("event")>-1&&c.click(ue,je,K.id)}ut.prepFn=function(ot,je,Ue){var st=ue._fullLayout.dragmode,Ke=Fe.getBoundingClientRect();ue._fullLayout._calcInverseTransform(ue);var gt=ue._fullLayout._invTransform;Q=ue._fullLayout._invScaleX,$=ue._fullLayout._invScaleY;var yt=w.apply3DTransform(gt)(je-Ke.left,Ue-Ke.top);if(ge=yt[0],Te=yt[1],oe){var bt=T.findPolygonOffset(xe,le[0],le[1],oe);ge+=De+bt[0],Te+=ye+bt[1]}switch(st){case"zoom":ut.clickFn=ft,ae||(ut.moveFn=oe?$e:Pt,ut.doneFn=He,function(){Se=null,Re=null,Pe=K.pathSubplot(),Ve=!1;var dt=ue._fullLayout[K.id];We=A(dt.bgcolor).getLuminance(),(Qe=u.makeZoombox(he,We,be,Le,Pe)).attr("fill-rule","evenodd"),lt=u.makeCorners(he,be,Le),g(ue)}());break;case"select":case"lasso":d(ot,je,Ue,ut,st)}},h.init(ut)},V.updateRadialDrag=function(te,Q,$){var K=this,ae=K.gd,ue=K.layers,se=K.radius,he=K.innerRadius,pe=K.cx,de=K.cy,xe=K.radialAxis,_e=S.radialDragBoxSize,be=_e/2;if(xe.visible){var Le,De,ye,le=j(K.radialAxisAngle),oe=xe._rl,ve=oe[0],Ce=oe[1],ke=oe[$],Ae=.75*(oe[1]-oe[0])/(1-K.getHole(Q))/se;$?(Le=pe+(se+be)*Math.cos(le),De=de-(se+be)*Math.sin(le),ye="radialdrag"):(Le=pe+(he-be)*Math.cos(le),De=de-(he-be)*Math.sin(le),ye="radialdrag-inner");var Ee,ze,Fe,ge=u.makeRectDragger(ue,ye,"crosshair",-be,-be,_e,_e),Te={element:ge,gd:ae};te.dragmode===!1&&(Te.dragmode=!1),ne(k.select(ge),xe.visible&&he<se,{transform:f(Le,De)}),Te.prepFn=function(){Ee=null,ze=null,Fe=null,Te.moveFn=Se,Te.doneFn=Re,g(ae)},Te.clampFn=function(We,Qe){return Math.sqrt(We*We+Qe*Qe)<S.MINDRAG&&(We=0,Qe=0),[We,Qe]},h.init(Te)}function Se(We,Qe){if(Ee)Ee(We,Qe);else{var lt=[We,-Qe],ut=[Math.cos(le),Math.sin(le)],xt=Math.abs(w.dot(lt,ut)/Math.sqrt(w.dot(lt,lt)));isNaN(xt)||(Ee=xt<.5?Pe:Ve)}var _t={};(function(mt){ze!==null?mt[K.id+".radialaxis.angle"]=ze:Fe!==null&&(mt[K.id+".radialaxis.range["+$+"]"]=Fe)})(_t),ae.emit("plotly_relayouting",_t)}function Re(){ze!==null?o.call("_guiRelayout",ae,K.id+".radialaxis.angle",ze):Fe!==null&&o.call("_guiRelayout",ae,K.id+".radialaxis.range["+$+"]",Fe)}function Pe(We,Qe){if($!==0){var lt=Le+We,ut=De+Qe;ze=Math.atan2(de-ut,lt-pe),K.vangles&&(ze=re(ze,K.vangles)),ze=Z(ze);var xt=f(pe,de)+b(-ze);ue["radial-axis"].attr("transform",xt),ue["radial-line"].select("line").attr("transform",xt);var _t=K.gd._fullLayout,mt=_t[K.id];K.updateRadialAxisTitle(_t,mt,ze)}}function Ve(We,Qe){var lt=w.dot([We,-Qe],[Math.cos(le),Math.sin(le)]);if(Fe=ke-Ae*lt,Ae>0==($?Fe>ve:Fe<Ce)){var ut=ae._fullLayout,xt=ut[K.id];xe.range[$]=Fe,xe._rl[$]=Fe,K.updateRadialAxis(ut,xt),K.xaxis.setRange(),K.xaxis.setScale(),K.yaxis.setRange(),K.yaxis.setScale();var _t=!1;for(var mt in K.traceHash){var it=K.traceHash[mt],nt=w.filterVisible(it);it[0][0].trace._module.plot(ae,K,nt,xt),o.traceIs(mt,"gl")&&nt.length&&(_t=!0)}_t&&(m(ae),_(ae))}else Fe=null}},V.updateAngularDrag=function(te){var Q=this,$=Q.gd,K=Q.layers,ae=Q.radius,ue=Q.angularAxis,se=Q.cx,he=Q.cy,pe=Q.cxx,de=Q.cyy,xe=S.angularDragBoxSize,_e=u.makeDragger(K,"path","angulardrag",te.dragmode===!1?"none":"move"),be={element:_e,gd:$};function Le(Te,Se){return Math.atan2(de+xe-Se,Te-pe-xe)}te.dragmode===!1?be.dragmode=!1:k.select(_e).attr("d",Q.pathAnnulus(ae,ae+xe)).attr("transform",f(se,he)).call(x,"move");var De,ye,le,oe,ve,Ce,ke=K.frontplot.select(".scatterlayer").selectAll(".trace"),Ae=ke.selectAll(".point"),Ee=ke.selectAll(".textpoint");function ze(Te,Se){var Re=Q.gd._fullLayout,Pe=Re[Q.id],Ve=Le(De+Te*te._invScaleX,ye+Se*te._invScaleY),We=Z(Ve-Ce);if(oe=le+We,K.frontplot.attr("transform",f(Q.xOffset2,Q.yOffset2)+b([-We,pe,de])),Q.vangles){ve=Q.radialAxisAngle+We;var Qe=f(se,he)+b(-We),lt=f(se,he)+b(-ve);K.bg.attr("transform",Qe),K["radial-grid"].attr("transform",Qe),K["radial-axis"].attr("transform",lt),K["radial-line"].select("line").attr("transform",lt),Q.updateRadialAxisTitle(Re,Pe,ve)}else Q.clipPaths.forTraces.select("path").attr("transform",f(pe,de)+b(We));Ae.each(function(){var nt=k.select(this),Et=n.getTranslate(nt);nt.attr("transform",f(Et.x,Et.y)+b([We]))}),Ee.each(function(){var nt=k.select(this),Et=nt.select("text"),Rt=n.getTranslate(nt);nt.attr("transform",b([We,Et.attr("x"),Et.attr("y")])+f(Rt.x,Rt.y))}),ue.rotation=w.modHalf(oe,360),Q.updateAngularAxis(Re,Pe),Q._hasClipOnAxisFalse&&!w.isFullCircle(Q.sectorInRad)&&ke.call(n.hideOutsideRangePoints,Q);var ut=!1;for(var xt in Q.traceHash)if(o.traceIs(xt,"gl")){var _t=Q.traceHash[xt],mt=w.filterVisible(_t);_t[0][0].trace._module.plot($,Q,mt,Pe),mt.length&&(ut=!0)}ut&&(m($),_($));var it={};Fe(it),$.emit("plotly_relayouting",it)}function Fe(Te){Te[Q.id+".angularaxis.rotation"]=oe,Q.vangles&&(Te[Q.id+".radialaxis.angle"]=ve)}function ge(){Ee.select("text").attr("transform",null);var Te={};Fe(Te),o.call("_guiRelayout",$,Te)}be.prepFn=function(Te,Se,Re){var Pe=te[Q.id];le=Pe.angularaxis.rotation;var Ve=_e.getBoundingClientRect();De=Se-Ve.left,ye=Re-Ve.top,$._fullLayout._calcInverseTransform($);var We=w.apply3DTransform(te._invTransform)(De,ye);De=We[0],ye=We[1],Ce=Le(De,ye),be.moveFn=ze,be.doneFn=ge,g($)},Q.vangles&&!w.isFullCircle(Q.sectorInRad)&&(be.prepFn=w.noop,x(k.select(_e),null)),h.init(be)},V.isPtInside=function(te){if(this.isSmith)return!0;var Q=this.sectorInRad,$=this.vangles,K=this.angularAxis.c2g(te.theta),ae=this.radialAxis,ue=ae.c2l(te.r),se=ae._rl;return($?T.isPtInsidePolygon:w.isPtInsideSector)(ue,K,se,Q,$)},V.pathArc=function(te){var Q=this.sectorInRad,$=this.vangles;return($?T.pathPolygon:w.pathArc)(te,Q[0],Q[1],$)},V.pathSector=function(te){var Q=this.sectorInRad,$=this.vangles;return($?T.pathPolygon:w.pathSector)(te,Q[0],Q[1],$)},V.pathAnnulus=function(te,Q){var $=this.sectorInRad,K=this.vangles;return(K?T.pathPolygonAnnulus:w.pathAnnulus)(te,Q,$[0],$[1],K)},V.pathSubplot=function(){var te=this.innerRadius,Q=this.radius;return te?this.pathAnnulus(te,Q):this.pathSector(Q)},V.fillViewInitialKey=function(te,Q){te in this.viewInitial||(this.viewInitial[te]=Q)}},57696:function(U,C,e){var k=e(3400),A=e(78344),o=k.deg2rad,w=k.rad2deg;U.exports=function(b,f,s){switch(A(b,s),b._id){case"x":case"radialaxis":(function(n,i){var r=i._subplot;n.setGeometry=function(){var t=n._rl[0],a=n._rl[1],l=r.innerRadius,u=(r.radius-l)/(a-t),h=l/u,c=t>a?function(y){return y<=0}:function(y){return y>=0};n.c2g=function(y){var d=n.c2l(y)-t;return(c(d)?d:0)+h},n.g2c=function(y){return n.l2c(y+t-h)},n.g2p=function(y){return y*u},n.c2p=function(y){return n.g2p(n.c2g(y))}}})(b,f);break;case"angularaxis":(function(n,i){var r=n.type;if(r==="linear"){var t=n.d2c,a=n.c2d;n.d2c=function(l,u){return function(h,c){return c==="degrees"?o(h):h}(t(l),u)},n.c2d=function(l,u){return a(function(h,c){return c==="degrees"?w(h):h}(l,u))}}n.makeCalcdata=function(l,u){var h,c,y=l[u],d=l._length,v=function(p){return n.d2c(p,l.thetaunit)};if(y)for(h=new Array(d),c=0;c<d;c++)h[c]=v(y[c]);else{var g=u+"0",x="d"+u,m=g in l?v(l[g]):0,_=l[x]?v(l[x]):(n.period||2*Math.PI)/d;for(h=new Array(d),c=0;c<d;c++)h[c]=m+c*_}return h},n.setGeometry=function(){var l,u,h,c,y=i.sector,d=y.map(o),v={clockwise:-1,counterclockwise:1}[n.direction],g=o(n.rotation),x=function(S){return v*S+g},m=function(S){return(S-g)/v};switch(r){case"linear":u=l=k.identity,c=o,h=w,n.range=k.isFullCircle(d)?[y[0],y[0]+360]:d.map(m).map(w);break;case"category":var _=n._categories.length,p=n.period?Math.max(n.period,_):_;p===0&&(p=1),u=c=function(S){return 2*S*Math.PI/p},l=h=function(S){return S*p/Math.PI/2},n.range=[0,p]}n.c2g=function(S){return x(u(S))},n.g2c=function(S){return l(m(S))},n.t2g=function(S){return x(c(S))},n.g2t=function(S){return h(m(S))}}})(b,f)}}},55012:function(U){U.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(U){function C(o){return o<0?-1:o>0?1:0}function e(o){var w=o[0],b=o[1];if(!isFinite(w)||!isFinite(b))return[1,0];var f=(w+1)*(w+1)+b*b;return[(w*w+b*b-1)/f,2*b/f]}function k(o,w){var b=w[0],f=w[1];return[b*o.radius+o.cx,-f*o.radius+o.cy]}function A(o,w){return w*o.radius}U.exports={smith:e,reactanceArc:function(o,w,b,f){var s=k(o,e([b,w])),n=s[0],i=s[1],r=k(o,e([f,w])),t=r[0],a=r[1];if(w===0)return["M"+n+","+i,"L"+t+","+a].join(" ");var l=A(o,1/Math.abs(w));return["M"+n+","+i,"A"+l+","+l+" 0 0,"+(w<0?1:0)+" "+t+","+a].join(" ")},resistanceArc:function(o,w,b,f){var s=A(o,1/(w+1)),n=k(o,e([w,b])),i=n[0],r=n[1],t=k(o,e([w,f])),a=t[0],l=t[1];if(C(b)!==C(f)){var u=k(o,e([w,0]));return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(f<0?0:1)+a+","+l].join(" ")}return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(f<b?0:1)+" "+a+","+l].join(" ")},smithTransform:k}},47788:function(U,C,e){var k=e(84888).KY,A=e(3400).counterRegex,o=e(62400),w=e(55012),b=w.attr,f=w.name,s=A(f),n={};n[b]={valType:"subplotid",dflt:f,editType:"calc"},U.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:n,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var r=i._fullLayout,t=i.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=k(t,f,u),c=r[u]._subplot;c||(c=o(i,u,!0),r[u]._subplot=c),c.plot(h,r,i._promises)}},clean:function(i,r,t,a){for(var l=a._subplots[f]||[],u=0;u<l.length;u++){var h=l[u],c=a[h]._subplot;if(!r[h]&&c)for(var y in c.framework.remove(),c.clipPaths)c.clipPaths[y].remove()}},toSVG:e(57952).toSVG}},6183:function(U,C,e){var k=e(22548),A=e(94724),o=e(86968).u,w=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:A.color,showline:w({},A.showline,{dflt:!0}),linecolor:A.linecolor,linewidth:A.linewidth,showgrid:w({},A.showgrid,{dflt:!0}),gridcolor:A.gridcolor,gridwidth:A.gridwidth,griddash:A.griddash},"plot","from-root"),s=b({ticklen:A.ticklen,tickwidth:w({},A.tickwidth,{dflt:2}),tickcolor:A.tickcolor,showticklabels:A.showticklabels,labelalias:A.labelalias,showtickprefix:A.showtickprefix,tickprefix:A.tickprefix,showticksuffix:A.showticksuffix,ticksuffix:A.ticksuffix,tickfont:A.tickfont,tickformat:A.tickformat,hoverformat:A.hoverformat,layer:A.layer},"plot","from-root"),n=w({visible:w({},A.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:w({},A.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},f,s),i=w({visible:w({},A.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:A.ticks,editType:"calc"},f,s);U.exports={domain:o({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:k.background},realaxis:n,imaginaryaxis:i,editType:"calc"}},22836:function(U,C,e){var k,A,o,w=e(3400),b=e(76308),f=e(31780),s=e(168),n=e(84888).op,i=e(42568),r=e(95936),t=e(42136),a=e(78344),l=e(6183),u=e(55012),h=u.axisNames,c=(k=function(d){return w.isTypedArray(d)&&(d=Array.from(d)),d.slice().reverse().map(function(v){return-v}).concat([0]).concat(d)},A=String,o={},function(d){var v=A?A(d):d;if(v in o)return o[v];var g=k(d);return o[v]=g,g});function y(d,v,g,x){var m=g("bgcolor");x.bgColor=b.combine(m,x.paper_bgcolor);var _,p=n(x.fullData,u.name,x.id),S=x.layoutOut;function T(V,W){return g(_+"."+V,W)}for(var E=0;E<h.length;E++){_=h[E],w.isPlainObject(d[_])||(d[_]={});var O=d[_],P=f.newContainer(v,_);P._id=P._name=_,P._attr=x.id+"."+_,P._traceIndices=p.map(function(V){return V._expandedIndex});var I=T("visible");if(P.type="linear",a(P,S),i(O,P,T,P.type),I){var R,H,z,j,Z=_==="realaxis";Z&&T("side"),Z?T("tickvals"):T("tickvals",c(v.realaxis.tickvals||l.realaxis.tickvals.dflt)),w.isTypedArray(P.tickvals)&&(P.tickvals=Array.from(P.tickvals));var F=x.font||{};I&&(H=(R=T("color"))===O.color?R:F.color,z=F.size,j=F.family),r(O,P,T,P.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!Z,noExp:!0,font:{color:H,size:z,family:j}}),w.coerce2(d,v,l,_+".ticklen"),w.coerce2(d,v,l,_+".tickwidth"),w.coerce2(d,v,l,_+".tickcolor",v.color),T("ticks")||(delete v[_].ticklen,delete v[_].tickwidth,delete v[_].tickcolor),t(O,P,T,{dfltColor:R,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[_]}),T("layer")}T("hoverformat"),delete P.type,P._input=O}}U.exports=function(d,v,g){s(d,v,g,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:y,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:g,layoutOut:v})}},168:function(U,C,e){var k=e(3400),A=e(31780),o=e(86968).Q;U.exports=function(w,b,f,s){var n,i,r=s.type,t=s.attributes,a=s.handleDefaults,l=s.partition||"x",u=b._subplots[r],h=u.length,c=h&&u[0].replace(/\d+$/,"");function y(x,m){return k.coerce(n,i,t,x,m)}for(var d=0;d<h;d++){var v=u[d];n=w[v]?w[v]:w[v]={},i=A.newContainer(b,v,c),s.noUirevision||y("uirevision",b.uirevision);var g={};g[l]=[d/h,(d+1)/h],o(i,b,y,g),s.id=v,a(n,i,y,s)}}},21776:function(U,C,e){var k=e(26880);function A(o){var w=o.description?" "+o.description:"",b=o.keys||[];if(b.length>0){for(var f=[],s=0;s<b.length;s++)f[s]="`"+b[s]+"`";w+="Finally, the template string has access to ",w=b.length===1?w+"variable "+f[0]:w+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return w}k.FORMAT_LINK,k.DATE_FORMAT_LINK,C.Ks=function(o,w){o=o||{},A(w=w||{});var b={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(b.arrayOk=!0),b},C.Gw=function(o,w){o=o||{},A(w=w||{});var b={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(b.arrayOk=!0),b},C.ye=function(o,w){return w=w||{},(o=o||{}).newshape,A(w),{valType:"string",dflt:"",editType:o.editType||"arraydraw"}}},19352:function(U,C,e){var k=e(24696),A=e(84888).KY,o=e(3400).counterRegex,w="ternary";C.name=w;var b=C.attr="subplot";C.idRoot=w,C.idRegex=C.attrRegex=o(w),(C.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},C.layoutAttributes=e(86379),C.supplyLayoutDefaults=e(38536),C.plot=function(f){for(var s=f._fullLayout,n=f.calcdata,i=s._subplots[w],r=0;r<i.length;r++){var t=i[r],a=A(n,w,t),l=s[t]._subplot;l||(l=new k({id:t,graphDiv:f,container:s._ternarylayer.node()},s),s[t]._subplot=l),l.plot(a,s,f._promises)}},C.clean=function(f,s,n,i){for(var r=i._subplots[w]||[],t=0;t<r.length;t++){var a=r[t],l=i[a]._subplot;!s[a]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(U,C,e){var k=e(22548),A=e(86968).u,o=e(94724),w=e(67824).overrideAll,b=e(92880).extendFlat,f={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.minor.tickmode,nticks:b({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:b({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:b({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,griddash:o.griddash,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},s=U.exports=w({domain:A({name:"ternary"}),bgcolor:{valType:"color",dflt:k.background},sum:{valType:"number",dflt:1,min:0},aaxis:f,baxis:f,caxis:f},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(U,C,e){var k=e(76308),A=e(31780),o=e(3400),w=e(168),b=e(95936),f=e(42568),s=e(25404),n=e(26332),i=e(42136),r=e(86379),t=["aaxis","baxis","caxis"];function a(u,h,c,y){var d,v,g,x=c("bgcolor"),m=c("sum");y.bgColor=k.combine(x,y.paper_bgcolor);for(var _=0;_<t.length;_++)v=u[d=t[_]]||{},(g=A.newContainer(h,d))._name=d,l(v,g,y,h);var p=h.aaxis,S=h.baxis,T=h.caxis;p.min+S.min+T.min>=m&&(p.min=0,S.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,h,c,y){var d=r[h._name];function v(S,T){return o.coerce(u,h,d,S,T)}v("uirevision",y.uirevision),h.type="linear";var g=v("color"),x=g!==d.color.dflt?g:c.font.color,m=h._name.charAt(0).toUpperCase(),_="Component "+m,p=v("title.text",_);h._hovertitle=p===_?p:m,o.coerceFont(v,"title.font",c.font,{overrideDflt:{size:o.bigFont(c.font.size),color:x}}),v("min"),n(u,h,v,"linear"),f(u,h,v,"linear"),b(u,h,v,"linear",{noAutotickangles:!0}),s(u,h,v,{outerTicks:!0}),v("showticklabels")&&(o.coerceFont(v,"tickfont",c.font,{overrideDflt:{color:x}}),v("tickangle"),v("tickformat")),i(u,h,v,{dfltColor:g,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),v("hoverformat"),v("layer")}U.exports=function(u,h,c){w(u,h,c,{type:"ternary",attributes:r,handleDefaults:a,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(U,C,e){var k=e(33428),A=e(49760),o=e(24040),w=e(3400),b=w.strTranslate,f=w._,s=e(76308),n=e(43616),i=e(78344),r=e(92880).extendFlat,t=e(7316),a=e(54460),l=e(86476),u=e(93024),h=e(72760),c=h.freeMode,y=h.rectMode,d=e(81668),v=e(22676).prepSelect,g=e(22676).selectOnClick,x=e(22676).clearOutline,m=e(22676).clearSelectionsCache,_=e(33816);function p(z,j){this.id=z.id,this.graphDiv=z.graphDiv,this.init(j),this.makeFramework(j),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}U.exports=p;var S=p.prototype;S.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},S.plot=function(z,j){var Z=this,F=j[Z.id],V=j._size;Z._hasClipOnAxisFalse=!1;for(var W=0;W<z.length;W++)if(z[W][0].trace.cliponaxis===!1){Z._hasClipOnAxisFalse=!0;break}Z.updateLayers(F),Z.adjustLayout(F,V),t.generalUpdatePerTraceModule(Z.graphDiv,Z,z,F),Z.layers.plotbg.select("path").call(s.fill,F.bgcolor)},S.makeFramework=function(z){var j=this,Z=j.graphDiv,F=z[j.id],V=j.clipId="clip"+j.layoutId+j.id,W=j.clipIdRelative="clip-relative"+j.layoutId+j.id;j.clipDef=w.ensureSingleById(z._clips,"clipPath",V,function(re){re.append("path").attr("d","M0,0Z")}),j.clipDefRelative=w.ensureSingleById(z._clips,"clipPath",W,function(re){re.append("path").attr("d","M0,0Z")}),j.plotContainer=w.ensureSingle(j.container,"g",j.id),j.updateLayers(F),n.setClipUrl(j.layers.backplot,V,Z),n.setClipUrl(j.layers.grids,V,Z)},S.updateLayers=function(z){var j=this.layers,Z=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),z.baxis.layer==="below traces"&&Z.push("baxis","bline"),z.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),z.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),z.baxis.layer==="above traces"&&Z.push("baxis","bline"),z.caxis.layer==="above traces"&&Z.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(Z,String),V=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(W){return"toplevel "+W}).each(function(W){var re=k.select(this);j[W]=re,W==="frontplot"?re.append("g").classed("scatterlayer",!0):W==="backplot"?re.append("g").classed("maplayer",!0):W==="plotbg"?re.append("path").attr("d","M0,0Z"):W==="aline"||W==="bline"||W==="cline"?re.append("path"):W==="grids"&&V.forEach(function(ne){j[ne]=re.append("g").classed("grid "+ne,!0)})}),F.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(z,j){var Z,F,V,W,re,ne,te=this,Q=z.domain,$=(Q.x[0]+Q.x[1])/2,K=(Q.y[0]+Q.y[1])/2,ae=Q.x[1]-Q.x[0],ue=Q.y[1]-Q.y[0],se=ae*j.w,he=ue*j.h,pe=z.sum,de=z.aaxis.min,xe=z.baxis.min,_e=z.caxis.min;se>T*he?V=(W=he)*T:W=(V=se)/T,re=ae*V/se,ne=ue*W/he,Z=j.l+j.w*$-V/2,F=j.t+j.h*(1-K)-W/2,te.x0=Z,te.y0=F,te.w=V,te.h=W,te.sum=pe,te.xaxis={type:"linear",range:[de+2*_e-pe,pe-de-2*xe],domain:[$-re/2,$+re/2],_id:"x"},i(te.xaxis,te.graphDiv._fullLayout),te.xaxis.setScale(),te.xaxis.isPtWithinRange=function(Ee){return Ee.a>=te.aaxis.range[0]&&Ee.a<=te.aaxis.range[1]&&Ee.b>=te.baxis.range[1]&&Ee.b<=te.baxis.range[0]&&Ee.c>=te.caxis.range[1]&&Ee.c<=te.caxis.range[0]},te.yaxis={type:"linear",range:[de,pe-xe-_e],domain:[K-ne/2,K+ne/2],_id:"y"},i(te.yaxis,te.graphDiv._fullLayout),te.yaxis.setScale(),te.yaxis.isPtWithinRange=function(){return!0};var be=te.yaxis.domain[0],Le=te.aaxis=r({},z.aaxis,{range:[de,pe-xe-_e],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[be,be+ne*T],anchor:"free",position:0,_id:"y",_length:V});i(Le,te.graphDiv._fullLayout),Le.setScale();var De=te.baxis=r({},z.baxis,{range:[pe-de-_e,xe],side:"bottom",domain:te.xaxis.domain,anchor:"free",position:0,_id:"x",_length:V});i(De,te.graphDiv._fullLayout),De.setScale();var ye=te.caxis=r({},z.caxis,{range:[pe-de-xe,_e],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[be,be+ne*T],anchor:"free",position:0,_id:"y",_length:V});i(ye,te.graphDiv._fullLayout),ye.setScale();var le="M"+Z+","+(F+W)+"h"+V+"l-"+V/2+",-"+W+"Z";te.clipDef.select("path").attr("d",le),te.layers.plotbg.select("path").attr("d",le);var oe="M0,"+W+"h"+V+"l-"+V/2+",-"+W+"Z";te.clipDefRelative.select("path").attr("d",oe);var ve=b(Z,F);te.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ve),te.clipDefRelative.select("path").attr("transform",null);var Ce=b(Z-De._offset,F+W);te.layers.baxis.attr("transform",Ce),te.layers.bgrid.attr("transform",Ce);var ke=b(Z+V/2,F)+"rotate(30)"+b(0,-Le._offset);te.layers.aaxis.attr("transform",ke),te.layers.agrid.attr("transform",ke);var Ae=b(Z+V/2,F)+"rotate(-30)"+b(0,-ye._offset);te.layers.caxis.attr("transform",Ae),te.layers.cgrid.attr("transform",Ae),te.drawAxes(!0),te.layers.aline.select("path").attr("d",Le.showline?"M"+Z+","+(F+W)+"l"+V/2+",-"+W:"M0,0").call(s.stroke,Le.linecolor||"#000").style("stroke-width",(Le.linewidth||0)+"px"),te.layers.bline.select("path").attr("d",De.showline?"M"+Z+","+(F+W)+"h"+V:"M0,0").call(s.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),te.layers.cline.select("path").attr("d",ye.showline?"M"+(Z+V/2)+","+F+"l"+V/2+","+W:"M0,0").call(s.stroke,ye.linecolor||"#000").style("stroke-width",(ye.linewidth||0)+"px"),te.graphDiv._context.staticPlot||te.initInteractions(),n.setClipUrl(te.layers.frontplot,te._hasClipOnAxisFalse?null:te.clipId,te.graphDiv)},S.drawAxes=function(z){var j=this,Z=j.graphDiv,F=j.id.substr(7)+"title",V=j.layers,W=j.aaxis,re=j.baxis,ne=j.caxis;if(j.drawAx(W),j.drawAx(re),j.drawAx(ne),z){var te=Math.max(W.showticklabels?W.tickfont.size/2:0,(ne.showticklabels?.75*ne.tickfont.size:0)+(ne.ticks==="outside"?.87*ne.ticklen:0)),Q=(re.showticklabels?re.tickfont.size:0)+(re.ticks==="outside"?re.ticklen:0)+3;V["a-title"]=d.draw(Z,"a"+F,{propContainer:W,propName:j.id+".aaxis.title",placeholder:f(Z,"Click to enter Component A title"),attributes:{x:j.x0+j.w/2,y:j.y0-W.title.font.size/3-te,"text-anchor":"middle"}}),V["b-title"]=d.draw(Z,"b"+F,{propContainer:re,propName:j.id+".baxis.title",placeholder:f(Z,"Click to enter Component B title"),attributes:{x:j.x0-Q,y:j.y0+j.h+.83*re.title.font.size+Q,"text-anchor":"middle"}}),V["c-title"]=d.draw(Z,"c"+F,{propContainer:ne,propName:j.id+".caxis.title",placeholder:f(Z,"Click to enter Component C title"),attributes:{x:j.x0+j.w+Q,y:j.y0+j.h+.83*ne.title.font.size+Q,"text-anchor":"middle"}})}},S.drawAx=function(z){var j,Z=this,F=Z.graphDiv,V=z._name,W=V.charAt(0),re=z._id,ne=Z.layers[V],te=W+"tickLayout",Q=(j=z).ticks+String(j.ticklen)+String(j.showticklabels);Z[te]!==Q&&(ne.selectAll("."+re+"tick").remove(),Z[te]=Q),z.setScale();var $=a.calcTicks(z),K=a.clipEnds(z,$),ae=a.makeTransTickFn(z),ue=a.getTickSigns(z)[2],se=w.deg2rad(30),he=ue*(z.linewidth||1)/2,pe=ue*z.ticklen,de=Z.w,xe=Z.h,_e=W==="b"?"M0,"+he+"l"+Math.sin(se)*pe+","+Math.cos(se)*pe:"M"+he+",0l"+Math.cos(se)*pe+","+-Math.sin(se)*pe,be={a:"M0,0l"+xe+",-"+de/2,b:"M0,0l-"+de/2+",-"+xe,c:"M0,0l-"+xe+","+de/2}[W];a.drawTicks(F,z,{vals:z.ticks==="inside"?K:$,layer:ne,path:_e,transFn:ae,crisp:!1}),a.drawGrid(F,z,{vals:K,layer:Z.layers[W+"grid"],path:be,transFn:ae,crisp:!1}),a.drawLabels(F,z,{vals:$,layer:ne,transFn:ae,labelFns:a.makeLabelFns(z,0,30)})};var E=_.MINZOOM/2+.87,O="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",P="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",I="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function H(z){k.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),x(this.dragOptions.gd)},S.initInteractions=function(){var z,j,Z,F,V,W,re,ne,te,Q,$,K,ae=this,ue=ae.layers.plotbg.select("path").node(),se=ae.graphDiv,he=se._fullLayout._zoomlayer;function pe(oe){var ve={};return ve[ae.id+".aaxis.min"]=oe.a,ve[ae.id+".baxis.min"]=oe.b,ve[ae.id+".caxis.min"]=oe.c,ve}function de(oe,ve){var Ce=se._fullLayout.clickmode;H(se),oe===2&&(se.emit("plotly_doubleclick",null),o.call("_guiRelayout",se,pe({a:0,b:0,c:0}))),Ce.indexOf("select")>-1&&oe===1&&g(ve,se,[ae.xaxis],[ae.yaxis],ae.id,ae.dragOptions),Ce.indexOf("event")>-1&&u.click(se,ve,ae.id)}function xe(oe,ve){return 1-ve/ae.h}function _e(oe,ve){return 1-(oe+(ae.h-ve)/Math.sqrt(3))/ae.w}function be(oe,ve){return(oe-(ae.h-ve)/Math.sqrt(3))/ae.w}function Le(oe,ve){var Ce=Z+oe*z,ke=F+ve*j,Ae=Math.max(0,Math.min(1,xe(0,F),xe(0,ke))),Ee=Math.max(0,Math.min(1,_e(Z,F),_e(Ce,ke))),ze=Math.max(0,Math.min(1,be(Z,F),be(Ce,ke))),Fe=(Ae/2+ze)*ae.w,ge=(1-Ae/2-Ee)*ae.w,Te=(Fe+ge)/2,Se=ge-Fe,Re=(1-Ae)*ae.h,Pe=Re-Se/T;Se<_.MINZOOM?(re=V,$.attr("d",te),K.attr("d","M0,0Z")):(re={a:V.a+Ae*W,b:V.b+Ee*W,c:V.c+ze*W},$.attr("d",te+"M"+Fe+","+Re+"H"+ge+"L"+Te+","+Pe+"L"+Fe+","+Re+"Z"),K.attr("d","M"+Z+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Fe+","+Re+O+"M"+ge+","+Re+P+"M"+Te+","+Pe+I)),Q||($.transition().style("fill",ne>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),Q=!0),se.emit("plotly_relayouting",pe(re))}function De(){H(se),re!==V&&(o.call("_guiRelayout",se,pe(re)),R&&se.data&&se._context.showTips&&(w.notifier(f(se,"Double-click to zoom back out"),"long"),R=!1))}function ye(oe,ve){var Ce=oe/ae.xaxis._m,ke=ve/ae.yaxis._m,Ae=[(re={a:V.a-ke,b:V.b+(Ce+ke)/2,c:V.c-(Ce-ke)/2}).a,re.b,re.c].sort(w.sorterAsc),Ee=Ae.indexOf(re.a),ze=Ae.indexOf(re.b),Fe=Ae.indexOf(re.c);Ae[0]<0&&(Ae[1]+Ae[0]/2<0?(Ae[2]+=Ae[0]+Ae[1],Ae[0]=Ae[1]=0):(Ae[2]+=Ae[0]/2,Ae[1]+=Ae[0]/2,Ae[0]=0),re={a:Ae[Ee],b:Ae[ze],c:Ae[Fe]},ve=(V.a-re.a)*ae.yaxis._m,oe=(V.c-re.c-V.b+re.b)*ae.xaxis._m);var ge=b(ae.x0+oe,ae.y0+ve);ae.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ge);var Te=b(-oe,-ve);ae.clipDefRelative.select("path").attr("transform",Te),ae.aaxis.range=[re.a,ae.sum-re.b-re.c],ae.baxis.range=[ae.sum-re.a-re.c,re.b],ae.caxis.range=[ae.sum-re.a-re.b,re.c],ae.drawAxes(!1),ae._hasClipOnAxisFalse&&ae.plotContainer.select(".scatterlayer").selectAll(".trace").call(n.hideOutsideRangePoints,ae),se.emit("plotly_relayouting",pe(re))}function le(){o.call("_guiRelayout",se,pe(re))}this.dragOptions={element:ue,gd:se,plotinfo:{id:ae.id,domain:se._fullLayout[ae.id].domain,xaxis:ae.xaxis,yaxis:ae.yaxis},subplot:ae.id,prepFn:function(oe,ve,Ce){ae.dragOptions.xaxes=[ae.xaxis],ae.dragOptions.yaxes=[ae.yaxis],z=se._fullLayout._invScaleX,j=se._fullLayout._invScaleY;var ke=ae.dragOptions.dragmode=se._fullLayout.dragmode;c(ke)?ae.dragOptions.minDrag=1:ae.dragOptions.minDrag=void 0,ke==="zoom"?(ae.dragOptions.moveFn=Le,ae.dragOptions.clickFn=de,ae.dragOptions.doneFn=De,function(Ae,Ee,ze){var Fe=ue.getBoundingClientRect();Z=Ee-Fe.left,F=ze-Fe.top,se._fullLayout._calcInverseTransform(se);var ge=se._fullLayout._invTransform,Te=w.apply3DTransform(ge)(Z,F);Z=Te[0],F=Te[1],V={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},re=V,W=ae.aaxis.range[1]-V.a,ne=A(ae.graphDiv._fullLayout[ae.id].bgcolor).getLuminance(),te="M0,"+ae.h+"L"+ae.w/2+", 0L"+ae.w+","+ae.h+"Z",Q=!1,$=he.append("path").attr("class","zoombox").attr("transform",b(ae.x0,ae.y0)).style({fill:ne>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",te),K=he.append("path").attr("class","zoombox-corners").attr("transform",b(ae.x0,ae.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ae.clearOutline(se)}(0,ve,Ce)):ke==="pan"?(ae.dragOptions.moveFn=ye,ae.dragOptions.clickFn=de,ae.dragOptions.doneFn=le,V={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},re=V,ae.clearOutline(se)):(y(ke)||c(ke))&&v(oe,ve,Ce,ae.dragOptions,ke)}},ue.onmousemove=function(oe){u.hover(se,oe,ae.id),se._fullLayout._lasthover=ue,se._fullLayout._hoversubplot=ae.id},ue.onmouseout=function(oe){se._dragging||l.unhover(se,oe)},l.init(this.dragOptions)}},24040:function(U,C,e){var k=e(24248),A=e(16628),o=e(52416),w=e(63620),b=e(52200).addStyleRule,f=e(92880),s=e(45464),n=e(64859),i=f.extendFlat,r=f.extendDeepAll;function t(g){var x=g.name,m=g.categories,_=g.meta;if(C.modules[x])k.log("Type "+x+" already registered");else{C.subplotsRegistry[g.basePlotModule.name]||function(R){var H=R.name;if(C.subplotsRegistry[H])k.log("Plot type "+H+" already registered.");else for(var z in h(R),C.subplotsRegistry[H]=R,C.componentsRegistry)d(z,R.name)}(g.basePlotModule);for(var p={},S=0;S<m.length;S++)p[m[S]]=!0,C.allCategories[m[S]]=!0;for(var T in C.modules[x]={_module:g,categories:p},_&&Object.keys(_).length&&(C.modules[x].meta=_),C.allTypes.push(x),C.componentsRegistry)c(T,x);g.layoutAttributes&&i(C.traceLayoutAttributes,g.layoutAttributes);var E=g.basePlotModule,O=E.name;if(O==="mapbox"){var P=E.constants.styleRules;for(var I in P)b(".js-plotly-plot .plotly .mapboxgl-"+I,P[I])}O!=="geo"&&O!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function a(g){if(typeof g.name!="string")throw new Error("Component module *name* must be a string.");var x=g.name;for(var m in C.componentsRegistry[x]=g,g.layoutAttributes&&(g.layoutAttributes._isLinkedToArray&&o(C.layoutArrayContainers,x),h(g)),C.modules)c(x,m);for(var _ in C.subplotsRegistry)d(x,_);for(var p in C.transformsRegistry)y(x,p);g.schema&&g.schema.layout&&r(n,g.schema.layout)}function l(g){if(typeof g.name!="string")throw new Error("Transform module *name* must be a string.");var x="Transform module "+g.name,m=typeof g.transform=="function",_=typeof g.calcTransform=="function";if(!m&&!_)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var p in m&&_&&k.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),w(g.attributes)||k.log(x+" registered without an *attributes* object."),typeof g.supplyDefaults!="function"&&k.log(x+" registered without a *supplyDefaults* method."),C.transformsRegistry[g.name]=g,C.componentsRegistry)y(p,g.name)}function u(g){var x=g.name,m=x.split("-")[0],_=g.dictionary,p=g.format,S=_&&Object.keys(_).length,T=p&&Object.keys(p).length,E=C.localeRegistry,O=E[x];if(O||(E[x]=O={}),m!==x){var P=E[m];P||(E[m]=P={}),S&&P.dictionary===O.dictionary&&(P.dictionary=_),T&&P.format===O.format&&(P.format=p)}S&&(O.dictionary=_),T&&(O.format=p)}function h(g){if(g.layoutAttributes){var x=g.layoutAttributes._arrayAttrRegexps;if(x)for(var m=0;m<x.length;m++)o(C.layoutArrayRegexes,x[m])}}function c(g,x){var m=C.componentsRegistry[g].schema;if(m&&m.traces){var _=m.traces[x];_&&r(C.modules[x]._module.attributes,_)}}function y(g,x){var m=C.componentsRegistry[g].schema;if(m&&m.transforms){var _=m.transforms[x];_&&r(C.transformsRegistry[x].attributes,_)}}function d(g,x){var m=C.componentsRegistry[g].schema;if(m&&m.subplots){var _=C.subplotsRegistry[x],p=_.layoutAttributes,S=_.attr==="subplot"?_.name:_.attr;Array.isArray(S)&&(S=S[0]);var T=m.subplots[S];p&&T&&r(p,T)}}function v(g){return typeof g=="object"&&(g=g.type),g}C.modules={},C.allCategories={},C.allTypes=[],C.subplotsRegistry={},C.transformsRegistry={},C.componentsRegistry={},C.layoutArrayContainers=[],C.layoutArrayRegexes=[],C.traceLayoutAttributes={},C.localeRegistry={},C.apiMethodRegistry={},C.collectableSubplotTypes=null,C.register=function(g){if(C.collectableSubplotTypes=null,!g)throw new Error("No argument passed to Plotly.register.");g&&!Array.isArray(g)&&(g=[g]);for(var x=0;x<g.length;x++){var m=g[x];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":t(m);break;case"transform":l(m);break;case"component":a(m);break;case"locale":u(m);break;case"apiMethod":var _=m.name;C.apiMethodRegistry[_]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},C.getModule=function(g){var x=C.modules[v(g)];return!!x&&x._module},C.traceIs=function(g,x){if((g=v(g))==="various")return!1;var m=C.modules[g];return m||(g&&k.log("Unrecognized trace type "+g+"."),m=C.modules[s.type.dflt]),!!m.categories[x]},C.getTransformIndices=function(g,x){for(var m=[],_=g.transforms||[],p=0;p<_.length;p++)_[p].type===x&&m.push(p);return m},C.hasTransform=function(g,x){for(var m=g.transforms||[],_=0;_<m.length;_++)if(m[_].type===x)return!0;return!1},C.getComponentMethod=function(g,x){var m=C.componentsRegistry[g];return m&&m[x]||A},C.call=function(){var g=arguments[0],x=[].slice.call(arguments,1);return C.apiMethodRegistry[g].apply(null,x)}},91536:function(U,C,e){var k=e(24040),A=e(3400),o=A.extendFlat,w=A.extendDeep;function b(f){var s;switch(f){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}U.exports=function(f,s){var n,i,r=f.data,t=f.layout,a=w([],r),l=w({},t,b(s.tileClass)),u=f._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(n=0;n<h.length;n++)i=h[n],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[h[n]].title={text:""});for(n=0;n<a.length;n++){var c=a[n];c.showscale=!1,c.marker&&(c.marker.showscale=!1),k.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(n=0;n<s.annotations.length;n++)l.annotations.push(s.annotations[n]);var y=Object.keys(l).filter(function(m){return m.match(/^scene\d*$/)});if(y.length){var d={};for(s.tileClass==="thumbnail"&&(d={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<y.length;n++){var v=l[y[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),o(v.xaxis,d),o(v.yaxis,d),o(v.zaxis,d),v._scene=null}}var g=document.createElement("div");s.tileClass&&(g.className=s.tileClass);var x={gd:g,td:g,layout:l,data:a,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(x.config.setBackground=s.setBackground||"opaque"),x.gd.defaultLayout=b(s.tileClass),x}},39792:function(U,C,e){var k=e(3400),A=e(67024),o=e(48616),w=e(81792);U.exports=function(b,f){var s;return k.isPlainObject(b)||(s=k.getGraphDiv(b)),(f=f||{}).format=f.format||"png",f.width=f.width||null,f.height=f.height||null,f.imageDataOnly=!0,new Promise(function(n,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),k.isIE()&&f.format!=="svg"&&i(new Error(w.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var r=A(b,f),t=f.filename||b.fn||"newplot";t+="."+f.format.replace("-","."),r.then(function(a){return s&&(s._snapshotInProgress=!1),o(a,t,f.format)}).then(function(a){n(a)}).catch(function(a){s&&(s._snapshotInProgress=!1),i(a)})})}},48616:function(U,C,e){var k=e(3400),A=e(81792);U.exports=function(o,w,b){var f=document.createElement("a"),s="download"in f;return new Promise(function(n,i){var r,t;if(k.isIE())return r=A.createBlob(o,"svg"),window.navigator.msSaveBlob(r,w),r=null,n(w);if(s)return r=A.createBlob(o,b),t=A.createObjectURL(r),f.href=t,f.download=w,document.body.appendChild(f),f.click(),document.body.removeChild(f),A.revokeObjectURL(t),r=null,n(w);if(k.isSafari()){var a=b==="svg"?",":";base64,";return A.octetStream(a+encodeURIComponent(o)),n(w)}i(new Error("download error"))})}},81792:function(U,C,e){var k=e(24040);C.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},C.getRedrawFunc=function(o){return function(){k.getComponentMethod("colorbar","draw")(o)}},C.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},C.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var A=window.URL||window.webkitURL;C.createObjectURL=function(o){return A.createObjectURL(o)},C.revokeObjectURL=function(o){return A.revokeObjectURL(o)},C.createBlob=function(o,w){if(w==="svg")return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([o],{type:"application/json;charset=utf-8"});var b=function(f){for(var s=f.length,n=new ArrayBuffer(s),i=new Uint8Array(n),r=0;r<s;r++)i[r]=f.charCodeAt(r);return n}(window.atob(o));return new window.Blob([b],{type:"image/"+w})},C.octetStream=function(o){document.location.href="data:application/octet-stream"+o},C.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,C.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(U,C,e){var k=e(81792),A={getDelay:k.getDelay,getRedrawFunc:k.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};U.exports=A},63268:function(U,C,e){var k=e(3400),A=e(61252).EventEmitter,o=e(81792);U.exports=function(w){var b=w.emitter||new A,f=new Promise(function(s,n){var i=window.Image,r=w.svg,t=w.format||"png";if(k.isIE()&&t!=="svg"){var a=new Error(o.MSG_IE_BAD_FORMAT);return n(a),w.promise?f:b.emit("error",a)}var l,u,h=w.canvas,c=w.scale||1,y=w.width||300,d=w.height||150,v=c*y,g=c*d,x=h.getContext("2d",{willReadFrequently:!0}),m=new i;t==="svg"||k.isSafari()?u=o.encodeSVG(r):(l=o.createBlob(r,"svg"),u=o.createObjectURL(l)),h.width=v,h.height=g,m.onload=function(){var _;switch(l=null,o.revokeObjectURL(u),t!=="svg"&&x.drawImage(m,0,0,v,g),t){case"jpeg":_=h.toDataURL("image/jpeg");break;case"png":_=h.toDataURL("image/png");break;case"webp":_=h.toDataURL("image/webp");break;case"svg":_=u;break;default:var p="Image format is not jpeg, png, svg or webp.";if(n(new Error(p)),!w.promise)return b.emit("error",p)}s(_),w.promise||b.emit("success",_)},m.onerror=function(_){if(l=null,o.revokeObjectURL(u),n(_),!w.promise)return b.emit("error",_)},m.src=u});return w.promise?f:b}},61808:function(U,C,e){var k=e(61252).EventEmitter,A=e(24040),o=e(3400),w=e(81792),b=e(91536),f=e(37164),s=e(63268);U.exports=function(n,i){var r=new k,t=b(n,{format:"png"}),a=t.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);var l=w.getRedrawFunc(a);return A.call("_doPlot",a,t.data,t.layout,t.config).then(l).then(function(){var u=w.getDelay(a._fullLayout);setTimeout(function(){var h=f(a),c=document.createElement("canvas");c.id=o.randstr(),(r=s({format:i.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:c,emitter:r,svg:h})).clean=function(){a&&document.body.removeChild(a)}},u)}).catch(function(u){r.emit("error",u)}),r}},37164:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(76308),b=e(9616),f=/"/g,s="TOBESTRIPPED",n=new RegExp('("'+s+")|("+s+'")',"g");U.exports=function(i,r,t){var a,l=i._fullLayout,u=l._paper,h=l._toppaper,c=l.width,y=l.height;u.insert("rect",":first-child").call(o.setRect,0,0,c,y).call(w.fill,l.paper_bgcolor);var d=l._basePlotModules||[];for(a=0;a<d.length;a++){var v=d[a];v.toSVG&&v.toSVG(i)}if(h){var g=h.node().childNodes,x=Array.prototype.slice.call(g);for(a=0;a<x.length;a++){var m=x[a];m.childNodes.length&&u.node().appendChild(m)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var p=k.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){p.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&p.style("font-family",S.replace(f,s));var T=this.style.fontWeight;!T||T!=="normal"&&T!=="400"||p.style("font-weight",void 0);var E=this.style.fontStyle;E&&E==="normal"&&p.style("font-style",void 0);var O=this.style.fontVariant;O&&O==="normal"&&p.style("font-variant",void 0)}else p.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var p=k.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&p.style("fill",S.replace(f,s));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&p.style("stroke",T.replace(f,s))}),r!=="pdf"&&r!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),r==="svg"&&t&&(u.attr("width",t*c),u.attr("height",t*y),u.attr("viewBox","0 0 "+c+" "+y));var _=new window.XMLSerializer().serializeToString(u.node());return _=(_=(_=function(p){var S=k.select("body").append("div").style({display:"none"}).html(""),T=p.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),T}(_)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(n,"'"),A.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},84664:function(U,C,e){var k=e(3400);U.exports=function(A,o){for(var w=0;w<A.length;w++)A[w].i=w;k.mergeArray(o.text,A,"tx"),k.mergeArray(o.hovertext,A,"htx");var b=o.marker;if(b){k.mergeArray(b.opacity,A,"mo",!0),k.mergeArray(b.color,A,"mc");var f=b.line;f&&(k.mergeArray(f.color,A,"mlc"),k.mergeArrayCastPositive(f.width,A,"mlw"))}}},20832:function(U,C,e){var k=e(52904),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(21776).Gw,b=e(49084),f=e(25376),s=e(78048),n=e(98192).c,i=e(92880).extendFlat,r=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),t=i({},k.marker.line.width,{dflt:0}),a=i({width:t,editType:"calc"},b("marker.line")),l=i({line:a,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:n,cornerradius:{valType:"any",editType:"calc"}});U.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),text:k.text,texttemplate:w({editType:"plot"},{keys:s.eventDataKeys}),hovertext:k.hovertext,hovertemplate:o({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},r,{}),insidetextfont:i({},r,{}),outsidetextfont:i({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},k.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:{opacity:k.selected.marker.opacity,color:k.selected.marker.color,editType:"style"},textfont:k.selected.textfont,editType:"style"},unselected:{marker:{opacity:k.unselected.marker.opacity,color:k.unselected.marker.color,editType:"style"},textfont:k.unselected.textfont,editType:"style"},zorder:k.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(U,C,e){var k=e(54460),A=e(1220),o=e(94288).hasColorscale,w=e(47128),b=e(84664),f=e(4500);U.exports=function(s,n){var i,r,t,a,l,u,h=k.getFromId(s,n.xaxis||"x"),c=k.getFromId(s,n.yaxis||"y"),y={msUTC:!(!n.base&&n.base!==0)};n.orientation==="h"?(i=h.makeCalcdata(n,"x",y),t=c.makeCalcdata(n,"y"),a=A(n,c,"y",t),l=!!n.yperiodalignment,u="y"):(i=c.makeCalcdata(n,"y",y),t=h.makeCalcdata(n,"x"),a=A(n,h,"x",t),l=!!n.xperiodalignment,u="x"),r=a.vals;for(var d=Math.min(r.length,i.length),v=new Array(d),g=0;g<d;g++)v[g]={p:r[g],s:i[g]},l&&(v[g].orig_p=t[g],v[g][u+"End"]=a.ends[g],v[g][u+"Start"]=a.starts[g]),n.ids&&(v[g].id=String(n.ids[g]));return o(n,"marker")&&w(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),o(n,"marker.line")&&w(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(v,n),f(v,n),v}},78048:function(U){U.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(U,C,e){var k=e(38248),A=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,w=e(24040),b=e(54460),f=e(71888).getAxisGroup,s=e(72592);function n(d,v,g,x,m){if(x.length){var _,p,S,T;switch(function(E,O){var P,I;for(P=0;P<O.length;P++){var R,H=O[P],z=H[0].trace,j=z.type==="funnel"?z._base:z.base,Z=z.orientation==="h"?z.xcalendar:z.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(A(j)){for(I=0;I<Math.min(j.length,H.length);I++)R=F(j[I],0,Z),k(R)?(H[I].b=+R,H[I].hasB=1):H[I].b=0;for(;I<H.length;I++)H[I].b=0}else{R=F(j,0,Z);var V=k(R);for(R=V?R:0,I=0;I<H.length;I++)H[I].b=R,V&&(H[I].hasB=1)}}}(g,x),m.mode){case"overlay":i(v,g,x,m);break;case"group":for(_=[],p=[],S=0;S<x.length;S++)(T=x[S])[0].trace.offset===void 0?p.push(T):_.push(T);p.length&&function(E,O,P,I,R){var H=new s(I,{posAxis:O,sepNegVal:!1,overlapNoMerge:!R.norm});(function(z,j,Z,F){for(var V=z._fullLayout,W=Z.positions,re=Z.distinctPositions,ne=Z.minDiff,te=Z.traces,Q=te.length,$=W.length!==re.length,K=ne*(1-F.gap),ae=f(V,j._id)+te[0][0].trace.orientation,ue=V._alignmentOpts[ae]||{},se=0;se<Q;se++){var he,pe,de=te[se],xe=de[0].trace,_e=ue[xe.alignmentgroup]||{},be=Object.keys(_e.offsetGroups||{}).length,Le=(he=be?K/be:$?K/Q:K)*(1-(F.groupgap||0));pe=be?((2*xe._offsetIndex+1-be)*he-Le)/2:$?((2*se+1-Q)*he-Le)/2:-Le/2;var De=de[0].t;De.barwidth=Le,De.poffset=pe,De.bargroupwidth=K,De.bardelta=ne}Z.binWidth=te[0][0].t.barwidth/100,t(Z),a(j,Z),l(j,Z,$)})(E,O,H,R),function(z,j){for(var Z=z.traces,F=0;F<Z.length;F++){var V=Z[F];if(V[0].trace.base===void 0)for(var W=new s([V],{posAxis:j,sepNegVal:!0,overlapNoMerge:!0}),re=0;re<V.length;re++){var ne=V[re];if(ne.p!==o){var te=W.put(ne.p,ne.b+ne.s);te&&(ne.b=te)}}}}(H,O),R.norm?(h(H),c(P,H,R)):u(P,H)}(d,v,g,p,m),_.length&&i(v,g,_,m);break;case"stack":case"relative":for(_=[],p=[],S=0;S<x.length;S++)(T=x[S])[0].trace.base===void 0?p.push(T):_.push(T);(function(E){if(!(E.length<2)){var O,P,I,R,H,z;for(O=0;O<E.length&&(R=(P=E[O][0].trace).marker?P.marker.cornerradius:void 0)===void 0;O++);if(R!==void 0)for(H=k(R)?+R:+R.slice(0,-1),z=k(R)?"px":"%",O=0;O<E.length;O++)(I=E[O][0].t).cornerradiusvalue=H,I.cornerradiusform=z}})(p),p.length&&function(E,O,P,I,R){var H=new s(I,{posAxis:O,sepNegVal:R.mode==="relative",overlapNoMerge:!(R.norm||R.mode==="stack"||R.mode==="relative")});r(O,H,R),function(V,W,re){var ne,te,Q,$,K,ae,ue=y(V),se=W.traces;for($=0;$<se.length;$++)if((te=(ne=se[$])[0].trace).type==="funnel")for(K=0;K<ne.length;K++)(ae=ne[K]).s!==o&&W.put(ae.p,-.5*ae.s);for($=0;$<se.length;$++){Q=(te=(ne=se[$])[0].trace).type==="funnel";var he=[];for(K=0;K<ne.length;K++)if((ae=ne[K]).s!==o){var pe;pe=Q?ae.s:ae.s+ae.b;var de=W.put(ae.p,pe),xe=de+pe;ae.b=de,ae[ue]=xe,re.norm||(he.push(xe),ae.hasB&&he.push(de))}re.norm||(te._extremes[V._id]=b.findExtremes(V,he,{tozero:!0,padded:!0}))}}(P,H,R);for(var z=0;z<I.length;z++)for(var j=I[z],Z=0;Z<j.length;Z++){var F=j[Z];F.s!==o&&F.b+F.s===H.get(F.p,F.s)&&(F._outmost=!0)}R.norm&&c(P,H,R)}(0,v,g,p,m),_.length&&i(v,g,_,m)}(function(E){var O,P,I,R,H,z,j;for(O=0;O<E.length;O++)I=(P=E[O])[0].trace,(R=P[0].t).cornerradiusvalue===void 0&&(H=I.marker?I.marker.cornerradius:void 0)!==void 0&&(z=k(H)?+H:+H.slice(0,-1),j=k(H)?"px":"%",R.cornerradiusvalue=z,R.cornerradiusform=j)})(x),function(E,O){var P,I,R,H=y(O),z={},j=1/0,Z=-1/0;for(P=0;P<E.length;P++)for(R=E[P],I=0;I<R.length;I++){var F=R[I].p;k(F)&&(j=Math.min(j,F),Z=Math.max(Z,F))}var V=1e4/(Z-j),W=z.round=function(xe){return String(Math.round(V*(xe-j)))},re={},ne={},te=E.some(function(xe){var _e=xe[0].trace;return"marker"in _e&&_e.marker.cornerradius});for(P=0;P<E.length;P++){(R=E[P])[0].t.extents=z;var Q=R[0].t.poffset,$=A(Q);for(I=0;I<R.length;I++){var K=R[I],ae=K[H]-K.w/2;if(k(ae)){var ue=K[H]+K.w/2,se=W(K.p);z[se]?z[se]=[Math.min(ae,z[se][0]),Math.max(ue,z[se][1])]:z[se]=[ae,ue]}if(K.p0=K.p+($?Q[I]:Q),K.p1=K.p0+K.w,K.s0=K.b,K.s1=K.s0+K.s,te){var he=Math.min(K.s0,K.s1)||0,pe=Math.max(K.s0,K.s1)||0,de=K[H];re[de]=de in re?Math.min(re[de],he):he,ne[de]=de in ne?Math.max(ne[de],pe):pe}}}te&&function(xe,_e,be,Le){for(var De=y(Le),ye=0;ye<xe.length;ye++)for(var le=xe[ye],oe=0;oe<le.length;oe++){var ve=le[oe],Ce=ve[De];ve._sMin=_e[Ce],ve._sMax=be[Ce]}}(E,re,ne,O)}(x,v)}}function i(d,v,g,x){for(var m=0;m<g.length;m++){var _=g[m],p=new s([_],{posAxis:d,sepNegVal:!1,overlapNoMerge:!x.norm});r(d,p,x),x.norm?(h(p),c(v,p,x)):u(v,p)}}function r(d,v,g){for(var x=v.minDiff,m=v.traces,_=x*(1-g.gap),p=_*(1-(g.groupgap||0)),S=-p/2,T=0;T<m.length;T++){var E=m[T][0].t;E.barwidth=p,E.poffset=S,E.bargroupwidth=_,E.bardelta=x}v.binWidth=m[0][0].t.barwidth/100,t(v),a(d,v),l(d,v)}function t(d){var v,g,x=d.traces;for(v=0;v<x.length;v++){var m,_=x[v],p=_[0],S=p.trace,T=p.t,E=S._offset||S.offset,O=T.poffset;if(A(E)){for(m=Array.prototype.slice.call(E,0,_.length),g=0;g<m.length;g++)k(m[g])||(m[g]=O);for(g=m.length;g<_.length;g++)m.push(O);T.poffset=m}else E!==void 0&&(T.poffset=E);var P=S._width||S.width,I=T.barwidth;if(A(P)){var R=Array.prototype.slice.call(P,0,_.length);for(g=0;g<R.length;g++)k(R[g])||(R[g]=I);for(g=R.length;g<_.length;g++)R.push(I);if(T.barwidth=R,E===void 0){for(m=[],g=0;g<_.length;g++)m.push(O+(I-R[g])/2);T.poffset=m}}else P!==void 0&&(T.barwidth=P,E===void 0&&(T.poffset=O+(I-P)/2))}}function a(d,v){for(var g=v.traces,x=y(d),m=0;m<g.length;m++)for(var _=g[m],p=_[0].t,S=p.poffset,T=A(S),E=p.barwidth,O=A(E),P=0;P<_.length;P++){var I=_[P],R=I.w=O?E[P]:E;I.p===void 0&&(I.p=I[x],I["orig_"+x]=I[x]);var H=(T?S[P]:S)+R/2;I[x]=I.p+H}}function l(d,v,g){var x=v.traces,m=v.minDiff/2;b.minDtick(d,v.minDiff,v.distinctPositions[0],g);for(var _=0;_<x.length;_++){var p,S,T,E,O=x[_],P=O[0],I=P.trace,R=[];for(E=0;E<O.length;E++)S=(p=O[E]).p-m,T=p.p+m,R.push(S,T);if(I.width||I.offset){var H=P.t,z=H.poffset,j=H.barwidth,Z=A(z),F=A(j);for(E=0;E<O.length;E++){p=O[E];var V=Z?z[E]:z,W=F?j[E]:j;T=(S=p.p+V)+W,R.push(S,T)}}I._extremes[d._id]=b.findExtremes(d,R,{padded:!1})}}function u(d,v){for(var g=v.traces,x=y(d),m=0;m<g.length;m++){for(var _=g[m],p=_[0].trace,S=p.type==="scatter",T=p.orientation==="v",E=[],O=!1,P=0;P<_.length;P++){var I=_[P],R=S?0:I.b,H=S?T?I.y:I.x:R+I.s;I[x]=H,E.push(H),I.hasB&&E.push(R),I.hasB&&I.b||(O=!0)}p._extremes[d._id]=b.findExtremes(d,E,{tozero:O,padded:!0})}}function h(d){for(var v=d.traces,g=0;g<v.length;g++)for(var x=v[g],m=0;m<x.length;m++){var _=x[m];_.s!==o&&d.put(_.p,_.b+_.s)}}function c(d,v,g){var x=v.traces,m=y(d),_=g.norm==="fraction"?1:100,p=_/1e9,S=d.l2c(d.c2l(0)),T=g.mode==="stack"?_:S;function E(re){return k(d.c2l(re))&&(re<S-p||re>T+p||!k(S))}for(var O=0;O<x.length;O++){for(var P=x[O],I=P[0].trace,R=[],H=!1,z=!1,j=0;j<P.length;j++){var Z=P[j];if(Z.s!==o){var F=Math.abs(_/v.get(Z.p,Z.s));Z.b*=F,Z.s*=F;var V=Z.b,W=V+Z.s;Z[m]=W,R.push(W),z=z||E(W),Z.hasB&&(R.push(V),z=z||E(V)),Z.hasB&&Z.b||(H=!0)}}I._extremes[d._id]=b.findExtremes(d,R,{tozero:H,padded:z})}}function y(d){return d._id.charAt(0)}U.exports={crossTraceCalc:function(d,v){for(var g=v.xaxis,x=v.yaxis,m=d._fullLayout,_=d._fullData,p=d.calcdata,S=[],T=[],E=0;E<_.length;E++){var O=_[E];if(O.visible===!0&&w.traceIs(O,"bar")&&O.xaxis===g._id&&O.yaxis===x._id&&(O.orientation==="h"?S.push(p[E]):T.push(p[E]),O._computePh))for(var P=d.calcdata[E],I=0;I<P.length;I++)typeof P[I].ph0=="function"&&(P[I].ph0=P[I].ph0()),typeof P[I].ph1=="function"&&(P[I].ph1=P[I].ph1())}var R={xCat:g.type==="category"||g.type==="multicategory",yCat:x.type==="category"||x.type==="multicategory",mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};n(d,g,x,T,R),n(d,x,g,S,R)},setGroupPositions:n}},31508:function(U,C,e){var k=e(38248),A=e(3400),o=e(76308),w=e(24040),b=e(43980),f=e(31147),s=e(55592),n=e(20011),i=e(20832),r=A.coerceFont;function t(l){if(k(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&k(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function a(l,u,h,c,y,d){var v=(d=d||{}).moduleHasSelected!==!1,g=d.moduleHasUnselected!==!1,x=d.moduleHasConstrain!==!1,m=d.moduleHasCliponaxis!==!1,_=d.moduleHasTextangle!==!1,p=d.moduleHasInsideanchor!==!1,S=!!d.hasPathbar,T=Array.isArray(y)||y==="auto",E=T||y==="inside",O=T||y==="outside";if(E||O){var P=r(c,"textfont",h.font),I=A.extendFlat({},P),R=!(l.textfont&&l.textfont.color);if(R&&delete I.color,r(c,"insidetextfont",I),S){var H=A.extendFlat({},P);R&&delete H.color,r(c,"pathbar.textfont",H)}O&&r(c,"outsidetextfont",P),v&&c("selected.textfont.color"),g&&c("unselected.textfont.color"),x&&c("constraintext"),m&&c("cliponaxis"),_&&c("textangle"),c("texttemplate")}E&&p&&c("insidetextanchor")}U.exports={supplyDefaults:function(l,u,h,c){function y(x,m){return A.coerce(l,u,i,x,m)}if(b(l,u,c,y)){f(l,u,c,y),y("xhoverformat"),y("yhoverformat"),y("zorder"),y("orientation",u.x&&!u.y?"h":"v"),y("base"),y("offset"),y("width"),y("text"),y("hovertext"),y("hovertemplate");var d=y("textposition");a(l,0,c,y,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(l,u,y,h,c);var v=(u.marker.line||{}).color,g=w.getComponentMethod("errorbars","supplyDefaults");g(l,u,v||o.defaultLine,{axis:"y"}),g(l,u,v||o.defaultLine,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(u,y)}else u.visible=!1},crossTraceDefaults:function(l,u){var h,c;function y(g,x){return A.coerce(c._input,c,i,g,x)}for(var d=0;d<l.length;d++)if((c=l[d]).type==="bar"){h=c._input;var v=y("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=t(v)),u.barmode==="group"&&n(h,c,u,y)}},handleText:a,validateCornerradius:t}},52160:function(U){U.exports=function(C,e,k){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),k.orientation==="h"?(C.label=C.y,C.value=C.x):(C.label=C.x,C.value=C.y),C}},60444:function(U,C,e){var k=e(38248),A=e(49760),o=e(3400).isArrayOrTypedArray;C.coerceString=function(w,b,f){if(typeof b=="string"){if(b||!w.noBlank)return b}else if((typeof b=="number"||b===!0)&&!w.strict)return String(b);return f!==void 0?f:w.dflt},C.coerceNumber=function(w,b,f){if(k(b)){b=+b;var s=w.min,n=w.max;if(!(s!==void 0&&b<s||n!==void 0&&b>n))return b}return f!==void 0?f:w.dflt},C.coerceColor=function(w,b,f){return A(b).isValid()?b:f!==void 0?f:w.dflt},C.coerceEnumerated=function(w,b,f){return w.coerceNumber&&(b=+b),w.values.indexOf(b)!==-1?b:f!==void 0?f:w.dflt},C.getValue=function(w,b){var f;return o(w)?b<w.length&&(f=w[b]):f=w,f},C.getLineWidth=function(w,b){return 0<b.mlw?b.mlw:o(w.marker.line.width)?0:w.marker.line.width}},63400:function(U,C,e){var k=e(93024),A=e(24040),o=e(76308),w=e(3400).fillText,b=e(60444).getLineWidth,f=e(54460).hoverLabelText,s=e(39032).BADNUM;function n(r,t,a,l,u){var h,c,y,d,v,g,x,m=r.cd,_=m[0].trace,p=m[0].t,S=l==="closest",T=_.type==="waterfall",E=r.maxHoverDistance,O=r.maxSpikeDistance;_.orientation==="h"?(h=a,c=t,y="y",d="x",v=ne,g=W):(h=t,c=a,y="x",d="y",g=ne,v=W);var P=_[y+"period"],I=S||P;function R(he){return z(he,-1)}function H(he){return z(he,1)}function z(he,pe){var de=he.w;return he[y]+pe*de/2}function j(he){return he[y+"End"]-he[y+"Start"]}var Z=S?R:P?function(he){return he.p-j(he)/2}:function(he){return Math.min(R(he),he.p-p.bardelta/2)},F=S?H:P?function(he){return he.p+j(he)/2}:function(he){return Math.max(H(he),he.p+p.bardelta/2)};function V(he,pe,de){return u.finiteRange&&(de=0),k.inbox(he-h,pe-h,de+Math.min(1,Math.abs(pe-he)/x)-1)}function W(he){return V(Z(he),F(he),E)}function re(he){var pe=he[d];if(T){var de=Math.abs(he.rawS)||0;c>0?pe+=de:c<0&&(pe-=de)}return pe}function ne(he){var pe=c,de=he.b,xe=re(he);return k.inbox(de-pe,xe-pe,E+(xe-pe)/(xe-de)-1)}var te=r[y+"a"],Q=r[d+"a"];x=Math.abs(te.r2c(te.range[1])-te.r2c(te.range[0]));var $=k.getDistanceFunction(l,v,g,function(he){return(v(he)+g(he))/2});if(k.getClosest(m,$,r),r.index!==!1&&m[r.index].p!==s){I||(Z=function(he){return Math.min(R(he),he.p-p.bargroupwidth/2)},F=function(he){return Math.max(H(he),he.p+p.bargroupwidth/2)});var K=m[r.index],ae=_.base?K.b+K.s:K.s;r[d+"0"]=r[d+"1"]=Q.c2p(K[d],!0),r[d+"LabelVal"]=ae;var ue=p.extents[p.extents.round(K.p)];r[y+"0"]=te.c2p(S?Z(K):ue[0],!0),r[y+"1"]=te.c2p(S?F(K):ue[1],!0);var se=K.orig_p!==void 0;return r[y+"LabelVal"]=se?K.orig_p:K.p,r.labelLabel=f(te,r[y+"LabelVal"],_[y+"hoverformat"]),r.valueLabel=f(Q,r[d+"LabelVal"],_[d+"hoverformat"]),r.baseLabel=f(Q,K.b,_[d+"hoverformat"]),r.spikeDistance=(function(he){var pe=c,de=he.b,xe=re(he);return k.inbox(de-pe,xe-pe,O+(xe-pe)/(xe-de)-1)}(K)+function(he){return V(R(he),H(he),O)}(K))/2,r[y+"Spike"]=te.c2p(K.p,!0),w(K,_,r),r.hovertemplate=_.hovertemplate,r}}function i(r,t){var a=t.mcc||r.marker.color,l=t.mlcc||r.marker.line.color,u=b(r,t);return o.opacity(a)?a:o.opacity(l)&&u?l:void 0}U.exports={hoverPoints:function(r,t,a,l,u){var h=n(r,t,a,l,u);if(h){var c=h.cd,y=c[0].trace,d=c[h.index];return h.color=i(y,d),A.getComponentMethod("errorbars","hoverInfo")(d,y,h),[h]}},hoverOnBars:n,getTraceColor:i}},51132:function(U,C,e){U.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(U,C,e){var k=e(24040),A=e(54460),o=e(3400),w=e(39324),b=e(31508).validateCornerradius;U.exports=function(f,s,n){function i(v,g){return o.coerce(f,s,w,v,g)}for(var r=!1,t=!1,a=!1,l={},u=i("barmode"),h=0;h<n.length;h++){var c=n[h];if(k.traceIs(c,"bar")&&c.visible){if(r=!0,u==="group"){var y=c.xaxis+c.yaxis;l[y]&&(a=!0),l[y]=!0}c.visible&&c.type==="histogram"&&A.getFromId({_fullLayout:s},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(t=!0)}}if(r){u!=="overlay"&&i("barnorm"),i("bargap",t&&!a?0:.2),i("bargroupgap");var d=i("barcornerradius");s.barcornerradius=b(d)}else delete s.barmode}},98184:function(U,C,e){var k=e(33428),A=e(38248),o=e(3400),w=e(72736),b=e(76308),f=e(43616),s=e(24040),n=e(54460).tickText,i=e(82744),r=i.recordMinTextSize,t=i.clearMinTextSize,a=e(60100),l=e(60444),u=e(78048),h=e(20832),c=h.text,y=h.textposition,d=e(10624).appendArrayPointValue,v=u.TEXTPAD;function g(I){return I.id}function x(I){if(I.ids)return g}function m(I){return(I>0)-(I<0)}function _(I,R){return I<R?1:-1}function p(I,R,H,z){var j;return!R.uniformtext.mode&&S(H)?(z&&(j=z()),I.transition().duration(H.duration).ease(H.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})):I}function S(I){return I&&I.duration>0}function T(I,R,H,z,j){return!(I<0||R<0)&&(H<=I&&z<=R||H<=R&&z<=I||(j?I>=H*(R/z):R>=z*(I/H)))}function E(I){return I==="auto"?0:I}function O(I,R){var H=Math.PI/180*R,z=Math.abs(Math.sin(H)),j=Math.abs(Math.cos(H));return{x:I.width*j+I.height*z,y:I.width*z+I.height*j}}function P(I,R,H,z,j,Z){var F=!!Z.isHorizontal,V=!!Z.constrained,W=Z.angle||0,re=Z.anchor,ne=re==="end",te=re==="start",Q=((Z.leftToRight||0)+1)/2,$=1-Q,K=Z.hasB,ae=Z.r,ue=Z.overhead,se=j.width,he=j.height,pe=Math.abs(R-I),de=Math.abs(z-H),xe=pe>2*v&&de>2*v?v:0;pe-=2*xe,de-=2*xe;var _e=E(W);W!=="auto"||se<=pe&&he<=de||!(se>pe||he>de)||(se>de||he>pe)&&se<he==pe<de||(_e+=90);var be,Le,De=O(j,_e);if(ae&&ae-ue>v){var ye=function(Fe,ge,Te,Se,Re,Pe,Ve,We,Qe){var lt,ut,xt,_t,mt=Math.max(0,Math.abs(ge-Fe)-2*v),it=Math.max(0,Math.abs(Se-Te)-2*v),nt=Pe-v,Et=Ve?nt-Math.sqrt(nt*nt-(nt-Ve)*(nt-Ve)):nt,Rt=Qe?2*nt:We?nt-Ve:2*Et,Ft=Qe?2*nt:We?2*Et:nt-Ve;return Re.y/Re.x>=it/(mt-Rt)?_t=it/Re.y:Re.y/Re.x<=(it-Ft)/mt?_t=mt/Re.x:!Qe&&We?(lt=Re.x*Re.x+Re.y*Re.y/4,xt=(mt-nt)*(mt-nt)+(it/2-nt)*(it/2-nt)-nt*nt,_t=(-(ut=-2*Re.x*(mt-nt)-Re.y*(it/2-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)):Qe?(lt=(Re.x*Re.x+Re.y*Re.y)/4,xt=(mt/2-nt)*(mt/2-nt)+(it/2-nt)*(it/2-nt)-nt*nt,_t=(-(ut=-Re.x*(mt/2-nt)-Re.y*(it/2-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)):(lt=Re.x*Re.x/4+Re.y*Re.y,xt=(mt/2-nt)*(mt/2-nt)+(it-nt)*(it-nt)-nt*nt,_t=(-(ut=-Re.x*(mt/2-nt)-2*Re.y*(it-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)),{scale:_t=Math.min(1,_t),pad:We?Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(it-Re.y*_t)/2)*(nt-(it-Re.y*_t)/2)))-Ve):Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(mt-Re.x*_t)/2)*(nt-(mt-Re.x*_t)/2)))-Ve)}}(I,R,H,z,De,ae,ue,F,K);be=ye.scale,Le=ye.pad}else be=1,V&&(be=Math.min(1,pe/De.x,de/De.y)),Le=0;var le=j.left*$+j.right*Q,oe=(j.top+j.bottom)/2,ve=(I+v)*$+(R-v)*Q,Ce=(H+z)/2,ke=0,Ae=0;if(te||ne){var Ee=(F?De.x:De.y)/2;ae&&(ne||K)&&(xe+=Le);var ze=F?_(I,R):_(H,z);F?te?(ve=I+ze*xe,ke=-ze*Ee):(ve=R-ze*xe,ke=ze*Ee):te?(Ce=H+ze*xe,Ae=-ze*Ee):(Ce=z-ze*xe,Ae=ze*Ee)}return{textX:le,textY:oe,targetX:ve,targetY:Ce,anchorX:ke,anchorY:Ae,scale:be,rotate:_e}}U.exports={plot:function(I,R,H,z,j,Z){var F=R.xaxis,V=R.yaxis,W=I._fullLayout,re=I._context.staticPlot;j||(j={mode:W.barmode,norm:W.barmode,gap:W.bargap,groupgap:W.bargroupgap},t("bar",W));var ne=o.makeTraceGroups(z,H,"trace bars").each(function(te){var Q=k.select(this),$=te[0].trace,K=te[0].t,ae=$.type==="waterfall",ue=$.type==="funnel",se=$.type==="histogram",he=$.type==="bar",pe=he||ue,de=0;ae&&$.connector.visible&&$.connector.mode==="between"&&(de=$.connector.line.width/2);var xe=$.orientation==="h",_e=S(j),be=o.ensureSingle(Q,"g","points"),Le=x($),De=be.selectAll("g.point").data(o.identity,Le);De.enter().append("g").classed("point",!0),De.exit().remove(),De.each(function(le,oe){var ve,Ce,ke=k.select(this),Ae=function(ot,je,Ue,st){var Ke=[],gt=[],yt=st?je:Ue,bt=st?Ue:je;return Ke[0]=yt.c2p(ot.s0,!0),gt[0]=bt.c2p(ot.p0,!0),Ke[1]=yt.c2p(ot.s1,!0),gt[1]=bt.c2p(ot.p1,!0),st?[Ke,gt]:[gt,Ke]}(le,F,V,xe),Ee=Ae[0][0],ze=Ae[0][1],Fe=Ae[1][0],ge=Ae[1][1],Te=(xe?ze-Ee:ge-Fe)==0;if(Te&&pe&&l.getLineWidth($,le)&&(Te=!1),Te||(Te=!(A(Ee)&&A(ze)&&A(Fe)&&A(ge))),le.isBlank=Te,Te&&(xe?ze=Ee:ge=Fe),de&&!Te&&(xe?(Ee-=_(Ee,ze)*de,ze+=_(Ee,ze)*de):(Fe-=_(Fe,ge)*de,ge+=_(Fe,ge)*de)),$.type==="waterfall"){if(!Te){var Se=$[le.dir].marker;ve=Se.line.width,Ce=Se.color}}else ve=l.getLineWidth($,le),Ce=le.mc||$.marker.color;function Re(ot){var je=k.round(ve/2%1,2);return j.gap===0&&j.groupgap===0?k.round(Math.round(ot)-je,2):ot}var Pe=b.opacity(Ce)<1||ve>.01?Re:function(ot,je,Ue){return Ue&&ot===je?ot:Math.abs(ot-je)>=2?Re(ot):ot>je?Math.ceil(ot):Math.floor(ot)};I._context.staticPlot||(Ee=Pe(Ee,ze,xe),ze=Pe(ze,Ee,xe),Fe=Pe(Fe,ge,!xe),ge=Pe(ge,Fe,!xe));var Ve,We=xe?F.c2p:V.c2p;Ve=le.s0>0?le._sMax:le.s0<0?le._sMin:le.s1>0?le._sMax:le._sMin;var Qe,lt,ut=he||se?function(ot,je){if(!ot)return 0;var Ue,st=Math.abs(xe?ge-Fe:ze-Ee),Ke=Math.abs(xe?ze-Ee:ge-Fe),gt=Pe(Math.abs(We(Ve,!0)-We(0,!0))),yt=le.hasB?Math.min(st/2,Ke/2):Math.min(st/2,gt);return Ue=je==="%"?st*(Math.min(50,ot)/100):ot,Pe(Math.max(Math.min(Ue,yt),0))}(K.cornerradiusvalue,K.cornerradiusform):0,xt="M"+Ee+","+Fe+"V"+ge+"H"+ze+"V"+Fe+"Z",_t=0;if(ut&&le.s){var mt=m(le.s0)===0||m(le.s)===m(le.s0)?le.s1:le.s0;if((_t=Pe(le.hasB?0:Math.abs(We(Ve,!0)-We(mt,!0))))<ut){var it=_(Ee,ze),nt=_(Fe,ge),Et=it===-nt?1:0;if(xe)if(le.hasB)Qe="M"+(Ee+ut*it)+","+Fe+"A "+ut+","+ut+" 0 0 "+Et+" "+Ee+","+(Fe+ut*nt)+"V"+(ge-ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Ee+ut*it)+","+ge+"H"+(ze-ut*it)+"A "+ut+","+ut+" 0 0 "+Et+" "+ze+","+(ge-ut*nt)+"V"+(Fe+ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(ze-ut*it)+","+Fe+"Z";else{var Rt=(lt=Math.abs(ze-Ee)+_t)<ut?ut-Math.sqrt(lt*(2*ut-lt)):0,Ft=_t>0?Math.sqrt(_t*(2*ut-_t)):0,Pt=it>0?Math.max:Math.min;Qe="M"+Ee+","+Fe+"V"+(ge-Rt*nt)+"H"+Pt(ze-(ut-_t)*it,Ee)+"A "+ut+","+ut+" 0 0 "+Et+" "+ze+","+(ge-ut*nt-Ft)+"V"+(Fe+ut*nt+Ft)+"A "+ut+","+ut+" 0 0 "+Et+" "+Pt(ze-(ut-_t)*it,Ee)+","+(Fe+Rt*nt)+"Z"}else if(le.hasB)Qe="M"+(Ee+ut*it)+","+Fe+"A "+ut+","+ut+" 0 0 "+Et+" "+Ee+","+(Fe+ut*nt)+"V"+(ge-ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Ee+ut*it)+","+ge+"H"+(ze-ut*it)+"A "+ut+","+ut+" 0 0 "+Et+" "+ze+","+(ge-ut*nt)+"V"+(Fe+ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(ze-ut*it)+","+Fe+"Z";else{var Ze=(lt=Math.abs(ge-Fe)+_t)<ut?ut-Math.sqrt(lt*(2*ut-lt)):0,$e=_t>0?Math.sqrt(_t*(2*ut-_t)):0,He=nt>0?Math.max:Math.min;Qe="M"+(Ee+Ze*it)+","+Fe+"V"+He(ge-(ut-_t)*nt,Fe)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Ee+ut*it-$e)+","+ge+"H"+(ze-ut*it+$e)+"A "+ut+","+ut+" 0 0 "+Et+" "+(ze-Ze*it)+","+He(ge-(ut-_t)*nt,Fe)+"V"+Fe+"Z"}}else Qe=xt}else Qe=xt;var Je=p(o.ensureSingle(ke,"path"),W,j,Z);if(Je.style("vector-effect",re?"none":"non-scaling-stroke").attr("d",isNaN((ze-Ee)*(ge-Fe))||Te&&I._context.staticPlot?"M0,0Z":Qe).call(f.setClipUrl,R.layerClipId,I),!W.uniformtext.mode&&_e){var ft=f.makePointStyleFns($);f.singlePointStyle(le,Je,$,ft,I)}(function(ot,je,Ue,st,Ke,gt,yt,bt,dt,Lt,wt,Ct,zt){var Dt,Nt=je.xaxis,Kt=je.yaxis,un=ot._fullLayout;function qt(mr,Qt,xn){return o.ensureSingle(mr,"text").text(Qt).attr({class:"bartext bartext-"+Dt,"text-anchor":"middle","data-notex":1}).call(f.font,xn).call(w.convertToTspans,ot)}var Jt=st[0].trace,Ut=Jt.orientation==="h",zn=function(mr,Qt,xn,At,Wt){var en,dn=Qt[0].trace;return en=dn.texttemplate?function(gn,_n,on,Yt,Xt){var sn=_n[0].trace,hn=o.castOption(sn,on,"texttemplate");if(!hn)return"";var Sn,Cn,Un,qn,tr=sn.type==="histogram",Yn=sn.type==="waterfall",sr=sn.type==="funnel",ar=sn.orientation==="h";function er(Ur){return n(qn,qn.c2l(Ur),!0).text}ar?(Sn="y",Cn=Xt,Un="x",qn=Yt):(Sn="x",Cn=Yt,Un="y",qn=Xt);var gr,kr=_n[on],yr={};yr.label=kr.p,yr.labelLabel=yr[Sn+"Label"]=(gr=kr.p,n(Cn,Cn.c2l(gr),!0).text);var ur=o.castOption(sn,kr.i,"text");(ur===0||ur)&&(yr.text=ur),yr.value=kr.s,yr.valueLabel=yr[Un+"Label"]=er(kr.s);var _r={};d(_r,sn,kr.i),(tr||_r.x===void 0)&&(_r.x=ar?yr.value:yr.label),(tr||_r.y===void 0)&&(_r.y=ar?yr.label:yr.value),(tr||_r.xLabel===void 0)&&(_r.xLabel=ar?yr.valueLabel:yr.labelLabel),(tr||_r.yLabel===void 0)&&(_r.yLabel=ar?yr.labelLabel:yr.valueLabel),Yn&&(yr.delta=+kr.rawS||kr.s,yr.deltaLabel=er(yr.delta),yr.final=kr.v,yr.finalLabel=er(yr.final),yr.initial=yr.final-yr.delta,yr.initialLabel=er(yr.initial)),sr&&(yr.value=kr.s,yr.valueLabel=er(yr.value),yr.percentInitial=kr.begR,yr.percentInitialLabel=o.formatPercent(kr.begR),yr.percentPrevious=kr.difR,yr.percentPreviousLabel=o.formatPercent(kr.difR),yr.percentTotal=kr.sumR,yr.percenTotalLabel=o.formatPercent(kr.sumR));var Mr=o.castOption(sn,kr.i,"customdata");return Mr&&(yr.customdata=Mr),o.texttemplateString(hn,yr,gn._d3locale,_r,yr,sn._meta||{})}(mr,Qt,xn,At,Wt):dn.textinfo?function(gn,_n,on,Yt){var Xt=gn[0].trace,sn=Xt.orientation==="h",hn=Xt.type==="waterfall",Sn=Xt.type==="funnel";function Cn(Mr){return n(sn?on:Yt,+Mr,!0).text}var Un,qn,tr=Xt.textinfo,Yn=gn[_n],sr=tr.split("+"),ar=[],er=function(Mr){return sr.indexOf(Mr)!==-1};if(er("label")&&ar.push((qn=gn[_n].p,n(sn?Yt:on,qn,!0).text)),er("text")&&((Un=o.castOption(Xt,Yn.i,"text"))===0||Un)&&ar.push(Un),hn){var gr=+Yn.rawS||Yn.s,kr=Yn.v,yr=kr-gr;er("initial")&&ar.push(Cn(yr)),er("delta")&&ar.push(Cn(gr)),er("final")&&ar.push(Cn(kr))}if(Sn){er("value")&&ar.push(Cn(Yn.s));var ur=0;er("percent initial")&&ur++,er("percent previous")&&ur++,er("percent total")&&ur++;var _r=ur>1;er("percent initial")&&(Un=o.formatPercent(Yn.begR),_r&&(Un+=" of initial"),ar.push(Un)),er("percent previous")&&(Un=o.formatPercent(Yn.difR),_r&&(Un+=" of previous"),ar.push(Un)),er("percent total")&&(Un=o.formatPercent(Yn.sumR),_r&&(Un+=" of total"),ar.push(Un))}return ar.join("<br>")}(Qt,xn,At,Wt):l.getValue(dn.text,xn),l.coerceString(c,en)}(un,st,Ke,Nt,Kt);Dt=function(mr,Qt){var xn=l.getValue(mr.textposition,Qt);return l.coerceEnumerated(y,xn)}(Jt,Ke);var An=Ct.mode==="stack"||Ct.mode==="relative",mn=st[Ke],tn=!An||mn._outmost,fn=mn.hasB,rn=Lt&&Lt-wt>v;if(zn&&Dt!=="none"&&(!mn.isBlank&&gt!==yt&&bt!==dt||Dt!=="auto"&&Dt!=="inside")){var pn=un.font,wn=a.getBarColor(st[Ke],Jt),kn=a.getInsideTextFont(Jt,Ke,pn,wn),Pn=a.getOutsideTextFont(Jt,Ke,pn),On=Jt.insidetextanchor||"end",En=Ue.datum();Ut?Nt.type==="log"&&En.s0<=0&&(gt=Nt.range[0]<Nt.range[1]?0:Nt._length):Kt.type==="log"&&En.s0<=0&&(bt=Kt.range[0]<Kt.range[1]?Kt._length:0);var Vn,Fn,Wn,rr,ir,Jn=Math.abs(yt-gt),dr=Math.abs(dt-bt),nn=Jn-2*v,an=dr-2*v;if(Dt==="outside"&&(tn||mn.hasB||(Dt="inside")),Dt==="auto")if(tn){Dt="inside",Vn=qt(Ue,zn,ir=o.ensureUniformFontSize(ot,kn)),Wn=(Fn=f.bBox(Vn.node())).width,rr=Fn.height;var In,yn=Wn>0&&rr>0;In=rn?fn?T(nn-2*Lt,an,Wn,rr,Ut)||T(nn,an-2*Lt,Wn,rr,Ut):Ut?T(nn-(Lt-wt),an,Wn,rr,Ut)||T(nn,an-2*(Lt-wt),Wn,rr,Ut):T(nn,an-(Lt-wt),Wn,rr,Ut)||T(nn-2*(Lt-wt),an,Wn,rr,Ut):T(nn,an,Wn,rr,Ut),yn&&In?Dt="inside":(Dt="outside",Vn.remove(),Vn=null)}else Dt="inside";if(!Vn){var Dn=(Vn=qt(Ue,zn,ir=o.ensureUniformFontSize(ot,Dt==="outside"?Pn:kn))).attr("transform");if(Vn.attr("transform",""),Wn=(Fn=f.bBox(Vn.node())).width,rr=Fn.height,Vn.attr("transform",Dn),Wn<=0||rr<=0)return void Vn.remove()}var Zn,Hn=Jt.textangle;Zn=Dt==="outside"?function(mr,Qt,xn,At,Wt,en){var dn,gn=!!en.isHorizontal,_n=!!en.constrained,on=en.angle||0,Yt=Wt.width,Xt=Wt.height,sn=Math.abs(Qt-mr),hn=Math.abs(At-xn);dn=gn?hn>2*v?v:0:sn>2*v?v:0;var Sn=1;_n&&(Sn=gn?Math.min(1,hn/Xt):Math.min(1,sn/Yt));var Cn=E(on),Un=O(Wt,Cn),qn=(gn?Un.x:Un.y)/2,tr=(Wt.left+Wt.right)/2,Yn=(Wt.top+Wt.bottom)/2,sr=(mr+Qt)/2,ar=(xn+At)/2,er=0,gr=0,kr=gn?_(Qt,mr):_(xn,At);return gn?(sr=Qt-kr*dn,er=kr*qn):(ar=At+kr*dn,gr=-kr*qn),{textX:tr,textY:Yn,targetX:sr,targetY:ar,anchorX:er,anchorY:gr,scale:Sn,rotate:Cn}}(gt,yt,bt,dt,Fn,{isHorizontal:Ut,constrained:Jt.constraintext==="both"||Jt.constraintext==="outside",angle:Hn}):P(gt,yt,bt,dt,Fn,{isHorizontal:Ut,constrained:Jt.constraintext==="both"||Jt.constraintext==="inside",angle:Hn,anchor:On,hasB:fn,r:Lt,overhead:wt}),Zn.fontSize=ir.size,r(Jt.type==="histogram"?"bar":Jt.type,Zn,un),mn.transform=Zn;var Qn=p(Vn,un,Ct,zt);o.setTransormAndDisplay(Qn,Zn)}else Ue.select("text").remove()})(I,R,ke,te,oe,Ee,ze,Fe,ge,ut,_t,j,Z),R.layerClipId&&f.hideOutsideRangePoint(le,ke.select("text"),F,V,$.xcalendar,$.ycalendar)});var ye=$.cliponaxis===!1;f.setClipUrl(Q,ye?null:R.layerClipId,I)});s.getComponentMethod("errorbars","plot")(I,ne,R,j)},toMoveInsideBar:P}},45784:function(U){function C(e,k,A,o,w){var b=k.c2p(o?e.s0:e.p0,!0),f=k.c2p(o?e.s1:e.p1,!0),s=A.c2p(o?e.p0:e.s0,!0),n=A.c2p(o?e.p1:e.s1,!0);return w?[(b+f)/2,(s+n)/2]:o?[f,(s+n)/2]:[(b+f)/2,n]}U.exports=function(e,k){var A,o=e.cd,w=e.xaxis,b=e.yaxis,f=o[0].trace,s=f.type==="funnel",n=f.orientation==="h",i=[];if(k===!1)for(A=0;A<o.length;A++)o[A].selected=0;else for(A=0;A<o.length;A++){var r=o[A],t="ct"in r?r.ct:C(r,w,b,n,s);k.contains(t,!1,A,e)?(i.push({pointNumber:A,x:w.c2d(r.x),y:b.c2d(r.y)}),r.selected=1):r.selected=0}return i}},72592:function(U,C,e){U.exports=A;var k=e(3400).distinctVals;function A(o,w){this.traces=o,this.sepNegVal=w.sepNegVal,this.overlapNoMerge=w.overlapNoMerge;for(var b=1/0,f=w.posAxis._id.charAt(0),s=[],n=0;n<o.length;n++){for(var i=o[n],r=0;r<i.length;r++){var t=i[r],a=t.p;a===void 0&&(a=t[f]),a!==void 0&&s.push(a)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=s;var l=k(s);this.distinctPositions=l.vals,l.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(w.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}A.prototype.put=function(o,w){var b=this.getLabel(o,w),f=this.bins[b]||0;return this.bins[b]=f+w,f},A.prototype.get=function(o,w){var b=this.getLabel(o,w);return this.bins[b]||0},A.prototype.getLabel=function(o,w){return(w<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?o:Math.round(o/this.binWidth))}},60100:function(U,C,e){var k=e(33428),A=e(76308),o=e(43616),w=e(3400),b=e(24040),f=e(82744).resizeText,s=e(20832),n=s.textfont,i=s.insidetextfont,r=s.outsidetextfont,t=e(60444);function a(g,x,m){o.pointStyle(g.selectAll("path"),x,m),l(g,x,m)}function l(g,x,m){g.selectAll("text").each(function(_){var p=k.select(this),S=w.ensureUniformFontSize(m,u(p,_,x,m));o.font(p,S)})}function u(g,x,m,_){var p=_._fullLayout.font,S=m.textfont;if(g.classed("bartext-inside")){var T=v(x,m);S=c(m,x.i,p,T)}else g.classed("bartext-outside")&&(S=y(m,x.i,p));return S}function h(g,x,m){return d(n,g.textfont,x,m)}function c(g,x,m,_){var p=h(g,x,m);return(g._input.textfont===void 0||g._input.textfont.color===void 0||Array.isArray(g.textfont.color)&&g.textfont.color[x]===void 0)&&(p={color:A.contrast(_),family:p.family,size:p.size,weight:p.weight,style:p.style,variant:p.variant,textcase:p.textcase,lineposition:p.lineposition,shadow:p.shadow}),d(i,g.insidetextfont,x,p)}function y(g,x,m){var _=h(g,x,m);return d(r,g.outsidetextfont,x,_)}function d(g,x,m,_){x=x||{};var p=t.getValue(x.family,m),S=t.getValue(x.size,m),T=t.getValue(x.color,m),E=t.getValue(x.weight,m),O=t.getValue(x.style,m),P=t.getValue(x.variant,m),I=t.getValue(x.textcase,m),R=t.getValue(x.lineposition,m),H=t.getValue(x.shadow,m);return{family:t.coerceString(g.family,p,_.family),size:t.coerceNumber(g.size,S,_.size),color:t.coerceColor(g.color,T,_.color),weight:t.coerceString(g.weight,E,_.weight),style:t.coerceString(g.style,O,_.style),variant:t.coerceString(g.variant,P,_.variant),textcase:t.coerceString(g.variant,I,_.textcase),lineposition:t.coerceString(g.variant,R,_.lineposition),shadow:t.coerceString(g.variant,H,_.shadow)}}function v(g,x){return x.type==="waterfall"?x[g.dir].marker.color:g.mcc||g.mc||x.marker.color}U.exports={style:function(g){var x=k.select(g).selectAll('g[class^="barlayer"]').selectAll("g.trace");f(g,x,"bar");var m=x.size(),_=g._fullLayout;x.style("opacity",function(p){return p[0].trace.opacity}).each(function(p){(_.barmode==="stack"&&m>1||_.bargap===0&&_.bargroupgap===0&&!p[0].trace.marker.line.width)&&k.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(p){a(k.select(this),p[0].trace,g)}),b.getComponentMethod("errorbars","style")(x)},styleTextPoints:l,styleOnSelect:function(g,x,m){var _=x[0].trace;_.selectedpoints?function(p,S,T){o.selectedPointStyle(p.selectAll("path"),S),function(E,O,P){E.each(function(I){var R,H=k.select(this);if(I.selected){R=w.ensureUniformFontSize(P,u(H,I,O,P));var z=O.selected.textfont&&O.selected.textfont.color;z&&(R.color=z),o.font(H,R)}else o.selectedTextStyle(H,O)})}(p.selectAll("text"),S,T)}(m,_,g):(a(m,_,g),b.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:y,getBarColor:v,resizeText:f}},55592:function(U,C,e){var k=e(76308),A=e(94288).hasColorscale,o=e(27260),w=e(3400).coercePattern;U.exports=function(b,f,s,n,i){var r=s("marker.color",n),t=A(b,"marker");t&&o(b,f,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",k.defaultLine),A(b,"marker.line")&&o(b,f,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),w(s,"marker.pattern",r,t),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(U,C,e){var k=e(33428),A=e(3400);function o(w){return"_"+w+"Text_minsize"}U.exports={recordMinTextSize:function(w,b,f){if(f.uniformtext.mode){var s=o(w),n=f.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<n,f[s]=f[s]||1/0,b.hide||(f[s]=Math.min(f[s],Math.max(i,n)))}},clearMinTextSize:function(w,b){b[o(w)]=void 0},resizeText:function(w,b,f){var s=w._fullLayout,n=s["_"+f+"Text_minsize"];if(n){var i,r=s.uniformtext.mode==="hide";switch(f){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(t){var a=t.transform;if(a){a.scale=r&&a.hide?0:n/a.fontSize;var l=k.select(this).select("text");A.setTransormAndDisplay(l,a)}})}}}},78100:function(U,C,e){var k,A=e(21776).Ks,o=e(92880).extendFlat,w=e(8319),b=e(20832);U.exports={r:w.r,theta:w.theta,r0:w.r0,dr:w.dr,theta0:w.theta0,dtheta:w.dtheta,thetaunit:w.thetaunit,base:o({},b.base,{}),offset:o({},b.offset,{}),width:o({},b.width,{}),text:o({},b.text,{}),hovertext:o({},b.hovertext,{}),marker:(k=o({},b.marker),delete k.cornerradius,k),hoverinfo:w.hoverinfo,hovertemplate:A(),selected:b.selected,unselected:b.unselected}},47056:function(U,C,e){var k=e(94288).hasColorscale,A=e(47128),o=e(3400).isArrayOrTypedArray,w=e(84664),b=e(96376).setGroupPositions,f=e(4500),s=e(24040).traceIs,n=e(3400).extendFlat;U.exports={calc:function(i,r){for(var t=i._fullLayout,a=r.subplot,l=t[a].radialaxis,u=t[a].angularaxis,h=l.makeCalcdata(r,"r"),c=u.makeCalcdata(r,"theta"),y=r._length,d=new Array(y),v=h,g=c,x=0;x<y;x++)d[x]={p:g[x],s:v[x]};function m(_){var p=r[_];p!==void 0&&(r["_"+_]=o(p)?u.makeCalcdata(r,_):u.d2c(p,r.thetaunit))}return u.type==="linear"&&(m("width"),m("offset")),k(r,"marker")&&A(i,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),k(r,"marker.line")&&A(i,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(d,r),f(d,r),d},crossTraceCalc:function(i,r,t){for(var a=i.calcdata,l=[],u=0;u<a.length;u++){var h=a[u],c=h[0].trace;c.visible===!0&&s(c,"bar")&&c.subplot===t&&l.push(h)}var y=n({},r.radialaxis,{_id:"x"}),d=r.angularaxis;b(i,d,y,l,{mode:r.barmode,norm:r.barnorm,gap:r.bargap,groupgap:r.bargroupgap})}}},70384:function(U,C,e){var k=e(3400),A=e(85968).handleRThetaDefaults,o=e(55592),w=e(78100);U.exports=function(b,f,s,n){function i(r,t){return k.coerce(b,f,w,r,t)}A(b,f,n,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),o(b,f,i,s,n),k.coerceSelectionMarkerOpacity(f,i)):f.visible=!1}},68896:function(U,C,e){var k=e(93024),A=e(3400),o=e(63400).getTraceColor,w=A.fillText,b=e(8504).makeHoverPointText,f=e(57384).isPtInsidePolygon;U.exports=function(s,n,i){var r=s.cd,t=r[0].trace,a=s.subplot,l=a.radialAxis,u=a.angularAxis,h=a.vangles,c=h?f:A.isPtInsideSector,y=s.maxHoverDistance,d=u._period||2*Math.PI,v=Math.abs(l.g2p(Math.sqrt(n*n+i*i))),g=Math.atan2(i,n);if(l.range[0]>l.range[1]&&(g+=Math.PI),k.getClosest(r,function(_){return c(v,g,[_.rp0,_.rp1],[_.thetag0,_.thetag1],h)?y+Math.min(1,Math.abs(_.thetag1-_.thetag0)/d)-1+(_.rp1-v)/(_.rp1-_.rp0)-1:1/0},s),s.index!==!1){var x=r[s.index];s.x0=s.x1=x.ct[0],s.y0=s.y1=x.ct[1];var m=A.extendFlat({},x,{r:x.s,theta:x.p});return w(x,t,s),b(m,t,a,s),s.hovertemplate=t.hovertemplate,s.color=o(t,x),s.xLabelVal=s.yLabelVal=void 0,x.s<0&&(s.idealAlign="left"),[s]}}},94456:function(U,C,e){U.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(U,C,e){var k=e(3400),A=e(9320);U.exports=function(o,w,b){var f,s={};function n(t,a){return k.coerce(o[f]||{},w[f],A,t,a)}for(var i=0;i<b.length;i++){var r=b[i];r.type==="barpolar"&&r.visible===!0&&(s[f=r.subplot]||(n("barmode"),n("bargap"),s[f]=1))}}},42040:function(U,C,e){var k=e(33428),A=e(38248),o=e(3400),w=e(43616),b=e(57384);U.exports=function(f,s,n){var i=f._context.staticPlot,r=s.xaxis,t=s.yaxis,a=s.radialAxis,l=s.angularAxis,u=function(c){var y=c.cxx,d=c.cyy;return c.vangles?function(v,g,x,m){var _,p;o.angleDelta(x,m)>0?(_=x,p=m):(_=m,p=x);var S=[b.findEnclosingVertexAngles(_,c.vangles)[0],(_+p)/2,b.findEnclosingVertexAngles(p,c.vangles)[1]];return b.pathPolygonAnnulus(v,g,_,p,S,y,d)}:function(v,g,x,m){return o.pathAnnulus(v,g,x,m,y,d)}}(s),h=s.layers.frontplot.select("g.barlayer");o.makeTraceGroups(h,n,"trace bars").each(function(){var c=k.select(this),y=o.ensureSingle(c,"g","points").selectAll("g.point").data(o.identity);y.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),y.exit().remove(),y.each(function(d){var v,g=k.select(this),x=d.rp0=a.c2p(d.s0),m=d.rp1=a.c2p(d.s1),_=d.thetag0=l.c2g(d.p0),p=d.thetag1=l.c2g(d.p1);if(A(x)&&A(m)&&A(_)&&A(p)&&x!==m&&_!==p){var S=a.c2g(d.s1),T=(_+p)/2;d.ct=[r.c2p(S*Math.cos(T)),t.c2p(S*Math.sin(T))],v=u(x,m,_,p)}else v="M0,0Z";o.ensureSingle(g,"path").attr("d",v)}),w.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,f)})}},63188:function(U,C,e){var k=e(98304),A=e(52904),o=e(20832),w=e(22548),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(92880).extendFlat,n=A.marker,i=n.line;U.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},n.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},n.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},n.angle,{arrayOk:!1,editType:"calc"}),size:s({},n.size,{arrayOk:!1,editType:"calc"}),color:s({},n.color,{arrayOk:!1,editType:"style"}),line:{color:s({},i.color,{arrayOk:!1,dflt:w.defaultLine,editType:"style"}),width:s({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:k(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:s({},A.text,{}),hovertext:s({},A.hovertext,{}),hovertemplate:f({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:A.zorder}},62555:function(U,C,e){var k=e(38248),A=e(54460),o=e(1220),w=e(3400),b=e(39032).BADNUM,f=w._;U.exports=function(c,y){var d,v,g,x,m,_,p,S=c._fullLayout,T=A.getFromId(c,y.xaxis||"x"),E=A.getFromId(c,y.yaxis||"y"),O=[],P=y.type==="violin"?"_numViolins":"_numBoxes";y.orientation==="h"?(g=T,x="x",m=E,_="y",p=!!y.yperiodalignment):(g=E,x="y",m=T,_="x",p=!!y.xperiodalignment);var I,R,H,z,j,Z,F=function(Re,Pe,Ve,We){var Qe,lt=Pe+"0"in Re;if(Pe in Re||lt&&"d"+Pe in Re){var ut=Ve.makeCalcdata(Re,Pe);return[o(Re,Ve,Pe,ut).vals,ut]}Qe=lt?Re[Pe+"0"]:"name"in Re&&(Ve.type==="category"||k(Re.name)&&["linear","log"].indexOf(Ve.type)!==-1||w.isDateTime(Re.name)&&Ve.type==="date")?Re.name:We;for(var xt=Ve.type==="multicategory"?Ve.r2c_just_indices(Qe):Ve.d2c(Qe,0,Re[Pe+"calendar"]),_t=Re._length,mt=new Array(_t),it=0;it<_t;it++)mt[it]=xt;return[mt]}(y,_,m,S[P]),V=F[0],W=F[1],re=w.distinctVals(V,m),ne=re.vals,te=re.minDiff/2,Q=(y.boxpoints||y.points)==="all"?w.identity:function(Re){return Re.v<I.lf||Re.v>I.uf};if(y._hasPreCompStats){var $=y[x],K=function(Re){return g.d2c((y[Re]||[])[d])},ae=1/0,ue=-1/0;for(d=0;d<y._length;d++){var se=V[d];if(k(se)){if((I={}).pos=I[_]=se,p&&W&&(I.orig_p=W[d]),I.q1=K("q1"),I.med=K("median"),I.q3=K("q3"),R=[],$&&w.isArrayOrTypedArray($[d]))for(v=0;v<$[d].length;v++)(Z=g.d2c($[d][v]))!==b&&(n(j={v:Z,i:[d,v]},y,[d,v]),R.push(j));if(I.pts=R.sort(i),z=(H=I[x]=R.map(r)).length,I.med!==b&&I.q1!==b&&I.q3!==b&&I.med>=I.q1&&I.q3>=I.med){var he=K("lowerfence");I.lf=he!==b&&he<=I.q1?he:t(I,H,z);var pe=K("upperfence");I.uf=pe!==b&&pe>=I.q3?pe:a(I,H,z);var de=K("mean");I.mean=de!==b?de:z?w.mean(H,z):(I.q1+I.q3)/2;var xe=K("sd");I.sd=de!==b&&xe>=0?xe:z?w.stdev(H,z,I.mean):I.q3-I.q1,I.lo=l(I),I.uo=u(I);var _e=K("notchspan");_e=_e!==b&&_e>0?_e:h(I,z),I.ln=I.med-_e,I.un=I.med+_e;var be=I.lf,Le=I.uf;y.boxpoints&&H.length&&(be=Math.min(be,H[0]),Le=Math.max(Le,H[z-1])),y.notched&&(be=Math.min(be,I.ln),Le=Math.max(Le,I.un)),I.min=be,I.max=Le}else{var De;w.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+I.q1,"median = "+I.med,"q3 = "+I.q3].join(`
`)),De=I.med!==b?I.med:I.q1!==b?I.q3!==b?(I.q1+I.q3)/2:I.q1:I.q3!==b?I.q3:0,I.med=De,I.q1=I.q3=De,I.lf=I.uf=De,I.mean=I.sd=De,I.ln=I.un=De,I.min=I.max=De}ae=Math.min(ae,I.min),ue=Math.max(ue,I.max),I.pts2=R.filter(Q),O.push(I)}}y._extremes[g._id]=A.findExtremes(g,[ae,ue],{padded:!0})}else{var ye=g.makeCalcdata(y,x),le=function(Re,Pe){for(var Ve=Re.length,We=new Array(Ve+1),Qe=0;Qe<Ve;Qe++)We[Qe]=Re[Qe]-Pe;return We[Ve]=Re[Ve-1]+Pe,We}(ne,te),oe=ne.length,ve=function(Re){for(var Pe=new Array(Re),Ve=0;Ve<Re;Ve++)Pe[Ve]=[];return Pe}(oe);for(d=0;d<y._length;d++)if(Z=ye[d],k(Z)){var Ce=w.findBin(V[d],le);Ce>=0&&Ce<oe&&(n(j={v:Z,i:d},y,d),ve[Ce].push(j))}var ke=1/0,Ae=-1/0,Ee=y.quartilemethod,ze=Ee==="exclusive",Fe=Ee==="inclusive";for(d=0;d<oe;d++)if(ve[d].length>0){var ge,Te;(I={}).pos=I[_]=ne[d],R=I.pts=ve[d].sort(i),z=(H=I[x]=R.map(r)).length,I.min=H[0],I.max=H[z-1],I.mean=w.mean(H,z),I.sd=w.stdev(H,z,I.mean)*y.sdmultiple,I.med=w.interp(H,.5),z%2&&(ze||Fe)?(ze?(ge=H.slice(0,z/2),Te=H.slice(z/2+1)):Fe&&(ge=H.slice(0,z/2+1),Te=H.slice(z/2)),I.q1=w.interp(ge,.5),I.q3=w.interp(Te,.5)):(I.q1=w.interp(H,.25),I.q3=w.interp(H,.75)),I.lf=t(I,H,z),I.uf=a(I,H,z),I.lo=l(I),I.uo=u(I);var Se=h(I,z);I.ln=I.med-Se,I.un=I.med+Se,ke=Math.min(ke,I.ln),Ae=Math.max(Ae,I.un),I.pts2=R.filter(Q),O.push(I)}y.notched&&w.isTypedArray(ye)&&(ye=Array.from(ye)),y._extremes[g._id]=A.findExtremes(g,y.notched?ye.concat([ke,Ae]):ye,{padded:!0})}return function(Re,Pe){if(w.isArrayOrTypedArray(Pe.selectedpoints))for(var Ve=0;Ve<Re.length;Ve++){for(var We=Re[Ve].pts||[],Qe={},lt=0;lt<We.length;lt++)Qe[We[lt].i]=lt;w.tagSelected(We,Pe,Qe)}}(O,y),O.length>0?(O[0].t={num:S[P],dPos:te,posLetter:_,valLetter:x,labels:{med:f(c,"median:"),min:f(c,"min:"),q1:f(c,"q1:"),q3:f(c,"q3:"),max:f(c,"max:"),mean:y.boxmean==="sd"||y.sizemode==="sd"?f(c,"mean ± σ:").replace("σ",y.sdmultiple===1?"σ":y.sdmultiple+"σ"):f(c,"mean:"),lf:f(c,"lower fence:"),uf:f(c,"upper fence:")}},S[P]++,O):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function n(c,y,d){for(var v in s)w.isArrayOrTypedArray(y[v])&&(Array.isArray(d)?w.isArrayOrTypedArray(y[v][d[0]])&&(c[s[v]]=y[v][d[0]][d[1]]):c[s[v]]=y[v][d])}function i(c,y){return c.v-y.v}function r(c){return c.v}function t(c,y,d){return d===0?c.q1:Math.min(c.q1,y[Math.min(w.findBin(2.5*c.q1-1.5*c.q3,y,!0)+1,d-1)])}function a(c,y,d){return d===0?c.q3:Math.max(c.q3,y[Math.max(w.findBin(2.5*c.q3-1.5*c.q1,y),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function h(c,y){return y===0?0:1.57*(c.q3-c.q1)/Math.sqrt(y)}},96404:function(U,C,e){var k=e(54460),A=e(3400),o=e(71888).getAxisGroup,w=["v","h"];function b(f,s,n,i){var r,t,a,l=s.calcdata,u=s._fullLayout,h=i._id,c=h.charAt(0),y=[],d=0;for(r=0;r<n.length;r++)for(a=l[n[r]],t=0;t<a.length;t++)y.push(i.c2l(a[t].pos,!0)),d+=(a[t].pts2||[]).length;if(y.length){var v=A.distinctVals(y);i.type!=="category"&&i.type!=="multicategory"||(v.minDiff=1);var g=v.minDiff/2;k.minDtick(i,v.minDiff,v.vals[0],!0);var x=u[f==="violin"?"_numViolins":"_numBoxes"],m=u[f+"mode"]==="group"&&x>1,_=1-u[f+"gap"],p=1-u[f+"groupgap"];for(r=0;r<n.length;r++){var S,T,E,O,P,I,R=(a=l[n[r]])[0].trace,H=a[0].t,z=R.width,j=R.side;if(z)S=T=O=z/2,E=0;else if(S=g,m){var Z=o(u,i._id)+R.orientation,F=(u._alignmentOpts[Z]||{})[R.alignmentgroup]||{},V=Object.keys(F.offsetGroups||{}).length,W=V||x;T=S*_*p/W,E=2*S*(((V?R._offsetIndex:H.num)+.5)/W-.5)*_,O=S*_/W}else T=S*_*p,E=0,O=S;H.dPos=S,H.bPos=E,H.bdPos=T,H.wHover=O;var re,ne,te,Q,$,K,ae=E+T,ue=!!z;if(j==="positive"?(P=S*(z?1:.5),re=ae,I=re=E):j==="negative"?(P=re=E,I=S*(z?1:.5),ne=ae):(P=I=S,re=ne=ae),(R.boxpoints||R.points)&&d>0){var se=R.pointpos,he=R.jitter,pe=R.marker.size/2,de=0;se+he>=0&&((de=ae*(se+he))>P?(ue=!0,$=pe,te=de):de>re&&($=pe,te=P)),de<=P&&(te=P);var xe=0;se-he<=0&&((xe=-ae*(se-he))>I?(ue=!0,K=pe,Q=xe):xe>ne&&(K=pe,Q=I)),xe<=I&&(Q=I)}else te=P,Q=I;var _e=new Array(a.length);for(t=0;t<a.length;t++)_e[t]=a[t].pos;R._extremes[h]=k.findExtremes(i,_e,{padded:ue,vpadminus:Q,vpadplus:te,vpadLinearized:!0,ppadminus:{x:K,y:$}[c],ppadplus:{x:$,y:K}[c]})}}}U.exports={crossTraceCalc:function(f,s){for(var n=f.calcdata,i=s.xaxis,r=s.yaxis,t=0;t<w.length;t++){for(var a=w[t],l=a==="h"?r:i,u=[],h=0;h<n.length;h++){var c=n[h],y=c[0].t,d=c[0].trace;d.visible!==!0||d.type!=="box"&&d.type!=="candlestick"||y.empty||(d.orientation||"v")!==a||d.xaxis!==i._id||d.yaxis!==r._id||u.push(h)}b("box",f,u,l)}},setPositionOffset:b}},90624:function(U,C,e){var k=e(3400),A=e(24040),o=e(76308),w=e(31147),b=e(20011),f=e(52976),s=e(63188);function n(r,t,a,l){function u(j){var Z=0;return j&&j.length&&(Z+=1,k.isArrayOrTypedArray(j[0])&&j[0].length&&(Z+=1)),Z}function h(j){return k.validate(r[j],s[j])}var c,y=a("y"),d=a("x");if(t.type==="box"){var v=a("q1"),g=a("median"),x=a("q3");t._hasPreCompStats=v&&v.length&&g&&g.length&&x&&x.length,c=Math.min(k.minRowLength(v),k.minRowLength(g),k.minRowLength(x))}var m,_,p=u(y),S=u(d),T=p&&k.minRowLength(y),E=S&&k.minRowLength(d),O=l.calendar,P={autotypenumbers:l.autotypenumbers};if(t._hasPreCompStats)switch(String(S)+String(p)){case"00":var I=h("x0")||h("dx");m=!h("y0")&&!h("dy")||I?"v":"h",_=c;break;case"10":m="v",_=Math.min(c,E);break;case"20":m="h",_=Math.min(c,d.length);break;case"01":m="h",_=Math.min(c,T);break;case"02":m="v",_=Math.min(c,y.length);break;case"12":m="v",_=Math.min(c,E,y.length);break;case"21":m="h",_=Math.min(c,d.length,T);break;case"11":_=0;break;case"22":var R,H=!1;for(R=0;R<d.length;R++)if(f(d[R],O,P)==="category"){H=!0;break}if(H)m="v",_=Math.min(c,E,y.length);else{for(R=0;R<y.length;R++)if(f(y[R],O,P)==="category"){H=!0;break}H?(m="h",_=Math.min(c,d.length,T)):(m="v",_=Math.min(c,E,y.length))}}else p>0?(m="v",_=S>0?Math.min(E,T):Math.min(T)):S>0?(m="h",_=Math.min(E)):_=0;if(_){t._length=_;var z=a("orientation",m);t._hasPreCompStats?z==="v"&&S===0?(a("x0",0),a("dx",1)):z==="h"&&p===0&&(a("y0",0),a("dy",1)):z==="v"&&S===0?a("x0"):z==="h"&&p===0&&a("y0"),A.getComponentMethod("calendars","handleTraceDefaults")(r,t,["x","y"],l)}else t.visible=!1}function i(r,t,a,l){var u=l.prefix,h=k.coerce2(r,t,s,"marker.outliercolor"),c=a("marker.line.outliercolor"),y="outliers";t._hasPreCompStats?y="all":(h||c)&&(y="suspectedoutliers");var d=a(u+"points",y);d?(a("jitter",d==="all"?.3:0),a("pointpos",d==="all"?-1.5:0),a("marker.symbol"),a("marker.opacity"),a("marker.size"),a("marker.angle"),a("marker.color",t.line.color),a("marker.line.color"),a("marker.line.width"),d==="suspectedoutliers"&&(a("marker.line.outliercolor",t.marker.color),a("marker.line.outlierwidth")),a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size"),a("text"),a("hovertext")):delete t.marker;var v=a("hoveron");v!=="all"&&v.indexOf("points")===-1||a("hovertemplate"),k.coerceSelectionMarkerOpacity(t,a)}U.exports={supplyDefaults:function(r,t,a,l){function u(_,p){return k.coerce(r,t,s,_,p)}if(n(r,t,u,l),t.visible!==!1){w(r,t,l,u),u("xhoverformat"),u("yhoverformat");var h=t._hasPreCompStats;h&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||a),u("line.width"),u("fillcolor",o.addOpacity(t.line.color,.5));var c=!1;if(h){var y=u("mean"),d=u("sd");y&&y.length&&(c=!0,d&&d.length&&(c="sd"))}u("whiskerwidth");var v,g=u("sizemode");g==="quartiles"&&(v=u("boxmean",c)),u("showwhiskers",g==="quartiles"),g!=="sd"&&v!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var x=!1;if(h){var m=u("notchspan");m&&m.length&&(x=!0)}else k.validate(r.notchwidth,s.notchwidth)&&(x=!0);u("notched",x)&&u("notchwidth"),i(r,t,u,{prefix:"box"}),u("zorder")}},crossTraceDefaults:function(r,t){var a,l;function u(y){return k.coerce(l._input,l,s,y)}for(var h=0;h<r.length;h++){var c=(l=r[h]).type;c!=="box"&&c!=="violin"||(a=l._input,t[c+"mode"]==="group"&&b(a,l,t,u))}},handleSampleDefaults:n,handlePointsDefaults:i}},10392:function(U){U.exports=function(C,e){return e.hoverOnBox&&(C.hoverOnBox=e.hoverOnBox),"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},27576:function(U,C,e){var k=e(54460),A=e(3400),o=e(93024),w=e(76308),b=A.fillText;function f(n,i,r,t){var a,l,u,h,c,y,d,v,g,x,m,_,p,S,T=n.cd,E=n.xa,O=n.ya,P=T[0].trace,I=T[0].t,R=P.type==="violin",H=I.bdPos,z=I.wHover,j=function(De){return u.c2l(De.pos)+I.bPos-u.c2l(y)};R&&P.side!=="both"?(P.side==="positive"&&(g=function(De){var ye=j(De);return o.inbox(ye,ye+z,x)},_=H,p=0),P.side==="negative"&&(g=function(De){var ye=j(De);return o.inbox(ye-z,ye,x)},_=0,p=H)):(g=function(De){var ye=j(De);return o.inbox(ye-z,ye+z,x)},_=p=H),S=R?function(De){return o.inbox(De.span[0]-c,De.span[1]-c,x)}:function(De){return o.inbox(De.min-c,De.max-c,x)},P.orientation==="h"?(c=i,y=r,d=S,v=g,a="y",u=O,l="x",h=E):(c=r,y=i,d=g,v=S,a="x",u=E,l="y",h=O);var Z=Math.min(1,H/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(De){return(d(De)+v(De))/2}x=n.maxHoverDistance-Z,m=n.maxSpikeDistance-Z;var V=o.getDistanceFunction(t,d,v,F);if(o.getClosest(T,V,n),n.index===!1)return[];var W=T[n.index],re=P.line.color,ne=(P.marker||{}).color;w.opacity(re)&&P.line.width?n.color=re:w.opacity(ne)&&P.boxpoints?n.color=ne:n.color=P.fillcolor,n[a+"0"]=u.c2p(W.pos+I.bPos-p,!0),n[a+"1"]=u.c2p(W.pos+I.bPos+_,!0),n[a+"LabelVal"]=W.orig_p!==void 0?W.orig_p:W.pos;var te=a+"Spike";n.spikeDistance=F(W)*m/x,n[te]=u.c2p(W.pos,!0);var Q=P.boxmean||P.sizemode==="sd"||(P.meanline||{}).visible,$=P.boxpoints||P.points,K=$&&Q?["max","uf","q3","med","mean","q1","lf","min"]:$&&!Q?["max","uf","q3","med","q1","lf","min"]:!$&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ae=h.range[1]<h.range[0];P.orientation===(ae?"v":"h")&&K.reverse();for(var ue=n.spikeDistance,se=n[te],he=[],pe=0;pe<K.length;pe++){var de=K[pe];if(de in W){var xe=W[de],_e=h.c2p(xe,!0),be=A.extendFlat({},n);be.attr=de,be[l+"0"]=be[l+"1"]=_e,be[l+"LabelVal"]=xe,be[l+"Label"]=(I.labels?I.labels[de]+" ":"")+k.hoverLabelText(h,xe,P[l+"hoverformat"]),be.hoverOnBox=!0,de!=="mean"||!("sd"in W)||P.boxmean!=="sd"&&P.sizemode!=="sd"||(be[l+"err"]=W.sd),be.hovertemplate=!1,he.push(be)}}n.name="",n.spikeDistance=void 0,n[te]=void 0;for(var Le=0;Le<he.length;Le++)he[Le].attr!=="med"?(he[Le].name="",he[Le].spikeDistance=void 0,he[Le][te]=void 0):(he[Le].spikeDistance=ue,he[Le][te]=se);return he}function s(n,i,r){for(var t,a,l,u=n.cd,h=n.xa,c=n.ya,y=u[0].trace,d=h.c2p(i),v=c.c2p(r),g=o.quadrature(function(R){var H=Math.max(3,R.mrc||0);return Math.max(Math.abs(h.c2p(R.x)-d)-H,1-3/H)},function(R){var H=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-v)-H,1-3/H)}),x=!1,m=0;m<u.length;m++){a=u[m];for(var _=0;_<(a.pts||[]).length;_++){var p=g(l=a.pts[_]);p<=n.distance&&(n.distance=p,x=[m,_])}}if(!x)return!1;l=(a=u[x[0]]).pts[x[1]];var S=h.c2p(l.x,!0),T=c.c2p(l.y,!0),E=l.mrc||1;t=A.extendFlat({},n,{index:l.i,color:(y.marker||{}).color,name:y.name,x0:S-E,x1:S+E,y0:T-E,y1:T+E,spikeDistance:n.distance,hovertemplate:y.hovertemplate});var O,P=a.orig_p,I=P!==void 0?P:a.pos;return y.orientation==="h"?(O=c,t.xLabelVal=l.x,t.yLabelVal=I):(O=h,t.xLabelVal=I,t.yLabelVal=l.y),t[O._id.charAt(0)+"Spike"]=O.c2p(a.pos,!0),b(l,y,t),t}U.exports={hoverPoints:function(n,i,r,t){var a,l=n.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(f(n,i,r,t))),l.indexOf("points")!==-1&&(a=s(n,i,r)),t==="closest"?a?[a]:u:(a&&u.push(a),u)},hoverOnBoxes:f,hoverOnPoints:s}},67244:function(U,C,e){U.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(U){U.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(U,C,e){var k=e(24040),A=e(3400),o=e(16560);function w(b,f,s,n,i){for(var r=i+"Layout",t=!1,a=0;a<s.length;a++){var l=s[a];if(k.traceIs(l,r)){t=!0;break}}t&&(n(i+"mode"),n(i+"gap"),n(i+"groupgap"))}U.exports={supplyLayoutDefaults:function(b,f,s){w(0,0,s,function(n,i){return A.coerce(b,f,o,n,i)},"box")},_supply:w}},18728:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616);function w(s,n,i,r,t){var a,l,u=i.orientation==="h",h=n.val,c=n.pos,y=!!c.rangebreaks,d=r.bPos,v=r.wdPos||0,g=r.bPosPxOffset||0,x=i.whiskerwidth||0,m=i.showwhiskers!==!1,_=i.notched||!1,p=_?1-2*i.notchwidth:1;Array.isArray(r.bdPos)?(a=r.bdPos[0],l=r.bdPos[1]):(a=r.bdPos,l=r.bdPos);var S=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?A.identity:[]);S.enter().append("path").style("vector-effect",t?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(T){if(T.empty)return k.select(this).attr("d","M0,0Z");var E=c.c2l(T.pos+d,!0),O=c.l2p(E-a)+g,P=c.l2p(E+l)+g,I=y?(O+P)/2:c.l2p(E)+g,R=i.whiskerwidth,H=y?O*R+(1-R)*I:c.l2p(E-v)+g,z=y?P*R+(1-R)*I:c.l2p(E+v)+g,j=c.l2p(E-a*p)+g,Z=c.l2p(E+l*p)+g,F=i.sizemode==="sd",V=h.c2p(F?T.mean-T.sd:T.q1,!0),W=F?h.c2p(T.mean+T.sd,!0):h.c2p(T.q3,!0),re=A.constrain(F?h.c2p(T.mean,!0):h.c2p(T.med,!0),Math.min(V,W)+1,Math.max(V,W)-1),ne=T.lf===void 0||i.boxpoints===!1||F,te=h.c2p(ne?T.min:T.lf,!0),Q=h.c2p(ne?T.max:T.uf,!0),$=h.c2p(T.ln,!0),K=h.c2p(T.un,!0);u?k.select(this).attr("d","M"+re+","+j+"V"+Z+"M"+V+","+O+"V"+P+(_?"H"+$+"L"+re+","+Z+"L"+K+","+P:"")+"H"+W+"V"+O+(_?"H"+K+"L"+re+","+j+"L"+$+","+O:"")+"Z"+(m?"M"+V+","+I+"H"+te+"M"+W+","+I+"H"+Q+(x===0?"":"M"+te+","+H+"V"+z+"M"+Q+","+H+"V"+z):"")):k.select(this).attr("d","M"+j+","+re+"H"+Z+"M"+O+","+V+"H"+P+(_?"V"+$+"L"+Z+","+re+"L"+P+","+K:"")+"V"+W+"H"+O+(_?"V"+K+"L"+j+","+re+"L"+O+","+$:"")+"Z"+(m?"M"+I+","+V+"V"+te+"M"+I+","+W+"V"+Q+(x===0?"":"M"+H+","+te+"H"+z+"M"+H+","+Q+"H"+z):""))})}function b(s,n,i,r){var t=n.x,a=n.y,l=r.bdPos,u=r.bPos,h=i.boxpoints||i.points;A.seedPseudoRandom();var c=s.selectAll("g.points").data(h?function(d){return d.forEach(function(v){v.t=r,v.trace=i}),d}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var y=c.selectAll("path").data(function(d){var v,g,x=d.pts2,m=Math.max((d.max-d.min)/10,d.q3-d.q1),_=1e-9*m,p=.01*m,S=[],T=0;if(i.jitter){if(m===0)for(T=1,S=new Array(x.length),v=0;v<x.length;v++)S[v]=1;else for(v=0;v<x.length;v++){var E=Math.max(0,v-5),O=x[E].v,P=Math.min(x.length-1,v+5),I=x[P].v;h!=="all"&&(x[v].v<d.lf?I=Math.min(I,d.lf):O=Math.max(O,d.uf));var R=Math.sqrt(p*(P-E)/(I-O+_))||0;R=A.constrain(Math.abs(R),0,1),S.push(R),T=Math.max(R,T)}g=2*i.jitter/(T||1)}for(v=0;v<x.length;v++){var H=x[v],z=H.v,j=i.jitter?g*S[v]*(A.pseudoRandom()-.5):0,Z=d.pos+u+l*(i.pointpos+j);i.orientation==="h"?(H.y=Z,H.x=z):(H.x=Z,H.y=z),h==="suspectedoutliers"&&z<d.uo&&z>d.lo&&(H.so=!0)}return x});y.enter().append("path").classed("point",!0),y.exit().remove(),y.call(o.translatePoints,t,a)}function f(s,n,i,r){var t,a,l=n.val,u=n.pos,h=!!u.rangebreaks,c=r.bPos,y=r.bPosPxOffset||0,d=i.boxmean||(i.meanline||{}).visible;Array.isArray(r.bdPos)?(t=r.bdPos[0],a=r.bdPos[1]):(t=r.bdPos,a=r.bdPos);var v=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?A.identity:[]);v.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),v.exit().remove(),v.each(function(g){var x=u.c2l(g.pos+c,!0),m=u.l2p(x-t)+y,_=u.l2p(x+a)+y,p=h?(m+_)/2:u.l2p(x)+y,S=l.c2p(g.mean,!0),T=l.c2p(g.mean-g.sd,!0),E=l.c2p(g.mean+g.sd,!0);i.orientation==="h"?k.select(this).attr("d","M"+S+","+m+"V"+_+(d==="sd"?"m0,0L"+T+","+p+"L"+S+","+m+"L"+E+","+p+"Z":"")):k.select(this).attr("d","M"+m+","+S+"H"+_+(d==="sd"?"m0,0L"+p+","+T+"L"+m+","+S+"L"+p+","+E+"Z":""))})}U.exports={plot:function(s,n,i,r){var t=s._context.staticPlot,a=n.xaxis,l=n.yaxis;A.makeTraceGroups(r,i,"trace boxes").each(function(u){var h,c,y=k.select(this),d=u[0],v=d.t,g=d.trace;v.wdPos=v.bdPos*g.whiskerwidth,g.visible!==!0||v.empty?y.remove():(g.orientation==="h"?(h=l,c=a):(h=a,c=l),w(y,{pos:h,val:c},g,v,t),b(y,{x:a,y:l},g,v),f(y,{pos:h,val:c},g,v))})},plotBoxAndWhiskers:w,plotPoints:b,plotBoxMean:f}},8264:function(U){U.exports=function(C,e){var k,A,o=C.cd,w=C.xaxis,b=C.yaxis,f=[];if(e===!1)for(k=0;k<o.length;k++)for(A=0;A<(o[k].pts||[]).length;A++)o[k].pts[A].selected=0;else for(k=0;k<o.length;k++)for(A=0;A<(o[k].pts||[]).length;A++){var s=o[k].pts[A],n=w.c2p(s.x),i=b.c2p(s.y);e.contains([n,i],null,s.i,C)?(f.push({pointNumber:s.i,x:w.c2d(s.x),y:b.c2d(s.y)}),s.selected=1):s.selected=0}return f}},25776:function(U,C,e){var k=e(33428),A=e(76308),o=e(43616);U.exports={style:function(w,b,f){var s=f||k.select(w).selectAll("g.trace.boxes");s.style("opacity",function(n){return n[0].trace.opacity}),s.each(function(n){var i=k.select(this),r=n[0].trace,t=r.line.width;function a(h,c,y,d){h.style("stroke-width",c+"px").call(A.stroke,y).call(A.fill,d)}var l=i.selectAll("path.box");if(r.type==="candlestick")l.each(function(h){if(!h.empty){var c=k.select(this),y=r[h.dir];a(c,y.line.width,y.line.color,y.fillcolor),c.style("opacity",r.selectedpoints&&!h.selected?.3:1)}});else{a(l,t,r.line.color,r.fillcolor),i.selectAll("path.mean").style({"stroke-width":t,"stroke-dasharray":2*t+"px,"+t+"px"}).call(A.stroke,r.line.color);var u=i.selectAll("path.point");o.pointStyle(u,r,w)}})},styleOnSelect:function(w,b,f){var s=b[0].trace,n=f.selectAll("path.point");s.selectedpoints?o.selectedPointStyle(n,s):o.pointStyle(n,s,w)}}},64216:function(U,C,e){var k=e(3400).extendFlat,A=e(29736).axisHoverFormat,o=e(20279),w=e(63188);function b(f){return{line:{color:k({},w.line.color,{dflt:f}),width:w.line.width,editType:"style"},fillcolor:w.fillcolor,editType:"style"}}U.exports={xperiod:o.xperiod,xperiod0:o.xperiod0,xperiodalignment:o.xperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:k({},w.line.width,{}),editType:"style"},increasing:b(o.increasing.line.color.dflt),decreasing:b(o.decreasing.line.color.dflt),text:o.text,hovertext:o.hovertext,whiskerwidth:k({},w.whiskerwidth,{dflt:0}),hoverlabel:o.hoverlabel,zorder:w.zorder}},46283:function(U,C,e){var k=e(3400),A=e(54460),o=e(1220),w=e(42812).calcCommon;function b(f,s,n,i){return{min:n,q1:Math.min(f,i),med:i,q3:Math.max(f,i),max:s}}U.exports=function(f,s){var n=f._fullLayout,i=A.getFromId(f,s.xaxis),r=A.getFromId(f,s.yaxis),t=i.makeCalcdata(s,"x"),a=o(s,i,"x",t).vals,l=w(f,s,t,a,r,b);return l.length?(k.extendFlat(l[0].t,{num:n._numBoxes,dPos:k.distinctVals(a).minDiff/2,posLetter:"x",valLetter:"y"}),n._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(U,C,e){var k=e(3400),A=e(76308),o=e(52744),w=e(31147),b=e(64216);function f(s,n,i,r){var t=i(r+".line.color");i(r+".line.width",n.line.width),i(r+".fillcolor",A.addOpacity(t,.5))}U.exports=function(s,n,i,r){function t(a,l){return k.coerce(s,n,b,a,l)}o(s,n,t,r)?(w(s,n,r,t,{x:!0}),t("xhoverformat"),t("yhoverformat"),t("line.width"),f(0,n,t,"increasing"),f(0,n,t,"decreasing"),t("text"),t("hovertext"),t("whiskerwidth"),r._requestRangeslider[n.xaxis]=!0,t("zorder")):n.visible=!1}},61712:function(U,C,e){U.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(U,C,e){var k=e(63856),A=e(31780);U.exports=function(o,w,b,f,s){f("a")||(f("da"),f("a0")),f("b")||(f("db"),f("b0")),function(n,i,r,t){["aaxis","baxis"].forEach(function(a){var l=a.charAt(0),u=n[a]||{},h=A.newContainer(i,a),c={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:a,data:n[l],calendar:i.calendar,dfltColor:t,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};k(u,h,c),h._categories=h._categories||[],n[a]||u.type==="-"||(n[a]={type:u.type})})}(o,w,b,s)}},51676:function(U,C,e){var k=e(3400).isArrayOrTypedArray;function A(o,w){if(!k(o)||w>=10)return null;for(var b=1/0,f=-1/0,s=o.length,n=0;n<s;n++){var i=o[n];if(k(i)){var r=A(i,w+1);r&&(b=Math.min(r[0],b),f=Math.max(r[1],f))}else b=Math.min(i,b),f=Math.max(i,f)}return[b,f]}U.exports=function(o){return A(o,0)}},85720:function(U,C,e){var k=e(25376),A=e(98692),o=e(22548),w=k({editType:"calc"}),b=e(52904).zorder;w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=o.defaultLine,U.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:A,baxis:A,font:w,color:{valType:"color",dflt:o.defaultLine,editType:"plot"},transforms:void 0,zorder:b}},77712:function(U,C,e){var k=e(3400).isArrayOrTypedArray;U.exports=function(A,o,w,b){var f,s,n,i,r,t,a,l,u,h,c,y,d,v=k(w)?"a":"b",g=(v==="a"?A.aaxis:A.baxis).smoothing,x=v==="a"?A.a2i:A.b2j,m=v==="a"?w:b,_=v==="a"?b:w,p=v==="a"?o.a.length:o.b.length,S=v==="a"?o.b.length:o.a.length,T=Math.floor(v==="a"?A.b2j(_):A.a2i(_)),E=v==="a"?function(re){return A.evalxy([],re,T)}:function(re){return A.evalxy([],T,re)};g&&(n=Math.max(0,Math.min(S-2,T)),i=T-n,s=v==="a"?function(re,ne){return A.dxydi([],re,n,ne,i)}:function(re,ne){return A.dxydj([],n,re,i,ne)});var O=x(m[0]),P=x(m[1]),I=O<P?1:-1,R=1e-8*(P-O),H=I>0?Math.floor:Math.ceil,z=I>0?Math.ceil:Math.floor,j=I>0?Math.min:Math.max,Z=I>0?Math.max:Math.min,F=H(O+R),V=z(P-R),W=[[a=E(O)]];for(f=F;f*I<V*I;f+=I)r=[],c=Z(O,f),d=(y=j(P,f+I))-c,t=Math.max(0,Math.min(p-2,Math.floor(.5*(c+y)))),l=E(y),g&&(u=s(t,c-t),h=s(t,y-t),r.push([a[0]+u[0]/3*d,a[1]+u[1]/3*d]),r.push([l[0]-h[0]/3*d,l[1]-h[1]/3*d])),r.push(l),W.push(r),a=l;return W}},98692:function(U,C,e){var k=e(25376),A=e(22548),o=e(94724),w=e(29736).descriptionWithDates,b=e(67824).overrideAll,f=e(98192).u,s=e(92880).extendFlat;U.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:k({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:o.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},o.labelalias,{editType:"calc"}),tickfont:k({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:w("tick label")},tickformatstops:b(o.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:A.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},f,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},f,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:A.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:k({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(U,C,e){var k=e(85720),A=e(76308).addOpacity,o=e(24040),w=e(3400),b=e(26332),f=e(95936),s=e(42568),n=e(22416),i=e(78344),r=e(52976);U.exports=function(t,a,l){var u=l.letter,h=l.font||{},c=k[u+"axis"];function y(I,R){return w.coerce(t,a,c,I,R)}function d(I,R){return w.coerce2(t,a,c,I,R)}l.name&&(a._name=l.name,a._id=l.name),y("autotypenumbers",l.autotypenumbersDflt);var v=y("type");v==="-"&&(l.data&&function(I,R){if(I.type==="-"){var H=I._id.charAt(0),z=I[H+"calendar"];I.type=r(R,z,{autotypenumbers:I.autotypenumbers})}}(a,l.data),a.type==="-"?a.type="linear":v=t.type=a.type),y("smoothing"),y("cheatertype"),y("showticklabels"),y("labelprefix",u+" = "),y("labelsuffix"),y("showtickprefix"),y("showticksuffix"),y("separatethousands"),y("tickformat"),y("exponentformat"),y("minexponent"),y("showexponent"),y("categoryorder"),y("tickmode"),y("tickvals"),y("ticktext"),y("tick0"),y("dtick"),a.tickmode==="array"&&(y("arraytick0"),y("arraydtick")),y("labelpadding"),a._hovertitle=u,v==="date"&&o.getComponentMethod("calendars","handleDefaults")(t,a,"calendar",l.calendar),i(a,l.fullLayout),a.c2p=w.identity;var g=y("color",l.dfltColor),x=g===t.color?g:h.color;y("title.text")&&(w.coerceFont(y,"title.font",h,{overrideDflt:{size:w.bigFont(h.size),color:x}}),y("title.offset")),y("tickangle"),y("autorange",!a.isValidRange(t.range))&&y("rangemode"),y("range"),a.cleanRange(),y("fixedrange"),b(t,a,y,v),s(t,a,y,v,l),f(t,a,y,v,l),n(t,a,y,{data:l.data,dataAttr:u});var m=d("gridcolor",A(g,.3)),_=d("gridwidth"),p=d("griddash"),S=y("showgrid");S||(delete a.gridcolor,delete a.gridwidth,delete a.griddash);var T=d("startlinecolor",g),E=d("startlinewidth",_);y("startline",a.showgrid||!!T||!!E)||(delete a.startlinecolor,delete a.startlinewidth);var O=d("endlinecolor",g),P=d("endlinewidth",_);return y("endline",a.showgrid||!!O||!!P)||(delete a.endlinecolor,delete a.endlinewidth),S?(y("minorgridcount"),y("minorgridwidth",_),y("minorgriddash",p),y("minorgridcolor",A(m,.06)),a.minorgridcount||(delete a.minorgridwidth,delete a.minorgriddash,delete a.minorgridcolor)):(delete a.gridcolor,delete a.gridwidth,delete a.griddash),a.showticklabels==="none"&&(delete a.tickfont,delete a.tickangle,delete a.showexponent,delete a.exponentformat,delete a.minexponent,delete a.tickformat,delete a.showticksuffix,delete a.showtickprefix),a.showticksuffix||delete a.ticksuffix,a.showtickprefix||delete a.tickprefix,y("tickmode"),a}},58744:function(U,C,e){var k=e(54460),A=e(3400).isArray1D,o=e(60776),w=e(51676),b=e(19216),f=e(14724),s=e(24944),n=e(26136),i=e(51512),r=e(2872),t=e(81e3);U.exports=function(a,l){var u=k.getFromId(a,l.xaxis),h=k.getFromId(a,l.yaxis),c=l.aaxis,y=l.baxis,d=l.x,v=l.y,g=[];d&&A(d)&&g.push("x"),v&&A(v)&&g.push("y"),g.length&&r(l,c,y,"a","b",g);var x=l._a=l._a||l.a,m=l._b=l._b||l.b;d=l._x||l.x,v=l._y||l.y;var _={};if(l._cheater){var p=c.cheatertype==="index"?x.length:x,S=y.cheatertype==="index"?m.length:m;d=o(p,S,l.cheaterslope)}l._x=d=n(d),l._y=v=n(v),i(d,x,m),i(v,x,m),t(l),l.setScale();var T=w(d),E=w(v),O=.5*(T[1]-T[0]),P=.5*(T[1]+T[0]),I=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),H=1.3;return T=[P-O*H,P+O*H],E=[R-I*H,R+I*H],l._extremes[u._id]=k.findExtremes(u,T,{padded:!0}),l._extremes[h._id]=k.findExtremes(h,E,{padded:!0}),b(l,"a","b"),b(l,"b","a"),f(l,c),f(l,y),_.clipsegments=s(l._xctrl,l._yctrl,c,y),_.x=d,_.y=v,_.a=x,_.b=m,[_]}},24944:function(U){U.exports=function(C,e,k,A){var o,w,b,f=[],s=!!k.smoothing,n=!!A.smoothing,i=C[0].length-1,r=C.length-1;for(o=0,w=[],b=[];o<=i;o++)w[o]=C[0][o],b[o]=e[0][o];for(f.push({x:w,y:b,bicubic:s}),o=0,w=[],b=[];o<=r;o++)w[o]=C[o][i],b[o]=e[o][i];for(f.push({x:w,y:b,bicubic:n}),o=i,w=[],b=[];o>=0;o--)w[i-o]=C[r][o],b[i-o]=e[r][o];for(f.push({x:w,y:b,bicubic:s}),o=r,w=[],b=[];o>=0;o--)w[r-o]=C[o][0],b[r-o]=e[o][0];return f.push({x:w,y:b,bicubic:n}),f}},19216:function(U,C,e){var k=e(54460),A=e(92880).extendFlat;U.exports=function(o,w,b){var f,s,n,i,r,t,a,l,u,h,c,y,d,v,g=o["_"+w],x=o[w+"axis"],m=x._gridlines=[],_=x._minorgridlines=[],p=x._boundarylines=[],S=o["_"+b],T=o[b+"axis"];x.tickmode==="array"&&(x.tickvals=g.slice());var E=o._xctrl,O=o._yctrl,P=E[0].length,I=E.length,R=o._a.length,H=o._b.length;k.prepTicks(x),x.tickmode==="array"&&delete x.tickvals;var z=x.smoothing?3:1;function j(F){var V,W,re,ne,te,Q,$,K,ae,ue,se,he,pe=[],de=[],xe={};if(w==="b")for(W=o.b2j(F),re=Math.floor(Math.max(0,Math.min(H-2,W))),ne=W-re,xe.length=H,xe.crossLength=R,xe.xy=function(_e){return o.evalxy([],_e,W)},xe.dxy=function(_e,be){return o.dxydi([],_e,re,be,ne)},V=0;V<R;V++)Q=Math.min(R-2,V),$=V-Q,K=o.evalxy([],V,W),T.smoothing&&V>0&&(ae=o.dxydi([],V-1,re,0,ne),pe.push(te[0]+ae[0]/3),de.push(te[1]+ae[1]/3),ue=o.dxydi([],V-1,re,1,ne),pe.push(K[0]-ue[0]/3),de.push(K[1]-ue[1]/3)),pe.push(K[0]),de.push(K[1]),te=K;else for(V=o.a2i(F),Q=Math.floor(Math.max(0,Math.min(R-2,V))),$=V-Q,xe.length=R,xe.crossLength=H,xe.xy=function(_e){return o.evalxy([],V,_e)},xe.dxy=function(_e,be){return o.dxydj([],Q,_e,$,be)},W=0;W<H;W++)re=Math.min(H-2,W),ne=W-re,K=o.evalxy([],V,W),T.smoothing&&W>0&&(se=o.dxydj([],Q,W-1,$,0),pe.push(te[0]+se[0]/3),de.push(te[1]+se[1]/3),he=o.dxydj([],Q,W-1,$,1),pe.push(K[0]-he[0]/3),de.push(K[1]-he[1]/3)),pe.push(K[0]),de.push(K[1]),te=K;return xe.axisLetter=w,xe.axis=x,xe.crossAxis=T,xe.value=F,xe.constvar=b,xe.index=l,xe.x=pe,xe.y=de,xe.smoothing=T.smoothing,xe}function Z(F){var V,W,re,ne,te,Q=[],$=[],K={};if(K.length=g.length,K.crossLength=S.length,w==="b")for(re=Math.max(0,Math.min(H-2,F)),te=Math.min(1,Math.max(0,F-re)),K.xy=function(ae){return o.evalxy([],ae,F)},K.dxy=function(ae,ue){return o.dxydi([],ae,re,ue,te)},V=0;V<P;V++)Q[V]=E[F*z][V],$[V]=O[F*z][V];else for(W=Math.max(0,Math.min(R-2,F)),ne=Math.min(1,Math.max(0,F-W)),K.xy=function(ae){return o.evalxy([],F,ae)},K.dxy=function(ae,ue){return o.dxydj([],W,ae,ne,ue)},V=0;V<I;V++)Q[V]=E[V][F*z],$[V]=O[V][F*z];return K.axisLetter=w,K.axis=x,K.crossAxis=T,K.value=g[F],K.constvar=b,K.index=F,K.x=Q,K.y=$,K.smoothing=T.smoothing,K}if(x.tickmode==="array"){for(i=5e-15,t=(r=[Math.floor((g.length-1-x.arraytick0)/x.arraydtick*(1+i)),Math.ceil(-x.arraytick0/x.arraydtick/(1+i))].sort(function(F,V){return F-V}))[0]-1,a=r[1]+1,l=t;l<a;l++)(s=x.arraytick0+x.arraydtick*l)<0||s>g.length-1||m.push(A(Z(s),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(l=t;l<a;l++)if(n=x.arraytick0+x.arraydtick*l,c=Math.min(n+x.arraydtick,g.length-1),!(n<0||n>g.length-1||c<0||c>g.length-1))for(y=g[n],d=g[c],f=0;f<x.minorgridcount;f++)(v=c-n)<=0||(h=y+(d-y)*(f+1)/(x.minorgridcount+1)*(x.arraydtick/v))<g[0]||h>g[g.length-1]||_.push(A(j(h),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&p.push(A(Z(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&p.push(A(Z(g.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(i=5e-15,t=(r=[Math.floor((g[g.length-1]-x.tick0)/x.dtick*(1+i)),Math.ceil((g[0]-x.tick0)/x.dtick/(1+i))].sort(function(F,V){return F-V}))[0],a=r[1],l=t;l<=a;l++)u=x.tick0+x.dtick*l,m.push(A(j(u),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(l=t-1;l<a+1;l++)for(u=x.tick0+x.dtick*l,f=0;f<x.minorgridcount;f++)(h=u+x.dtick*(f+1)/(x.minorgridcount+1))<g[0]||h>g[g.length-1]||_.push(A(j(h),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&p.push(A(j(g[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&p.push(A(j(g[g.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},14724:function(U,C,e){var k=e(54460),A=e(92880).extendFlat;U.exports=function(o,w){var b,f,s,n=w._labels=[],i=w._gridlines;for(b=0;b<i.length;b++)s=i[b],["start","both"].indexOf(w.showticklabels)!==-1&&(f=k.tickText(w,s.value),A(f,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),n.push(f)),["end","both"].indexOf(w.showticklabels)!==-1&&(f=k.tickText(w,s.value),A(f,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),n.push(f))}},62284:function(U){U.exports=function(C,e,k,A){var o=C[0]-e[0],w=C[1]-e[1],b=k[0]-e[0],f=k[1]-e[1],s=Math.pow(o*o+w*w,.25),n=Math.pow(b*b+f*f,.25),i=(n*n*o-s*s*b)*A,r=(n*n*w-s*s*f)*A,t=n*(s+n)*3,a=s*(s+n)*3;return[[e[0]+(t&&i/t),e[1]+(t&&r/t)],[e[0]-(a&&i/a),e[1]-(a&&r/a)]]}},60776:function(U,C,e){var k=e(3400).isArrayOrTypedArray;U.exports=function(A,o,w){var b,f,s,n,i,r,t=[],a=k(A)?A.length:A,l=k(o)?o.length:o,u=k(A)?A:null,h=k(o)?o:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(a-1)),h&&(n=(h.length-1)/(h[h.length-1]-h[0])/(l-1));var c=1/0,y=-1/0;for(f=0;f<l;f++)for(t[f]=[],i=h?(h[f]-h[0])*n:f/(l-1),b=0;b<a;b++)r=(u?(u[b]-u[0])*s:b/(a-1))-i*w,c=Math.min(r,c),y=Math.max(r,y),t[f][b]=r;var d=1/(y-c),v=-c*d;for(f=0;f<l;f++)for(b=0;b<a;b++)t[f][b]=d*t[f][b]+v;return t}},30180:function(U,C,e){var k=e(62284),A=e(3400).ensureArray;function o(w,b,f){var s=-.5*f[0]+1.5*b[0],n=-.5*f[1]+1.5*b[1];return[(2*s+w[0])/3,(2*n+w[1])/3]}U.exports=function(w,b,f,s,n,i){var r,t,a,l,u,h,c,y,d,v,g=f[0].length,x=f.length,m=n?3*g-2:g,_=i?3*x-2:x;for(w=A(w,_),b=A(b,_),a=0;a<_;a++)w[a]=A(w[a],m),b[a]=A(b[a],m);for(t=0,l=0;t<x;t++,l+=i?3:1)for(u=w[l],h=b[l],c=f[t],y=s[t],r=0,a=0;r<g;r++,a+=n?3:1)u[a]=c[r],h[a]=y[r];if(n)for(t=0,l=0;t<x;t++,l+=i?3:1){for(r=1,a=3;r<g-1;r++,a+=3)d=k([f[t][r-1],s[t][r-1]],[f[t][r],s[t][r]],[f[t][r+1],s[t][r+1]],n),w[l][a-1]=d[0][0],b[l][a-1]=d[0][1],w[l][a+1]=d[1][0],b[l][a+1]=d[1][1];v=o([w[l][0],b[l][0]],[w[l][2],b[l][2]],[w[l][3],b[l][3]]),w[l][1]=v[0],b[l][1]=v[1],v=o([w[l][m-1],b[l][m-1]],[w[l][m-3],b[l][m-3]],[w[l][m-4],b[l][m-4]]),w[l][m-2]=v[0],b[l][m-2]=v[1]}if(i)for(a=0;a<m;a++){for(l=3;l<_-3;l+=3)d=k([w[l-3][a],b[l-3][a]],[w[l][a],b[l][a]],[w[l+3][a],b[l+3][a]],i),w[l-1][a]=d[0][0],b[l-1][a]=d[0][1],w[l+1][a]=d[1][0],b[l+1][a]=d[1][1];v=o([w[0][a],b[0][a]],[w[2][a],b[2][a]],[w[3][a],b[3][a]]),w[1][a]=v[0],b[1][a]=v[1],v=o([w[_-1][a],b[_-1][a]],[w[_-3][a],b[_-3][a]],[w[_-4][a],b[_-4][a]]),w[_-2][a]=v[0],b[_-2][a]=v[1]}if(n&&i)for(l=1;l<_;l+=(l+1)%3==0?2:1){for(a=3;a<m-3;a+=3)d=k([w[l][a-3],b[l][a-3]],[w[l][a],b[l][a]],[w[l][a+3],b[l][a+3]],n),w[l][a-1]=.5*(w[l][a-1]+d[0][0]),b[l][a-1]=.5*(b[l][a-1]+d[0][1]),w[l][a+1]=.5*(w[l][a+1]+d[1][0]),b[l][a+1]=.5*(b[l][a+1]+d[1][1]);v=o([w[l][0],b[l][0]],[w[l][2],b[l][2]],[w[l][3],b[l][3]]),w[l][1]=.5*(w[l][1]+v[0]),b[l][1]=.5*(b[l][1]+v[1]),v=o([w[l][m-1],b[l][m-1]],[w[l][m-3],b[l][m-3]],[w[l][m-4],b[l][m-4]]),w[l][m-2]=.5*(w[l][m-2]+v[0]),b[l][m-2]=.5*(b[l][m-2]+v[1])}return[w,b]}},24588:function(U){U.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(U){U.exports=function(C,e,k){return e&&k?function(A,o,w,b,f){var s,n,i,r,t,a;A||(A=[]),o*=3,w*=3;var l=b*b,u=1-b,h=u*u,c=u*b*2,y=-3*h,d=3*(h-c),v=3*(c-l),g=3*l,x=f*f,m=x*f,_=1-f,p=_*_,S=p*_;for(a=0;a<C.length;a++)s=y*(t=C[a])[w][o]+d*t[w][o+1]+v*t[w][o+2]+g*t[w][o+3],n=y*t[w+1][o]+d*t[w+1][o+1]+v*t[w+1][o+2]+g*t[w+1][o+3],i=y*t[w+2][o]+d*t[w+2][o+1]+v*t[w+2][o+2]+g*t[w+2][o+3],r=y*t[w+3][o]+d*t[w+3][o+1]+v*t[w+3][o+2]+g*t[w+3][o+3],A[a]=S*s+3*(p*f*n+_*x*i)+m*r;return A}:e?function(A,o,w,b,f){var s,n,i,r;A||(A=[]),o*=3;var t=b*b,a=1-b,l=a*a,u=a*b*2,h=-3*l,c=3*(l-u),y=3*(u-t),d=3*t,v=1-f;for(i=0;i<C.length;i++)s=h*(r=C[i])[w][o]+c*r[w][o+1]+y*r[w][o+2]+d*r[w][o+3],n=h*r[w+1][o]+c*r[w+1][o+1]+y*r[w+1][o+2]+d*r[w+1][o+3],A[i]=v*s+f*n;return A}:k?function(A,o,w,b,f){var s,n,i,r,t,a;A||(A=[]),w*=3;var l=f*f,u=l*f,h=1-f,c=h*h,y=c*h;for(t=0;t<C.length;t++)s=(a=C[t])[w][o+1]-a[w][o],n=a[w+1][o+1]-a[w+1][o],i=a[w+2][o+1]-a[w+2][o],r=a[w+3][o+1]-a[w+3][o],A[t]=y*s+3*(c*f*n+h*l*i)+u*r;return A}:function(A,o,w,b,f){var s,n,i,r;A||(A=[]);var t=1-f;for(i=0;i<C.length;i++)s=(r=C[i])[w][o+1]-r[w][o],n=r[w+1][o+1]-r[w+1][o],A[i]=t*s+f*n;return A}}},24464:function(U){U.exports=function(C,e,k){return e&&k?function(A,o,w,b,f){var s,n,i,r,t,a;A||(A=[]),o*=3,w*=3;var l=b*b,u=l*b,h=1-b,c=h*h,y=c*h,d=f*f,v=1-f,g=v*v,x=v*f*2,m=-3*g,_=3*(g-x),p=3*(x-d),S=3*d;for(a=0;a<C.length;a++)s=m*(t=C[a])[w][o]+_*t[w+1][o]+p*t[w+2][o]+S*t[w+3][o],n=m*t[w][o+1]+_*t[w+1][o+1]+p*t[w+2][o+1]+S*t[w+3][o+1],i=m*t[w][o+2]+_*t[w+1][o+2]+p*t[w+2][o+2]+S*t[w+3][o+2],r=m*t[w][o+3]+_*t[w+1][o+3]+p*t[w+2][o+3]+S*t[w+3][o+3],A[a]=y*s+3*(c*b*n+h*l*i)+u*r;return A}:e?function(A,o,w,b,f){var s,n,i,r,t,a;A||(A=[]),o*=3;var l=f*f,u=l*f,h=1-f,c=h*h,y=c*h;for(t=0;t<C.length;t++)s=(a=C[t])[w+1][o]-a[w][o],n=a[w+1][o+1]-a[w][o+1],i=a[w+1][o+2]-a[w][o+2],r=a[w+1][o+3]-a[w][o+3],A[t]=y*s+3*(c*f*n+h*l*i)+u*r;return A}:k?function(A,o,w,b,f){var s,n,i,r;A||(A=[]),w*=3;var t=1-b,a=f*f,l=1-f,u=l*l,h=l*f*2,c=-3*u,y=3*(u-h),d=3*(h-a),v=3*a;for(i=0;i<C.length;i++)s=c*(r=C[i])[w][o]+y*r[w+1][o]+d*r[w+2][o]+v*r[w+3][o],n=c*r[w][o+1]+y*r[w+1][o+1]+d*r[w+2][o+1]+v*r[w+3][o+1],A[i]=t*s+b*n;return A}:function(A,o,w,b,f){var s,n,i,r;A||(A=[]);var t=1-b;for(i=0;i<C.length;i++)s=(r=C[i])[w+1][o]-r[w][o],n=r[w+1][o+1]-r[w][o+1],A[i]=t*s+b*n;return A}}},29056:function(U){U.exports=function(C,e,k,A,o){var w=e-2,b=k-2;return A&&o?function(f,s,n){var i,r,t,a,l,u;f||(f=[]);var h=Math.max(0,Math.min(Math.floor(s),w)),c=Math.max(0,Math.min(Math.floor(n),b)),y=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-c));h*=3,c*=3;var v=y*y,g=v*y,x=1-y,m=x*x,_=m*x,p=d*d,S=p*d,T=1-d,E=T*T,O=E*T;for(u=0;u<C.length;u++)i=_*(l=C[u])[c][h]+3*(m*y*l[c][h+1]+x*v*l[c][h+2])+g*l[c][h+3],r=_*l[c+1][h]+3*(m*y*l[c+1][h+1]+x*v*l[c+1][h+2])+g*l[c+1][h+3],t=_*l[c+2][h]+3*(m*y*l[c+2][h+1]+x*v*l[c+2][h+2])+g*l[c+2][h+3],a=_*l[c+3][h]+3*(m*y*l[c+3][h+1]+x*v*l[c+3][h+2])+g*l[c+3][h+3],f[u]=O*i+3*(E*d*r+T*p*t)+S*a;return f}:A?function(f,s,n){f||(f=[]);var i,r,t,a,l,u,h=Math.max(0,Math.min(Math.floor(s),w)),c=Math.max(0,Math.min(Math.floor(n),b)),y=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-c));h*=3;var v=y*y,g=v*y,x=1-y,m=x*x,_=m*x,p=1-d;for(l=0;l<C.length;l++)i=p*(u=C[l])[c][h]+d*u[c+1][h],r=p*u[c][h+1]+d*u[c+1][h+1],t=p*u[c][h+2]+d*u[c+1][h+1],a=p*u[c][h+3]+d*u[c+1][h+1],f[l]=_*i+3*(m*y*r+x*v*t)+g*a;return f}:o?function(f,s,n){f||(f=[]);var i,r,t,a,l,u,h=Math.max(0,Math.min(Math.floor(s),w)),c=Math.max(0,Math.min(Math.floor(n),b)),y=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-c));c*=3;var v=d*d,g=v*d,x=1-d,m=x*x,_=m*x,p=1-y;for(l=0;l<C.length;l++)i=p*(u=C[l])[c][h]+y*u[c][h+1],r=p*u[c+1][h]+y*u[c+1][h+1],t=p*u[c+2][h]+y*u[c+2][h+1],a=p*u[c+3][h]+y*u[c+3][h+1],f[l]=_*i+3*(m*d*r+x*v*t)+g*a;return f}:function(f,s,n){f||(f=[]);var i,r,t,a,l=Math.max(0,Math.min(Math.floor(s),w)),u=Math.max(0,Math.min(Math.floor(n),b)),h=Math.max(0,Math.min(1,s-l)),c=Math.max(0,Math.min(1,n-u)),y=1-c,d=1-h;for(t=0;t<C.length;t++)i=d*(a=C[t])[u][l]+h*a[u][l+1],r=d*a[u+1][l]+h*a[u+1][l+1],f[t]=y*i+c*r;return f}}},38356:function(U,C,e){var k=e(3400),A=e(86411),o=e(93504),w=e(85720),b=e(22548);U.exports=function(f,s,n,i){function r(a,l){return k.coerce(f,s,w,a,l)}s._clipPathId="clip"+s.uid+"carpet";var t=r("color",b.defaultLine);k.coerceFont(r,"font",i.font),r("carpet"),o(f,s,i,r,t),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),A(f,s,r)||(s.visible=!1),s._cheater&&r("cheaterslope"),r("zorder")):s.visible=!1}},95856:function(U,C,e){U.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(U){U.exports=function(C,e){for(var k,A=C._fullData.length,o=0;o<A;o++){var w=C._fullData[o];if(w.index!==e.index&&w.type==="carpet"&&(k||(k=w),w.carpet===e.carpet))return w}return k}},53416:function(U){U.exports=function(C,e,k){if(C.length===0)return"";var A,o=[],w=k?3:1;for(A=0;A<C.length;A+=w)o.push(C[A]+","+e[A]),k&&A<C.length-w&&(o.push("C"),o.push([C[A+1]+","+e[A+1],C[A+2]+","+e[A+2]+" "].join(" ")));return o.join(k?"":"L")}},87072:function(U,C,e){var k=e(3400).isArrayOrTypedArray;U.exports=function(A,o,w){var b;for(k(A)?A.length>o.length&&(A=A.slice(0,o.length)):A=[],b=0;b<o.length;b++)A[b]=w(o[b]);return A}},15584:function(U){U.exports=function(C,e,k,A,o,w){var b=o[0]*C.dpdx(e),f=o[1]*C.dpdy(k),s=1,n=1;if(w){var i=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r=Math.sqrt(w[0]*w[0]+w[1]*w[1]),t=(o[0]*w[0]+o[1]*w[1])/i/r;n=Math.max(0,t)}var a=180*Math.atan2(f,b)/Math.PI;return a<-90?(a+=180,s=-s):a>90&&(a-=180,s=-s),{angle:a,flip:s,p:C.c2p(A,e,k),offsetMultplier:n}}},164:function(U,C,e){var k=e(33428),A=e(43616),o=e(87072),w=e(53416),b=e(15584),f=e(72736),s=e(3400),n=s.strRotate,i=s.strTranslate,r=e(84284);function t(c,y,d,v,g,x,m){var _="const-"+g+"-lines",p=d.selectAll("."+_).data(x);p.enter().append("path").classed(_,!0).style("vector-effect",m?"none":"non-scaling-stroke"),p.each(function(S){var T=S,E=T.x,O=T.y,P=o([],E,c.c2p),I=o([],O,y.c2p),R="M"+w(P,I,T.smoothing);k.select(this).attr("d",R).style("stroke-width",T.width).style("stroke",T.color).style("stroke-dasharray",A.dashStyle(T.dash,T.width)).style("fill","none")}),p.exit().remove()}function a(c,y,d,v,g,x,m,_){var p=x.selectAll("text."+_).data(m);p.enter().append("text").classed(_,!0);var S=0,T={};return p.each(function(E,O){var P;if(E.axis.tickangle==="auto")P=b(v,y,d,E.xy,E.dxy);else{var I=(E.axis.tickangle+180)*Math.PI/180;P=b(v,y,d,E.xy,[Math.cos(I),Math.sin(I)])}O||(T={angle:P.angle,flip:P.flip});var R=(E.endAnchor?-1:1)*P.flip,H=k.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(A.font,E.font).text(E.text).call(f.convertToTspans,c),z=A.bBox(this);H.attr("transform",i(P.p[0],P.p[1])+n(P.angle)+i(E.axis.labelpadding*R,.3*z.height)),S=Math.max(S,z.width+E.axis.labelpadding)}),p.exit().remove(),T.maxExtent=S,T}U.exports=function(c,y,d,v){var g=c._context.staticPlot,x=y.xaxis,m=y.yaxis,_=c._fullLayout._clips;s.makeTraceGroups(v,d,"trace").each(function(p){var S=k.select(this),T=p[0],E=T.trace,O=E.aaxis,P=E.baxis,I=s.ensureSingle(S,"g","minorlayer"),R=s.ensureSingle(S,"g","majorlayer"),H=s.ensureSingle(S,"g","boundarylayer"),z=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),t(x,m,R,0,"a",O._gridlines,!0),t(x,m,R,0,"b",P._gridlines,!0),t(x,m,I,0,"a",O._minorgridlines,!0),t(x,m,I,0,"b",P._minorgridlines,!0),t(x,m,H,0,"a-boundary",O._boundarylines,g),t(x,m,H,0,"b-boundary",P._boundarylines,g);var j=a(c,x,m,E,0,z,O._labels,"a-label"),Z=a(c,x,m,E,0,z,P._labels,"b-label");(function(F,V,W,re,ne,te,Q,$){var K,ae,ue,se,he=s.aggNums(Math.min,null,W.a),pe=s.aggNums(Math.max,null,W.a),de=s.aggNums(Math.min,null,W.b),xe=s.aggNums(Math.max,null,W.b);K=.5*(he+pe),ae=de,ue=W.ab2xy(K,ae,!0),se=W.dxyda_rough(K,ae),Q.angle===void 0&&s.extendFlat(Q,b(W,ne,te,ue,W.dxydb_rough(K,ae))),h(F,V,W,0,ue,se,W.aaxis,ne,te,Q,"a-title"),K=he,ae=.5*(de+xe),ue=W.ab2xy(K,ae,!0),se=W.dxydb_rough(K,ae),$.angle===void 0&&s.extendFlat($,b(W,ne,te,ue,W.dxyda_rough(K,ae))),h(F,V,W,0,ue,se,W.baxis,ne,te,$,"b-title")})(c,z,E,0,x,m,j,Z),function(F,V,W,re,ne){var te,Q,$,K,ae=W.select("#"+F._clipPathId);ae.size()||(ae=W.append("clipPath").classed("carpetclip",!0));var ue=s.ensureSingle(ae,"path","carpetboundary"),se=V.clipsegments,he=[];for(K=0;K<se.length;K++)te=se[K],Q=o([],te.x,re.c2p),$=o([],te.y,ne.c2p),he.push(w(Q,$,te.bicubic));var pe="M"+he.join("L")+"Z";ae.attr("id",F._clipPathId),ue.attr("d",pe)}(E,T,_,x,m)})};var l=r.LINE_SPACING,u=(1-r.MID_SHIFT)/l+1;function h(c,y,d,v,g,x,m,_,p,S,T){var E=[];m.title.text&&E.push(m.title.text);var O=y.selectAll("text."+T).data(E),P=S.maxExtent;O.enter().append("text").classed(T,!0),O.each(function(){var I=b(d,_,p,g,x);["start","both"].indexOf(m.showticklabels)===-1&&(P=0);var R=m.title.font.size;P+=R+m.title.offset;var H=(S.angle+(S.flip<0?180:0)-I.angle+450)%360,z=H>90&&H<270,j=k.select(this);j.text(m.title.text).call(f.convertToTspans,c),z&&(P=(-f.lineCount(j)+u)*l*R-P),j.attr("transform",i(I.p[0],I.p[1])+n(I.angle)+i(0,P)).attr("text-anchor","middle").call(A.font,m.title.font)}),O.exit().remove()}},81e3:function(U,C,e){var k=e(24588),A=e(14952).findBin,o=e(30180),w=e(29056),b=e(26435),f=e(24464);U.exports=function(s){var n=s._a,i=s._b,r=n.length,t=i.length,a=s.aaxis,l=s.baxis,u=n[0],h=n[r-1],c=i[0],y=i[t-1],d=n[n.length-1]-n[0],v=i[i.length-1]-i[0],g=d*k.RELATIVE_CULL_TOLERANCE,x=v*k.RELATIVE_CULL_TOLERANCE;u-=g,h+=g,c-=x,y+=x,s.isVisible=function(m,_){return m>u&&m<h&&_>c&&_<y},s.isOccluded=function(m,_){return m<u||m>h||_<c||_>y},s.setScale=function(){var m=s._x,_=s._y,p=o(s._xctrl,s._yctrl,m,_,a.smoothing,l.smoothing);s._xctrl=p[0],s._yctrl=p[1],s.evalxy=w([s._xctrl,s._yctrl],r,t,a.smoothing,l.smoothing),s.dxydi=b([s._xctrl,s._yctrl],a.smoothing,l.smoothing),s.dxydj=f([s._xctrl,s._yctrl],a.smoothing,l.smoothing)},s.i2a=function(m){var _=Math.max(0,Math.floor(m[0]),r-2),p=m[0]-_;return(1-p)*n[_]+p*n[_+1]},s.j2b=function(m){var _=Math.max(0,Math.floor(m[1]),r-2),p=m[1]-_;return(1-p)*i[_]+p*i[_+1]},s.ij2ab=function(m){return[s.i2a(m[0]),s.j2b(m[1])]},s.a2i=function(m){var _=Math.max(0,Math.min(A(m,n),r-2)),p=n[_],S=n[_+1];return Math.max(0,Math.min(r-1,_+(m-p)/(S-p)))},s.b2j=function(m){var _=Math.max(0,Math.min(A(m,i),t-2)),p=i[_],S=i[_+1];return Math.max(0,Math.min(t-1,_+(m-p)/(S-p)))},s.ab2ij=function(m){return[s.a2i(m[0]),s.b2j(m[1])]},s.i2c=function(m,_){return s.evalxy([],m,_)},s.ab2xy=function(m,_,p){if(!p&&(m<n[0]||m>n[r-1]|_<i[0]||_>i[t-1]))return[!1,!1];var S=s.a2i(m),T=s.b2j(_),E=s.evalxy([],S,T);if(p){var O,P,I,R,H=0,z=0,j=[];m<n[0]?(O=0,P=0,H=(m-n[0])/(n[1]-n[0])):m>n[r-1]?(O=r-2,P=1,H=(m-n[r-1])/(n[r-1]-n[r-2])):P=S-(O=Math.max(0,Math.min(r-2,Math.floor(S)))),_<i[0]?(I=0,R=0,z=(_-i[0])/(i[1]-i[0])):_>i[t-1]?(I=t-2,R=1,z=(_-i[t-1])/(i[t-1]-i[t-2])):R=T-(I=Math.max(0,Math.min(t-2,Math.floor(T)))),H&&(s.dxydi(j,O,I,P,R),E[0]+=j[0]*H,E[1]+=j[1]*H),z&&(s.dxydj(j,O,I,P,R),E[0]+=j[0]*z,E[1]+=j[1]*z)}return E},s.c2p=function(m,_,p){return[_.c2p(m[0]),p.c2p(m[1])]},s.p2x=function(m,_,p){return[_.p2c(m[0]),p.p2c(m[1])]},s.dadi=function(m){var _=Math.max(0,Math.min(n.length-2,m));return n[_+1]-n[_]},s.dbdj=function(m){var _=Math.max(0,Math.min(i.length-2,m));return i[_+1]-i[_]},s.dxyda=function(m,_,p,S){var T=s.dxydi(null,m,_,p,S),E=s.dadi(m,p);return[T[0]/E,T[1]/E]},s.dxydb=function(m,_,p,S){var T=s.dxydj(null,m,_,p,S),E=s.dbdj(_,S);return[T[0]/E,T[1]/E]},s.dxyda_rough=function(m,_,p){var S=d*(p||.1),T=s.ab2xy(m+S,_,!0),E=s.ab2xy(m-S,_,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},s.dxydb_rough=function(m,_,p){var S=v*(p||.1),T=s.ab2xy(m,_+S,!0),E=s.ab2xy(m,_-S,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},s.dpdx=function(m){return m._m},s.dpdy=function(m){return m._m}}},51512:function(U,C,e){var k=e(3400);U.exports=function(A,o,w){var b,f,s,n=[],i=[],r=A[0].length,t=A.length;function a(F,V){var W,re=0,ne=0;return F>0&&(W=A[V][F-1])!==void 0&&(ne++,re+=W),F<r-1&&(W=A[V][F+1])!==void 0&&(ne++,re+=W),V>0&&(W=A[V-1][F])!==void 0&&(ne++,re+=W),V<t-1&&(W=A[V+1][F])!==void 0&&(ne++,re+=W),re/Math.max(1,ne)}var l,u,h,c,y,d,v,g,x,m,_,p=0;for(b=0;b<r;b++)for(f=0;f<t;f++)A[f][b]===void 0&&(n.push(b),i.push(f),A[f][b]=a(b,f)),p=Math.max(p,Math.abs(A[f][b]));if(!n.length)return A;var S=0,T=0,E=n.length;do{for(S=0,s=0;s<E;s++){b=n[s],f=i[s];var O,P,I,R,H,z,j=0,Z=0;b===0?(I=o[H=Math.min(r-1,2)],R=o[1],O=A[f][H],Z+=(P=A[f][1])+(P-O)*(o[0]-R)/(R-I),j++):b===r-1&&(I=o[H=Math.max(0,r-3)],R=o[r-2],O=A[f][H],Z+=(P=A[f][r-2])+(P-O)*(o[r-1]-R)/(R-I),j++),(b===0||b===r-1)&&f>0&&f<t-1&&(l=w[f+1]-w[f],Z+=((u=w[f]-w[f-1])*A[f+1][b]+l*A[f-1][b])/(u+l),j++),f===0?(I=w[z=Math.min(t-1,2)],R=w[1],O=A[z][b],Z+=(P=A[1][b])+(P-O)*(w[0]-R)/(R-I),j++):f===t-1&&(I=w[z=Math.max(0,t-3)],R=w[t-2],O=A[z][b],Z+=(P=A[t-2][b])+(P-O)*(w[t-1]-R)/(R-I),j++),(f===0||f===t-1)&&b>0&&b<r-1&&(l=o[b+1]-o[b],Z+=((u=o[b]-o[b-1])*A[f][b+1]+l*A[f][b-1])/(u+l),j++),j?Z/=j:(h=o[b+1]-o[b],c=o[b]-o[b-1],g=(y=w[f+1]-w[f])*(d=w[f]-w[f-1])*(y+d),Z=((v=h*c*(h+c))*(d*A[f+1][b]+y*A[f-1][b])+g*(c*A[f][b+1]+h*A[f][b-1]))/(g*(c+h)+v*(d+y))),S+=(m=(x=Z-A[f][b])/p)*m,_=j?0:.85,A[f][b]+=x*(1+_)}S=Math.sqrt(S)}while(T++<100&&S>1e-5);return k.log("Smoother converged to",S,"after",T,"iterations"),A}},86411:function(U,C,e){var k=e(3400).isArray1D;U.exports=function(A,o,w){var b=w("x"),f=b&&b.length,s=w("y"),n=s&&s.length;if(!f&&!n)return!1;if(o._cheater=!b,f&&!k(b)||n&&!k(s))o._length=null;else{var i=f?b.length:1/0;n&&(i=Math.min(i,s.length)),o.a&&o.a.length&&(i=Math.min(i,o.a.length)),o.b&&o.b.length&&(i=Math.min(i,o.b.length)),o._length=i}return!0}},83372:function(U,C,e){var k=e(21776).Ks,A=e(6096),o=e(49084),w=e(45464),b=e(22548).defaultLine,f=e(92880).extendFlat,s=A.marker.line;U.exports=f({locations:{valType:"data_array",editType:"calc"},locationmode:A.locationmode,z:{valType:"data_array",editType:"calc"},geojson:f({},A.geojson,{}),featureidkey:A.featureidkey,text:f({},A.text,{}),hovertext:f({},A.hovertext,{}),marker:{line:{color:f({},s.color,{dflt:b}),width:f({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:A.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:f({},w.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:k(),showlegend:f({},w.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(U,C,e){var k=e(38248),A=e(39032).BADNUM,o=e(47128),w=e(20148),b=e(4500);function f(s){return s&&typeof s=="string"}U.exports=function(s,n){var i,r=n._length,t=new Array(r);i=n.geojson?function(c){return f(c)||k(c)}:f;for(var a=0;a<r;a++){var l=t[a]={},u=n.locations[a],h=n.z[a];i(u)&&k(h)?(l.loc=u,l.z=h):(l.loc=null,l.z=A),l.index=a}return w(t,n),o(s,n,{vals:n.z,containerStr:"",cLetter:"z"}),b(t,n),t}},30972:function(U,C,e){var k=e(3400),A=e(27260),o=e(83372);U.exports=function(w,b,f,s){function n(l,u){return k.coerce(w,b,o,l,u)}var i=n("locations"),r=n("z");if(i&&i.length&&k.isArrayOrTypedArray(r)&&r.length){b._length=Math.min(i.length,r.length);var t,a=n("geojson");(typeof a=="string"&&a!==""||k.isPlainObject(a))&&(t="geojson-id"),n("locationmode",t)==="geojson-id"&&n("featureidkey"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),A(w,b,s,n,{prefix:"",cLetter:"z"}),k.coerceSelectionMarkerOpacity(b,n)}else b.visible=!1}},52428:function(U){U.exports=function(C,e,k,A,o){C.location=e.location,C.z=e.z;var w=A[o];return w.fIn&&w.fIn.properties&&(C.properties=w.fIn.properties),C.ct=w.ct,C}},69224:function(U,C,e){var k=e(54460),A=e(83372),o=e(3400).fillText;U.exports=function(w,b,f){var s,n,i,r,t=w.cd,a=t[0].trace,l=w.subplot,u=[b,f],h=[b+360,f];for(n=0;n<t.length;n++)if(r=!1,(s=t[n])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(r=!r),s._polygons[i].contains(h)&&(r=!r);if(r)break}if(r&&s)return w.x0=w.x1=w.xa.c2p(s.ct),w.y0=w.y1=w.ya.c2p(s.ct),w.index=s.index,w.location=s.loc,w.z=s.z,w.zLabel=k.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,w.hovertemplate=s.hovertemplate,function(c,y,d){if(!y.hovertemplate){var v=d.hi||y.hoverinfo,g=String(d.loc),x=v==="all"?A.hoverinfo.flags:v.split("+"),m=x.indexOf("name")!==-1,_=x.indexOf("location")!==-1,p=x.indexOf("z")!==-1,S=x.indexOf("text")!==-1,T=[];!m&&_?c.nameOverride=g:(m&&(c.nameOverride=y.name),_&&T.push(g)),p&&T.push(c.zLabel),S&&o(d,y,T),c.extraText=T.join("<br>")}}(w,a,s),[w]}},54272:function(U,C,e){U.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(U,C,e){var k=e(33428),A=e(3400),o=e(27144),w=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,f=e(7947).style;U.exports={calcGeoJSON:function(s,n){for(var i=s[0].trace,r=n[i.geo],t=r._subplot,a=i.locationmode,l=i._length,u=a==="geojson-id"?o.extractTraceFeature(s):w(i,t.topojson),h=[],c=[],y=0;y<l;y++){var d=s[y],v=a==="geojson-id"?d.fOut:o.locationToFeature(a,d.loc,u);if(v){d.geojson=v,d.ct=v.properties.ct,d._polygons=o.feature2polygons(v);var g=o.computeBbox(v);h.push(g[0],g[2]),c.push(g[1],g[3])}else d.geojson=null}if(r.fitbounds==="geojson"&&a==="geojson-id"){var x=o.computeBbox(o.getTraceGeojson(i));h=[x[0],x[2]],c=[x[1],x[3]]}var m={padded:!0};i._extremes.lon=b(r.lonaxis._ax,h,m),i._extremes.lat=b(r.lataxis._ax,c,m)},plot:function(s,n,i){var r=n.layers.backplot.select(".choroplethlayer");A.makeTraceGroups(r,i,"trace choropleth").each(function(t){var a=k.select(this).selectAll("path.choroplethlocation").data(A.identity);a.enter().append("path").classed("choroplethlocation",!0),a.exit().remove(),f(s,t)})}}},17328:function(U){U.exports=function(C,e){var k,A,o,w,b,f=C.cd,s=C.xaxis,n=C.yaxis,i=[];if(e===!1)for(k=0;k<f.length;k++)f[k].selected=0;else for(k=0;k<f.length;k++)(o=(A=f[k]).ct)&&(w=s.c2p(o),b=n.c2p(o),e.contains([w,b],null,k,C)?(i.push({pointNumber:k,lon:o[0],lat:o[1]}),A.selected=1):A.selected=0);return i}},7947:function(U,C,e){var k=e(33428),A=e(76308),o=e(43616),w=e(8932);function b(f,s){var n=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),r=n.marker||{},t=r.line||{},a=w.makeColorScaleFuncFromTrace(n);i.each(function(l){k.select(this).attr("fill",a(l.z)).call(A.stroke,l.mlc||t.color).call(o.dashLine,"",l.mlw||t.width||0).style("opacity",r.opacity)}),o.selectedPointStyle(i,n)}U.exports={style:function(f,s){s&&b(0,s)},styleOnSelect:function(f,s){var n=s[0].node3,i=s[0].trace;i.selectedpoints?o.selectedPointStyle(n.selectAll(".choroplethlocation"),i):b(0,s)}}},45608:function(U,C,e){var k=e(83372),A=e(49084),o=e(21776).Ks,w=e(45464),b=e(92880).extendFlat;U.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},k.featureidkey,{}),below:{valType:"string",editType:"plot"},text:k.text,hovertext:k.hovertext,marker:{line:{color:b({},k.marker.line.color,{editType:"plot"}),width:b({},k.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},k.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},k.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},k.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:k.hoverinfo,hovertemplate:o({},{keys:["properties"]}),showlegend:b({},w.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(U,C,e){var k=e(38248),A=e(3400),o=e(8932),w=e(43616),b=e(44808).makeBlank,f=e(27144);function s(n){var i,r=n[0].trace,t=r._opts;if(r.selectedpoints){for(var a=w.makeSelectedPointStyleFns(r),l=0;l<n.length;l++){var u=n[l];u.fOut&&(u.fOut.properties.mo2=a.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=A.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return A.extendFlat(t.fill.paint,{"fill-opacity":i}),A.extendFlat(t.line.paint,{"line-opacity":i}),t}U.exports={convert:function(n){var i=n[0].trace,r=i.visible===!0&&i._length!==0,t={layout:{visibility:"none"},paint:{}},a={layout:{visibility:"none"},paint:{}},l=i._opts={fill:t,line:a,geojson:b()};if(!r)return l;var u=f.extractTraceFeature(n);if(!u)return l;var h,c,y,d=o.makeColorScaleFuncFromTrace(i),v=i.marker,g=v.line||{};A.isArrayOrTypedArray(v.opacity)&&(h=function(T){var E=T.mo;return k(E)?+A.constrain(E,0,1):0}),A.isArrayOrTypedArray(g.color)&&(c=function(T){return T.mlc}),A.isArrayOrTypedArray(g.width)&&(y=function(T){return T.mlw});for(var x=0;x<n.length;x++){var m=n[x],_=m.fOut;if(_){var p=_.properties;p.fc=d(m.z),h&&(p.mo=h(m)),c&&(p.mlc=c(m)),y&&(p.mlw=y(m)),m.ct=p.ct,m._polygons=f.feature2polygons(_)}}var S=h?{type:"identity",property:"mo"}:v.opacity;return A.extendFlat(t.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),A.extendFlat(a.paint,{"line-color":c?{type:"identity",property:"mlc"}:g.color,"line-width":y?{type:"identity",property:"mlw"}:g.width,"line-opacity":S}),t.layout.visibility="visible",a.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(n),l},convertOnSelect:s}},9352:function(U,C,e){var k=e(3400),A=e(27260),o=e(45608);U.exports=function(w,b,f,s){function n(a,l){return k.coerce(w,b,o,a,l)}var i=n("locations"),r=n("z"),t=n("geojson");k.isArrayOrTypedArray(i)&&i.length&&k.isArrayOrTypedArray(r)&&r.length&&(typeof t=="string"&&t!==""||k.isPlainObject(t))?(n("featureidkey"),b._length=Math.min(i.length,r.length),n("below"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),A(w,b,s,n,{prefix:"",cLetter:"z"}),k.coerceSelectionMarkerOpacity(b,n)):b.visible=!1}},85404:function(U,C,e){U.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(k,A){A&&A[0].trace._glTrace.updateOnSelect(A)},getBelow:function(k,A){for(var o=A.getMapLayers(),w=o.length-2;w>=0;w--){var b=o[w].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var f=w+1;f<o.length;f++)if(typeof(b=o[f].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(U,C,e){var k=e(13504).convert,A=e(13504).convertOnSelect,o=e(47552).traceLayerPrefix;function w(f,s){this.type="choroplethmapbox",this.subplot=f,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",o+s+"-fill"],["line",o+s+"-line"]],this.below=null}var b=w.prototype;b.update=function(f){this._update(k(f)),f[0].trace._glTrace=this},b.updateOnSelect=function(f){this._update(A(f))},b._update=function(f){var s=this.subplot,n=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(f.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(f,i),this.below=i);for(var r=0;r<n.length;r++){var t=n[r],a=t[0],l=t[1],u=f[a];s.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(f,s){for(var n=this.subplot,i=this.layerList,r=this.sourceId,t=0;t<i.length;t++){var a=i[t],l=a[0],u=f[l];n.addLayer({type:l,id:a[1],source:r,layout:u.layout,paint:u.paint},s)}},b._removeLayers=function(){for(var f=this.subplot.map,s=this.layerList,n=s.length-1;n>=0;n--)f.removeLayer(s[n][1])},b.dispose=function(){var f=this.subplot.map;this._removeLayers(),f.removeSource(this.sourceId)},U.exports=function(f,s){var n=s[0].trace,i=new w(f,n.uid),r=i.sourceId,t=k(s),a=i.below=f.belowLookup["trace-"+n.uid];return f.map.addSource(r,{type:"geojson",data:t.geojson}),i._addLayers(t,a),s[0].trace._glTrace=i,i}},86040:function(U,C,e){var k=e(49084),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["norm"]}),uhoverformat:A("u",1),vhoverformat:A("v",1),whoverformat:A("w",1),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,k("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){s[n]=w[n]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,U.exports=s},83344:function(U,C,e){var k=e(47128);U.exports=function(A,o){for(var w=o.u,b=o.v,f=o.w,s=Math.min(o.x.length,o.y.length,o.z.length,w.length,b.length,f.length),n=-1/0,i=1/0,r=0;r<s;r++){var t=w[r],a=b[r],l=f[r],u=Math.sqrt(t*t+a*a+l*l);n=Math.max(n,u),i=Math.min(i,u)}o._len=s,o._normMax=n,k(A,o,{vals:[i,n],containerStr:"",cLetter:"c"})}},6648:function(U,C,e){var k=e(67792).gl_cone3d,A=e(67792).gl_cone3d.createConeMesh,o=e(3400).simpleMap,w=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(3400).isArrayOrTypedArray,s=e(52094);function n(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var i=n.prototype;i.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,c=this.data.x[h],y=this.data.y[h],d=this.data.z[h],v=this.data.u[h],g=this.data.v[h],x=this.data.w[h];u.traceCoordinate=[c,y,d,v,g,x,Math.sqrt(v*v+g*g+x*x)];var m=this.data.hovertext||this.data.text;return f(m)&&m[h]!==void 0?u.textLabel=m[h]:m&&(u.textLabel=m),!0}};var r={xaxis:0,yaxis:1,zaxis:2},t={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function l(u,h){var c=u.fullSceneLayout,y=u.dataScale,d={};function v(p,S){var T=c[S],E=y[r[S]];return o(p,function(O){return T.d2l(O)*E})}d.vectors=s(v(h.u,"xaxis"),v(h.v,"yaxis"),v(h.w,"zaxis"),h._len),d.positions=s(v(h.x,"xaxis"),v(h.y,"yaxis"),v(h.z,"zaxis"),h._len);var g=b(h);d.colormap=w(h),d.vertexIntensityBounds=[g.min/h._normMax,g.max/h._normMax],d.coneOffset=t[h.anchor];var x=h.sizemode;x==="scaled"?d.coneSize=h.sizeref||.5:x==="absolute"?d.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:x==="raw"&&(d.coneSize=h.sizeref),d.coneSizemode=x;var m=k(d),_=h.lightposition;return m.lightPosition=[_.x,_.y,_.z],m.ambient=h.lighting.ambient,m.diffuse=h.lighting.diffuse,m.specular=h.lighting.specular,m.roughness=h.lighting.roughness,m.fresnel=h.lighting.fresnel,m.opacity=h.opacity,h._pad=a[h.anchor]*m.vectorScale*m.coneScale*h._normMax,m}i.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(u,h){var c=u.glplot.gl,y=l(u,h),d=A(c,y),v=new n(u,h.uid);return v.mesh=d,v.data=h,d._trace=v,u.glplot.add(d),v}},86096:function(U,C,e){var k=e(3400),A=e(27260),o=e(86040);U.exports=function(w,b,f,s){function n(c,y){return k.coerce(w,b,o,c,y)}var i=n("u"),r=n("v"),t=n("w"),a=n("x"),l=n("y"),u=n("z");if(i&&i.length&&r&&r.length&&t&&t.length&&a&&a.length&&l&&l.length&&u&&u.length){var h=n("sizemode");n("sizeref",h==="raw"?1:.5),n("anchor"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),A(w,b,s,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),b._length=null}else b.visible=!1}},26048:function(U,C,e){U.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(k,A){return k.norm=A.traceCoordinate[6],k},meta:{}}},67104:function(U,C,e){var k=e(83328),A=e(52904),o=e(29736),w=o.axisHoverFormat,b=o.descriptionOnlyNumbers,f=e(49084),s=e(98192).u,n=e(25376),i=e(92880).extendFlat,r=e(69104),t=r.COMPARISON_OPS2,a=r.INTERVAL_OPS,l=A.line;U.exports=i({z:k.z,x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,text:k.text,hovertext:k.hovertext,transpose:k.transpose,xtype:k.xtype,ytype:k.ytype,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:k.hovertemplate,texttemplate:i({},k.texttemplate,{}),textfont:i({},k.textfont,{}),hoverongaps:k.hoverongaps,connectgaps:i({},k.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:n({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(t).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},l.smoothing,{}),editType:"plot"},zorder:A.zorder},f("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(U,C,e){var k=e(8932),A=e(19512),o=e(54444),w=e(46960);U.exports=function(b,f){var s=A(b,f),n=s[0].z;o(f,n);var i,r=f.contours,t=k.extractOpts(f);if(r.coloring==="heatmap"&&t.auto&&f.autocontour===!1){var a=r.start,l=w(r),u=r.size||1,h=Math.floor((l-a)/u)+1;isFinite(u)||(u=1,h=1);var c=a-u/2;i=[c,c+h*u]}else i=n;return k.calc(b,f,{vals:i,cLetter:"z"}),s}},56008:function(U){U.exports=function(C,e){var k,A=C[0],o=A.z;switch(e.type){case"levels":var w=Math.min(o[0][0],o[0][1]);for(k=0;k<C.length;k++){var b=C[k];b.prefixBoundary=!b.edgepaths.length&&(w>b.level||b.starts.length&&w===b.level)}break;case"constraint":if(A.prefixBoundary=!1,A.edgepaths.length)return;var f=A.x.length,s=A.y.length,n=-1/0,i=1/0;for(k=0;k<s;k++)i=Math.min(i,o[k][0]),i=Math.min(i,o[k][f-1]),n=Math.max(n,o[k][0]),n=Math.max(n,o[k][f-1]);for(k=1;k<f-1;k++)i=Math.min(i,o[0][k]),i=Math.min(i,o[s-1][k]),n=Math.max(n,o[0][k]),n=Math.max(n,o[s-1][k]);var r,t,a=e.value;switch(e._operation){case">":a>n&&(A.prefixBoundary=!0);break;case"<":(a<i||A.starts.length&&a===i)&&(A.prefixBoundary=!0);break;case"[]":r=Math.min(a[0],a[1]),((t=Math.max(a[0],a[1]))<i||r>n||A.starts.length&&t===i)&&(A.prefixBoundary=!0);break;case"][":r=Math.min(a[0],a[1]),t=Math.max(a[0],a[1]),r<i&&t>n&&(A.prefixBoundary=!0)}}}},55296:function(U,C,e){var k=e(8932),A=e(41076),o=e(46960);U.exports={min:"zmin",max:"zmax",calc:function(w,b,f){var s=b.contours,n=b.line,i=s.size||1,r=s.coloring,t=A(b,{isColorbar:!0});if(r==="heatmap"){var a=k.extractOpts(b);f._fillgradient=a.reversescale?k.flipScale(a.colorscale):a.colorscale,f._zrange=[a.min,a.max]}else r==="fill"&&(f._fillcolor=t);f._line={color:r==="lines"?t:n.color,width:s.showlines!==!1?n.width:0,dash:n.dash},f._levels={start:s.start,end:o(s),size:i}}}},93252:function(U){U.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(U,C,e){var k=e(38248),A=e(17428),o=e(76308),w=o.addOpacity,b=o.opacity,f=e(69104),s=e(3400).isArrayOrTypedArray,n=f.CONSTRAINT_REDUCTION,i=f.COMPARISON_OPS2;U.exports=function(r,t,a,l,u,h){var c,y,d,v=t.contours,g=a("contours.operation");v._operation=n[g],function(x,m){var _;i.indexOf(m.operation)===-1?(x("contours.value",[0,1]),s(m.value)?m.value.length>2?m.value=m.value.slice(2):m.length===0?m.value=[0,1]:m.length<2?(_=parseFloat(m.value[0]),m.value=[_,_+1]):m.value=[parseFloat(m.value[0]),parseFloat(m.value[1])]:k(m.value)&&(_=parseFloat(m.value),m.value=[_,_+1])):(x("contours.value",0),k(m.value)||(s(m.value)?m.value=parseFloat(m.value[0]):m.value=0))}(a,v),g==="="?c=v.showlines=!0:(c=a("contours.showlines"),d=a("fillcolor",w((r.line||{}).color||u,.5))),c&&(y=a("line.color",d&&b(d)?w(t.fillcolor,1):u),a("line.width",2),a("line.dash")),a("line.smoothing"),A(a,l,y,h)}},3212:function(U,C,e){var k=e(69104),A=e(38248);function o(f,s){var n,i=Array.isArray(s);function r(t){return A(t)?+t:null}return k.COMPARISON_OPS2.indexOf(f)!==-1?n=r(i?s[0]:s):k.INTERVAL_OPS.indexOf(f)!==-1?n=i?[r(s[0]),r(s[1])]:[r(s),r(s)]:k.SET_OPS.indexOf(f)!==-1&&(n=i?s.map(r):[r(s)]),n}function w(f){return function(s){s=o(f,s);var n=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:n,end:i,size:i-n}}}function b(f){return function(s){return{start:s=o(f,s),end:1/0,size:1/0}}}U.exports={"[]":w("[]"),"][":w("]["),">":b(">"),"<":b("<"),"=":b("=")}},84952:function(U){U.exports=function(C,e,k,A){var o=A("contours.start"),w=A("contours.end"),b=o===!1||w===!1,f=k("contours.size");!(b?e.autocontour=!0:k("autocontour",!1))&&f||k("ncontours")}},82172:function(U,C,e){var k=e(3400);function A(o){return k.extendFlat({},o,{edgepaths:k.extendDeep([],o.edgepaths),paths:k.extendDeep([],o.paths),starts:k.extendDeep([],o.starts)})}U.exports=function(o,w){var b,f,s,n=function(t){return t.reverse()},i=function(t){return t};switch(w){case"=":case"<":return o;case">":for(o.length!==1&&k.warn("Contour data invalid for the specified inequality operation."),f=o[0],b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=n(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=n(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=n(f.starts[b]);return o;case"][":var r=n;n=i,i=r;case"[]":for(o.length!==2&&k.warn("Contour data invalid for the specified inequality range operation."),f=A(o[0]),s=A(o[1]),b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=n(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=n(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=n(f.starts[b]);for(;s.edgepaths.length;)f.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)f.paths.push(i(s.paths.shift()));for(;s.starts.length;)f.starts.push(i(s.starts.shift()));return[f]}}},57004:function(U,C,e){var k=e(3400),A=e(51264),o=e(31147),w=e(95536),b=e(84952),f=e(97680),s=e(39096),n=e(67104);U.exports=function(i,r,t,a){function l(h,c){return k.coerce(i,r,n,h,c)}if(A(i,r,l,a)){o(i,r,a,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",k.isArray1D(r.z)),u?w(i,r,l,a,t):(b(i,r,l,function(h){return k.coerce2(i,r,n,h)}),f(i,r,l,a)),r.contours&&r.contours.coloring==="heatmap"&&s(l,a),l("zorder")}else r.visible=!1}},61512:function(U,C,e){var k=e(3400),A=e(3212),o=e(46960);U.exports=function(w,b,f){for(var s=w.type==="constraint"?A[w._operation](w.value):w,n=s.size,i=[],r=o(s),t=f.trace._carpetTrace,a=t?{xaxis:t.aaxis,yaxis:t.baxis,x:f.a,y:f.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:f.x,y:f.y},l=s.start;l<r;l+=n)if(i.push(k.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:f.z,smoothing:f.trace.line.smoothing},a)),i.length>1e3){k.warn("Too many contours, clipping at 1000",w);break}return i}},46960:function(U){U.exports=function(C){return C.end+C.size/1e6}},88748:function(U,C,e){var k=e(3400),A=e(93252);function o(f,s,n,i){return Math.abs(f[0]-s[0])<n&&Math.abs(f[1]-s[1])<i}function w(f,s,n,i,r){var t,a=s.join(","),l=f.crossings[a],u=function(ae,ue,se){var he=0,pe=0;return ae>20&&ue?ae===208||ae===1114?he=se[0]===0?1:-1:pe=se[1]===0?1:-1:A.BOTTOMSTART.indexOf(ae)!==-1?pe=1:A.LEFTSTART.indexOf(ae)!==-1?he=1:A.TOPSTART.indexOf(ae)!==-1?pe=-1:he=-1,[he,pe]}(l,n,s),h=[b(f,s,[-u[0],-u[1]])],c=f.z.length,y=f.z[0].length,d=s.slice(),v=u.slice();for(t=0;t<1e4;t++){if(l>20?(l=A.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],f.crossings[a]=A.SADDLEREMAINDER[l]):delete f.crossings[a],!(u=A.NEWDELTA[l])){k.log("Found bad marching index:",l,s,f.level);break}h.push(b(f,s,u)),s[0]+=u[0],s[1]+=u[1],a=s.join(","),o(h[h.length-1],h[h.length-2],i,r)&&h.pop();var g=u[0]&&(s[0]<0||s[0]>y-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===d[0]&&s[1]===d[1]&&u[0]===v[0]&&u[1]===v[1]||n&&g)break;l=f.crossings[a]}t===1e4&&k.log("Infinite loop in contour?");var x,m,_,p,S,T,E,O,P,I,R,H,z,j,Z,F=o(h[0],h[h.length-1],i,r),V=0,W=.2*f.smoothing,re=[],ne=0;for(t=1;t<h.length;t++)H=h[t],z=h[t-1],j=H[2]-z[2],Z=H[3]-z[3],V+=E=Math.sqrt(j*j+Z*Z),re.push(E);var te=V/re.length*W;function Q(ae){return h[ae%h.length]}for(t=h.length-2;t>=ne;t--)if((x=re[t])<te){for(_=0,m=t-1;m>=ne&&x+re[m]<te;m--)x+=re[m];if(F&&t===h.length-2)for(_=0;_<m&&x+re[_]<te;_++)x+=re[_];S=t-m+_+1,T=Math.floor((t+m+_+2)/2),p=F||t!==h.length-2?F||m!==-1?S%2?Q(T):[(Q(T)[0]+Q(T+1)[0])/2,(Q(T)[1]+Q(T+1)[1])/2]:h[0]:h[h.length-1],h.splice(m+1,t-m+1,p),t=m+1,_&&(ne=_),F&&(t===h.length-2?h[_]=h[h.length-1]:t===0&&(h[h.length-1]=h[0]))}for(h.splice(0,ne),t=0;t<h.length;t++)h[t].length=2;if(!(h.length<2))if(F)h.pop(),f.paths.push(h);else{n||k.log("Unclosed interior contour?",f.level,d.join(","),h.join("L"));var $=!1;for(O=0;O<f.edgepaths.length;O++)if(I=f.edgepaths[O],!$&&o(I[0],h[h.length-1],i,r)){h.pop(),$=!0;var K=!1;for(P=0;P<f.edgepaths.length;P++)if(o((R=f.edgepaths[P])[R.length-1],h[0],i,r)){K=!0,h.shift(),f.edgepaths.splice(O,1),P===O?f.paths.push(h.concat(R)):(P>O&&P--,f.edgepaths[P]=R.concat(h,I));break}K||(f.edgepaths[O]=h.concat(I))}for(O=0;O<f.edgepaths.length&&!$;O++)o((I=f.edgepaths[O])[I.length-1],h[0],i,r)&&(h.shift(),f.edgepaths[O]=I.concat(h),$=!0);$||f.edgepaths.push(h)}}function b(f,s,n){var i=s[0]+Math.max(n[0],0),r=s[1]+Math.max(n[1],0),t=f.z[r][i],a=f.xaxis,l=f.yaxis;if(n[1]){var u=(f.level-t)/(f.z[r][i+1]-t),h=(u!==1?(1-u)*a.c2l(f.x[i]):0)+(u!==0?u*a.c2l(f.x[i+1]):0);return[a.c2p(a.l2c(h),!0),l.c2p(f.y[r],!0),i+u,r]}var c=(f.level-t)/(f.z[r+1][i]-t),y=(c!==1?(1-c)*l.c2l(f.y[r]):0)+(c!==0?c*l.c2l(f.y[r+1]):0);return[a.c2p(f.x[i],!0),l.c2p(l.l2c(y),!0),i,r+c]}U.exports=function(f,s,n){var i,r,t,a;for(s=s||.01,n=n||.01,r=0;r<f.length;r++){for(t=f[r],a=0;a<t.starts.length;a++)w(t,t.starts[a],"edge",s,n);for(i=0;Object.keys(t.crossings).length&&i<1e4;)i++,w(t,Object.keys(t.crossings)[0].split(",").map(Number),void 0,s,n);i===1e4&&k.log("Infinite loop in contour?")}}},38200:function(U,C,e){var k=e(76308),A=e(55512);U.exports=function(o,w,b,f,s){s||(s={}),s.isContour=!0;var n=A(o,w,b,f,s);return n&&n.forEach(function(i){var r=i.trace;r.contours.type==="constraint"&&(r.fillcolor&&k.opacity(r.fillcolor)?i.color=k.addOpacity(r.fillcolor,1):r.contours.showlines&&k.opacity(r.line.color)&&(i.color=k.addOpacity(r.line.color,1)))}),n}},66240:function(U,C,e){U.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(U,C,e){var k=e(3400);U.exports=function(A,o,w,b){if(b||(b={}),A("contours.showlabels")){var f=o.font;k.coerceFont(A,"contours.labelfont",f,{overrideDflt:{color:w}}),A("contours.labelformat")}b.hasHover!==!1&&A("zhoverformat")}},41076:function(U,C,e){var k=e(33428),A=e(8932),o=e(46960);U.exports=function(w){var b=w.contours,f=b.start,s=o(b),n=b.size||1,i=Math.floor((s-f)/n)+1,r=b.coloring==="lines"?0:1,t=A.extractOpts(w);isFinite(n)||(n=1,i=1);var a,l,u=t.reversescale?A.flipScale(t.colorscale):t.colorscale,h=u.length,c=new Array(h),y=new Array(h),d=t.min,v=t.max;if(b.coloring==="heatmap"){for(l=0;l<h;l++)a=u[l],c[l]=a[0]*(v-d)+d,y[l]=a[1];var g=k.extent([d,v,b.start,b.start+n*(i-1)]),x=g[d<v?0:1],m=g[d<v?1:0];x!==d&&(c.splice(0,0,x),y.splice(0,0,y[0])),m!==v&&(c.push(m),y.push(y[y.length-1]))}else{var _=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(_&&(f<=d||s>=v)&&(f<=d&&(f=d),s>=v&&(s=v),i=Math.floor((s-f)/n)+1,r=0),l=0;l<h;l++)a=u[l],c[l]=(a[0]*(i+r-1)-r/2)*n+f,y[l]=a[1];(_||w.autocontour)&&(c[0]>d&&(c.unshift(d),y.unshift(y[0])),c[c.length-1]<v&&(c.push(v),y.push(y[y.length-1])))}return A.makeColorScaleFunc({domain:c,range:y},{noNumericCheck:!0})}},72424:function(U,C,e){var k=e(93252);function A(o,w){var b=(w[0][0]>o?0:1)+(w[0][1]>o?0:2)+(w[1][1]>o?0:4)+(w[1][0]>o?0:8);return b===5||b===10?o>(w[0][0]+w[0][1]+w[1][0]+w[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}U.exports=function(o){var w,b,f,s,n,i,r,t,a,l=o[0].z,u=l.length,h=l[0].length,c=u===2||h===2;for(b=0;b<u-1;b++)for(s=[],b===0&&(s=s.concat(k.BOTTOMSTART)),b===u-2&&(s=s.concat(k.TOPSTART)),w=0;w<h-1;w++)for(f=s.slice(),w===0&&(f=f.concat(k.LEFTSTART)),w===h-2&&(f=f.concat(k.RIGHTSTART)),n=w+","+b,i=[[l[b][w],l[b][w+1]],[l[b+1][w],l[b+1][w+1]]],a=0;a<o.length;a++)(r=A((t=o[a]).level,i))&&(t.crossings[n]=r,f.indexOf(r)!==-1&&(t.starts.push([w,b]),c&&f.indexOf(r,f.indexOf(r)+1)!==-1&&t.starts.push([w,b])))}},23676:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(8932),b=e(72736),f=e(54460),s=e(78344),n=e(41420),i=e(72424),r=e(88748),t=e(61512),a=e(82172),l=e(56008),u=e(93252),h=u.LABELOPTIMIZER;function c(v,g){var x,m,_,p,S,T,E,O="",P=0,I=v.edgepaths.map(function(F,V){return V}),R=!0;function H(F){return Math.abs(F[1]-g[2][1])<.01}function z(F){return Math.abs(F[0]-g[0][0])<.01}function j(F){return Math.abs(F[0]-g[2][0])<.01}for(;I.length;){for(T=o.smoothopen(v.edgepaths[P],v.smoothing),O+=R?T:T.replace(/^M/,"L"),I.splice(I.indexOf(P),1),x=v.edgepaths[P][v.edgepaths[P].length-1],p=-1,_=0;_<4;_++){if(!x){A.log("Missing end?",P,v);break}for(E=x,Math.abs(E[1]-g[0][1])<.01&&!j(x)?m=g[1]:z(x)?m=g[0]:H(x)?m=g[3]:j(x)&&(m=g[2]),S=0;S<v.edgepaths.length;S++){var Z=v.edgepaths[S][0];Math.abs(x[0]-m[0])<.01?Math.abs(x[0]-Z[0])<.01&&(Z[1]-x[1])*(m[1]-Z[1])>=0&&(m=Z,p=S):Math.abs(x[1]-m[1])<.01?Math.abs(x[1]-Z[1])<.01&&(Z[0]-x[0])*(m[0]-Z[0])>=0&&(m=Z,p=S):A.log("endpt to newendpt is not vert. or horz.",x,m,Z)}if(x=m,p>=0)break;O+="L"+m}if(p===v.edgepaths.length){A.log("unclosed perimeter path");break}P=p,(R=I.indexOf(P)===-1)&&(P=I[0],O+="Z")}for(P=0;P<v.paths.length;P++)O+=o.smoothclosed(v.paths[P],v.smoothing);return O}function y(v,g,x,m){var _=g.width/2,p=g.height/2,S=v.x,T=v.y,E=v.theta,O=Math.cos(E)*_,P=Math.sin(E)*_,I=(S>m.center?m.right-S:S-m.left)/(O+Math.abs(Math.sin(E)*p)),R=(T>m.middle?m.bottom-T:T-m.top)/(Math.abs(P)+Math.cos(E)*p);if(I<1||R<1)return 1/0;var H=h.EDGECOST*(1/(I-1)+1/(R-1));H+=h.ANGLECOST*E*E;for(var z=S-O,j=T-P,Z=S+O,F=T+P,V=0;V<x.length;V++){var W=x[V],re=Math.cos(W.theta)*W.width/2,ne=Math.sin(W.theta)*W.width/2,te=2*A.segmentDistance(z,j,Z,F,W.x-re,W.y-ne,W.x+re,W.y+ne)/(g.height+W.height),Q=W.level===g.level,$=Q?h.SAMELEVELDISTANCE:1;if(te<=$)return 1/0;H+=h.NEIGHBORCOST*(Q?h.SAMELEVELFACTOR:1)/(te-$)}return H}function d(v){var g,x,m=v.trace._emptypoints,_=[],p=v.z.length,S=v.z[0].length,T=[];for(g=0;g<S;g++)T.push(1);for(g=0;g<p;g++)_.push(T.slice());for(g=0;g<m.length;g++)_[(x=m[g])[0]][x[1]]=0;return v.zmask=_,_}C.plot=function(v,g,x,m){var _=g.xaxis,p=g.yaxis;A.makeTraceGroups(m,x,"contour").each(function(S){var T=k.select(this),E=S[0],O=E.trace,P=E.x,I=E.y,R=O.contours,H=t(R,g,E),z=A.ensureSingle(T,"g","heatmapcoloring"),j=[];R.coloring==="heatmap"&&(j=[S]),n(v,g,j,z),i(H),r(H);var Z=_.c2p(P[0],!0),F=_.c2p(P[P.length-1],!0),V=p.c2p(I[0],!0),W=p.c2p(I[I.length-1],!0),re=[[Z,W],[F,W],[F,V],[Z,V]],ne=H;R.type==="constraint"&&(ne=a(H,R._operation)),function(te,Q,$){var K=A.ensureSingle(te,"g","contourbg").selectAll("path").data($.coloring==="fill"?[0]:[]);K.enter().append("path"),K.exit().remove(),K.attr("d","M"+Q.join("L")+"Z").style("stroke","none")}(T,re,R),function(te,Q,$,K){var ae=K.coloring==="fill"||K.type==="constraint"&&K._operation!=="=",ue="M"+$.join("L")+"Z";ae&&l(Q,K);var se=A.ensureSingle(te,"g","contourfill").selectAll("path").data(ae?Q:[]);se.enter().append("path"),se.exit().remove(),se.each(function(he){var pe=(he.prefixBoundary?ue:"")+c(he,$);pe?k.select(this).attr("d",pe).style("stroke","none"):k.select(this).remove()})}(T,ne,re,R),function(te,Q,$,K,ae){var ue=$._context.staticPlot,se=A.ensureSingle(te,"g","contourlines"),he=ae.showlines!==!1,pe=ae.showlabels,de=he&&pe,xe=C.createLines(se,he||pe,Q,ue),_e=C.createLineClip(se,de,$,K.trace.uid),be=te.selectAll("g.contourlabels").data(pe?[0]:[]);if(be.exit().remove(),be.enter().append("g").classed("contourlabels",!0),pe){var Le=[],De=[];A.clearLocationCache();var ye=C.labelFormatter($,K),le=o.tester.append("text").attr("data-notex",1).call(o.font,ae.labelfont),oe=Q[0].xaxis,ve=Q[0].yaxis,Ce=oe._length,ke=ve._length,Ae=oe.range,Ee=ve.range,ze=A.aggNums(Math.min,null,K.x),Fe=A.aggNums(Math.max,null,K.x),ge=A.aggNums(Math.min,null,K.y),Te=A.aggNums(Math.max,null,K.y),Se=Math.max(oe.c2p(ze,!0),0),Re=Math.min(oe.c2p(Fe,!0),Ce),Pe=Math.max(ve.c2p(Te,!0),0),Ve=Math.min(ve.c2p(ge,!0),ke),We={};Ae[0]<Ae[1]?(We.left=Se,We.right=Re):(We.left=Re,We.right=Se),Ee[0]<Ee[1]?(We.top=Pe,We.bottom=Ve):(We.top=Ve,We.bottom=Pe),We.middle=(We.top+We.bottom)/2,We.center=(We.left+We.right)/2,Le.push([[We.left,We.top],[We.right,We.top],[We.right,We.bottom],[We.left,We.bottom]]);var Qe=Math.sqrt(Ce*Ce+ke*ke),lt=u.LABELDISTANCE*Qe/Math.max(1,Q.length/u.LABELINCREASE);xe.each(function(ut){var xt=C.calcTextOpts(ut.level,ye,le,$);k.select(this).selectAll("path").each(function(){var _t=A.getVisibleSegment(this,We,xt.height/2);if(_t&&!(_t.len<(xt.width+xt.height)*u.LABELMIN))for(var mt=Math.min(Math.ceil(_t.len/lt),u.LABELMAX),it=0;it<mt;it++){var nt=C.findBestTextLocation(this,_t,xt,De,We);if(!nt)break;C.addLabelData(nt,xt,De,Le)}})}),le.remove(),C.drawLabels(be,De,$,_e,de?Le:null)}pe&&!he&&xe.remove()}(T,H,v,E,R),function(te,Q,$,K,ae){var ue=K.trace,se=$._fullLayout._clips,he="clip"+ue.uid,pe=se.selectAll("#"+he).data(ue.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",he),pe.exit().remove(),ue.connectgaps===!1){var de={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Q.xaxis,yaxis:Q.yaxis,x:K.x,y:K.y,z:d(K),smoothing:0};i([de]),r([de]),l([de],{type:"levels"}),A.ensureSingle(pe,"path","").attr("d",(de.prefixBoundary?"M"+ae.join("L")+"Z":"")+c(de,ae))}else he=null;o.setClipUrl(te,he,$)}(T,g,v,E,re)})},C.createLines=function(v,g,x,m){var _=x[0].smoothing,p=v.selectAll("g.contourlevel").data(g?x:[]);if(p.exit().remove(),p.enter().append("g").classed("contourlevel",!0),g){var S=p.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return o.smoothopen(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var T=p.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});T.exit().remove(),T.enter().append("path").classed("closedline",!0),T.attr("d",function(E){return o.smoothclosed(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return p},C.createLineClip=function(v,g,x,m){var _=g?"clipline"+m:null,p=x._fullLayout._clips.selectAll("#"+_).data(g?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),o.setClipUrl(v,_,x),p},C.labelFormatter=function(v,g){var x=v._fullLayout,m=g.trace,_=m.contours,p={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(_.labelformat)p.tickformat=_.labelformat,s(p,x);else{var S=w.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)p=S.colorbar._axis;else{if(_.type==="constraint"){var T=_.value;A.isArrayOrTypedArray(T)?p.range=[T[0],T[T.length-1]]:p.range=[T,T]}else p.range=[_.start,_.end],p.nticks=(_.end-_.start)/_.size;p.range[0]===p.range[1]&&(p.range[1]+=p.range[0]||1),p.nticks||(p.nticks=1e3),s(p,x),f.prepTicks(p),p._tmin=null,p._tmax=null}}return function(E){return f.tickText(p,E).text}},C.calcTextOpts=function(v,g,x,m){var _=g(v);x.text(_).call(b.convertToTspans,m);var p=x.node(),S=o.bBox(p,!0);return{text:_,width:S.width,height:S.height,fontSize:+p.style["font-size"].replace("px",""),level:v,dy:(S.top+S.bottom)/2}},C.findBestTextLocation=function(v,g,x,m,_){var p,S,T,E,O,P=x.width;g.isClosed?(S=g.len/h.INITIALSEARCHPOINTS,p=g.min+S/2,T=g.max):(S=(g.len-P)/(h.INITIALSEARCHPOINTS+1),p=g.min+S+P/2,T=g.max-(S+P)/2);for(var I=1/0,R=0;R<h.ITERATIONS;R++){for(var H=p;H<T;H+=S){var z=A.getTextLocation(v,g.total,H,P),j=y(z,x,m,_);j<I&&(I=j,O=z,E=H)}if(I>2*h.MAXCOST)break;R&&(S/=2),T=(p=E-S/2)+1.5*S}if(I<=h.MAXCOST)return O},C.addLabelData=function(v,g,x,m){var _=g.fontSize,p=g.width+_/3,S=Math.max(0,g.height-_/3),T=v.x,E=v.y,O=v.theta,P=Math.sin(O),I=Math.cos(O),R=function(z,j){return[T+z*I-j*P,E+z*P+j*I]},H=[R(-p/2,-S/2),R(-p/2,S/2),R(p/2,S/2),R(p/2,-S/2)];x.push({text:g.text,x:T,y:E,dy:g.dy,theta:O,level:g.level,width:p,height:S}),m.push(H)},C.drawLabels=function(v,g,x,m,_){var p=v.selectAll("text").data(g,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(p.exit().remove(),p.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var O=E.x+Math.sin(E.theta)*E.dy,P=E.y-Math.cos(E.theta)*E.dy;k.select(this).text(E.text).attr({x:O,y:P,transform:"rotate("+180*E.theta/Math.PI+" "+O+" "+P+")"}).call(b.convertToTspans,x)}),_){for(var S="",T=0;T<_.length;T++)S+="M"+_[T].join("L")+"Z";A.ensureSingle(m,"path","").attr("d",S)}}},54444:function(U,C,e){var k=e(54460),A=e(3400);function o(w,b,f){var s={type:"linear",range:[w,b]};return k.autoTicks(s,(b-w)/(f||15)),s}U.exports=function(w,b){var f=w.contours;if(w.autocontour){var s=w.zmin,n=w.zmax;(w.zauto||s===void 0)&&(s=A.aggNums(Math.min,null,b)),(w.zauto||n===void 0)&&(n=A.aggNums(Math.max,null,b));var i=o(s,n,w.ncontours);f.size=i.dtick,f.start=k.tickFirst(i),i.range.reverse(),f.end=k.tickFirst(i),f.start===s&&(f.start+=f.size),f.end===n&&(f.end-=f.size),f.start>f.end&&(f.start=f.end=(f.start+f.end)/2),w._input.contours||(w._input.contours={}),A.extendFlat(w._input.contours,{start:f.start,end:f.end,size:f.size}),w._input.autocontour=!0}else if(f.type!=="constraint"){var r,t=f.start,a=f.end,l=w._input.contours;t>a&&(f.start=l.start=a,a=f.end=l.end=t,t=f.start),f.size>0||(r=t===a?1:o(t,a,w.ncontours).dtick,l.size=f.size=r)}}},52440:function(U,C,e){var k=e(33428),A=e(43616),o=e(41648),w=e(41076);U.exports=function(b){var f=k.select(b).selectAll("g.contour");f.style("opacity",function(s){return s[0].trace.opacity}),f.each(function(s){var n=k.select(this),i=s[0].trace,r=i.contours,t=i.line,a=r.size||1,l=r.start,u=r.type==="constraint",h=!u&&r.coloring==="lines",c=!u&&r.coloring==="fill",y=h||c?w(i):null;n.selectAll("g.contourlevel").each(function(g){k.select(this).selectAll("path").call(A.lineGroupStyle,t.width,h?y(g.level):t.color,t.dash)});var d=r.labelfont;if(n.selectAll("g.contourlabels text").each(function(g){A.font(k.select(this),{weight:d.weight,style:d.style,variant:d.variant,textcase:d.textcase,lineposition:d.lineposition,shadow:d.shadow,family:d.family,size:d.size,color:d.color||(h?y(g.level):t.color)})}),u)n.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var v;n.selectAll("g.contourfill path").style("fill",function(g){return v===void 0&&(v=g.level),y(g.level+.5*a)}),v===void 0&&(v=l),n.selectAll("g.contourbg path").style("fill",y(v-.5*a))}}),o(b)}},97680:function(U,C,e){var k=e(27260),A=e(17428);U.exports=function(o,w,b,f,s){var n,i=b("contours.coloring"),r="";i==="fill"&&(n=b("contours.showlines")),n!==!1&&(i!=="lines"&&(r=b("line.color","#000")),b("line.width",.5),b("line.dash")),i!=="none"&&(o.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,k(o,w,f,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),A(b,f,r,s)}},37960:function(U,C,e){var k=e(83328),A=e(67104),o=e(49084),w=e(92880).extendFlat,b=A.contours;U.exports=w({carpet:{valType:"string",editType:"calc"},z:k.z,a:k.x,a0:k.x0,da:k.dx,b:k.y,b0:k.y0,db:k.dy,text:k.text,hovertext:k.hovertext,transpose:k.transpose,atype:k.xtype,btype:k.ytype,fillcolor:A.fillcolor,autocontour:A.autocontour,ncontours:A.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:A.line.color,width:A.line.width,dash:A.line.dash,smoothing:A.line.smoothing,editType:"plot"},zorder:A.zorder,transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},30572:function(U,C,e){var k=e(47128),A=e(3400),o=e(2872),w=e(26136),b=e(70448),f=e(11240),s=e(35744),n=e(3252),i=e(50948),r=e(54444);U.exports=function(t,a){var l=a._carpetTrace=i(t,a);if(l&&l.visible&&l.visible!=="legendonly"){if(!a.a||!a.b){var u=t.data[l.index],h=t.data[a.index];h.a||(h.a=u.a),h.b||(h.b=u.b),n(h,a,a._defaultColor,t._fullLayout)}var c=function(y,d){var v,g,x,m,_,p,S,T=d._carpetTrace,E=T.aaxis,O=T.baxis;E._minDtick=0,O._minDtick=0,A.isArray1D(d.z)&&o(d,E,O,"a","b",["z"]),v=d._a=d._a||d.a,m=d._b=d._b||d.b,v=v?E.makeCalcdata(d,"_a"):[],m=m?O.makeCalcdata(d,"_b"):[],g=d.a0||0,x=d.da||1,_=d.b0||0,p=d.db||1,S=d._z=w(d._z||d.z,d.transpose),d._emptypoints=f(S),b(S,d._emptypoints);var P=A.maxRowLength(S),I=d.xtype==="scaled"?"":v,R=s(d,I,g,x,P,E),H=d.ytype==="scaled"?"":m,z={a:R,b:s(d,H,_,p,S.length,O),z:S};return d.contours.type==="levels"&&d.contours.coloring!=="none"&&k(y,d,{vals:S,containerStr:"",cLetter:"z"}),[z]}(t,a);return r(a,a._z),c}}},3252:function(U,C,e){var k=e(3400),A=e(51264),o=e(37960),w=e(95536),b=e(84952),f=e(97680);U.exports=function(s,n,i,r){function t(a,l){return k.coerce(s,n,o,a,l)}if(t("carpet"),s.a&&s.b){if(!A(s,n,t,r,"a","b"))return void(n.visible=!1);t("text"),t("contours.type")==="constraint"?w(s,n,t,r,i,{hasHover:!1}):(b(s,n,t,function(a){return k.coerce2(s,n,o,a)}),f(s,n,t,r,{hasHover:!1}))}else n._defaultColor=i,n._length=null;t("zorder")}},40448:function(U,C,e){U.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(U,C,e){var k=e(33428),A=e(87072),o=e(53416),w=e(43616),b=e(3400),f=e(72424),s=e(88748),n=e(23676),i=e(93252),r=e(82172),t=e(61512),a=e(56008),l=e(50948),u=e(77712);function h(d,v,g){var x=d.getPointAtLength(v),m=d.getPointAtLength(g),_=m.x-x.x,p=m.y-x.y,S=Math.sqrt(_*_+p*p);return[_/S,p/S]}function c(d){var v=Math.sqrt(d[0]*d[0]+d[1]*d[1]);return[d[0]/v,d[1]/v]}function y(d,v){var g=Math.abs(d[0]*v[0]+d[1]*v[1]);return Math.sqrt(1-g*g)/g}U.exports=function(d,v,g,x){var m=v.xaxis,_=v.yaxis;b.makeTraceGroups(x,g,"contour").each(function(p){var S=k.select(this),T=p[0],E=T.trace,O=E._carpetTrace=l(d,E),P=d.calcdata[O.index][0];if(O.visible&&O.visible!=="legendonly"){var I=T.a,R=T.b,H=E.contours,z=t(H,v,T),j=H.type==="constraint",Z=H._operation,F=j?Z==="="?"lines":"fill":H.coloring,V=[[I[0],R[R.length-1]],[I[I.length-1],R[R.length-1]],[I[I.length-1],R[0]],[I[0],R[0]]];f(z);var W=1e-8*(I[I.length-1]-I[0]),re=1e-8*(R[R.length-1]-R[0]);s(z,W,re);var ne,te,Q,$,K=z;H.type==="constraint"&&(K=r(z,Z)),function(he,pe){var de,xe,_e,be,Le,De,ye,le,oe;for(de=0;de<he.length;de++){for(Le=(be=he[de]).pedgepaths=[],De=be.ppaths=[],xe=0;xe<be.edgepaths.length;xe++){for(oe=be.edgepaths[xe],ye=[],_e=0;_e<oe.length;_e++)ye[_e]=pe(oe[_e]);Le.push(ye)}for(xe=0;xe<be.paths.length;xe++){for(oe=be.paths[xe],le=[],_e=0;_e<oe.length;_e++)le[_e]=pe(oe[_e]);De.push(le)}}}(z,se);var ae=[];for($=P.clipsegments.length-1;$>=0;$--)ne=P.clipsegments[$],te=A([],ne.x,m.c2p),Q=A([],ne.y,_.c2p),te.reverse(),Q.reverse(),ae.push(o(te,Q,ne.bicubic));var ue="M"+ae.join("L")+"Z";(function(he,pe,de,xe,_e,be){var Le,De,ye,le,oe=b.ensureSingle(he,"g","contourbg").selectAll("path").data(be!=="fill"||_e?[]:[0]);oe.enter().append("path"),oe.exit().remove();var ve=[];for(le=0;le<pe.length;le++)Le=pe[le],De=A([],Le.x,de.c2p),ye=A([],Le.y,xe.c2p),ve.push(o(De,ye,Le.bicubic));oe.attr("d","M"+ve.join("L")+"Z").style("stroke","none")})(S,P.clipsegments,m,_,j,F),function(he,pe,de,xe,_e,be,Le,De,ye,le,oe){var ve=le==="fill";ve&&a(_e,he.contours);var Ce=b.ensureSingle(pe,"g","contourfill").selectAll("path").data(ve?_e:[]);Ce.enter().append("path"),Ce.exit().remove(),Ce.each(function(ke){var Ae=(ke.prefixBoundary?oe:"")+function(Ee,ze,Fe,ge,Te,Se,Re,Pe){var Ve,We,Qe,lt,ut,xt,_t,mt="",it=ze.edgepaths.map(function(ot,je){return je}),nt=!0,Et=1e-4*Math.abs(Fe[0][0]-Fe[2][0]),Rt=1e-4*Math.abs(Fe[0][1]-Fe[2][1]);function Ft(ot){return Math.abs(ot[1]-Fe[0][1])<Rt}function Pt(ot){return Math.abs(ot[1]-Fe[2][1])<Rt}function Ze(ot){return Math.abs(ot[0]-Fe[0][0])<Et}function $e(ot){return Math.abs(ot[0]-Fe[2][0])<Et}function He(ot,je){var Ue,st,Ke,gt,yt="";for(Ft(ot)&&!$e(ot)||Pt(ot)&&!Ze(ot)?(gt=Te.aaxis,Ke=u(Te,Se,[ot[0],je[0]],.5*(ot[1]+je[1]))):(gt=Te.baxis,Ke=u(Te,Se,.5*(ot[0]+je[0]),[ot[1],je[1]])),Ue=1;Ue<Ke.length;Ue++)for(yt+=gt.smoothing?"C":"L",st=0;st<Ke[Ue].length;st++){var bt=Ke[Ue][st];yt+=[Re.c2p(bt[0]),Pe.c2p(bt[1])]+" "}return yt}for(Ve=0,We=null;it.length;){var Je=ze.edgepaths[Ve][0];for(We&&(mt+=He(We,Je)),_t=w.smoothopen(ze.edgepaths[Ve].map(ge),ze.smoothing),mt+=nt?_t:_t.replace(/^M/,"L"),it.splice(it.indexOf(Ve),1),We=ze.edgepaths[Ve][ze.edgepaths[Ve].length-1],ut=-1,lt=0;lt<4;lt++){if(!We){b.log("Missing end?",Ve,ze);break}for(Ft(We)&&!$e(We)?Qe=Fe[1]:Ze(We)?Qe=Fe[0]:Pt(We)?Qe=Fe[3]:$e(We)&&(Qe=Fe[2]),xt=0;xt<ze.edgepaths.length;xt++){var ft=ze.edgepaths[xt][0];Math.abs(We[0]-Qe[0])<Et?Math.abs(We[0]-ft[0])<Et&&(ft[1]-We[1])*(Qe[1]-ft[1])>=0&&(Qe=ft,ut=xt):Math.abs(We[1]-Qe[1])<Rt?Math.abs(We[1]-ft[1])<Rt&&(ft[0]-We[0])*(Qe[0]-ft[0])>=0&&(Qe=ft,ut=xt):b.log("endpt to newendpt is not vert. or horz.",We,Qe,ft)}if(ut>=0)break;mt+=He(We,Qe),We=Qe}if(ut===ze.edgepaths.length){b.log("unclosed perimeter path");break}Ve=ut,(nt=it.indexOf(Ve)===-1)&&(Ve=it[0],mt+=He(We,Qe)+"Z",We=null)}for(Ve=0;Ve<ze.paths.length;Ve++)mt+=w.smoothclosed(ze.paths[Ve].map(ge),ze.smoothing);return mt}(0,ke,be,Le,De,ye,de,xe);Ae?k.select(this).attr("d",Ae).style("stroke","none"):k.select(this).remove()})}(E,S,m,_,K,V,se,O,P,F,ue),function(he,pe,de,xe,_e,be,Le){var De=de._context.staticPlot,ye=b.ensureSingle(he,"g","contourlines"),le=_e.showlines!==!1,oe=_e.showlabels,ve=le&&oe,Ce=n.createLines(ye,le||oe,pe,De),ke=n.createLineClip(ye,ve,de,xe.trace.uid),Ae=he.selectAll("g.contourlabels").data(oe?[0]:[]);if(Ae.exit().remove(),Ae.enter().append("g").classed("contourlabels",!0),oe){var Ee=be.xaxis,ze=be.yaxis,Fe=Ee._length,ge=ze._length,Te=[[[0,0],[Fe,0],[Fe,ge],[0,ge]]],Se=[];b.clearLocationCache();var Re=n.labelFormatter(de,xe),Pe=w.tester.append("text").attr("data-notex",1).call(w.font,_e.labelfont),Ve={left:0,right:Fe,center:Fe/2,top:0,bottom:ge,middle:ge/2},We=Math.sqrt(Fe*Fe+ge*ge),Qe=i.LABELDISTANCE*We/Math.max(1,pe.length/i.LABELINCREASE);Ce.each(function(lt){var ut=n.calcTextOpts(lt.level,Re,Pe,de);k.select(this).selectAll("path").each(function(xt){var _t=this,mt=b.getVisibleSegment(_t,Ve,ut.height/2);if(mt&&(function(Rt,Ft,Pt,Ze,$e,He){for(var Je,ft=0;ft<Pt.pedgepaths.length;ft++)Ft===Pt.pedgepaths[ft]&&(Je=Pt.edgepaths[ft]);if(Je){var ot=$e.a[0],je=$e.a[$e.a.length-1],Ue=$e.b[0],st=$e.b[$e.b.length-1],Ke=h(Rt,0,1),gt=h(Rt,Ze.total,Ze.total-1),yt=dt(Je[0],Ke),bt=Ze.total-dt(Je[Je.length-1],gt);Ze.min<yt&&(Ze.min=yt),Ze.max>bt&&(Ze.max=bt),Ze.len=Ze.max-Ze.min}function dt(Lt,wt){var Ct,zt=0,Dt=.1;return(Math.abs(Lt[0]-ot)<Dt||Math.abs(Lt[0]-je)<Dt)&&(Ct=c($e.dxydb_rough(Lt[0],Lt[1],Dt)),zt=Math.max(zt,He*y(wt,Ct)/2)),(Math.abs(Lt[1]-Ue)<Dt||Math.abs(Lt[1]-st)<Dt)&&(Ct=c($e.dxyda_rough(Lt[0],Lt[1],Dt)),zt=Math.max(zt,He*y(wt,Ct)/2)),zt}}(_t,xt,lt,mt,Le,ut.height),!(mt.len<(ut.width+ut.height)*i.LABELMIN)))for(var it=Math.min(Math.ceil(mt.len/Qe),i.LABELMAX),nt=0;nt<it;nt++){var Et=n.findBestTextLocation(_t,mt,ut,Se,Ve);if(!Et)break;n.addLabelData(Et,ut,Se,Te)}})}),Pe.remove(),n.drawLabels(Ae,Se,de,ke,ve?Te:null)}oe&&!le&&Ce.remove()}(S,z,d,T,H,v,O),w.setClipUrl(S,O._clipPathId,d)}function se(he){var pe=O.ab2xy(he[0],he[1],!0);return[m.c2p(pe[0]),_.c2p(pe[1])]}})}},33928:function(U,C,e){var k=e(49084),A=e(21776).Ks,o=e(45464),w=e(31512),b=e(92880).extendFlat;U.exports=b({lon:w.lon,lat:w.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:w.text,hovertext:w.hovertext,hoverinfo:b({},o.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:A(),showlegend:b({},o.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(U,C,e){var k=e(38248),A=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,w=e(47128),b=e(3400)._;U.exports=function(f,s){for(var n=s._length,i=new Array(n),r=s.z,t=A(r)&&r.length,a=0;a<n;a++){var l=i[a]={},u=s.lon[a],h=s.lat[a];if(l.lonlat=k(u)&&k(h)?[+u,+h]:[o,o],t){var c=r[a];l.z=k(c)?c:o}}return w(f,s,{vals:t?r:[0,1],containerStr:"",cLetter:"z"}),n&&(i[0].t={labels:{lat:b(f,"lat:")+" ",lon:b(f,"lon:")+" "}}),i}},4629:function(U,C,e){var k=e(38248),A=e(3400),o=e(76308),w=e(8932),b=e(39032).BADNUM,f=e(44808).makeBlank;U.exports=function(s){var n=s[0].trace,i=n.visible===!0&&n._length!==0,r=n._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:f()};if(!i)return r;var t,a=[],l=n.z,u=n.radius,h=A.isArrayOrTypedArray(l)&&l.length,c=A.isArrayOrTypedArray(u);for(t=0;t<s.length;t++){var y=s[t],d=y.lonlat;if(d[0]!==b){var v={};if(h){var g=y.z;v.z=g!==b?g:0}c&&(v.r=k(u[t])&&u[t]>0?+u[t]:0),a.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:v})}}var x=w.extractOpts(n),m=x.reversescale?w.flipScale(x.colorscale):x.colorscale,_=m[0][1],p=["interpolate",["linear"],["heatmap-density"],0,o.opacity(_)<1?_:o.addOpacity(_,0)];for(t=1;t<m.length;t++)p.push(m[t][0],m[t][1]);var S=["interpolate",["linear"],["get","z"],x.min,0,x.max,1];return A.extendFlat(r.heatmap.paint,{"heatmap-weight":h?S:1/(x.max-x.min),"heatmap-color":p,"heatmap-radius":c?{type:"identity",property:"r"}:n.radius,"heatmap-opacity":n.opacity}),r.geojson={type:"FeatureCollection",features:a},r.heatmap.layout.visibility="visible",r}},97664:function(U,C,e){var k=e(3400),A=e(27260),o=e(33928);U.exports=function(w,b,f,s){function n(a,l){return k.coerce(w,b,o,a,l)}var i=n("lon")||[],r=n("lat")||[],t=Math.min(i.length,r.length);t?(b._length=t,n("z"),n("radius"),n("below"),n("text"),n("hovertext"),n("hovertemplate"),A(w,b,s,n,{prefix:"",cLetter:"z"})):b.visible=!1}},96176:function(U){U.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C.z=e.z,C}},25336:function(U,C,e){var k=e(54460),A=e(63312).hoverPoints,o=e(63312).getExtraText;U.exports=function(w,b,f){var s=A(w,b,f);if(s){var n=s[0],i=n.cd,r=i[0].trace,t=i[n.index];if(delete n.color,"z"in t){var a=n.subplot.mockAxis;n.z=t.z,n.zLabel=k.tickText(a,a.c2l(t.z),"hover").text}return n.extraText=o(r,t,i[0].t.labels),[n]}}},15088:function(U,C,e){U.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(k,A){for(var o=A.getMapLayers(),w=0;w<o.length;w++){var b=o[w],f=b.id;if(b.type==="symbol"&&typeof f=="string"&&f.indexOf("plotly-")===-1)return f}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(U,C,e){var k=e(4629),A=e(47552).traceLayerPrefix;function o(b,f){this.type="densitymapbox",this.subplot=b,this.uid=f,this.sourceId="source-"+f,this.layerList=[["heatmap",A+f+"-heatmap"]],this.below=null}var w=o.prototype;w.update=function(b){var f=this.subplot,s=this.layerList,n=k(b),i=f.belowLookup["trace-"+this.uid];f.map.getSource(this.sourceId).setData(n.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(n,i),this.below=i);for(var r=0;r<s.length;r++){var t=s[r],a=t[0],l=t[1],u=n[a];f.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&f.setOptions(l,"setPaintProperty",u.paint)}},w._addLayers=function(b,f){for(var s=this.subplot,n=this.layerList,i=this.sourceId,r=0;r<n.length;r++){var t=n[r],a=t[0],l=b[a];s.addLayer({type:a,id:t[1],source:i,layout:l.layout,paint:l.paint},f)}},w._removeLayers=function(){for(var b=this.subplot.map,f=this.layerList,s=f.length-1;s>=0;s--)b.removeLayer(f[s][1])},w.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},U.exports=function(b,f){var s=f[0].trace,n=new o(b,s.uid),i=n.sourceId,r=k(f),t=n.below=b.belowLookup["trace-"+s.uid];return b.map.addSource(i,{type:"geojson",data:r.geojson}),n._addLayers(r,t),n}},74248:function(U,C,e){var k=e(3400);U.exports=function(A,o){for(var w=0;w<A.length;w++)A[w].i=w;k.mergeArray(o.text,A,"tx"),k.mergeArray(o.hovertext,A,"htx");var b=o.marker;if(b){k.mergeArray(b.opacity,A,"mo"),k.mergeArray(b.color,A,"mc");var f=b.line;f&&(k.mergeArray(f.color,A,"mlc"),k.mergeArrayCastPositive(f.width,A,"mlw"))}}},20088:function(U,C,e){var k,A=e(20832),o=e(52904).line,w=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,n=e(74732),i=e(92880).extendFlat,r=e(76308);U.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:A.hovertext,hovertemplate:f({},{keys:n.eventDataKeys}),hoverinfo:i({},w.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:n.eventDataKeys.concat(["label","value"])}),text:A.text,textposition:A.textposition,insidetextanchor:i({},A.insidetextanchor,{dflt:"middle"}),textangle:i({},A.textangle,{dflt:0}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:i({},A.orientation,{}),offset:i({},A.offset,{arrayOk:!1}),width:i({},A.width,{arrayOk:!1}),marker:(k=i({},A.marker),delete k.pattern,delete k.cornerradius,k),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},o.color,{dflt:r.defaultLine}),width:i({},o.width,{dflt:0,editType:"plot"}),dash:o.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,zorder:A.zorder}},23096:function(U,C,e){var k=e(54460),A=e(1220),o=e(74248),w=e(4500),b=e(39032).BADNUM;function f(s){return s===b?0:s}U.exports=function(s,n){var i,r,t,a,l,u,h,c,y=k.getFromId(s,n.xaxis||"x"),d=k.getFromId(s,n.yaxis||"y");n.orientation==="h"?(i=y.makeCalcdata(n,"x"),t=d.makeCalcdata(n,"y"),a=A(n,d,"y",t),l=!!n.yperiodalignment,u="y"):(i=d.makeCalcdata(n,"y"),t=y.makeCalcdata(n,"x"),a=A(n,y,"x",t),l=!!n.xperiodalignment,u="x"),r=a.vals;var v,g=Math.min(r.length,i.length),x=new Array(g);for(n._base=[],h=0;h<g;h++){i[h]<0&&(i[h]=b);var m=!1;i[h]!==b&&h+1<g&&i[h+1]!==b&&(m=!0),c=x[h]={p:r[h],s:i[h],cNext:m},n._base[h]=-.5*c.s,l&&(x[h].orig_p=t[h],x[h][u+"End"]=a.ends[h],x[h][u+"Start"]=a.starts[h]),n.ids&&(c.id=String(n.ids[h])),h===0&&(x[0].vTotal=0),x[0].vTotal+=f(c.s),c.begR=f(c.s)/f(x[0].s)}for(h=0;h<g;h++)(c=x[h]).s!==b&&(c.sumR=c.s/x[0].vTotal,c.difR=v!==void 0?c.s/v:1,v=c.s);return o(x,n),w(x,n),x}},74732:function(U){U.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(U,C,e){var k=e(96376).setGroupPositions;U.exports=function(A,o){var w,b,f=A._fullLayout,s=A._fullData,n=A.calcdata,i=o.xaxis,r=o.yaxis,t=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b],h=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="funnel"&&(w=n[b],h?l.push(w):a.push(w),t.push(w))}var c={mode:f.funnelmode,norm:f.funnelnorm,gap:f.funnelgap,groupgap:f.funnelgroupgap};for(k(A,i,r,a,c),k(A,r,i,l,c),b=0;b<t.length;b++){w=t[b];for(var y=0;y<w.length;y++)y+1<w.length&&(w[y].nextP0=w[y+1].p0,w[y].nextS0=w[y+1].s0,w[y].nextP1=w[y+1].p1,w[y].nextS1=w[y+1].s1)}}},45432:function(U,C,e){var k=e(3400),A=e(20011),o=e(31508).handleText,w=e(43980),b=e(31147),f=e(20088),s=e(76308);U.exports={supplyDefaults:function(n,i,r,t){function a(c,y){return k.coerce(n,i,f,c,y)}if(w(n,i,t,a)){b(n,i,t,a),a("xhoverformat"),a("yhoverformat"),a("orientation",i.y&&!i.x?"v":"h"),a("offset"),a("width");var l=a("text");a("hovertext"),a("hovertemplate");var u=a("textposition");o(n,i,t,a,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||a("textinfo",k.isArrayOrTypedArray(l)?"text+value":"value");var h=a("marker.color",r);a("marker.line.color",s.defaultLine),a("marker.line.width"),a("connector.visible")&&(a("connector.fillcolor",function(c){var y=k.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(y,.5*s.opacity(y))}(h)),a("connector.line.width")&&(a("connector.line.color"),a("connector.line.dash"))),a("zorder")}else i.visible=!1},crossTraceDefaults:function(n,i){var r,t;function a(u){return k.coerce(t._input,t,f,u)}if(i.funnelmode==="group")for(var l=0;l<n.length;l++)r=(t=n[l])._input,A(r,t,i,a)}}},34580:function(U){U.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(C.percentInitial=e.percentInitial),"percentPrevious"in e&&(C.percentPrevious=e.percentPrevious),"percentTotal"in e&&(C.percentTotal=e.percentTotal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},31488:function(U,C,e){var k=e(76308).opacity,A=e(63400).hoverOnBars,o=e(3400).formatPercent;U.exports=function(w,b,f,s,n){var i=A(w,b,f,s,n);if(i){var r=i.cd,t=r[0].trace,a=t.orientation==="h",l=r[i.index];i[(a?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=o(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=o(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=o(l.sumR,1);var u=l.hi||t.hoverinfo,h=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",y=u.split("+"),d=function(v){return c||y.indexOf(v)!==-1};d("percent initial")&&h.push(i.percentInitialLabel+" of initial"),d("percent previous")&&h.push(i.percentPreviousLabel+" of previous"),d("percent total")&&h.push(i.percentTotalLabel+" of total")}return i.extraText=h.join("<br>"),i.color=function(v,g){var x=v.marker,m=g.mc||x.color,_=g.mlc||x.line.color,p=g.mlw||x.line.width;return k(m)?m:k(_)&&p?_:void 0}(t,l),[i]}}},94704:function(U,C,e){U.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(U){U.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(U,C,e){var k=e(3400),A=e(7076);U.exports=function(o,w,b){var f=!1;function s(r,t){return k.coerce(o,w,A,r,t)}for(var n=0;n<b.length;n++){var i=b[n];if(i.visible&&i.type==="funnel"){f=!0;break}}f&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;function s(n,i,r,t){var a=[],l=[],u=t?i:r,h=t?r:i;return a[0]=u.c2p(n.s0,!0),l[0]=h.c2p(n.p0,!0),a[1]=u.c2p(n.s1,!0),l[1]=h.c2p(n.p1,!0),a[2]=u.c2p(n.nextS0,!0),l[2]=h.c2p(n.nextP0,!0),a[3]=u.c2p(n.nextS1,!0),l[3]=h.c2p(n.nextP1,!0),t?[a,l]:[l,a]}U.exports=function(n,i,r,t){var a=n._fullLayout;f("funnel",a),function(l,u,h,c){var y=u.xaxis,d=u.yaxis;A.makeTraceGroups(c,h,"trace bars").each(function(v){var g=k.select(this),x=v[0].trace,m=A.ensureSingle(g,"g","regions");if(x.connector&&x.connector.visible){var _=x.orientation==="h",p=m.selectAll("g.region").data(A.identity);p.enter().append("g").classed("region",!0),p.exit().remove();var S=p.size();p.each(function(T,E){if(E===S-1||T.cNext){var O=s(T,y,d,_),P=O[0],I=O[1],R="";P[0]!==w&&I[0]!==w&&P[1]!==w&&I[1]!==w&&P[2]!==w&&I[2]!==w&&P[3]!==w&&I[3]!==w&&(R+=_?"M"+P[0]+","+I[1]+"L"+P[2]+","+I[2]+"H"+P[3]+"L"+P[1]+","+I[1]+"Z":"M"+P[1]+","+I[1]+"L"+P[2]+","+I[3]+"V"+I[2]+"L"+P[1]+","+I[0]+"Z"),R===""&&(R="M0,0Z"),A.ensureSingle(k.select(this),"path").attr("d",R).call(o.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(n,i,r,t),function(l,u,h,c){var y=u.xaxis,d=u.yaxis;A.makeTraceGroups(c,h,"trace bars").each(function(v){var g=k.select(this),x=v[0].trace,m=A.ensureSingle(g,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var _=x.orientation==="h",p=m.selectAll("g.line").data(A.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var S=p.size();p.each(function(T,E){if(E===S-1||T.cNext){var O=s(T,y,d,_),P=O[0],I=O[1],R="";P[3]!==void 0&&I[3]!==void 0&&(_?(R+="M"+P[0]+","+I[1]+"L"+P[2]+","+I[2],R+="M"+P[1]+","+I[1]+"L"+P[3]+","+I[2]):(R+="M"+P[1]+","+I[1]+"L"+P[2]+","+I[3],R+="M"+P[1]+","+I[0]+"L"+P[2]+","+I[2])),R===""&&(R="M0,0Z"),A.ensureSingle(k.select(this),"path").attr("d",R).call(o.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(n,i,r,t),b.plot(n,i,r,t,{mode:a.funnelmode,norm:a.funnelmode,gap:a.funnelgap,groupgap:a.funnelgroupgap})}},44544:function(U,C,e){var k=e(33428),A=e(43616),o=e(76308),w=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;U.exports={style:function(n,i,r){var t=r||k.select(n).selectAll('g[class^="funnellayer"]').selectAll("g.trace");f(n,t,"funnel"),t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var l=k.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u.marker;k.select(this).call(o.fill,h.mc||c.color).call(o.stroke,h.mlc||c.line.color).call(A.dashLine,c.line.dash,h.mlw||c.line.width).style("opacity",u.selectedpoints&&!h.selected?w:1)}}),s(l,u,n),l.selectAll(".regions").each(function(){k.select(this).selectAll("path").style("stroke-width",0).call(o.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=u.connector.line;A.lineGroupStyle(k.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(U,C,e){var k=e(74996),A=e(45464),o=e(86968).u,w=e(21776).Ks,b=e(21776).Gw,f=e(92880).extendFlat;U.exports={labels:k.labels,label0:k.label0,dlabel:k.dlabel,values:k.values,marker:{colors:k.marker.colors,line:{color:f({},k.marker.line.color,{dflt:null}),width:f({},k.marker.line.width,{dflt:1}),editType:"calc"},pattern:k.marker.pattern,editType:"calc"},text:k.text,hovertext:k.hovertext,scalegroup:f({},k.scalegroup,{}),textinfo:f({},k.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:f({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","text","percent"]}),textposition:f({},k.textposition,{values:["inside","none"],dflt:"inside"}),textfont:k.textfont,insidetextfont:k.insidetextfont,title:{text:k.title.text,font:k.title.font,position:f({},k.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:o({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(U,C,e){var k=e(7316);C.name="funnelarea",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},54e3:function(U,C,e){var k=e(45768);U.exports={calc:function(A,o){return k.calc(A,o)},crossTraceCalc:function(A){k.crossTraceCalc(A,{type:"funnelarea"})}}},92688:function(U,C,e){var k=e(3400),A=e(22332),o=e(86968).Q,w=e(31508).handleText,b=e(74174).handleLabelsAndValues,f=e(74174).handleMarkerDefaults;U.exports=function(s,n,i,r){function t(g,x){return k.coerce(s,n,A,g,x)}var a=t("labels"),l=t("values"),u=b(a,l),h=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(t("label0"),t("dlabel")),h){n._length=h,f(s,n,r,t),t("scalegroup");var c,y=t("text"),d=t("texttemplate");if(d||(c=t("textinfo",Array.isArray(y)?"text+percent":"percent")),t("hovertext"),t("hovertemplate"),d||c&&c!=="none"){var v=t("textposition");w(s,n,r,t,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else c==="none"&&t("textposition","none");o(n,r,t),t("title.text")&&(t("title.position"),k.coerceFont(t,"title.font",r.font)),t("aspectratio"),t("baseratio")}else n.visible=!1}},62396:function(U,C,e){U.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(U,C,e){var k=e(85204).hiddenlabels;U.exports={hiddenlabels:k,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(U,C,e){var k=e(3400),A=e(61280);U.exports=function(o,w){function b(f,s){return k.coerce(o,w,A,f,s)}b("hiddenlabels"),b("funnelareacolorway",w.colorway),b("extendfunnelareacolors")}},39472:function(U,C,e){var k=e(33428),A=e(43616),o=e(3400),w=o.strScale,b=o.strTranslate,f=e(72736),s=e(98184).toMoveInsideBar,n=e(82744),i=n.recordMinTextSize,r=n.clearMinTextSize,t=e(69656),a=e(37820),l=a.attachFxHandlers,u=a.determineInsideTextFont,h=a.layoutAreas,c=a.prerenderTitles,y=a.positionTitleOutside,d=a.formatSliceLabel;function v(g,x){return"l"+(x[0]-g[0])+","+(x[1]-g[1])}U.exports=function(g,x){var m=g._context.staticPlot,_=g._fullLayout;r("funnelarea",_),c(x,g),h(x,_._size),o.makeTraceGroups(_._funnelarealayer,x,"trace").each(function(p){var S=k.select(this),T=p[0],E=T.trace;(function(O){if(O.length){var P=O[0],I=P.trace,R=I.aspectratio,H=I.baseratio;H>.999&&(H=.999);var z,j,Z,F=Math.pow(H,2),V=P.vTotal,W=V,re=V*F/(1-F)/V,ne=[];for(ne.push(ye()),j=O.length-1;j>-1;j--)if(!(Z=O[j]).hidden){var te=Z.v/W;re+=te,ne.push(ye())}var Q=1/0,$=-1/0;for(j=0;j<ne.length;j++)z=ne[j],Q=Math.min(Q,z[1]),$=Math.max($,z[1]);for(j=0;j<ne.length;j++)ne[j][1]-=($+Q)/2;var K=ne[ne.length-1][0],ae=P.r,ue=($-Q)/2,se=ae/K,he=ae/ue*R;for(P.r=he*ue,j=0;j<ne.length;j++)ne[j][0]*=se,ne[j][1]*=he;var pe,de,xe=[-(z=ne[0])[0],z[1]],_e=[z[0],z[1]],be=0;for(j=O.length-1;j>-1;j--)if(!(Z=O[j]).hidden){var Le=ne[be+=1][0],De=ne[be][1];Z.TL=[-Le,De],Z.TR=[Le,De],Z.BL=xe,Z.BR=_e,Z.pxmid=(pe=Z.TR,de=Z.BR,[.5*(pe[0]+de[0]),.5*(pe[1]+de[1])]),xe=Z.TL,_e=Z.TR}}function ye(){var le,oe={x:le=Math.sqrt(re),y:-le};return[oe.x,oe.y]}})(p),S.each(function(){var O=k.select(this).selectAll("g.slice").data(p);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(I,R){if(I.hidden)k.select(this).selectAll("path,g").remove();else{I.pointNumber=I.i,I.curveNumber=E.index;var H=T.cx,z=T.cy,j=k.select(this),Z=j.selectAll("path.surface").data([I]);Z.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),j.call(l,g,p);var F="M"+(H+I.TR[0])+","+(z+I.TR[1])+v(I.TR,I.BR)+v(I.BR,I.BL)+v(I.BL,I.TL)+"Z";Z.attr("d",F),d(g,I,T);var V=t.castOption(E.textposition,I.pts),W=j.selectAll("g.slicetext").data(I.text&&V!=="none"?[0]:[]);W.enter().append("g").classed("slicetext",!0),W.exit().remove(),W.each(function(){var re=o.ensureSingle(k.select(this),"text","",function(se){se.attr("data-notex",1)}),ne=o.ensureUniformFontSize(g,u(E,I,_.font));re.text(I.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,ne).call(f.convertToTspans,g);var te,Q,$,K=A.bBox(re.node()),ae=Math.min(I.BL[1],I.BR[1])+z,ue=Math.max(I.TL[1],I.TR[1])+z;Q=Math.max(I.TL[0],I.BL[0])+H,$=Math.min(I.TR[0],I.BR[0])+H,(te=s(Q,$,ae,ue,K,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=ne.size,i(E.type,te,_),p[R].transform=te,o.setTransormAndDisplay(re,te)})}});var P=k.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var I=o.ensureSingle(k.select(this),"text","",function(z){z.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=o.templateString(R,E._meta)),I.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,E.title.font).call(f.convertToTspans,g);var H=y(T,_._size);I.attr("transform",b(H.x,H.y)+w(Math.min(1,H.scale))+b(H.tx,H.ty))})})})}},62096:function(U,C,e){var k=e(33428),A=e(10528),o=e(82744).resizeText;U.exports=function(w){var b=w._fullLayout._funnelarealayer.selectAll(".trace");o(w,b,"funnelarea"),b.each(function(f){var s=f[0].trace,n=k.select(this);n.style({opacity:s.opacity}),n.selectAll("path.surface").each(function(i){k.select(this).call(A,i,s,w)})})}},83328:function(U,C,e){var k=e(52904),A=e(45464),o=e(25376),w=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(49084),n=e(92880).extendFlat;U.exports=n({z:{valType:"data_array",editType:"calc"},x:n({},k.x,{impliedEdits:{xtype:"array"}}),x0:n({},k.x0,{impliedEdits:{xtype:"scaled"}}),dx:n({},k.dx,{impliedEdits:{xtype:"scaled"}}),y:n({},k.y,{impliedEdits:{ytype:"array"}}),y0:n({},k.y0,{impliedEdits:{ytype:"scaled"}}),dy:n({},k.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:n({},k.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:n({},k.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:n({},k.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:n({},k.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:n({},k.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:n({},k.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:b(),texttemplate:f({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:n({},A.showlegend,{dflt:!1}),zorder:k.zorder},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(U,C,e){var k=e(24040),A=e(3400),o=e(54460),w=e(1220),b=e(55480),f=e(47128),s=e(2872),n=e(26136),i=e(70448),r=e(11240),t=e(35744),a=e(39032).BADNUM;function l(u){for(var h=[],c=u.length,y=0;y<c;y++){var d=u[y];d!==a&&h.push(d)}return h}U.exports=function(u,h){var c,y,d,v,g,x,m,_,p,S,T,E=o.getFromId(u,h.xaxis||"x"),O=o.getFromId(u,h.yaxis||"y"),P=k.traceIs(h,"contour"),I=k.traceIs(h,"histogram"),R=k.traceIs(h,"gl2d"),H=P?"best":h.zsmooth;if(E._minDtick=0,O._minDtick=0,I)v=(T=b(u,h)).orig_x,c=T.x,y=T.x0,d=T.dx,_=T.orig_y,g=T.y,x=T.y0,m=T.dy,p=T.z;else{var z=h.z;A.isArray1D(z)?(s(h,E,O,"x","y",["z"]),c=h._x,g=h._y,z=h._z):(v=h.x?E.makeCalcdata(h,"x"):[],_=h.y?O.makeCalcdata(h,"y"):[],c=w(h,E,"x",v).vals,g=w(h,O,"y",_).vals,h._x=c,h._y=g),y=h.x0,d=h.dx,x=h.y0,m=h.dy,p=n(z,h,E,O)}function j($){H=h._input.zsmooth=h.zsmooth=!1,A.warn('cannot use zsmooth: "fast": '+$)}function Z($){if($.length>1){var K=($[$.length-1]-$[0])/($.length-1),ae=Math.abs(K/100);for(S=0;S<$.length-1;S++)if(Math.abs($[S+1]-$[S]-K)>ae)return!1}return!0}(E.rangebreaks||O.rangebreaks)&&(p=function($,K,ae){for(var ue=[],se=-1,he=0;he<ae.length;he++)if(K[he]!==a){ue[++se]=[];for(var pe=0;pe<ae[he].length;pe++)$[pe]!==a&&ue[se].push(ae[he][pe])}return ue}(c,g,p),I||(c=l(c),g=l(g),h._x=c,h._y=g)),I||!P&&!h.connectgaps||(h._emptypoints=r(p),i(p,h._emptypoints)),h._islinear=!1,E.type==="log"||O.type==="log"?H==="fast"&&j("log axis found"):Z(c)?Z(g)?h._islinear=!0:H==="fast"&&j("y scale is not linear"):H==="fast"&&j("x scale is not linear");var F=A.maxRowLength(p),V=h.xtype==="scaled"?"":c,W=t(h,V,y,d,F,E),re=h.ytype==="scaled"?"":g,ne=t(h,re,x,m,p.length,O);R||(h._extremes[E._id]=o.findExtremes(E,W),h._extremes[O._id]=o.findExtremes(O,ne));var te={x:W,y:ne,z:p,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&v&&(te.orig_x=v),h.yperiodalignment&&_&&(te.orig_y=_),V&&V.length===W.length-1&&(te.xCenter=V),re&&re.length===ne.length-1&&(te.yCenter=re),I&&(te.xRanges=T.xRanges,te.yRanges=T.yRanges,te.pts=T.pts),P||f(u,h,{vals:p,cLetter:"z"}),P&&h.contours&&h.contours.coloring==="heatmap"){var Q={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};te.xfill=t(Q,V,y,d,F,E),te.yfill=t(Q,re,x,m,p.length,O)}return[te]}},26136:function(U,C,e){var k=e(38248),A=e(3400),o=e(39032).BADNUM;U.exports=function(w,b,f,s){var n,i,r,t,a,l;function u(g){if(k(g))return+g}if(b&&b.transpose){for(n=0,a=0;a<w.length;a++)n=Math.max(n,w[a].length);if(n===0)return!1;r=function(g){return g.length},t=function(g,x,m){return(g[m]||[])[x]}}else n=w.length,r=function(g,x){return g[x].length},t=function(g,x,m){return(g[x]||[])[m]};var h=function(g,x,m){return x===o||m===o?o:t(g,x,m)};function c(g){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&g&&g.type==="category"&&b["_"+g._id.charAt(0)].length){var x=g._id.charAt(0),m={},_=b["_"+x+"CategoryMap"]||b[x];for(a=0;a<_.length;a++)m[_[a]]=a;return function(p){var S=m[g._categories[p]];return S+1?S:o}}return A.identity}var y=c(f),d=c(s);s&&s.type==="category"&&(n=s._categories.length);var v=new Array(n);for(a=0;a<n;a++)for(i=f&&f.type==="category"?f._categories.length:r(w,a),v[a]=new Array(i),l=0;l<i;l++)v[a][l]=u(h(w,d(a),y(l)));return v}},96288:function(U){U.exports={min:"zmin",max:"zmax"}},2872:function(U,C,e){var k=e(3400),A=e(39032).BADNUM,o=e(1220);U.exports=function(w,b,f,s,n,i){var r=w._length,t=b.makeCalcdata(w,s),a=f.makeCalcdata(w,n);t=o(w,b,s,t).vals,a=o(w,f,n,a).vals;var l,u,h,c,y=w.text,d=y!==void 0&&k.isArray1D(y),v=w.hovertext,g=v!==void 0&&k.isArray1D(v),x=k.distinctVals(t),m=x.vals,_=k.distinctVals(a),p=_.vals,S=[],T=p.length,E=m.length;for(l=0;l<i.length;l++)S[l]=k.init2dArray(T,E);d&&(h=k.init2dArray(T,E)),g&&(c=k.init2dArray(T,E));var O=k.init2dArray(T,E);for(l=0;l<r;l++)if(t[l]!==A&&a[l]!==A){var P=k.findBin(t[l]+x.minDiff/2,m),I=k.findBin(a[l]+_.minDiff/2,p);for(u=0;u<i.length;u++){var R=w[i[u]];S[u][I][P]=R[l],O[I][P]=l}d&&(h[I][P]=y[l]),g&&(c[I][P]=v[l])}for(w["_"+s]=m,w["_"+n]=p,u=0;u<i.length;u++)w["_"+i[u]]=S[u];d&&(w._text=h),g&&(w._hovertext=c),b&&b.type==="category"&&(w["_"+s+"CategoryMap"]=m.map(function(H){return b._categories[H]})),f&&f.type==="category"&&(w["_"+n+"CategoryMap"]=p.map(function(H){return f._categories[H]})),w._after2before=O}},24480:function(U,C,e){var k=e(3400),A=e(51264),o=e(39096),w=e(31147),b=e(82748),f=e(27260),s=e(83328);U.exports=function(n,i,r,t){function a(l,u){return k.coerce(n,i,s,l,u)}A(n,i,a,t)?(w(n,i,t,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),o(a,t),b(n,i,a,t),a("hoverongaps"),a("connectgaps",k.isArray1D(i.z)&&i.zsmooth!==!1),f(n,i,t,a,{prefix:"",cLetter:"z"}),a("zorder")):i.visible=!1}},11240:function(U,C,e){var k=e(3400).maxRowLength;U.exports=function(A){var o,w,b,f,s,n,i,r,t=[],a={},l=[],u=A[0],h=[],c=[0,0,0],y=k(A);for(w=0;w<A.length;w++)for(o=h,h=u,u=A[w+1]||[],b=0;b<y;b++)h[b]===void 0&&((n=(h[b-1]!==void 0?1:0)+(h[b+1]!==void 0?1:0)+(o[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(w===0&&n++,b===0&&n++,w===A.length-1&&n++,b===h.length-1&&n++,n<4&&(a[[w,b]]=[w,b,n]),t.push([w,b,n])):l.push([w,b]));for(;l.length;){for(i={},r=!1,s=l.length-1;s>=0;s--)(n=((a[[(w=(f=l[s])[0])-1,b=f[1]]]||c)[2]+(a[[w+1,b]]||c)[2]+(a[[w,b-1]]||c)[2]+(a[[w,b+1]]||c)[2])/20)&&(i[f]=[w,b,n],l.splice(s,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(f in i)a[f]=i[f],t.push(i[f])}return t.sort(function(d,v){return v[2]-d[2]})}},55512:function(U,C,e){var k=e(93024),A=e(3400),o=A.isArrayOrTypedArray,w=e(54460),b=e(8932).extractOpts;U.exports=function(f,s,n,i,r){r||(r={});var t,a,l,u,h=r.isContour,c=f.cd[0],y=c.trace,d=f.xa,v=f.ya,g=c.x,x=c.y,m=c.z,_=c.xCenter,p=c.yCenter,S=c.zmask,T=y.zhoverformat,E=g,O=x;if(f.index!==!1){try{l=Math.round(f.index[1]),u=Math.round(f.index[0])}catch{return void A.error("Error hovering on heatmap, pointNumber must be [row,col], found:",f.index)}if(l<0||l>=m[0].length||u<0||u>m.length)return}else{if(k.inbox(s-g[0],s-g[g.length-1],0)>0||k.inbox(n-x[0],n-x[x.length-1],0)>0)return;if(h){var P;for(E=[2*g[0]-g[1]],P=1;P<g.length;P++)E.push((g[P]+g[P-1])/2);for(E.push([2*g[g.length-1]-g[g.length-2]]),O=[2*x[0]-x[1]],P=1;P<x.length;P++)O.push((x[P]+x[P-1])/2);O.push([2*x[x.length-1]-x[x.length-2]])}l=Math.max(0,Math.min(E.length-2,A.findBin(s,E))),u=Math.max(0,Math.min(O.length-2,A.findBin(n,O)))}var I,R,H=d.c2p(g[l]),z=d.c2p(g[l+1]),j=v.c2p(x[u]),Z=v.c2p(x[u+1]);h?(I=c.orig_x||g,R=c.orig_y||x,z=H,t=I[l],Z=j,a=R[u]):(I=c.orig_x||_||g,R=c.orig_y||p||x,t=_?I[l]:(I[l]+I[l+1])/2,a=p?R[u]:(R[u]+R[u+1])/2,d&&d.type==="category"&&(t=g[l]),v&&v.type==="category"&&(a=x[u]),y.zsmooth&&(H=z=d.c2p(t),j=Z=v.c2p(a)));var F=m[u][l];if(S&&!S[u][l]&&(F=void 0),F!==void 0||y.hoverongaps){var V;o(c.hovertext)&&o(c.hovertext[u])?V=c.hovertext[u][l]:o(c.text)&&o(c.text[u])&&(V=c.text[u][l]);var W=b(y),re={type:"linear",range:[W.min,W.max],hoverformat:T,_separators:d._separators,_numFormat:d._numFormat},ne=w.tickText(re,F,"hover").text;return[A.extendFlat(f,{index:y._after2before?y._after2before[u][l]:[u,l],distance:f.maxHoverDistance,spikeDistance:f.maxSpikeDistance,x0:H,x1:z,y0:j,y1:Z,xLabelVal:t,yLabelVal:a,zLabelVal:F,zLabel:ne,text:V})]}}},81932:function(U,C,e){U.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(U,C,e){var k=e(3400),A=[[-1,0],[1,0],[0,-1],[0,1]];function o(b){return .5-.25*Math.min(1,.5*b)}function w(b,f,s){var n,i,r,t,a,l,u,h,c,y,d,v,g,x=0;for(t=0;t<f.length;t++){for(i=(n=f[t])[0],r=n[1],d=b[i][r],y=0,c=0,a=0;a<4;a++)(u=b[i+(l=A[a])[0]])&&(h=u[r+l[1]])!==void 0&&(y===0?v=g=h:(v=Math.min(v,h),g=Math.max(g,h)),c++,y+=h);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][r]=y/c,d===void 0?c<4&&(x=1):(b[i][r]=(1+s)*b[i][r]-s*d,g>v&&(x=Math.max(x,Math.abs(b[i][r]-d)/(g-v))))}return x}U.exports=function(b,f){var s,n=1;for(w(b,f),s=0;s<f.length&&!(f[s][2]<4);s++);for(f=f.slice(s),s=0;s<100&&n>.01;s++)n=w(b,f,o(n));return n>.01&&k.log("interp2d didn't converge quickly",n),b}},39096:function(U,C,e){var k=e(3400);U.exports=function(A,o){A("texttemplate");var w=k.extendFlat({},o.font,{color:"auto",size:"auto"});k.coerceFont(A,"textfont",w)}},35744:function(U,C,e){var k=e(24040),A=e(3400).isArrayOrTypedArray;U.exports=function(o,w,b,f,s,n){var i,r,t,a=[],l=k.traceIs(o,"contour"),u=k.traceIs(o,"histogram"),h=k.traceIs(o,"gl2d");if(A(w)&&w.length>1&&!u&&n.type!=="category"){var c=w.length;if(!(c<=s))return l?w.slice(0,s):w.slice(0,s+1);if(l||h)a=Array.from(w).slice(0,s);else if(s===1)a=n.type==="log"?[.5*w[0],2*w[0]]:[w[0]-.5,w[0]+.5];else if(n.type==="log"){for(a=[Math.pow(w[0],1.5)/Math.pow(w[1],.5)],t=1;t<c;t++)a.push(Math.sqrt(w[t-1]*w[t]));a.push(Math.pow(w[c-1],1.5)/Math.pow(w[c-2],.5))}else{for(a=[1.5*w[0]-.5*w[1]],t=1;t<c;t++)a.push(.5*(w[t-1]+w[t]));a.push(1.5*w[c-1]-.5*w[c-2])}if(c<s){var y,d=a[a.length-1];if(n.type==="log")for(y=d/a[a.length-2],t=c;t<s;t++)d*=y,a.push(d);else for(y=d-a[a.length-2],t=c;t<s;t++)d+=y,a.push(d)}}else{var v=o[n._id.charAt(0)+"calendar"];for(i=u?n.r2c(b,0,v):A(w)&&w.length===1?w[0]:b===void 0?0:(n.type==="log"?n.d2c:n.r2c)(b,0,v),r=f||1,t=l||h?0:-.5;t<s;t++)a.push(i+r*t)}return a}},41420:function(U,C,e){var k=e(33428),A=e(49760),o=e(24040),w=e(43616),b=e(54460),f=e(3400),s=e(72736),n=e(76688),i=e(76308),r=e(8932).extractOpts,t=e(8932).makeColorScaleFuncFromTrace,a=e(9616),l=e(84284).LINE_SPACING,u=e(9188),h=e(2264).STYLE,c="heatmap-label";function y(m){return m.selectAll("g."+c)}function d(m){y(m).remove()}function v(m,_){var p=_.length-2,S=f.constrain(f.findBin(m,_),0,p),T=_[S],E=_[S+1],O=f.constrain(S+(m-T)/(E-T)-.5,0,p),P=Math.round(O),I=Math.abs(O-P);return O&&O!==p&&I?{bin0:P,frac:I,bin1:Math.round(P+I/(O-P))}:{bin0:P,bin1:P,frac:0}}function g(m,_){var p=_.length-1,S=f.constrain(f.findBin(m,_),0,p),T=_[S],E=(m-T)/(_[S+1]-T)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function x(m,_,p){m[_]=p[0],m[_+1]=p[1],m[_+2]=p[2],m[_+3]=Math.round(255*p[3])}U.exports=function(m,_,p,S){var T=_.xaxis,E=_.yaxis;f.makeTraceGroups(S,p,"hm").each(function(O){var P,I,R,H,z,j,Z,F,V=k.select(this),W=O[0],re=W.trace,ne=re.xgap||0,te=re.ygap||0,Q=W.z,$=W.x,K=W.y,ae=W.xCenter,ue=W.yCenter,se=o.traceIs(re,"contour"),he=se?"best":re.zsmooth,pe=Q.length,de=f.maxRowLength(Q),xe=!1,_e=!1;for(j=0;P===void 0&&j<$.length-1;)P=T.c2p($[j]),j++;for(j=$.length-1;I===void 0&&j>0;)I=T.c2p($[j]),j--;for(I<P&&(R=I,I=P,P=R,xe=!0),j=0;H===void 0&&j<K.length-1;)H=E.c2p(K[j]),j++;for(j=K.length-1;z===void 0&&j>0;)z=E.c2p(K[j]),j--;z<H&&(R=H,H=z,z=R,_e=!0),se&&(ae=$,ue=K,$=W.xfill,K=W.yfill);var be="default";if(he?be=he==="best"?"smooth":"fast":re._islinear&&ne===0&&te===0&&u()&&(be="fast"),be!=="fast"){var Le=he==="best"?0:.5;P=Math.max(-Le*T._length,P),I=Math.min((1+Le)*T._length,I),H=Math.max(-Le*E._length,H),z=Math.min((1+Le)*E._length,z)}var De,ye,le=Math.round(I-P),oe=Math.round(z-H);if(P>=T._length||I<=0||H>=E._length||z<=0)return V.selectAll("image").data([]).exit().remove(),void d(V);be==="fast"?(De=de,ye=pe):(De=le,ye=oe);var ve=document.createElement("canvas");ve.width=De,ve.height=ye;var Ce,ke,Ae=ve.getContext("2d",{willReadFrequently:!0}),Ee=t(re,{noNumericCheck:!0,returnArray:!0});be==="fast"?(Ce=xe?function(dr){return de-1-dr}:f.identity,ke=_e?function(dr){return pe-1-dr}:f.identity):(Ce=function(dr){return f.constrain(Math.round(T.c2p($[dr])-P),0,le)},ke=function(dr){return f.constrain(Math.round(E.c2p(K[dr])-H),0,oe)});var ze,Fe,ge,Te,Se=ke(0),Re=[Se,Se],Pe=xe?0:1,Ve=_e?0:1,We=0,Qe=0,lt=0,ut=0;function xt(dr,nn){if(dr!==void 0){var an=Ee(dr);return an[0]=Math.round(an[0]),an[1]=Math.round(an[1]),an[2]=Math.round(an[2]),We+=nn,Qe+=an[0]*nn,lt+=an[1]*nn,ut+=an[2]*nn,an}return[0,0,0,0]}function _t(dr,nn,an,In){var yn=dr[an.bin0];if(yn===void 0)return xt(void 0,1);var Dn,Zn=dr[an.bin1],Hn=nn[an.bin0],Qn=nn[an.bin1],mr=Zn-yn||0,Qt=Hn-yn||0;return Dn=Zn===void 0?Qn===void 0?0:Hn===void 0?2*(Qn-yn):2*(2*Qn-Hn-yn)/3:Qn===void 0?Hn===void 0?0:2*(2*yn-Zn-Hn)/3:Hn===void 0?2*(2*Qn-Zn-yn)/3:Qn+yn-Zn-Hn,xt(yn+an.frac*mr+In.frac*(Qt+an.frac*Dn))}if(be!=="default"){var mt,it=0;try{mt=new Uint8Array(De*ye*4)}catch{mt=new Array(De*ye*4)}if(be==="smooth"){var nt,Et,Rt,Ft=ae||$,Pt=ue||K,Ze=new Array(Ft.length),$e=new Array(Pt.length),He=new Array(le),Je=ae?g:v,ft=ue?g:v;for(j=0;j<Ft.length;j++)Ze[j]=Math.round(T.c2p(Ft[j])-P);for(j=0;j<Pt.length;j++)$e[j]=Math.round(E.c2p(Pt[j])-H);for(j=0;j<le;j++)He[j]=Je(j,Ze);for(Z=0;Z<oe;Z++)for(Et=Q[(nt=ft(Z,$e)).bin0],Rt=Q[nt.bin1],j=0;j<le;j++,it+=4)x(mt,it,Te=_t(Et,Rt,He[j],nt))}else for(Z=0;Z<pe;Z++)for(ge=Q[Z],Re=ke(Z),j=0;j<de;j++)Te=xt(ge[j],1),x(mt,it=4*(Re*de+Ce(j)),Te);var ot=Ae.createImageData(De,ye);try{ot.data.set(mt)}catch{var je=ot.data,Ue=je.length;for(Z=0;Z<Ue;Z++)je[Z]=mt[Z]}Ae.putImageData(ot,0,0)}else{var st=Math.floor(ne/2),Ke=Math.floor(te/2);for(Z=0;Z<pe;Z++)if(ge=Q[Z],Re.reverse(),Re[Ve]=ke(Z+1),Re[0]!==Re[1]&&Re[0]!==void 0&&Re[1]!==void 0)for(ze=[Fe=Ce(0),Fe],j=0;j<de;j++)ze.reverse(),ze[Pe]=Ce(j+1),ze[0]!==ze[1]&&ze[0]!==void 0&&ze[1]!==void 0&&(Te=xt(ge[j],(ze[1]-ze[0])*(Re[1]-Re[0])),Ae.fillStyle="rgba("+Te.join(",")+")",Ae.fillRect(ze[0]+st,Re[0]+Ke,ze[1]-ze[0]-ne,Re[1]-Re[0]-te))}Qe=Math.round(Qe/We),lt=Math.round(lt/We),ut=Math.round(ut/We);var gt=A("rgb("+Qe+","+lt+","+ut+")");m._hmpixcount=(m._hmpixcount||0)+We,m._hmlumcount=(m._hmlumcount||0)+We*gt.getLuminance();var yt=V.selectAll("image").data(O);yt.enter().append("svg:image").attr({xmlns:a.svg,preserveAspectRatio:"none"}),yt.attr({height:oe,width:le,x:P,y:H,"xlink:href":ve.toDataURL("image/png")}),be!=="fast"||he||yt.attr("style",h),d(V);var bt=re.texttemplate;if(bt){var dt=r(re),Lt={type:"linear",range:[dt.min,dt.max],_separators:T._separators,_numFormat:T._numFormat},wt=re.type==="histogram2dcontour",Ct=re.type==="contour",zt=Ct?pe-1:pe,Dt=Ct?1:0,Nt=Ct?de-1:de,Kt=[];for(j=Ct?1:0;j<zt;j++){var un;if(Ct)un=W.y[j];else if(wt){if(j===0||j===pe-1)continue;un=W.y[j]}else if(W.yCenter)un=W.yCenter[j];else{if(j+1===pe&&W.y[j+1]===void 0)continue;un=(W.y[j]+W.y[j+1])/2}var qt=Math.round(E.c2p(un));if(!(0>qt||qt>E._length))for(Z=Dt;Z<Nt;Z++){var Jt;if(Ct)Jt=W.x[Z];else if(wt){if(Z===0||Z===de-1)continue;Jt=W.x[Z]}else if(W.xCenter)Jt=W.xCenter[Z];else{if(Z+1===de&&W.x[Z+1]===void 0)continue;Jt=(W.x[Z]+W.x[Z+1])/2}var Ut=Math.round(T.c2p(Jt));if(!(0>Ut||Ut>T._length)){var zn=n({x:Jt,y:un},re,m._fullLayout);zn.x=Jt,zn.y=un;var An=W.z[j][Z];An===void 0?(zn.z="",zn.zLabel=""):(zn.z=An,zn.zLabel=b.tickText(Lt,An,"hover").text);var mn=W.text&&W.text[j]&&W.text[j][Z];mn!==void 0&&mn!==!1||(mn=""),zn.text=mn;var tn=f.texttemplateString(bt,zn,m._fullLayout._d3locale,zn,re._meta||{});if(tn){var fn=tn.split("<br>"),rn=fn.length,pn=0;for(F=0;F<rn;F++)pn=Math.max(pn,fn[F].length);Kt.push({l:rn,c:pn,t:tn,x:Ut,y:qt,z:An})}}}}var wn=re.textfont,kn=wn.size,Pn=m._fullLayout.font.size;if(!kn||kn==="auto"){var On=1/0,En=1/0,Vn=0,Fn=0;for(F=0;F<Kt.length;F++){var Wn=Kt[F];if(Vn=Math.max(Vn,Wn.l),Fn=Math.max(Fn,Wn.c),F<Kt.length-1){var rr=Kt[F+1],ir=Math.abs(rr.x-Wn.x),Jn=Math.abs(rr.y-Wn.y);ir&&(On=Math.min(On,ir)),Jn&&(En=Math.min(En,Jn))}}isFinite(On)&&isFinite(En)?(On-=ne,En-=te,On/=Fn,En/=Vn,On/=l/2,En/=l,kn=Math.min(Math.floor(On),Math.floor(En),Pn)):kn=Pn}if(kn<=0||!isFinite(kn))return;y(V).data(Kt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(dr){var nn=k.select(this),an=wn.color;an&&an!=="auto"||(an=i.contrast(dr.z===void 0?m._fullLayout.plot_bgcolor:"rgba("+Ee(dr.z).join()+")")),nn.attr("data-notex",1).call(s.positionText,function(In){return In.x}(dr),function(In){return In.y-kn*(In.l*l/2-1)}(dr)).call(w.font,{family:wn.family,size:kn,color:an,weight:wn.weight,style:wn.style,variant:wn.variant,textcase:wn.textcase,lineposition:wn.lineposition,shadow:wn.shadow}).text(dr.t).call(s.convertToTspans,m)})}})}},41648:function(U,C,e){var k=e(33428);U.exports=function(A){k.select(A).selectAll(".hm image").style("opacity",function(o){return o.trace.opacity})}},82748:function(U){U.exports=function(C,e,k){k("zsmooth")===!1&&(k("xgap"),k("ygap")),k("zhoverformat")}},51264:function(U,C,e){var k=e(38248),A=e(3400),o=e(24040);function w(b,f){var s=f(b);return(s?f(b+"type","array"):"scaled")==="scaled"&&(f(b+"0"),f("d"+b)),s}U.exports=function(b,f,s,n,i,r){var t,a,l=s("z");if(i=i||"x",r=r||"y",l===void 0||!l.length)return 0;if(A.isArray1D(l)){t=s(i),a=s(r);var u=A.minRowLength(t),h=A.minRowLength(a);if(u===0||h===0)return 0;f._length=Math.min(u,h,l.length)}else{if(t=w(i,s),a=w(r,s),!function(c){for(var y,d=!0,v=!1,g=!1,x=0;x<c.length;x++){if(y=c[x],!A.isArrayOrTypedArray(y)){d=!1;break}y.length>0&&(v=!0);for(var m=0;m<y.length;m++)if(k(y[m])){g=!0;break}}return d&&v&&g}(l))return 0;s("transpose"),f._length=null}return b.type==="heatmapgl"||o.getComponentMethod("calendars","handleTraceDefaults")(b,f,[i,r],n),!0}},74512:function(U,C,e){for(var k=e(83328),A=e(49084),o=e(92880).extendFlat,w=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],f={},s=0;s<b.length;s++){var n=b[s];f[n]=k[n]}f.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(f,A("",{cLetter:"z",autoColorDflt:!1})),U.exports=w(f,"calc","nested")},84656:function(U,C,e){var k=e(67792).gl_heatmap2d,A=e(54460),o=e(43080);function w(f,s){this.scene=f,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=k(f.glplot,this.options),this.heatmap._trace=this}var b=w.prototype;b.handlePick=function(f){var s=this.options,n=s.shape,i=f.pointId,r=i%n[0],t=Math.floor(i/n[0]),a=i;return{trace:this,dataCoord:f.dataCoord,traceCoord:[s.x[r],s.y[t],s.z[a]],textLabel:this.textLabels[i],name:this.name,pointIndex:[t,r],hoverinfo:this.hoverinfo}},b.update=function(f,s){var n=s[0];this.index=f.index,this.name=f.name,this.hoverinfo=f.hoverinfo;var i=n.z;this.options.z=[].concat.apply([],i);var r=i[0].length,t=i.length;this.options.shape=[r,t],this.options.x=n.x,this.options.y=n.y,this.options.zsmooth=f.zsmooth;var a=function(y){for(var d=y.colorscale,v=y.zmin,g=y.zmax,x=d.length,m=new Array(x),_=new Array(4*x),p=0;p<x;p++){var S=d[p],T=o(S[1]);m[p]=v+S[0]*(g-v);for(var E=0;E<4;E++)_[4*p+E]=T[E]}return{colorLevels:m,colorValues:_}}(f);this.options.colorLevels=a.colorLevels,this.options.colorValues=a.colorValues,this.textLabels=[].concat.apply([],f.text),this.heatmap.update(this.options);var l,u,h=this.scene.xaxis,c=this.scene.yaxis;f.zsmooth===!1&&(l={ppad:n.x[1]-n.x[0]},u={ppad:n.y[1]-n.y[0]}),f._extremes[h._id]=A.findExtremes(h,n.x,l),f._extremes[c._id]=A.findExtremes(c,n.y,u)},b.dispose=function(){this.heatmap.dispose()},U.exports=function(f,s,n){var i=new w(f,s.uid);return i.update(s,n),i}},86464:function(U,C,e){var k=e(3400),A=e(51264),o=e(27260),w=e(74512);U.exports=function(b,f,s,n){function i(r,t){return k.coerce(b,f,w,r,t)}A(b,f,i,n)?(i("text"),i("zsmooth"),o(b,f,n,i,{prefix:"",cLetter:"z"})):f.visible=!1}},45536:function(U,C,e){U.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(U,C,e){var k=e(20832),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(21776).Gw,b=e(25376),f=e(11120),s=e(73316),n=e(92880).extendFlat;U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:A("x"),yhoverformat:A("y"),text:n({},k.text,{}),hovertext:n({},k.hovertext,{}),orientation:k.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:f("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:f("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({},{keys:s.eventDataKeys}),texttemplate:w({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:n({},k.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:k.insidetextanchor,textangle:k.textangle,cliponaxis:k.cliponaxis,constraintext:k.constraintext,marker:k.marker,offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:k.selected,unselected:k.unselected,_deprecated:{bardir:k._deprecated.bardir},zorder:k.zorder}},2e3:function(U){U.exports=function(C,e){for(var k=C.length,A=0,o=0;o<k;o++)e[o]?(C[o]/=e[o],A+=C[o]):C[o]=null;return A}},11120:function(U){U.exports=function(C,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(U,C,e){var k=e(38248);U.exports={count:function(A,o,w){return w[A]++,1},sum:function(A,o,w,b){var f=b[o];return k(f)?(f=Number(f),w[A]+=f,f):0},avg:function(A,o,w,b,f){var s=b[o];return k(s)&&(s=Number(s),w[A]+=s,f[A]++),0},min:function(A,o,w,b){var f=b[o];if(k(f)){if(f=Number(f),!k(w[A]))return w[A]=f,f;if(w[A]>f){var s=f-w[A];return w[A]=f,s}}return 0},max:function(A,o,w,b){var f=b[o];if(k(f)){if(f=Number(f),!k(w[A]))return w[A]=f,f;if(w[A]<f){var s=f-w[A];return w[A]=f,s}}return 0}}},67712:function(U,C,e){var k=e(39032),A=k.ONEAVGYEAR,o=k.ONEAVGMONTH,w=k.ONEDAY,b=k.ONEHOUR,f=k.ONEMIN,s=k.ONESEC,n=e(54460).tickIncrement;function i(l,u,h,c){if(l*u<=0)return 1/0;for(var y=Math.abs(u-l),d=h.type==="date",v=r(y,d),g=0;g<10;g++){var x=r(80*v,d);if(v===x||!t(x,l,u,d,h,c))break;v=x}return v}function r(l,u){return u&&l>s?l>w?l>1.1*A?A:l>1.1*o?o:w:l>b?b:l>f?f:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function t(l,u,h,c,y,d){if(c&&l>w){var v=a(u,y,d),g=a(h,y,d),x=l===A?0:1;return v[x]!==g[x]}return Math.floor(h/l)-Math.floor(u/l)>.1}function a(l,u,h){var c=u.c2d(l,A,h).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}U.exports=function(l,u,h,c,y){var d,v,g=-1.1*u,x=-.1*u,m=l-x,_=h[0],p=h[1],S=Math.min(i(_+x,_+m,c,y),i(p+x,p+m,c,y)),T=Math.min(i(_+g,_+x,c,y),i(p+g,p+x,c,y));if(S>T&&T<Math.abs(p-_)/4e3?(d=S,v=!1):(d=Math.min(S,T),v=!0),c.type==="date"&&d>w){var E=d===A?1:6,O=d===A?"M12":"M1";return function(P,I){var R=c.c2d(P,A,y),H=R.indexOf("-",E);H>0&&(R=R.substr(0,H));var z=c.d2c(R,0,y);if(z<P){var j=n(z,O,!1,y);(z+j)/2<P+l&&(z=j)}return I&&v?n(z,O,!0,y):z}}return function(P,I){var R=d*Math.round(P/d);return R+d/10<P&&R+.9*d<P+l&&(R+=d),I&&v&&(R-=d),R}}},35852:function(U,C,e){var k=e(38248),A=e(3400),o=e(24040),w=e(54460),b=e(84664),f=e(16964),s=e(10648),n=e(2e3),i=e(67712);function r(t,a,l,u,h){var c,y,d,v,g,x,m,_=u+"bins",p=t._fullLayout,S=a["_"+u+"bingroup"],T=p._histogramBinOpts[S],E=p.barmode==="overlay",O=function(_e){return l.r2c(_e,0,v)},P=function(_e){return l.c2r(_e,0,v)},I=l.type==="date"?function(_e){return _e||_e===0?A.cleanDate(_e,null,v):null}:function(_e){return k(_e)?Number(_e):null};function R(_e,be,Le){be[_e+"Found"]?(be[_e]=I(be[_e]),be[_e]===null&&(be[_e]=Le[_e])):(x[_e]=be[_e]=Le[_e],A.nestedProperty(y[0],_+"."+_e).set(Le[_e]))}if(a["_"+u+"autoBinFinished"])delete a["_"+u+"autoBinFinished"];else{y=T.traces;var H=[],z=!0,j=!1,Z=!1;for(c=0;c<y.length;c++)if((d=y[c]).visible){var F=T.dirs[c];g=d["_"+F+"pos0"]=l.makeCalcdata(d,F),H=A.concat(H,g),delete d["_"+u+"autoBinFinished"],a.visible===!0&&(z?z=!1:(delete d._autoBin,d["_"+u+"autoBinFinished"]=1),o.traceIs(d,"2dMap")&&(j=!0),d.type==="histogram2dcontour"&&(Z=!0))}v=y[0][u+"calendar"];var V=w.autoBin(H,l,T.nbins,j,v,T.sizeFound&&T.size),W=y[0]._autoBin={};if(x=W[T.dirs[0]]={},Z&&(T.size||(V.start=P(w.tickIncrement(O(V.start),V.size,!0,v))),T.end===void 0&&(V.end=P(w.tickIncrement(O(V.end),V.size,!1,v)))),E&&!o.traceIs(a,"2dMap")&&V._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&a.bingroup===""&&a.xbins===void 0){if(h)return[V,g,!0];V=function(_e,be,Le,De,ye){var le,oe,ve,Ce=_e._fullLayout,ke=function(Qe,lt){for(var ut=lt.xaxis,xt=lt.yaxis,_t=lt.orientation,mt=[],it=Qe._fullData,nt=0;nt<it.length;nt++){var Et=it[nt];Et.type==="histogram"&&Et.visible===!0&&Et.orientation===_t&&Et.xaxis===ut&&Et.yaxis===xt&&mt.push(Et)}return mt}(_e,be),Ae=!1,Ee=1/0,ze=[be];for(le=0;le<ke.length;le++)if((oe=ke[le])===be)Ae=!0;else if(Ae){var Fe=r(_e,oe,Le,De,!0),ge=Fe[0],Te=Fe[2];oe["_"+De+"autoBinFinished"]=1,oe["_"+De+"pos0"]=Fe[1],Te?ze.push(oe):Ee=Math.min(Ee,ge.size)}else ve=Ce._histogramBinOpts[oe["_"+De+"bingroup"]],Ee=Math.min(Ee,ve.size||oe[ye].size);var Se=new Array(ze.length);for(le=0;le<ze.length;le++)for(var Re=ze[le]["_"+De+"pos0"],Pe=0;Pe<Re.length;Pe++)if(Re[Pe]!==void 0){Se[le]=Re[Pe];break}for(isFinite(Ee)||(Ee=A.distinctVals(Se).minDiff),le=0;le<ze.length;le++){var Ve=(oe=ze[le])[De+"calendar"],We={start:Le.c2r(Se[le]-Ee/2,0,Ve),end:Le.c2r(Se[le]+Ee/2,0,Ve),size:Ee};oe._input[ye]=oe[ye]=We,(ve=Ce._histogramBinOpts[oe["_"+De+"bingroup"]])&&A.extendFlat(ve,We)}return be[ye]}(t,a,l,u,_)}(m=d.cumulative||{}).enabled&&m.currentbin!=="include"&&(m.direction==="decreasing"?V.start=P(w.tickIncrement(O(V.start),V.size,!0,v)):V.end=P(w.tickIncrement(O(V.end),V.size,!1,v))),T.size=V.size,T.sizeFound||(x.size=V.size,A.nestedProperty(y[0],_+".size").set(V.size)),R("start",T,V),R("end",T,V)}g=a["_"+u+"pos0"],delete a["_"+u+"pos0"];var re=a._input[_]||{},ne=A.extendFlat({},T),te=T.start,Q=l.r2l(re.start),$=Q!==void 0;if((T.startFound||$)&&Q!==l.r2l(te)){var K=$?Q:A.aggNums(Math.min,null,g),ae={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:T.size,tick0:te,calendar:v,range:[K,w.tickIncrement(K,T.size,!1,v)].map(l.l2r)},ue=w.tickFirst(ae);ue>l.r2l(K)&&(ue=w.tickIncrement(ue,T.size,!0,v)),ne.start=l.l2r(ue),$||A.nestedProperty(a,_+".start").set(ne.start)}var se=T.end,he=l.r2l(re.end),pe=he!==void 0;if((T.endFound||pe)&&he!==l.r2l(se)){var de=pe?he:A.aggNums(Math.max,null,g);ne.end=l.l2r(de),pe||A.nestedProperty(a,_+".start").set(ne.end)}var xe="autobin"+u;return a._input[xe]===!1&&(a._input[_]=A.extendFlat({},a[_]||{}),delete a._input[xe],delete a[xe]),[ne,g]}U.exports={calc:function(t,a){var l,u,h,c,y=[],d=[],v=a.orientation==="h",g=w.getFromId(t,v?a.yaxis:a.xaxis),x=v?"y":"x",m={x:"y",y:"x"}[x],_=a[x+"calendar"],p=a.cumulative,S=r(t,a,g,x),T=S[0],E=S[1],O=typeof T.size=="string",P=[],I=O?P:T,R=[],H=[],z=[],j=0,Z=a.histnorm,F=a.histfunc,V=Z.indexOf("density")!==-1;p.enabled&&V&&(Z=Z.replace(/ ?density$/,""),V=!1);var W,re=F==="max"||F==="min"?null:0,ne=f.count,te=s[Z],Q=!1,$=function(oe){return g.r2c(oe,0,_)};for(A.isArrayOrTypedArray(a[m])&&F!=="count"&&(W=a[m],Q=F==="avg",ne=f[F]),l=$(T.start),h=$(T.end)+(l-w.tickIncrement(l,T.size,!1,_))/1e6;l<h&&y.length<1e6&&(u=w.tickIncrement(l,T.size,!1,_),y.push((l+u)/2),d.push(re),z.push([]),P.push(l),V&&R.push(1/(u-l)),Q&&H.push(0),!(u<=l));)l=u;P.push(l),O||g.type!=="date"||(I={start:$(I.start),end:$(I.end),size:I.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var K=a["_"+x+"bingroup"],ae={leftGap:1/0,rightGap:1/0};K&&(t._fullLayout._roundFnOpts[K]||(t._fullLayout._roundFnOpts[K]=ae),ae=t._fullLayout._roundFnOpts[K]);var ue,se=d.length,he=!0,pe=ae.leftGap,de=ae.rightGap,xe={};for(l=0;l<E.length;l++){var _e=E[l];(c=A.findBin(_e,I))>=0&&c<se&&(j+=ne(c,l,d,W,H),he&&z[c].length&&_e!==E[z[c][0]]&&(he=!1),z[c].push(l),xe[l]=c,pe=Math.min(pe,_e-P[c]),de=Math.min(de,P[c+1]-_e))}ae.leftGap=pe,ae.rightGap=de,he||(ue=function(oe,ve){return function(){var Ce=t._fullLayout._roundFnOpts[K];return i(Ce.leftGap,Ce.rightGap,P,g,_)(oe,ve)}}),Q&&(j=n(d,H)),te&&te(d,j,R),p.enabled&&function(oe,ve,Ce){var ke,Ae,Ee;function ze(ge){Ee=oe[ge],oe[ge]/=2}function Fe(ge){Ae=oe[ge],oe[ge]=Ee+Ae/2,Ee+=Ae}if(Ce==="half")if(ve==="increasing")for(ze(0),ke=1;ke<oe.length;ke++)Fe(ke);else for(ze(oe.length-1),ke=oe.length-2;ke>=0;ke--)Fe(ke);else if(ve==="increasing"){for(ke=1;ke<oe.length;ke++)oe[ke]+=oe[ke-1];Ce==="exclude"&&(oe.unshift(0),oe.pop())}else{for(ke=oe.length-2;ke>=0;ke--)oe[ke]+=oe[ke+1];Ce==="exclude"&&(oe.push(0),oe.shift())}}(d,p.direction,p.currentbin);var be=Math.min(y.length,d.length),Le=[],De=0,ye=be-1;for(l=0;l<be;l++)if(d[l]){De=l;break}for(l=be-1;l>=De;l--)if(d[l]){ye=l;break}for(l=De;l<=ye;l++)if(k(y[l])&&k(d[l])){var le={p:y[l],s:d[l],b:0};p.enabled||(le.pts=z[l],he?le.ph0=le.ph1=z[l].length?E[z[l][0]]:y[l]:(a._computePh=!0,le.ph0=ue(P[l]),le.ph1=ue(P[l+1],!0))),Le.push(le)}return Le.length===1&&(Le[0].width1=w.tickIncrement(Le[0].p,T.size,!1,_)-Le[0].p),b(Le,a),A.isArrayOrTypedArray(a.selectedpoints)&&A.tagSelected(Le,a,xe),Le},calcAllAutoBins:r}},73316:function(U){U.exports={eventDataKeys:["binNumber"]}},80536:function(U,C,e){var k=e(3400),A=e(79811),o=e(24040).traceIs,w=e(20011),b=e(31508).validateCornerradius,f=k.nestedProperty,s=e(71888).getAxisGroup,n=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];U.exports=function(r,t){var a,l,u,h,c,y,d,v=t._histogramBinOpts={},g=[],x={},m=[];function _(re,ne){return k.coerce(a._input,a,a._module.attributes,re,ne)}function p(re){return re.orientation==="v"?"x":"y"}function S(re,ne,te){var Q=re.uid+"__"+te;ne||(ne=Q);var $=function(se,he){return A.getFromTrace({_fullLayout:t},se,he).type}(re,te),K=re[te+"calendar"]||"",ae=v[ne],ue=!0;ae&&($===ae.axType&&K===ae.calendar?(ue=!1,ae.traces.push(re),ae.dirs.push(te)):(ne=Q,$!==ae.axType&&k.warn(["Attempted to group the bins of trace",re.index,"set on a","type:"+$,"axis","with bins on","type:"+ae.axType,"axis."].join(" ")),K!==ae.calendar&&k.warn(["Attempted to group the bins of trace",re.index,"set with a",K,"calendar","with bins",ae.calendar?"on a "+ae.calendar+" calendar":"w/o a set calendar"].join(" ")))),ue&&(v[ne]={traces:[re],dirs:[te],axType:$,calendar:re[te+"calendar"]||""}),re["_"+te+"bingroup"]=ne}for(c=0;c<r.length;c++)if(a=r[c],o(a,"histogram")){if(g.push(a),delete a._xautoBinFinished,delete a._yautoBinFinished,a.type==="histogram"){var T=_("marker.cornerradius",t.barcornerradius);a.marker&&(a.marker.cornerradius=b(T))}o(a,"2dMap")||w(a._input,a,t,_)}var E=t._alignmentOpts||{};for(c=0;c<g.length;c++){if(a=g[c],u="",!o(a,"2dMap")){if(h=p(a),t.barmode==="group"&&a.alignmentgroup){var O=a[h+"axis"],P=s(t,O)+a.orientation;(E[P]||{})[a.alignmentgroup]&&(u=P)}u||t.barmode==="overlay"||(u=s(t,a.xaxis)+s(t,a.yaxis)+p(a))}u?(x[u]||(x[u]=[]),x[u].push(a)):m.push(a)}for(u in x)if((l=x[u]).length!==1){var I=!1;for(l.length&&(a=l[0],I=_("bingroup")),u=I||u,c=0;c<l.length;c++){var R=(a=l[c])._input.bingroup;R&&R!==u&&k.warn(["Trace",a.index,"must match","within bingroup",u+".","Ignoring its bingroup:",R,"setting."].join(" ")),a.bingroup=u,S(a,u,p(a))}}else m.push(l[0]);for(c=0;c<m.length;c++){a=m[c];var H=_("bingroup");if(o(a,"2dMap"))for(d=0;d<2;d++){var z=_((h=i[d])+"bingroup",H?H+"__"+h:null);S(a,z,h)}else S(a,H,p(a))}for(u in v){var j=v[u];for(l=j.traces,y=0;y<n.length;y++){var Z,F,V=n[y],W=V.name;if(W!=="nbins"||!j.sizeFound){for(c=0;c<l.length;c++){if(a=l[c],h=j.dirs[c],Z=V.aStr[h],f(a._input,Z).get()!==void 0){j[W]=_(Z),j[W+"Found"]=!0;break}(F=(a._autoBin||{})[h]||{})[W]&&f(a,Z).set(F[W])}if(W==="start"||W==="end")for(;c<l.length;c++)(a=l[c])["_"+h+"bingroup"]&&_(Z,(F=(a._autoBin||{})[h]||{})[W]);W!=="nbins"||j.sizeFound||j.nbinsFound||(a=l[0],j[W]=_(Z))}}}}},6616:function(U,C,e){var k=e(24040),A=e(3400),o=e(76308),w=e(31508).handleText,b=e(55592),f=e(40196);U.exports=function(s,n,i,r){function t(x,m){return A.coerce(s,n,f,x,m)}var a=t("x"),l=t("y");t("cumulative.enabled")&&(t("cumulative.direction"),t("cumulative.currentbin")),t("text");var u=t("textposition");w(s,n,r,t,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),t("hovertext"),t("hovertemplate"),t("xhoverformat"),t("yhoverformat");var h=t("orientation",l&&!a?"h":"v"),c=h==="v"?"x":"y",y=h==="v"?"y":"x",d=a&&l?Math.min(A.minRowLength(a)&&A.minRowLength(l)):A.minRowLength(n[c]||[]);if(d){n._length=d,k.getComponentMethod("calendars","handleTraceDefaults")(s,n,["x","y"],r),n[y]&&t("histfunc"),t("histnorm"),t("autobin"+c),b(s,n,t,i,r),A.coerceSelectionMarkerOpacity(n,t);var v=(n.marker.line||{}).color,g=k.getComponentMethod("errorbars","supplyDefaults");g(s,n,v||o.defaultLine,{axis:"y"}),g(s,n,v||o.defaultLine,{axis:"x",inherit:"y"}),t("zorder")}else n.visible=!1}},84980:function(U){U.exports=function(C,e,k,A,o){if(C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(C.z=e.zLabelVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),!(k.cumulative||{}).enabled){var w,b=Array.isArray(o)?A[0].pts[o[0]][o[1]]:A[o].pts;if(C.pointNumbers=b,C.binNumber=C.pointNumber,delete C.pointNumber,delete C.pointIndex,k._indexToPoints){w=[];for(var f=0;f<b.length;f++)w=w.concat(k._indexToPoints[b[f]])}else w=b;C.pointIndices=w}return C}},43339:function(U,C,e){var k=e(63400).hoverPoints,A=e(54460).hoverLabelText;U.exports=function(o,w,b,f,s){var n=k(o,w,b,f,s);if(n){var i=(o=n[0]).cd[o.index],r=o.cd[0].trace;if(!r.cumulative.enabled){var t=r.orientation==="h"?"y":"x";o[t+"Label"]=A(o[t+"a"],[i.ph0,i.ph1],r[t+"hoverformat"])}return n}}},42600:function(U,C,e){U.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(U){U.exports={percent:function(C,e){for(var k=C.length,A=100/e,o=0;o<k;o++)C[o]*=A},probability:function(C,e){for(var k=C.length,A=0;A<k;A++)C[A]/=e},density:function(C,e,k,A){var o=C.length;A=A||1;for(var w=0;w<o;w++)C[w]*=k[w]*A},"probability density":function(C,e,k,A){var o=C.length;A&&(e/=A);for(var w=0;w<o;w++)C[w]*=k[w]/e}}},37008:function(U,C,e){var k=e(40196),A=e(11120),o=e(83328),w=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,n=e(49084),i=e(92880).extendFlat;U.exports=i({x:k.x,y:k.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:k.histnorm,histfunc:k.histfunc,nbinsx:k.nbinsx,xbins:A("x"),nbinsy:k.nbinsy,ybins:A("y"),autobinx:k.autobinx,autobiny:k.autobiny,bingroup:i({},k.bingroup,{}),xbingroup:i({},k.bingroup,{}),ybingroup:i({},k.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:f({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:o.textfont,showlegend:i({},w.showlegend,{dflt:!1})},n("",{cLetter:"z",autoColorDflt:!1}))},55480:function(U,C,e){var k=e(3400),A=e(54460),o=e(16964),w=e(10648),b=e(2e3),f=e(67712),s=e(35852).calcAllAutoBins;function n(t,a,l,u){var h,c=new Array(t);if(u)for(h=0;h<t;h++)c[h]=1/(a[h+1]-a[h]);else{var y=1/l;for(h=0;h<t;h++)c[h]=y}return c}function i(t,a){return{start:t(a.start),end:t(a.end),size:a.size}}function r(t,a,l,u,h,c){var y,d=t.length-1,v=new Array(d),g=f(l,u,t,h,c);for(y=0;y<d;y++){var x=(a||[])[y];v[y]=x===void 0?[g(t[y]),g(t[y+1],!0)]:[x,x]}return v}U.exports=function(t,a){var l,u,h,c,y=A.getFromId(t,a.xaxis),d=A.getFromId(t,a.yaxis),v=a.xcalendar,g=a.ycalendar,x=function(xt){return y.r2c(xt,0,v)},m=function(xt){return d.r2c(xt,0,g)},_=s(t,a,y,"x"),p=_[0],S=_[1],T=s(t,a,d,"y"),E=T[0],O=T[1],P=a._length;S.length>P&&S.splice(P,S.length-P),O.length>P&&O.splice(P,O.length-P);var I=[],R=[],H=[],z=typeof p.size=="string",j=typeof E.size=="string",Z=[],F=[],V=z?Z:p,W=j?F:E,re=0,ne=[],te=[],Q=a.histnorm,$=a.histfunc,K=Q.indexOf("density")!==-1,ae=$==="max"||$==="min"?null:0,ue=o.count,se=w[Q],he=!1,pe=[],de=[],xe="z"in a?a.z:"marker"in a&&Array.isArray(a.marker.color)?a.marker.color:"";xe&&$!=="count"&&(he=$==="avg",ue=o[$]);var _e=p.size,be=x(p.start),Le=x(p.end)+(be-A.tickIncrement(be,_e,!1,v))/1e6;for(l=be;l<Le;l=A.tickIncrement(l,_e,!1,v))R.push(ae),Z.push(l),he&&H.push(0);Z.push(l);var De,ye=R.length,le=(l-be)/ye,oe=(De=be+le/2,y.c2r(De,0,v)),ve=E.size,Ce=m(E.start),ke=m(E.end)+(Ce-A.tickIncrement(Ce,ve,!1,g))/1e6;for(l=Ce;l<ke;l=A.tickIncrement(l,ve,!1,g)){I.push(R.slice()),F.push(l);var Ae=new Array(ye);for(u=0;u<ye;u++)Ae[u]=[];te.push(Ae),he&&ne.push(H.slice())}F.push(l);var Ee=I.length,ze=(l-Ce)/Ee,Fe=function(xt){return d.c2r(xt,0,g)}(Ce+ze/2);K&&(pe=n(R.length,V,le,z),de=n(I.length,W,ze,j)),z||y.type!=="date"||(V=i(x,V)),j||d.type!=="date"||(W=i(m,W));var ge=!0,Te=!0,Se=new Array(ye),Re=new Array(Ee),Pe=1/0,Ve=1/0,We=1/0,Qe=1/0;for(l=0;l<P;l++){var lt=S[l],ut=O[l];h=k.findBin(lt,V),c=k.findBin(ut,W),h>=0&&h<ye&&c>=0&&c<Ee&&(re+=ue(h,l,I[c],xe,ne[c]),te[c][h].push(l),ge&&(Se[h]===void 0?Se[h]=lt:Se[h]!==lt&&(ge=!1)),Te&&(Re[c]===void 0?Re[c]=ut:Re[c]!==ut&&(Te=!1)),Pe=Math.min(Pe,lt-Z[h]),Ve=Math.min(Ve,Z[h+1]-lt),We=Math.min(We,ut-F[c]),Qe=Math.min(Qe,F[c+1]-ut))}if(he)for(c=0;c<Ee;c++)re+=b(I[c],ne[c]);if(se)for(c=0;c<Ee;c++)se(I[c],re,pe,de[c]);return{x:S,xRanges:r(Z,ge&&Se,Pe,Ve,y,v),x0:oe,dx:le,y:O,yRanges:r(F,Te&&Re,We,Qe,d,g),y0:Fe,dy:ze,z:I,pts:te}}},99784:function(U,C,e){var k=e(3400),A=e(56408),o=e(82748),w=e(27260),b=e(39096),f=e(37008);U.exports=function(s,n,i,r){function t(a,l){return k.coerce(s,n,f,a,l)}A(s,n,t,r),n.visible!==!1&&(o(s,n,t,r),w(s,n,r,t,{prefix:"",cLetter:"z"}),t("hovertemplate"),b(t,r),t("xhoverformat"),t("yhoverformat"))}},59576:function(U,C,e){var k=e(55512),A=e(54460).hoverLabelText;U.exports=function(o,w,b,f,s){var n=k(o,w,b,f,s);if(n){var i=(o=n[0]).index,r=i[0],t=i[1],a=o.cd[0],l=a.trace,u=a.xRanges[t],h=a.yRanges[r];return o.xLabel=A(o.xa,[u[0],u[1]],l.xhoverformat),o.yLabel=A(o.ya,[h[0],h[1]],l.yhoverformat),n}}},21536:function(U,C,e){U.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(U,C,e){var k=e(24040),A=e(3400);U.exports=function(o,w,b,f){var s=b("x"),n=b("y"),i=A.minRowLength(s),r=A.minRowLength(n);i&&r?(w._length=Math.min(i,r),k.getComponentMethod("calendars","handleTraceDefaults")(o,w,["x","y"],f),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):w.visible=!1}},81220:function(U,C,e){var k=e(37008),A=e(67104),o=e(49084),w=e(29736).axisHoverFormat,b=e(92880).extendFlat;U.exports=b({x:k.x,y:k.y,z:k.z,marker:k.marker,histnorm:k.histnorm,histfunc:k.histfunc,nbinsx:k.nbinsx,xbins:k.xbins,nbinsy:k.nbinsy,ybins:k.ybins,autobinx:k.autobinx,autobiny:k.autobiny,bingroup:k.bingroup,xbingroup:k.xbingroup,ybingroup:k.ybingroup,autocontour:A.autocontour,ncontours:A.ncontours,contours:A.contours,line:{color:A.line.color,width:b({},A.line.width,{dflt:.5}),dash:A.line.dash,smoothing:A.line.smoothing,editType:"plot"},xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:k.hovertemplate,texttemplate:A.texttemplate,textfont:A.textfont},o("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(U,C,e){var k=e(3400),A=e(56408),o=e(84952),w=e(97680),b=e(39096),f=e(81220);U.exports=function(s,n,i,r){function t(a,l){return k.coerce(s,n,f,a,l)}A(s,n,t,r),n.visible!==!1&&(o(s,n,t,function(a){return k.coerce2(s,n,f,a)}),w(s,n,t,r),t("xhoverformat"),t("yhoverformat"),t("hovertemplate"),n.contours&&n.contours.coloring==="heatmap"&&b(t,r))}},65664:function(U,C,e){U.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(49084),w=e(86968).u,b=e(74996),f=e(424),s=e(40516),n=e(32984),i=e(92880).extendFlat,r=e(98192).c;U.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:f.marker.colors,line:f.marker.line,pattern:r,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:f.leaf,pathbar:s.pathbar,text:b.text,textinfo:f.textinfo,texttemplate:A({editType:"plot"},{keys:n.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:k({},{keys:n.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:b.sort,root:f.root,domain:w({name:"icicle",trace:!0,editType:"calc"})}},59564:function(U,C,e){var k=e(7316);C.name="icicle",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},73876:function(U,C,e){var k=e(3776);C.r=function(A,o){return k.calc(A,o)},C.q=function(A){return k._runCrossTraceCalc("icicle",A)}},7045:function(U,C,e){var k=e(3400),A=e(97376),o=e(76308),w=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,n=e(8932),i=n.hasColorscale,r=n.handleDefaults;U.exports=function(t,a,l,u){function h(m,_){return k.coerce(t,a,A,m,_)}var c=h("labels"),y=h("parents");if(c&&c.length&&y&&y.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",k.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var g=h("pathbar.visible");b(t,a,u,h,"auto",{hasPathbar:g,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(t,a,u,h);var x=a._hasColorscale=i(t,"marker","colors")||(t.marker||{}).coloraxis;x&&r(t,a,u,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",x?1:.7),a._hovered={marker:{line:{width:2,color:o.contrast(u.paper_bgcolor)}}},g&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),w(a,u,h),a._length=null}else a.visible=!1}},67880:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(72736),b=e(25132),f=e(47192).styleOne,s=e(32984),n=e(78176),i=e(45716),r=e(96488).formatSliceLabel,t=!1;U.exports=function(a,l,u,h,c){var y=c.width,d=c.height,v=c.viewX,g=c.viewY,x=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,p=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,O=c.prevEntry,P=a._context.staticPlot,I=a._fullLayout,R=l[0].trace,H=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,j=R.textposition.indexOf("bottom")!==-1,Z=b(u,[y,d],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),F=1/0,V=-1/0;Z.forEach(function(Q){var $=Q.depth;$>=R._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(F=Math.min(F,$),V=Math.max(V,$))}),h=h.data(Z,n.getPtId),R._maxVisibleLayers=isFinite(V)?V-F+1:0,h.enter().append("g").classed("slice",!0),S(h,t,{},[y,d],x),h.order();var W=null;if(p&&O){var re=n.getPtId(O);h.each(function(Q){W===null&&n.getPtId(Q)===re&&(W={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ne=function(){return W||{x0:0,x1:y,y0:0,y1:d}},te=h;return p&&(te=te.transition().each("end",function(){var Q=k.select(this);n.setSliceCursor(Q,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),te.each(function(Q){Q._x0=v(Q.x0),Q._x1=v(Q.x1),Q._y0=g(Q.y0),Q._y1=g(Q.y1),Q._hoverX=v(Q.x1-R.tiling.pad),Q._hoverY=g(j?Q.y1-R.tiling.pad/2:Q.y0+R.tiling.pad/2);var $=k.select(this),K=A.ensureSingle($,"path","surface",function(he){he.style("pointer-events",P?"none":"all")});p?K.transition().attrTween("d",function(he){var pe=T(he,t,ne(),[y,d],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(de){return x(pe(de))}}):K.attr("d",x),$.call(i,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,a,{isTransitioning:a._transitioning}),K.call(f,Q,R,a,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":Q._text=r(Q,u,R,l,I)||"";var ae=A.ensureSingle($,"g","slicetext"),ue=A.ensureSingle(ae,"text","",function(he){he.attr("data-notex",1)}),se=A.ensureUniformFontSize(a,n.determineTextFont(R,Q,I.font));ue.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":H?"start":"middle").call(o.font,se).call(w.convertToTspans,a),Q.textBB=o.bBox(ue.node()),Q.transform=m(Q,{fontSize:se.size}),Q.transform.fontSize=se.size,p?ue.transition().attrTween("transform",function(he){var pe=E(he,t,ne(),[y,d]);return function(de){return _(pe(de))}}):ue.attr("transform",_(Q))}),W}},29044:function(U,C,e){U.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(U){U.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(U,C,e){var k=e(3400),A=e(90676);U.exports=function(o,w){function b(f,s){return k.coerce(o,w,A,f,s)}b("iciclecolorway",w.colorway),b("extendiciclecolors")}},25132:function(U,C,e){var k=e(74148),A=e(83024);U.exports=function(o,w,b){var f=b.flipX,s=b.flipY,n=b.orientation==="h",i=b.maxDepth,r=w[0],t=w[1];i&&(r=(o.height+1)*w[0]/Math.min(o.height+1,i),t=(o.height+1)*w[1]/Math.min(o.height+1,i));var a=k.partition().padding(b.pad.inner).size(n?[w[1],r]:[w[0],t])(o);return(n||f||s)&&A(a,w,{swapXY:n,flipX:f,flipY:s}),a}},38364:function(U,C,e){var k=e(95808),A=e(67880);U.exports=function(o,w,b,f){return k(o,w,b,f,{type:"icicle",drawDescendants:A})}},47192:function(U,C,e){var k=e(33428),A=e(76308),o=e(3400),w=e(82744).resizeText,b=e(60404);function f(s,n,i,r){var t=n.data.data,a=!n.children,l=t.i,u=o.castOption(i,l,"marker.line.color")||A.defaultLine,h=o.castOption(i,l,"marker.line.width")||0;s.call(b,n,i,r).style("stroke-width",h).call(A.stroke,u).style("opacity",a?i.leaf.opacity:null)}U.exports={style:function(s){var n=s._fullLayout._iciclelayer.selectAll(".trace");w(s,n,"icicle"),n.each(function(i){var r=k.select(this),t=i[0].trace;r.style("opacity",t.opacity),r.selectAll("path.surface").each(function(a){k.select(this).call(f,a,t,s)})})},styleOne:f}},95188:function(U,C,e){for(var k=e(45464),A=e(52904).zorder,o=e(21776).Ks,w=e(92880).extendFlat,b=e(47797).colormodel,f=["rgb","rgba","rgba256","hsl","hsla"],s=[],n=[],i=0;i<f.length;i++){var r=b[f[i]];s.push("For the `"+f[i]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),n.push("For the `"+f[i]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}U.exports=w({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:f,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:w({},k.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:o({},{keys:["z","color","colormodel"]}),zorder:A,transforms:void 0})},93336:function(U,C,e){var k=e(3400),A=e(47797),o=e(38248),w=e(54460),b=e(3400).maxRowLength,f=e(18712).i;function s(i,r,t,a){return function(l){return k.constrain((l-i)*r,t,a)}}function n(i,r){return function(t){return k.constrain(t,i,r)}}U.exports=function(i,r){var t,a;if(r._hasZ)t=r.z.length,a=b(r.z);else if(r._hasSource){var l=f(r.source);t=l.height,a=l.width}var u,h=w.getFromId(i,r.xaxis||"x"),c=w.getFromId(i,r.yaxis||"y"),y=h.d2c(r.x0)-r.dx/2,d=c.d2c(r.y0)-r.dy/2,v=[y,y+a*r.dx],g=[d,d+t*r.dy];if(h&&h.type==="log")for(u=0;u<a;u++)v.push(y+u*r.dx);if(c&&c.type==="log")for(u=0;u<t;u++)g.push(d+u*r.dy);return r._extremes[h._id]=w.findExtremes(h,v),r._extremes[c._id]=w.findExtremes(c,g),r._scaler=function(x){var m=A.colormodel[x.colormodel],_=(m.colormodel||x.colormodel).length;x._sArray=[];for(var p=0;p<_;p++)m.min[p]!==x.zmin[p]||m.max[p]!==x.zmax[p]?x._sArray.push(s(x.zmin[p],(m.max[p]-m.min[p])/(x.zmax[p]-x.zmin[p]),m.min[p],m.max[p])):x._sArray.push(n(m.min[p],m.max[p]));return function(S){for(var T=S.slice(0,_),E=0;E<_;E++){var O=T[E];if(!o(O))return!1;T[E]=x._sArray[E](O)}return T}}(r),[{x0:y,y0:d,z:r.z,w:a,h:t}]}},47797:function(U){U.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(C){return C.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(C){var e=C.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(C){var e=C.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(U,C,e){var k=e(3400),A=e(95188),o=e(47797),w=e(81792).IMAGE_URL_PREFIX;U.exports=function(b,f){function s(r,t){return k.coerce(b,f,A,r,t)}s("source"),f.source&&!f.source.match(w)&&delete f.source,f._hasSource=!!f.source;var n,i=s("z");f._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),f._hasZ||f._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),f._hasZ?(s("colormodel","rgb"),s("zmin",(n=o.colormodel[f.colormodel]).zminDflt||n.min),s("zmax",n.zmaxDflt||n.max)):f._hasSource&&(f.colormodel="rgba256",n=o.colormodel[f.colormodel],f.zmin=n.zminDflt,f.zmax=n.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),f._length=null,s("zorder")):f.visible=!1}},79972:function(U){U.exports=function(C,e){return"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C.color=e.color,C.colormodel=e.trace.colormodel,C.z||(C.z=e.color),C}},18712:function(U,C,e){var k=e(19480),A=e(81792).IMAGE_URL_PREFIX,o=e(33576).Buffer;C.i=function(w){var b=w.replace(A,""),f=new o(b,"base64");return k(f)}},24892:function(U,C,e){var k=e(93024),A=e(3400),o=A.isArrayOrTypedArray,w=e(47797);U.exports=function(b,f,s){var n=b.cd[0],i=n.trace,r=b.xa,t=b.ya;if(!(k.inbox(f-n.x0,f-(n.x0+n.w*i.dx),0)>0||k.inbox(s-n.y0,s-(n.y0+n.h*i.dy),0)>0)){var a,l=Math.floor((f-n.x0)/i.dx),u=Math.floor(Math.abs(s-n.y0)/i.dy);if(i._hasZ?a=n.z[u][l]:i._hasSource&&(a=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),a){var h,c=n.hi||i.hoverinfo;if(c){var y=c.split("+");y.indexOf("all")!==-1&&(y=["color"]),y.indexOf("color")!==-1&&(h=!0)}var d,v=w.colormodel[i.colormodel],g=v.colormodel||i.colormodel,x=g.length,m=i._scaler(a),_=v.suffix,p=[];(i.hovertemplate||h)&&(p.push("["+[m[0]+_[0],m[1]+_[1],m[2]+_[2]].join(", ")),x===4&&p.push(", "+m[3]+_[3]),p.push("]"),p=p.join(""),b.extraText=g.toUpperCase()+": "+p),o(i.hovertext)&&o(i.hovertext[u])?d=i.hovertext[u][l]:o(i.text)&&o(i.text[u])&&(d=i.text[u][l]);var S=t.c2p(n.y0+(u+.5)*i.dy),T=n.x0+(l+.5)*i.dx,E=n.y0+(u+.5)*i.dy,O="["+a.slice(0,i.colormodel.length).join(", ")+"]";return[A.extendFlat(b,{index:[u,l],x0:r.c2p(n.x0+l*i.dx),x1:r.c2p(n.x0+(l+1)*i.dx),y0:S,y1:S,color:m,xVal:T,xLabelVal:T,yVal:E,yLabelVal:E,zLabelVal:O,text:d,hovertemplateLabels:{zLabel:O,colorLabel:p,"color[0]Label":m[0]+_[0],"color[1]Label":m[1]+_[1],"color[2]Label":m[2]+_[2],"color[3]Label":m[3]+_[3]}})]}}}},48928:function(U,C,e){U.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(U,C,e){var k=e(33428),A=e(3400),o=A.strTranslate,w=e(9616),b=e(47797),f=e(9188),s=e(2264).STYLE;U.exports=function(n,i,r,t){var a=i.xaxis,l=i.yaxis,u=!n._context._exportedPlot&&f();A.makeTraceGroups(t,r,"im").each(function(h){var c=k.select(this),y=h[0],d=y.trace,v=(d.zsmooth==="fast"||d.zsmooth===!1&&u)&&!d._hasZ&&d._hasSource&&a.type==="linear"&&l.type==="linear";d._realImage=v;var g,x,m,_,p,S,T=y.z,E=y.x0,O=y.y0,P=y.w,I=y.h,R=d.dx,H=d.dy;for(S=0;g===void 0&&S<P;)g=a.c2p(E+S*R),S++;for(S=P;x===void 0&&S>0;)x=a.c2p(E+S*R),S--;for(S=0;_===void 0&&S<I;)_=l.c2p(O+S*H),S++;for(S=I;p===void 0&&S>0;)p=l.c2p(O+S*H),S--;x<g&&(m=x,x=g,g=m),p<_&&(m=_,_=p,p=m),v||(g=Math.max(-.5*a._length,g),x=Math.min(1.5*a._length,x),_=Math.max(-.5*l._length,_),p=Math.min(1.5*l._length,p));var z=Math.round(x-g),j=Math.round(p-_);if(z<=0||j<=0)c.selectAll("image").data([]).exit().remove();else{var Z=c.selectAll("image").data([h]);Z.enter().append("svg:image").attr({xmlns:w.svg,preserveAspectRatio:"none"}),Z.exit().remove();var F=d.zsmooth===!1?s:"";if(v){var V=A.simpleMap(a.range,a.r2l),W=A.simpleMap(l.range,l.r2l),re=V[1]<V[0],ne=W[1]>W[0];if(re||ne){var te=g+z/2,Q=_+j/2;F+="transform:"+o(te+"px",Q+"px")+"scale("+(re?-1:1)+","+(ne?-1:1)+")"+o(-te+"px",-Q+"px")+";"}}Z.attr("style",F);var $=new Promise(function(ae){if(d._hasZ)ae();else if(d._hasSource)if(d._canvas&&d._canvas.el.width===P&&d._canvas.el.height===I&&d._canvas.source===d.source)ae();else{var ue=document.createElement("canvas");ue.width=P,ue.height=I;var se=ue.getContext("2d",{willReadFrequently:!0});d._image=d._image||new Image;var he=d._image;he.onload=function(){se.drawImage(he,0,0),d._canvas={el:ue,source:d.source},ae()},he.setAttribute("src",d.source)}}).then(function(){var ae,ue;if(d._hasZ)ue=K(function(he,pe){var de=T[pe][he];return A.isTypedArray(de)&&(de=Array.from(de)),de}),ae=ue.toDataURL("image/png");else if(d._hasSource)if(v)ae=d.source;else{var se=d._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,I).data;ue=K(function(he,pe){var de=4*(pe*P+he);return[se[de],se[de+1],se[de+2],se[de+3]]}),ae=ue.toDataURL("image/png")}Z.attr({"xlink:href":ae,height:j,width:z,x:g,y:_})});n._promises.push($)}function K(ae){var ue=document.createElement("canvas");ue.width=z,ue.height=j;var se,he=ue.getContext("2d",{willReadFrequently:!0}),pe=function(ve){return A.constrain(Math.round(a.c2p(E+ve*R)-g),0,z)},de=function(ve){return A.constrain(Math.round(l.c2p(O+ve*H)-_),0,j)},xe=b.colormodel[d.colormodel],_e=xe.colormodel||d.colormodel,be=xe.fmt;for(S=0;S<y.w;S++){var Le=pe(S),De=pe(S+1);if(De!==Le&&!isNaN(De)&&!isNaN(Le))for(var ye=0;ye<y.h;ye++){var le=de(ye),oe=de(ye+1);oe===le||isNaN(oe)||isNaN(le)||!ae(S,ye)||(se=d._scaler(ae(S,ye)),he.fillStyle=se?_e+"("+be(se).join(",")+")":"rgba(0,0,0,0)",he.fillRect(Le,le,De-Le,oe-le))}}return ue}})}},28576:function(U,C,e){var k=e(33428);U.exports=function(A){k.select(A).selectAll(".im image").style("opacity",function(o){return o[0].trace.opacity})}},89864:function(U,C,e){var k=e(92880).extendFlat,A=e(92880).extendDeep,o=e(67824).overrideAll,w=e(25376),b=e(22548),f=e(86968).u,s=e(94724),n=e(31780).templatedArray,i=e(48164),r=e(29736).descriptionOnlyNumbers,t=w({editType:"plot",colorEditType:"plot"}),a={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=n("step",A({},a,{range:l}));U.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:f({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:k({},t,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:k({},t,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:k({},t,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:A({},a,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:o({range:l,visible:k({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:k({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:w({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:k({},a.line.color,{}),width:k({},a.line.width,{dflt:1}),editType:"plot"},thickness:k({},a.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(U,C,e){var k=e(7316);C.name="indicator",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},79136:function(U){U.exports={calc:function(C,e){var k=[],A=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var o=e._lastValue,w=o;return e._hasDelta&&typeof e.delta.reference=="number"&&(w=e.delta.reference),k[0]={y:A,lastY:o,delta:A-w,relativeDelta:(A-w)/w},k}}},12096:function(U){U.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(U,C,e){var k=e(3400),A=e(89864),o=e(86968).Q,w=e(31780),b=e(51272),f=e(12096),s=e(26332),n=e(25404),i=e(95936),r=e(42568);function t(a,l){function u(h,c){return k.coerce(a,l,A.gauge.steps,h,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}U.exports={supplyDefaults:function(a,l,u,h){function c(R,H){return k.coerce(a,l,A,R,H)}o(l,h,c),c("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var y=c("value");l._range=[0,typeof y=="number"?1.5*y:1];var d,v,g=new Array(2);if(l._hasNumber){c("number.valueformat");var x=k.extendFlat({},h.font);x.size=void 0,k.coerceFont(c,"number.font",x),l.number.font.size===void 0&&(l.number.font.size=f.defaultNumberFontSize,g[0]=!0),c("number.prefix"),c("number.suffix"),d=l.number.font.size}if(l._hasDelta){var m=k.extendFlat({},h.font);m.size=void 0,k.coerceFont(c,"delta.font",m),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||f.defaultNumberFontSize),g[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),v=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||g[0])&&(!l._hasDelta||g[1])||!1;var _,p,S,T,E=k.extendFlat({},h.font);function O(R,H){return k.coerce(_,p,A.gauge,R,H)}function P(R,H){return k.coerce(S,T,A.gauge.axis,R,H)}if(E.size=.25*(d||v||f.defaultNumberFontSize),k.coerceFont(c,"title.font",E),c("title.text"),l._hasGauge){(_=a.gauge)||(_={}),p=w.newContainer(l,"gauge"),O("shape"),(l._isBullet=l.gauge.shape==="bullet")||c("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||c("align","center"),O("bgcolor",h.paper_bgcolor),O("borderwidth"),O("bordercolor"),O("bar.color"),O("bar.line.color"),O("bar.line.width"),O("bar.thickness",f.valueThickness*(l.gauge.shape==="bullet"?.5:1)),b(_,p,{name:"steps",handleItemDefaults:t}),O("threshold.value"),O("threshold.thickness"),O("threshold.line.width"),O("threshold.line.color"),S={},_&&(S=_.axis||{}),T=w.newContainer(p,"axis"),P("visible"),l._range=P("range",l._range);var I={font:h.font,noAutotickangles:!0,outerTicks:!0};s(S,T,P,"linear"),r(S,T,P,"linear",I),i(S,T,P,"linear",I),n(S,T,P,I)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(U,C,e){U.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(U,C,e){var k=e(33428),A=e(67756).qy,o=e(67756).Gz,w=e(3400),b=w.strScale,f=w.strTranslate,s=w.rad2deg,n=e(84284).MID_SHIFT,i=e(43616),r=e(12096),t=e(72736),a=e(54460),l=e(28336),u=e(37668),h=e(94724),c=e(76308),y={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},v=/[yzafpnµmkMGTPEZY]/;function g(T){return T&&T.duration>0}function x(T){T.each(function(E){c.stroke(k.select(this),E.line.color)}).each(function(E){c.fill(k.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(T,E,O){var P=T._fullLayout,I=w.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},E),R={type:"linear",_id:"x"+E._id},H={letter:"x",font:P.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function z(j,Z){return w.coerce(I,R,h,j,Z)}return l(I,R,z,H,P),u(I,R,z,H),R}function _(T,E,O){return[Math.min(E/T.width,O/T.height),T,E+"x"+O]}function p(T,E,O,P){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),R=k.select(I);return R.text(T).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",T).call(t.convertToTspans,P).call(i.font,E),i.bBox(R.node())}function S(T,E,O,P,I,R){var H="_cache"+E;T[H]&&T[H].key===I||(T[H]={key:I,value:O});var z=w.aggNums(R,null,[T[H].value,P],2);return T[H].value=z,z}U.exports=function(T,E,O,P){var I,R=T._fullLayout;g(O)&&P&&(I=P()),w.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(H){var z,j,Z,F,V,W=H[0].trace,re=k.select(this),ne=W._hasGauge,te=W._isAngular,Q=W._isBullet,$=W.domain,K={w:R._size.w*($.x[1]-$.x[0]),h:R._size.h*($.y[1]-$.y[0]),l:R._size.l+R._size.w*$.x[0],r:R._size.r+R._size.w*(1-$.x[1]),t:R._size.t+R._size.h*(1-$.y[1]),b:R._size.b+R._size.h*$.y[0]},ae=K.l+K.w/2,ue=K.t+K.h/2,se=Math.min(K.w/2,K.h),he=r.innerRadius*se,pe=W.align||"center";if(j=ue,ne){if(te&&(z=ae,j=ue+se/2,Z=function(le){return function(oe,ve){return[ve/Math.sqrt(oe.width/2*(oe.width/2)+oe.height*oe.height),oe,ve]}(le,.9*he)}),Q){var de=r.bulletPadding,xe=1-r.bulletNumberDomainSize+de;z=K.l+(xe+(1-xe)*d[pe])*K.w,Z=function(le){return _(le,(r.bulletNumberDomainSize-de)*K.w,K.h)}}}else z=K.l+d[pe]*K.w,Z=function(le){return _(le,K.w,K.h)};(function(le,oe,ve,Ce){var ke,Ae,Ee,ze=ve[0].trace,Fe=Ce.numbersX,ge=Ce.numbersY,Te=ze.align||"center",Se=y[Te],Re=Ce.transitionOpts,Pe=Ce.onComplete,Ve=w.ensureSingle(oe,"g","numbers"),We=[];ze._hasNumber&&We.push("number"),ze._hasDelta&&(We.push("delta"),ze.delta.position==="left"&&We.reverse());var Qe=Ve.selectAll("text").data(We);function lt(Rt,Ft,Pt,Ze){if(!Rt.match("s")||Pt>=0==Ze>=0||Ft(Pt).slice(-1).match(v)||Ft(Ze).slice(-1).match(v))return Ft;var $e=Rt.slice().replace("s","f").replace(/\d+/,function(Je){return parseInt(Je)-1}),He=m(le,{tickformat:$e});return function(Je){return Math.abs(Je)<1?a.tickText(He,Je).text:Ft(Je)}}Qe.enter().append("text"),Qe.attr("text-anchor",function(){return Se}).attr("class",function(Rt){return Rt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Qe.exit().remove();var ut,xt=ze.mode+ze.align;if(ze._hasDelta&&(ut=function(){var Rt=m(le,{tickformat:ze.delta.valueformat},ze._range);Rt.setScale(),a.prepTicks(Rt);var Ft=function(je){return a.tickText(Rt,je).text},Pt=ze.delta.suffix,Ze=ze.delta.prefix,$e=function(je){return ze.delta.relative?je.relativeDelta:je.delta},He=function(je,Ue){return je===0||typeof je!="number"||isNaN(je)?"-":(je>0?ze.delta.increasing.symbol:ze.delta.decreasing.symbol)+Ze+Ue(je)+Pt},Je=function(je){return je.delta>=0?ze.delta.increasing.color:ze.delta.decreasing.color};ze._deltaLastValue===void 0&&(ze._deltaLastValue=$e(ve[0]));var ft=Ve.select("text.delta");function ot(){ft.text(He($e(ve[0]),Ft)).call(c.fill,Je(ve[0])).call(t.convertToTspans,le)}return ft.call(i.font,ze.delta.font).call(c.fill,Je({delta:ze._deltaLastValue})),g(Re)?ft.transition().duration(Re.duration).ease(Re.easing).tween("text",function(){var je=k.select(this),Ue=$e(ve[0]),st=ze._deltaLastValue,Ke=lt(ze.delta.valueformat,Ft,st,Ue),gt=o(st,Ue);return ze._deltaLastValue=Ue,function(yt){je.text(He(gt(yt),Ke)),je.call(c.fill,Je({delta:gt(yt)}))}}).each("end",function(){ot(),Pe&&Pe()}).each("interrupt",function(){ot(),Pe&&Pe()}):ot(),Ae=p(He($e(ve[0]),Ft),ze.delta.font,Se,le),ft}(),xt+=ze.delta.position+ze.delta.font.size+ze.delta.font.family+ze.delta.valueformat,xt+=ze.delta.increasing.symbol+ze.delta.decreasing.symbol,Ee=Ae),ze._hasNumber&&(function(){var Rt=m(le,{tickformat:ze.number.valueformat},ze._range);Rt.setScale(),a.prepTicks(Rt);var Ft=function(Je){return a.tickText(Rt,Je).text},Pt=ze.number.suffix,Ze=ze.number.prefix,$e=Ve.select("text.number");function He(){var Je=typeof ve[0].y=="number"?Ze+Ft(ve[0].y)+Pt:"-";$e.text(Je).call(i.font,ze.number.font).call(t.convertToTspans,le)}g(Re)?$e.transition().duration(Re.duration).ease(Re.easing).each("end",function(){He(),Pe&&Pe()}).each("interrupt",function(){He(),Pe&&Pe()}).attrTween("text",function(){var Je=k.select(this),ft=o(ve[0].lastY,ve[0].y);ze._lastValue=ve[0].y;var ot=lt(ze.number.valueformat,Ft,ve[0].lastY,ve[0].y);return function(je){Je.text(Ze+ot(ft(je))+Pt)}}):He(),ke=p(Ze+Ft(ve[0].y)+Pt,ze.number.font,Se,le)}(),xt+=ze.number.font.size+ze.number.font.family+ze.number.valueformat+ze.number.suffix+ze.number.prefix,Ee=ke),ze._hasDelta&&ze._hasNumber){var _t,mt,it=[(ke.left+ke.right)/2,(ke.top+ke.bottom)/2],nt=[(Ae.left+Ae.right)/2,(Ae.top+Ae.bottom)/2],Et=.75*ze.delta.font.size;ze.delta.position==="left"&&(_t=S(ze,"deltaPos",0,-1*(ke.width*d[ze.align]+Ae.width*(1-d[ze.align])+Et),xt,Math.min),mt=it[1]-nt[1],Ee={width:ke.width+Ae.width+Et,height:Math.max(ke.height,Ae.height),left:Ae.left+_t,right:ke.right,top:Math.min(ke.top,Ae.top+mt),bottom:Math.max(ke.bottom,Ae.bottom+mt)}),ze.delta.position==="right"&&(_t=S(ze,"deltaPos",0,ke.width*(1-d[ze.align])+Ae.width*d[ze.align]+Et,xt,Math.max),mt=it[1]-nt[1],Ee={width:ke.width+Ae.width+Et,height:Math.max(ke.height,Ae.height),left:ke.left,right:Ae.right+_t,top:Math.min(ke.top,Ae.top+mt),bottom:Math.max(ke.bottom,Ae.bottom+mt)}),ze.delta.position==="bottom"&&(_t=null,mt=Ae.height,Ee={width:Math.max(ke.width,Ae.width),height:ke.height+Ae.height,left:Math.min(ke.left,Ae.left),right:Math.max(ke.right,Ae.right),top:ke.bottom-ke.height,bottom:ke.bottom+Ae.height}),ze.delta.position==="top"&&(_t=null,mt=ke.top,Ee={width:Math.max(ke.width,Ae.width),height:ke.height+Ae.height,left:Math.min(ke.left,Ae.left),right:Math.max(ke.right,Ae.right),top:ke.bottom-ke.height-Ae.height,bottom:ke.bottom}),ut.attr({dx:_t,dy:mt})}(ze._hasNumber||ze._hasDelta)&&Ve.attr("transform",function(){var Rt=Ce.numbersScaler(Ee);xt+=Rt[2];var Ft,Pt=S(ze,"numbersScale",1,Rt[0],xt,Math.min);ze._scaleNumbers||(Pt=1),Ft=ze._isAngular?ge-Pt*Ee.bottom:ge-Pt*(Ee.top+Ee.bottom)/2,ze._numbersTop=Pt*Ee.top+Ft;var Ze=Ee[Te];Te==="center"&&(Ze=(Ee.left+Ee.right)/2);var $e=Fe-Pt*Ze;return $e=S(ze,"numbersTranslate",0,$e,xt,Math.max),f($e,Ft)+b(Pt)})})(T,re,H,{numbersX:z,numbersY:j,numbersScaler:Z,transitionOpts:O,onComplete:I}),ne&&(F={range:W.gauge.axis.range,color:W.gauge.bgcolor,line:{color:W.gauge.bordercolor,width:0},thickness:1},V={range:W.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:W.gauge.bordercolor,width:W.gauge.borderwidth},thickness:1});var _e=re.selectAll("g.angular").data(te?H:[]);_e.exit().remove();var be=re.selectAll("g.angularaxis").data(te?H:[]);be.exit().remove(),te&&function(le,oe,ve,Ce){var ke,Ae,Ee,ze,Fe=ve[0].trace,ge=Ce.size,Te=Ce.radius,Se=Ce.innerRadius,Re=Ce.gaugeBg,Pe=Ce.gaugeOutline,Ve=[ge.l+ge.w/2,ge.t+ge.h/2+Te/2],We=Ce.gauge,Qe=Ce.layer,lt=Ce.transitionOpts,ut=Ce.onComplete,xt=Math.PI/2;function _t(yt){var bt=Fe.gauge.axis.range[0],dt=(yt-bt)/(Fe.gauge.axis.range[1]-bt)*Math.PI-xt;return dt<-xt?-xt:dt>xt?xt:dt}function mt(yt){return k.svg.arc().innerRadius((Se+Te)/2-yt/2*(Te-Se)).outerRadius((Se+Te)/2+yt/2*(Te-Se)).startAngle(-xt)}function it(yt){yt.attr("d",function(bt){return mt(bt.thickness).startAngle(_t(bt.range[0])).endAngle(_t(bt.range[1]))()})}We.enter().append("g").classed("angular",!0),We.attr("transform",f(Ve[0],Ve[1])),Qe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Qe.selectAll("g.xangularaxistick,path,text").remove(),(ke=m(le,Fe.gauge.axis)).type="linear",ke.range=Fe.gauge.axis.range,ke._id="xangularaxis",ke.ticklabeloverflow="allow",ke.setScale();var nt=function(yt){return(ke.range[0]-yt.x)/(ke.range[1]-ke.range[0])*Math.PI+Math.PI},Et={},Rt=a.makeLabelFns(ke,0).labelStandoff;Et.xFn=function(yt){var bt=nt(yt);return Math.cos(bt)*Rt},Et.yFn=function(yt){var bt=nt(yt),dt=Math.sin(bt)>0?.2:1;return-Math.sin(bt)*(Rt+yt.fontSize*dt)+Math.abs(Math.cos(bt))*(yt.fontSize*n)},Et.anchorFn=function(yt){var bt=nt(yt),dt=Math.cos(bt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Et.heightFn=function(yt,bt,dt){var Lt=nt(yt);return-.5*(1+Math.sin(Lt))*dt};var Ft=function(yt){return f(Ve[0]+Te*Math.cos(yt),Ve[1]-Te*Math.sin(yt))};if(Ee=function(yt){return Ft(nt(yt))},Ae=a.calcTicks(ke),ze=a.getTickSigns(ke)[2],ke.visible){ze=ke.ticks==="inside"?-1:1;var Pt=(ke.linewidth||1)/2;a.drawTicks(le,ke,{vals:Ae,layer:Qe,path:"M"+ze*Pt+",0h"+ze*ke.ticklen,transFn:function(yt){var bt=nt(yt);return Ft(bt)+"rotate("+-s(bt)+")"}}),a.drawLabels(le,ke,{vals:Ae,layer:Qe,transFn:Ee,labelFns:Et})}var Ze=[Re].concat(Fe.gauge.steps),$e=We.selectAll("g.bg-arc").data(Ze);$e.enter().append("g").classed("bg-arc",!0).append("path"),$e.select("path").call(it).call(x),$e.exit().remove();var He=mt(Fe.gauge.bar.thickness),Je=We.selectAll("g.value-arc").data([Fe.gauge.bar]);Je.enter().append("g").classed("value-arc",!0).append("path");var ft,ot,je,Ue=Je.select("path");g(lt)?(Ue.transition().duration(lt.duration).ease(lt.easing).each("end",function(){ut&&ut()}).each("interrupt",function(){ut&&ut()}).attrTween("d",(ft=He,ot=_t(ve[0].lastY),je=_t(ve[0].y),function(){var yt=A(ot,je);return function(bt){return ft.endAngle(yt(bt))()}})),Fe._lastValue=ve[0].y):Ue.attr("d",typeof ve[0].y=="number"?He.endAngle(_t(ve[0].y)):"M0,0Z"),Ue.call(x),Je.exit().remove(),Ze=[];var st=Fe.gauge.threshold.value;(st||st===0)&&Ze.push({range:[st,st],color:Fe.gauge.threshold.color,line:{color:Fe.gauge.threshold.line.color,width:Fe.gauge.threshold.line.width},thickness:Fe.gauge.threshold.thickness});var Ke=We.selectAll("g.threshold-arc").data(Ze);Ke.enter().append("g").classed("threshold-arc",!0).append("path"),Ke.select("path").call(it).call(x),Ke.exit().remove();var gt=We.selectAll("g.gauge-outline").data([Pe]);gt.enter().append("g").classed("gauge-outline",!0).append("path"),gt.select("path").call(it).call(x),gt.exit().remove()}(T,0,H,{radius:se,innerRadius:he,gauge:_e,layer:be,size:K,gaugeBg:F,gaugeOutline:V,transitionOpts:O,onComplete:I});var Le=re.selectAll("g.bullet").data(Q?H:[]);Le.exit().remove();var De=re.selectAll("g.bulletaxis").data(Q?H:[]);De.exit().remove(),Q&&function(le,oe,ve,Ce){var ke,Ae,Ee,ze,Fe,ge=ve[0].trace,Te=Ce.gauge,Se=Ce.layer,Re=Ce.gaugeBg,Pe=Ce.gaugeOutline,Ve=Ce.size,We=ge.domain,Qe=Ce.transitionOpts,lt=Ce.onComplete;Te.enter().append("g").classed("bullet",!0),Te.attr("transform",f(Ve.l,Ve.t)),Se.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Se.selectAll("g.xbulletaxistick,path,text").remove();var ut=Ve.h,xt=ge.gauge.bar.thickness*ut,_t=We.x[0],mt=We.x[0]+(We.x[1]-We.x[0])*(ge._hasNumber||ge._hasDelta?1-r.bulletNumberDomainSize:1);function it($e){$e.attr("width",function(He){return Math.max(0,ke.c2p(He.range[1])-ke.c2p(He.range[0]))}).attr("x",function(He){return ke.c2p(He.range[0])}).attr("y",function(He){return .5*(1-He.thickness)*ut}).attr("height",function(He){return He.thickness*ut})}(ke=m(le,ge.gauge.axis))._id="xbulletaxis",ke.domain=[_t,mt],ke.setScale(),Ae=a.calcTicks(ke),Ee=a.makeTransTickFn(ke),ze=a.getTickSigns(ke)[2],Fe=Ve.t+Ve.h,ke.visible&&(a.drawTicks(le,ke,{vals:ke.ticks==="inside"?a.clipEnds(ke,Ae):Ae,layer:Se,path:a.makeTickPath(ke,Fe,ze),transFn:Ee}),a.drawLabels(le,ke,{vals:Ae,layer:Se,transFn:Ee,labelFns:a.makeLabelFns(ke,Fe)}));var nt=[Re].concat(ge.gauge.steps),Et=Te.selectAll("g.bg-bullet").data(nt);Et.enter().append("g").classed("bg-bullet",!0).append("rect"),Et.select("rect").call(it).call(x),Et.exit().remove();var Rt=Te.selectAll("g.value-bullet").data([ge.gauge.bar]);Rt.enter().append("g").classed("value-bullet",!0).append("rect"),Rt.select("rect").attr("height",xt).attr("y",(ut-xt)/2).call(x),g(Qe)?Rt.select("rect").transition().duration(Qe.duration).ease(Qe.easing).each("end",function(){lt&&lt()}).each("interrupt",function(){lt&&lt()}).attr("width",Math.max(0,ke.c2p(Math.min(ge.gauge.axis.range[1],ve[0].y)))):Rt.select("rect").attr("width",typeof ve[0].y=="number"?Math.max(0,ke.c2p(Math.min(ge.gauge.axis.range[1],ve[0].y))):0),Rt.exit().remove();var Ft=ve.filter(function(){return ge.gauge.threshold.value||ge.gauge.threshold.value===0}),Pt=Te.selectAll("g.threshold-bullet").data(Ft);Pt.enter().append("g").classed("threshold-bullet",!0).append("line"),Pt.select("line").attr("x1",ke.c2p(ge.gauge.threshold.value)).attr("x2",ke.c2p(ge.gauge.threshold.value)).attr("y1",(1-ge.gauge.threshold.thickness)/2*ut).attr("y2",(1-(1-ge.gauge.threshold.thickness)/2)*ut).call(c.stroke,ge.gauge.threshold.line.color).style("stroke-width",ge.gauge.threshold.line.width),Pt.exit().remove();var Ze=Te.selectAll("g.gauge-outline").data([Pe]);Ze.enter().append("g").classed("gauge-outline",!0).append("rect"),Ze.select("rect").call(it).call(x),Ze.exit().remove()}(T,0,H,{gauge:Le,layer:De,size:K,gaugeBg:F,gaugeOutline:V,transitionOpts:O,onComplete:I});var ye=re.selectAll("text.title").data(H);ye.exit().remove(),ye.enter().append("text").classed("title",!0),ye.attr("text-anchor",function(){return Q?y.right:y[W.title.align]}).text(W.title.text).call(i.font,W.title.font).call(t.convertToTspans,T),ye.attr("transform",function(){var le,oe=K.l+K.w*d[W.title.align],ve=r.titlePadding,Ce=i.bBox(ye.node());return ne?(te&&(le=W.gauge.axis.visible?i.bBox(be.node()).top-ve-Ce.bottom:K.t+K.h/2-se/2-Ce.bottom-ve),Q&&(le=j-(Ce.top+Ce.bottom)/2,oe=K.l-r.bulletPadding*K.w)):le=W._numbersTop-ve-Ce.bottom,f(oe,le)})})}},50048:function(U,C,e){var k=e(49084),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(52948),b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll,n=U.exports=s(f({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),valuehoverformat:A("value",1),showlegend:f({},b.showlegend,{dflt:!1})},k("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:w.opacity,lightposition:w.lightposition,lighting:w.lighting,flatshading:w.flatshading,contour:w.contour,hoverinfo:f({},b.hoverinfo)}),"calc","nested");n.flatshading.dflt=!0,n.lighting.facenormalsepsilon.dflt=0,n.x.editType=n.y.editType=n.z.editType=n.value.editType="calc+clearAxisTypes",n.transforms=void 0},62624:function(U,C,e){var k=e(47128),A=e(3832).processGrid,o=e(3832).filter;U.exports=function(w,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=o(b.x,b._len),b._y=o(b.y,b._len),b._z=o(b.z,b._len),b._value=o(b.value,b._len);var f=A(b);b._gridFill=f.fill,b._Xs=f.Xs,b._Ys=f.Ys,b._Zs=f.Zs,b._len=f.len;for(var s=1/0,n=-1/0,i=0;i<b._len;i++){var r=b._value[i];s=Math.min(s,r),n=Math.max(n,r)}b._minValues=s,b._maxValues=n,b._vMin=b.isomin===void 0||b.isomin===null?s:b.isomin,b._vMax=b.isomax===void 0||b.isomax===null?n:b.isomax,k(w,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},31460:function(U,C,e){var k=e(67792).gl_mesh3d,A=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,w=e(43080),b=e(8932).extractOpts,f=e(52094),s=function(a,l){for(var u=l.length-1;u>0;u--){var h=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>h&&h<a&&a<=c)return{id:u,distRatio:(c-a)/(c-h)}}return{id:0,distRatio:0}};function n(a,l,u){this.scene=a,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=n.prototype;i.handlePick=function(a){if(a.object===this.mesh){var l=a.data.index,u=this.data._meshX[l],h=this.data._meshY[l],c=this.data._meshZ[l],y=this.data._Ys.length,d=this.data._Zs.length,v=s(u,this.data._Xs).id,g=s(h,this.data._Ys).id,x=s(c,this.data._Zs).id,m=a.index=x+d*g+d*y*v;a.traceCoordinate=[this.data._meshX[m],this.data._meshY[m],this.data._meshZ[m],this.data._value[m]];var _=this.data.hovertext||this.data.text;return o(_)&&_[m]!==void 0?a.textLabel=_[m]:_&&(a.textLabel=_),!0}},i.update=function(a){var l=this.scene,u=l.fullSceneLayout;function h(d,v,g,x){return v.map(function(m){return d.d2l(m,0,x)*g})}this.data=t(a);var c={positions:f(h(u.xaxis,a._meshX,l.dataScale[0],a.xcalendar),h(u.yaxis,a._meshY,l.dataScale[1],a.ycalendar),h(u.zaxis,a._meshZ,l.dataScale[2],a.zcalendar)),cells:f(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,contourEnable:a.contour.show,contourColor:w(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},y=b(a);c.vertexIntensity=a._meshIntensity,c.vertexIntensityBounds=[y.min,y.max],c.colormap=A(a),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function t(a){a._meshI=[],a._meshJ=[],a._meshK=[];var l,u,h,c,y,d,v,g=a.surface.show,x=a.spaceframe.show,m=a.surface.fill,_=a.spaceframe.fill,p=!1,S=!1,T=0,E=a._Xs,O=a._Ys,P=a._Zs,I=E.length,R=O.length,H=P.length,z=r.indexOf(a._gridFill.replace(/-/g,"").replace(/\+/g,"")),j=function(Se,Re,Pe){switch(z){case 5:return Pe+H*Re+H*R*Se;case 4:return Pe+H*Se+H*I*Re;case 3:return Re+R*Pe+R*H*Se;case 2:return Re+R*Se+R*I*Pe;case 1:return Se+I*Pe+I*H*Re;default:return Se+I*Re+I*R*Pe}},Z=a._minValues,F=a._maxValues,V=a._vMin,W=a._vMax;function re(Se,Re,Pe){for(var Ve=d.length,We=u;We<Ve;We++)if(Se===h[We]&&Re===c[We]&&Pe===y[We])return We;return-1}function ne(){u=l}function te(){h=[],c=[],y=[],d=[],l=0,ne()}function Q(Se,Re,Pe,Ve){return h.push(Se),c.push(Re),y.push(Pe),d.push(Ve),++l-1}function $(Se,Re,Pe){for(var Ve=[],We=0;We<Se.length;We++)Ve[We]=Se[We]*(1-Pe)+Pe*Re[We];return Ve}function K(Se){v=Se}function ae(Se,Re){return Se==="all"||Se===null||Se.indexOf(Re)>-1}function ue(Se,Re){return Se===null?Re:Se}function se(Se,Re,Pe){ne();var Ve,We,Qe,lt=[Re],ut=[Pe];if(v>=1)lt=[Re],ut=[Pe];else if(v>0){var xt=function(Ze,$e){var He=Ze[0],Je=Ze[1],ft=Ze[2],ot=function(dt,Lt,wt){for(var Ct=[],zt=0;zt<dt.length;zt++)Ct[zt]=(dt[zt]+Lt[zt]+wt[zt])/3;return Ct}(He,Je,ft),je=Math.sqrt(1-v),Ue=$(ot,He,je),st=$(ot,Je,je),Ke=$(ot,ft,je),gt=$e[0],yt=$e[1],bt=$e[2];return{xyzv:[[He,Je,st],[st,Ue,He],[Je,ft,Ke],[Ke,st,Je],[ft,He,Ue],[Ue,Ke,ft]],abc:[[gt,yt,-1],[-1,-1,gt],[yt,bt,-1],[-1,-1,yt],[bt,gt,-1],[-1,-1,bt]]}}(Re,Pe);lt=xt.xyzv,ut=xt.abc}for(var _t=0;_t<lt.length;_t++){Re=lt[_t],Pe=ut[_t];for(var mt=[],it=0;it<3;it++){var nt=Re[it][0],Et=Re[it][1],Rt=Re[it][2],Ft=Re[it][3],Pt=Pe[it]>-1?Pe[it]:re(nt,Et,Rt);mt[it]=Pt>-1?Pt:Q(nt,Et,Rt,ue(Se,Ft))}Ve=mt[0],We=mt[1],Qe=mt[2],a._meshI.push(Ve),a._meshJ.push(We),a._meshK.push(Qe),++T}}function he(Se,Re,Pe,Ve){var We=Se[3];We<Pe&&(We=Pe),We>Ve&&(We=Ve);for(var Qe=(Se[3]-We)/(Se[3]-Re[3]+1e-9),lt=[],ut=0;ut<4;ut++)lt[ut]=(1-Qe)*Se[ut]+Qe*Re[ut];return lt}function pe(Se,Re,Pe){return Se>=Re&&Se<=Pe}function de(Se){var Re=.001*(W-V);return Se>=V-Re&&Se<=W+Re}function xe(Se){for(var Re=[],Pe=0;Pe<4;Pe++){var Ve=Se[Pe];Re.push([a._x[Ve],a._y[Ve],a._z[Ve],a._value[Ve]])}return Re}var _e=3;function be(Se,Re,Pe,Ve,We,Qe){Qe||(Qe=1),Pe=[-1,-1,-1];var lt=!1,ut=[pe(Re[0][3],Ve,We),pe(Re[1][3],Ve,We),pe(Re[2][3],Ve,We)];if(!ut[0]&&!ut[1]&&!ut[2])return!1;var xt=function(mt,it,nt){return de(it[0][3])&&de(it[1][3])&&de(it[2][3])?(se(mt,it,nt),!0):Qe<_e&&be(mt,it,nt,V,W,++Qe)};if(ut[0]&&ut[1]&&ut[2])return xt(Se,Re,Pe)||lt;var _t=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(mt){if(ut[mt[0]]&&ut[mt[1]]&&!ut[mt[2]]){var it=Re[mt[0]],nt=Re[mt[1]],Et=Re[mt[2]],Rt=he(Et,it,Ve,We),Ft=he(Et,nt,Ve,We);lt=xt(Se,[Ft,Rt,it],[-1,-1,Pe[mt[0]]])||lt,lt=xt(Se,[it,nt,Ft],[Pe[mt[0]],Pe[mt[1]],-1])||lt,_t=!0}}),_t||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(mt){if(ut[mt[0]]&&!ut[mt[1]]&&!ut[mt[2]]){var it=Re[mt[0]],nt=Re[mt[1]],Et=Re[mt[2]],Rt=he(nt,it,Ve,We),Ft=he(Et,it,Ve,We);lt=xt(Se,[Ft,Rt,it],[-1,-1,Pe[mt[0]]])||lt,_t=!0}}),lt}function Le(Se,Re,Pe,Ve){var We=!1,Qe=xe(Re),lt=[pe(Qe[0][3],Pe,Ve),pe(Qe[1][3],Pe,Ve),pe(Qe[2][3],Pe,Ve),pe(Qe[3][3],Pe,Ve)];if(!(lt[0]||lt[1]||lt[2]||lt[3]))return We;if(lt[0]&&lt[1]&&lt[2]&&lt[3])return S&&(We=function(xt,_t,mt){var it=function(nt,Et,Rt){se(xt,[_t[nt],_t[Et],_t[Rt]],[mt[nt],mt[Et],mt[Rt]])};it(0,1,2),it(3,0,1),it(2,3,0),it(1,2,3)}(Se,Qe,Re)||We),We;var ut=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(xt){if(lt[xt[0]]&&lt[xt[1]]&&lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]];if(S)We=se(Se,[_t,mt,it],[Re[xt[0]],Re[xt[1]],Re[xt[2]]])||We;else{var Et=he(nt,_t,Pe,Ve),Rt=he(nt,mt,Pe,Ve),Ft=he(nt,it,Pe,Ve);We=se(null,[Et,Rt,Ft],[-1,-1,-1])||We}ut=!0}}),ut||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(xt){if(lt[xt[0]]&&lt[xt[1]]&&!lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]],Et=he(it,_t,Pe,Ve),Rt=he(it,mt,Pe,Ve),Ft=he(nt,mt,Pe,Ve),Pt=he(nt,_t,Pe,Ve);S?(We=se(Se,[_t,Pt,Et],[Re[xt[0]],-1,-1])||We,We=se(Se,[mt,Rt,Ft],[Re[xt[1]],-1,-1])||We):We=function(Ze,$e,He){var Je=function(ft,ot,je){se(null,[$e[ft],$e[ot],$e[je]],[He[ft],He[ot],He[je]])};Je(0,1,2),Je(2,3,0)}(0,[Et,Rt,Ft,Pt],[-1,-1,-1,-1])||We,ut=!0}}),ut||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(xt){if(lt[xt[0]]&&!lt[xt[1]]&&!lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]],Et=he(mt,_t,Pe,Ve),Rt=he(it,_t,Pe,Ve),Ft=he(nt,_t,Pe,Ve);S?(We=se(Se,[_t,Et,Rt],[Re[xt[0]],-1,-1])||We,We=se(Se,[_t,Rt,Ft],[Re[xt[0]],-1,-1])||We,We=se(Se,[_t,Ft,Et],[Re[xt[0]],-1,-1])||We):We=se(null,[Et,Rt,Ft],[-1,-1,-1])||We,ut=!0}})),We}function De(Se,Re,Pe,Ve,We,Qe,lt,ut,xt,_t,mt){var it=!1;return p&&(ae(Se,"A")&&(it=Le(null,[Re,Pe,Ve,Qe],_t,mt)||it),ae(Se,"B")&&(it=Le(null,[Pe,Ve,We,xt],_t,mt)||it),ae(Se,"C")&&(it=Le(null,[Pe,Qe,lt,xt],_t,mt)||it),ae(Se,"D")&&(it=Le(null,[Ve,Qe,ut,xt],_t,mt)||it),ae(Se,"E")&&(it=Le(null,[Pe,Ve,Qe,xt],_t,mt)||it)),S&&(it=Le(Se,[Pe,Ve,Qe,xt],_t,mt)||it),it}function ye(Se,Re,Pe,Ve,We,Qe,lt,ut){return[ut[0]===!0||be(Se,xe([Re,Pe,Ve]),[Re,Pe,Ve],Qe,lt),ut[1]===!0||be(Se,xe([Ve,We,Re]),[Ve,We,Re],Qe,lt)]}function le(Se,Re,Pe,Ve,We,Qe,lt,ut,xt){return ut?ye(Se,Re,Pe,We,Ve,Qe,lt,xt):ye(Se,Pe,We,Ve,Re,Qe,lt,xt)}function oe(Se,Re,Pe,Ve,We,Qe,lt){var ut,xt,_t,mt,it=!1,nt=function(){it=be(Se,[ut,xt,_t],[-1,-1,-1],We,Qe)||it,it=be(Se,[_t,mt,ut],[-1,-1,-1],We,Qe)||it},Et=lt[0],Rt=lt[1],Ft=lt[2];return Et&&(ut=$(xe([j(Re,Pe-0,Ve-0)])[0],xe([j(Re-1,Pe-0,Ve-0)])[0],Et),xt=$(xe([j(Re,Pe-0,Ve-1)])[0],xe([j(Re-1,Pe-0,Ve-1)])[0],Et),_t=$(xe([j(Re,Pe-1,Ve-1)])[0],xe([j(Re-1,Pe-1,Ve-1)])[0],Et),mt=$(xe([j(Re,Pe-1,Ve-0)])[0],xe([j(Re-1,Pe-1,Ve-0)])[0],Et),nt()),Rt&&(ut=$(xe([j(Re-0,Pe,Ve-0)])[0],xe([j(Re-0,Pe-1,Ve-0)])[0],Rt),xt=$(xe([j(Re-0,Pe,Ve-1)])[0],xe([j(Re-0,Pe-1,Ve-1)])[0],Rt),_t=$(xe([j(Re-1,Pe,Ve-1)])[0],xe([j(Re-1,Pe-1,Ve-1)])[0],Rt),mt=$(xe([j(Re-1,Pe,Ve-0)])[0],xe([j(Re-1,Pe-1,Ve-0)])[0],Rt),nt()),Ft&&(ut=$(xe([j(Re-0,Pe-0,Ve)])[0],xe([j(Re-0,Pe-0,Ve-1)])[0],Ft),xt=$(xe([j(Re-0,Pe-1,Ve)])[0],xe([j(Re-0,Pe-1,Ve-1)])[0],Ft),_t=$(xe([j(Re-1,Pe-1,Ve)])[0],xe([j(Re-1,Pe-1,Ve-1)])[0],Ft),mt=$(xe([j(Re-1,Pe-0,Ve)])[0],xe([j(Re-1,Pe-0,Ve-1)])[0],Ft),nt()),it}function ve(Se,Re,Pe,Ve,We,Qe,lt,ut,xt,_t,mt,it){var nt=Se;return it?(p&&Se==="even"&&(nt=null),De(nt,Re,Pe,Ve,We,Qe,lt,ut,xt,_t,mt)):(p&&Se==="odd"&&(nt=null),De(nt,xt,ut,lt,Qe,We,Ve,Pe,Re,_t,mt))}function Ce(Se,Re,Pe,Ve,We){for(var Qe=[],lt=0,ut=0;ut<Re.length;ut++)for(var xt=Re[ut],_t=1;_t<H;_t++)for(var mt=1;mt<R;mt++)Qe.push(le(Se,j(xt,mt-1,_t-1),j(xt,mt-1,_t),j(xt,mt,_t-1),j(xt,mt,_t),Pe,Ve,(xt+mt+_t)%2,We&&We[lt]?We[lt]:[])),lt++;return Qe}function ke(Se,Re,Pe,Ve,We){for(var Qe=[],lt=0,ut=0;ut<Re.length;ut++)for(var xt=Re[ut],_t=1;_t<I;_t++)for(var mt=1;mt<H;mt++)Qe.push(le(Se,j(_t-1,xt,mt-1),j(_t,xt,mt-1),j(_t-1,xt,mt),j(_t,xt,mt),Pe,Ve,(_t+xt+mt)%2,We&&We[lt]?We[lt]:[])),lt++;return Qe}function Ae(Se,Re,Pe,Ve,We){for(var Qe=[],lt=0,ut=0;ut<Re.length;ut++)for(var xt=Re[ut],_t=1;_t<R;_t++)for(var mt=1;mt<I;mt++)Qe.push(le(Se,j(mt-1,_t-1,xt),j(mt-1,_t,xt),j(mt,_t-1,xt),j(mt,_t,xt),Pe,Ve,(mt+_t+xt)%2,We&&We[lt]?We[lt]:[])),lt++;return Qe}function Ee(Se,Re,Pe){for(var Ve=1;Ve<H;Ve++)for(var We=1;We<R;We++)for(var Qe=1;Qe<I;Qe++)ve(Se,j(Qe-1,We-1,Ve-1),j(Qe-1,We-1,Ve),j(Qe-1,We,Ve-1),j(Qe-1,We,Ve),j(Qe,We-1,Ve-1),j(Qe,We-1,Ve),j(Qe,We,Ve-1),j(Qe,We,Ve),Re,Pe,(Qe+We+Ve)%2)}function ze(Se,Re,Pe,Ve,We,Qe){for(var lt=[],ut=0,xt=0;xt<Re.length;xt++)for(var _t=Re[xt],mt=1;mt<H;mt++)for(var it=1;it<R;it++)lt.push(oe(Se,_t,it,mt,Pe,Ve,We[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function Fe(Se,Re,Pe,Ve,We,Qe){for(var lt=[],ut=0,xt=0;xt<Re.length;xt++)for(var _t=Re[xt],mt=1;mt<I;mt++)for(var it=1;it<H;it++)lt.push(oe(Se,mt,_t,it,Pe,Ve,We[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function ge(Se,Re,Pe,Ve,We,Qe){for(var lt=[],ut=0,xt=0;xt<Re.length;xt++)for(var _t=Re[xt],mt=1;mt<R;mt++)for(var it=1;it<I;it++)lt.push(oe(Se,it,mt,_t,Pe,Ve,We[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function Te(Se,Re){for(var Pe=[],Ve=Se;Ve<Re;Ve++)Pe.push(Ve);return Pe}return function(){te(),function(){for(var xt=0;xt<I;xt++)for(var _t=0;_t<R;_t++)for(var mt=0;mt<H;mt++){var it=j(xt,_t,mt);Q(a._x[it],a._y[it],a._z[it],a._value[it])}}();var Se=null;if(x&&_&&(K(_),S=!0,Ee(Se,V,W),S=!1),g&&m){K(m);for(var Re=a.surface.pattern,Pe=a.surface.count,Ve=0;Ve<Pe;Ve++){var We=Pe===1?.5:Ve/(Pe-1),Qe=(1-We)*V+We*W,lt=Math.abs(Qe-Z)>Math.abs(Qe-F)?[Z,Qe]:[Qe,F];p=!0,Ee(Re,lt[0],lt[1]),p=!1}}var ut=[[Math.min(V,F),Math.max(V,F)],[Math.min(Z,W),Math.max(Z,W)]];["x","y","z"].forEach(function(xt){for(var _t=[],mt=0;mt<ut.length;mt++){var it=0,nt=ut[mt][0],Et=ut[mt][1],Rt=a.slices[xt];if(Rt.show&&Rt.fill){K(Rt.fill);var Ft=[],Pt=[],Ze=[];if(Rt.locations.length)for(var $e=0;$e<Rt.locations.length;$e++){var He=s(Rt.locations[$e],xt==="x"?E:xt==="y"?O:P);He.distRatio===0?Ft.push(He.id):He.id>0&&(Pt.push(He.id),xt==="x"?Ze.push([He.distRatio,0,0]):xt==="y"?Ze.push([0,He.distRatio,0]):Ze.push([0,0,He.distRatio]))}else Ft=Te(1,xt==="x"?I-1:xt==="y"?R-1:H-1);Pt.length>0&&(_t[it]=xt==="x"?ze(Se,Pt,nt,Et,Ze,_t[it]):xt==="y"?Fe(Se,Pt,nt,Et,Ze,_t[it]):ge(Se,Pt,nt,Et,Ze,_t[it]),it++),Ft.length>0&&(_t[it]=xt==="x"?Ce(Se,Ft,nt,Et,_t[it]):xt==="y"?ke(Se,Ft,nt,Et,_t[it]):Ae(Se,Ft,nt,Et,_t[it]),it++)}var Je=a.caps[xt];Je.show&&Je.fill&&(K(Je.fill),_t[it]=xt==="x"?Ce(Se,[0,I-1],nt,Et,_t[it]):xt==="y"?ke(Se,[0,R-1],nt,Et,_t[it]):Ae(Se,[0,H-1],nt,Et,_t[it]),it++)}}),T===0&&te(),a._meshX=h,a._meshY=c,a._meshZ=y,a._meshIntensity=d,a._Xs=E,a._Ys=O,a._Zs=P}(),a}U.exports={findNearestOnAxis:s,generateIsoMeshes:t,createIsosurfaceTrace:function(a,l){var u=a.glplot.gl,h=k({gl:u}),c=new n(a,h,l.uid);return h._trace=c,c.update(l),a.glplot.add(h),c}}},70548:function(U,C,e){var k=e(3400),A=e(24040),o=e(50048),w=e(27260);function b(f,s,n,i,r){var t=r("isomin"),a=r("isomax");a!=null&&t!=null&&t>a&&(s.isomin=null,s.isomax=null);var l=r("x"),u=r("y"),h=r("z"),c=r("value");l&&l.length&&u&&u.length&&h&&h.length&&c&&c.length?(A.getComponentMethod("calendars","handleTraceDefaults")(f,s,["x","y","z"],i),r("valuehoverformat"),["x","y","z"].forEach(function(y){r(y+"hoverformat");var d="caps."+y;r(d+".show")&&r(d+".fill");var v="slices."+y;r(v+".show")&&(r(v+".fill"),r(v+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(y){r(y)}),w(f,s,i,r,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}U.exports={supplyDefaults:function(f,s,n,i){b(f,s,0,i,function(r,t){return k.coerce(f,s,o,r,t)})},supplyIsoDefaults:b}},6296:function(U,C,e){U.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(U,C,e){var k=e(49084),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(16716),b=e(45464),f=e(92880).extendFlat;U.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},k("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:w.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},w.contours.x.show,{}),color:w.contours.x.color,width:w.contours.x.width,editType:"calc"},lightposition:{x:f({},w.lightposition.x,{dflt:1e5}),y:f({},w.lightposition.y,{dflt:1e5}),z:f({},w.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},w.lighting),hoverinfo:f({},b.hoverinfo,{editType:"calc"}),showlegend:f({},b.showlegend,{dflt:!1})})},1876:function(U,C,e){var k=e(47128);U.exports=function(A,o){o.intensity&&k(A,o,{vals:o.intensity,containerStr:"",cLetter:"c"})}},576:function(U,C,e){var k=e(67792).gl_mesh3d,A=e(67792).delaunay_triangulate,o=e(67792).alpha_shape,w=e(67792).convex_hull,b=e(33040).parseColorScale,f=e(3400).isArrayOrTypedArray,s=e(43080),n=e(8932).extractOpts,i=e(52094);function r(c,y,d){this.scene=c,this.uid=d,this.mesh=y,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var t=r.prototype;function a(c){for(var y=[],d=c.length,v=0;v<d;v++)y[v]=s(c[v]);return y}function l(c,y,d,v){for(var g=[],x=y.length,m=0;m<x;m++)g[m]=c.d2l(y[m],0,v)*d;return g}function u(c){for(var y=[],d=c.length,v=0;v<d;v++)y[v]=Math.round(c[v]);return y}function h(c,y){for(var d=c.length,v=0;v<d;v++)if(c[v]<=-.5||c[v]>=y-.5)return!1;return!0}t.handlePick=function(c){if(c.object===this.mesh){var y=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[y],this.data.y[y],this.data.z[y]];var d=this.data.hovertext||this.data.text;return f(d)&&d[y]!==void 0?c.textLabel=d[y]:d&&(c.textLabel=d),!0}},t.update=function(c){var y=this.scene,d=y.fullSceneLayout;this.data=c;var v,g=c.x.length,x=i(l(d.xaxis,c.x,y.dataScale[0],c.xcalendar),l(d.yaxis,c.y,y.dataScale[1],c.ycalendar),l(d.zaxis,c.z,y.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,g)||!h(c.j,g)||!h(c.k,g))return;v=i(u(c.i),u(c.j),u(c.k))}else v=c.alphahull===0?w(x):c.alphahull>0?o(c.alphahull,x):function(S,T){for(var E=["x","y","z"].indexOf(S),O=[],P=T.length,I=0;I<P;I++)O[I]=[T[I][(E+1)%3],T[I][(E+2)%3]];return A(O)}(c.delaunayaxis,x);var m={positions:x,cells:v,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var _=n(c);this.color="#fff";var p=c.intensitymode;m[p+"Intensity"]=c.intensity,m[p+"IntensityBounds"]=[_.min,_.max],m.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=a(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=a(c.facecolor)):(this.color=c.color,m.meshColor=s(c.color));this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(c,y){var d=c.glplot.gl,v=k({gl:d}),g=new r(c,v,y.uid);return v._trace=g,g.update(y),c.glplot.add(v),g}},74212:function(U,C,e){var k=e(24040),A=e(3400),o=e(27260),w=e(52948);U.exports=function(b,f,s,n){function i(t,a){return A.coerce(b,f,w,t,a)}function r(t){var a=t.map(function(l){var u=i(l);return u&&A.isArrayOrTypedArray(u)?u:null});return a.every(function(l){return l&&l.length===a[0].length})&&a}r(["x","y","z"])?(r(["i","j","k"]),(!f.i||f.j&&f.k)&&(!f.j||f.k&&f.i)&&(!f.k||f.i&&f.j)?(k.getComponentMethod("calendars","handleTraceDefaults")(b,f,["x","y","z"],n),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(t){i(t)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),o(b,f,n,i,{prefix:"",cLetter:"c"})):(f.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),f._length=null):f.visible=!1):f.visible=!1}},7404:function(U,C,e){U.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(U,C,e){var k=e(3400).extendFlat,A=e(52904),o=e(29736).axisHoverFormat,w=e(98192).u,b=e(55756),f=e(48164),s=f.INCREASING.COLOR,n=f.DECREASING.COLOR,i=A.line;function r(t){return{line:{color:k({},i.color,{dflt:t}),width:i.width,dash:w,editType:"style"},editType:"style"}}U.exports={xperiod:A.xperiod,xperiod0:A.xperiod0,xperiodalignment:A.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:k({},i.width,{}),dash:k({},w,{}),editType:"style"},increasing:r(s),decreasing:r(n),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:k({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:A.zorder}},42812:function(U,C,e){var k=e(3400),A=k._,o=e(54460),w=e(1220),b=e(39032).BADNUM;function f(n,i,r,t){return{o:n,h:i,l:r,c:t}}function s(n,i,r,t,a,l){for(var u=a.makeCalcdata(i,"open"),h=a.makeCalcdata(i,"high"),c=a.makeCalcdata(i,"low"),y=a.makeCalcdata(i,"close"),d=k.isArrayOrTypedArray(i.text),v=k.isArrayOrTypedArray(i.hovertext),g=!0,x=null,m=!!i.xperiodalignment,_=[],p=0;p<t.length;p++){var S=t[p],T=u[p],E=h[p],O=c[p],P=y[p];if(S!==b&&T!==b&&E!==b&&O!==b&&P!==b){P===T?x!==null&&P!==x&&(g=P>x):g=P>T,x=P;var I=l(T,E,O,P);I.pos=S,I.yc=(T+P)/2,I.i=p,I.dir=g?"increasing":"decreasing",I.x=I.pos,I.y=[O,E],m&&(I.orig_p=r[p]),d&&(I.tx=i.text[p]),v&&(I.htx=i.hovertext[p]),_.push(I)}else _.push({pos:S,empty:!0})}return i._extremes[a._id]=o.findExtremes(a,k.concat(c,h),{padded:!0}),_.length&&(_[0].t={labels:{open:A(n,"open:")+" ",high:A(n,"high:")+" ",low:A(n,"low:")+" ",close:A(n,"close:")+" "}}),_}U.exports={calc:function(n,i){var r=o.getFromId(n,i.xaxis),t=o.getFromId(n,i.yaxis),a=function(y,d,v){var g=v._minDiff;if(!g){var x,m=y._fullData,_=[];for(g=1/0,x=0;x<m.length;x++){var p=m[x];if(p.type==="ohlc"&&p.visible===!0&&p.xaxis===d._id){_.push(p);var S=d.makeCalcdata(p,"x");p._origX=S;var T=w(v,d,"x",S).vals;p._xcalc=T;var E=k.distinctVals(T).minDiff;E&&isFinite(E)&&(g=Math.min(g,E))}}for(g===1/0&&(g=1),x=0;x<_.length;x++)_[x]._minDiff=g}return g*v.tickwidth}(n,r,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var h=i._xcalc;i._xcalc=null;var c=s(n,i,u,h,t,f);return i._extremes[r._id]=o.findExtremes(r,h,{vpad:l/2}),c.length?(k.extendFlat(c[0].t,{wHover:l/2,tickLen:a}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(U,C,e){var k=e(3400),A=e(52744),o=e(31147),w=e(20279);function b(f,s,n,i){n(i+".line.color"),n(i+".line.width",s.line.width),n(i+".line.dash",s.line.dash)}U.exports=function(f,s,n,i){function r(t,a){return k.coerce(f,s,w,t,a)}A(f,s,r,i)?(o(f,s,i,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),b(0,s,r,"increasing"),b(0,s,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),i._requestRangeslider[s.xaxis]=!0,r("zorder")):s.visible=!1}},18720:function(U,C,e){var k=e(54460),A=e(3400),o=e(93024),w=e(76308),b=e(3400).fillText,f=e(48164),s={increasing:f.INCREASING.SYMBOL,decreasing:f.DECREASING.SYMBOL};function n(t,a,l,u){var h,c,y=t.cd,d=t.xa,v=y[0].trace,g=y[0].t,x=v.type,m=x==="ohlc"?"l":"min",_=x==="ohlc"?"h":"max",p=g.bPos||0,S=function(F){return F.pos+p-a},T=g.bdPos||g.tickLen,E=g.wHover,O=Math.min(1,T/Math.abs(d.r2c(d.range[1])-d.r2c(d.range[0])));function P(F){var V=S(F);return o.inbox(V-E,V+E,h)}function I(F){var V=F[m],W=F[_];return V===W||o.inbox(V-l,W-l,h)}function R(F){return(P(F)+I(F))/2}h=t.maxHoverDistance-O,c=t.maxSpikeDistance-O;var H=o.getDistanceFunction(u,P,I,R);if(o.getClosest(y,H,t),t.index===!1)return null;var z=y[t.index];if(z.empty)return null;var j=v[z.dir],Z=j.line.color;return w.opacity(Z)&&j.line.width?t.color=Z:t.color=j.fillcolor,t.x0=d.c2p(z.pos+p-T,!0),t.x1=d.c2p(z.pos+p+T,!0),t.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,t.spikeDistance=R(z)*c/h,t.xSpike=d.c2p(z.pos,!0),t}function i(t,a,l,u){var h=t.cd,c=t.ya,y=h[0].trace,d=h[0].t,v=[],g=n(t,a,l,u);if(!g)return[];var x=h[g.index].hi||y.hoverinfo,m=x.split("+");if(x!=="all"&&m.indexOf("y")===-1)return[];for(var _=["high","open","close","low"],p={},S=0;S<_.length;S++){var T,E=_[S],O=y[E][g.index],P=c.c2p(O,!0);O in p?(T=p[O]).yLabel+="<br>"+d.labels[E]+k.hoverLabelText(c,O,y.yhoverformat):((T=A.extendFlat({},g)).y0=T.y1=P,T.yLabelVal=O,T.yLabel=d.labels[E]+k.hoverLabelText(c,O,y.yhoverformat),T.name="",v.push(T),p[O]=T)}return v}function r(t,a,l,u){var h=t.cd,c=t.ya,y=h[0].trace,d=h[0].t,v=n(t,a,l,u);if(!v)return[];var g=h[v.index],x=v.index=g.i,m=g.dir;function _(I){return d.labels[I]+k.hoverLabelText(c,y[I][x],y.yhoverformat)}var p=g.hi||y.hoverinfo,S=p.split("+"),T=p==="all",E=T||S.indexOf("y")!==-1,O=T||S.indexOf("text")!==-1,P=E?[_("open"),_("high"),_("low"),_("close")+"  "+s[m]]:[];return O&&b(g,y,P),v.extraText=P.join("<br>"),v.y0=v.y1=c.c2p(g.yc,!0),[v]}U.exports={hoverPoints:function(t,a,l,u){return t.cd[0].trace.hoverlabel.split?i(t,a,l,u):r(t,a,l,u)},hoverSplit:i,hoverOnPoints:r}},65456:function(U,C,e){U.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(U,C,e){var k=e(24040),A=e(3400);U.exports=function(o,w,b,f){var s=b("x"),n=b("open"),i=b("high"),r=b("low"),t=b("close");if(b("hoverlabel.split"),k.getComponentMethod("calendars","handleTraceDefaults")(o,w,["x"],f),n&&i&&r&&t){var a=Math.min(n.length,i.length,r.length,t.length);return s&&(a=Math.min(a,A.minRowLength(s))),w._length=a,a}}},36664:function(U,C,e){var k=e(33428),A=e(3400);U.exports=function(o,w,b,f){var s=w.yaxis,n=w.xaxis,i=!!n.rangebreaks;A.makeTraceGroups(f,b,"trace ohlc").each(function(r){var t=k.select(this),a=r[0],l=a.t;if(a.trace.visible!==!0||l.empty)t.remove();else{var u=l.tickLen,h=t.selectAll("path").data(A.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(c){if(c.empty)return"M0,0Z";var y=n.c2p(c.pos-u,!0),d=n.c2p(c.pos+u,!0),v=i?(y+d)/2:n.c2p(c.pos,!0);return"M"+y+","+s.c2p(c.o,!0)+"H"+v+"M"+v+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+d+","+s.c2p(c.c,!0)+"H"+v})}})}},97384:function(U){U.exports=function(C,e){var k,A=C.cd,o=C.xaxis,w=C.yaxis,b=[],f=A[0].t.bPos||0;if(e===!1)for(k=0;k<A.length;k++)A[k].selected=0;else for(k=0;k<A.length;k++){var s=A[k];e.contains([o.c2p(s.pos+f),w.c2p(s.yc)],null,s.i,C)?(b.push({pointNumber:s.i,x:o.c2d(s.pos),y:w.c2d(s.yc)}),s.selected=1):s.selected=0}return b}},14008:function(U,C,e){var k=e(33428),A=e(43616),o=e(76308);U.exports=function(w,b,f){var s=f||k.select(w).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(n){return n[0].trace.opacity}),s.each(function(n){var i=n[0].trace;k.select(this).selectAll("path").each(function(r){if(!r.empty){var t=i[r.dir].line;k.select(this).style("fill","none").call(o.stroke,t.color).call(A.dashLine,t.dash,t.width).style("opacity",i.selectedpoints&&!r.selected?.3:1)}})})}},72140:function(U,C,e){var k=e(92880).extendFlat,A=e(45464),o=e(25376),w=e(49084),b=e(21776).Ks,f=e(86968).u,s=k({editType:"calc"},w("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});U.exports={domain:f({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:k({},A.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:o({editType:"calc"}),tickfont:o({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(U,C,e){var k=e(84888)._M,A=e(60268),o="parcats";C.name=o,C.plot=function(w,b,f,s){var n=k(w.calcdata,o);if(n.length){var i=n[0];A(w,i,f,s)}},C.clean=function(w,b,f,s){var n=s._has&&s._has("parcats"),i=b._has&&b._has("parcats");n&&!i&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(U,C,e){var k=e(71688).wrap,A=e(94288).hasColorscale,o=e(47128),w=e(68944),b=e(43616),f=e(3400),s=e(38248);function n(t,a,l){t.valueInds.push(a),t.count+=l}function i(t,a,l){return{categoryInds:t,color:a,rawColor:l,valueInds:[],count:0}}function r(t,a,l){t.valueInds.push(a),t.count+=l}U.exports=function(t,a){var l=f.filterVisible(a.dimensions);if(l.length===0)return[];var u,h,c,y=l.map(function(W){var re;if(W.categoryorder==="trace")re=null;else if(W.categoryorder==="array")re=W.categoryarray;else{re=w(W.values);for(var ne=!0,te=0;te<re.length;te++)if(!s(re[te])){ne=!1;break}re.sort(ne?f.sorterAsc:void 0),W.categoryorder==="category descending"&&(re=re.reverse())}return function(Q,$){$=$==null?[]:$.map(function(xe){return xe});var K={},ae={},ue=[];$.forEach(function(xe,_e){K[xe]=0,ae[xe]=_e});for(var se=0;se<Q.length;se++){var he,pe=Q[se];K[pe]===void 0?(K[pe]=1,he=$.push(pe)-1,ae[pe]=he):(K[pe]++,he=ae[pe]),ue.push(he)}var de=$.map(function(xe){return K[xe]});return{uniqueValues:$,uniqueCounts:de,inds:ue}}(W.values,re)});u=f.isArrayOrTypedArray(a.counts)?a.counts:[a.counts],function(W){var re,ne=W.map(function(te){return te.displayindex});if(function(te){for(var Q=new Array(te.length),$=0;$<te.length;$++){if(te[$]<0||te[$]>=te.length||Q[te[$]]!==void 0)return!1;Q[te[$]]=!0}return!0}(ne))for(re=0;re<W.length;re++)W[re]._displayindex=W[re].displayindex;else for(re=0;re<W.length;re++)W[re]._displayindex=re}(l),l.forEach(function(W,re){(function(ne,te){ne._categoryarray=te.uniqueValues,ne.ticktext===null||ne.ticktext===void 0?ne._ticktext=[]:ne._ticktext=ne.ticktext.slice();for(var Q=ne._ticktext.length;Q<te.uniqueValues.length;Q++)ne._ticktext.push(te.uniqueValues[Q])})(W,y[re])});var d,v=a.line;v?(A(a,"line")&&o(t,a,{vals:a.line.color,containerStr:"line",cLetter:"c"}),d=b.tryColorscale(v)):d=f.identity;var g,x,m,_,p,S=l[0].values.length,T={},E=y.map(function(W){return W.inds});for(c=0,g=0;g<S;g++){var O=[];for(x=0;x<E.length;x++)O.push(E[x][g]);h=u[g%u.length],c+=h;var P=(m=g,_=void 0,p=void 0,f.isArrayOrTypedArray(v.color)?p=_=v.color[m%v.color.length]:_=v.color,{color:d(_),rawColor:p}),I=O+"-"+P.rawColor;T[I]===void 0&&(T[I]=i(O,P.color,P.rawColor)),r(T[I],g,h)}var R,H=l.map(function(W,re){return function(ne,te,Q,$,K){return{dimensionInd:ne,containerInd:te,displayInd:Q,dimensionLabel:$,count:K,categories:[],dragX:null}}(re,W._index,W._displayindex,W.label,c)});for(g=0;g<S;g++)for(h=u[g%u.length],x=0;x<H.length;x++){var z=H[x].containerInd,j=y[x].inds[g],Z=H[x].categories;if(Z[j]===void 0){var F=a.dimensions[z]._categoryarray[j],V=a.dimensions[z]._ticktext[j];Z[j]={dimensionInd:x,categoryInd:R=j,categoryValue:F,displayInd:R,categoryLabel:V,valueInds:[],count:0,dragY:null}}n(Z[j],g,h)}return k(function(W,re,ne){var te=W.map(function(Q){return Q.categories.length}).reduce(function(Q,$){return Math.max(Q,$)});return{dimensions:W,paths:re,trace:void 0,maxCats:te,count:ne}}(H,T,c))}},76671:function(U,C,e){var k=e(3400),A=e(94288).hasColorscale,o=e(27260),w=e(86968).Q,b=e(51272),f=e(72140),s=e(26284),n=e(38116).isTypedArraySpec;function i(r,t){function a(v,g){return k.coerce(r,t,f.dimensions,v,g)}var l=a("values"),u=a("visible");if(l&&l.length||(u=t.visible=!1),u){a("label"),a("displayindex",t._index);var h,c=r.categoryarray,y=k.isArrayOrTypedArray(c)&&c.length>0||n(c);y&&(h="array");var d=a("categoryorder",h);d==="array"?(a("categoryarray"),a("ticktext")):(delete r.categoryarray,delete r.ticktext),y||d!=="array"||(t.categoryorder="trace")}}U.exports=function(r,t,a,l){function u(d,v){return k.coerce(r,t,f,d,v)}var h=b(r,t,{name:"dimensions",handleItemDefaults:i}),c=function(d,v,g,x,m){m("line.shape"),m("line.hovertemplate");var _=m("line.color",x.colorway[0]);if(A(d,"line")&&k.isArrayOrTypedArray(_)){if(_.length)return m("line.colorscale"),o(d,v,x,m,{prefix:"line.",cLetter:"c"}),_.length;v.line.color=g}return 1/0}(r,t,a,l,u);w(t,l,u),Array.isArray(h)&&h.length||(t.visible=!1),s(t,h,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var y=l.font;k.coerceFont(u,"labelfont",y,{overrideDflt:{size:Math.round(y.size)}}),k.coerceFont(u,"tickfont",y,{autoShadowDflt:!0,overrideDflt:{size:Math.round(y.size/1.2)}})}},22020:function(U,C,e){U.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(U,C,e){var k=e(33428),A=e(67756).Gz,o=e(36424),w=e(93024),b=e(3400),f=b.strTranslate,s=e(43616),n=e(49760),i=e(72736);function r(ne,te,Q,$){var K=te._context.staticPlot,ae=ne.map(Z.bind(0,te,Q)),ue=$.selectAll("g.parcatslayer").data([null]);ue.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var se=ue.selectAll("g.trace.parcats").data(ae,t),he=se.enter().append("g").attr("class","trace parcats");se.attr("transform",function(ye){return f(ye.x,ye.y)}),he.append("g").attr("class","paths");var pe=se.select("g.paths").selectAll("path.path").data(function(ye){return ye.paths},t);pe.attr("fill",function(ye){return ye.model.color});var de=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(ye){return ye.model.color}).attr("fill-opacity",0);v(de),pe.attr("d",function(ye){return ye.svgD}),de.empty()||pe.sort(l),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",h).on("click",d),he.append("g").attr("class","dimensions");var xe=se.select("g.dimensions").selectAll("g.dimension").data(function(ye){return ye.dimensions},t);xe.enter().append("g").attr("class","dimension"),xe.attr("transform",function(ye){return f(ye.x,0)}),xe.exit().remove();var _e=xe.selectAll("g.category").data(function(ye){return ye.categories},t),be=_e.enter().append("g").attr("class","category");_e.attr("transform",function(ye){return f(0,ye.y)}),be.append("rect").attr("class","catrect").attr("pointer-events","none"),_e.select("rect.catrect").attr("fill","none").attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}),x(be);var Le=_e.selectAll("rect.bandrect").data(function(ye){return ye.bands},t);Le.each(function(){b.raiseToTop(this)}),Le.attr("fill",function(ye){return ye.color});var De=Le.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);Le.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}).attr("cursor",function(ye){return ye.parcatsViewModel.arrangement==="fixed"?"default":ye.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(De),Le.exit().remove(),be.append("text").attr("class","catlabel").attr("pointer-events","none"),_e.select("text.catlabel").attr("text-anchor",function(ye){return a(ye)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(ye){return a(ye)?ye.width+5:-5}).attr("y",function(ye){return ye.height/2}).text(function(ye){return ye.model.categoryLabel}).each(function(ye){s.font(k.select(this),ye.parcatsViewModel.categorylabelfont),i.convertToTspans(k.select(this),te)}),be.append("text").attr("class","dimlabel"),_e.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(ye){return ye.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(ye){return ye.width/2}).attr("y",-5).text(function(ye,le){return le===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null}).each(function(ye){s.font(k.select(this),ye.parcatsViewModel.labelfont)}),_e.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",O),_e.exit().remove(),xe.call(k.behavior.drag().origin(function(ye){return{x:ye.x,y:0}}).on("dragstart",P).on("drag",I).on("dragend",R)),se.each(function(ye){ye.traceSelection=k.select(this),ye.pathSelection=k.select(this).selectAll("g.paths").selectAll("path.path"),ye.dimensionSelection=k.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),se.exit().remove()}function t(ne){return ne.key}function a(ne){var te=ne.parcatsViewModel.dimensions.length,Q=ne.parcatsViewModel.dimensions[te-1].model.dimensionInd;return ne.model.dimensionInd===Q}function l(ne,te){return ne.model.rawColor>te.model.rawColor?1:ne.model.rawColor<te.model.rawColor?-1:0}function u(ne){if(!ne.parcatsViewModel.dragDimension&&ne.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),g(k.select(this));var te=c(ne),Q=y(ne);if(ne.parcatsViewModel.graphDiv.emit("plotly_hover",{points:te,event:k.event,constraints:Q}),ne.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $,K,ae,ue=k.mouse(this)[0],se=ne.parcatsViewModel.graphDiv,he=ne.parcatsViewModel.trace,pe=se._fullLayout,de=pe._paperdiv.node().getBoundingClientRect(),xe=ne.parcatsViewModel.graphDiv.getBoundingClientRect();for(ae=0;ae<ne.leftXs.length-1;ae++)if(ne.leftXs[ae]+ne.dimWidths[ae]-2<=ue&&ue<=ne.leftXs[ae+1]+2){var _e=ne.parcatsViewModel.dimensions[ae],be=ne.parcatsViewModel.dimensions[ae+1];$=(_e.x+_e.width+be.x)/2,K=(ne.topYs[ae]+ne.topYs[ae+1]+ne.height)/2;break}var Le=ne.parcatsViewModel.x+$,De=ne.parcatsViewModel.y+K,ye=n.mostReadable(ne.model.color,["black","white"]),le=ne.model.count,oe=le/ne.parcatsViewModel.model.count,ve={countLabel:le,probabilityLabel:oe.toFixed(3)},Ce=[];ne.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ce.push(["Count:",ve.countLabel].join(" ")),ne.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ce.push(["P:",ve.probabilityLabel].join(" "));var ke=Ce.join("<br>"),Ae=k.mouse(se)[0];w.loneHover({trace:he,x:Le-de.left+xe.left,y:De-de.top+xe.top,text:ke,color:ne.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:ye,idealAlign:Ae<Le?"right":"left",hovertemplate:(he.line||{}).hovertemplate,hovertemplateLabels:ve,eventData:[{data:he._input,fullData:he,count:le,probability:oe}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:se})}}}function h(ne){if(!ne.parcatsViewModel.dragDimension&&(v(k.select(this)),w.loneUnhover(ne.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),ne.parcatsViewModel.pathSelection.sort(l),ne.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var te=c(ne),Q=y(ne);ne.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:te,event:k.event,constraints:Q})}}function c(ne){for(var te=[],Q=H(ne.parcatsViewModel),$=0;$<ne.model.valueInds.length;$++){var K=ne.model.valueInds[$];te.push({curveNumber:Q,pointNumber:K})}return te}function y(ne){for(var te={},Q=ne.parcatsViewModel.model.dimensions,$=0;$<Q.length;$++){var K=Q[$],ae=K.categories[ne.model.categoryInds[$]];te[K.containerInd]=ae.categoryValue}return ne.model.rawColor!==void 0&&(te.color=ne.model.rawColor),te}function d(ne){if(ne.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=c(ne),Q=y(ne);ne.parcatsViewModel.graphDiv.emit("plotly_click",{points:te,event:k.event,constraints:Q})}}function v(ne){ne.attr("fill",function(te){return te.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function g(ne){ne.attr("fill-opacity",.8).attr("stroke",function(te){return n.mostReadable(te.model.color,["black","white"])}).attr("stroke-width",.3)}function x(ne){ne.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(ne){ne.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function _(ne){var te=ne.parcatsViewModel.pathSelection,Q=ne.categoryViewModel.model.dimensionInd,$=ne.categoryViewModel.model.categoryInd;return te.filter(function(K){return K.model.categoryInds[Q]===$&&K.model.color===ne.color})}function p(ne,te,Q){var $=k.select(ne).datum(),K=$.categoryViewModel.model,ae=$.parcatsViewModel.graphDiv,ue=k.select(ne.parentNode).selectAll("rect.bandrect"),se=[];ue.each(function(pe){_(pe).each(function(de){Array.prototype.push.apply(se,c(de))})});var he={};he[K.dimensionInd]=K.categoryValue,ae.emit(te,{points:se,event:Q,constraints:he})}function S(ne,te,Q){var $=k.select(ne).datum(),K=$.categoryViewModel.model,ae=$.parcatsViewModel.graphDiv,ue=_($),se=[];ue.each(function(pe){Array.prototype.push.apply(se,c(pe))});var he={};he[K.dimensionInd]=K.categoryValue,$.rawColor!==void 0&&(he.color=$.rawColor),ae.emit(te,{points:se,event:Q,constraints:he})}function T(ne,te,Q){ne._fullLayout._calcInverseTransform(ne);var $,K,ae=ne._fullLayout._invScaleX,ue=ne._fullLayout._invScaleY,se=k.select(Q.parentNode).select("rect.catrect"),he=se.node().getBoundingClientRect(),pe=se.datum(),de=pe.parcatsViewModel,xe=de.model.dimensions[pe.model.dimensionInd],_e=de.trace,be=he.top+he.height/2;de.dimensions.length>1&&xe.displayInd===de.dimensions.length-1?($=he.left,K="left"):($=he.left+he.width,K="right");var Le=pe.model.count,De=pe.model.categoryLabel,ye=Le/pe.parcatsViewModel.model.count,le={countLabel:Le,categoryLabel:De,probabilityLabel:ye.toFixed(3)},oe=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&oe.push(["Count:",le.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&oe.push(["P("+le.categoryLabel+"):",le.probabilityLabel].join(" "));var ve=oe.join("<br>");return{trace:_e,x:ae*($-te.left),y:ue*(be-te.top),text:ve,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:K,hovertemplate:_e.hovertemplate,hovertemplateLabels:le,eventData:[{data:_e._input,fullData:_e,count:Le,category:De,probability:ye}]}}function E(ne){if(!ne.parcatsViewModel.dragDimension&&ne.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(k.mouse(this)[1]<-1)return;var te,Q=ne.parcatsViewModel.graphDiv,$=Q._fullLayout,K=$._paperdiv.node().getBoundingClientRect(),ae=ne.parcatsViewModel.hoveron,ue=this;ae==="color"?(function(se){var he=k.select(se).datum(),pe=_(he);g(pe),pe.each(function(){b.raiseToTop(this)}),k.select(se.parentNode).selectAll("rect.bandrect").filter(function(de){return de.color===he.color}).each(function(){b.raiseToTop(this),k.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ue),S(ue,"plotly_hover",k.event)):(function(se){k.select(se.parentNode).selectAll("rect.bandrect").each(function(he){var pe=_(he);g(pe),pe.each(function(){b.raiseToTop(this)})}),k.select(se.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ue),p(ue,"plotly_hover",k.event)),ne.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ae==="category"?te=T(Q,K,ue):ae==="color"?te=function(se,he,pe){se._fullLayout._calcInverseTransform(se);var de,xe,_e=se._fullLayout._invScaleX,be=se._fullLayout._invScaleY,Le=pe.getBoundingClientRect(),De=k.select(pe).datum(),ye=De.categoryViewModel,le=ye.parcatsViewModel,oe=le.model.dimensions[ye.model.dimensionInd],ve=le.trace,Ce=Le.y+Le.height/2;le.dimensions.length>1&&oe.displayInd===le.dimensions.length-1?(de=Le.left,xe="left"):(de=Le.left+Le.width,xe="right");var ke=ye.model.categoryLabel,Ae=De.parcatsViewModel.model.count,Ee=0;De.categoryViewModel.bands.forEach(function(Qe){Qe.color===De.color&&(Ee+=Qe.count)});var ze=ye.model.count,Fe=0;le.pathSelection.each(function(Qe){Qe.model.color===De.color&&(Fe+=Qe.model.count)});var ge=Ee/Ae,Te=Ee/Fe,Se=Ee/ze,Re={countLabel:Ee,categoryLabel:ke,probabilityLabel:ge.toFixed(3)},Pe=[];ye.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Pe.push(["Count:",Re.countLabel].join(" ")),ye.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Pe.push("P(color ∩ "+ke+"): "+Re.probabilityLabel),Pe.push("P("+ke+" | color): "+Te.toFixed(3)),Pe.push("P(color | "+ke+"): "+Se.toFixed(3)));var Ve=Pe.join("<br>"),We=n.mostReadable(De.color,["black","white"]);return{trace:ve,x:_e*(de-he.left),y:be*(Ce-he.top),text:Ve,color:De.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:We,fontSize:10,idealAlign:xe,hovertemplate:ve.hovertemplate,hovertemplateLabels:Re,eventData:[{data:ve._input,fullData:ve,category:ke,count:Ae,probability:ge,categorycount:ze,colorcount:Fe,bandcolorcount:Ee}]}}(Q,K,ue):ae==="dimension"&&(te=function(se,he,pe){var de=[];return k.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){de.push(T(se,he,this))}),de}(Q,K,ue)),te&&w.loneHover(te,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:Q}))}}function O(ne){var te=ne.parcatsViewModel;te.dragDimension||(v(te.pathSelection),x(te.dimensionSelection.selectAll("g.category")),m(te.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),w.loneUnhover(te.graphDiv._fullLayout._hoverlayer.node()),te.pathSelection.sort(l),te.hoverinfoItems.indexOf("skip")!==-1)||(ne.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",k.event):p(this,"plotly_unhover",k.event))}function P(ne){ne.parcatsViewModel.arrangement!=="fixed"&&(ne.dragDimensionDisplayInd=ne.model.displayInd,ne.initialDragDimensionDisplayInds=ne.parcatsViewModel.model.dimensions.map(function(te){return te.displayInd}),ne.dragHasMoved=!1,ne.dragCategoryDisplayInd=null,k.select(this).selectAll("g.category").select("rect.catrect").each(function(te){var Q=k.mouse(this)[0],$=k.mouse(this)[1];-2<=Q&&Q<=te.width+2&&-2<=$&&$<=te.height+2&&(ne.dragCategoryDisplayInd=te.model.displayInd,ne.initialDragCategoryDisplayInds=ne.model.categories.map(function(K){return K.displayInd}),te.model.dragY=te.y,b.raiseToTop(this.parentNode),k.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<$&&$<=K.y+K.height&&(ne.potentialClickBand=this)}))}),ne.parcatsViewModel.dragDimension=ne,w.loneUnhover(ne.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(ne){if(ne.parcatsViewModel.arrangement!=="fixed"&&(ne.dragHasMoved=!0,ne.dragDimensionDisplayInd!==null)){var te=ne.dragDimensionDisplayInd,Q=te-1,$=te+1,K=ne.parcatsViewModel.dimensions[te];if(ne.dragCategoryDisplayInd!==null){var ae=K.categories[ne.dragCategoryDisplayInd];ae.model.dragY+=k.event.dy;var ue=ae.model.dragY,se=ae.model.displayInd,he=K.categories,pe=he[se-1],de=he[se+1];pe!==void 0&&ue<pe.y+pe.height/2&&(ae.model.displayInd=pe.model.displayInd,pe.model.displayInd=se),de!==void 0&&ue+ae.height>de.y+de.height/2&&(ae.model.displayInd=de.model.displayInd,de.model.displayInd=se),ne.dragCategoryDisplayInd=ae.model.displayInd}if(ne.dragCategoryDisplayInd===null||ne.parcatsViewModel.arrangement==="freeform"){K.model.dragX=k.event.x;var xe=ne.parcatsViewModel.dimensions[Q],_e=ne.parcatsViewModel.dimensions[$];xe!==void 0&&K.model.dragX<xe.x+xe.width&&(K.model.displayInd=xe.model.displayInd,xe.model.displayInd=te),_e!==void 0&&K.model.dragX+K.width>_e.x&&(K.model.displayInd=_e.model.displayInd,_e.model.displayInd=ne.dragDimensionDisplayInd),ne.dragDimensionDisplayInd=K.model.displayInd}W(ne.parcatsViewModel),V(ne.parcatsViewModel),j(ne.parcatsViewModel),z(ne.parcatsViewModel)}}function R(ne){if(ne.parcatsViewModel.arrangement!=="fixed"&&ne.dragDimensionDisplayInd!==null){k.select(this).selectAll("text").attr("font-weight","normal");var te={},Q=H(ne.parcatsViewModel),$=ne.parcatsViewModel.model.dimensions.map(function(de){return de.displayInd}),K=ne.initialDragDimensionDisplayInds.some(function(de,xe){return de!==$[xe]});K&&$.forEach(function(de,xe){var _e=ne.parcatsViewModel.model.dimensions[xe].containerInd;te["dimensions["+_e+"].displayindex"]=de});var ae=!1;if(ne.dragCategoryDisplayInd!==null){var ue=ne.model.categories.map(function(de){return de.displayInd});if(ae=ne.initialDragCategoryDisplayInds.some(function(de,xe){return de!==ue[xe]})){var se=ne.model.categories.slice().sort(function(de,xe){return de.displayInd-xe.displayInd}),he=se.map(function(de){return de.categoryValue}),pe=se.map(function(de){return de.categoryLabel});te["dimensions["+ne.model.containerInd+"].categoryarray"]=[he],te["dimensions["+ne.model.containerInd+"].ticktext"]=[pe],te["dimensions["+ne.model.containerInd+"].categoryorder"]="array"}}ne.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!ne.dragHasMoved&&ne.potentialClickBand&&(ne.parcatsViewModel.hoveron==="color"?S(ne.potentialClickBand,"plotly_click",k.event.sourceEvent):p(ne.potentialClickBand,"plotly_click",k.event.sourceEvent)),ne.model.dragX=null,ne.dragCategoryDisplayInd!==null&&(ne.parcatsViewModel.dimensions[ne.dragDimensionDisplayInd].categories[ne.dragCategoryDisplayInd].model.dragY=null,ne.dragCategoryDisplayInd=null),ne.dragDimensionDisplayInd=null,ne.parcatsViewModel.dragDimension=null,ne.dragHasMoved=null,ne.potentialClickBand=null,W(ne.parcatsViewModel),V(ne.parcatsViewModel),k.transition().duration(300).ease("cubic-in-out").each(function(){j(ne.parcatsViewModel,!0),z(ne.parcatsViewModel,!0)}).each("end",function(){(K||ae)&&o.restyle(ne.parcatsViewModel.graphDiv,te,[Q])})}}function H(ne){for(var te,Q=ne.graphDiv._fullData,$=0;$<Q.length;$++)if(ne.key===Q[$].uid){te=$;break}return te}function z(ne,te){var Q;te===void 0&&(te=!1),ne.pathSelection.data(function($){return $.paths},t),(Q=ne.pathSelection,te?Q.transition():Q).attr("d",function($){return $.svgD})}function j(ne,te){function Q(ue){return te?ue.transition():ue}te===void 0&&(te=!1),ne.dimensionSelection.data(function(ue){return ue.dimensions},t);var $=ne.dimensionSelection.selectAll("g.category").data(function(ue){return ue.categories},t);Q(ne.dimensionSelection).attr("transform",function(ue){return f(ue.x,0)}),Q($).attr("transform",function(ue){return f(0,ue.y)}),$.select(".dimlabel").text(function(ue,se){return se===0?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}),$.select(".catlabel").attr("text-anchor",function(ue){return a(ue)?"start":"end"}).attr("x",function(ue){return a(ue)?ue.width+5:-5}).each(function(ue){var se,he;a(ue)?(se=ue.width+5,he="start"):(se=-5,he="end"),k.select(this).selectAll("tspan").attr("x",se).attr("text-anchor",he)});var K=$.selectAll("rect.bandrect").data(function(ue){return ue.bands},t),ae=K.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);K.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}),m(ae),K.each(function(){b.raiseToTop(this)}),K.exit().remove()}function Z(ne,te,Q){var $,K=Q[0],ae=te.margin||{l:80,r:80,t:100,b:80},ue=K.trace,se=ue.domain,he=te.width,pe=te.height,de=Math.floor(he*(se.x[1]-se.x[0])),xe=Math.floor(pe*(se.y[1]-se.y[0])),_e=se.x[0]*he+ae.l,be=te.height-se.y[1]*te.height+ae.t,Le=ue.line.shape;$=ue.hoverinfo==="all"?["count","probability"]:(ue.hoverinfo||"").split("+");var De={trace:ue,key:ue.uid,model:K,x:_e,y:be,width:de,height:xe,hoveron:ue.hoveron,hoverinfoItems:$,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Le,dragDimension:null,margin:ae,paths:[],dimensions:[],graphDiv:ne,traceSelection:null,pathSelection:null,dimensionSelection:null};return K.dimensions&&(W(De),V(De)),De}function F(ne,te,Q,$,K){var ae,ue,se=[],he=[];for(ue=0;ue<Q.length-1;ue++)ae=A(Q[ue]+ne[ue],ne[ue+1]),se.push(ae(K)),he.push(ae(1-K));var pe="M "+ne[0]+","+te[0];for(pe+="l"+Q[0]+",0 ",ue=1;ue<Q.length;ue++)pe+="C"+se[ue-1]+","+te[ue-1]+" "+he[ue-1]+","+te[ue]+" "+ne[ue]+","+te[ue],pe+="l"+Q[ue]+",0 ";for(pe+="l0,"+$+" ",pe+="l -"+Q[Q.length-1]+",0 ",ue=Q.length-2;ue>=0;ue--)pe+="C"+he[ue]+","+(te[ue+1]+$)+" "+se[ue]+","+(te[ue]+$)+" "+(ne[ue]+Q[ue])+","+(te[ue]+$),pe+="l-"+Q[ue]+",0 ";return pe+"Z"}function V(ne){var te=ne.dimensions,Q=ne.model,$=te.map(function(Re){return Re.categories.map(function(Pe){return Pe.y})}),K=ne.model.dimensions.map(function(Re){return Re.categories.map(function(Pe){return Pe.displayInd})}),ae=ne.model.dimensions.map(function(Re){return Re.displayInd}),ue=ne.dimensions.map(function(Re){return Re.model.dimensionInd}),se=te.map(function(Re){return Re.x}),he=te.map(function(Re){return Re.width}),pe=[];for(var de in Q.paths)Q.paths.hasOwnProperty(de)&&pe.push(Q.paths[de]);function xe(Re){var Pe=Re.categoryInds.map(function(Ve,We){return K[We][Ve]});return ue.map(function(Ve){return Pe[Ve]})}pe.sort(function(Re,Pe){var Ve=xe(Re),We=xe(Pe);return ne.sortpaths==="backward"&&(Ve.reverse(),We.reverse()),Ve.push(Re.valueInds[0]),We.push(Pe.valueInds[0]),ne.bundlecolors&&(Ve.unshift(Re.rawColor),We.unshift(Pe.rawColor)),Ve<We?-1:Ve>We?1:0});for(var _e=new Array(pe.length),be=te[0].model.count,Le=te[0].categories.map(function(Re){return Re.height}).reduce(function(Re,Pe){return Re+Pe}),De=0;De<pe.length;De++){var ye,le=pe[De];ye=be>0?Le*(le.count/be):0;for(var oe,ve=new Array($.length),Ce=0;Ce<le.categoryInds.length;Ce++){var ke=le.categoryInds[Ce],Ae=K[Ce][ke],Ee=ae[Ce];ve[Ee]=$[Ee][Ae],$[Ee][Ae]+=ye;var ze=ne.dimensions[Ee].categories[Ae],Fe=ze.bands.length,ge=ze.bands[Fe-1];if(ge===void 0||le.rawColor!==ge.rawColor){var Te=ge===void 0?0:ge.y+ge.height;ze.bands.push({key:Te,color:le.color,rawColor:le.rawColor,height:ye,width:ze.width,count:le.count,y:Te,categoryViewModel:ze,parcatsViewModel:ne})}else{var Se=ze.bands[Fe-1];Se.height+=ye,Se.count+=le.count}}oe=ne.pathShape==="hspline"?F(se,ve,he,ye,.5):F(se,ve,he,ye,0),_e[De]={key:le.valueInds[0],model:le,height:ye,leftXs:se,topYs:ve,dimWidths:he,svgD:oe,parcatsViewModel:ne}}ne.paths=_e}function W(ne){var te=ne.model.dimensions.map(function(ue){return{displayInd:ue.displayInd,dimensionInd:ue.dimensionInd}});te.sort(function(ue,se){return ue.displayInd-se.displayInd});var Q=[];for(var $ in te){var K=te[$].dimensionInd,ae=ne.model.dimensions[K];Q.push(re(ne,ae))}ne.dimensions=Q}function re(ne,te){var Q,$=ne.model.dimensions.length,K=te.displayInd;Q=40+($>1?(ne.width-80-16)/($-1):0)*K;var ae,ue,se,he,pe,de=[],xe=ne.model.maxCats,_e=te.categories.length,be=te.count,Le=ne.height-8*(xe-1),De=8*(xe-_e)/2,ye=te.categories.map(function(le){return{displayInd:le.displayInd,categoryInd:le.categoryInd}});for(ye.sort(function(le,oe){return le.displayInd-oe.displayInd}),pe=0;pe<_e;pe++)he=ye[pe].categoryInd,ue=te.categories[he],ae=be>0?ue.count/be*Le:0,se={key:ue.valueInds[0],model:ue,width:16,height:ae,y:ue.dragY!==null?ue.dragY:De,bands:[],parcatsViewModel:ne},De=De+ae+8,de.push(se);return{key:te.dimensionInd,x:te.dragX!==null?te.dragX:Q,y:0,width:16,model:te,categories:de,parcatsViewModel:ne,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}U.exports=function(ne,te,Q,$){r(Q,ne,$,te)}},60268:function(U,C,e){var k=e(51036);U.exports=function(A,o,w,b){var f=A._fullLayout,s=f._paper,n=f._size;k(A,s,o,{width:n.w,height:n.h,margin:{t:n.t,r:n.r,b:n.b,l:n.l}},w,b)}},82296:function(U,C,e){var k=e(49084),A=e(94724),o=e(25376),w=e(86968).u,b=e(92880).extendFlat,f=e(31780).templatedArray;U.exports={domain:w({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({autoShadowDflt:!0,editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:f("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},A.tickvals,{editType:"plot"}),ticktext:b({},A.ticktext,{editType:"plot"}),tickformat:b({},A.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},k("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(U,C,e){var k=e(30140),A=e(33428),o=e(71688).keyFun,w=e(71688).repeat,b=e(3400).sorterAsc,f=e(3400).strTranslate,s=k.bar.snapRatio;function n(T,E){return T*(1-s)+E*s}var i=k.bar.snapClose;function r(T,E){return T*(1-i)+E*i}function t(T,E,O,P){if(function(re,ne){for(var te=0;te<ne.length;te++)if(re>=ne[te][0]&&re<=ne[te][1])return!0;return!1}(O,P))return O;var I=T?-1:1,R=0,H=E.length-1;if(I<0){var z=R;R=H,H=z}for(var j=E[R],Z=j,F=R;I*F<I*H;F+=I){var V=F+I,W=E[V];if(I*O<I*r(j,W))return n(j,Z);if(I*O<I*W||V===H)return n(W,j);Z=j,j=W}}function a(T){T.attr("x",-k.bar.captureWidth/2).attr("width",k.bar.captureWidth)}function l(T){T.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(T){if(!T.brush.filterSpecified)return"0,"+T.height;for(var E,O,P,I=h(T.brush.filter.getConsolidated(),T.height),R=[0],H=I.length?I[0][0]:null,z=0;z<I.length;z++)O=(E=I[z])[1]-E[0],R.push(H),R.push(O),(P=z+1)<I.length&&(H=I[P][0]-E[1]);return R.push(T.height),R}function h(T,E){return T.map(function(O){return O.map(function(P){return Math.max(0,P*E)}).sort(b)})}function c(){A.select(document.body).style("cursor",null)}function y(T){T.attr("stroke-dasharray",u)}function d(T,E){var O=A.select(T).selectAll(".highlight, .highlight-shadow");y(E?O.transition().duration(k.bar.snapDuration).each("end",E):O)}function v(T,E){var O,P=T.brush,I=NaN,R={};if(P.filterSpecified){var H=T.height,z=P.filter.getConsolidated(),j=h(z,H),Z=NaN,F=NaN,V=NaN;for(O=0;O<=j.length;O++){var W=j[O];if(W&&W[0]<=E&&E<=W[1]){Z=O;break}if(F=O?O-1:NaN,W&&W[0]>E){V=O;break}}if(I=Z,isNaN(I)&&(I=isNaN(F)||isNaN(V)?isNaN(F)?V:F:E-j[F][1]<j[V][0]-E?F:V),!isNaN(I)){var re=j[I],ne=function(K,ae){var ue=k.bar.handleHeight;if(!(ae>K[1]+ue||ae<K[0]-ue))return ae>=.9*K[1]+.1*K[0]?"n":ae<=.9*K[0]+.1*K[1]?"s":"ns"}(re,E);ne&&(R.interval=z[I],R.intervalPix=re,R.region=ne)}}if(T.ordinal&&!R.region){var te=T.unitTickvals,Q=T.unitToPaddedPx.invert(E);for(O=0;O<te.length;O++){var $=[.25*te[Math.max(O-1,0)]+.75*te[O],.25*te[Math.min(O+1,te.length-1)]+.75*te[O]];if(Q>=$[0]&&Q<=$[1]){R.clickableOrdinalRange=$;break}}}return R}function g(T,E){A.event.sourceEvent.stopPropagation();var O=E.height-A.mouse(T)[1]-2*k.verticalPadding,P=E.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.grabbingBar?P.newExtent=[O-P.grabPoint,O+P.barLength-P.grabPoint].map(E.unitToPaddedPx.invert):P.newExtent=[P.startExtent,E.unitToPaddedPx.invert(O)].sort(b),E.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(E),d(T.parentNode)}function x(T,E){var O=v(E,E.height-A.mouse(T)[1]-2*k.verticalPadding),P="crosshair";O.clickableOrdinalRange?P="pointer":O.region&&(P=O.region+"-resize"),A.select(document.body).style("cursor",P)}function m(T){T.on("mousemove",function(E){A.event.preventDefault(),E.parent.inBrushDrag||x(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(A.behavior.drag().on("dragstart",function(E){(function(O,P){A.event.sourceEvent.stopPropagation();var I=P.height-A.mouse(O)[1]-2*k.verticalPadding,R=P.unitToPaddedPx.invert(I),H=P.brush,z=v(P,I),j=z.interval,Z=H.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=z.region==="ns",Z.grabbingBar){var F=j.map(P.unitToPaddedPx);Z.grabPoint=I-F[0]-k.verticalPadding,Z.barLength=F[1]-F[0]}Z.clickableOrdinalRange=z.clickableOrdinalRange,Z.stayingIntervals=P.multiselect&&H.filterSpecified?H.filter.getConsolidated():[],j&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(V){return V[0]!==j[0]&&V[1]!==j[1]})),Z.startExtent=z.region?j[z.region==="s"?1:0]:R,P.parent.inBrushDrag=!0,Z.brushStartCallback()})(this,E)}).on("drag",function(E){g(this,E)}).on("dragend",function(E){(function(O,P){var I=P.brush,R=I.filter,H=I.svgBrush;H._dragging||(x(O,P),g(O,P),P.brush.svgBrush.wasDragged=!1),H._dragging=!1,A.event.sourceEvent.stopPropagation();var z=H.grabbingBar;if(H.grabbingBar=!1,H.grabLocation=void 0,P.parent.inBrushDrag=!1,c(),!H.wasDragged)return H.wasDragged=void 0,H.clickableOrdinalRange?I.filterSpecified&&P.multiselect?H.extent.push(H.clickableOrdinalRange):(H.extent=[H.clickableOrdinalRange],I.filterSpecified=!0):z?(H.extent=H.stayingIntervals,H.extent.length===0&&p(I)):p(I),H.brushCallback(P),d(O.parentNode),void H.brushEndCallback(I.filterSpecified?R.getConsolidated():[]);var j=function(){R.set(R.getConsolidated())};if(P.ordinal){var Z=P.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),H.newExtent=[t(0,Z,H.newExtent[0],H.stayingIntervals),t(1,Z,H.newExtent[1],H.stayingIntervals)];var F=H.newExtent[1]>H.newExtent[0];H.extent=H.stayingIntervals.concat(F?[H.newExtent]:[]),H.extent.length||p(I),H.brushCallback(P),F?d(O.parentNode,j):(j(),d(O.parentNode))}else j();H.brushEndCallback(I.filterSpecified?R.getConsolidated():[])})(this,E)}))}function _(T,E){return T[0]-E[0]}function p(T){T.filterSpecified=!1,T.svgBrush.extent=[[-1/0,1/0]]}function S(T){for(var E,O=T.slice(),P=[],I=O.shift();I;){for(E=I.slice();(I=O.shift())&&I[0]<=E[1];)E[1]=Math.max(E[1],I[1]);P.push(E)}return P.length===1&&P[0][0]>P[0][1]&&(P=[]),P}U.exports={makeBrush:function(T,E,O,P,I,R){var H,z=function(){var j,Z,F=[];return{set:function(V){(F=V.map(function(W){return W.slice().sort(b)}).sort(_)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),j=S(F),Z=F.reduce(function(W,re){return[Math.min(W[0],re[0]),Math.max(W[1],re[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return j},getBounds:function(){return Z}}}();return z.set(O),{filter:z,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(H=I,function(j){var Z=j.brush,F=function(W){return W.svgBrush.extent.map(function(re){return re.slice()})}(Z),V=F.slice();Z.filter.set(V),H()}),brushEndCallback:R}}},ensureAxisBrush:function(T,E,O){var P=T.selectAll("."+k.cn.axisBrush).data(w,o);P.enter().append("g").classed(k.cn.axisBrush,!0),function(I,R,H){var z=H._context.staticPlot,j=I.selectAll(".background").data(w);j.enter().append("rect").classed("background",!0).call(a).call(l).style("pointer-events",z?"none":"auto").attr("transform",f(0,k.verticalPadding)),j.call(m).attr("height",function(V){return V.height-k.verticalPadding});var Z=I.selectAll(".highlight-shadow").data(w);Z.enter().append("line").classed("highlight-shadow",!0).attr("x",-k.bar.width/2).attr("stroke-width",k.bar.width+k.bar.strokeWidth).attr("stroke",R).attr("opacity",k.bar.strokeOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(V){return V.height}).call(y);var F=I.selectAll(".highlight").data(w);F.enter().append("line").classed("highlight",!0).attr("x",-k.bar.width/2).attr("stroke-width",k.bar.width-k.bar.strokeWidth).attr("stroke",k.bar.fillColor).attr("opacity",k.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(V){return V.height}).call(y)}(P,E,O)},cleanRanges:function(T,E){if(Array.isArray(T[0])?(T=T.map(function(P){return P.sort(b)}),T=E.multiselect?S(T.sort(_)):[T[0]]):T=[T.sort(b)],E.tickvals){var O=E.tickvals.slice().sort(b);if(!(T=T.map(function(P){var I=[t(0,O,P[0],[]),t(1,O,P[1],[])];if(I[1]>I[0])return I}).filter(function(P){return P})).length)return}return T.length>1?T:T[0]}}},61664:function(U,C,e){U.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(U,C,e){var k=e(33428),A=e(84888)._M,o=e(24196),w=e(9616);C.name="parcoords",C.plot=function(b){var f=A(b.calcdata,"parcoords")[0];f.length&&o(b,f)},C.clean=function(b,f,s,n){var i=n._has&&n._has("parcoords"),r=f._has&&f._has("parcoords");i&&!r&&(n._paperdiv.selectAll(".parcoords").remove(),n._glimages.selectAll("*").remove())},C.toSVG=function(b){var f=b._fullLayout._glimages,s=k.select(b).selectAll(".svg-container");s.filter(function(n,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var n=this,i=n.toDataURL("image/png");f.append("svg:image").attr({xmlns:w.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:n.style.width,height:n.style.height})}),window.setTimeout(function(){k.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(U,C,e){var k=e(3400).isArrayOrTypedArray,A=e(8932),o=e(71688).wrap;U.exports=function(w,b){var f,s;return A.hasColorscale(b,"line")&&k(b.line.color)?(f=b.line.color,s=A.extractOpts(b.line).colorscale,A.calc(w,b,{vals:f,containerStr:"line",cLetter:"c"})):(f=function(n){for(var i=new Array(n),r=0;r<n;r++)i[r]=.5;return i}(b._length),s=[[0,b.line.color],[1,b.line.color]]),o({lineColor:f,cscale:s})}},30140:function(U){U.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(U,C,e){var k=e(3400),A=e(94288).hasColorscale,o=e(27260),w=e(86968).Q,b=e(51272),f=e(54460),s=e(82296),n=e(71864),i=e(30140).maxDimensionCount,r=e(26284);function t(a,l,u,h){function c(x,m){return k.coerce(a,l,s.dimensions,x,m)}var y=c("values"),d=c("visible");if(y&&y.length||(d=l.visible=!1),d){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var v=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},f.setConvert(l._ax,h.layout),c("multiselect");var g=c("constraintrange");g&&(l.constraintrange=n.cleanRanges(g,l))}}U.exports=function(a,l,u,h){function c(x,m){return k.coerce(a,l,s,x,m)}var y=a.dimensions;Array.isArray(y)&&y.length>i&&(k.log("parcoords traces support up to "+i+" dimensions at the moment"),y.splice(i));var d=b(a,l,{name:"dimensions",layout:h,handleItemDefaults:t}),v=function(x,m,_,p,S){var T=S("line.color",_);if(A(x,"line")&&k.isArrayOrTypedArray(T)){if(T.length)return S("line.colorscale"),o(x,m,p,S,{prefix:"line.",cLetter:"c"}),T.length;m.line.color=_}return 1/0}(a,l,u,h,c);w(l,h,c),Array.isArray(d)&&d.length||(l.visible=!1),r(l,d,"values",v);var g=k.extendFlat({},h.font,{size:Math.round(h.font.size/1.2)});k.coerceFont(c,"labelfont",g),k.coerceFont(c,"tickfont",g,{autoShadowDflt:!0}),k.coerceFont(c,"rangefont",g),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(U,C,e){var k=e(3400).isTypedArray;C.convertTypedArray=function(A){return k(A)?Array.prototype.slice.call(A):A},C.isOrdinal=function(A){return!!A.tickvals},C.isVisible=function(A){return A.visible||!("visible"in A)}},29928:function(U,C,e){var k=e(61664);k.plot=e(24196),U.exports=k},51352:function(U,C,e){var k=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),A=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),o=e(30140).maxDimensionCount,w=e(3400),b=1e-6,f=new Uint8Array(4),s=new Uint8Array(4),n={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(d,v,g,x,m){var _=d._gl;_.enable(_.SCISSOR_TEST),_.scissor(v,g,x,m),d.clear({color:[0,0,0,0],depth:1})}function r(d,v,g,x,m,_){var p=_.key;g.drawCompleted||(function(S){S.read({x:0,y:0,width:1,height:1,data:f})}(d),g.drawCompleted=!0),function S(T){var E=Math.min(x,m-T*x);T===0&&(window.cancelAnimationFrame(g.currentRafs[p]),delete g.currentRafs[p],i(d,_.scissorX,_.scissorY,_.scissorWidth,_.viewBoxSize[1])),g.clearOnly||(_.count=2*E,_.offset=2*T*x,v(_),T*x+E<m&&(g.currentRafs[p]=window.requestAnimationFrame(function(){S(T+1)})),g.drawCompleted=!1)}(0)}function t(d,v){for(var g=new Array(256),x=0;x<256;x++)g[x]=d(x/255).concat(v);return g}function a(d,v){return(d>>>8*v)%256/255}function l(d,v,g){for(var x=new Array(8*v),m=0,_=0;_<v;_++)for(var p=0;p<2;p++)for(var S=0;S<4;S++){var T=4*d+S,E=g[64*_+T];T===63&&p===0&&(E*=-1),x[m++]=E}return x}function u(d){var v="0"+d;return v.substr(v.length-2)}function h(d){return d<o?"p"+u(d+1)+"_"+u(d+4):"colors"}function c(d,v,g,x,m,_,p,S,T,E,O,P,I,R){for(var H=[[],[]],z=0;z<64;z++)H[0][z]=z===m?1:0,H[1][z]=z===_?1:0;p*=R,S*=R,T*=R,E*=R;var j=d.lines.canvasOverdrag*R,Z=d.domain,F=d.canvasWidth*R,V=d.canvasHeight*R,W=d.pad.l*R,re=d.pad.b*R,ne=d.layoutHeight*R,te=d.layoutWidth*R,Q=d.deselectedLines.color,$=d.deselectedLines.opacity;return w.extendFlat({key:O,resolution:[F,V],viewBoxPos:[p+j,S],viewBoxSize:[T,E],i0:m,i1:_,dim0A:H[0].slice(0,16),dim0B:H[0].slice(16,32),dim0C:H[0].slice(32,48),dim0D:H[0].slice(48,64),dim1A:H[1].slice(0,16),dim1B:H[1].slice(16,32),dim1C:H[1].slice(32,48),dim1D:H[1].slice(48,64),drwLayer:P,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,$!=="auto"?Q[3]*$:Math.max(.00392156862745098,Math.pow(1/d.lines.color.length,.3333333333333333))],scissorX:(x===v?0:p+j)+(W-j)+te*Z.x[0],scissorWidth:(x===g?F-p+j:T+.5)+(x===v?p+j:0),scissorY:S+re+ne*Z.y[0],scissorHeight:E,viewportX:W-j+te*Z.x[0],viewportY:re+ne*Z.y[0],viewportWidth:F,viewportHeight:V},I)}function y(d){var v=2047,g=Math.max(0,Math.floor(d[0]*v),0),x=Math.min(v,Math.ceil(d[1]*v),v);return[Math.min(g,x),Math.max(g,x)]}U.exports=function(d,v){var g,x,m,_,p,S=v.context,T=v.pick,E=v.regl,O=E._gl,P=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),I=Math.max(P[0],Math.min(P[1],v.viewModel.plotGlPixelRatio)),R={currentRafs:{},drawCompleted:!0,clearOnly:!1},H=function(V){for(var W={},re=0;re<=o;re+=4)W[h(re)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return W}(E),z=E.texture(n),j=[];F(v);var Z=E({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:k,frag:A,primitive:"lines",lineWidth:I,attributes:H,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:z,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function F(V){g=V.model,x=V.viewModel,m=x.dimensions.slice(),_=m[0]?m[0].values.length:0;var W=g.lines,re=T?W.color.map(function(te,Q){return Q/W.color.length}):W.color,ne=function(te,Q,$){for(var K,ae=new Array(te*(o+4)),ue=0,se=0;se<te;se++){for(var he=0;he<o;he++)ae[ue++]=he<Q.length?Q[he].paddedUnitValues[se]:.5;ae[ue++]=a(se,2),ae[ue++]=a(se,1),ae[ue++]=a(se,0),ae[ue++]=(K=$[se],Math.max(b,Math.min(.999999,K)))}return ae}(_,m,re);(function(te,Q,$){for(var K=0;K<=o;K+=4)te[h(K)](l(K/4,Q,$))})(H,_,ne),S||T||(z=E.texture(w.extendFlat({data:t(g.unitToColor,255)},n)))}return{render:function(V,W,re){var ne,te,Q,$=V.length,K=1/0,ae=-1/0;for(ne=0;ne<$;ne++)V[ne].dim0.canvasX<K&&(K=V[ne].dim0.canvasX,te=ne),V[ne].dim1.canvasX>ae&&(ae=V[ne].dim1.canvasX,Q=ne);$===0&&i(E,0,0,g.canvasWidth,g.canvasHeight);var ue=function(ye){var le,oe,ve,Ce=[[],[]];for(ve=0;ve<64;ve++){var ke=!ye&&ve<m.length?m[ve].brush.filter.getBounds():[-1/0,1/0];Ce[0][ve]=ke[0],Ce[1][ve]=ke[1]}var Ae=new Array(16384);for(le=0;le<16384;le++)Ae[le]=255;if(!ye)for(le=0;le<m.length;le++){var Ee=le%8,ze=(le-Ee)/8,Fe=Math.pow(2,Ee),ge=m[le].brush.filter.get();if(!(ge.length<2)){var Te=y(ge[0])[1];for(oe=1;oe<ge.length;oe++){var Se=y(ge[oe]);for(ve=Te+1;ve<Se[0];ve++)Ae[8*ve+ze]&=~Fe;Te=Math.max(Te,Se[1])}}}var Re={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return p?p(Re):p=E.texture(Re),{maskTexture:p,maskHeight:2048,loA:Ce[0].slice(0,16),loB:Ce[0].slice(16,32),loC:Ce[0].slice(32,48),loD:Ce[0].slice(48,64),hiA:Ce[1].slice(0,16),hiB:Ce[1].slice(16,32),hiC:Ce[1].slice(32,48),hiD:Ce[1].slice(48,64)}}(S);for(ne=0;ne<$;ne++){var se=V[ne],he=se.dim0.crossfilterDimensionIndex,pe=se.dim1.crossfilterDimensionIndex,de=se.canvasX,xe=se.canvasY,_e=de+se.panelSizeX,be=se.plotGlPixelRatio;if(W||!j[he]||j[he][0]!==de||j[he][1]!==_e){j[he]=[de,_e];var Le=c(g,te,Q,ne,he,pe,de,xe,se.panelSizeX,se.panelSizeY,se.dim0.crossfilterDimensionIndex,S?0:T?2:1,ue,be);R.clearOnly=re;var De=W?g.lines.blockLineCount:_;r(E,Z,R,De,_,Le)}}},readPixel:function(V,W){return E.read({x:V,y:W,width:1,height:1,data:s}),s},readPixels:function(V,W,re,ne){var te=new Uint8Array(4*re*ne);return E.read({x:V,y:W,width:re,height:ne,data:te}),te},destroy:function(){for(var V in d.style["pointer-events"]="none",z.destroy(),p&&p.destroy(),H)H[V].destroy()},update:F}}},26284:function(U){U.exports=function(C,e,k,A){var o,w;for(A||(A=1/0),o=0;o<e.length;o++)(w=e[o]).visible&&(A=Math.min(A,w[k].length));for(A===1/0&&(A=0),C._length=A,o=0;o<e.length;o++)(w=e[o]).visible&&(w._length=A);return A}},36336:function(U,C,e){var k=e(33428),A=e(3400),o=A.isArrayOrTypedArray,w=A.numberFormat,b=e(96824),f=e(54460),s=A.strRotate,n=A.strTranslate,i=e(72736),r=e(43616),t=e(8932),a=e(71688),l=a.keyFun,u=a.repeat,h=a.unwrap,c=e(95724),y=e(30140),d=e(71864),v=e(51352);function g(Z,F,V){return A.aggNums(Z,null,F,V)}function x(Z,F){return _(g(Math.min,Z,F),g(Math.max,Z,F))}function m(Z){var F=Z.range;return F?_(F[0],F[1]):x(Z.values,Z._length)}function _(Z,F){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(F)&&isFinite(F)||(F=0),Z===F&&(Z===0?(Z-=1,F+=1):(Z*=.9,F*=1.1)),[Z,F]}function p(Z,F,V,W,re){var ne,te,Q=m(V);return W?k.scale.ordinal().domain(W.map((ne=w(V.tickformat),te=re,te?function($,K){var ae=te[K];return ae??ne($)}:ne))).range(W.map(function($){var K=($-Q[0])/(Q[1]-Q[0]);return Z-F+K*(2*F-Z)})):k.scale.linear().domain(Q).range([Z-F,F])}function S(Z){if(Z.tickvals){var F=m(Z);return k.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(V){return(V-F[0])/(F[1]-F[0])}))}}function T(Z){var F=Z.map(function(re){return re[0]}),V=Z.map(function(re){var ne=b(re[1]);return k.rgb("rgb("+ne[0]+","+ne[1]+","+ne[2]+")")}),W="rgb".split("").map(function(re){return k.scale.linear().clamp(!0).domain(F).range(V.map((ne=re,function(te){return te[ne]})));var ne});return function(re){return W.map(function(ne){return ne(re)})}}function E(Z){return Z.dimensions.some(function(F){return F.brush.filterSpecified})}function O(Z,F,V){var W=h(F),re=W.trace,ne=c.convertTypedArray(W.lineColor),te=re.line,Q={color:b(re.unselected.line.color),opacity:re.unselected.line.opacity},$=t.extractOpts(te),K=$.reversescale?t.flipScale(W.cscale):W.cscale,ae=re.domain,ue=re.dimensions,se=Z.width,he=re.labelangle,pe=re.labelside,de=re.labelfont,xe=re.tickfont,_e=re.rangefont,be=A.extendDeepNoArrays({},te,{color:ne.map(k.scale.linear().domain(m({values:ne,range:[$.min,$.max],_length:re._length}))),blockLineCount:y.blockLineCount,canvasOverdrag:y.overdrag*y.canvasPixelRatio}),Le=Math.floor(se*(ae.x[1]-ae.x[0])),De=Math.floor(Z.height*(ae.y[1]-ae.y[0])),ye=Z.margin||{l:80,r:80,t:100,b:80},le=Le,oe=De;return{key:V,colCount:ue.filter(c.isVisible).length,dimensions:ue,tickDistance:y.tickDistance,unitToColor:T(K),lines:be,deselectedLines:Q,labelAngle:he,labelSide:pe,labelFont:de,tickFont:xe,rangeFont:_e,layoutWidth:se,layoutHeight:Z.height,domain:ae,translateX:ae.x[0]*se,translateY:Z.height-ae.y[1]*Z.height,pad:ye,canvasWidth:le*y.canvasPixelRatio+2*be.canvasOverdrag,canvasHeight:oe*y.canvasPixelRatio,width:le,height:oe,canvasPixelRatio:y.canvasPixelRatio}}function P(Z,F,V){var W=V.width,re=V.height,ne=V.dimensions,te=V.canvasPixelRatio,Q=function(se){return W*se/Math.max(1,V.colCount-1)},$=y.verticalPadding/re,K=function(se,he){return k.scale.linear().range([he,se-he])}(re,y.verticalPadding),ae={key:V.key,xScale:Q,model:V,inBrushDrag:!1},ue={};return ae.dimensions=ne.filter(c.isVisible).map(function(se,he){var pe=function(Ee,ze){return k.scale.linear().domain(m(Ee)).range([ze,1-ze])}(se,$),de=ue[se.label];ue[se.label]=(de||0)+1;var xe=se.label+(de?"__"+de:""),_e=se.constraintrange,be=_e&&_e.length;be&&!o(_e[0])&&(_e=[_e]);var Le=be?_e.map(function(Ee){return Ee.map(pe)}):[[-1/0,1/0]],De=se.values;De.length>se._length&&(De=De.slice(0,se._length));var ye,le=se.tickvals;function oe(Ee,ze){return{val:Ee,text:ye[ze]}}function ve(Ee,ze){return Ee.val-ze.val}if(o(le)&&le.length){A.isTypedArray(le)&&(le=Array.from(le)),ye=se.ticktext,o(ye)&&ye.length?ye.length>le.length?ye=ye.slice(0,le.length):le.length>ye.length&&(le=le.slice(0,ye.length)):ye=le.map(w(se.tickformat));for(var Ce=1;Ce<le.length;Ce++)if(le[Ce]<le[Ce-1]){for(var ke=le.map(oe).sort(ve),Ae=0;Ae<le.length;Ae++)le[Ae]=ke[Ae].val,ye[Ae]=ke[Ae].text;break}}else le=void 0;return De=c.convertTypedArray(De),{key:xe,label:se.label,tickFormat:se.tickformat,tickvals:le,ticktext:ye,ordinal:c.isOrdinal(se),multiselect:se.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:se._index,height:re,values:De,paddedUnitValues:De.map(pe),unitTickvals:le&&le.map(pe),xScale:Q,x:Q(he),canvasX:Q(he)*te,unitToPaddedPx:K,domainScale:p(re,y.verticalPadding,se,le,ye),ordinalScale:S(se),parent:ae,model:V,brush:d.makeBrush(Z,be,Le,function(){Z.linePickActive(!1)},function(){var Ee=ae;Ee.focusLayer&&Ee.focusLayer.render(Ee.panels,!0);var ze=E(Ee);!Z.contextShown()&&ze?(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!ze&&(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0,!0),Z.contextShown(!1))},function(Ee){if(ae.focusLayer.render(ae.panels,!0),ae.pickLayer&&ae.pickLayer.render(ae.panels,!0),Z.linePickActive(!0),F&&F.filterChanged){var ze=pe.invert,Fe=Ee.map(function(ge){return ge.map(ze).sort(A.sorterAsc)}).sort(function(ge,Te){return ge[0]-Te[0]});F.filterChanged(ae.key,se._index,Fe)}})}}),ae}function I(Z){Z.classed(y.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function R(Z,F){var V=F==="top"?1:-1,W=Z*Math.PI/180;return{dir:V,dx:Math.sin(W),dy:Math.cos(W),degrees:Z}}function H(Z,F,V){for(var W=F.panels||(F.panels=[]),re=Z.data(),ne=0;ne<re.length-1;ne++){var te=W[ne]||(W[ne]={}),Q=re[ne],$=re[ne+1];te.dim0=Q,te.dim1=$,te.canvasX=Q.canvasX,te.panelSizeX=$.canvasX-Q.canvasX,te.panelSizeY=F.model.canvasHeight,te.y=0,te.canvasY=0,te.plotGlPixelRatio=V}}function z(Z,F){return f.tickText(Z._ax,F,!1).text}function j(Z,F){if(Z.ordinal)return"";var V=Z.domainScale.domain(),W=V[F?V.length-1:0];return z(Z.model.dimensions[Z.visibleIndex],W)}U.exports=function(Z,F,V,W){var re=Z._context.staticPlot,ne=Z._fullLayout,te=ne._toppaper,Q=ne._glcontainer,$=Z._context.plotGlPixelRatio,K=Z._fullLayout.paper_bgcolor;(function(Ee){for(var ze=0;ze<Ee.length;ze++)for(var Fe=0;Fe<Ee[ze].length;Fe++)for(var ge=Ee[ze][Fe].trace,Te=ge.dimensions,Se=0;Se<Te.length;Se++){var Re=Te[Se].values,Pe=Te[Se]._ax;Pe&&(Pe.range?Pe.range=_(Pe.range[0],Pe.range[1]):Pe.range=x(Re,ge._length),Pe.dtick||(Pe.dtick=.01*(Math.abs(Pe.range[1]-Pe.range[0])||1)),Pe.tickformat=Te[Se].tickformat,f.calcTicks(Pe),Pe.cleanRange())}})(F);var ae,ue,se=(ae=!0,ue=!1,{linePickActive:function(Ee){return arguments.length?ae=!!Ee:ae},contextShown:function(Ee){return arguments.length?ue=!!Ee:ue}}),he=F.filter(function(Ee){return h(Ee).trace.visible}).map(O.bind(0,V)).map(P.bind(0,se,W));Q.each(function(Ee,ze){return A.extendFlat(Ee,he[ze])});var pe=Q.selectAll(".gl-canvas").each(function(Ee){Ee.viewModel=he[0],Ee.viewModel.plotGlPixelRatio=$,Ee.viewModel.paperColor=K,Ee.model=Ee.viewModel?Ee.viewModel.model:null}),de=null;pe.filter(function(Ee){return Ee.pick}).style("pointer-events",re?"none":"auto").on("mousemove",function(Ee){if(se.linePickActive()&&Ee.lineLayer&&W&&W.hover){var ze=k.event,Fe=this.width,ge=this.height,Te=k.mouse(this),Se=Te[0],Re=Te[1];if(Se<0||Re<0||Se>=Fe||Re>=ge)return;var Pe=Ee.lineLayer.readPixel(Se,ge-1-Re),Ve=Pe[3]!==0,We=Ve?Pe[2]+256*(Pe[1]+256*Pe[0]):null,Qe={x:Se,y:Re,clientX:ze.clientX,clientY:ze.clientY,dataIndex:Ee.model.key,curveNumber:We};We!==de&&(Ve?W.hover(Qe):W.unhover&&W.unhover(Qe),de=We)}}),pe.style("opacity",function(Ee){return Ee.pick?0:1}),te.style("background","rgba(255, 255, 255, 0)");var xe=te.selectAll("."+y.cn.parcoords).data(he,l);xe.exit().remove(),xe.enter().append("g").classed(y.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),xe.attr("transform",function(Ee){return n(Ee.model.translateX,Ee.model.translateY)});var _e=xe.selectAll("."+y.cn.parcoordsControlView).data(u,l);_e.enter().append("g").classed(y.cn.parcoordsControlView,!0),_e.attr("transform",function(Ee){return n(Ee.model.pad.l,Ee.model.pad.t)});var be=_e.selectAll("."+y.cn.yAxis).data(function(Ee){return Ee.dimensions},l);be.enter().append("g").classed(y.cn.yAxis,!0),_e.each(function(Ee){H(be,Ee,$)}),pe.each(function(Ee){if(Ee.viewModel){!Ee.lineLayer||W?Ee.lineLayer=v(this,Ee):Ee.lineLayer.update(Ee),(Ee.key||Ee.key===0)&&(Ee.viewModel[Ee.key]=Ee.lineLayer);var ze=!Ee.context||W;Ee.lineLayer.render(Ee.viewModel.panels,ze)}}),be.attr("transform",function(Ee){return n(Ee.xScale(Ee.xIndex),0)}),be.call(k.behavior.drag().origin(function(Ee){return Ee}).on("drag",function(Ee){var ze=Ee.parent;se.linePickActive(!1),Ee.x=Math.max(-y.overdrag,Math.min(Ee.model.width+y.overdrag,k.event.x)),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,be.sort(function(Fe,ge){return Fe.x-ge.x}).each(function(Fe,ge){Fe.xIndex=ge,Fe.x=Ee===Fe?Fe.x:Fe.xScale(Fe.xIndex),Fe.canvasX=Fe.x*Fe.model.canvasPixelRatio}),H(be,ze,$),be.filter(function(Fe){return Math.abs(Ee.xIndex-Fe.xIndex)!==0}).attr("transform",function(Fe){return n(Fe.xScale(Fe.xIndex),0)}),k.select(this).attr("transform",n(Ee.x,0)),be.each(function(Fe,ge,Te){Te===Ee.parent.key&&(ze.dimensions[ge]=Fe)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer.render&&ze.focusLayer.render(ze.panels)}).on("dragend",function(Ee){var ze=Ee.parent;Ee.x=Ee.xScale(Ee.xIndex),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,H(be,ze,$),k.select(this).attr("transform",function(Fe){return n(Fe.x,0)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer&&ze.focusLayer.render(ze.panels),ze.pickLayer&&ze.pickLayer.render(ze.panels,!0),se.linePickActive(!0),W&&W.axesMoved&&W.axesMoved(ze.key,ze.dimensions.map(function(Fe){return Fe.crossfilterDimensionIndex}))})),be.exit().remove();var Le=be.selectAll("."+y.cn.axisOverlays).data(u,l);Le.enter().append("g").classed(y.cn.axisOverlays,!0),Le.selectAll("."+y.cn.axis).remove();var De=Le.selectAll("."+y.cn.axis).data(u,l);De.enter().append("g").classed(y.cn.axis,!0),De.each(function(Ee){var ze=Ee.model.height/Ee.model.tickDistance,Fe=Ee.domainScale,ge=Fe.domain();k.select(this).call(k.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ze,Ee.tickFormat).tickValues(Ee.ordinal?ge:null).tickFormat(function(Te){return c.isOrdinal(Ee)?Te:z(Ee.model.dimensions[Ee.visibleIndex],Te)}).scale(Fe)),r.font(De.selectAll("text"),Ee.model.tickFont)}),De.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),De.selectAll("text").style("cursor","default");var ye=Le.selectAll("."+y.cn.axisHeading).data(u,l);ye.enter().append("g").classed(y.cn.axisHeading,!0);var le=ye.selectAll("."+y.cn.axisTitle).data(u,l);le.enter().append("text").classed(y.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",re?"none":"auto"),le.text(function(Ee){return Ee.label}).each(function(Ee){var ze=k.select(this);r.font(ze,Ee.model.labelFont),i.convertToTspans(ze,Z)}).attr("transform",function(Ee){var ze=R(Ee.model.labelAngle,Ee.model.labelSide),Fe=y.axisTitleOffset;return(ze.dir>0?"":n(0,2*Fe+Ee.model.height))+s(ze.degrees)+n(-Fe*ze.dx,-Fe*ze.dy)}).attr("text-anchor",function(Ee){var ze=R(Ee.model.labelAngle,Ee.model.labelSide);return 2*Math.abs(ze.dx)>Math.abs(ze.dy)?ze.dir*ze.dx<0?"start":"end":"middle"});var oe=Le.selectAll("."+y.cn.axisExtent).data(u,l);oe.enter().append("g").classed(y.cn.axisExtent,!0);var ve=oe.selectAll("."+y.cn.axisExtentTop).data(u,l);ve.enter().append("g").classed(y.cn.axisExtentTop,!0),ve.attr("transform",n(0,-y.axisExtentOffset));var Ce=ve.selectAll("."+y.cn.axisExtentTopText).data(u,l);Ce.enter().append("text").classed(y.cn.axisExtentTopText,!0).call(I),Ce.text(function(Ee){return j(Ee,!0)}).each(function(Ee){r.font(k.select(this),Ee.model.rangeFont)});var ke=oe.selectAll("."+y.cn.axisExtentBottom).data(u,l);ke.enter().append("g").classed(y.cn.axisExtentBottom,!0),ke.attr("transform",function(Ee){return n(0,Ee.model.height+y.axisExtentOffset)});var Ae=ke.selectAll("."+y.cn.axisExtentBottomText).data(u,l);Ae.enter().append("text").classed(y.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(I),Ae.text(function(Ee){return j(Ee,!1)}).each(function(Ee){r.font(k.select(this),Ee.model.rangeFont)}),d.ensureAxisBrush(Le,K,Z)}},24196:function(U,C,e){var k=e(36336),A=e(5048),o=e(95724).isVisible,w={};function b(f,s,n){var i=s.indexOf(n),r=f.indexOf(i);return r===-1&&(r+=s.length),r}(U.exports=function(f,s){var n=f._fullLayout;if(A(f,[],w)){var i={},r={},t={},a={},l=n._size;s.forEach(function(u,h){var c=u[0].trace;t[h]=c.index;var y=a[h]=c._fullInput.index;i[h]=f.data[y].dimensions,r[h]=f.data[y].dimensions.slice()}),k(f,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,h,c){var y=r[u][h],d=c.map(function(p){return p.slice()}),v="dimensions["+h+"].constraintrange",g=n._tracePreGUI[f._fullData[t[u]]._fullInput.uid];if(g[v]===void 0){var x=y.constraintrange;g[v]=x||null}var m=f._fullData[t[u]].dimensions[h];d.length?(d.length===1&&(d=d[0]),y.constraintrange=d,m.constraintrange=d.slice(),d=[d]):(delete y.constraintrange,delete m.constraintrange,d=null);var _={};_[v]=d,f.emit("plotly_restyle",[_,[a[u]]])},hover:function(u){f.emit("plotly_hover",u)},unhover:function(u){f.emit("plotly_unhover",u)},axesMoved:function(u,h){var c=function(y,d){return function(v,g){return b(y,d,v)-b(y,d,g)}}(h,r[u].filter(o));i[u].sort(c),r[u].filter(function(y){return!o(y)}).sort(function(y){return r[u].indexOf(y)}).forEach(function(y){i[u].splice(i[u].indexOf(y),1),i[u].splice(r[u].indexOf(y),0,y)}),f.emit("plotly_restyle",[{dimensions:[i[u]]},[a[u]]])}})}}).reglPrecompiled=w},74996:function(U,C,e){var k=e(45464),A=e(86968).u,o=e(25376),w=e(22548),b=e(21776).Ks,f=e(21776).Gw,s=e(92880).extendFlat,n=e(98192).c,i=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});U.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:w.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:n,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:A({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(U,C,e){var k=e(7316);C.name="pie",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},45768:function(U,C,e){var k=e(38248),A=e(49760),o=e(76308),w={};function b(s){return function(n,i){return!!n&&!!(n=A(n)).isValid()&&(n=o.addOpacity(n,n.getAlpha()),s[i]||(s[i]=n),n)}}function f(s,n){var i,r=JSON.stringify(s),t=n[r];if(!t){for(t=s.slice(),i=0;i<s.length;i++)t.push(A(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)t.push(A(s[i]).darken(20).toHexString());n[r]=t}return t}U.exports={calc:function(s,n){var i,r,t=[],a=s._fullLayout,l=a.hiddenlabels||[],u=n.labels,h=n.marker.colors||[],c=n.values,y=n._length,d=n._hasValues&&y;if(n.dlabel)for(u=new Array(y),i=0;i<y;i++)u[i]=String(n.label0+i*n.dlabel);var v={},g=b(a["_"+n.type+"colormap"]),x=0,m=!1;for(i=0;i<y;i++){var _,p,S;if(d){if(_=c[i],!k(_))continue;_=+_}else _=1;(p=u[i])!==void 0&&p!==""||(p=i);var T=v[p=String(p)];T===void 0?(v[p]=t.length,(S=l.indexOf(p)!==-1)||(x+=_),t.push({v:_,label:p,color:g(h[i],p),i,pts:[i],hidden:S})):(m=!0,(r=t[T]).v+=_,r.pts.push(i),r.hidden||(x+=_),r.color===!1&&h[i]&&(r.color=g(h[i],p)))}return t=t.filter(function(E){return E.v>=0}),(n.type==="funnelarea"?m:n.sort)&&t.sort(function(E,O){return O.v-E.v}),t[0]&&(t[0].vTotal=x),t},crossTraceCalc:function(s,n){var i=(n||{}).type;i||(i="pie");var r=s._fullLayout,t=s.calcdata,a=r[i+"colorway"],l=r["_"+i+"colormap"];r["extend"+i+"colors"]&&(a=f(a,w));for(var u=0,h=0;h<t.length;h++){var c=t[h];if(c[0].trace.type===i)for(var y=0;y<c.length;y++){var d=c[y];d.color===!1&&(l[d.label]?d.color=l[d.label]:(l[d.label]=d.color=a[u%a.length],u++))}}},makePullColorFn:b,generateExtendedColors:f}},74174:function(U,C,e){var k=e(38248),A=e(3400),o=e(74996),w=e(86968).Q,b=e(31508).handleText,f=e(3400).coercePattern;function s(i,r){var t=A.isArrayOrTypedArray(i),a=A.isArrayOrTypedArray(r),l=Math.min(t?i.length:1/0,a?r.length:1/0);if(isFinite(l)||(l=0),l&&a){for(var u,h=0;h<l;h++){var c=r[h];if(k(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:t,hasValues:a,len:l}}function n(i,r,t,a,l){a("marker.line.width")&&a("marker.line.color",l?void 0:t.paper_bgcolor);var u=a("marker.colors");f(a,"marker.pattern",u),i.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=i.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=t.paper_bgcolor)}U.exports={handleLabelsAndValues:s,handleMarkerDefaults:n,supplyDefaults:function(i,r,t,a){function l(m,_){return A.coerce(i,r,o,m,_)}var u=s(l("labels"),l("values")),h=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),h){r._length=h,n(i,r,a,l,!0),l("scalegroup");var c,y=l("text"),d=l("texttemplate");if(d||(c=l("textinfo",A.isArrayOrTypedArray(y)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||c&&c!=="none"){var v=l("textposition");b(i,r,a,l,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||v==="auto"||v==="outside")&&l("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&l("insidetextorientation")}else c==="none"&&l("textposition","none");w(r,a,l);var g=l("hole");if(l("title.text")){var x=l("title.position",g?"middle center":"top center");g||x!=="middle center"||(r.title.position="top center"),A.coerceFont(l,"title.font",a.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else r.visible=!1}}},53644:function(U,C,e){var k=e(10624).appendArrayMultiPointValues;U.exports=function(A,o){var w={curveNumber:o.index,pointNumbers:A.pts,data:o._input,fullData:o,label:A.label,color:A.color,value:A.v,percent:A.percent,text:A.text,bbox:A.bbox,v:A.v};return A.pts.length===1&&(w.pointNumber=w.i=A.pts[0]),k(w,o,A.pts),o.type==="funnelarea"&&(delete w.v,delete w.i),w}},21552:function(U,C,e){var k=e(43616),A=e(76308);U.exports=function(o,w,b,f){var s=b.marker.pattern;s&&s.shape?k.pointStyle(o,b,f,w):A.fill(o,w.color)}},69656:function(U,C,e){var k=e(3400);function A(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}C.formatPiePercent=function(o,w){var b=A((100*o).toPrecision(3));return k.numSeparate(b,w)+"%"},C.formatPieValue=function(o,w){var b=A(o.toPrecision(10));return k.numSeparate(b,w)},C.getFirstFilled=function(o,w){if(k.isArrayOrTypedArray(o))for(var b=0;b<w.length;b++){var f=o[w[b]];if(f||f===0||f==="")return f}},C.castOption=function(o,w){return k.isArrayOrTypedArray(o)?C.getFirstFilled(o,w):o||void 0},C.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},75792:function(U,C,e){U.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(U){U.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(U,C,e){var k=e(3400),A=e(85204);U.exports=function(o,w){function b(f,s){return k.coerce(o,w,A,f,s)}b("hiddenlabels"),b("piecolorway",w.colorway),b("extendpiecolors")}},37820:function(U,C,e){var k=e(33428),A=e(7316),o=e(93024),w=e(76308),b=e(43616),f=e(3400),s=f.strScale,n=f.strTranslate,i=e(72736),r=e(82744),t=r.recordMinTextSize,a=r.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),h=e(53644),c=e(3400).isValidTextValue;function y(Z,F,V){var W=V[0],re=W.cx,ne=W.cy,te=W.trace,Q=te.type==="funnelarea";"_hasHoverLabel"in te||(te._hasHoverLabel=!1),"_hasHoverEvent"in te||(te._hasHoverEvent=!1),Z.on("mouseover",function($){var K=F._fullLayout,ae=F._fullData[te.index];if(!F._dragging&&K.hovermode!==!1){var ue=ae.hoverinfo;if(Array.isArray(ue)&&(ue=o.castHoverinfo({hoverinfo:[u.castOption(ue,$.pts)],_module:te._module},K,0)),ue==="all"&&(ue="label+text+value+percent+name"),ae.hovertemplate||ue!=="none"&&ue!=="skip"&&ue){var se=$.rInscribed||0,he=re+$.pxmid[0]*(1-se),pe=ne+$.pxmid[1]*(1-se),de=K.separators,xe=[];if(ue&&ue.indexOf("label")!==-1&&xe.push($.label),$.text=u.castOption(ae.hovertext||ae.text,$.pts),ue&&ue.indexOf("text")!==-1){var _e=$.text;f.isValidTextValue(_e)&&xe.push(_e)}$.value=$.v,$.valueLabel=u.formatPieValue($.v,de),ue&&ue.indexOf("value")!==-1&&xe.push($.valueLabel),$.percent=$.v/W.vTotal,$.percentLabel=u.formatPiePercent($.percent,de),ue&&ue.indexOf("percent")!==-1&&xe.push($.percentLabel);var be=ae.hoverlabel,Le=be.font,De=[];o.loneHover({trace:te,x0:he-se*W.r,x1:he+se*W.r,y:pe,_x0:Q?re+$.TL[0]:he-se*W.r,_x1:Q?re+$.TR[0]:he+se*W.r,_y0:Q?ne+$.TL[1]:pe-se*W.r,_y1:Q?ne+$.BL[1]:pe+se*W.r,text:xe.join("<br>"),name:ae.hovertemplate||ue.indexOf("name")!==-1?ae.name:void 0,idealAlign:$.pxmid[0]<0?"left":"right",color:u.castOption(be.bgcolor,$.pts)||$.color,borderColor:u.castOption(be.bordercolor,$.pts),fontFamily:u.castOption(Le.family,$.pts),fontSize:u.castOption(Le.size,$.pts),fontColor:u.castOption(Le.color,$.pts),nameLength:u.castOption(be.namelength,$.pts),textAlign:u.castOption(be.align,$.pts),hovertemplate:u.castOption(ae.hovertemplate,$.pts),hovertemplateLabels:$,eventData:[h($,ae)]},{container:K._hoverlayer.node(),outerContainer:K._paper.node(),gd:F,inOut_bbox:De}),$.bbox=De[0],te._hasHoverLabel=!0}te._hasHoverEvent=!0,F.emit("plotly_hover",{points:[h($,ae)],event:k.event})}}),Z.on("mouseout",function($){var K=F._fullLayout,ae=F._fullData[te.index],ue=k.select(this).datum();te._hasHoverEvent&&($.originalEvent=k.event,F.emit("plotly_unhover",{points:[h(ue,ae)],event:k.event}),te._hasHoverEvent=!1),te._hasHoverLabel&&(o.loneUnhover(K._hoverlayer.node()),te._hasHoverLabel=!1)}),Z.on("click",function($){var K=F._fullLayout,ae=F._fullData[te.index];F._dragging||K.hovermode===!1||(F._hoverdata=[h($,ae)],o.click(F,k.event))})}function d(Z,F,V){var W=u.castOption(Z.insidetextfont.color,F.pts);!W&&Z._input.textfont&&(W=u.castOption(Z._input.textfont.color,F.pts));var re=u.castOption(Z.insidetextfont.family,F.pts)||u.castOption(Z.textfont.family,F.pts)||V.family,ne=u.castOption(Z.insidetextfont.size,F.pts)||u.castOption(Z.textfont.size,F.pts)||V.size,te=u.castOption(Z.insidetextfont.weight,F.pts)||u.castOption(Z.textfont.weight,F.pts)||V.weight,Q=u.castOption(Z.insidetextfont.style,F.pts)||u.castOption(Z.textfont.style,F.pts)||V.style,$=u.castOption(Z.insidetextfont.variant,F.pts)||u.castOption(Z.textfont.variant,F.pts)||V.variant,K=u.castOption(Z.insidetextfont.textcase,F.pts)||u.castOption(Z.textfont.textcase,F.pts)||V.textcase,ae=u.castOption(Z.insidetextfont.lineposition,F.pts)||u.castOption(Z.textfont.lineposition,F.pts)||V.lineposition,ue=u.castOption(Z.insidetextfont.shadow,F.pts)||u.castOption(Z.textfont.shadow,F.pts)||V.shadow;return{color:W||w.contrast(F.color),family:re,size:ne,weight:te,style:Q,variant:$,textcase:K,lineposition:ae,shadow:ue}}function v(Z,F){for(var V,W,re=0;re<Z.length;re++)if((W=(V=Z[re][0]).trace).title.text){var ne=W.title.text;W._meta&&(ne=f.templateString(ne,W._meta));var te=b.tester.append("text").attr("data-notex",1).text(ne).call(b.font,W.title.font).call(i.convertToTspans,F),Q=b.bBox(te.node(),!0);V.titleBox={width:Q.width,height:Q.height},te.remove()}}function g(Z,F,V){var W=V.r||F.rpx1,re=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-re,scale:0,rotate:0,textPosAngle:0};var ne,te=F.ring,Q=te===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,$=F.halfangle,K=F.midangle,ae=V.trace.insidetextorientation,ue=ae==="horizontal",se=ae==="tangential",he=ae==="radial",pe=ae==="auto",de=[];if(!pe){var xe,_e=function(oe,ve){if(function(Ee,ze){var Fe=Ee.startangle,ge=Ee.stopangle;return Fe>ze&&ze>ge||Fe<ze&&ze<ge}(F,oe)){var Ce=Math.abs(oe-F.startangle),ke=Math.abs(oe-F.stopangle),Ae=Ce<ke?Ce:ke;(ne=ve==="tan"?m(Z,W,te,Ae,0):x(Z,W,te,Ae,Math.PI/2)).textPosAngle=oe,de.push(ne)}};if(ue||se){for(xe=4;xe>=-4;xe-=2)_e(Math.PI*xe,"tan");for(xe=4;xe>=-4;xe-=2)_e(Math.PI*(xe+1),"tan")}if(ue||he){for(xe=4;xe>=-4;xe-=2)_e(Math.PI*(xe+1.5),"rad");for(xe=4;xe>=-4;xe-=2)_e(Math.PI*(xe+.5),"rad")}}if(Q||pe||ue){var be=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if((ne={scale:re*W*2/be,rCenter:1-re,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,ne.scale>=1)return ne;de.push(ne)}(pe||he)&&((ne=x(Z,W,te,$,K)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(ne)),(pe||se)&&((ne=m(Z,W,te,$,K)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(ne));for(var Le=0,De=0,ye=0;ye<de.length;ye++){var le=de[ye].scale;if(De<le&&(De=le,Le=ye),!pe&&De>=1)break}return de[Le]}function x(Z,F,V,W,re){F=Math.max(0,F-2*l);var ne=Z.width/Z.height,te=S(ne,W,F,V);return{scale:2*te/Z.height,rCenter:_(ne,te/F),rotate:p(re)}}function m(Z,F,V,W,re){F=Math.max(0,F-2*l);var ne=Z.height/Z.width,te=S(ne,W,F,V);return{scale:2*te/Z.width,rCenter:_(ne,te/F),rotate:p(re+Math.PI/2)}}function _(Z,F){return Math.cos(F)-Z*F}function p(Z){return(180/Math.PI*Z+720)%180-90}function S(Z,F,V,W){var re=Z+1/(2*Math.tan(F));return V*Math.min(1/(Math.sqrt(re*re+.5)+re),W/(Math.sqrt(Z*Z+W/2)+Z))}function T(Z,F){return Z.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2):1}function E(Z,F){var V=F.pxmid[0],W=F.pxmid[1],re=Z.width/2,ne=Z.height/2;return V<0&&(re*=-1),W<0&&(ne*=-1),{scale:1,rCenter:1,rotate:0,x:re+Math.abs(ne)*(re>0?1:-1)/2,y:ne/(1+V*V/(W*W)),outside:!0}}function O(Z,F){var V,W,re,ne=Z.trace,te={x:Z.cx,y:Z.cy},Q={tx:0,ty:0};Q.ty+=ne.title.font.size,re=I(ne),ne.title.position.indexOf("top")!==-1?(te.y-=(1+re)*Z.r,Q.ty-=Z.titleBox.height):ne.title.position.indexOf("bottom")!==-1&&(te.y+=(1+re)*Z.r);var $,K=Z.r/(($=Z.trace.aspectratio)===void 0?1:$),ae=F.w*(ne.domain.x[1]-ne.domain.x[0])/2;return ne.title.position.indexOf("left")!==-1?(ae+=K,te.x-=(1+re)*K,Q.tx+=Z.titleBox.width/2):ne.title.position.indexOf("center")!==-1?ae*=2:ne.title.position.indexOf("right")!==-1&&(ae+=K,te.x+=(1+re)*K,Q.tx-=Z.titleBox.width/2),V=ae/Z.titleBox.width,W=P(Z,F)/Z.titleBox.height,{x:te.x,y:te.y,scale:Math.min(V,W),tx:Q.tx,ty:Q.ty}}function P(Z,F){var V=Z.trace,W=F.h*(V.domain.y[1]-V.domain.y[0]);return Math.min(Z.titleBox.height,W/2)}function I(Z){var F,V=Z.pull;if(!V)return 0;if(f.isArrayOrTypedArray(V))for(V=0,F=0;F<Z.pull.length;F++)Z.pull[F]>V&&(V=Z.pull[F]);return V}function R(Z,F){for(var V=[],W=0;W<Z.length;W++){var re=Z[W][0],ne=re.trace,te=ne.domain,Q=F.w*(te.x[1]-te.x[0]),$=F.h*(te.y[1]-te.y[0]);ne.title.text&&ne.title.position!=="middle center"&&($-=P(re,F));var K=Q/2,ae=$/2;ne.type!=="funnelarea"||ne.scalegroup||(ae/=ne.aspectratio),re.r=Math.min(K,ae)/(1+I(ne)),re.cx=F.l+F.w*(ne.domain.x[1]+ne.domain.x[0])/2,re.cy=F.t+F.h*(1-ne.domain.y[0])-$/2,ne.title.text&&ne.title.position.indexOf("bottom")!==-1&&(re.cy-=P(re,F)),ne.scalegroup&&V.indexOf(ne.scalegroup)===-1&&V.push(ne.scalegroup)}(function(ue,se){for(var he,pe,de,xe=0;xe<se.length;xe++){var _e=1/0,be=se[xe];for(pe=0;pe<ue.length;pe++)if((de=(he=ue[pe][0]).trace).scalegroup===be){var Le;if(de.type==="pie")Le=he.r*he.r;else if(de.type==="funnelarea"){var De,ye;de.aspectratio>1?ye=(De=he.r)/de.aspectratio:De=(ye=he.r)*de.aspectratio,Le=(De*=(1+de.baseratio)/2)*ye}_e=Math.min(_e,Le/he.vTotal)}for(pe=0;pe<ue.length;pe++)if((de=(he=ue[pe][0]).trace).scalegroup===be){var le=_e*he.vTotal;de.type==="funnelarea"&&(le/=(1+de.baseratio)/2,le/=de.aspectratio),he.r=Math.sqrt(le)}}})(Z,V)}function H(Z,F){return[Z*Math.sin(F),-Z*Math.cos(F)]}function z(Z,F,V){var W=Z._fullLayout,re=V.trace,ne=re.texttemplate,te=re.textinfo;if(!ne&&te&&te!=="none"){var Q,$=te.split("+"),K=function(Le){return $.indexOf(Le)!==-1},ae=K("label"),ue=K("text"),se=K("value"),he=K("percent"),pe=W.separators;if(Q=ae?[F.label]:[],ue){var de=u.getFirstFilled(re.text,F.pts);c(de)&&Q.push(de)}se&&Q.push(u.formatPieValue(F.v,pe)),he&&Q.push(u.formatPiePercent(F.v/V.vTotal,pe)),F.text=Q.join("<br>")}if(ne){var xe=f.castOption(re,F.i,"texttemplate");if(xe){var _e=function(Le){return{label:Le.label,value:Le.v,valueLabel:u.formatPieValue(Le.v,W.separators),percent:Le.v/V.vTotal,percentLabel:u.formatPiePercent(Le.v/V.vTotal,W.separators),color:Le.color,text:Le.text,customdata:f.castOption(re,Le.i,"customdata")}}(F),be=u.getFirstFilled(re.text,F.pts);(c(be)||be==="")&&(_e.text=be),F.text=f.texttemplateString(xe,_e,Z._fullLayout._d3locale,_e,re._meta||{})}else F.text=""}}function j(Z,F){var V=Z.rotate*Math.PI/180,W=Math.cos(V),re=Math.sin(V),ne=(F.left+F.right)/2,te=(F.top+F.bottom)/2;Z.textX=ne*W-te*re,Z.textY=ne*re+te*W,Z.noCenter=!0}U.exports={plot:function(Z,F){var V=Z._context.staticPlot,W=Z._fullLayout,re=W._size;a("pie",W),v(F,Z),R(F,re);var ne=f.makeTraceGroups(W._pielayer,F,"trace").each(function(te){var Q=k.select(this),$=te[0],K=$.trace;(function(ae){var ue,se,he,pe=ae[0],de=pe.r,xe=pe.trace,_e=u.getRotationAngle(xe.rotation),be=2*Math.PI/pe.vTotal,Le="px0",De="px1";if(xe.direction==="counterclockwise"){for(ue=0;ue<ae.length&&ae[ue].hidden;ue++);if(ue===ae.length)return;_e+=be*ae[ue].v,be*=-1,Le="px1",De="px0"}for(he=H(de,_e),ue=0;ue<ae.length;ue++)(se=ae[ue]).hidden||(se[Le]=he,se.startangle=_e,_e+=be*se.v/2,se.pxmid=H(de,_e),se.midangle=_e,he=H(de,_e+=be*se.v/2),se.stopangle=_e,se[De]=he,se.largeArc=se.v>pe.vTotal/2?1:0,se.halfangle=Math.PI*Math.min(se.v/pe.vTotal,.5),se.ring=1-xe.hole,se.rInscribed=T(se,pe))})(te),Q.attr("stroke-linejoin","round"),Q.each(function(){var ae=k.select(this).selectAll("g.slice").data(te);ae.enter().append("g").classed("slice",!0),ae.exit().remove();var ue=[[[],[]],[[],[]]],se=!1;ae.each(function(De,ye){if(De.hidden)k.select(this).selectAll("path,g").remove();else{De.pointNumber=De.i,De.curveNumber=K.index,ue[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var le=$.cx,oe=$.cy,ve=k.select(this),Ce=ve.selectAll("path.surface").data([De]);if(Ce.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),ve.call(y,Z,te),K.pull){var ke=+u.castOption(K.pull,De.pts)||0;ke>0&&(le+=ke*De.pxmid[0],oe+=ke*De.pxmid[1])}De.cxFinal=le,De.cyFinal=oe;var Ae=K.hole;if(De.v===$.vTotal){var Ee="M"+(le+De.px0[0])+","+(oe+De.px0[1])+Se(De.px0,De.pxmid,!0,1)+Se(De.pxmid,De.px0,!0,1)+"Z";Ae?Ce.attr("d","M"+(le+Ae*De.px0[0])+","+(oe+Ae*De.px0[1])+Se(De.px0,De.pxmid,!1,Ae)+Se(De.pxmid,De.px0,!1,Ae)+"Z"+Ee):Ce.attr("d",Ee)}else{var ze=Se(De.px0,De.px1,!0,1);if(Ae){var Fe=1-Ae;Ce.attr("d","M"+(le+Ae*De.px1[0])+","+(oe+Ae*De.px1[1])+Se(De.px1,De.px0,!1,Ae)+"l"+Fe*De.px0[0]+","+Fe*De.px0[1]+ze+"Z")}else Ce.attr("d","M"+le+","+oe+"l"+De.px0[0]+","+De.px0[1]+ze+"Z")}z(Z,De,$);var ge=u.castOption(K.textposition,De.pts),Te=ve.selectAll("g.slicetext").data(De.text&&ge!=="none"?[0]:[]);Te.enter().append("g").classed("slicetext",!0),Te.exit().remove(),Te.each(function(){var Re=f.ensureSingle(k.select(this),"text","",function(_t){_t.attr("data-notex",1)}),Pe=f.ensureUniformFontSize(Z,ge==="outside"?function(_t,mt,it){return{color:u.castOption(_t.outsidetextfont.color,mt.pts)||u.castOption(_t.textfont.color,mt.pts)||it.color,family:u.castOption(_t.outsidetextfont.family,mt.pts)||u.castOption(_t.textfont.family,mt.pts)||it.family,size:u.castOption(_t.outsidetextfont.size,mt.pts)||u.castOption(_t.textfont.size,mt.pts)||it.size,weight:u.castOption(_t.outsidetextfont.weight,mt.pts)||u.castOption(_t.textfont.weight,mt.pts)||it.weight,style:u.castOption(_t.outsidetextfont.style,mt.pts)||u.castOption(_t.textfont.style,mt.pts)||it.style,variant:u.castOption(_t.outsidetextfont.variant,mt.pts)||u.castOption(_t.textfont.variant,mt.pts)||it.variant,textcase:u.castOption(_t.outsidetextfont.textcase,mt.pts)||u.castOption(_t.textfont.textcase,mt.pts)||it.textcase,lineposition:u.castOption(_t.outsidetextfont.lineposition,mt.pts)||u.castOption(_t.textfont.lineposition,mt.pts)||it.lineposition,shadow:u.castOption(_t.outsidetextfont.shadow,mt.pts)||u.castOption(_t.textfont.shadow,mt.pts)||it.shadow}}(K,De,W.font):d(K,De,W.font));Re.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Pe).call(i.convertToTspans,Z);var Ve,We=b.bBox(Re.node());if(ge==="outside")Ve=E(We,De);else if(Ve=g(We,De,$),ge==="auto"&&Ve.scale<1){var Qe=f.ensureUniformFontSize(Z,K.outsidetextfont);Re.call(b.font,Qe),Ve=E(We=b.bBox(Re.node()),De)}var lt=Ve.textPosAngle,ut=lt===void 0?De.pxmid:H($.r,lt);if(Ve.targetX=le+ut[0]*Ve.rCenter+(Ve.x||0),Ve.targetY=oe+ut[1]*Ve.rCenter+(Ve.y||0),j(Ve,We),Ve.outside){var xt=Ve.targetY;De.yLabelMin=xt-We.height/2,De.yLabelMid=xt,De.yLabelMax=xt+We.height/2,De.labelExtraX=0,De.labelExtraY=0,se=!0}Ve.fontSize=Pe.size,t(K.type,Ve,W),te[ye].transform=Ve,f.setTransormAndDisplay(Re,Ve)})}function Se(Re,Pe,Ve,We){var Qe=We*(Pe[0]-Re[0]),lt=We*(Pe[1]-Re[1]);return"a"+We*$.r+","+We*$.r+" 0 "+De.largeArc+(Ve?" 1 ":" 0 ")+Qe+","+lt}});var he=k.select(this).selectAll("g.titletext").data(K.title.text?[0]:[]);if(he.enter().append("g").classed("titletext",!0),he.exit().remove(),he.each(function(){var De,ye=f.ensureSingle(k.select(this),"text","",function(oe){oe.attr("data-notex",1)}),le=K.title.text;K._meta&&(le=f.templateString(le,K._meta)),ye.text(le).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,K.title.font).call(i.convertToTspans,Z),De=K.title.position==="middle center"?function(oe){var ve=Math.sqrt(oe.titleBox.width*oe.titleBox.width+oe.titleBox.height*oe.titleBox.height);return{x:oe.cx,y:oe.cy,scale:oe.trace.hole*oe.r*2/ve,tx:0,ty:-oe.titleBox.height/2+oe.trace.title.font.size}}($):O($,re),ye.attr("transform",n(De.x,De.y)+s(Math.min(1,De.scale))+n(De.tx,De.ty))}),se&&function(De,ye){var le,oe,ve,Ce,ke,Ae,Ee,ze,Fe,ge,Te,Se,Re;function Pe(lt,ut){return lt.pxmid[1]-ut.pxmid[1]}function Ve(lt,ut){return ut.pxmid[1]-lt.pxmid[1]}function We(lt,ut){ut||(ut={});var xt,_t,mt,it,nt=ut.labelExtraY+(oe?ut.yLabelMax:ut.yLabelMin),Et=oe?lt.yLabelMin:lt.yLabelMax,Rt=oe?lt.yLabelMax:lt.yLabelMin,Ft=lt.cyFinal+ke(lt.px0[1],lt.px1[1]),Pt=nt-Et;if(Pt*Ee>0&&(lt.labelExtraY=Pt),f.isArrayOrTypedArray(ye.pull))for(_t=0;_t<ge.length;_t++)(mt=ge[_t])===lt||(u.castOption(ye.pull,lt.pts)||0)>=(u.castOption(ye.pull,mt.pts)||0)||((lt.pxmid[1]-mt.pxmid[1])*Ee>0?(Pt=mt.cyFinal+ke(mt.px0[1],mt.px1[1])-Et-lt.labelExtraY)*Ee>0&&(lt.labelExtraY+=Pt):(Rt+lt.labelExtraY-Ft)*Ee>0&&(xt=3*Ae*Math.abs(_t-ge.indexOf(lt)),(it=mt.cxFinal+Ce(mt.px0[0],mt.px1[0])+xt-(lt.cxFinal+lt.pxmid[0])-lt.labelExtraX)*Ae>0&&(lt.labelExtraX+=it)))}for(oe=0;oe<2;oe++)for(ve=oe?Pe:Ve,ke=oe?Math.max:Math.min,Ee=oe?1:-1,le=0;le<2;le++){for(Ce=le?Math.max:Math.min,Ae=le?1:-1,(ze=De[oe][le]).sort(ve),Fe=De[1-oe][le],ge=Fe.concat(ze),Se=[],Te=0;Te<ze.length;Te++)ze[Te].yLabelMid!==void 0&&Se.push(ze[Te]);for(Re=!1,Te=0;oe&&Te<Fe.length;Te++)if(Fe[Te].yLabelMid!==void 0){Re=Fe[Te];break}for(Te=0;Te<Se.length;Te++){var Qe=Te&&Se[Te-1];Re&&!Te&&(Qe=Re),We(Se[Te],Qe)}}}(ue,K),function(De,ye){De.each(function(le){var oe=k.select(this);if(le.labelExtraX||le.labelExtraY){var ve=oe.select("g.slicetext text");le.transform.targetX+=le.labelExtraX,le.transform.targetY+=le.labelExtraY,f.setTransormAndDisplay(ve,le.transform);var Ce=le.cxFinal+le.pxmid[0],ke="M"+Ce+","+(le.cyFinal+le.pxmid[1]),Ae=(le.yLabelMax-le.yLabelMin)*(le.pxmid[0]<0?-1:1)/4;if(le.labelExtraX){var Ee=le.labelExtraX*le.pxmid[1]/le.pxmid[0],ze=le.yLabelMid+le.labelExtraY-(le.cyFinal+le.pxmid[1]);Math.abs(Ee)>Math.abs(ze)?ke+="l"+ze*le.pxmid[0]/le.pxmid[1]+","+ze+"H"+(Ce+le.labelExtraX+Ae):ke+="l"+le.labelExtraX+","+Ee+"v"+(ze-Ee)+"h"+Ae}else ke+="V"+(le.yLabelMid+le.labelExtraY)+"h"+Ae;f.ensureSingle(oe,"path","textline").call(w.stroke,ye.outsidetextfont.color).attr({"stroke-width":Math.min(2,ye.outsidetextfont.size/8),d:ke,fill:"none"})}else oe.select("path.textline").remove()})}(ae,K),se&&K.automargin){var pe=b.bBox(Q.node()),de=K.domain,xe=re.w*(de.x[1]-de.x[0]),_e=re.h*(de.y[1]-de.y[0]),be=(.5*xe-$.r)/re.w,Le=(.5*_e-$.r)/re.h;A.autoMargin(Z,"pie."+K.uid+".automargin",{xl:de.x[0]-be,xr:de.x[1]+be,yb:de.y[0]-Le,yt:de.y[1]+Le,l:Math.max($.cx-$.r-pe.left,0),r:Math.max(pe.right-($.cx+$.r),0),b:Math.max(pe.bottom-($.cy+$.r),0),t:Math.max($.cy-$.r-pe.top,0),pad:5})}})});setTimeout(function(){ne.selectAll("tspan").each(function(){var te=k.select(this);te.attr("dy")&&te.attr("dy",te.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:g,determineInsideTextFont:d,positionTitleOutside:O,prerenderTitles:v,layoutAreas:R,attachFxHandlers:y,computeTransform:j}},22152:function(U,C,e){var k=e(33428),A=e(10528),o=e(82744).resizeText;U.exports=function(w){var b=w._fullLayout._pielayer.selectAll(".trace");o(w,b,"pie"),b.each(function(f){var s=f[0].trace,n=k.select(this);n.style({opacity:s.opacity}),n.selectAll("path.surface").each(function(i){k.select(this).call(A,i,s,w)})})}},10528:function(U,C,e){var k=e(76308),A=e(69656).castOption,o=e(21552);U.exports=function(w,b,f,s){var n=f.marker.line,i=A(n.color,b.pts)||k.defaultLine,r=A(n.width,b.pts)||0;w.call(o,b,f,s).style("stroke-width",r).call(k.stroke,i)}},35484:function(U,C,e){var k=e(52904);U.exports={x:k.x,y:k.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:k.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(U,C,e){var k=e(67792).gl_pointcloud2d,A=e(3400).isArrayOrTypedArray,o=e(43080),w=e(19280).findExtremes,b=e(44928);function f(n,i){this.scene=n,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=k(n.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=f.prototype;s.handlePick=function(n){var i=this.idToIndex[n.pointId];return{trace:this,dataCoord:n.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:A(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(n){this.index=n.index,this.textLabels=n.text,this.name=n.name,this.hoverinfo=n.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(n),this.color=b(n,{})},s.updateFast=function(n){var i,r,t,a,l,u,h=this.xData=this.pickXData=n.x,c=this.yData=this.pickYData=n.y,y=this.pickXYData=n.xy,d=n.xbounds&&n.ybounds,v=n.indices,g=this.bounds;if(y){if(t=y,i=y.length>>>1,d)g[0]=n.xbounds[0],g[2]=n.xbounds[1],g[1]=n.ybounds[0],g[3]=n.ybounds[1];else for(u=0;u<i;u++)a=t[2*u],l=t[2*u+1],a<g[0]&&(g[0]=a),a>g[2]&&(g[2]=a),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);if(v)r=v;else for(r=new Int32Array(i),u=0;u<i;u++)r[u]=u}else for(i=h.length,t=new Float32Array(2*i),r=new Int32Array(i),u=0;u<i;u++)a=h[u],l=c[u],r[u]=u,t[2*u]=a,t[2*u+1]=l,a<g[0]&&(g[0]=a),a>g[2]&&(g[2]=a),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);this.idToIndex=r,this.pointcloudOptions.idToIndex=r,this.pointcloudOptions.positions=t;var x=o(n.marker.color),m=o(n.marker.border.color),_=n.opacity*n.marker.opacity;x[3]*=_,this.pointcloudOptions.color=x;var p=n.marker.blend;p===null&&(p=h.length<100||c.length<100),this.pointcloudOptions.blend=p,m[3]*=_,this.pointcloudOptions.borderColor=m;var S=n.marker.sizemin,T=Math.max(n.marker.sizemax,n.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=T,this.pointcloudOptions.areaRatio=n.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,O=this.scene.yaxis,P=T/2||.5;n._extremes[E._id]=w(E,[g[0],g[2]],{ppad:P}),n._extremes[O._id]=w(O,[g[1],g[3]],{ppad:P})},s.dispose=function(){this.pointcloud.dispose()},U.exports=function(n,i){var r=new f(n,i.uid);return r.update(i),r}},41904:function(U,C,e){var k=e(3400),A=e(35484);U.exports=function(o,w,b){function f(s,n){return k.coerce(o,w,A,s,n)}f("x"),f("y"),f("xbounds"),f("ybounds"),o.xy&&o.xy instanceof Float32Array&&(w.xy=o.xy),o.indices&&o.indices instanceof Int32Array&&(w.indices=o.indices),f("text"),f("marker.color",b),f("marker.opacity"),f("marker.blend"),f("marker.sizemin"),f("marker.sizemax"),f("marker.border.color",b),f("marker.border.arearatio"),w._length=null}},156:function(U,C,e){U.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(U,C,e){var k=e(25376),A=e(45464),o=e(22548),w=e(55756),b=e(86968).u,f=e(21776).Ks,s=e(49084),n=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,r=e(92880).extendFlat,t=e(67824).overrideAll;(U.exports=t({hoverinfo:r({},A.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:w.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:k({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:w.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:w.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:n("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(U,C,e){var k=e(67824).overrideAll,A=e(84888)._M,o=e(59596),w=e(65460),b=e(93972),f=e(86476),s=e(22676).prepSelect,n=e(3400),i=e(24040),r="sankey";function t(a,l){var u=a._fullData[l],h=a._fullLayout,c=h.dragmode,y=h.dragmode==="pan"?"move":"crosshair",d=u._bgRect;if(d&&c!=="pan"&&c!=="zoom"){b(d,y);var v={_id:"x",c2p:n.identity,_offset:u._sankey.translateX,_length:u._sankey.width},g={_id:"y",c2p:n.identity,_offset:u._sankey.translateY,_length:u._sankey.height},x={gd:a,element:d.node(),plotinfo:{id:l,xaxis:v,yaxis:g,fillRangeItems:n.noop},subplot:l,xaxes:[v],yaxes:[g],doneFnCompleted:function(m){var _,p=a._fullData[l],S=p.node.groups.slice(),T=[];function E(R){for(var H=p._sankey.graph.nodes,z=0;z<H.length;z++)if(H[z].pointNumber===R)return H[z]}for(var O=0;O<m.length;O++){var P=E(m[O].pointNumber);if(P)if(P.group){for(var I=0;I<P.childrenNodes.length;I++)T.push(P.childrenNodes[I].pointNumber);S[P.pointNumber-p.node._count]=!1}else T.push(P.pointNumber)}_=S.filter(Boolean).concat([T]),i.call("_guiRestyle",a,{"node.groups":[_]},l)},prepFn:function(m,_,p){s(m,_,p,x,c)}};f.init(x)}}C.name=r,C.baseLayoutAttrOverrides=k({hoverlabel:w.hoverlabel},"plot","nested"),C.plot=function(a){var l=A(a.calcdata,r)[0];o(a,l),C.updateFx(a)},C.clean=function(a,l,u,h){var c=h._has&&h._has(r),y=l._has&&l._has(r);c&&!y&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},C.updateFx=function(a){for(var l=0;l<a._fullData.length;l++)t(a,l)}},48068:function(U,C,e){var k=e(78484),A=e(3400),o=e(71688).wrap,w=A.isArrayOrTypedArray,b=A.isIndex,f=e(8932);U.exports=function(s,n){var i=function(r){var t,a=r.node,l=r.link,u=[],h=w(l.color),c=w(l.hovercolor),y=w(l.customdata),d={},v={},g=l.colorscales.length;for(t=0;t<g;t++){var x=l.colorscales[t],m=f.extractScale(x,{cLetter:"c"}),_=f.makeColorScaleFunc(m);v[x.label]=_}var p=0;for(t=0;t<l.value.length;t++)l.source[t]>p&&(p=l.source[t]),l.target[t]>p&&(p=l.target[t]);var S,T=p+1;r.node._count=T;var E=r.node.groups,O={};for(t=0;t<E.length;t++){var P=E[t];for(S=0;S<P.length;S++){var I=P[S],R=T+t;O.hasOwnProperty(I)?A.warn("Node "+I+" is already part of a group."):O[I]=R}}var H={source:[],target:[]};for(t=0;t<l.value.length;t++){var z=l.value[t],j=l.source[t],Z=l.target[t];if(z>0&&b(j,T)&&b(Z,T)&&(!O.hasOwnProperty(j)||!O.hasOwnProperty(Z)||O[j]!==O[Z])){O.hasOwnProperty(Z)&&(Z=O[Z]),O.hasOwnProperty(j)&&(j=O[j]),Z=+Z,d[j=+j]=d[Z]=!0;var F="";l.label&&l.label[t]&&(F=l.label[t]);var V=null;F&&v.hasOwnProperty(F)&&(V=v[F]),u.push({pointNumber:t,label:F,color:h?l.color[t]:l.color,hovercolor:c?l.hovercolor[t]:l.hovercolor,customdata:y?l.customdata[t]:l.customdata,concentrationscale:V,source:j,target:Z,value:+z}),H.source.push(j),H.target.push(Z)}}var W=T+E.length,re=w(a.color),ne=w(a.customdata),te=[];for(t=0;t<W;t++)if(d[t]){var Q=a.label[t];te.push({group:t>T-1,childrenNodes:[],pointNumber:t,label:Q,color:re?a.color[t]:a.color,customdata:ne?a.customdata[t]:a.customdata})}var $=!1;return function(K,ae,ue){for(var se=A.init2dArray(K,0),he=0;he<Math.min(ae.length,ue.length);he++)if(A.isIndex(ae[he],K)&&A.isIndex(ue[he],K)){if(ae[he]===ue[he])return!0;se[ae[he]].push(ue[he])}return k(se).components.some(function(pe){return pe.length>1})}(W,H.source,H.target)&&($=!0),{circular:$,links:u,nodes:te,groups:E,groupLookup:O}}(n);return o({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(U){U.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(U,C,e){var k=e(3400),A=e(41440),o=e(76308),w=e(49760),b=e(86968).Q,f=e(16132),s=e(31780),n=e(51272);function i(r,t){function a(l,u){return k.coerce(r,t,A.link.colorscales,l,u)}a("label"),a("cmin"),a("cmax"),a("colorscale")}U.exports=function(r,t,a,l){function u(E,O){return k.coerce(r,t,A,E,O)}var h=k.extendDeep(l.hoverlabel,r.hoverlabel),c=r.node,y=s.newContainer(t,"node");function d(E,O){return k.coerce(c,y,A.node,E,O)}d("label"),d("groups"),d("x"),d("y"),d("pad"),d("thickness"),d("line.color"),d("line.width"),d("hoverinfo",r.hoverinfo),f(c,y,d,h),d("hovertemplate"),d("align");var v=l.colorway;d("color",y.label.map(function(E,O){return o.addOpacity(function(P){return v[P%v.length]}(O),.8)})),d("customdata");var g=r.link||{},x=s.newContainer(t,"link");function m(E,O){return k.coerce(g,x,A.link,E,O)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",r.hoverinfo),f(g,x,m,h),m("hovertemplate");var _,p=w(l.paper_bgcolor).getLuminance()<.333,S=m("color",p?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function T(E){var O=w(E);if(!O.isValid())return E;var P=O.getAlpha();return P<=.8?O.setAlpha(P+.2):O=p?O.brighten():O.darken(),O.toRgbString()}m("hovercolor",Array.isArray(S)?S.map(T):T(S)),m("customdata"),n(g,x,{name:"colorscales",handleItemDefaults:i}),b(t,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),y.x.length&&y.y.length&&(_="freeform"),u("arrangement",_),k.coerceFont(u,"textfont",l.font,{autoShadowDflt:!0}),t._length=null}},45499:function(U,C,e){U.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(U,C,e){var k=e(33428),A=e(3400),o=A.numberFormat,w=e(83248),b=e(93024),f=e(76308),s=e(11820).cn,n=A._;function i(g){return g!==""}function r(g,x){return g.filter(function(m){return m.key===x.traceId})}function t(g,x){k.select(g).select("path").style("fill-opacity",x),k.select(g).select("rect").style("fill-opacity",x)}function a(g){k.select(g).select("text.name").style("fill","black")}function l(g){return function(x){return g.node.sourceLinks.indexOf(x.link)!==-1||g.node.targetLinks.indexOf(x.link)!==-1}}function u(g){return function(x){return x.node.sourceLinks.indexOf(g.link)!==-1||x.node.targetLinks.indexOf(g.link)!==-1}}function h(g,x,m){x&&m&&r(m,x).selectAll("."+s.sankeyLink).filter(l(x)).call(y.bind(0,x,m,!1))}function c(g,x,m){x&&m&&r(m,x).selectAll("."+s.sankeyLink).filter(l(x)).call(d.bind(0,x,m,!1))}function y(g,x,m,_){_.style("fill",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverHue}).style("fill-opacity",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverAlpha}),_.each(function(p){var S=p.link.label;S!==""&&r(x,g).selectAll("."+s.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),m&&r(x,g).selectAll("."+s.sankeyNode).filter(u(g)).call(h)}function d(g,x,m,_){_.style("fill",function(p){return p.tinyColorHue}).style("fill-opacity",function(p){return p.tinyColorAlpha}),_.each(function(p){var S=p.link.label;S!==""&&r(x,g).selectAll("."+s.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),m&&r(x,g).selectAll(s.sankeyNode).filter(u(g)).call(c)}function v(g,x){var m=g.hoverlabel||{},_=A.nestedProperty(m,x).get();return!Array.isArray(_)&&_}U.exports=function(g,x){for(var m=g._fullLayout,_=m._paper,p=m._size,S=0;S<g._fullData.length;S++)if(g._fullData[S].visible&&g._fullData[S].type===s.sankey&&!g._fullData[S]._viewInitial){var T=g._fullData[S].node;g._fullData[S]._viewInitial={node:{groups:T.groups.slice(),x:T.x.slice(),y:T.y.slice()}}}var E=n(g,"source:")+" ",O=n(g,"target:")+" ",P=n(g,"concentration:")+" ",I=n(g,"incoming flow count:")+" ",R=n(g,"outgoing flow count:")+" ";w(g,_,x,{width:p.w,height:p.h,margin:{t:p.t,r:p.r,b:p.b,l:p.l}},{linkEvents:{hover:function(H,z,j){g._fullLayout.hovermode!==!1&&(k.select(H).call(y.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,g.emit("plotly_hover",{event:k.event,points:[z.link]})))},follow:function(H,z){if(g._fullLayout.hovermode!==!1){var j=z.link.trace.link;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){for(var Z=[],F=0,V=0;V<z.flow.links.length;V++){var W=z.flow.links[V];if(g._fullLayout.hovermode!=="closest"||z.link.pointNumber===W.pointNumber){z.link.pointNumber===W.pointNumber&&(F=V),W.fullData=W.trace,j=z.link.trace.link;var re=te(W),ne={valueLabel:o(z.valueFormat)(W.value)+z.valueSuffix};Z.push({x:re[0],y:re[1],name:ne.valueLabel,text:[W.label||"",E+W.source.label,O+W.target.label,W.concentrationscale?P+o("%0.2f")(W.flow.labelConcentration):""].filter(i).join("<br>"),color:v(j,"bgcolor")||f.addOpacity(W.color,1),borderColor:v(j,"bordercolor"),fontFamily:v(j,"font.family"),fontSize:v(j,"font.size"),fontColor:v(j,"font.color"),fontWeight:v(j,"font.weight"),fontStyle:v(j,"font.style"),fontVariant:v(j,"font.variant"),fontTextcase:v(j,"font.textcase"),fontLineposition:v(j,"font.lineposition"),fontShadow:v(j,"font.shadow"),nameLength:v(j,"namelength"),textAlign:v(j,"align"),idealAlign:k.event.x<re[0]?"right":"left",hovertemplate:j.hovertemplate,hovertemplateLabels:ne,eventData:[W]})}}b.loneHover(Z,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:g,anchorIndex:F}).each(function(){z.link.concentrationscale||t(this,.65),a(this)})}}function te(Q){var $,K;Q.circular?($=(Q.circularPathData.leftInnerExtent+Q.circularPathData.rightInnerExtent)/2,K=Q.circularPathData.verticalFullExtent):($=(Q.source.x1+Q.target.x0)/2,K=(Q.y0+Q.y1)/2);var ae=[$,K];return Q.trace.orientation==="v"&&ae.reverse(),ae[0]+=z.parent.translateX,ae[1]+=z.parent.translateY,ae}},unhover:function(H,z,j){g._fullLayout.hovermode!==!1&&(k.select(H).call(d.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,g.emit("plotly_unhover",{event:k.event,points:[z.link]})),b.loneUnhover(m._hoverlayer.node()))},select:function(H,z){var j=z.link;j.originalEvent=k.event,g._hoverdata=[j],b.click(g,{target:!0})}},nodeEvents:{hover:function(H,z,j){g._fullLayout.hovermode!==!1&&(k.select(H).call(h,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,g.emit("plotly_hover",{event:k.event,points:[z.node]})))},follow:function(H,z){if(g._fullLayout.hovermode!==!1){var j=z.node.trace.node;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){var Z=k.select(H).select("."+s.nodeRect),F=g._fullLayout._paperdiv.node().getBoundingClientRect(),V=Z.node().getBoundingClientRect(),W=V.left-2-F.left,re=V.right+2-F.left,ne=V.top+V.height/4-F.top,te={valueLabel:o(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,g._fullLayout._calcInverseTransform(g);var Q=g._fullLayout._invScaleX,$=g._fullLayout._invScaleY,K=b.loneHover({x0:Q*W,x1:Q*re,y:$*ne,name:o(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,I+z.node.targetLinks.length,R+z.node.sourceLinks.length].filter(i).join("<br>"),color:v(j,"bgcolor")||z.tinyColorHue,borderColor:v(j,"bordercolor"),fontFamily:v(j,"font.family"),fontSize:v(j,"font.size"),fontColor:v(j,"font.color"),fontWeight:v(j,"font.weight"),fontStyle:v(j,"font.style"),fontVariant:v(j,"font.variant"),fontTextcase:v(j,"font.textcase"),fontLineposition:v(j,"font.lineposition"),fontShadow:v(j,"font.shadow"),nameLength:v(j,"namelength"),textAlign:v(j,"align"),idealAlign:"left",hovertemplate:j.hovertemplate,hovertemplateLabels:te,eventData:[z.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:g});t(K,.85),a(K)}}},unhover:function(H,z,j){g._fullLayout.hovermode!==!1&&(k.select(H).call(c,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,g.emit("plotly_unhover",{event:k.event,points:[z.node]})),b.loneUnhover(m._hoverlayer.node()))},select:function(H,z,j){var Z=z.node;Z.originalEvent=k.event,g._hoverdata=[Z],k.select(H).call(c,z,j),b.click(g,{target:!0})}}})}},83248:function(U,C,e){var k=e(49812),A=e(67756).Gz,o=e(33428),w=e(26800),b=e(48932),f=e(11820),s=e(49760),n=e(76308),i=e(43616),r=e(3400),t=r.strTranslate,a=r.strRotate,l=e(71688),u=l.keyFun,h=l.repeat,c=l.unwrap,y=e(72736),d=e(24040),v=e(84284),g=v.CAP_SHIFT,x=v.LINE_SPACING;function m(V,W,re){var ne,te=c(W),Q=te.trace,$=Q.domain,K=Q.orientation==="h",ae=Q.node.pad,ue=Q.node.thickness,se={justify:w.sankeyJustify,left:w.sankeyLeft,right:w.sankeyRight,center:w.sankeyCenter}[Q.node.align],he=V.width*($.x[1]-$.x[0]),pe=V.height*($.y[1]-$.y[0]),de=te._nodes,xe=te._links,_e=te.circular;(ne=_e?b.sankeyCircular().circularLinkGap(0):w.sankey()).iterations(f.sankeyIterations).size(K?[he,pe]:[pe,he]).nodeWidth(ue).nodePadding(ae).nodeId(function(Ee){return Ee.pointNumber}).nodeAlign(se).nodes(de).links(xe);var be,Le,De,ye=ne();for(var le in ne.nodePadding()<ae&&r.warn("node.pad was reduced to ",ne.nodePadding()," to fit within the figure."),te._groupLookup){var oe,ve=parseInt(te._groupLookup[le]);for(be=0;be<ye.nodes.length;be++)if(ye.nodes[be].pointNumber===ve){oe=ye.nodes[be];break}if(oe){var Ce={pointNumber:parseInt(le),x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ye.nodes.unshift(Ce),oe.childrenNodes.unshift(Ce)}}if(function(){for(be=0;be<ye.nodes.length;be++){var Ee,ze,Fe=ye.nodes[be],ge={};for(Le=0;Le<Fe.targetLinks.length;Le++)Ee=(ze=Fe.targetLinks[Le]).source.pointNumber+":"+ze.target.pointNumber,ge.hasOwnProperty(Ee)||(ge[Ee]=[]),ge[Ee].push(ze);var Te=Object.keys(ge);for(Le=0;Le<Te.length;Le++){var Se=ge[Ee=Te[Le]],Re=0,Pe={};for(De=0;De<Se.length;De++)Pe[(ze=Se[De]).label]||(Pe[ze.label]=0),Pe[ze.label]+=ze.value,Re+=ze.value;for(De=0;De<Se.length;De++)(ze=Se[De]).flow={value:Re,labelConcentration:Pe[ze.label]/Re,concentration:ze.value/Re,links:Se},ze.concentrationscale&&(ze.color=s(ze.concentrationscale(ze.flow.labelConcentration)))}var Ve=0;for(Le=0;Le<Fe.sourceLinks.length;Le++)Ve+=Fe.sourceLinks[Le].value;for(Le=0;Le<Fe.sourceLinks.length;Le++)(ze=Fe.sourceLinks[Le]).concentrationOut=ze.value/Ve;var We=0;for(Le=0;Le<Fe.targetLinks.length;Le++)We+=Fe.targetLinks[Le].value;for(Le=0;Le<Fe.targetLinks.length;Le++)(ze=Fe.targetLinks[Le]).concenrationIn=ze.value/We}}(),Q.node.x.length&&Q.node.y.length){for(be=0;be<Math.min(Q.node.x.length,Q.node.y.length,ye.nodes.length);be++)if(Q.node.x[be]&&Q.node.y[be]){var ke=[Q.node.x[be]*he,Q.node.y[be]*pe];ye.nodes[be].x0=ke[0]-ue/2,ye.nodes[be].x1=ke[0]+ue/2;var Ae=ye.nodes[be].y1-ye.nodes[be].y0;ye.nodes[be].y0=ke[1]-Ae/2,ye.nodes[be].y1=ke[1]+Ae/2}Q.arrangement==="snap"&&function(Ee){var ze,Fe,ge=Ee.map(function(Ve,We){return{x0:Ve.x0,index:We}}).sort(function(Ve,We){return Ve.x0-We.x0}),Te=[],Se=-1,Re=-1/0;for(be=0;be<ge.length;be++){var Pe=Ee[ge[be].index];Pe.x0>Re+ue&&(Se+=1,ze=Pe.x0),Re=Pe.x0,Te[Se]||(Te[Se]=[]),Te[Se].push(Pe),Fe=ze-Pe.x0,Pe.x0+=Fe,Pe.x1+=Fe}return Te}(de=ye.nodes).forEach(function(Ee){var ze,Fe,ge,Te=0,Se=Ee.length;for(Ee.sort(function(Re,Pe){return Re.y0-Pe.y0}),ge=0;ge<Se;++ge)(ze=Ee[ge]).y0>=Te||(Fe=Te-ze.y0)>1e-6&&(ze.y0+=Fe,ze.y1+=Fe),Te=ze.y1+ae}),ne.update(ye)}return{circular:_e,key:re,trace:Q,guid:r.randstr(),horizontal:K,width:he,height:pe,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:$.x[0]*V.width+V.margin.l,translateY:V.height-$.y[1]*V.height+V.margin.t,dragParallel:K?pe:he,dragPerpendicular:K?he:pe,arrangement:Q.arrangement,sankey:ne,graph:ye,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _(V,W,re){var ne=s(W.color),te=s(W.hovercolor),Q=W.source.label+"|"+W.target.label+"__"+re;return W.trace=V.trace,W.curveNumber=V.trace.index,{circular:V.circular,key:Q,traceId:V.key,pointNumber:W.pointNumber,link:W,tinyColorHue:n.tinyRGB(ne),tinyColorAlpha:ne.getAlpha(),tinyColorHoverHue:n.tinyRGB(te),tinyColorHoverAlpha:te.getAlpha(),linkPath:p,linkLineColor:V.linkLineColor,linkLineWidth:V.linkLineWidth,linkArrowLength:V.linkArrowLength,valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,parent:V,interactionState:V.interactionState,flow:W.flow}}function p(){return function(V){var W=V.linkArrowLength;if(V.link.circular)return function(be,Le){var De=be.width/2,ye=be.circularPathData;return be.circularLinkType==="top"?"M "+(ye.targetX-Le)+" "+(ye.targetY+De)+" L"+(ye.rightInnerExtent-Le)+" "+(ye.targetY+De)+"A"+(ye.rightLargeArcRadius+De)+" "+(ye.rightSmallArcRadius+De)+" 0 0 1 "+(ye.rightFullExtent-De-Le)+" "+(ye.targetY-ye.rightSmallArcRadius)+"L"+(ye.rightFullExtent-De-Le)+" "+ye.verticalRightInnerExtent+"A"+(ye.rightLargeArcRadius+De)+" "+(ye.rightLargeArcRadius+De)+" 0 0 1 "+(ye.rightInnerExtent-Le)+" "+(ye.verticalFullExtent-De)+"L"+ye.leftInnerExtent+" "+(ye.verticalFullExtent-De)+"A"+(ye.leftLargeArcRadius+De)+" "+(ye.leftLargeArcRadius+De)+" 0 0 1 "+(ye.leftFullExtent+De)+" "+ye.verticalLeftInnerExtent+"L"+(ye.leftFullExtent+De)+" "+(ye.sourceY-ye.leftSmallArcRadius)+"A"+(ye.leftLargeArcRadius+De)+" "+(ye.leftSmallArcRadius+De)+" 0 0 1 "+ye.leftInnerExtent+" "+(ye.sourceY+De)+"L"+ye.sourceX+" "+(ye.sourceY+De)+"L"+ye.sourceX+" "+(ye.sourceY-De)+"L"+ye.leftInnerExtent+" "+(ye.sourceY-De)+"A"+(ye.leftLargeArcRadius-De)+" "+(ye.leftSmallArcRadius-De)+" 0 0 0 "+(ye.leftFullExtent-De)+" "+(ye.sourceY-ye.leftSmallArcRadius)+"L"+(ye.leftFullExtent-De)+" "+ye.verticalLeftInnerExtent+"A"+(ye.leftLargeArcRadius-De)+" "+(ye.leftLargeArcRadius-De)+" 0 0 0 "+ye.leftInnerExtent+" "+(ye.verticalFullExtent+De)+"L"+(ye.rightInnerExtent-Le)+" "+(ye.verticalFullExtent+De)+"A"+(ye.rightLargeArcRadius-De)+" "+(ye.rightLargeArcRadius-De)+" 0 0 0 "+(ye.rightFullExtent+De-Le)+" "+ye.verticalRightInnerExtent+"L"+(ye.rightFullExtent+De-Le)+" "+(ye.targetY-ye.rightSmallArcRadius)+"A"+(ye.rightLargeArcRadius-De)+" "+(ye.rightSmallArcRadius-De)+" 0 0 0 "+(ye.rightInnerExtent-Le)+" "+(ye.targetY-De)+"L"+(ye.targetX-Le)+" "+(ye.targetY-De)+(Le>0?"L"+ye.targetX+" "+ye.targetY:"")+"Z":"M "+(ye.targetX-Le)+" "+(ye.targetY-De)+" L"+(ye.rightInnerExtent-Le)+" "+(ye.targetY-De)+"A"+(ye.rightLargeArcRadius+De)+" "+(ye.rightSmallArcRadius+De)+" 0 0 0 "+(ye.rightFullExtent-De-Le)+" "+(ye.targetY+ye.rightSmallArcRadius)+"L"+(ye.rightFullExtent-De-Le)+" "+ye.verticalRightInnerExtent+"A"+(ye.rightLargeArcRadius+De)+" "+(ye.rightLargeArcRadius+De)+" 0 0 0 "+(ye.rightInnerExtent-Le)+" "+(ye.verticalFullExtent+De)+"L"+ye.leftInnerExtent+" "+(ye.verticalFullExtent+De)+"A"+(ye.leftLargeArcRadius+De)+" "+(ye.leftLargeArcRadius+De)+" 0 0 0 "+(ye.leftFullExtent+De)+" "+ye.verticalLeftInnerExtent+"L"+(ye.leftFullExtent+De)+" "+(ye.sourceY+ye.leftSmallArcRadius)+"A"+(ye.leftLargeArcRadius+De)+" "+(ye.leftSmallArcRadius+De)+" 0 0 0 "+ye.leftInnerExtent+" "+(ye.sourceY-De)+"L"+ye.sourceX+" "+(ye.sourceY-De)+"L"+ye.sourceX+" "+(ye.sourceY+De)+"L"+ye.leftInnerExtent+" "+(ye.sourceY+De)+"A"+(ye.leftLargeArcRadius-De)+" "+(ye.leftSmallArcRadius-De)+" 0 0 1 "+(ye.leftFullExtent-De)+" "+(ye.sourceY+ye.leftSmallArcRadius)+"L"+(ye.leftFullExtent-De)+" "+ye.verticalLeftInnerExtent+"A"+(ye.leftLargeArcRadius-De)+" "+(ye.leftLargeArcRadius-De)+" 0 0 1 "+ye.leftInnerExtent+" "+(ye.verticalFullExtent-De)+"L"+(ye.rightInnerExtent-Le)+" "+(ye.verticalFullExtent-De)+"A"+(ye.rightLargeArcRadius-De)+" "+(ye.rightLargeArcRadius-De)+" 0 0 1 "+(ye.rightFullExtent+De-Le)+" "+ye.verticalRightInnerExtent+"L"+(ye.rightFullExtent+De-Le)+" "+(ye.targetY+ye.rightSmallArcRadius)+"A"+(ye.rightLargeArcRadius-De)+" "+(ye.rightSmallArcRadius-De)+" 0 0 1 "+(ye.rightInnerExtent-Le)+" "+(ye.targetY+De)+"L"+(ye.targetX-Le)+" "+(ye.targetY+De)+(Le>0?"L"+ye.targetX+" "+ye.targetY:"")+"Z"}(V.link,W);var re=Math.abs((V.link.target.x0-V.link.source.x1)/2);W>re&&(W=re);var ne=V.link.source.x1,te=V.link.target.x0-W,Q=A(ne,te),$=Q(.5),K=Q(.5),ae=V.link.y0-V.link.width/2,ue=V.link.y0+V.link.width/2,se=V.link.y1-V.link.width/2,he=V.link.y1+V.link.width/2,pe="M"+ne+","+ae,de="C"+$+","+ae+" "+K+","+se+" "+te+","+se,xe="C"+K+","+he+" "+$+","+ue+" "+ne+","+ue,_e=W>0?"L"+(te+W)+","+(se+V.link.width/2):"";return pe+de+(_e+="L"+te+","+he)+xe+"Z"}}function S(V,W){var re=s(W.color),ne=f.nodePadAcross,te=V.nodePad/2;W.dx=W.x1-W.x0,W.dy=W.y1-W.y0;var Q=W.dx,$=Math.max(.5,W.dy),K="node_"+W.pointNumber;return W.group&&(K=r.randstr()),W.trace=V.trace,W.curveNumber=V.trace.index,{index:W.pointNumber,key:K,partOfGroup:W.partOfGroup||!1,group:W.group,traceId:V.key,trace:V.trace,node:W,nodePad:V.nodePad,nodeLineColor:V.nodeLineColor,nodeLineWidth:V.nodeLineWidth,textFont:V.textFont,size:V.horizontal?V.height:V.width,visibleWidth:Math.ceil(Q),visibleHeight:$,zoneX:-ne,zoneY:-te,zoneWidth:Q+2*ne,zoneHeight:$+2*te,labelY:V.horizontal?W.dy/2+1:W.dx/2+1,left:W.originalLayer===1,sizeAcross:V.width,forceLayouts:V.forceLayouts,horizontal:V.horizontal,darkBackground:re.getBrightness()<=128,tinyColorHue:n.tinyRGB(re),tinyColorAlpha:re.getAlpha(),valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,graph:V.graph,arrangement:V.arrangement,uniqueNodeLabelPathId:[V.guid,V.key,K].join("_"),interactionState:V.interactionState,figure:V}}function T(V){V.attr("transform",function(W){return t(W.node.x0.toFixed(3),W.node.y0.toFixed(3))})}function E(V){V.call(T)}function O(V,W){V.call(E),W.attr("d",p())}function P(V){V.attr("width",function(W){return W.node.x1-W.node.x0}).attr("height",function(W){return W.visibleHeight})}function I(V){return V.link.width>1||V.linkLineWidth>0}function R(V){return t(V.translateX,V.translateY)+(V.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function H(V,W,re){V.on(".basic",null).on("mouseover.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(re.hover(this,ne,W),ne.interactionState.hovered=[this,ne])}).on("mousemove.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(re.follow(this,ne),ne.interactionState.hovered=[this,ne])}).on("mouseout.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(re.unhover(this,ne,W),ne.interactionState.hovered=!1)}).on("click.basic",function(ne){ne.interactionState.hovered&&(re.unhover(this,ne,W),ne.interactionState.hovered=!1),ne.interactionState.dragInProgress||ne.partOfGroup||re.select(this,ne,W)})}function z(V,W,re,ne){var te=o.behavior.drag().origin(function(Q){return{x:Q.node.x0+Q.visibleWidth/2,y:Q.node.y0+Q.visibleHeight/2}}).on("dragstart",function(Q){if(Q.arrangement!=="fixed"&&(r.ensureSingle(ne._fullLayout._infolayer,"g","dragcover",function(K){ne._fullLayout._dragCover=K}),r.raiseToTop(this),Q.interactionState.dragInProgress=Q.node,Z(Q.node),Q.interactionState.hovered&&(re.nodeEvents.unhover.apply(0,Q.interactionState.hovered),Q.interactionState.hovered=!1),Q.arrangement==="snap")){var $=Q.traceId+"|"+Q.key;Q.forceLayouts[$]?Q.forceLayouts[$].alpha(1):function(K,ae,ue,se){(function(pe){for(var de=0;de<pe.length;de++)pe[de].y=(pe[de].y0+pe[de].y1)/2,pe[de].x=(pe[de].x0+pe[de].x1)/2})(ue.graph.nodes);var he=ue.graph.nodes.filter(function(pe){return pe.originalX===ue.node.originalX}).filter(function(pe){return!pe.partOfGroup});ue.forceLayouts[ae]=k.forceSimulation(he).alphaDecay(0).force("collide",k.forceCollide().radius(function(pe){return pe.dy/2+ue.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",function(pe,de,xe,_e){return function(){for(var be=0,Le=0;Le<xe.length;Le++){var De=xe[Le];De===_e.interactionState.dragInProgress?(De.x=De.lastDraggedX,De.y=De.lastDraggedY):(De.vx=(De.originalX-De.x)/f.forceTicksPerFrame,De.y=Math.min(_e.size-De.dy/2,Math.max(De.dy/2,De.y))),be=Math.max(be,Math.abs(De.vx),Math.abs(De.vy))}!_e.interactionState.dragInProgress&&be<.1&&_e.forceLayouts[de].alpha()>0&&_e.forceLayouts[de].alpha(0)}}(0,ae,he,ue)).stop()}(0,$,Q),function(K,ae,ue,se,he){window.requestAnimationFrame(function pe(){var de;for(de=0;de<f.forceTicksPerFrame;de++)ue.forceLayouts[se].tick();if(function(_e){for(var be=0;be<_e.length;be++)_e[be].y0=_e[be].y-_e[be].dy/2,_e[be].y1=_e[be].y0+_e[be].dy,_e[be].x0=_e[be].x-_e[be].dx/2,_e[be].x1=_e[be].x0+_e[be].dx}(ue.graph.nodes),ue.sankey.update(ue.graph),O(K.filter(F(ue)),ae),ue.forceLayouts[se].alpha()>0)window.requestAnimationFrame(pe);else{var xe=ue.node.originalX;ue.node.x0=xe-ue.visibleWidth/2,ue.node.x1=xe+ue.visibleWidth/2,j(ue,he)}})}(V,W,Q,$,ne)}}).on("drag",function(Q){if(Q.arrangement!=="fixed"){var $=o.event.x,K=o.event.y;Q.arrangement==="snap"?(Q.node.x0=$-Q.visibleWidth/2,Q.node.x1=$+Q.visibleWidth/2,Q.node.y0=K-Q.visibleHeight/2,Q.node.y1=K+Q.visibleHeight/2):(Q.arrangement==="freeform"&&(Q.node.x0=$-Q.visibleWidth/2,Q.node.x1=$+Q.visibleWidth/2),K=Math.max(0,Math.min(Q.size-Q.visibleHeight/2,K)),Q.node.y0=K-Q.visibleHeight/2,Q.node.y1=K+Q.visibleHeight/2),Z(Q.node),Q.arrangement!=="snap"&&(Q.sankey.update(Q.graph),O(V.filter(F(Q)),W))}}).on("dragend",function(Q){if(Q.arrangement!=="fixed"){Q.interactionState.dragInProgress=!1;for(var $=0;$<Q.node.childrenNodes.length;$++)Q.node.childrenNodes[$].x=Q.node.x,Q.node.childrenNodes[$].y=Q.node.y;Q.arrangement!=="snap"&&j(Q,ne)}});V.on(".drag",null).call(te)}function j(V,W){for(var re=[],ne=[],te=0;te<V.graph.nodes.length;te++){var Q=(V.graph.nodes[te].x0+V.graph.nodes[te].x1)/2,$=(V.graph.nodes[te].y0+V.graph.nodes[te].y1)/2;re.push(Q/V.figure.width),ne.push($/V.figure.height)}d.call("_guiRestyle",W,{"node.x":[re],"node.y":[ne]},V.trace.index).then(function(){W._fullLayout._dragCover&&W._fullLayout._dragCover.remove()})}function Z(V){V.lastDraggedX=V.x0+V.dx/2,V.lastDraggedY=V.y0+V.dy/2}function F(V){return function(W){return W.node.originalX===V.node.originalX}}U.exports=function(V,W,re,ne,te){var Q=V._context.staticPlot,$=!1;r.ensureSingle(V._fullLayout._infolayer,"g","first-render",function(){$=!0});var K=V._fullLayout._dragCover,ae=re.filter(function(be){return c(be).trace.visible}).map(m.bind(null,ne)),ue=W.selectAll("."+f.cn.sankey).data(ae,u);ue.exit().remove(),ue.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Q?"none":"auto").attr("transform",R),ue.each(function(be,Le){V._fullData[Le]._sankey=be;var De="bgsankey-"+be.trace.uid+"-"+Le;r.ensureSingle(V._fullLayout._draggers,"rect",De),V._fullData[Le]._bgRect=o.select("."+De),V._fullData[Le]._bgRect.style("pointer-events",Q?"none":"all").attr("width",be.width).attr("height",be.height).attr("x",be.translateX).attr("y",be.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ue.transition().ease(f.ease).duration(f.duration).attr("transform",R);var se=ue.selectAll("."+f.cn.sankeyLinks).data(h,u);se.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var he=se.selectAll("."+f.cn.sankeyLink).data(function(be){return be.graph.links.filter(function(Le){return Le.value}).map(_.bind(null,be))},u);he.enter().append("path").classed(f.cn.sankeyLink,!0).call(H,ue,te.linkEvents),he.style("stroke",function(be){return I(be)?n.tinyRGB(s(be.linkLineColor)):be.tinyColorHue}).style("stroke-opacity",function(be){return I(be)?n.opacity(be.linkLineColor):be.tinyColorAlpha}).style("fill",function(be){return be.tinyColorHue}).style("fill-opacity",function(be){return be.tinyColorAlpha}).style("stroke-width",function(be){return I(be)?be.linkLineWidth:1}).attr("d",p()),he.style("opacity",function(){return V._context.staticPlot||$||K?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),he.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var pe=ue.selectAll("."+f.cn.sankeyNodeSet).data(h,u);pe.enter().append("g").classed(f.cn.sankeyNodeSet,!0),pe.style("cursor",function(be){switch(be.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var de=pe.selectAll("."+f.cn.sankeyNode).data(function(be){var Le=be.graph.nodes;return function(De){var ye,le=[];for(ye=0;ye<De.length;ye++)De[ye].originalX=(De[ye].x0+De[ye].x1)/2,De[ye].originalY=(De[ye].y0+De[ye].y1)/2,le.indexOf(De[ye].originalX)===-1&&le.push(De[ye].originalX);for(le.sort(function(oe,ve){return oe-ve}),ye=0;ye<De.length;ye++)De[ye].originalLayerIndex=le.indexOf(De[ye].originalX),De[ye].originalLayer=De[ye].originalLayerIndex/(le.length-1)}(Le),Le.map(S.bind(null,be))},u);de.enter().append("g").classed(f.cn.sankeyNode,!0).call(T).style("opacity",function(be){return!V._context.staticPlot&&!$||be.partOfGroup?0:1}),de.call(H,ue,te.nodeEvents).call(z,he,te,V),de.transition().ease(f.ease).duration(f.duration).call(T).style("opacity",function(be){return be.partOfGroup?0:1}),de.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var xe=de.selectAll("."+f.cn.nodeRect).data(h);xe.enter().append("rect").classed(f.cn.nodeRect,!0).call(P),xe.style("stroke-width",function(be){return be.nodeLineWidth}).style("stroke",function(be){return n.tinyRGB(s(be.nodeLineColor))}).style("stroke-opacity",function(be){return n.opacity(be.nodeLineColor)}).style("fill",function(be){return be.tinyColorHue}).style("fill-opacity",function(be){return be.tinyColorAlpha}),xe.transition().ease(f.ease).duration(f.duration).call(P);var _e=de.selectAll("."+f.cn.nodeLabel).data(h);_e.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),_e.attr("data-notex",1).text(function(be){return be.node.label}).each(function(be){var Le=o.select(this);i.font(Le,be.textFont),y.convertToTspans(Le,V)}).attr("text-anchor",function(be){return be.horizontal&&be.left?"end":"start"}).attr("transform",function(be){var Le=o.select(this),De=y.lineCount(Le),ye=be.textFont.size*((De-1)*x-g),le=be.nodeLineWidth/2+3,oe=((be.horizontal?be.visibleHeight:be.visibleWidth)-ye)/2;be.horizontal&&(be.left?le=-le:le+=be.visibleWidth);var ve=be.horizontal?"":"scale(-1,1)"+a(90);return t(be.horizontal?le:oe,be.horizontal?oe:le)+ve}),_e.transition().ease(f.ease).duration(f.duration)}},81128:function(U){U.exports=function(C,e){for(var k=[],A=C.cd[0].trace,o=A._sankey.graph.nodes,w=0;w<o.length;w++){var b=o[w];if(!b.partOfGroup){var f=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];A.orientation==="v"&&f.reverse(),e&&e.contains(f,!1,w,C)&&k.push({pointNumber:b.pointNumber})}}return k}},20148:function(U,C,e){var k=e(3400);U.exports=function(A,o){for(var w=0;w<A.length;w++)A[w].i=w;k.mergeArray(o.text,A,"tx"),k.mergeArray(o.texttemplate,A,"txt"),k.mergeArray(o.hovertext,A,"htx"),k.mergeArray(o.customdata,A,"data"),k.mergeArray(o.textposition,A,"tp"),o.textfont&&(k.mergeArrayCastPositive(o.textfont.size,A,"ts"),k.mergeArray(o.textfont.color,A,"tc"),k.mergeArray(o.textfont.family,A,"tf"),k.mergeArray(o.textfont.weight,A,"tw"),k.mergeArray(o.textfont.style,A,"ty"),k.mergeArray(o.textfont.variant,A,"tv"),k.mergeArray(o.textfont.textcase,A,"tC"),k.mergeArray(o.textfont.lineposition,A,"tE"),k.mergeArray(o.textfont.shadow,A,"tS"));var b=o.marker;if(b){k.mergeArrayCastPositive(b.size,A,"ms"),k.mergeArrayCastPositive(b.opacity,A,"mo"),k.mergeArray(b.symbol,A,"mx"),k.mergeArray(b.angle,A,"ma"),k.mergeArray(b.standoff,A,"mf"),k.mergeArray(b.color,A,"mc");var f=b.line;b.line&&(k.mergeArray(f.color,A,"mlc"),k.mergeArrayCastPositive(f.width,A,"mlw"));var s=b.gradient;s&&s.type!=="none"&&(k.mergeArray(s.type,A,"mgt"),k.mergeArray(s.color,A,"mgc"))}}},52904:function(U,C,e){var k=e(29736).axisHoverFormat,A=e(21776).Gw,o=e(21776).Ks,w=e(49084),b=e(25376),f=e(98192).u,s=e(98192).c,n=e(43616),i=e(88200),r=e(92880).extendFlat,t=e(98304);U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:k("x"),yhoverformat:k("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:A({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:t(!0),fillgradient:r({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:r({symbol:{valType:"enumerated",values:n.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},w("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},w("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(U,C,e){var k=e(38248),A=e(3400),o=e(54460),w=e(1220),b=e(39032).BADNUM,f=e(43028),s=e(90136),n=e(20148),i=e(4500);function r(h,c,y,d,v,g,x){var m=c._length,_=h._fullLayout,p=y._id,S=d._id,T=_._firstScatter[l(c)]===c.uid,E=(u(c,_,y,d)||{}).orientation,O=c.fill;y._minDtick=0,d._minDtick=0;var P={padded:!0},I={padded:!0};x&&(P.ppad=I.ppad=x);var R=m<2||v[0]!==v[m-1]||g[0]!==g[m-1];R&&(O==="tozerox"||O==="tonextx"&&(T||E==="h"))?P.tozero=!0:(c.error_y||{}).visible||O!=="tonexty"&&O!=="tozeroy"&&(f.hasMarkers(c)||f.hasText(c))||(P.padded=!1,P.ppad=0),R&&(O==="tozeroy"||O==="tonexty"&&(T||E==="v"))?I.tozero=!0:O!=="tonextx"&&O!=="tozerox"||(I.padded=!1),p&&(c._extremes[p]=o.findExtremes(y,v,P)),S&&(c._extremes[S]=o.findExtremes(d,g,I))}function t(h,c){if(f.hasMarkers(h)){var y,d=h.marker,v=1.6*(h.marker.sizeref||1);if(y=h.marker.sizemode==="area"?function(p){return Math.max(Math.sqrt((p||0)/v),3)}:function(p){return Math.max((p||0)/v,3)},A.isArrayOrTypedArray(d.size)){var g={type:"linear"};o.setConvert(g);for(var x=g.makeCalcdata(h.marker,"size"),m=new Array(c),_=0;_<c;_++)m[_]=y(x[_]);return m}return y(d.size)}}function a(h,c){var y=l(c),d=h._firstScatter;d[y]||(d[y]=c.uid)}function l(h){var c=h.stackgroup;return h.xaxis+h.yaxis+h.type+(c?"-"+c:"")}function u(h,c,y,d){var v=h.stackgroup;if(v){var g=c._scatterStackOpts[y._id+d._id][v],x=g.orientation==="v"?d:y;return x.type==="linear"||x.type==="log"?g:void 0}}U.exports={calc:function(h,c){var y,d,v,g,x,m,_=h._fullLayout,p=c._xA=o.getFromId(h,c.xaxis||"x","x"),S=c._yA=o.getFromId(h,c.yaxis||"y","y"),T=p.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),O=w(c,p,"x",T),P=w(c,S,"y",E),I=O.vals,R=P.vals,H=c._length,z=new Array(H),j=c.ids,Z=u(c,_,p,S),F=!1;a(_,c);var V,W="x",re="y";Z?(A.pushUnique(Z.traceIndices,c._expandedIndex),(y=Z.orientation==="v")?(re="s",V="x"):(W="s",V="y"),x=Z.stackgaps==="interpolate"):r(h,c,p,S,I,R,t(c,H));var ne=!!c.xperiodalignment,te=!!c.yperiodalignment;for(d=0;d<H;d++){var Q=z[d]={},$=k(I[d]),K=k(R[d]);$&&K?(Q[W]=I[d],Q[re]=R[d],ne&&(Q.orig_x=T[d],Q.xEnd=O.ends[d],Q.xStart=O.starts[d]),te&&(Q.orig_y=E[d],Q.yEnd=P.ends[d],Q.yStart=P.starts[d])):Z&&(y?$:K)?(Q[V]=y?I[d]:R[d],Q.gap=!0,x?(Q.s=b,F=!0):Q.s=0):Q[W]=Q[re]=b,j&&(Q.id=String(j[d]))}if(n(z,c),s(h,c),i(z,c),Z){for(d=0;d<z.length;)z[d][V]===b?z.splice(d,1):d++;if(A.sort(z,function(he,pe){return he[V]-pe[V]||he.i-pe.i}),F){for(d=0;d<z.length-1&&z[d].gap;)d++;for((m=z[d].s)||(m=z[d].s=0),v=0;v<d;v++)z[v].s=m;for(g=z.length-1;g>d&&z[g].gap;)g--;for(m=z[g].s,v=z.length-1;v>g;v--)z[v].s=m;for(;d<g;)if(z[++d].gap){for(v=d+1;z[v].gap;)v++;for(var ae=z[d-1][V],ue=z[d-1].s,se=(z[v].s-ue)/(z[v][V]-ae);d<v;)z[d].s=ue+(z[d][V]-ae)*se,d++}}}return z},calcMarkerSize:t,calcAxisExpansion:r,setFirstScatter:a,getStackOpts:u}},4500:function(U,C,e){var k=e(3400);U.exports=function(A,o){k.isArrayOrTypedArray(o.selectedpoints)&&k.tagSelected(A,o)}},90136:function(U,C,e){var k=e(94288).hasColorscale,A=e(47128),o=e(43028);U.exports=function(w,b){o.hasLines(b)&&k(b,"line")&&A(w,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(b)&&(k(b,"marker")&&A(w,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),k(b,"marker.line")&&A(w,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(U){U.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(U,C,e){var k=e(16356),A=e(96376).setGroupPositions;function o(w,b,f,s,n,i,r){n[s]=!0;var t={i:null,gap:!0,s:0};if(t[r]=f,w.splice(b,0,t),b&&f===w[b-1][r]){var a=w[b-1];t.s=a.s,t.i=a.i,t.gap=a.gap}else i&&(t.s=function(l,u,h,c){var y=l[u-1],d=l[u+1];return d?y?y.s+(d.s-y.s)*(h-y[c])/(d[c]-y[c]):d.s:y.s}(w,b,f,r));b||(w[0].t=w[1].t,w[0].trace=w[1].trace,delete w[1].t,delete w[1].trace)}U.exports=function(w,b){w._fullLayout.scattermode==="group"&&function(V,W){for(var re=W.xaxis,ne=W.yaxis,te=V._fullLayout,Q=V._fullData,$=V.calcdata,K=[],ae=[],ue=0;ue<Q.length;ue++){var se=Q[ue];se.visible===!0&&se.type==="scatter"&&se.xaxis===re._id&&se.yaxis===ne._id&&(se.orientation==="h"?K.push($[ue]):se.orientation==="v"&&ae.push($[ue]))}var he={mode:te.scattermode,gap:te.scattergap};A(V,re,ne,ae,he),A(V,ne,re,K,he)}(w,b);var f=b.xaxis,s=b.yaxis,n=f._id+s._id,i=w._fullLayout._scatterStackOpts[n];if(i){var r,t,a,l,u,h,c,y,d,v,g,x,m,_,p,S=w.calcdata;for(var T in i){var E=(v=i[T]).traceIndices;if(E.length){for(g=v.stackgaps==="interpolate",x=v.groupnorm,v.orientation==="v"?(m="x",_="y"):(m="y",_="x"),p=new Array(E.length),r=0;r<p.length;r++)p[r]=!1;h=S[E[0]];var O=new Array(h.length);for(r=0;r<h.length;r++)O[r]=h[r][m];for(r=1;r<E.length;r++){for(u=S[E[r]],t=a=0;t<u.length;t++){for(c=u[t][m];c>O[a]&&a<O.length;a++)o(u,t,O[a],r,p,g,m),t++;if(c!==O[a]){for(l=0;l<r;l++)o(S[E[l]],a,c,l,p,g,m);O.splice(a,0,c)}a++}for(;a<O.length;a++)o(u,t,O[a],r,p,g,m),t++}var P=O.length;for(t=0;t<h.length;t++){for(y=h[t][_]=h[t].s,r=1;r<E.length;r++)(u=S[E[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=P,y+=u[t].s,u[t][_]=y;if(x)for(d=(x==="fraction"?y:y/100)||1,r=0;r<E.length;r++){var I=S[E[r]][t];I[_]/=d,I.sNorm=I.s/d}}for(r=0;r<E.length;r++){var R=(u=S[E[r]])[0].trace,H=k.calcMarkerSize(R,R._rawLength),z=Array.isArray(H);if(H&&p[r]||z){var j=H;for(H=new Array(P),t=0;t<P;t++)H[t]=u[t].gap?0:z?j[u[t].i]:j}var Z=new Array(P),F=new Array(P);for(t=0;t<P;t++)Z[t]=u[t].x,F[t]=u[t].y;k.calcAxisExpansion(w,R,f,s,Z,F,H),u[0].t.orientation=v.orientation}}}}}},35036:function(U,C,e){var k=e(3400),A=e(20011),o=e(52904);U.exports=function(w,b){var f,s,n;function i(u){return k.coerce(s._input,s,o,u)}if(b.scattermode==="group")for(n=0;n<w.length;n++)(s=w[n]).type==="scatter"&&(f=s._input,A(f,s,b,i));for(n=0;n<w.length;n++){var r=w[n];if(r.type==="scatter"){var t=r.fill;if(t!=="none"&&t!=="toself"&&(r.opacity=void 0,t==="tonexty"||t==="tonextx"))for(var a=n-1;a>=0;a--){var l=w[a];if(l.type==="scatter"&&l.xaxis===r.xaxis&&l.yaxis===r.yaxis){l.opacity=void 0;break}}}}}},18800:function(U,C,e){var k=e(3400),A=e(24040),o=e(52904),w=e(88200),b=e(43028),f=e(43980),s=e(31147),n=e(43912),i=e(74428),r=e(66828),t=e(11731),a=e(124),l=e(70840),u=e(3400).coercePattern;U.exports=function(h,c,y,d){function v(E,O){return k.coerce(h,c,o,E,O)}var g=f(h,c,d,v);if(g||(c.visible=!1),c.visible){s(h,c,d,v),v("xhoverformat"),v("yhoverformat"),v("zorder");var x=n(h,c,d,v);d.scattermode==="group"&&c.orientation===void 0&&v("orientation","v");var m=!x&&g<w.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",m),b.hasMarkers(c)&&i(h,c,y,d,v,{gradient:!0}),b.hasLines(c)&&(r(h,c,y,d,v,{backoff:!0}),t(h,c,v),v("connectgaps"),v("line.simplify")),b.hasText(c)&&(v("texttemplate"),a(h,c,d,v));var _=[];(b.hasMarkers(c)||b.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),_.push("points")),v("fill",x?x.fillDflt:"none"),c.fill!=="none"&&(l(h,c,y,v,{moduleHasFillgradient:!0}),b.hasLines(c)||t(h,c,v),u(v,"fillpattern",c.fillcolor,!1));var p=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||_.push("fills"),v("hoveron",_.join("+")||"points"),c.hoveron!=="fills"&&v("hovertemplate");var T=A.getComponentMethod("errorbars","supplyDefaults");T(h,c,p||S||y,{axis:"y"}),T(h,c,p||S||y,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(c,v)}}},98304:function(U){U.exports=function(C){return{valType:"color",editType:"style",anim:!0}}},70840:function(U,C,e){var k=e(76308),A=e(3400).isArrayOrTypedArray;U.exports=function(o,w,b,f,s){s||(s={});var n,i=!1;if(w.marker){var r=w.marker.color,t=(w.marker.line||{}).color;r&&!A(r)?i=r:t&&!A(t)&&(i=t)}if(s.moduleHasFillgradient&&f("fillgradient.type")!=="none"){f("fillgradient.start"),f("fillgradient.stop");var a=f("fillgradient.colorscale");a&&(n=function(l){for(var u=k.interpolate(l[0][1],l[1][1],.5),h=2;h<l.length;h++){var c=k.interpolate(l[h-1][1],l[h][1],.5);u=k.interpolate(u,c,l[h-1][0]/l[h][0])}return u}(a))}f("fillcolor",k.addOpacity((w.line||{}).color||i||n||b,.5))}},76688:function(U,C,e){var k=e(54460);U.exports=function(A,o,w){var b={},f={_fullLayout:w},s=k.getFromTrace(f,o,"x"),n=k.getFromTrace(f,o,"y"),i=A.orig_x;i===void 0&&(i=A.x);var r=A.orig_y;return r===void 0&&(r=A.y),b.xLabel=k.tickText(s,s.c2l(i),!0).text,b.yLabel=k.tickText(n,n.c2l(r),!0).text,b}},44928:function(U,C,e){var k=e(76308),A=e(43028);U.exports=function(o,w){var b,f;if(o.mode==="lines")return(b=o.line.color)&&k.opacity(b)?b:o.fillcolor;if(o.mode==="none")return o.fill?o.fillcolor:"";var s=w.mcc||(o.marker||{}).color,n=w.mlcc||((o.marker||{}).line||{}).color;return(f=s&&k.opacity(s)?s:n&&k.opacity(n)&&(w.mlw||((o.marker||{}).line||{}).width)?n:"")?k.opacity(f)<.3?k.addOpacity(f,.3):f:(b=(o.line||{}).color)&&k.opacity(b)&&A.hasLines(o)&&o.line.width?b:o.fillcolor}},20011:function(U,C,e){var k=e(71888).getAxisGroup;U.exports=function(A,o,w,b){var f=o.orientation,s=o[{v:"x",h:"y"}[f]+"axis"],n=k(w,s)+f,i=w._alignmentOpts||{},r=b("alignmentgroup"),t=i[n];t||(t=i[n]={});var a=t[r];a?a.traces.push(o):a=t[r]={traces:[o],alignmentIndex:Object.keys(t).length,offsetGroups:{}};var l=b("offsetgroup"),u=a.offsetGroups,h=u[l];l&&(h||(h=u[l]={offsetIndex:Object.keys(u).length}),o._offsetIndex=h.offsetIndex)}},98723:function(U,C,e){var k=e(3400),A=e(93024),o=e(24040),w=e(44928),b=e(76308),f=k.fillText;U.exports=function(s,n,i,r){var t=s.cd,a=t[0].trace,l=s.xa,u=s.ya,h=l.c2p(n),c=u.c2p(i),y=[h,c],d=a.hoveron||"",v=a.mode.indexOf("markers")!==-1?3:.5,g=!!a.xperiodalignment,x=!!a.yperiodalignment;if(d.indexOf("points")!==-1){var m=function(Z){var F=Math.max(v,Z.mrc||0),V=l.c2p(Z.x)-h,W=u.c2p(Z.y)-c;return Math.max(Math.sqrt(V*V+W*W)-F,1-v/F)},_=A.getDistanceFunction(r,function(Z){if(g){var F=l.c2p(Z.xStart),V=l.c2p(Z.xEnd);return h>=Math.min(F,V)&&h<=Math.max(F,V)?0:1/0}var W=Math.max(3,Z.mrc||0),re=1-1/W,ne=Math.abs(l.c2p(Z.x)-h);return ne<W?re*ne/W:ne-W+re},function(Z){if(x){var F=u.c2p(Z.yStart),V=u.c2p(Z.yEnd);return c>=Math.min(F,V)&&c<=Math.max(F,V)?0:1/0}var W=Math.max(3,Z.mrc||0),re=1-1/W,ne=Math.abs(u.c2p(Z.y)-c);return ne<W?re*ne/W:ne-W+re},m);if(A.getClosest(t,_,s),s.index!==!1){var p=t[s.index],S=l.c2p(p.x,!0),T=u.c2p(p.y,!0),E=p.mrc||1;s.index=p.i;var O=t[0].t.orientation,P=O&&(p.sNorm||p.s),I=O==="h"?P:p.orig_x!==void 0?p.orig_x:p.x,R=O==="v"?P:p.orig_y!==void 0?p.orig_y:p.y;return k.extendFlat(s,{color:w(a,p),x0:S-E,x1:S+E,xLabelVal:I,y0:T-E,y1:T+E,yLabelVal:R,spikeDistance:m(p),hovertemplate:a.hovertemplate}),f(p,a,s),o.getComponentMethod("errorbars","hoverInfo")(p,a,s),[s]}}function H(Z){if(!Z)return!1;var F=Z.node();try{var V=new DOMPoint(y[0],y[1]);return F.isPointInFill(V)}catch{var W=F.ownerSVGElement.createSVGPoint();return W.x=y[0],W.y=y[1],F.isPointInFill(W)}}if(d.indexOf("fills")!==-1&&a._fillElement&&H(a._fillElement)&&!H(a._fillExclusionElement)){var z=function(Z){var F,V,W,re,ne,te,Q,$,K,ae=[],ue=1/0,se=-1/0,he=1/0,pe=-1/0;for(F=0;F<Z.length;F++){var de=Z[F];de.contains(y)&&(ae.push(de),he=Math.min(he,de.ymin),pe=Math.max(pe,de.ymax))}if(ae.length===0)return null;for(V=((he=Math.max(he,0))+(pe=Math.min(pe,u._length)))/2,F=0;F<ae.length;F++)for(re=ae[F].pts,W=1;W<re.length;W++)($=re[W-1][1])>V!=(K=re[W][1])>=V&&(te=re[W-1][0],Q=re[W][0],K-$&&(ne=te+(Q-te)*(V-$)/(K-$),ue=Math.min(ue,ne),se=Math.max(se,ne)));return{x0:ue=Math.max(ue,0),x1:se=Math.min(se,l._length),y0:V,y1:V}}(a._polygons);z===null&&(z={x0:y[0],x1:y[0],y0:y[1],y1:y[1]});var j=b.defaultLine;return b.opacity(a.fillcolor)?j=a.fillcolor:b.opacity((a.line||{}).color)&&(j=a.line.color),k.extendFlat(s,{distance:s.maxHoverDistance,x0:z.x0,x1:z.x1,y0:z.y0,y1:z.y1,color:j,hovertemplate:!1}),delete s.index,a.text&&!k.isArrayOrTypedArray(a.text)?s.text=String(a.text):s.text=a.name,[s]}}},65875:function(U,C,e){var k=e(43028);U.exports={hasLines:k.hasLines,hasMarkers:k.hasMarkers,hasText:k.hasText,isBubble:k.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(U){U.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(U,C,e){var k=e(3400),A=e(55308);U.exports=function(o,w){var b,f=w.barmode==="group";w.scattermode==="group"&&(b=f?w.bargap:.2,k.coerce(o,w,A,"scattergap",b))}},66828:function(U,C,e){var k=e(3400).isArrayOrTypedArray,A=e(94288).hasColorscale,o=e(27260);U.exports=function(w,b,f,s,n,i){i||(i={});var r=(w.marker||{}).color;r&&r._inputArray&&(r=r._inputArray),n("line.color",f),A(w,"line")?o(w,b,s,n,{prefix:"line.",cLetter:"c"}):n("line.color",!k(r)&&r||f),n("line.width"),i.noDash||n("line.dash"),i.backoff&&n("line.backoff")}},52340:function(U,C,e){var k=e(43616),A=e(39032),o=A.BADNUM,w=A.LOG_CLIP,b=w+.5,f=w-.5,s=e(3400),n=s.segmentsIntersect,i=s.constrain,r=e(88200);U.exports=function(t,a){var l,u,h,c,y,d,v,g,x,m,_,p,S,T,E,O,P,I,R=a.trace||{},H=a.xaxis,z=a.yaxis,j=H.type==="log",Z=z.type==="log",F=H._length,V=z._length,W=a.backoff,re=R.marker,ne=a.connectGaps,te=a.baseTolerance,Q=a.shape,$=Q==="linear",K=R.fill&&R.fill!=="none",ae=[],ue=r.minTolerance,se=t.length,he=new Array(se),pe=0;function de(Pt){var Ze=t[Pt];if(!Ze)return!1;var $e=a.linearized?H.l2p(Ze.x):H.c2p(Ze.x),He=a.linearized?z.l2p(Ze.y):z.c2p(Ze.y);if($e===o){if(j&&($e=H.c2p(Ze.x,!0)),$e===o)return!1;Z&&He===o&&($e*=Math.abs(H._m*V*(H._m>0?b:f)/(z._m*F*(z._m>0?b:f)))),$e*=1e3}if(He===o){if(Z&&(He=z.c2p(Ze.y,!0)),He===o)return!1;He*=1e3}return[$e,He]}function xe(Pt,Ze,$e,He){var Je=$e-Pt,ft=He-Ze,ot=.5-Pt,je=.5-Ze,Ue=Je*Je+ft*ft,st=Je*ot+ft*je;if(st>0&&st<Ue){var Ke=ot*ft-je*Je;if(Ke*Ke<Ue)return!0}}function _e(Pt,Ze){var $e=Pt[0]/F,He=Pt[1]/V,Je=Math.max(0,-$e,$e-1,-He,He-1);return Je&&P!==void 0&&xe($e,He,P,I)&&(Je=0),Je&&Ze&&xe($e,He,Ze[0]/F,Ze[1]/V)&&(Je=0),(1+r.toleranceGrowth*Je)*te}function be(Pt,Ze){var $e=Pt[0]-Ze[0],He=Pt[1]-Ze[1];return Math.sqrt($e*$e+He*He)}var Le,De,ye,le,oe,ve,Ce,ke=r.maxScreensAway,Ae=-F*ke,Ee=F*(1+ke),ze=-V*ke,Fe=V*(1+ke),ge=[[Ae,ze,Ee,ze],[Ee,ze,Ee,Fe],[Ee,Fe,Ae,Fe],[Ae,Fe,Ae,ze]];function Te(Pt){if(Pt[0]<Ae||Pt[0]>Ee||Pt[1]<ze||Pt[1]>Fe)return[i(Pt[0],Ae,Ee),i(Pt[1],ze,Fe)]}function Se(Pt,Ze){return Pt[0]===Ze[0]&&(Pt[0]===Ae||Pt[0]===Ee)||Pt[1]===Ze[1]&&(Pt[1]===ze||Pt[1]===Fe)||void 0}function Re(Pt,Ze,$e){return function(He,Je){var ft=Te(He),ot=Te(Je),je=[];if(ft&&ot&&Se(ft,ot))return je;ft&&je.push(ft),ot&&je.push(ot);var Ue=2*s.constrain((He[Pt]+Je[Pt])/2,Ze,$e)-((ft||He)[Pt]+(ot||Je)[Pt]);return Ue&&((ft&&ot?Ue>0==ft[Pt]>ot[Pt]?ft:ot:ft||ot)[Pt]+=Ue),je}}function Pe(Pt){var Ze=Pt[0],$e=Pt[1],He=Ze===he[pe-1][0],Je=$e===he[pe-1][1];if(!He||!Je)if(pe>1){var ft=Ze===he[pe-2][0],ot=$e===he[pe-2][1];He&&(Ze===Ae||Ze===Ee)&&ft?ot?pe--:he[pe-1]=Pt:Je&&($e===ze||$e===Fe)&&ot?ft?pe--:he[pe-1]=Pt:he[pe++]=Pt}else he[pe++]=Pt}function Ve(Pt){he[pe-1][0]!==Pt[0]&&he[pe-1][1]!==Pt[1]&&Pe([ye,le]),Pe(Pt),oe=null,ye=le=0}Q==="linear"||Q==="spline"?Ce=function(Pt,Ze){for(var $e=[],He=0,Je=0;Je<4;Je++){var ft=ge[Je],ot=n(Pt[0],Pt[1],Ze[0],Ze[1],ft[0],ft[1],ft[2],ft[3]);ot&&(!He||Math.abs(ot.x-$e[0][0])>1||Math.abs(ot.y-$e[0][1])>1)&&(ot=[ot.x,ot.y],He&&be(ot,Pt)<be($e[0],Pt)?$e.unshift(ot):$e.push(ot),He++)}return $e}:Q==="hv"||Q==="vh"?Ce=function(Pt,Ze){var $e=[],He=Te(Pt),Je=Te(Ze);return He&&Je&&Se(He,Je)||(He&&$e.push(He),Je&&$e.push(Je)),$e}:Q==="hvh"?Ce=Re(0,Ae,Ee):Q==="vhv"&&(Ce=Re(1,ze,Fe));var We=s.isArrayOrTypedArray(re);function Qe(Pt){if(Pt&&W&&(Pt.i=l,Pt.d=t,Pt.trace=R,Pt.marker=We?re[Pt.i]:re,Pt.backoff=W),P=Pt[0]/F,I=Pt[1]/V,Le=Pt[0]<Ae?Ae:Pt[0]>Ee?Ee:0,De=Pt[1]<ze?ze:Pt[1]>Fe?Fe:0,Le||De){if(pe)if(oe){var Ze=Ce(oe,Pt);Ze.length>1&&(Ve(Ze[0]),he[pe++]=Ze[1])}else ve=Ce(he[pe-1],Pt)[0],he[pe++]=ve;else he[pe++]=[Le||Pt[0],De||Pt[1]];var $e=he[pe-1];Le&&De&&($e[0]!==Le||$e[1]!==De)?(oe&&(ye!==Le&&le!==De?Pe(ye&&le?(He=oe,ft=(Je=Pt)[0]-He[0],ot=(Je[1]-He[1])/ft,(He[1]*Je[0]-Je[1]*He[0])/ft>0?[ot>0?Ae:Ee,Fe]:[ot>0?Ee:Ae,ze]):[ye||Le,le||De]):ye&&le&&Pe([ye,le])),Pe([Le,De])):ye-Le&&le-De&&Pe([Le||ye,De||le]),oe=Pt,ye=Le,le=De}else oe&&Ve(Ce(oe,Pt)[0]),he[pe++]=Pt;var He,Je,ft,ot}for(l=0;l<se;l++)if(u=de(l)){for(pe=0,oe=null,Qe(u),l++;l<se;l++){if(!(c=de(l))){if(ne)continue;break}if($&&a.simplify){var lt=de(l+1);if(m=be(c,u),K&&(pe===0||pe===se-1)||!(m<_e(c,lt)*ue)){for(g=[(c[0]-u[0])/m,(c[1]-u[1])/m],y=u,_=m,p=T=E=0,v=!1,h=c,l++;l<t.length;l++){if(d=lt,lt=de(l+1),!d){if(ne)continue;break}if(O=(x=[d[0]-u[0],d[1]-u[1]])[0]*g[1]-x[1]*g[0],T=Math.min(T,O),(E=Math.max(E,O))-T>_e(d,lt))break;h=d,(S=x[0]*g[0]+x[1]*g[1])>_?(_=S,c=d,v=!1):S<p&&(p=S,y=d,v=!0)}if(v?(Qe(c),h!==y&&Qe(y)):(y!==u&&Qe(y),h!==c&&Qe(c)),Qe(h),l>=t.length||!d)break;Qe(d),u=d}}else Qe(c)}oe&&Pe([ye||oe[0],le||oe[1]]),ae.push(he.slice(0,pe))}var ut=Q.slice(Q.length-1);if(W&&ut!=="h"&&ut!=="v"){for(var xt=!1,_t=-1,mt=[],it=0;it<ae.length;it++)for(var nt=0;nt<ae[it].length-1;nt++){var Et=ae[it][nt],Rt=ae[it][nt+1],Ft=k.applyBackoff(Rt,Et);Ft[0]===Rt[0]&&Ft[1]===Rt[1]||(xt=!0),mt[_t+1]||(mt[++_t]=[Et,[Ft[0],Ft[1]]])}return xt?mt:ae}return ae}},11731:function(U){U.exports=function(C,e,k){k("line.shape")==="spline"&&k("line.smoothing")}},14328:function(U){var C={tonextx:1,tonexty:1,tonext:1};U.exports=function(e,k,A){var o,w,b,f,s,n={},i=!1,r=-1,t=0,a=-1;for(w=0;w<A.length;w++)(b=(o=A[w][0].trace).stackgroup||"")?b in n?s=n[b]:(s=n[b]=t,t++):o.fill in C&&a>=0?s=a:(s=a=t,t++),s<r&&(i=!0),o._groupIndex=r=s;var l=A.slice();i&&l.sort(function(h,c){var y=h[0].trace,d=c[0].trace;return y._groupIndex-d._groupIndex||y.index-d.index});var u={};for(w=0;w<l.length;w++)b=(o=l[w][0].trace).stackgroup||"",o.visible===!0?(o._nexttrace=null,o.fill in C&&(f=u[b],o._prevtrace=f||null,f&&(f._nexttrace=o)),o._ownfill=o.fill&&(o.fill.substr(0,6)==="tozero"||o.fill==="toself"||o.fill.substr(0,2)==="to"&&!o._prevtrace),u[b]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return l}},7152:function(U,C,e){var k=e(38248);U.exports=function(A,o){o||(o=2);var w=A.marker,b=w.sizeref||1,f=w.sizemin||0,s=w.sizemode==="area"?function(n){return Math.sqrt(n/b)}:function(n){return n/b};return function(n){var i=s(n/o);return k(i)&&i>0?Math.max(i,f):0}}},5528:function(U){U.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(U,C,e){var k=e(76308),A=e(94288).hasColorscale,o=e(27260),w=e(43028);U.exports=function(b,f,s,n,i,r){var t=w.isBubble(b),a=(b.line||{}).color;r=r||{},a&&(s=a),i("marker.symbol"),i("marker.opacity",t?.7:1),i("marker.size"),r.noAngle||(i("marker.angle"),r.noAngleRef||i("marker.angleref"),r.noStandOff||i("marker.standoff")),i("marker.color",s),A(b,"marker")&&o(b,f,n,i,{prefix:"marker.",cLetter:"c"}),r.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),r.noLine||(i("marker.line.color",a&&!Array.isArray(a)&&f.marker.color!==a?a:t?k.background:k.defaultLine),A(b,"marker.line")&&o(b,f,n,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",t?1:0)),t&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),r.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},31147:function(U,C,e){var k=e(3400).dateTick0,A=e(39032).ONEWEEK;function o(w,b){return k(b,w%A==0?1:0)}U.exports=function(w,b,f,s,n){if(n||(n={x:!0,y:!0}),n.x){var i=s("xperiod");i&&(s("xperiod0",o(i,b.xcalendar)),s("xperiodalignment"))}if(n.y){var r=s("yperiod");r&&(s("yperiod0",o(r,b.ycalendar)),s("yperiodalignment"))}}},96504:function(U,C,e){var k=e(33428),A=e(24040),o=e(3400),w=o.ensureSingle,b=o.identity,f=e(43616),s=e(43028),n=e(52340),i=e(14328),r=e(92065).tester;function t(a,l,u,h,c,y,d){var v,g=a._context.staticPlot;(function(Pe,Ve,We,Qe,lt){var ut=We.xaxis,xt=We.yaxis,_t=k.extent(o.simpleMap(ut.range,ut.r2c)),mt=k.extent(o.simpleMap(xt.range,xt.r2c)),it=Qe[0].trace;if(s.hasMarkers(it)){var nt=it.marker.maxdisplayed;if(nt!==0){var Et=Qe.filter(function(Ze){return Ze.x>=_t[0]&&Ze.x<=_t[1]&&Ze.y>=mt[0]&&Ze.y<=mt[1]}),Rt=Math.ceil(Et.length/nt),Ft=0;lt.forEach(function(Ze,$e){var He=Ze[0].trace;s.hasMarkers(He)&&He.marker.maxdisplayed>0&&$e<Ve&&Ft++});var Pt=Math.round(Ft*Rt/3+Math.floor(Ft/3)*Rt/7.1);Qe.forEach(function(Ze){delete Ze.vis}),Et.forEach(function(Ze,$e){Math.round(($e+Pt)%Rt)===0&&(Ze.vis=!0)})}}})(0,l,u,h,c);var x=!!d&&d.duration>0;function m(Pe){return x?Pe.transition():Pe}var _=u.xaxis,p=u.yaxis,S=h[0].trace,T=S.line,E=k.select(y),O=w(E,"g","errorbars"),P=w(E,"g","lines"),I=w(E,"g","points"),R=w(E,"g","text");if(A.getComponentMethod("errorbars","plot")(a,O,u,d),S.visible===!0){var H,z;m(E).style("opacity",S.opacity);var j,Z,F=S.fill.charAt(S.fill.length-1);F!=="x"&&F!=="y"&&(F=""),F==="y"?(j=1,Z=p.c2p(0,!0)):F==="x"&&(j=0,Z=_.c2p(0,!0)),h[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var V,W,re="",ne=[],te=S._prevtrace,Q=null,$=null;te&&(re=te._prevRevpath||"",z=te._nextFill,ne=te._ownPolygons,Q=te._fillsegments,$=te._fillElement);var K,ae,ue,se,he,pe,de="",xe="",_e=[];S._polygons=[];var be=[],Le=[],De=o.noop;if(H=S._ownFill,s.hasLines(S)||S.fill!=="none"){z&&z.datum(h),["hv","vh","hvh","vhv"].indexOf(T.shape)!==-1?(K=f.steps(T.shape),ae=f.steps(T.shape.split("").reverse().join(""))):K=ae=T.shape==="spline"?function(Pe){var Ve=Pe[Pe.length-1];return Pe.length>1&&Pe[0][0]===Ve[0]&&Pe[0][1]===Ve[1]?f.smoothclosed(Pe.slice(1),T.smoothing):f.smoothopen(Pe,T.smoothing)}:function(Pe){return"M"+Pe.join("L")},ue=function(Pe){return ae(Pe.reverse())},Le=n(h,{xaxis:_,yaxis:p,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,backoff:T.backoff,simplify:T.simplify,fill:S.fill}),be=new Array(Le.length);var ye=0;for(v=0;v<Le.length;v++){var le,oe=Le[v];le&&F?le.push.apply(le,oe):(le=oe.slice(),be[ye]=le,ye++)}S._fillElement=null,S._fillExclusionElement=$,S._fillsegments=be.slice(0,ye),be=S._fillsegments,Le.length&&(se=Le[0][0].slice(),pe=(he=Le[Le.length-1])[he.length-1].slice()),De=function(Pe){return function(Ve){if(V=K(Ve),W=ue(Ve),de?F?(de+="L"+V.substr(1),xe=W+"L"+xe.substr(1)):(de+="Z"+V,xe=W+"Z"+xe):(de=V,xe=W),s.hasLines(S)){var We=k.select(this);if(We.datum(h),Pe)m(We.style("opacity",0).attr("d",V).call(f.lineGroupStyle)).style("opacity",1);else{var Qe=m(We);Qe.attr("d",V),f.singleLineStyle(h,Qe)}}}}}var ve=P.selectAll(".js-line").data(Le);m(ve.exit()).style("opacity",0).remove(),ve.each(De(!1)),ve.enter().append("path").classed("js-line",!0).style("vector-effect",g?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(De(!0)),f.setClipUrl(ve,u.layerClipId,a);var Ce=function(){var Pe=new Array(be.length);for(v=0;v<be.length;v++)Pe[v]=r(be[v]);return Pe},ke=function(Pe){var Ve,We;if(Pe&&Pe.length!==0){for(Ve=new Array(Pe.length-1+be.length),We=0;We<Pe.length-1;We++)Ve[We]=r(Pe[We]);var Qe=Pe[Pe.length-1].slice();for(Qe.reverse(),We=0;We<be.length;We++)Ve[Pe.length-1+We]=r(be[We].concat(Qe))}else for(Ve=new Array(be.length),We=0;We<be.length;We++){var lt=be[We][0].slice(),ut=be[We][be[We].length-1].slice();lt[j]=ut[j]=Z;var xt=[ut,lt].concat(be[We]);Ve[We]=r(xt)}return Ve};Le.length?(H?(H.datum(h),se&&pe&&(F?(se[j]=pe[j]=Z,m(H).attr("d","M"+pe+"L"+se+"L"+de.substr(1)).call(f.singleFillStyle,a),_e=ke(null)):(m(H).attr("d",de+"Z").call(f.singleFillStyle,a),_e=Ce())),S._polygons=_e,S._fillElement=H):z&&(S.fill.substr(0,6)==="tonext"&&de&&re?(S.fill==="tonext"?(m(z).attr("d",de+"Z"+re+"Z").call(f.singleFillStyle,a),_e=Ce(),S._polygons=_e.concat(ne)):(m(z).attr("d",de+"L"+re.substr(1)+"Z").call(f.singleFillStyle,a),_e=ke(Q),S._polygons=_e),S._fillElement=z):Ee(z)),S._prevRevpath=xe):(H?Ee(H):z&&Ee(z),S._prevRevpath=null),S._ownPolygons=_e,I.datum(h),R.datum(h),function(Pe,Ve,We){var Qe,lt=We[0].trace,ut=s.hasMarkers(lt),xt=s.hasText(lt),_t=Se(lt),mt=Re,it=Re;if(ut||xt){var nt=b,Et=lt.stackgroup,Rt=Et&&a._fullLayout._scatterStackOpts[_._id+p._id][Et].stackgaps==="infer zero";lt.marker.maxdisplayed||lt._needsCull?nt=Rt?Fe:ze:Et&&!Rt&&(nt=ge),ut&&(mt=nt),xt&&(it=nt)}var Ft,Pt=(Qe=Pe.selectAll("path.point").data(mt,_t)).enter().append("path").classed("point",!0);x&&Pt.call(f.pointStyle,lt,a).call(f.translatePoints,_,p).style("opacity",0).transition().style("opacity",1),Qe.order(),ut&&(Ft=f.makePointStyleFns(lt)),Qe.each(function(Ze){var $e=k.select(this),He=m($e);f.translatePoint(Ze,He,_,p)?(f.singlePointStyle(Ze,He,lt,Ft,a),u.layerClipId&&f.hideOutsideRangePoint(Ze,He,_,p,lt.xcalendar,lt.ycalendar),lt.customdata&&$e.classed("plotly-customdata",Ze.data!==null&&Ze.data!==void 0)):He.remove()}),x?Qe.exit().transition().style("opacity",0).remove():Qe.exit().remove(),(Qe=Ve.selectAll("g").data(it,_t)).enter().append("g").classed("textpoint",!0).append("text"),Qe.order(),Qe.each(function(Ze){var $e=k.select(this),He=m($e.select("text"));f.translatePoint(Ze,He,_,p)?u.layerClipId&&f.hideOutsideRangePoint(Ze,$e,_,p,lt.xcalendar,lt.ycalendar):$e.remove()}),Qe.selectAll("text").call(f.textPointStyle,lt,a).each(function(Ze){var $e=_.c2p(Ze.x),He=p.c2p(Ze.y);k.select(this).selectAll("tspan.line").each(function(){m(k.select(this)).attr({x:$e,y:He})})}),Qe.exit().remove()}(I,R,h);var Ae=S.cliponaxis===!1?null:u.layerClipId;f.setClipUrl(I,Ae,a),f.setClipUrl(R,Ae,a)}function Ee(Pe){m(Pe).attr("d","M0,0Z")}function ze(Pe){return Pe.filter(function(Ve){return!Ve.gap&&Ve.vis})}function Fe(Pe){return Pe.filter(function(Ve){return Ve.vis})}function ge(Pe){return Pe.filter(function(Ve){return!Ve.gap})}function Te(Pe){return Pe.id}function Se(Pe){if(Pe.ids)return Te}function Re(){return!1}}U.exports=function(a,l,u,h,c,y){var d,v,g=!c,x=!!c&&c.duration>0,m=i(a,l,u);(d=h.selectAll("g.trace").data(m,function(_){return _[0].trace.uid})).enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(_,p,S){p.each(function(T){var E=w(k.select(this),"g","fills");f.setClipUrl(E,S.layerClipId,_);var O=T[0].trace,P=[];O._ownfill&&P.push("_ownFill"),O._nexttrace&&P.push("_nextFill");var I=E.selectAll("g").data(P,b);I.enter().append("g"),I.exit().each(function(R){O[R]=null}).remove(),I.order().each(function(R){O[R]=w(k.select(this),"path","js-fill")})})}(a,d,l),x?(y&&(v=y()),k.transition().duration(c.duration).ease(c.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()}).each(function(){h.selectAll("g.trace").each(function(_,p){t(a,p,l,_,m,this,c)})})):d.each(function(_,p){t(a,p,l,_,m,this,c)}),g&&d.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(U,C,e){var k=e(43028);U.exports=function(A,o){var w,b,f,s,n=A.cd,i=A.xaxis,r=A.yaxis,t=[],a=n[0].trace;if(!k.hasMarkers(a)&&!k.hasText(a))return[];if(o===!1)for(w=0;w<n.length;w++)n[w].selected=0;else for(w=0;w<n.length;w++)b=n[w],f=i.c2p(b.x),s=r.c2p(b.y),b.i!==null&&o.contains([f,s],!1,w,A)?(t.push({pointNumber:b.i,x:i.c2d(b.x),y:r.c2d(b.y)}),b.selected=1):b.selected=0;return t}},43912:function(U){var C=["orientation","groupnorm","stackgaps"];U.exports=function(e,k,A,o){var w=A._scatterStackOpts,b=o("stackgroup");if(b){var f=k.xaxis+k.yaxis,s=w[f];s||(s=w[f]={});var n=s[b],i=!1;n?n.traces.push(k):(n=s[b]={traceIndices:[],traces:[k]},i=!0);for(var r={orientation:k.x&&!k.y?"h":"v"},t=0;t<C.length;t++){var a=C[t],l=a+"Found";if(!n[l]){var u=e[a]!==void 0,h=a==="orientation";if((u||i)&&(n[a]=o(a,r[a]),h&&(n.fillDflt=n[a]==="h"?"tonextx":"tonexty"),u&&(n[l]=!0,!i&&(delete n.traces[0][a],h))))for(var c=0;c<n.traces.length-1;c++){var y=n.traces[c];y._input.fill!==y.fill&&(y.fill=n.fillDflt)}}}return n}}},49224:function(U,C,e){var k=e(33428),A=e(43616),o=e(24040);function w(f,s,n){A.pointStyle(f.selectAll("path.point"),s,n)}function b(f,s,n){A.textPointStyle(f.selectAll("text"),s,n)}U.exports={style:function(f){var s=k.select(f).selectAll("g.trace.scatter");s.style("opacity",function(n){return n[0].trace.opacity}),s.selectAll("g.points").each(function(n){w(k.select(this),n.trace||n[0].trace,f)}),s.selectAll("g.text").each(function(n){b(k.select(this),n.trace||n[0].trace,f)}),s.selectAll("g.trace path.js-line").call(A.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(A.fillGroupStyle,f,!1),o.getComponentMethod("errorbars","style")(s)},stylePoints:w,styleText:b,styleOnSelect:function(f,s,n){var i=s[0].trace;i.selectedpoints?(A.selectedPointStyle(n.selectAll("path.point"),i),A.selectedTextStyle(n.selectAll("text"),i)):(w(n,i,f),b(n,i,f))}}},43028:function(U,C,e){var k=e(3400),A=e(38116).isTypedArraySpec;U.exports={hasLines:function(o){return o.visible&&o.mode&&o.mode.indexOf("lines")!==-1},hasMarkers:function(o){return o.visible&&(o.mode&&o.mode.indexOf("markers")!==-1||o.type==="splom")},hasText:function(o){return o.visible&&o.mode&&o.mode.indexOf("text")!==-1},isBubble:function(o){var w=o.marker;return k.isPlainObject(w)&&(k.isArrayOrTypedArray(w.size)||A(w.size))}}},124:function(U,C,e){var k=e(3400);U.exports=function(A,o,w,b,f){f=f||{},b("textposition"),k.coerceFont(b,"textfont",f.font||w.font,f),f.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(U,C,e){var k=e(3400),A=e(24040);U.exports=function(o,w,b,f){var s,n=f("x"),i=f("y");if(A.getComponentMethod("calendars","handleTraceDefaults")(o,w,["x","y"],b),n){var r=k.minRowLength(n);i?s=Math.min(r,k.minRowLength(i)):(s=r,f("y0"),f("dy"))}else{if(!i)return 0;s=k.minRowLength(i),f("x0"),f("dx")}return w._length=s,s}},91592:function(U,C,e){var k=e(52904),A=e(25376),o=e(49084),w=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(45464),n=e(99168),i=e(87792),r=e(92880).extendFlat,t=e(67824).overrideAll,a=e(95376),l=k.line,u=k.marker,h=u.line,c=r({width:l.width,dash:{valType:"enumerated",values:a(n),dflt:"solid"}},o("line")),y=U.exports=t({x:k.x,y:k.y,z:{valType:"data_array"},text:r({},k.text,{}),texttemplate:f({},{}),hovertext:r({},k.hovertext,{}),hovertemplate:b(),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),mode:r({},k.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:k.connectgaps,line:c,marker:r({symbol:{valType:"enumerated",values:a(i),dflt:"circle",arrayOk:!0},size:r({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:r({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:r({width:r({},h.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:r({},k.textposition,{dflt:"top center"}),textfont:A({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:s.opacity,hoverinfo:r({},s.hoverinfo)},"calc","nested");y.x.editType=y.y.editType=y.z.editType="calc+clearAxisTypes"},41484:function(U,C,e){var k=e(20148),A=e(90136);U.exports=function(o,w){var b=[{x:!1,y:!1,trace:w,t:{}}];return k(b,w),A(o,w),b}},45156:function(U,C,e){var k=e(24040);function A(o,w,b,f){if(!w||!w.visible)return null;for(var s=k.getComponentMethod("errorbars","makeComputeError")(w),n=new Array(o.length),i=0;i<o.length;i++){var r=s(+o[i],i);if(f.type==="log"){var t=f.c2l(o[i]),a=o[i]-r[0],l=o[i]+r[1];if(n[i]=[(f.c2l(a,!0)-t)*b,(f.c2l(l,!0)-t)*b],a>0){var u=f.c2l(a);f._lowerLogErrorBound||(f._lowerLogErrorBound=u),f._lowerErrorBound=Math.min(f._lowerLogErrorBound,u)}}else n[i]=[-r[0]*b,r[1]*b]}return n}U.exports=function(o,w,b){var f=[A(o.x,o.error_x,w[0],b.xaxis),A(o.y,o.error_y,w[1],b.yaxis),A(o.z,o.error_z,w[2],b.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(f);if(s===0)return null;for(var n=new Array(s),i=0;i<s;i++){for(var r=[[0,0,0],[0,0,0]],t=0;t<3;t++)if(f[t])for(var a=0;a<2;a++)r[a][t]=f[t][i][a];n[i]=r}return n}},41064:function(U,C,e){var k=e(67792).gl_line3d,A=e(67792).gl_scatter3d,o=e(67792).gl_error3d,w=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,f=e(3400),s=e(43080),n=e(33040).formatColor,i=e(7152),r=e(99168),t=e(87792),a=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function h(p,S){this.scene=p,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=h.prototype;function y(p){return p==null?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function d(p){return p==null?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function v(p,S){return S(4*p)}function g(p){return t[p]}function x(p,S,T,E,O){var P=null;if(f.isArrayOrTypedArray(p)){P=[];for(var I=0;I<S;I++)p[I]===void 0?P[I]=E:P[I]=T(p[I],O)}else P=T(p,f.identity);return P}function m(p){if(f.isArrayOrTypedArray(p)){var S=p[0];return f.isArrayOrTypedArray(S)&&(p=S),"rgb("+p.slice(0,3).map(function(T){return Math.round(255*T)})+")"}return null}function _(p){return f.isArrayOrTypedArray(p)?p.length===4&&typeof p[0]=="number"?m(p):p.map(m):null}c.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var S=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(f.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(p.textLabel=this.textLabels[S]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(p){var S,T,E,O,P=this.scene.glplot.gl,I=r.solid;this.data=p;var R=function(j,Z){var F,V,W,re,ne,te,Q=[],$=j.fullSceneLayout,K=j.dataScale,ae=$.xaxis,ue=$.yaxis,se=$.zaxis,he=Z.marker,pe=Z.line,de=Z.x||[],xe=Z.y||[],_e=Z.z||[],be=de.length,Le=Z.xcalendar,De=Z.ycalendar,ye=Z.zcalendar;for(ne=0;ne<be;ne++)F=ae.d2l(de[ne],0,Le)*K[0],V=ue.d2l(xe[ne],0,De)*K[1],W=se.d2l(_e[ne],0,ye)*K[2],Q[ne]=[F,V,W];if(Array.isArray(Z.text))te=Z.text;else if(f.isTypedArray(Z.text))te=Array.from(Z.text);else if(Z.text!==void 0)for(te=new Array(be),ne=0;ne<be;ne++)te[ne]=Z.text;function le(Ve,We){var Qe=$[Ve];return a.tickText(Qe,Qe.d2l(We),!0).text}var oe=Z.texttemplate;if(oe){var ve=j.fullLayout._d3locale,Ce=Array.isArray(oe),ke=Ce?Math.min(oe.length,be):be,Ae=Ce?function(Ve){return oe[Ve]}:function(){return oe};for(te=new Array(ke),ne=0;ne<ke;ne++){var Ee={x:de[ne],y:xe[ne],z:_e[ne]},ze={xLabel:le("xaxis",de[ne]),yLabel:le("yaxis",xe[ne]),zLabel:le("zaxis",_e[ne])},Fe={};l(Fe,Z,ne);var ge=Z._meta||{};te[ne]=f.texttemplateString(Ae(ne),ze,ve,Fe,Ee,ge)}}if(re={position:Q,mode:Z.mode,text:te},"line"in Z&&(re.lineColor=n(pe,1,be),re.lineWidth=pe.width,re.lineDashes=pe.dash),"marker"in Z){var Te=i(Z);re.scatterColor=n(he,1,be),re.scatterSize=x(he.size,be,v,20,Te),re.scatterMarker=x(he.symbol,be,g,"●"),re.scatterLineWidth=he.line.width,re.scatterLineColor=n(he.line,1,be),re.scatterAngle=0}"textposition"in Z&&(re.textOffset=function(Ve){var We=[0,0];if(Array.isArray(Ve))for(var Qe=0;Qe<Ve.length;Qe++)We[Qe]=[0,0],Ve[Qe]&&(We[Qe][0]=y(Ve[Qe]),We[Qe][1]=d(Ve[Qe]));else We[0]=y(Ve),We[1]=d(Ve);return We}(Z.textposition),re.textColor=n(Z.textfont,1,be),re.textSize=x(Z.textfont.size,be,f.identity,12),re.textFontFamily=Z.textfont.family,re.textFontWeight=Z.textfont.weight,re.textFontStyle=Z.textfont.style,re.textFontVariant=Z.textfont.variant,re.textAngle=0);var Se=["x","y","z"];for(re.project=[!1,!1,!1],re.projectScale=[1,1,1],re.projectOpacity=[1,1,1],ne=0;ne<3;++ne){var Re=Z.projection[Se[ne]];(re.project[ne]=Re.show)&&(re.projectOpacity[ne]=Re.opacity,re.projectScale[ne]=Re.scale)}re.errorBounds=u(Z,K,$);var Pe=function(Ve){for(var We=[0,0,0],Qe=[[0,0,0],[0,0,0],[0,0,0]],lt=[1,1,1],ut=0;ut<3;ut++){var xt=Ve[ut];xt&&xt.copy_zstyle!==!1&&Ve[2].visible!==!1&&(xt=Ve[2]),xt&&xt.visible&&(We[ut]=xt.width/2,Qe[ut]=s(xt.color),lt[ut]=xt.thickness)}return{capSize:We,color:Qe,lineWidth:lt}}([Z.error_x,Z.error_y,Z.error_z]);return re.errorColor=Pe.color,re.errorLineWidth=Pe.lineWidth,re.errorCapSize=Pe.capSize,re.delaunayAxis=Z.surfaceaxis,re.delaunayColor=s(Z.surfacecolor),re}(this.scene,p);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in r&&(I=r[R.lineDashes]),this.color=_(R.scatterColor)||_(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:p.opacity,connectGaps:p.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=k(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=p.opacity;if(p.marker&&p.marker.opacity!==void 0&&(H*=p.marker.opacity),T={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:H,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(T):(this.scatterPlot=A(T),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFontFamily,fontWeight:R.textFontWeight,fontStyle:R.textFontStyle,fontVariant:R.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=A(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:p.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=o(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var z=function(j,Z,F){var V,W=(F+1)%3,re=(F+2)%3,ne=[],te=[];for(V=0;V<j.length;++V){var Q=j[V];!isNaN(Q[W])&&isFinite(Q[W])&&!isNaN(Q[re])&&isFinite(Q[re])&&(ne.push([Q[W],Q[re]]),te.push(V))}var $=b(ne);for(V=0;V<$.length;++V)for(var K=$[V],ae=0;ae<K.length;++ae)K[ae]=te[K[ae]];return{positions:j,cells:$,meshColor:Z}}(R.position,R.delaunayColor,R.delaunayAxis);z.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=P,this.delaunayMesh=w(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},U.exports=function(p,S){var T=new h(p,S.uid);return T.update(S),T}},83484:function(U,C,e){var k=e(24040),A=e(3400),o=e(43028),w=e(74428),b=e(66828),f=e(124),s=e(91592);U.exports=function(n,i,r,t){function a(g,x){return A.coerce(n,i,s,g,x)}var l=function(g,x,m,_){var p=0,S=m("x"),T=m("y"),E=m("z");return k.getComponentMethod("calendars","handleTraceDefaults")(g,x,["x","y","z"],_),S&&T&&E&&(p=Math.min(S.length,T.length,E.length),x._length=x._xlength=x._ylength=x._zlength=p),p}(n,i,a,t);if(l){a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),a("mode"),o.hasMarkers(i)&&w(n,i,r,t,a,{noSelect:!0,noAngle:!0}),o.hasLines(i)&&(a("connectgaps"),b(n,i,r,t,a)),o.hasText(i)&&(a("texttemplate"),f(n,i,t,a,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(i.line||{}).color,h=(i.marker||{}).color;a("surfaceaxis")>=0&&a("surfacecolor",u||h);for(var c=["x","y","z"],y=0;y<3;++y){var d="projection."+c[y];a(d+".show")&&(a(d+".opacity"),a(d+".scale"))}var v=k.getComponentMethod("errorbars","supplyDefaults");v(n,i,u||h||r,{axis:"z"}),v(n,i,u||h||r,{axis:"y",inherit:"z"}),v(n,i,u||h||r,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(U,C,e){U.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(U,C,e){var k=e(98304),A=e(52904),o=e(45464),w=e(21776).Ks,b=e(21776).Gw,f=e(49084),s=e(92880).extendFlat,n=A.marker,i=A.line,r=n.line;U.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},A.mode,{dflt:"markers"}),text:s({},A.text,{}),texttemplate:b({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},A.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:s({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k(),marker:s({symbol:n.symbol,opacity:n.opacity,maxdisplayed:n.maxdisplayed,angle:n.angle,angleref:n.angleref,standoff:n.standoff,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,line:s({width:r.width,editType:"calc"},f("marker.line")),gradient:n.gradient,editType:"calc"},f("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:s({},o.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:w(),zorder:A.zorder}},48228:function(U,C,e){var k=e(38248),A=e(90136),o=e(20148),w=e(4500),b=e(16356).calcMarkerSize,f=e(50948);U.exports=function(s,n){var i=n._carpetTrace=f(s,n);if(i&&i.visible&&i.visible!=="legendonly"){var r;n.xaxis=i.xaxis,n.yaxis=i.yaxis;var t,a,l=n._length,u=new Array(l),h=!1;for(r=0;r<l;r++)if(t=n.a[r],a=n.b[r],k(t)&&k(a)){var c=i.ab2xy(+t,+a,!0),y=i.isVisible(+t,+a);y||(h=!0),u[r]={x:c[0],y:c[1],a:t,b:a,vis:y}}else u[r]={x:!1,y:!1};return n._needsCull=h,u[0].carpet=i,u[0].trace=n,b(n,l),A(s,n),o(u,n),w(u,n),u}}},6176:function(U,C,e){var k=e(3400),A=e(88200),o=e(43028),w=e(74428),b=e(66828),f=e(11731),s=e(124),n=e(70840),i=e(90372);U.exports=function(r,t,a,l){function u(v,g){return k.coerce(r,t,i,v,g)}u("carpet"),t.xaxis="x",t.yaxis="y";var h=u("a"),c=u("b"),y=Math.min(h.length,c.length);if(y){t._length=y,u("text"),u("texttemplate"),u("hovertext"),u("mode",y<A.PTS_LINESONLY?"lines+markers":"lines"),o.hasMarkers(t)&&w(r,t,a,l,u,{gradient:!0}),o.hasLines(t)&&(b(r,t,a,l,u,{backoff:!0}),f(r,t,u),u("connectgaps")),o.hasText(t)&&s(r,t,l,u);var d=[];(o.hasMarkers(t)||o.hasText(t))&&(u("marker.maxdisplayed"),d.push("points")),u("fill"),t.fill!=="none"&&(n(r,t,a,u),o.hasLines(t)||f(r,t,u)),t.fill!=="tonext"&&t.fill!=="toself"||d.push("fills"),u("hoveron",d.join("+")||"points")!=="fills"&&u("hovertemplate"),u("zorder"),k.coerceSelectionMarkerOpacity(t,u)}else t.visible=!1}},89307:function(U){U.exports=function(C,e,k,A,o){var w=A[o];return C.a=w.a,C.b=w.b,C.y=w.y,C}},52364:function(U){U.exports=function(C,e){var k={},A=e._carpet,o=A.ab2ij([C.a,C.b]),w=Math.floor(o[0]),b=o[0]-w,f=Math.floor(o[1]),s=o[1]-f,n=A.evalxy([],w,f,b,s);return k.yLabel=n[1].toFixed(3),k}},58960:function(U,C,e){var k=e(98723),A=e(3400).fillText;U.exports=function(o,w,b,f){var s=k(o,w,b,f);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0){var i=1-n.y0/o.ya._length,r=o.xa._length,t=r*i/2,a=r-t;return n.x0=Math.max(Math.min(n.x0,a),t),n.x1=Math.max(Math.min(n.x1,a),t),s}var l=n.cd[n.index];n.a=l.a,n.b=l.b,n.xLabelVal=void 0,n.yLabelVal=void 0;var u=n.trace,h=u._carpet,c=u._module.formatLabels(l,u);n.yLabel=c.yLabel,delete n.text;var y=[];if(!u.hovertemplate){var d=(l.hi||u.hoverinfo).split("+");d.indexOf("all")!==-1&&(d=["a","b","text"]),d.indexOf("a")!==-1&&v(h.aaxis,l.a),d.indexOf("b")!==-1&&v(h.baxis,l.b),y.push("y: "+n.yLabel),d.indexOf("text")!==-1&&A(l,u,y),n.extraText=y.join("<br>")}return s}function v(g,x){var m;m=g.labelprefix&&g.labelprefix.length>0?g.labelprefix.replace(/ = $/,""):g._hovertitle,y.push(m+": "+x.toFixed(3)+g.labelsuffix)}}},4184:function(U,C,e){U.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(U,C,e){var k=e(96504),A=e(54460),o=e(43616);U.exports=function(w,b,f,s){var n,i,r,t=f[0][0].carpet,a=A.getFromId(w,t.xaxis||"x"),l=A.getFromId(w,t.yaxis||"y"),u={xaxis:a,yaxis:l,plot:b.plot};for(n=0;n<f.length;n++)(i=f[n][0].trace)._xA=a,i._yA=l;for(k(w,u,f,s),n=0;n<f.length;n++)i=f[n][0].trace,r=s.selectAll("g.trace"+i.uid+" .js-line"),o.setClipUrl(r,f[n][0].carpet._clipPathId,w)}},6096:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(98304),w=e(52904),b=e(45464),f=e(49084),s=e(98192).u,n=e(92880).extendFlat,i=e(67824).overrideAll,r=w.marker,t=w.line,a=r.line;U.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:n({},w.mode,{dflt:"markers"}),text:n({},w.text,{}),texttemplate:A({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:n({},w.hovertext,{}),textfont:w.textfont,textposition:w.textposition,line:{color:t.color,width:t.width,dash:s},connectgaps:w.connectgaps,marker:n({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:n({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:n({width:a.width},f("marker.line")),gradient:r.gradient},f("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o(),selected:w.selected,unselected:w.unselected,hoverinfo:n({},b.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:k()},"calc","nested")},25212:function(U,C,e){var k=e(38248),A=e(39032).BADNUM,o=e(90136),w=e(20148),b=e(4500),f=e(3400).isArrayOrTypedArray,s=e(3400)._;function n(i){return i&&typeof i=="string"}U.exports=function(i,r){var t,a=f(r.locations),l=a?r.locations.length:r._length,u=new Array(l);t=r.geojson?function(g){return n(g)||k(g)}:n;for(var h=0;h<l;h++){var c=u[h]={};if(a){var y=r.locations[h];c.loc=t(y)?y:null}else{var d=r.lon[h],v=r.lat[h];k(d)&&k(v)?c.lonlat=[+d,+v]:c.lonlat=[A,A]}}return w(u,r),o(i,r),b(u,r),l&&(u[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),u}},86188:function(U,C,e){var k=e(3400),A=e(43028),o=e(74428),w=e(66828),b=e(124),f=e(70840),s=e(6096);U.exports=function(n,i,r,t){function a(v,g){return k.coerce(n,i,s,v,g)}var l,u=a("locations");if(u&&u.length){var h,c=a("geojson");(typeof c=="string"&&c!==""||k.isPlainObject(c))&&(h="geojson-id"),a("locationmode",h)==="geojson-id"&&a("featureidkey"),l=u.length}else{var y=a("lon")||[],d=a("lat")||[];l=Math.min(y.length,d.length)}l?(i._length=l,a("text"),a("hovertext"),a("hovertemplate"),a("mode"),A.hasMarkers(i)&&o(n,i,r,t,a,{gradient:!0}),A.hasLines(i)&&(w(n,i,r,t,a),a("connectgaps")),A.hasText(i)&&(a("texttemplate"),b(n,i,t,a)),a("fill"),i.fill!=="none"&&f(n,i,r,a),k.coerceSelectionMarkerOpacity(i,a)):i.visible=!1}},58544:function(U){U.exports=function(C,e,k,A,o){C.lon=e.lon,C.lat=e.lat,C.location=e.loc?e.loc:null;var w=A[o];return w.fIn&&w.fIn.properties&&(C.properties=w.fIn.properties),C}},56696:function(U,C,e){var k=e(54460);U.exports=function(A,o,w){var b={},f=w[o.geo]._subplot.mockAxis,s=A.lonlat;return b.lonLabel=k.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=k.tickText(f,f.c2l(s[1]),!0).text,b}},64292:function(U,C,e){var k=e(93024),A=e(39032).BADNUM,o=e(44928),w=e(3400).fillText,b=e(6096);U.exports=function(f,s,n){var i=f.cd,r=i[0].trace,t=f.xa,a=f.ya,l=f.subplot,u=l.projection.isLonLatOverEdges,h=l.project;if(k.getClosest(i,function(m){var _=m.lonlat;if(_[0]===A||u(_))return 1/0;var p=h(_),S=h([s,n]),T=Math.abs(p[0]-S[0]),E=Math.abs(p[1]-S[1]),O=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(T*T+E*E)-O,1-3/O)},f),f.index!==!1){var c=i[f.index],y=c.lonlat,d=[t.c2p(y),a.c2p(y)],v=c.mrc||1;f.x0=d[0]-v,f.x1=d[0]+v,f.y0=d[1]-v,f.y1=d[1]+v,f.loc=c.loc,f.lon=y[0],f.lat=y[1];var g={};g[r.geo]={_subplot:l};var x=r._module.formatLabels(c,r,g);return f.lonLabel=x.lonLabel,f.latLabel=x.latLabel,f.color=o(r,c),f.extraText=function(m,_,p,S){if(!m.hovertemplate){var T=_.hi||m.hoverinfo,E=T==="all"?b.hoverinfo.flags:T.split("+"),O=E.indexOf("location")!==-1&&Array.isArray(m.locations),P=E.indexOf("lon")!==-1,I=E.indexOf("lat")!==-1,R=E.indexOf("text")!==-1,H=[];return O?H.push(_.loc):P&&I?H.push("("+z(p.latLabel)+", "+z(p.lonLabel)+")"):P?H.push(S.lon+z(p.lonLabel)):I&&H.push(S.lat+z(p.latLabel)),R&&w(_,m,H),H.join("<br>")}function z(j){return j+"°"}}(r,c,f,i[0].t.labels),f.hovertemplate=r.hovertemplate,[f]}}},36952:function(U,C,e){U.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(U,C,e){var k=e(33428),A=e(3400),o=e(59972).getTopojsonFeatures,w=e(44808),b=e(27144),f=e(19280).findExtremes,s=e(39032).BADNUM,n=e(16356).calcMarkerSize,i=e(43028),r=e(25064);U.exports={calcGeoJSON:function(t,a){var l,u,h=t[0].trace,c=a[h.geo],y=c._subplot,d=h._length;if(A.isArrayOrTypedArray(h.locations)){var v=h.locationmode,g=v==="geojson-id"?b.extractTraceFeature(t):o(h,y.topojson);for(l=0;l<d;l++){u=t[l];var x=v==="geojson-id"?u.fOut:b.locationToFeature(v,u.loc,g);u.lonlat=x?x.properties.ct:[s,s]}}var m,_,p={padded:!0};if(c.fitbounds==="geojson"&&h.locationmode==="geojson-id"){var S=b.computeBbox(b.getTraceGeojson(h));m=[S[0],S[2]],_=[S[1],S[3]]}else{for(m=new Array(d),_=new Array(d),l=0;l<d;l++)u=t[l],m[l]=u.lonlat[0],_[l]=u.lonlat[1];p.ppad=n(h,d)}h._extremes.lon=f(c.lonaxis._ax,m,p),h._extremes.lat=f(c.lataxis._ax,_,p)},plot:function(t,a,l){var u=a.layers.frontplot.select(".scatterlayer"),h=A.makeTraceGroups(u,l,"trace scattergeo");function c(y,d){y.lonlat[0]===s&&k.select(d).remove()}h.selectAll("*").remove(),h.each(function(y){var d=k.select(this),v=y[0].trace;if(i.hasLines(v)||v.fill!=="none"){var g=w.calcTraceToLineCoords(y),x=v.fill!=="none"?w.makePolygon(g):w.makeLine(g);d.selectAll("path.js-line").data([{geojson:x,trace:v}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(v)&&d.selectAll("path.point").data(A.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(v)&&d.selectAll("g").data(A.identity).enter().append("g").append("text").each(function(m){c(m,this)}),r(t,y)})}}},8796:function(U,C,e){var k=e(43028),A=e(39032).BADNUM;U.exports=function(o,w){var b,f,s,n,i,r=o.cd,t=o.xaxis,a=o.yaxis,l=[],u=r[0].trace;if(!k.hasMarkers(u)&&!k.hasText(u))return[];if(w===!1)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++)(f=(b=r[i]).lonlat)[0]!==A&&(s=t.c2p(f),n=a.c2p(f),w.contains([s,n],null,i,o)?(l.push({pointNumber:i,lon:f[0],lat:f[1]}),b.selected=1):b.selected=0);return l}},25064:function(U,C,e){var k=e(33428),A=e(43616),o=e(76308),w=e(49224),b=w.stylePoints,f=w.styleText;U.exports=function(s,n){n&&function(i,r){var t=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),b(a,t,i),f(a,t,i),a.selectAll("path.js-line").style("fill","none").each(function(l){var u=k.select(this),h=l.trace,c=h.line||{};u.call(o.stroke,c.color).call(A.dashLine,c.dash||"",c.width||0),h.fill!=="none"&&u.call(o.fill,h.fillcolor)})}(s,n)}},2876:function(U,C,e){var k=e(45464),A=e(25376),o=e(98304),w=e(52904),b=e(29736).axisHoverFormat,f=e(49084),s=e(95376),n=e(92880).extendFlat,i=e(67824).overrideAll,r=e(67072).DASHES,t=w.line,a=w.marker,l=a.line,u=U.exports=i({x:w.x,x0:w.x0,dx:w.dx,y:w.y,y0:w.y0,dy:w.dy,xperiod:w.xperiod,yperiod:w.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:w.xperiodalignment,yperiodalignment:w.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),text:w.text,hovertext:w.hovertext,textposition:w.textposition,textfont:A({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:t.color,width:t.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(r),dflt:"solid"}},marker:n({},f("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:n({},f("marker.line"),{width:l.width})}),connectgaps:w.connectgaps,fill:n({},w.fill,{dflt:"none"}),fillcolor:o(),selected:{marker:w.selected.marker,textfont:w.selected.textfont},unselected:{marker:w.unselected.marker,textfont:w.unselected.textfont},opacity:k.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=w.hovertemplate,u.texttemplate=w.texttemplate},64628:function(U,C,e){var k=e(41272);U.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:k.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(U,C,e){var k=e(3108),A=e(3400),o=e(79811),w=e(19280).findExtremes,b=e(1220),f=e(16356),s=f.calcMarkerSize,n=f.calcAxisExpansion,i=f.setFirstScatter,r=e(90136),t=e(84236),a=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function h(c,y,d){var v=c._extremes[y._id],g=w(y,d._bnds,{padded:!0});v.min=v.min.concat(g.min),v.max=v.max.concat(g.max)}U.exports=function(c,y){var d,v=c._fullLayout,g=y._xA=o.getFromId(c,y.xaxis,"x"),x=y._yA=o.getFromId(c,y.yaxis,"y"),m=v._plots[y.xaxis+y.yaxis],_=y._length,p=_>=u,S=2*_,T={},E=g.makeCalcdata(y,"x"),O=x.makeCalcdata(y,"y"),P=b(y,g,"x",E),I=b(y,x,"y",O),R=P.vals,H=I.vals;y._x=R,y._y=H,y.xperiodalignment&&(y._origX=E,y._xStarts=P.starts,y._xEnds=P.ends),y.yperiodalignment&&(y._origY=O,y._yStarts=I.starts,y._yEnds=I.ends);var z=new Array(S),j=new Array(_);for(d=0;d<_;d++)z[2*d]=R[d]===l?NaN:R[d],z[2*d+1]=H[d]===l?NaN:H[d],j[d]=d;if(g.type==="log")for(d=0;d<S;d+=2)z[d]=g.c2l(z[d]);if(x.type==="log")for(d=1;d<S;d+=2)z[d]=x.c2l(z[d]);p&&g.type!=="log"&&x.type!=="log"?T.tree=k(z):T.ids=j,r(c,y);var Z,F=function(W,re,ne,te,Q,$){var K=t.style(W,ne);if(K.marker&&(K.marker.positions=te),K.line&&te.length>1&&A.extendFlat(K.line,t.linePositions(W,ne,te)),K.errorX||K.errorY){var ae=t.errorBarPositions(W,ne,te,Q,$);K.errorX&&A.extendFlat(K.errorX,ae.x),K.errorY&&A.extendFlat(K.errorY,ae.y)}return K.text&&(A.extendFlat(K.text,{positions:te},t.textPosition(W,ne,K.text,K.marker)),A.extendFlat(K.textSel,{positions:te},t.textPosition(W,ne,K.text,K.markerSel)),A.extendFlat(K.textUnsel,{positions:te},t.textPosition(W,ne,K.text,K.markerUnsel))),K}(c,0,y,z,R,H),V=a(c,m);return i(v,y),p?F.marker&&(Z=F.marker.sizeAvg||Math.max(F.marker.size,3)):Z=s(y,_),n(c,y,g,x,R,H,Z),F.errorX&&h(y,g,F.errorX),F.errorY&&h(y,x,F.errorY),F.fill&&!V.fill2d&&(V.fill2d=!0),F.marker&&!V.scatter2d&&(V.scatter2d=!0),F.line&&!V.line2d&&(V.line2d=!0),!F.errorX&&!F.errorY||V.error2d||(V.error2d=!0),F.text&&!V.glText&&(V.glText=!0),F.marker&&(F.marker.snap=_),V.lineOptions.push(F.line),V.errorXOptions.push(F.errorX),V.errorYOptions.push(F.errorY),V.fillOptions.push(F.fill),V.markerOptions.push(F.marker),V.markerSelectedOptions.push(F.markerSel),V.markerUnselectedOptions.push(F.markerUnsel),V.textOptions.push(F.text),V.textSelectedOptions.push(F.textSel),V.textUnselectedOptions.push(F.textUnsel),V.selectBatch.push([]),V.unselectBatch.push([]),T._scene=V,T.index=V.count,T.x=R,T.y=H,T.positions=z,V.count++,[{x:!1,y:!1,t:T,trace:y}]}},67072:function(U){U.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(U,C,e){var k=e(38248),A=e(20472),o=e(72160),w=e(24040),b=e(3400),f=b.isArrayOrTypedArray,s=e(43616),n=e(79811),i=e(33040).formatColor,r=e(43028),t=e(7152),a=e(80088),l=e(67072),u=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function y(P,I){var R,H=P._fullLayout,z=I._length,j=I.textfont,Z=I.textposition,F=f(Z)?Z:[Z],V=j.color,W=j.size,re=j.family,ne=j.weight,te=j.style,Q=j.variant,$={},K=P._context.plotGlPixelRatio,ae=I.texttemplate;if(ae){$.text=[];var ue=H._d3locale,se=Array.isArray(ae),he=se?Math.min(ae.length,z):z,pe=se?function(ye){return ae[ye]}:function(){return ae};for(R=0;R<he;R++){var de={i:R},xe=I._module.formatLabels(de,I,H),_e={};c(_e,I,R);var be=I._meta||{};$.text.push(b.texttemplateString(pe(R),xe,ue,_e,de,be))}}else f(I.text)&&I.text.length<z?$.text=I.text.slice():$.text=I.text;if(f($.text))for(R=$.text.length;R<z;R++)$.text[R]="";for($.opacity=I.opacity,$.font={},$.align=[],$.baseline=[],R=0;R<F.length;R++){var Le=F[R].split(/\s+/);switch(Le[1]){case"left":$.align.push("right");break;case"right":$.align.push("left");break;default:$.align.push(Le[1])}switch(Le[0]){case"top":$.baseline.push("bottom");break;case"bottom":$.baseline.push("top");break;default:$.baseline.push(Le[0])}}if(f(V))for($.color=new Array(z),R=0;R<z;R++)$.color[R]=V[R];else $.color=V;if(f(W)||Array.isArray(re)||f(ne)||Array.isArray(te)||Array.isArray(Q))for($.font=new Array(z),R=0;R<z;R++){var De=$.font[R]={};De.size=(b.isTypedArray(W)?W[R]:f(W)?k(W[R])?W[R]:0:W)*K,De.family=Array.isArray(re)?re[R]:re,De.weight=d(f(ne)?ne[R]:ne),De.style=Array.isArray(te)?te[R]:te,De.variant=Array.isArray(Q)?Q[R]:Q}else $.font={size:W*K,family:re,weight:d(ne),style:te,variant:Q};return $}function d(P){return P<=1e3?P>500?"bold":"normal":P}function v(P,I){var R,H,z=I._length,j=I.marker,Z={},F=f(j.symbol),V=f(j.angle),W=f(j.color),re=f(j.line.color),ne=f(j.opacity),te=f(j.size),Q=f(j.line.width);if(F||(H=a.isOpenSymbol(j.symbol)),F||W||re||ne||V){Z.symbols=new Array(z),Z.angles=new Array(z),Z.colors=new Array(z),Z.borderColors=new Array(z);var $=j.symbol,K=j.angle,ae=i(j,j.opacity,z),ue=i(j.line,j.opacity,z);if(!f(ue[0])){var se=ue;for(ue=Array(z),R=0;R<z;R++)ue[R]=se}if(!f(ae[0])){var he=ae;for(ae=Array(z),R=0;R<z;R++)ae[R]=he}if(!f($)){var pe=$;for($=Array(z),R=0;R<z;R++)$[R]=pe}if(!f(K)){var de=K;for(K=Array(z),R=0;R<z;R++)K[R]=de}for(Z.symbols=$,Z.angles=K,Z.colors=ae,Z.borderColors=ue,R=0;R<z;R++)F&&(H=a.isOpenSymbol(j.symbol[R])),H&&(ue[R]=ae[R].slice(),ae[R]=ae[R].slice(),ae[R][3]=0);for(Z.opacity=I.opacity,Z.markers=new Array(z),R=0;R<z;R++)Z.markers[R]=O({mx:Z.symbols[R],ma:Z.angles[R]},I)}else H?(Z.color=o(j.color,"uint8"),Z.color[3]=0,Z.borderColor=o(j.color,"uint8")):(Z.color=o(j.color,"uint8"),Z.borderColor=o(j.line.color,"uint8")),Z.opacity=I.opacity*j.opacity,Z.marker=O({mx:j.symbol,ma:j.angle},I);var xe,_e=t(I,1);if(te||Q){var be,Le=Z.sizes=new Array(z),De=Z.borderSizes=new Array(z),ye=0;if(te){for(R=0;R<z;R++)Le[R]=_e(j.size[R]),ye+=Le[R];be=ye/z}else for(xe=_e(j.size),R=0;R<z;R++)Le[R]=xe;if(Q)for(R=0;R<z;R++)De[R]=j.line.width[R];else for(xe=j.line.width,R=0;R<z;R++)De[R]=xe;Z.sizeAvg=be}else Z.size=_e(j&&j.size||10),Z.borderSizes=_e(j.line.width);return Z}function g(P,I,R){var H=I.marker,z={};return R&&(R.marker&&R.marker.symbol?z=v(0,b.extendFlat({},H,R.marker)):R.marker&&(R.marker.size&&(z.size=R.marker.size),R.marker.color&&(z.colors=R.marker.color),R.marker.opacity!==void 0&&(z.opacity=R.marker.opacity))),z}function x(P,I,R){var H={};if(!R)return H;if(R.textfont){var z={opacity:1,text:I.text,texttemplate:I.texttemplate,textposition:I.textposition,textfont:b.extendFlat({},I.textfont)};R.textfont&&b.extendFlat(z.textfont,R.textfont),H=y(P,z)}return H}function m(P,I,R){var H={capSize:2*I.width*R,lineWidth:I.thickness*R,color:I.color};return I.copy_ystyle&&(H=P.error_y),H}var _=l.SYMBOL_SDF_SIZE,p=l.SYMBOL_SIZE,S=l.SYMBOL_STROKE,T={},E=s.symbolFuncs[0](.05*p);function O(P,I){var R,H,z=P.mx;if(z==="circle")return null;var j=s.symbolNumber(z),Z=s.symbolFuncs[j%100],F=!!s.symbolNoDot[j%100],V=!!s.symbolNoFill[j%100],W=a.isDotSymbol(z);if(P.ma&&(z+="_"+P.ma),T[z])return T[z];var re=s.getMarkerAngle(P,I);return R=W&&!F?Z(1.1*p,re)+E:Z(p,re),H=A(R,{w:_,h:_,viewBox:[-p,-p,p,p],stroke:V?S:-S}),T[z]=H,H||null}U.exports={style:function(P,I){var R,H={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=P._context.plotGlPixelRatio;if(I.visible!==!0)return H;if(r.hasText(I)&&(H.text=y(P,I),H.textSel=x(P,I,I.selected),H.textUnsel=x(P,I,I.unselected)),r.hasMarkers(I)&&(H.marker=v(0,I),H.markerSel=g(0,I,I.selected),H.markerUnsel=g(0,I,I.unselected),!I.unselected&&f(I.marker.opacity))){var j=I.marker.opacity;for(H.markerUnsel.opacity=new Array(j.length),R=0;R<j.length;R++)H.markerUnsel.opacity[R]=u*j[R]}if(r.hasLines(I)){H.line={overlay:!0,thickness:I.line.width*z,color:I.line.color,opacity:I.opacity};var Z=(l.DASHES[I.line.dash]||[1]).slice();for(R=0;R<Z.length;++R)Z[R]*=I.line.width*z;H.line.dashes=Z}return I.error_x&&I.error_x.visible&&(H.errorX=m(I,I.error_x,z)),I.error_y&&I.error_y.visible&&(H.errorY=m(I,I.error_y,z)),I.fill&&I.fill!=="none"&&(H.fill={closed:!0,fill:I.fillcolor,thickness:0}),H},markerStyle:v,markerSelection:g,linePositions:function(P,I,R){var H,z,j=R.length,Z=j/2;if(r.hasLines(I)&&Z)if(I.line.shape==="hv"){for(H=[],z=0;z<Z-1;z++)isNaN(R[2*z])||isNaN(R[2*z+1])?H.push(NaN,NaN,NaN,NaN):(H.push(R[2*z],R[2*z+1]),isNaN(R[2*z+2])||isNaN(R[2*z+3])?H.push(NaN,NaN):H.push(R[2*z+2],R[2*z+1]));H.push(R[j-2],R[j-1])}else if(I.line.shape==="hvh"){for(H=[],z=0;z<Z-1;z++)if(isNaN(R[2*z])||isNaN(R[2*z+1])||isNaN(R[2*z+2])||isNaN(R[2*z+3]))isNaN(R[2*z])||isNaN(R[2*z+1])?H.push(NaN,NaN):H.push(R[2*z],R[2*z+1]),H.push(NaN,NaN);else{var F=(R[2*z]+R[2*z+2])/2;H.push(R[2*z],R[2*z+1],F,R[2*z+1],F,R[2*z+3])}H.push(R[j-2],R[j-1])}else if(I.line.shape==="vhv"){for(H=[],z=0;z<Z-1;z++)if(isNaN(R[2*z])||isNaN(R[2*z+1])||isNaN(R[2*z+2])||isNaN(R[2*z+3]))isNaN(R[2*z])||isNaN(R[2*z+1])?H.push(NaN,NaN):H.push(R[2*z],R[2*z+1]),H.push(NaN,NaN);else{var V=(R[2*z+1]+R[2*z+3])/2;H.push(R[2*z],R[2*z+1],R[2*z],V,R[2*z+2],V)}H.push(R[j-2],R[j-1])}else if(I.line.shape==="vh"){for(H=[],z=0;z<Z-1;z++)isNaN(R[2*z])||isNaN(R[2*z+1])?H.push(NaN,NaN,NaN,NaN):(H.push(R[2*z],R[2*z+1]),isNaN(R[2*z+2])||isNaN(R[2*z+3])?H.push(NaN,NaN):H.push(R[2*z],R[2*z+3]));H.push(R[j-2],R[j-1])}else H=R;var W=!1;for(z=0;z<H.length;z++)if(isNaN(H[z])){W=!0;break}var re=W||H.length>l.TOO_MANY_POINTS||r.hasMarkers(I)?"rect":"round";if(W&&I.connectgaps){var ne=H[0],te=H[1];for(z=0;z<H.length;z+=2)isNaN(H[z])||isNaN(H[z+1])?(H[z]=ne,H[z+1]=te):(ne=H[z],te=H[z+1])}return{join:re,positions:H}},errorBarPositions:function(P,I,R,H,z){var j=w.getComponentMethod("errorbars","makeComputeError"),Z=n.getFromId(P,I.xaxis,"x"),F=n.getFromId(P,I.yaxis,"y"),V=R.length/2,W={};function re(ne,te){var Q=te._id.charAt(0),$=I["error_"+Q];if($&&$.visible&&(te.type==="linear"||te.type==="log")){for(var K=j($),ae={x:0,y:1}[Q],ue={x:[0,1,2,3],y:[2,3,0,1]}[Q],se=new Float64Array(4*V),he=1/0,pe=-1/0,de=0,xe=0;de<V;de++,xe+=4){var _e=ne[de];if(k(_e)){var be=R[2*de+ae],Le=K(_e,de),De=Le[0],ye=Le[1];if(k(De)&&k(ye)){var le=_e-De,oe=_e+ye;se[xe+ue[0]]=be-te.c2l(le),se[xe+ue[1]]=te.c2l(oe)-be,se[xe+ue[2]]=0,se[xe+ue[3]]=0,he=Math.min(he,_e-De),pe=Math.max(pe,_e+ye)}}}W[Q]={positions:R,errors:se,_bnds:[he,pe]}}}return re(H,Z),re(z,F),W},textPosition:function(P,I,R,H){var z,j=I._length,Z={};if(r.hasMarkers(I)){var F=R.font,V=R.align,W=R.baseline;for(Z.offset=new Array(j),z=0;z<j;z++){var re=H.sizes?H.sizes[z]:H.size,ne=f(F)?F[z].size:F.size,te=f(V)?V.length>1?V[z]:V[0]:V,Q=f(W)?W.length>1?W[z]:W[0]:W,$=h[te],K=h[Q],ae=re?re/.8+1:0,ue=-K*ae-.5*K;Z.offset[z]=[$*ae/ne,ue/ne]}}return Z}}},80220:function(U,C,e){var k=e(3400),A=e(24040),o=e(80088),w=e(2876),b=e(88200),f=e(43028),s=e(43980),n=e(31147),i=e(74428),r=e(66828),t=e(70840),a=e(124);U.exports=function(l,u,h,c){function y(S,T){return k.coerce(l,u,w,S,T)}var d=!!l.marker&&o.isOpenSymbol(l.marker.symbol),v=f.isBubble(l),g=s(l,u,c,y);if(g){n(l,u,c,y),y("xhoverformat"),y("yhoverformat");var x=g<b.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("hovertemplate"),y("mode",x),f.hasMarkers(u)&&(i(l,u,h,c,y,{noAngleRef:!0,noStandOff:!0}),y("marker.line.width",d||v?1:0)),f.hasLines(u)&&(y("connectgaps"),r(l,u,h,c,y),y("line.shape")),f.hasText(u)&&(y("texttemplate"),a(l,u,c,y,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var m=(u.line||{}).color,_=(u.marker||{}).color;y("fill"),u.fill!=="none"&&t(l,u,h,y);var p=A.getComponentMethod("errorbars","supplyDefaults");p(l,u,m||_||h,{axis:"y"}),p(l,u,m||_||h,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(u,y)}else u.visible=!1}},26768:function(U,C,e){var k=e(3400),A=e(76308),o=e(13448).DESELECTDIM;U.exports={styleTextSelection:function(w){var b,f,s=w[0],n=s.trace,i=s.t,r=i._scene,t=i.index,a=r.selectBatch[t],l=r.unselectBatch[t],u=r.textOptions[t],h=r.textSelectedOptions[t]||{},c=r.textUnselectedOptions[t]||{},y=k.extendFlat({},u);if(a.length||l.length){var d=h.color,v=c.color,g=u.color,x=k.isArrayOrTypedArray(g);for(y.color=new Array(n._length),b=0;b<a.length;b++)f=a[b],y.color[f]=d||(x?g[f]:g);for(b=0;b<l.length;b++){f=l[b];var m=x?g[f]:g;y.color[f]=v||(d?m:A.addOpacity(m,o))}}r.glText[t].update(y)}}},99396:function(U,C,e){var k=e(76688);U.exports=function(A,o,w){var b=A.i;return"x"in A||(A.x=o._x[b]),"y"in A||(A.y=o._y[b]),k(A,o,w)}},80088:function(U,C,e){var k=e(67072);C.isOpenSymbol=function(A){return typeof A=="string"?k.OPEN_RE.test(A):A%200>100},C.isDotSymbol=function(A){return typeof A=="string"?k.DOT_RE.test(A):A>200}},41272:function(U,C,e){var k=e(24040),A=e(3400),o=e(44928);function w(b,f,s,n){var i=b.xa,r=b.ya,t=b.distance,a=b.dxy,l=b.index,u={pointNumber:l,x:f[l],y:s[l]};u.tx=A.isArrayOrTypedArray(n.text)?n.text[l]:n.text,u.htx=Array.isArray(n.hovertext)?n.hovertext[l]:n.hovertext,u.data=Array.isArray(n.customdata)?n.customdata[l]:n.customdata,u.tp=Array.isArray(n.textposition)?n.textposition[l]:n.textposition;var h=n.textfont;h&&(u.ts=A.isArrayOrTypedArray(h.size)?h.size[l]:h.size,u.tc=A.isArrayOrTypedArray(h.color)?h.color[l]:h.color,u.tf=Array.isArray(h.family)?h.family[l]:h.family,u.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,u.ty=Array.isArray(h.style)?h.style[l]:h.style,u.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var c=n.marker;c&&(u.ms=A.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=A.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=A.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=A.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=A.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var y=c&&c.line;y&&(u.mlc=Array.isArray(y.color)?y.color[l]:y.color,u.mlw=A.isArrayOrTypedArray(y.width)?y.width[l]:y.width);var d=c&&c.gradient;d&&d.type!=="none"&&(u.mgt=Array.isArray(d.type)?d.type[l]:d.type,u.mgc=Array.isArray(d.color)?d.color[l]:d.color);var v=i.c2p(u.x,!0),g=r.c2p(u.y,!0),x=u.mrc||1,m=n.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[l]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[l]:m.bordercolor,u.hts=A.isArrayOrTypedArray(m.font.size)?m.font.size[l]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[l]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[l]:m.font.family,u.hnl=A.isArrayOrTypedArray(m.namelength)?m.namelength[l]:m.namelength);var _=n.hoverinfo;_&&(u.hi=Array.isArray(_)?_[l]:_);var p=n.hovertemplate;p&&(u.ht=Array.isArray(p)?p[l]:p);var S={};S[b.index]=u;var T=n._origX,E=n._origY,O=A.extendFlat({},b,{color:o(n,u),x0:v-x,x1:v+x,xLabelVal:T?T[l]:u.x,y0:g-x,y1:g+x,yLabelVal:E?E[l]:u.y,cd:S,distance:t,spikeDistance:a,hovertemplate:u.ht});return u.htx?O.text=u.htx:u.tx?O.text=u.tx:n.text&&(O.text=n.text),A.fillText(u,n,O),k.getComponentMethod("errorbars","hoverInfo")(u,n,O),O}U.exports={hoverPoints:function(b,f,s,n){var i,r,t,a,l,u,h,c,y,d,v=b.cd,g=v[0].t,x=v[0].trace,m=b.xa,_=b.ya,p=g.x,S=g.y,T=m.c2p(f),E=_.c2p(s),O=b.distance;if(g.tree){var P=m.p2c(T-O),I=m.p2c(T+O),R=_.p2c(E-O),H=_.p2c(E+O);i=n==="x"?g.tree.range(Math.min(P,I),Math.min(_._rl[0],_._rl[1]),Math.max(P,I),Math.max(_._rl[0],_._rl[1])):g.tree.range(Math.min(P,I),Math.min(R,H),Math.max(P,I),Math.max(R,H))}else i=g.ids;var z=O;if(n==="x"){var j=!!x.xperiodalignment,Z=!!x.yperiodalignment;for(u=0;u<i.length;u++){if(a=p[r=i[u]],h=Math.abs(m.c2p(a)-T),j){var F=m.c2p(x._xStarts[r]),V=m.c2p(x._xEnds[r]);h=T>=Math.min(F,V)&&T<=Math.max(F,V)?0:1/0}if(h<z){if(z=h,l=S[r],c=_.c2p(l)-E,Z){var W=_.c2p(x._yStarts[r]),re=_.c2p(x._yEnds[r]);c=E>=Math.min(W,re)&&E<=Math.max(W,re)?0:1/0}d=Math.sqrt(h*h+c*c),t=i[u]}}}else for(u=i.length-1;u>-1;u--)a=p[r=i[u]],l=S[r],h=m.c2p(a)-T,c=_.c2p(l)-E,(y=Math.sqrt(h*h+c*c))<z&&(z=d=y,t=r);return b.index=t,b.distance=z,b.dxy=d,t===void 0?[b]:[w(b,p,S,x)]},calcHover:w}},38983:function(U,C,e){var k=e(64628);k.plot=e(89876),U.exports=k},89876:function(U,C,e){var k=e(38540),A=e(13472),o=e(24544),w=e(23352),b=e(3400),f=e(72760).selectMode,s=e(5048),n=e(43028),i=e(14328),r=e(26768).styleTextSelection,t={};function a(l,u,h,c){var y=l._size,d=l.width*c,v=l.height*c,g=y.l*c,x=y.b*c,m=y.r*c,_=y.t*c,p=y.w*c,S=y.h*c;return[g+u.domain[0]*p,x+h.domain[0]*S,d-m-(1-u.domain[1])*p,v-_-(1-h.domain[1])*S]}(U.exports=function(l,u,h){if(h.length){var c,y,d=l._fullLayout,v=u._scene,g=u.xaxis,x=u.yaxis;if(v)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],t)){var m=v.count,_=d._glcanvas.data()[0].regl;if(i(l,u,h),v.dirty){if(!v.line2d&&!v.error2d||v.scatter2d||v.fill2d||v.glText||_.clear({}),v.error2d===!0&&(v.error2d=o(_)),v.line2d===!0&&(v.line2d=A(_)),v.scatter2d===!0&&(v.scatter2d=k(_)),v.fill2d===!0&&(v.fill2d=A(_)),v.glText===!0)for(v.glText=new Array(m),c=0;c<m;c++)v.glText[c]=new w(_);if(v.glText){if(m>v.glText.length){var p=m-v.glText.length;for(c=0;c<p;c++)v.glText.push(new w(_))}else if(m<v.glText.length){var S=v.glText.length-m;v.glText.splice(m,S).forEach(function(ae){ae.destroy()})}for(c=0;c<m;c++)v.glText[c].update(v.textOptions[c])}if(v.line2d&&(v.line2d.update(v.lineOptions),v.lineOptions=v.lineOptions.map(function(ae){if(ae&&ae.positions){for(var ue=ae.positions,se=0;se<ue.length&&(isNaN(ue[se])||isNaN(ue[se+1]));)se+=2;for(var he=ue.length-2;he>se&&(isNaN(ue[he])||isNaN(ue[he+1]));)he-=2;ae.positions=ue.slice(se,he+2)}return ae}),v.line2d.update(v.lineOptions)),v.error2d){var T=(v.errorXOptions||[]).concat(v.errorYOptions||[]);v.error2d.update(T)}v.scatter2d&&v.scatter2d.update(v.markerOptions),v.fillOrder=b.repeat(null,m),v.fill2d&&(v.fillOptions=v.fillOptions.map(function(ae,ue){var se=h[ue];if(ae&&se&&se[0]&&se[0].trace){var he,pe,de=se[0],xe=de.trace,_e=de.t,be=v.lineOptions[ue],Le=[];xe._ownfill&&Le.push(ue),xe._nexttrace&&Le.push(ue+1),Le.length&&(v.fillOrder[ue]=Le);var De,ye,le=[],oe=be&&be.positions||_e.positions;if(xe.fill==="tozeroy"){for(De=0;De<oe.length&&isNaN(oe[De+1]);)De+=2;for(ye=oe.length-2;ye>De&&isNaN(oe[ye+1]);)ye-=2;oe[De+1]!==0&&(le=[oe[De],0]),le=le.concat(oe.slice(De,ye+2)),oe[ye+1]!==0&&(le=le.concat([oe[ye],0]))}else if(xe.fill==="tozerox"){for(De=0;De<oe.length&&isNaN(oe[De]);)De+=2;for(ye=oe.length-2;ye>De&&isNaN(oe[ye]);)ye-=2;oe[De]!==0&&(le=[0,oe[De+1]]),le=le.concat(oe.slice(De,ye+2)),oe[ye]!==0&&(le=le.concat([0,oe[ye+1]]))}else if(xe.fill==="toself"||xe.fill==="tonext"){for(le=[],he=0,ae.splitNull=!0,pe=0;pe<oe.length;pe+=2)(isNaN(oe[pe])||isNaN(oe[pe+1]))&&((le=le.concat(oe.slice(he,pe))).push(oe[he],oe[he+1]),le.push(null,null),he=pe+2);le=le.concat(oe.slice(he)),he&&le.push(oe[he],oe[he+1])}else{var ve=xe._nexttrace;if(ve){var Ce=v.lineOptions[ue+1];if(Ce){var ke=Ce.positions;if(xe.fill==="tonexty"){for(le=oe.slice(),ue=Math.floor(ke.length/2);ue--;){var Ae=ke[2*ue],Ee=ke[2*ue+1];isNaN(Ae)||isNaN(Ee)||le.push(Ae,Ee)}ae.fill=ve.fillcolor}}}}if(xe._prevtrace&&xe._prevtrace.fill==="tonext"){var ze=v.lineOptions[ue-1].positions,Fe=le.length/2,ge=[he=Fe];for(pe=0;pe<ze.length;pe+=2)(isNaN(ze[pe])||isNaN(ze[pe+1]))&&(ge.push(pe/2+Fe+1),he=pe+2);le=le.concat(ze),ae.hole=ge}return ae.fillmode=xe.fill,ae.opacity=xe.opacity,ae.positions=le,ae}}),v.fill2d.update(v.fillOptions))}var E=d.dragmode,O=f(E),P=d.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var I=h[c][0],R=I.trace,H=I.t,z=H.index,j=R._length,Z=H.x,F=H.y;if(R.selectedpoints||O||P){if(O||(O=!0),R.selectedpoints){var V=v.selectBatch[z]=b.selIndices2selPoints(R),W={};for(y=0;y<V.length;y++)W[V[y]]=1;var re=[];for(y=0;y<j;y++)W[y]||re.push(y);v.unselectBatch[z]=re}var ne=H.xpx=new Array(j),te=H.ypx=new Array(j);for(y=0;y<j;y++)ne[y]=g.c2p(Z[y]),te[y]=x.c2p(F[y])}else H.xpx=H.ypx=null}if(O){if(v.select2d||(v.select2d=k(d._glcanvas.data()[1].regl)),v.scatter2d){var Q=new Array(m);for(c=0;c<m;c++)Q[c]=v.selectBatch[c].length||v.unselectBatch[c].length?v.markerUnselectedOptions[c]:{};v.scatter2d.update(Q)}v.select2d&&(v.select2d.update(v.markerOptions),v.select2d.update(v.markerSelectedOptions)),v.glText&&h.forEach(function(ae){var ue=((ae||[])[0]||{}).trace||{};n.hasText(ue)&&r(ae)})}else v.scatter2d&&v.scatter2d.update(v.markerOptions);var $={viewport:a(d,g,x,l._context.plotGlPixelRatio),range:[(g._rl||g.range)[0],(x._rl||x.range)[0],(g._rl||g.range)[1],(x._rl||x.range)[1]]},K=b.repeat($,v.count);v.fill2d&&v.fill2d.update(K),v.line2d&&v.line2d.update(K),v.error2d&&v.error2d.update(K.concat(K)),v.scatter2d&&v.scatter2d.update(K),v.select2d&&v.select2d.update(K),v.glText&&v.glText.forEach(function(ae){ae.update($)})}else v.init()}}).reglPrecompiled=t},74588:function(U,C,e){var k=e(3400);U.exports=function(A,o){var w=o._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},f={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return o._scene||((w=o._scene={}).init=function(){k.extendFlat(w,f,b)},w.init(),w.update=function(s){var n=k.repeat(s,w.count);if(w.fill2d&&w.fill2d.update(n),w.scatter2d&&w.scatter2d.update(n),w.line2d&&w.line2d.update(n),w.error2d&&w.error2d.update(n.concat(n)),w.select2d&&w.select2d.update(n),w.glText)for(var i=0;i<w.count;i++)w.glText[i].update(s)},w.draw=function(){for(var s=w.count,n=w.fill2d,i=w.error2d,r=w.line2d,t=w.scatter2d,a=w.glText,l=w.select2d,u=w.selectBatch,h=w.unselectBatch,c=0;c<s;c++){if(n&&w.fillOrder[c]&&n.draw(w.fillOrder[c]),r&&w.lineOptions[c]&&r.draw(c),i&&(w.errorXOptions[c]&&i.draw(c),w.errorYOptions[c]&&i.draw(c+s)),t&&w.markerOptions[c])if(h[c].length){var y=k.repeat([],w.count);y[c]=h[c],t.draw(y)}else u[c].length||t.draw(c);a[c]&&w.textOptions[c]&&a[c].render()}l&&l.draw(u),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(s){s.destroy&&s.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,o._scene=null}),w.dirty||k.extendFlat(w,b),w}},73224:function(U,C,e){var k=e(43028),A=e(26768).styleTextSelection;U.exports=function(o,w){var b=o.cd,f=o.xaxis,s=o.yaxis,n=[],i=b[0].trace,r=b[0].t,t=i._length,a=r.x,l=r.y,u=r._scene,h=r.index;if(!u)return n;var c=k.hasText(i),y=k.hasMarkers(i),d=!y&&!c;if(i.visible!==!0||d)return n;var v=[],g=[];if(w!==!1&&!w.degenerate)for(var x=0;x<t;x++)w.contains([r.xpx[x],r.ypx[x]],!1,x,o)?(v.push(x),n.push({pointNumber:x,x:f.c2d(a[x]),y:s.c2d(l[x])})):g.push(x);if(y){var m=u.scatter2d;if(v.length||g.length){if(!u.selectBatch[h].length&&!u.unselectBatch[h].length){var _=new Array(u.count);_[h]=u.markerUnselectedOptions[h],m.update.apply(m,_)}}else{var p=new Array(u.count);p[h]=u.markerOptions[h],m.update.apply(m,p)}}return u.selectBatch[h]=v,u.unselectBatch[h]=g,c&&A(b),n}},31512:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(98304),w=e(6096),b=e(52904),f=e(5232),s=e(45464),n=e(49084),i=e(92880).extendFlat,r=e(67824).overrideAll,t=e(5232),a=w.line,l=w.marker;U.exports=r({lon:w.lon,lat:w.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},t.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},b.mode,{dflt:"markers"}),text:i({},b.text,{}),texttemplate:A({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},b.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:b.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},n("marker")),fill:w.fill,fillcolor:o(),textfont:f.layers.symbol.textfont,textposition:f.layers.symbol.textposition,below:{valType:"string"},selected:{marker:b.selected.marker},unselected:{marker:b.unselected.marker},hoverinfo:i({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:k()},"calc","nested")},79732:function(U){var C=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];U.exports={isSupportedFont:function(e){return C.indexOf(e)!==-1}}},59392:function(U,C,e){var k=e(38248),A=e(3400),o=e(39032).BADNUM,w=e(44808),b=e(8932),f=e(43616),s=e(7152),n=e(43028),i=e(79732).isSupportedFont,r=e(89032),t=e(10624).appendArrayPointValue,a=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;function u(g){return{type:g,geojson:w.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(g,x){return A.isArrayOrTypedArray(g)?x?function(m){return k(g[m])?+g[m]:0}:function(m){return g[m]}:g?function(){return g}:c}function c(){return""}function y(g){return g[0]===o}function d(g,x){var m;if(A.isArrayOrTypedArray(g)&&A.isArrayOrTypedArray(x)){m=["step",["get","point_count"],g[0]];for(var _=1;_<g.length;_++)m.push(x[_-1],g[_])}else m=g;return m}function v(g){var x=g.textfont,m=x.family,_=x.style,p=x.weight,S=m.split(" "),T=S[S.length-1]==="Italic";T&&S.pop(),T=T||_==="italic";var E=S.join(" ");return p==="bold"&&S.indexOf("Bold")===-1?E+=" Bold":p<=1e3&&(S[0]==="Metropolis"?(E="Metropolis",E+=p>850?" Black":p>750?" Extra Bold":p>650?" Bold":p>550?" Semi Bold":p>450?" Medium":p>350?" Regular":p>250?" Light":p>150?" Extra Light":" Thin"):S.slice(0,2).join(" ")==="Open Sans"?(E="Open Sans",E+=p>750?" Extrabold":p>650?" Bold":p>550?" Semibold":p>350?" Regular":" Light"):S.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(E="Klokantech Noto Sans",S[3]==="CJK"&&(E+=" CJK"),E+=p>500?" Bold":" Regular")),T&&(E+=" Italic"),E==="Open Sans Regular Italic"?E="Open Sans Italic":E==="Open Sans Regular Bold"?E="Open Sans Bold":E==="Open Sans Regular Bold Italic"?E="Open Sans Bold Italic":E==="Klokantech Noto Sans Regular Italic"&&(E="Klokantech Noto Sans Italic"),i(E)||(E=m),E.split(", ")}U.exports=function(g,x){var m,_=x[0].trace,p=_.visible===!0&&_._length!==0,S=_.fill!=="none",T=n.hasLines(_),E=n.hasMarkers(_),O=n.hasText(_),P=E&&_.marker.symbol==="circle",I=E&&_.marker.symbol!=="circle",R=_.cluster&&_.cluster.enabled,H=u("fill"),z=u("line"),j=u("circle"),Z=u("symbol"),F={fill:H,line:z,circle:j,symbol:Z};if(!p)return F;if((S||T)&&(m=w.calcTraceToLineCoords(x)),S&&(H.geojson=w.makePolygon(m),H.layout.visibility="visible",A.extendFlat(H.paint,{"fill-color":_.fillcolor})),T&&(z.geojson=w.makeLine(m),z.layout.visibility="visible",A.extendFlat(z.paint,{"line-width":_.line.width,"line-color":_.line.color,"line-opacity":_.opacity})),P){var V=function(ne){var te,Q,$,K,ae=ne[0].trace,ue=ae.marker,se=ae.selectedpoints,he=A.isArrayOrTypedArray(ue.color),pe=A.isArrayOrTypedArray(ue.size),de=A.isArrayOrTypedArray(ue.opacity);function xe(ve){return ae.opacity*ve}he&&(Q=b.hasColorscale(ae,"marker")?b.makeColorScaleFuncFromTrace(ue):A.identity),pe&&($=s(ae)),de&&(K=function(ve){return xe(k(ve)?+A.constrain(ve,0,1):0)});var _e,be,Le=[];for(te=0;te<ne.length;te++){var De=ne[te],ye=De.lonlat;if(!y(ye)){var le={};Q&&(le.mcc=De.mcc=Q(De.mc)),$&&(le.mrc=De.mrc=$(De.ms)),K&&(le.mo=K(De.mo)),se&&(le.selected=De.selected||0),Le.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:ye},properties:le})}}if(se)for(_e=f.makeSelectedPointStyleFns(ae),te=0;te<Le.length;te++){var oe=Le[te].properties;_e.selectedOpacityFn&&(oe.mo=xe(_e.selectedOpacityFn(oe))),_e.selectedColorFn&&(oe.mcc=_e.selectedColorFn(oe)),_e.selectedSizeFn&&(oe.mrc=_e.selectedSizeFn(oe))}return{geojson:{type:"FeatureCollection",features:Le},mcc:he||_e&&_e.selectedColorFn?{type:"identity",property:"mcc"}:ue.color,mrc:pe||_e&&_e.selectedSizeFn?{type:"identity",property:"mrc"}:(be=ue.size,be/2),mo:de||_e&&_e.selectedOpacityFn?{type:"identity",property:"mo"}:xe(ue.opacity)}}(x);j.geojson=V.geojson,j.layout.visibility="visible",R&&(j.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(_.cluster.color,_.cluster.step),"circle-radius":d(_.cluster.size,_.cluster.step),"circle-opacity":d(_.cluster.opacity,_.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":v(_),"text-size":12}}),A.extendFlat(j.paint,{"circle-color":V.mcc,"circle-radius":V.mrc,"circle-opacity":V.mo})}if(P&&R&&(j.filter=["!",["has","point_count"]]),(I||O)&&(Z.geojson=function(ne,te){for(var Q=te._fullLayout,$=ne[0].trace,K=$.marker||{},ae=K.symbol,ue=K.angle,se=ae!=="circle"?h(ae):c,he=ue!=="auto"?h(ue,!0):c,pe=n.hasText($)?h($.text):c,de=[],xe=0;xe<ne.length;xe++){var _e=ne[xe];if(!y(_e.lonlat)){var be,Le=$.texttemplate;if(Le){var De=Array.isArray(Le)?Le[xe]||"":Le,ye=$._module.formatLabels(_e,$,Q),le={};t(le,$,_e.i);var oe=$._meta||{};be=A.texttemplateString(De,ye,Q._d3locale,le,_e,oe)}else be=pe(xe);be&&(be=be.replace(a,"").replace(l,`
`)),de.push({type:"Feature",geometry:{type:"Point",coordinates:_e.lonlat},properties:{symbol:se(xe),angle:he(xe),text:be}})}}return{type:"FeatureCollection",features:de}}(x,g),A.extendFlat(Z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),I&&(A.extendFlat(Z.layout,{"icon-size":_.marker.size/10}),"angle"in _.marker&&_.marker.angle!=="auto"&&A.extendFlat(Z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),Z.layout["icon-allow-overlap"]=_.marker.allowoverlap,A.extendFlat(Z.paint,{"icon-opacity":_.opacity*_.marker.opacity,"icon-color":_.marker.color})),O)){var W=(_.marker||{}).size,re=r(_.textposition,W);A.extendFlat(Z.layout,{"text-size":_.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":v(_)}),A.extendFlat(Z.paint,{"text-color":_.textfont.color,"text-opacity":_.opacity})}return F}},15752:function(U,C,e){var k=e(3400),A=e(43028),o=e(74428),w=e(66828),b=e(124),f=e(70840),s=e(31512),n=e(79732).isSupportedFont;U.exports=function(i,r,t,a){function l(_,p){return k.coerce(i,r,s,_,p)}function u(_,p){return k.coerce2(i,r,s,_,p)}var h=function(_,p,S){var T=S("lon")||[],E=S("lat")||[],O=Math.min(T.length,E.length);return p._length=O,O}(0,r,l);if(h){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),A.hasMarkers(r)){o(i,r,t,a,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=r.marker;c.symbol!=="circle"&&(k.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),k.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}A.hasLines(r)&&(w(i,r,t,a,l,{noDash:!0}),l("connectgaps"));var y=u("cluster.maxzoom"),d=u("cluster.step"),v=u("cluster.color",r.marker&&r.marker.color||t),g=u("cluster.size"),x=u("cluster.opacity");if(l("cluster.enabled",y!==!1||d!==!1||v!==!1||g!==!1||x!==!1)||A.hasText(r)){var m=a.font.family;b(i,r,a,l,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:n(m)?m:"Open Sans Regular",weight:a.font.weight,style:a.font.style,size:a.font.size,color:a.font.color}})}l("fill"),r.fill!=="none"&&f(i,r,t,l),k.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},37920:function(U){U.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C}},11960:function(U,C,e){var k=e(54460);U.exports=function(A,o,w){var b={},f=w[o.subplot]._subplot.mockAxis,s=A.lonlat;return b.lonLabel=k.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=k.tickText(f,f.c2l(s[1]),!0).text,b}},63312:function(U,C,e){var k=e(93024),A=e(3400),o=e(44928),w=A.fillText,b=e(39032).BADNUM,f=e(47552).traceLayerPrefix;function s(n,i,r){if(!n.hovertemplate){var t=(i.hi||n.hoverinfo).split("+"),a=t.indexOf("all")!==-1,l=t.indexOf("lon")!==-1,u=t.indexOf("lat")!==-1,h=i.lonlat,c=[];return a||l&&u?c.push("("+y(h[1])+", "+y(h[0])+")"):l?c.push(r.lon+y(h[0])):u&&c.push(r.lat+y(h[1])),(a||t.indexOf("text")!==-1)&&w(i,n,c),c.join("<br>")}function y(d){return d+"°"}}U.exports={hoverPoints:function(n,i,r){var t=n.cd,a=t[0].trace,l=n.xa,u=n.ya,h=n.subplot,c=[],y=f+a.uid+"-circle",d=a.cluster&&a.cluster.enabled;if(d){var v=h.map.queryRenderedFeatures(null,{layers:[y]});c=v.map(function(I){return I.id})}var g=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),x=i-g;if(k.getClosest(t,function(I){var R=I.lonlat;if(R[0]===b||d&&c.indexOf(I.i+1)===-1)return 1/0;var H=A.modHalf(R[0],360),z=R[1],j=h.project([H,z]),Z=j.x-l.c2p([x,z]),F=j.y-u.c2p([H,r]),V=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(Z*Z+F*F)-V,1-3/V)},n),n.index!==!1){var m=t[n.index],_=m.lonlat,p=[A.modHalf(_[0],360)+g,_[1]],S=l.c2p(p),T=u.c2p(p),E=m.mrc||1;n.x0=S-E,n.x1=S+E,n.y0=T-E,n.y1=T+E;var O={};O[a.subplot]={_subplot:h};var P=a._module.formatLabels(m,a,O);return n.lonLabel=P.lonLabel,n.latLabel=P.latLabel,n.color=o(a,m),n.extraText=s(a,m,t[0].t.labels),n.hovertemplate=a.hovertemplate,[n]}},getExtraText:s}},11572:function(U,C,e){U.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(k,A){A&&A[0].trace._glTrace.update(A)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(U,C,e){var k=e(3400),A=e(59392),o=e(47552).traceLayerPrefix,w={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(s,n,i,r){this.type="scattermapbox",this.subplot=s,this.uid=n,this.clusterEnabled=i,this.isHidden=r,this.sourceIds={fill:"source-"+n+"-fill",line:"source-"+n+"-line",circle:"source-"+n+"-circle",symbol:"source-"+n+"-symbol",cluster:"source-"+n+"-circle",clusterCount:"source-"+n+"-circle"},this.layerIds={fill:o+n+"-fill",line:o+n+"-line",circle:o+n+"-circle",symbol:o+n+"-symbol",cluster:o+n+"-cluster",clusterCount:o+n+"-cluster-count"},this.below=null}var f=b.prototype;f.addSource=function(s,n,i){var r={type:"geojson",data:n.geojson};i&&i.enabled&&k.extendFlat(r,{cluster:!0,clusterMaxZoom:i.maxzoom});var t=this.subplot.map.getSource(this.sourceIds[s]);t?t.setData(n.geojson):this.subplot.map.addSource(this.sourceIds[s],r)},f.setSourceData=function(s,n){this.subplot.map.getSource(this.sourceIds[s]).setData(n.geojson)},f.addLayer=function(s,n,i){var r={type:n.type,id:this.layerIds[s],source:this.sourceIds[s],layout:n.layout,paint:n.paint};n.filter&&(r.filter=n.filter);for(var t,a=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===a){t=!0;break}t?(this.subplot.setOptions(a,"setLayoutProperty",r.layout),r.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",r.paint)):this.subplot.addLayer(r,i)},f.update=function(s){var n=s[0].trace,i=this.subplot,r=i.map,t=A(i.gd,s),a=i.belowLookup["trace-"+this.uid],l=!(!n.cluster||!n.cluster.enabled),u=!!this.clusterEnabled,h=this;function c(x){u?function(m){for(var _=w.cluster,p=_.length-1;p>=0;p--){var S=_[p];r.removeLayer(h.layerIds[S])}m||r.removeSource(h.sourceIds.circle)}(x):function(m){for(var _=w.nonCluster,p=_.length-1;p>=0;p--){var S=_[p];r.removeLayer(h.layerIds[S]),m||r.removeSource(h.sourceIds[S])}}(x)}function y(x){l?function(m){m||h.addSource("circle",t.circle,n.cluster);for(var _=w.cluster,p=0;p<_.length;p++){var S=_[p],T=t[S];h.addLayer(S,T,a)}}(x):function(m){for(var _=w.nonCluster,p=0;p<_.length;p++){var S=_[p],T=t[S];m||h.addSource(S,T),h.addLayer(S,T,a)}}(x)}function d(){for(var x=l?w.cluster:w.nonCluster,m=0;m<x.length;m++){var _=x[m],p=t[_];p&&(i.setOptions(h.layerIds[_],"setLayoutProperty",p.layout),p.layout.visibility==="visible"&&(_!=="cluster"&&h.setSourceData(_,p),i.setOptions(h.layerIds[_],"setPaintProperty",p.paint)))}}var v=this.isHidden,g=n.visible!==!0;g?v||c():v?g||y():u!==l?(c(),y()):(this.below!==a&&(c(!0),y(!0)),d()),this.clusterEnabled=l,this.isHidden=g,this.below=a,s[0].trace._glTrace=this},f.dispose=function(){for(var s=this.subplot.map,n=this.clusterEnabled?w.cluster:w.nonCluster,i=n.length-1;i>=0;i--){var r=n[i];s.removeLayer(this.layerIds[r]),s.removeSource(this.sourceIds[r])}},U.exports=function(s,n){var i,r,t,a=n[0].trace,l=a.cluster&&a.cluster.enabled,u=a.visible!==!0,h=new b(s,a.uid,l,u),c=A(s.gd,n),y=h.below=s.belowLookup["trace-"+a.uid];if(l)for(h.addSource("circle",c.circle,a.cluster),i=0;i<w.cluster.length;i++)t=c[r=w.cluster[i]],h.addLayer(r,t,y);else for(i=0;i<w.nonCluster.length;i++)t=c[r=w.nonCluster[i]],h.addSource(r,t,a.cluster),h.addLayer(r,t,y);return n[0].trace._glTrace=h,h}},404:function(U,C,e){var k=e(3400),A=e(43028),o=e(39032).BADNUM;U.exports=function(w,b){var f,s=w.cd,n=w.xaxis,i=w.yaxis,r=[],t=s[0].trace;if(!A.hasMarkers(t))return[];if(b===!1)for(f=0;f<s.length;f++)s[f].selected=0;else for(f=0;f<s.length;f++){var a=s[f],l=a.lonlat;if(l[0]!==o){var u=[k.modHalf(l[0],360),l[1]],h=[n.c2p(u),i.c2p(u)];b.contains(h,null,f,w)?(r.push({pointNumber:f,lon:l[0],lat:l[1]}),a.selected=1):a.selected=0}}return r}},8319:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(92880).extendFlat,w=e(98304),b=e(52904),f=e(45464),s=b.line;U.exports={mode:b.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:A({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:o({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:o({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:o({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:w(),hoverinfo:o({},f.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:b.hoveron,hovertemplate:k(),selected:b.selected,unselected:b.unselected}},58320:function(U,C,e){var k=e(38248),A=e(39032).BADNUM,o=e(54460),w=e(90136),b=e(20148),f=e(4500),s=e(16356).calcMarkerSize;U.exports=function(n,i){for(var r=n._fullLayout,t=i.subplot,a=r[t].radialaxis,l=r[t].angularaxis,u=a.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),c=i._length,y=new Array(c),d=0;d<c;d++){var v=u[d],g=h[d],x=y[d]={};k(v)&&k(g)?(x.r=v,x.theta=g):x.r=A}var m=s(i,c);return i._extremes.x=o.findExtremes(a,u,{ppad:m}),w(n,i),b(y,i),f(y,i),y}},85968:function(U,C,e){var k=e(3400),A=e(43028),o=e(74428),w=e(66828),b=e(11731),f=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(8319);function r(t,a,l,u){var h,c=u("r"),y=u("theta");if(k.isTypedArray(c)&&(a.r=c=Array.from(c)),k.isTypedArray(y)&&(a.theta=y=Array.from(y)),c)y?h=Math.min(c.length,y.length):(h=c.length,u("theta0"),u("dtheta"));else{if(!y)return 0;h=a.theta.length,u("r0"),u("dr")}return a._length=h,h}U.exports={handleRThetaDefaults:r,supplyDefaults:function(t,a,l,u){function h(d,v){return k.coerce(t,a,i,d,v)}var c=r(0,a,0,h);if(c){h("thetaunit"),h("mode",c<n?"lines+markers":"lines"),h("text"),h("hovertext"),a.hoveron!=="fills"&&h("hovertemplate"),A.hasMarkers(a)&&o(t,a,l,u,h,{gradient:!0}),A.hasLines(a)&&(w(t,a,l,u,h,{backoff:!0}),b(t,a,h),h("connectgaps")),A.hasText(a)&&(h("texttemplate"),f(t,a,u,h));var y=[];(A.hasMarkers(a)||A.hasText(a))&&(h("cliponaxis"),h("marker.maxdisplayed"),y.push("points")),h("fill"),a.fill!=="none"&&(s(t,a,l,h),A.hasLines(a)||b(t,a,h)),a.fill!=="tonext"&&a.fill!=="toself"||y.push("fills"),h("hoveron",y.join("+")||"points"),k.coerceSelectionMarkerOpacity(a,h)}else a.visible=!1}}},22852:function(U,C,e){var k=e(3400),A=e(54460);U.exports=function(o,w,b){var f,s,n={},i=b[w.subplot]._subplot;i?(f=i.radialAxis,s=i.angularAxis):(f=(i=b[w.subplot]).radialaxis,s=i.angularaxis);var r=f.c2l(o.r);n.rLabel=A.tickText(f,r,!0).text;var t=s.thetaunit==="degrees"?k.rad2deg(o.theta):o.theta;return n.thetaLabel=A.tickText(s,t,!0).text,n}},8504:function(U,C,e){var k=e(98723);function A(o,w,b,f){var s=b.radialAxis,n=b.angularAxis;s._hovertitle="r",n._hovertitle="θ";var i={};i[w.subplot]={_subplot:b};var r=w._module.formatLabels(o,w,i);f.rLabel=r.rLabel,f.thetaLabel=r.thetaLabel;var t=o.hi||w.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!w.hovertemplate){var u=t.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(s,f.rLabel),u.indexOf("theta")!==-1&&l(n,f.thetaLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}U.exports={hoverPoints:function(o,w,b,f){var s=k(o,w,b,f);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0)return s;var i=o.subplot,r=n.cd[n.index],t=n.trace;if(i.isPtInside(r))return n.xLabelVal=void 0,n.yLabelVal=void 0,A(r,t,i,n),n.hovertemplate=t.hovertemplate,s}},makeHoverPointText:A}},76924:function(U,C,e){U.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(U,C,e){var k=e(96504),A=e(39032).BADNUM;U.exports=function(o,w,b){for(var f=w.layers.frontplot.select("g.scatterlayer"),s=w.xaxis,n=w.yaxis,i={xaxis:s,yaxis:n,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},r=w.radialAxis,t=w.angularAxis,a=0;a<b.length;a++)for(var l=b[a],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=s,l[0].trace._yA=n);var h=l[u],c=h.r;if(c===A)h.x=h.y=A;else{var y=r.c2g(c),d=t.c2g(h.theta);h.x=y*Math.cos(d),h.y=y*Math.sin(d)}}k(o,i,b,f)}},24396:function(U,C,e){var k=e(8319),A=e(2876),o=e(21776).Gw;U.exports={mode:k.mode,r:k.r,theta:k.theta,r0:k.r0,dr:k.dr,theta0:k.theta0,dtheta:k.dtheta,thetaunit:k.thetaunit,text:k.text,texttemplate:o({editType:"plot"},{keys:["r","theta","text"]}),hovertext:k.hovertext,hovertemplate:k.hovertemplate,line:{color:A.line.color,width:A.line.width,dash:A.line.dash,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,fill:A.fill,fillcolor:A.fillcolor,textposition:A.textposition,textfont:A.textfont,hoverinfo:k.hoverinfo,selected:k.selected,unselected:k.unselected}},27160:function(U,C,e){U.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(U,C,e){var k=e(90136),A=e(16356).calcMarkerSize,o=e(84236),w=e(54460),b=e(67072).TOO_MANY_POINTS;U.exports=function(f,s){var n=f._fullLayout,i=s.subplot,r=n[i].radialaxis,t=n[i].angularaxis,a=s._r=r.makeCalcdata(s,"r"),l=s._theta=t.makeCalcdata(s,"theta"),u=s._length,h={};u<a.length&&(a=a.slice(0,u)),u<l.length&&(l=l.slice(0,u)),h.r=a,h.theta=l,k(f,s);var c,y=h.opts=o.style(f,s);return u<b?c=A(s,u):y.marker&&(c=2*(y.marker.sizeAvg||Math.max(y.marker.size,3))),s._extremes.x=w.findExtremes(r,a,{ppad:c}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(U,C,e){var k=e(3400),A=e(43028),o=e(85968).handleRThetaDefaults,w=e(74428),b=e(66828),f=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(24396);U.exports=function(r,t,a,l){function u(c,y){return k.coerce(r,t,i,c,y)}var h=o(r,t,l,u);h?(u("thetaunit"),u("mode",h<n?"lines+markers":"lines"),u("text"),u("hovertext"),t.hoveron!=="fills"&&u("hovertemplate"),A.hasMarkers(t)&&w(r,t,a,l,u,{noAngleRef:!0,noStandOff:!0}),A.hasLines(t)&&(b(r,t,a,l,u),u("connectgaps")),A.hasText(t)&&(u("texttemplate"),f(r,t,l,u,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),u("fill"),t.fill!=="none"&&s(r,t,a,u),k.coerceSelectionMarkerOpacity(t,u)):t.visible=!1}},94120:function(U,C,e){var k=e(22852);U.exports=function(A,o,w){var b=A.i;return"r"in A||(A.r=o._r[b]),"theta"in A||(A.theta=o._theta[b]),k(A,o,w)}},1600:function(U,C,e){var k=e(41272),A=e(8504).makeHoverPointText;U.exports={hoverPoints:function(o,w,b,f){var s=o.cd[0].t,n=s.r,i=s.theta,r=k.hoverPoints(o,w,b,f);if(r&&r[0].index!==!1){var t=r[0];if(t.index===void 0)return r;var a=o.subplot,l=t.cd[t.index],u=t.trace;if(l.r=n[t.index],l.theta=i[t.index],a.isPtInside(l))return t.xLabelVal=void 0,t.yLabelVal=void 0,A(l,u,a,t),r}}}},62944:function(U,C,e){var k=e(27160);k.plot=e(56512),U.exports=k},56512:function(U,C,e){var k=e(3108),A=e(38248),o=e(89876),w=e(74588),b=e(84236),f=e(3400),s=e(67072).TOO_MANY_POINTS;U.exports=function(n,i,r){if(r.length){var t=i.radialAxis,a=i.angularAxis,l=w(n,i);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var h,c=u[0],y=c.trace,d=c.t,v=y._length,g=d.r,x=d.theta,m=d.opts,_=g.slice(),p=x.slice();for(h=0;h<g.length;h++)i.isPtInside({r:g[h],theta:x[h]})||(_[h]=NaN,p[h]=NaN);var S=new Array(2*v),T=Array(v),E=Array(v);for(h=0;h<v;h++){var O,P,I=_[h];if(A(I)){var R=t.c2g(I),H=a.c2g(p[h],y.thetaunit);O=R*Math.cos(H),P=R*Math.sin(H)}else O=P=NaN;T[h]=S[2*h]=O,E[h]=S[2*h+1]=P}d.tree=k(S),m.marker&&v>=s&&(m.marker.cluster=d.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&f.extendFlat(m.line,b.linePositions(n,y,S)),m.text&&(f.extendFlat(m.text,{positions:S},b.textPosition(n,y,m.text,m.marker)),f.extendFlat(m.textSel,{positions:S},b.textPosition(n,y,m.text,m.markerSel)),f.extendFlat(m.textUnsel,{positions:S},b.textPosition(n,y,m.text,m.markerUnsel))),m.fill&&!l.fill2d&&(l.fill2d=!0),m.marker&&!l.scatter2d&&(l.scatter2d=!0),m.line&&!l.line2d&&(l.line2d=!0),m.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(m.line),l.fillOptions.push(m.fill),l.markerOptions.push(m.marker),l.markerSelectedOptions.push(m.markerSel),l.markerUnselectedOptions.push(m.markerUnsel),l.textOptions.push(m.text),l.textSelectedOptions.push(m.textSel),l.textUnselectedOptions.push(m.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),d.x=T,d.y=E,d.rawx=T,d.rawy=E,d.r=g,d.theta=x,d.positions=S,d._scene=l,d.index=l.count,l.count++}}),o(n,i,r)}},U.exports.reglPrecompiled={}},69496:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(92880).extendFlat,w=e(98304),b=e(52904),f=e(45464),s=b.line;U.exports={mode:b.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:A({editType:"plot"},{keys:["real","imag","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:o({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:o({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:o({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:w(),hoverinfo:o({},f.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:b.hoveron,hovertemplate:k(),selected:b.selected,unselected:b.unselected}},47507:function(U,C,e){var k=e(38248),A=e(39032).BADNUM,o=e(90136),w=e(20148),b=e(4500),f=e(16356).calcMarkerSize;U.exports=function(s,n){for(var i=s._fullLayout,r=n.subplot,t=i[r].realaxis,a=i[r].imaginaryaxis,l=t.makeCalcdata(n,"real"),u=a.makeCalcdata(n,"imag"),h=n._length,c=new Array(h),y=0;y<h;y++){var d=l[y],v=u[y],g=c[y]={};k(d)&&k(v)?(g.real=d,g.imag=v):g.real=A}return f(n,h),o(s,n),w(c,n),b(c,n),c}},76716:function(U,C,e){var k=e(3400),A=e(43028),o=e(74428),w=e(66828),b=e(11731),f=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(69496);U.exports=function(r,t,a,l){function u(y,d){return k.coerce(r,t,i,y,d)}var h=function(y,d,v,g){var x,m=g("real"),_=g("imag");return m&&_&&(x=Math.min(m.length,_.length)),k.isTypedArray(m)&&(d.real=m=Array.from(m)),k.isTypedArray(_)&&(d.imag=_=Array.from(_)),d._length=x,x}(0,t,0,u);if(h){u("mode",h<n?"lines+markers":"lines"),u("text"),u("hovertext"),t.hoveron!=="fills"&&u("hovertemplate"),A.hasMarkers(t)&&o(r,t,a,l,u,{gradient:!0}),A.hasLines(t)&&(w(r,t,a,l,u,{backoff:!0}),b(r,t,u),u("connectgaps")),A.hasText(t)&&(u("texttemplate"),f(r,t,l,u));var c=[];(A.hasMarkers(t)||A.hasText(t))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),t.fill!=="none"&&(s(r,t,a,u),A.hasLines(t)||b(r,t,u)),t.fill!=="tonext"&&t.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),k.coerceSelectionMarkerOpacity(t,u)}else t.visible=!1}},49504:function(U,C,e){var k=e(54460);U.exports=function(A,o,w){var b={},f=w[o.subplot]._subplot;return b.realLabel=k.tickText(f.radialAxis,A.real,!0).text,b.imagLabel=k.tickText(f.angularAxis,A.imag,!0).text,b}},25292:function(U,C,e){var k=e(98723);function A(o,w,b,f){var s=b.radialAxis,n=b.angularAxis;s._hovertitle="real",n._hovertitle="imag";var i={};i[w.subplot]={_subplot:b};var r=w._module.formatLabels(o,w,i);f.realLabel=r.realLabel,f.imagLabel=r.imagLabel;var t=o.hi||w.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!w.hovertemplate){var u=t.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(s,f.realLabel),u.indexOf("imag")!==-1&&l(n,f.imagLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}U.exports={hoverPoints:function(o,w,b,f){var s=k(o,w,b,f);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0)return s;var i=o.subplot,r=n.cd[n.index],t=n.trace;if(i.isPtInside(r))return n.xLabelVal=void 0,n.yLabelVal=void 0,A(r,t,i,n),n.hovertemplate=t.hovertemplate,s}},makeHoverPointText:A}},95443:function(U,C,e){U.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(U,C,e){var k=e(96504),A=e(39032).BADNUM,o=e(36416).smith;U.exports=function(w,b,f){for(var s=b.layers.frontplot.select("g.scatterlayer"),n=b.xaxis,i=b.yaxis,r={xaxis:n,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},t=0;t<f.length;t++)for(var a=f[t],l=0;l<a.length;l++){l===0&&(a[0].trace._xA=n,a[0].trace._yA=i);var u=a[l],h=u.real;if(h===A)u.x=u.y=A;else{var c=o([h,u.imag]);u.x=c[0],u.y=c[1]}}k(w,r,f,s)}},5896:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(98304),w=e(52904),b=e(45464),f=e(49084),s=e(98192).u,n=e(92880).extendFlat,i=w.marker,r=w.line,t=i.line;U.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:n({},w.mode,{dflt:"markers"}),text:n({},w.text,{}),texttemplate:A({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:n({},w.hovertext,{}),line:{color:r.color,width:r.width,dash:s,backoff:r.backoff,shape:n({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:w.connectgaps,cliponaxis:w.cliponaxis,fill:n({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o(),marker:n({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:n({width:t.width,editType:"calc"},f("marker.line")),gradient:i.gradient,editType:"calc"},f("marker")),textfont:w.textfont,textposition:w.textposition,selected:w.selected,unselected:w.unselected,hoverinfo:n({},b.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:w.hoveron,hovertemplate:k()}},34335:function(U,C,e){var k=e(38248),A=e(90136),o=e(20148),w=e(4500),b=e(16356).calcMarkerSize,f=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};U.exports=function(n,i){var r,t,a,l,u,h,c=n._fullLayout[i.subplot].sum,y=i.sum||c,d={a:i.a,b:i.b,c:i.c};for(r=0;r<f.length;r++)if(!d[a=f[r]]){for(u=d[s[a][0]],h=d[s[a][1]],l=new Array(u.length),t=0;t<u.length;t++)l[t]=y-u[t]-h[t];d[a]=l}var v,g,x,m,_,p,S=i._length,T=new Array(S);for(r=0;r<S;r++)v=d.a[r],g=d.b[r],x=d.c[r],k(v)&&k(g)&&k(x)?((m=c/((v=+v)+(g=+g)+(x=+x)))!=1&&(v*=m,g*=m,x*=m),p=v,_=x-g,T[r]={x:_,y:p,a:v,b:g,c:x}):T[r]={x:!1,y:!1};return b(i,S),A(n,i),o(T,i),w(T,i),T}},84256:function(U,C,e){var k=e(3400),A=e(88200),o=e(43028),w=e(74428),b=e(66828),f=e(11731),s=e(124),n=e(70840),i=e(5896);U.exports=function(r,t,a,l){function u(g,x){return k.coerce(r,t,i,g,x)}var h,c=u("a"),y=u("b"),d=u("c");if(c?(h=c.length,y?(h=Math.min(h,y.length),d&&(h=Math.min(h,d.length))):h=d?Math.min(h,d.length):0):y&&d&&(h=Math.min(y.length,d.length)),h){t._length=h,u("sum"),u("text"),u("hovertext"),t.hoveron!=="fills"&&u("hovertemplate"),u("mode",h<A.PTS_LINESONLY?"lines+markers":"lines"),o.hasMarkers(t)&&w(r,t,a,l,u,{gradient:!0}),o.hasLines(t)&&(b(r,t,a,l,u,{backoff:!0}),f(r,t,u),u("connectgaps")),o.hasText(t)&&(u("texttemplate"),s(r,t,l,u));var v=[];(o.hasMarkers(t)||o.hasText(t))&&(u("cliponaxis"),u("marker.maxdisplayed"),v.push("points")),u("fill"),t.fill!=="none"&&(n(r,t,a,u),o.hasLines(t)||f(r,t,u)),t.fill!=="tonext"&&t.fill!=="toself"||v.push("fills"),u("hoveron",v.join("+")||"points"),k.coerceSelectionMarkerOpacity(t,u)}else t.visible=!1}},97476:function(U){U.exports=function(C,e,k,A,o){if(e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),A[o]){var w=A[o];C.a=w.a,C.b=w.b,C.c=w.c}else C.a=e.a,C.b=e.b,C.c=e.c;return C}},90404:function(U,C,e){var k=e(54460);U.exports=function(A,o,w){var b={},f=w[o.subplot]._subplot;return b.aLabel=k.tickText(f.aaxis,A.a,!0).text,b.bLabel=k.tickText(f.baxis,A.b,!0).text,b.cLabel=k.tickText(f.caxis,A.c,!0).text,b}},26596:function(U,C,e){var k=e(98723);U.exports=function(A,o,w,b){var f=k(A,o,w,b);if(f&&f[0].index!==!1){var s=f[0];if(s.index===void 0){var n=1-s.y0/A.ya._length,i=A.xa._length,r=i*n/2,t=i-r;return s.x0=Math.max(Math.min(s.x0,t),r),s.x1=Math.max(Math.min(s.x1,t),r),f}var a=s.cd[s.index],l=s.trace,u=s.subplot;s.a=a.a,s.b=a.b,s.c=a.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:u};var c=l._module.formatLabels(a,l,h);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var y=a.hi||l.hoverinfo,d=[];if(!l.hovertemplate){var v=y.split("+");v.indexOf("all")!==-1&&(v=["a","b","c"]),v.indexOf("a")!==-1&&g(u.aaxis,s.aLabel),v.indexOf("b")!==-1&&g(u.baxis,s.bLabel),v.indexOf("c")!==-1&&g(u.caxis,s.cLabel)}return s.extraText=d.join("<br>"),s.hovertemplate=l.hovertemplate,f}function g(x,m){d.push(x._hovertitle+": "+m)}}},34864:function(U,C,e){U.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(U,C,e){var k=e(96504);U.exports=function(A,o,w){var b=o.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var f=o.xaxis,s=o.yaxis,n={xaxis:f,yaxis:s,plot:b,layerClipId:o._hasClipOnAxisFalse?o.clipIdRelative:null},i=o.layers.frontplot.select("g.scatterlayer"),r=0;r<w.length;r++){var t=w[r];t.length&&(t[0].trace._xA=f,t[0].trace._yA=s)}k(A,n,w,i)}},44524:function(U,C,e){var k=e(52904),A=e(49084),o=e(29736).axisHoverFormat,w=e(21776).Ks,b=e(2876),f=e(33816).idRegex,s=e(31780).templatedArray,n=e(92880).extendFlat,i=k.marker,r=i.line,t=n(A("marker.line",{editTypeOverride:"calc"}),{width:n({},r.width,{editType:"calc"}),editType:"calc"}),a=n(A("marker"),{symbol:i.symbol,angle:i.angle,size:n({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:t,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:f[u],editType:"plot"}}}a.color.editType=a.cmin.editType=a.cmax.editType="style",U.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:n({},b.text,{}),hovertext:n({},b.hovertext,{}),hovertemplate:w(),xhoverformat:o("x"),yhoverformat:o("y"),marker:a,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(U,C,e){var k=e(24040),A=e(12704);U.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},k.register(A)},99332:function(U,C,e){var k=e(13472),A=e(24040),o=e(5048),w=e(84888)._M,b=e(57952),f=e(79811).getFromId,s=e(54460).shouldShowZeroLine,n="splom",i={};function r(a,l,u){for(var h=u.matrixOptions.data.length,c=l._visibleDims,y=u.viewOpts.ranges=new Array(h),d=0;d<c.length;d++){var v=c[d],g=y[d]=new Array(4),x=f(a,l._diag[v][0]);x&&(g[0]=x.r2l(x.range[0]),g[2]=x.r2l(x.range[1]));var m=f(a,l._diag[v][1]);m&&(g[1]=m.r2l(m.range[0]),g[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:y},{ranges:y}):u.matrix.update({ranges:y})}function t(a){var l=a._fullLayout,u=l._glcanvas.data()[0].regl,h=l._splomGrid;h||(h=l._splomGrid=k(u)),h.update(function(c){var y,d=c._context.plotGlPixelRatio,v=c._fullLayout,g=v._size,x=[0,0,v.width*d,v.height*d],m={};function _(W,re,ne,te,Q,$){ne*=d,te*=d,Q*=d,$*=d;var K=re[W+"color"],ae=re[W+"width"],ue=String(K+ae);ue in m?m[ue].data.push(NaN,NaN,ne,te,Q,$):m[ue]={data:[ne,te,Q,$],join:"rect",thickness:ae*d,color:K,viewport:x,range:x,overlay:!1}}for(y in v._splomSubplots){var p,S,T=v._plots[y],E=T.xaxis,O=T.yaxis,P=E._gridVals,I=O._gridVals,R=E._offset,H=E._length,z=O._length,j=g.b+O.domain[0]*g.h,Z=-O._m,F=-Z*O.r2l(O.range[0],O.calendar);if(E.showgrid)for(y=0;y<P.length;y++)p=R+E.l2p(P[y].x),_("grid",E,p,j,p,j+z);if(O.showgrid)for(y=0;y<I.length;y++)_("grid",O,R,S=j+F+Z*I[y].x,R+H,S);s(c,E,O)&&(p=R+E.l2p(0),_("zeroline",E,p,j,p,j+z)),s(c,O,E)&&_("zeroline",O,R,S=j+F+0,R+H,S)}var V=[];for(y in m)V.push(m[y]);return V}(a))}U.exports={name:n,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(a){var l=a._fullLayout,u=A.getModule(n),h=w(a.calcdata,u)[0];o(a,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&t(a),u.plot(a,{},h))},drag:function(a){var l=a.calcdata,u=a._fullLayout;u._hasOnlyLargeSploms&&t(a);for(var h=0;h<l.length;h++){var c=l[h][0].trace,y=u._splomScenes[c.uid];c.type==="splom"&&y&&y.matrix&&r(a,c,y)}},updateGrid:t,clean:function(a,l,u,h){var c,y={};if(h._splomScenes){for(c=0;c<a.length;c++){var d=a[c];d.type==="splom"&&(y[d.uid]=1)}for(c=0;c<u.length;c++){var v=u[c];if(!y[v.uid]){var g=h._splomScenes[v.uid];g&&g.destroy&&g.destroy(),h._splomScenes[v.uid]=null,delete h._splomScenes[v.uid]}}}Object.keys(h._splomScenes||{}).length===0&&delete h._splomScenes,h._splomGrid&&!l._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),b.clean(a,l,u,h)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},66821:function(U,C,e){var k=e(3400),A=e(79811),o=e(16356).calcMarkerSize,w=e(16356).calcAxisExpansion,b=e(90136),f=e(84236).markerSelection,s=e(84236).markerStyle,n=e(72308),i=e(39032).BADNUM,r=e(67072).TOO_MANY_POINTS;U.exports=function(t,a){var l,u,h,c,y,d,v=a.dimensions,g=a._length,x={},m=x.cdata=[],_=x.data=[],p=a._visibleDims=[];function S(E,O){for(var P=E.makeCalcdata({v:O.values,vcalendar:a.calendar},"v"),I=0;I<P.length;I++)P[I]=P[I]===i?NaN:P[I];m.push(P),_.push(E.type==="log"?k.simpleMap(P,E.c2l):P)}for(l=0;l<v.length;l++)if((h=v[l]).visible){if(c=A.getFromId(t,a._diag[l][0]),y=A.getFromId(t,a._diag[l][1]),c&&y&&c.type!==y.type){k.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(S(c,h),y&&y.type==="category"&&(y._categories=c._categories.slice())):S(y,h),p.push(l)}for(b(t,a),k.extendFlat(x,s(t,a)),d=m.length*g>r?x.sizeAvg||Math.max(x.size,3):o(a,g),u=0;u<p.length;u++)h=v[l=p[u]],c=A.getFromId(t,a._diag[l][0])||{},y=A.getFromId(t,a._diag[l][1])||{},w(t,a,c,y,m[u],m[u],d);var T=n(t,a);return T.matrix||(T.matrix=!0),T.matrixOptions=x,T.selectedOptions=f(t,a,a.selected),T.unselectedOptions=f(t,a,a.unselected),[{x:!1,y:!1,t:{},trace:a}]}},69544:function(U,C,e){var k=e(3400),A=e(51272),o=e(44524),w=e(43028),b=e(74428),f=e(26284),s=e(80088).isOpenSymbol;function n(i,r){function t(l,u){return k.coerce(i,r,o.dimensions,l,u)}t("label");var a=t("values");a&&a.length?t("visible"):r.visible=!1,t("axis.type"),t("axis.matches")}U.exports=function(i,r,t,a){function l(g,x){return k.coerce(i,r,o,g,x)}var u=A(i,r,{name:"dimensions",handleItemDefaults:n}),h=l("diagonal.visible"),c=l("showupperhalf"),y=l("showlowerhalf");if(f(r,u,"values")&&(h||c||y)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(i,r,t,a,l,{noAngleRef:!0,noStandOff:!0});var d=s(r.marker.symbol),v=w.isBubble(r);l("marker.line.width",d||v?1:0),function(g,x,m,_){var p,S,T=x.dimensions,E=T.length,O=x.showupperhalf,P=x.showlowerhalf,I=x.diagonal.visible,R=new Array(E),H=new Array(E);for(p=0;p<E;p++){var z=p?p+1:"";R[p]="x"+z,H[p]="y"+z}var j=_("xaxes",R),Z=_("yaxes",H),F=x._diag=new Array(E);x._xaxes={},x._yaxes={};var V=[],W=[];function re(he,pe,de,xe){if(he){var _e=he.charAt(0),be=m._splomAxes[_e];if(x["_"+_e+"axes"][he]=1,xe.push(he),!(he in be)){var Le=be[he]={};de&&(Le.label=de.label||"",de.visible&&de.axis&&(de.axis.type&&(Le.type=de.axis.type),de.axis.matches&&(Le.matches=pe)))}}}var ne=!I&&!P,te=!I&&!O;for(x._axesDim={},p=0;p<E;p++){var Q=T[p],$=p===0,K=p===E-1,ae=$&&ne||K&&te?void 0:j[p],ue=$&&te||K&&ne?void 0:Z[p];re(ae,ue,Q,V),re(ue,ae,Q,W),F[p]=[ae,ue],x._axesDim[ae]=p,x._axesDim[ue]=p}for(p=0;p<V.length;p++)for(S=0;S<W.length;S++){var se=V[p]+W[S];p>S&&O||p<S&&P?m._splomSubplots[se]=1:p!==S||!I&&P&&O||(m._splomSubplots[se]=1)}(!P||!I&&O&&P)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,r,a,l),k.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},83156:function(U,C,e){var k=e(3400),A=e(90136),o=e(84236).markerStyle;U.exports=function(w,b){var f=b.trace,s=w._fullLayout._splomScenes[f.uid];if(s){A(w,f),k.extendFlat(s.matrixOptions,o(w,f));var n=k.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(n,null)}}},50328:function(U,C){C.getDimIndex=function(e,k){for(var A=k._id,o={x:0,y:1}[A.charAt(0)],w=e._visibleDims,b=0;b<w.length;b++){var f=w[b];if(e._diag[f][o]===A)return b}return!1}},72248:function(U,C,e){var k=e(50328),A=e(41272).calcHover,o=e(54460).getFromId,w=e(92880).extendFlat;function b(f,s,n,i){var r=f.cd[0].trace,t=f.scene.matrixOptions.cdata,a=f.xa,l=f.ya,u=a.c2p(s),h=l.c2p(n),c=f.distance,y=k.getDimIndex(r,a),d=k.getDimIndex(r,l);if(y===!1||d===!1)return[f];for(var v,g,x=t[y],m=t[d],_=c,p=0;p<x.length;p++)if(!i||p===f.index){var S=x[p],T=m[p],E=a.c2p(S)-u,O=l.c2p(T)-h,P=Math.sqrt(E*E+O*O);(i||P<_)&&(_=g=P,v=p)}return f.index=v,f.distance=_,f.dxy=g,v===void 0?[f]:[A(f,x,m,r)]}U.exports={hoverPoints:function(f,s,n,i,r){r||(r={});var t=(i||"").charAt(0)==="x",a=(i||"").charAt(0)==="y",l=b(f,s,n);if((t||a)&&r.hoversubplots==="axis"&&l[0])for(var u=(t?f.xa:f.ya)._subplotsWith,h=r.gd,c=w({},f),y=0;y<u.length;y++){var d=u[y];if(d!==f.xa._id+f.ya._id){a?c.xa=o(h,d,"x"):c.ya=o(h,d,"y");var v=b(c,s,n,t||a);l=l.concat(v)}}return l}}},97924:function(U,C,e){var k=e(28888);k.basePlotModule=e(99332),U.exports=k},54840:function(U,C,e){var k=e(55795),A=e(3400),o=e(79811),w=e(72760).selectMode;function b(f,s){var n,i,r,t,a,l=f._fullLayout,u=l._size,h=s.trace,c=s.t,y=l._splomScenes[h.uid],d=y.matrixOptions,v=d.cdata,g=l._glcanvas.data()[0].regl,x=l.dragmode;if(v.length!==0){d.lower=h.showupperhalf,d.upper=h.showlowerhalf,d.diagonal=h.diagonal.visible;var m=h._visibleDims,_=v.length,p=y.viewOpts={};for(p.ranges=new Array(_),p.domains=new Array(_),a=0;a<m.length;a++){r=m[a];var S=p.ranges[a]=new Array(4),T=p.domains[a]=new Array(4);(n=o.getFromId(f,h._diag[r][0]))&&(S[0]=n._rl[0],S[2]=n._rl[1],T[0]=n.domain[0],T[2]=n.domain[1]),(i=o.getFromId(f,h._diag[r][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],T[1]=i.domain[0],T[3]=i.domain[1])}var E=f._context.plotGlPixelRatio,O=u.l*E,P=u.b*E,I=u.w*E,R=u.h*E;p.viewport=[O,P,I+O,R+P],y.matrix===!0&&(y.matrix=k(g));var H=l.clickmode.indexOf("select")>-1,z=!0;if(w(x)||h.selectedpoints||H){var j=h._length;if(h.selectedpoints){y.selectBatch=h.selectedpoints;var Z=h.selectedpoints,F={};for(r=0;r<Z.length;r++)F[Z[r]]=!0;var V=[];for(r=0;r<j;r++)F[r]||V.push(r);y.unselectBatch=V}var W=c.xpx=new Array(_),re=c.ypx=new Array(_);for(a=0;a<m.length;a++){if(r=m[a],n=o.getFromId(f,h._diag[r][0]))for(W[a]=new Array(j),t=0;t<j;t++)W[a][t]=n.c2p(v[a][t]);if(i=o.getFromId(f,h._diag[r][1]))for(re[a]=new Array(j),t=0;t<j;t++)re[a][t]=i.c2p(v[a][t])}if(y.selectBatch.length||y.unselectBatch.length){var ne=A.extendFlat({},d,y.unselectedOptions,p),te=A.extendFlat({},d,y.selectedOptions,p);y.matrix.update(ne,te),z=!1}}else c.xpx=c.ypx=null;if(z){var Q=A.extendFlat({},d,p);y.matrix.update(Q,null)}}}U.exports=function(f,s,n){if(n.length)for(var i=0;i<n.length;i++)b(f,n[i][0])}},72308:function(U,C,e){var k=e(3400);U.exports=function(A,o){var w=A._fullLayout,b=o.uid,f=w._splomScenes;f||(f=w._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},n=f[o.uid];return n||((n=f[b]=k.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){n.matrix&&n.matrix.draw&&(n.selectBatch.length||n.unselectBatch.length?n.matrix.draw(n.unselectBatch,n.selectBatch):n.matrix.draw()),n.dirty=!1},n.destroy=function(){n.matrix&&n.matrix.destroy&&n.matrix.destroy(),n.matrixOptions=null,n.selectBatch=null,n.unselectBatch=null,n=null}),n.dirty||k.extendFlat(n,s),n}},62500:function(U,C,e){var k=e(3400),A=k.pushUnique,o=e(43028),w=e(50328);U.exports=function(b,f){var s=b.cd,n=s[0].trace,i=s[0].t,r=b.scene,t=r.matrixOptions.cdata,a=b.xaxis,l=b.yaxis,u=[];if(!r)return u;var h=!o.hasMarkers(n)&&!o.hasText(n);if(n.visible!==!0||h)return u;var c=w.getDimIndex(n,a),y=w.getDimIndex(n,l);if(c===!1||y===!1)return u;var d=i.xpx[c],v=i.ypx[y],g=t[c],x=t[y],m=(b.scene.selectBatch||[]).slice(),_=[];if(f!==!1&&!f.degenerate)for(var p=0;p<g.length;p++)f.contains([d[p],v[p]],null,p,b)?(u.push({pointNumber:p,x:g[p],y:x[p]}),A(m,p)):m.indexOf(p)!==-1?A(m,p):_.push(p);var S=r.matrixOptions;return m.length||_.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,k.extendFlat({},S,r.selectedOptions,r.viewOpts)):r.matrix.update(S,null),r.selectBatch=m,r.unselectBatch=_,u}},90167:function(U,C,e){var k=e(49084),A=e(29736).axisHoverFormat,o=e(21776).Ks,w=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:A("u",1),vhoverformat:A("v",1),whoverformat:A("w",1),xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,k("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){s[n]=w[n]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,U.exports=s},3832:function(U,C,e){var k=e(3400),A=e(47128);function o(f){var s,n,i,r,t,a,l,u,h,c,y,d,v=f._x,g=f._y,x=f._z,m=f._len,_=-1/0,p=1/0,S=-1/0,T=1/0,E=-1/0,O=1/0,P="";for(m&&(l=v[0],h=g[0],y=x[0]),m>1&&(u=v[m-1],c=g[m-1],d=x[m-1]),s=0;s<m;s++)_=Math.max(_,v[s]),p=Math.min(p,v[s]),S=Math.max(S,g[s]),T=Math.min(T,g[s]),E=Math.max(E,x[s]),O=Math.min(O,x[s]),r||v[s]===l||(r=!0,P+="x"),t||g[s]===h||(t=!0,P+="y"),a||x[s]===y||(a=!0,P+="z");r||(P+="x"),t||(P+="y"),a||(P+="z");var I=w(f._x),R=w(f._y),H=w(f._z);P=(P=(P=P.replace("x",(l>u?"-":"+")+"x")).replace("y",(h>c?"-":"+")+"y")).replace("z",(y>d?"-":"+")+"z");var z=function(){m=0,I=[],R=[],H=[]};(!m||m<I.length*R.length*H.length)&&z();var j=function(_e){return _e==="x"?v:_e==="y"?g:x},Z=function(_e){return _e==="x"?I:_e==="y"?R:H},F=function(_e){return _e[m-1]<_e[0]?-1:1},V=j(P[1]),W=j(P[3]),re=j(P[5]),ne=Z(P[1]).length,te=Z(P[3]).length,Q=Z(P[5]).length,$=!1,K=function(_e,be,Le){return ne*(te*_e+be)+Le},ae=F(j(P[1])),ue=F(j(P[3])),se=F(j(P[5]));for(s=0;s<Q-1;s++){for(n=0;n<te-1;n++){for(i=0;i<ne-1;i++){var he=K(s,n,i),pe=K(s,n,i+1),de=K(s,n+1,i),xe=K(s+1,n,i);if(V[he]*ae<V[pe]*ae&&W[he]*ue<W[de]*ue&&re[he]*se<re[xe]*se||($=!0),$)break}if($)break}if($)break}return $&&(k.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:p,yMin:T,zMin:O,xMax:_,yMax:S,zMax:E,Xs:I,Ys:R,Zs:H,len:m,fill:P}}function w(f){return k.distinctVals(f).vals}function b(f,s){if(s===void 0&&(s=f.length),k.isTypedArray(f))return f.subarray(0,s);for(var n=[],i=0;i<s;i++)n[i]=+f[i];return n}U.exports={calc:function(f,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=b(s.u,s._len),s._v=b(s.v,s._len),s._w=b(s.w,s._len),s._x=b(s.x,s._len),s._y=b(s.y,s._len),s._z=b(s.z,s._len);var n=o(s);s._gridFill=n.fill,s._Xs=n.Xs,s._Ys=n.Ys,s._Zs=n.Zs,s._len=n.len;var i,r,t,a=0;s.starts&&(i=b(s.starts.x||[]),r=b(s.starts.y||[]),t=b(s.starts.z||[]),a=Math.min(i.length,r.length,t.length)),s._startsX=i||[],s._startsY=r||[],s._startsZ=t||[];var l,u=0,h=1/0;for(l=0;l<s._len;l++){var c=s._u[l],y=s._v[l],d=s._w[l],v=Math.sqrt(c*c+y*y+d*d);u=Math.max(u,v),h=Math.min(h,v)}for(A(f,s,{vals:[h,u],containerStr:"",cLetter:"c"}),l=0;l<a;l++){var g=i[l];n.xMax=Math.max(n.xMax,g),n.xMin=Math.min(n.xMin,g);var x=r[l];n.yMax=Math.max(n.yMax,x),n.yMin=Math.min(n.yMin,x);var m=t[l];n.zMax=Math.max(n.zMax,m),n.zMin=Math.min(n.zMin,m)}s._slen=a,s._normMax=u,s._xbnds=[n.xMin,n.xMax],s._ybnds=[n.yMin,n.yMax],s._zbnds=[n.zMin,n.zMax]},filter:b,processGrid:o}},25668:function(U,C,e){var k=e(67792).gl_streamtube3d,A=k.createTubeMesh,o=e(3400),w=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function n(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=n.prototype;function r(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function t(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function a(l,u){var h=l.fullSceneLayout,c=l.dataScale,y=u._len,d={};function v(ne,te){var Q=h[te],$=c[s[te]];return o.simpleMap(ne,function(K){return Q.d2l(K)*$})}if(d.vectors=f(v(u._u,"xaxis"),v(u._v,"yaxis"),v(u._w,"zaxis"),y),!y)return{positions:[],cells:[]};var g=v(u._Xs,"xaxis"),x=v(u._Ys,"yaxis"),m=v(u._Zs,"zaxis");if(d.meshgrid=[g,x,m],d.gridFill=u._gridFill,u._slen)d.startingPositions=f(v(u._startsX,"xaxis"),v(u._startsY,"yaxis"),v(u._startsZ,"zaxis"));else{for(var _=x[0],p=r(g),S=r(m),T=new Array(p.length*S.length),E=0,O=0;O<p.length;O++)for(var P=0;P<S.length;P++)T[E++]=[p[O],_,S[P]];d.startingPositions=T}d.colormap=w(u),d.tubeSize=u.sizeref,d.maxLength=u.maxdisplayed;var I=v(u._xbnds,"xaxis"),R=v(u._ybnds,"yaxis"),H=v(u._zbnds,"zaxis"),z=t(g),j=t(x),Z=t(m),F=[[I[0]-z[0],R[0]-j[0],H[0]-Z[0]],[I[1]+z[1],R[1]+j[1],H[1]+Z[1]]],V=k(d,F),W=b(u);V.vertexIntensityBounds=[W.min/u._normMax,W.max/u._normMax];var re=u.lightposition;return V.lightPosition=[re.x,re.y,re.z],V.ambient=u.lighting.ambient,V.diffuse=u.lighting.diffuse,V.specular=u.lighting.specular,V.roughness=u.lighting.roughness,V.fresnel=u.lighting.fresnel,V.opacity=u.opacity,u._pad=V.tubeScale*u.sizeref*2,V}i.handlePick=function(l){var u=this.scene.fullSceneLayout,h=this.scene.dataScale;function c(v,g){var x=u[g],m=h[s[g]];return x.l2c(v)/m}if(l.object===this.mesh){var y=l.data.position,d=l.data.velocity;return l.traceCoordinate=[c(y[0],"xaxis"),c(y[1],"yaxis"),c(y[2],"zaxis"),c(d[0],"xaxis"),c(d[1],"yaxis"),c(d[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=a(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(l,u){var h=l.glplot.gl,c=a(l,u),y=A(h,c),d=new n(l,u.uid);return d.mesh=y,d.data=u,y._trace=d,l.glplot.add(y),d}},54304:function(U,C,e){var k=e(3400),A=e(27260),o=e(90167);U.exports=function(w,b,f,s){function n(h,c){return k.coerce(w,b,o,h,c)}var i=n("u"),r=n("v"),t=n("w"),a=n("x"),l=n("y"),u=n("z");i&&i.length&&r&&r.length&&t&&t.length&&a&&a.length&&l&&l.length&&u&&u.length?(n("starts.x"),n("starts.y"),n("starts.z"),n("maxdisplayed"),n("sizeref"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),A(w,b,s,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),b._length=null):b.visible=!1}},15436:function(U,C,e){U.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(k,A){return k.tubex=k.x,k.tubey=k.y,k.tubez=k.z,k.tubeu=A.traceCoordinate[3],k.tubev=A.traceCoordinate[4],k.tubew=A.traceCoordinate[5],k.norm=A.traceCoordinate[6],k.divergence=A.traceCoordinate[7],delete k.x,delete k.y,delete k.z,k},meta:{}}},424:function(U,C,e){var k=e(45464),A=e(21776).Ks,o=e(21776).Gw,w=e(49084),b=e(86968).u,f=e(74996),s=e(27328),n=e(92880).extendFlat,i=e(98192).c;U.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:n({colors:{valType:"data_array",editType:"calc"},line:{color:n({},f.marker.line.color,{dflt:null}),width:n({},f.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},w("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:f.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:o({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:f.hovertext,hoverinfo:n({},k.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:A({},{keys:s.eventDataKeys}),textfont:f.textfont,insidetextorientation:f.insidetextorientation,insidetextfont:f.insidetextfont,outsidetextfont:n({},f.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:f.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(U,C,e){var k=e(7316);C.name="sunburst",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},3776:function(U,C,e){var k=e(74148),A=e(38248),o=e(3400),w=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,f=e(45768).generateExtendedColors,s=e(8932).calc,n=e(39032).ALMOST_EQUAL,i={},r={},t={};function a(l,u,h){var c=0,y=l.children;if(y){for(var d=y.length,v=0;v<d;v++)c+=a(y[v],u,h);h.branches&&c++}else h.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}C.calc=function(l,u){var h,c,y,d,v,g,x=l._fullLayout,m=u.ids,_=o.isArrayOrTypedArray(m),p=u.labels,S=u.parents,T=u.values,E=o.isArrayOrTypedArray(T),O=[],P={},I={},R=function(se){return se||typeof se=="number"},H=function(se){return!E||A(T[se])&&T[se]>=0};_?(h=Math.min(m.length,S.length),c=function(se){return R(m[se])&&H(se)},y=function(se){return String(m[se])}):(h=Math.min(p.length,S.length),c=function(se){return R(p[se])&&H(se)},y=function(se){return String(p[se])}),E&&(h=Math.min(h,T.length));for(var z=0;z<h;z++)if(c(z)){var j=y(z),Z=R(S[z])?String(S[z]):"",F={i:z,id:j,pid:Z,label:R(p[z])?String(p[z]):""};E&&(F.v=+T[z]),O.push(F),v=j,P[d=Z]?P[d].push(v):P[d]=[v],I[v]=1}if(P[""]){if(P[""].length>1){for(var V=o.randstr(),W=0;W<O.length;W++)O[W].pid===""&&(O[W].pid=V);O.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var re,ne=[];for(re in P)I[re]||ne.push(re);if(ne.length!==1)return o.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",ne.join(", ")].join(" "));re=ne[0],O.unshift({hasImpliedRoot:!0,id:re,pid:"",label:re})}try{g=k.stratify().id(function(se){return se.id}).parentId(function(se){return se.pid})(O)}catch(se){return o.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",se.message].join(" "))}var te=k.hierarchy(g),Q=!1;if(E)switch(u.branchvalues){case"remainder":te.sum(function(se){return se.data.v});break;case"total":te.each(function(se){var he=se.data.data,pe=he.v;if(se.children){var de=se.children.reduce(function(xe,_e){return xe+_e.data.data.v},0);if((he.hasImpliedRoot||he.hasMultipleRoots)&&(pe=de),pe<de*n)return Q=!0,o.warn(["Total value for node",se.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,de].join(" "))}se.value=pe})}else a(te,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!Q){var $,K;u.sort&&te.sort(function(se,he){return he.value-se.value});var ae=u.marker.colors||[],ue=!!ae.length;return u._hasColorscale?(ue||(ae=E?u.values:u._values),s(l,u,{vals:ae,containerStr:"marker",cLetter:"c"}),K=w(u.marker)):$=b(x["_"+u.type+"colormap"]),te.each(function(se){var he=se.data.data;he.color=u._hasColorscale?K(ae[he.i]):$(ae[he.i],he.id)}),O[0].hierarchy=te,O}},C._runCrossTraceCalc=function(l,u){var h=u._fullLayout,c=u.calcdata,y=h[l+"colorway"],d=h["_"+l+"colormap"];h["extend"+l+"colors"]&&(y=f(y,l==="icicle"?t:l==="treemap"?r:i));var v,g=0;function x(p){var S=p.data.data,T=S.id;S.color===!1&&(d[T]?S.color=d[T]:p.parent?p.parent.parent?S.color=p.parent.data.data.color:(d[T]=S.color=y[g%y.length],g++):S.color=v)}for(var m=0;m<c.length;m++){var _=c[m][0];_.trace.type===l&&_.hierarchy&&(v=_.trace.root.color,_.hierarchy.each(x))}},C.crossTraceCalc=function(l){return C._runCrossTraceCalc("sunburst",l)}},27328:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(U,C,e){var k=e(3400),A=e(424),o=e(86968).Q,w=e(31508).handleText,b=e(74174).handleMarkerDefaults,f=e(8932),s=f.hasColorscale,n=f.handleDefaults;U.exports=function(i,r,t,a){function l(v,g){return k.coerce(i,r,A,v,g)}var u=l("labels"),h=l("parents");if(u&&u.length&&h&&h.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(i,r,a,l);var y=r._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;y&&n(i,r,a,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",y?1:.7);var d=l("text");l("texttemplate"),r.texttemplate||l("textinfo",k.isArrayOrTypedArray(d)?"text+label":"label"),l("hovertext"),l("hovertemplate"),w(i,r,a,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),o(r,a,l),r._length=null}else r.visible=!1}},60404:function(U,C,e){var k=e(43616),A=e(76308);U.exports=function(o,w,b,f,s){var n=w.data.data,i=n.i,r=s||n.color;if(i>=0){w.i=n.i;var t=b.marker;t.pattern&&t.colors&&t.pattern.shape||(t.color=r,w.color=r),k.pointStyle(o,b,f,w)}else A.fill(o,r)}},45716:function(U,C,e){var k=e(33428),A=e(24040),o=e(10624).appendArrayPointValue,w=e(93024),b=e(3400),f=e(95924),s=e(78176),n=e(69656).formatPieValue;function i(r,t,a){for(var l=r.data.data,u={curveNumber:t.index,pointNumber:l.i,data:t._input,fullData:t},h=0;h<a.length;h++){var c=a[h];c in r&&(u[c]=r[c])}return"parentString"in r&&!s.isHierarchyRoot(r)&&(u.parent=r.parentString),o(u,t,l.i),u}U.exports=function(r,t,a,l,u){var h=l[0],c=h.trace,y=h.hierarchy,d=c.type==="sunburst",v=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(g){var x=a._fullLayout;if(!a._dragging&&x.hovermode!==!1){var m,_=a._fullData[c.index],p=g.data.data,S=p.i,T=s.isHierarchyRoot(g),E=s.getParent(y,g),O=s.getValue(g),P=function(ae){return b.castOption(_,S,ae)},I=P("hovertemplate"),R=w.castHoverinfo(_,x,S),H=x.separators;if(I||R&&R!=="none"&&R!=="skip"){var z,j;d&&(z=h.cx+g.pxmid[0]*(1-g.rInscribed),j=h.cy+g.pxmid[1]*(1-g.rInscribed)),v&&(z=g._hoverX,j=g._hoverY);var Z,F={},V=[],W=[],re=function(ae){return V.indexOf(ae)!==-1};R&&(V=R==="all"?_._module.attributes.hoverinfo.flags:R.split("+")),F.label=p.label,re("label")&&F.label&&W.push(F.label),p.hasOwnProperty("v")&&(F.value=p.v,F.valueLabel=n(F.value,H),re("value")&&W.push(F.valueLabel)),F.currentPath=g.currentPath=s.getPath(g.data),re("current path")&&!T&&W.push(F.currentPath);var ne=[],te=function(){ne.indexOf(Z)===-1&&(W.push(Z),ne.push(Z))};F.percentParent=g.percentParent=O/s.getValue(E),F.parent=g.parentString=s.getPtLabel(E),re("percent parent")&&(Z=s.formatPercent(F.percentParent,H)+" of "+F.parent,te()),F.percentEntry=g.percentEntry=O/s.getValue(t),F.entry=g.entry=s.getPtLabel(t),!re("percent entry")||T||g.onPathbar||(Z=s.formatPercent(F.percentEntry,H)+" of "+F.entry,te()),F.percentRoot=g.percentRoot=O/s.getValue(y),F.root=g.root=s.getPtLabel(y),re("percent root")&&!T&&(Z=s.formatPercent(F.percentRoot,H)+" of "+F.root,te()),F.text=P("hovertext")||P("text"),re("text")&&(Z=F.text,b.isValidTextValue(Z)&&W.push(Z)),m=[i(g,_,u.eventDataKeys)];var Q={trace:_,y:j,_x0:g._x0,_x1:g._x1,_y0:g._y0,_y1:g._y1,text:W.join("<br>"),name:I||re("name")?_.name:void 0,color:P("hoverlabel.bgcolor")||p.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),fontWeight:P("hoverlabel.font.weight"),fontStyle:P("hoverlabel.font.style"),fontVariant:P("hoverlabel.font.variant"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:F,eventData:m};d&&(Q.x0=z-g.rInscribed*g.rpx1,Q.x1=z+g.rInscribed*g.rpx1,Q.idealAlign=g.pxmid[0]<0?"left":"right"),v&&(Q.x=z,Q.idealAlign=z<0?"left":"right");var $=[];w.loneHover(Q,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:a,inOut_bbox:$}),m[0].bbox=$[0],c._hasHoverLabel=!0}if(v){var K=r.select("path.surface");u.styleOne(K,g,_,a,{hovered:!0})}c._hasHoverEvent=!0,a.emit("plotly_hover",{points:m||[i(g,_,u.eventDataKeys)],event:k.event})}}),r.on("mouseout",function(g){var x=a._fullLayout,m=a._fullData[c.index],_=k.select(this).datum();if(c._hasHoverEvent&&(g.originalEvent=k.event,a.emit("plotly_unhover",{points:[i(_,m,u.eventDataKeys)],event:k.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(w.loneUnhover(x._hoverlayer.node()),c._hasHoverLabel=!1),v){var p=r.select("path.surface");u.styleOne(p,_,m,a,{hovered:!1})}}),r.on("click",function(g){var x=a._fullLayout,m=a._fullData[c.index],_=d&&(s.isHierarchyRoot(g)||s.isLeaf(g)),p=s.getPtId(g),S=s.isEntry(g)?s.findEntryWithChild(y,p):s.findEntryWithLevel(y,p),T=s.getPtId(S),E={points:[i(g,m,u.eventDataKeys)],event:k.event};_||(E.nextLevel=T);var O=f.triggerHandler(a,"plotly_"+c.type+"click",E);if(O!==!1&&x.hovermode&&(a._hoverdata=[i(g,m,u.eventDataKeys)],w.click(a,k.event)),!_&&O!==!1&&!a._dragging&&!a._transitioning){A.call("_storeDirectGUIEdit",m,x._tracePreGUI[m.uid],{level:m.level});var P={data:[{level:T}],traces:[c.index]},I={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};w.loneUnhover(x._hoverlayer.node()),A.call("animate",a,P,I)}})}},78176:function(U,C,e){var k=e(3400),A=e(76308),o=e(93972),w=e(69656);function b(f){return f.data.data.pid}C.findEntryWithLevel=function(f,s){var n;return s&&f.eachAfter(function(i){if(C.getPtId(i)===s)return n=i.copy()}),n||f},C.findEntryWithChild=function(f,s){var n;return f.eachAfter(function(i){for(var r=i.children||[],t=0;t<r.length;t++){var a=r[t];if(C.getPtId(a)===s)return n=i.copy()}}),n||f},C.isEntry=function(f){return!f.parent},C.isLeaf=function(f){return!f.children},C.getPtId=function(f){return f.data.data.id},C.getPtLabel=function(f){return f.data.data.label},C.getValue=function(f){return f.value},C.isHierarchyRoot=function(f){return b(f)===""},C.setSliceCursor=function(f,s,n){var i=n.isTransitioning;if(!i){var r=f.datum();i=n.hideOnRoot&&C.isHierarchyRoot(r)||n.hideOnLeaves&&C.isLeaf(r)}o(f,i?null:"pointer")},C.getInsideTextFontKey=function(f,s,n,i,r){var t=(r||{}).onPathbar?"pathbar.textfont":"insidetextfont",a=n.data.data.i;return k.castOption(s,a,t+"."+f)||k.castOption(s,a,"textfont."+f)||i.size},C.getOutsideTextFontKey=function(f,s,n,i){var r=n.data.data.i;return k.castOption(s,r,"outsidetextfont."+f)||k.castOption(s,r,"textfont."+f)||i.size},C.isOutsideText=function(f,s){return!f._hasColorscale&&C.isHierarchyRoot(s)},C.determineTextFont=function(f,s,n,i){return C.isOutsideText(f,s)?function(r,t,a){return{color:C.getOutsideTextFontKey("color",r,t,a),family:C.getOutsideTextFontKey("family",r,t,a),size:C.getOutsideTextFontKey("size",r,t,a),weight:C.getOutsideTextFontKey("weight",r,t,a),style:C.getOutsideTextFontKey("style",r,t,a),variant:C.getOutsideTextFontKey("variant",r,t,a),textcase:C.getOutsideTextFontKey("textcase",r,t,a),lineposition:C.getOutsideTextFontKey("lineposition",r,t,a),shadow:C.getOutsideTextFontKey("shadow",r,t,a)}}(f,s,n):function(r,t,a,l){var u=(l||{}).onPathbar,h=t.data.data,c=h.i,y=k.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=k.castOption(r._input,c,"textfont.color")),{color:y||A.contrast(h.color),family:C.getInsideTextFontKey("family",r,t,a,l),size:C.getInsideTextFontKey("size",r,t,a,l),weight:C.getInsideTextFontKey("weight",r,t,a,l),style:C.getInsideTextFontKey("style",r,t,a,l),variant:C.getInsideTextFontKey("variant",r,t,a,l),textcase:C.getInsideTextFontKey("textcase",r,t,a,l),lineposition:C.getInsideTextFontKey("lineposition",r,t,a,l),shadow:C.getInsideTextFontKey("shadow",r,t,a,l)}}(f,s,n,i)},C.hasTransition=function(f){return!!(f&&f.duration>0)},C.getMaxDepth=function(f){return f.maxdepth>=0?f.maxdepth:1/0},C.isHeader=function(f,s){return!(C.isLeaf(f)||f.depth===s._maxDepth-1)},C.getParent=function(f,s){return C.findEntryWithLevel(f,b(s))},C.listPath=function(f,s){var n=f.parent;if(!n)return[];var i=s?[n.data[s]]:[n];return C.listPath(n,s).concat(i)},C.getPath=function(f){return C.listPath(f,"label").join("/")+"/"},C.formatValue=w.formatPieValue,C.formatPercent=function(f,s){var n=k.formatPercent(f,0);return n==="0%"&&(n=w.formatPiePercent(f,s)),n}},5621:function(U,C,e){U.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(U){U.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(U,C,e){var k=e(3400),A=e(84920);U.exports=function(o,w){function b(f,s){return k.coerce(o,w,A,f,s)}b("sunburstcolorway",w.colorway),b("extendsunburstcolors")}},96488:function(U,C,e){var k=e(33428),A=e(74148),o=e(67756).qy,w=e(43616),b=e(3400),f=e(72736),s=e(82744),n=s.recordMinTextSize,i=s.clearMinTextSize,r=e(37820),t=e(69656).getRotationAngle,a=r.computeTransform,l=r.transformInsideText,u=e(85676).styleOne,h=e(60100).resizeText,c=e(45716),y=e(27328),d=e(78176);function v(x,m,_,p){var S=x._context.staticPlot,T=x._fullLayout,E=!T.uniformtext.mode&&d.hasTransition(p),O=k.select(_).selectAll("g.slice"),P=m[0],I=P.trace,R=P.hierarchy,H=d.findEntryWithLevel(R,I.level),z=d.getMaxDepth(I),j=T._size,Z=I.domain,F=j.w*(Z.x[1]-Z.x[0]),V=j.h*(Z.y[1]-Z.y[0]),W=.5*Math.min(F,V),re=P.cx=j.l+j.w*(Z.x[1]+Z.x[0])/2,ne=P.cy=j.t+j.h*(1-Z.y[0])-V/2;if(!H)return O.remove();var te=null,Q={};E&&O.each(function(oe){Q[d.getPtId(oe)]={rpx0:oe.rpx0,rpx1:oe.rpx1,x0:oe.x0,x1:oe.x1,transform:oe.transform},!te&&d.isEntry(oe)&&(te=oe)});var $=function(oe){return A.partition().size([2*Math.PI,oe.height+1])(oe)}(H).descendants(),K=H.height+1,ae=0,ue=z;P.hasMultipleRoots&&d.isHierarchyRoot(H)&&($=$.slice(1),K-=1,ae=1,ue+=1),$=$.filter(function(oe){return oe.y1<=ue});var se=t(I.rotation);se&&$.forEach(function(oe){oe.x0+=se,oe.x1+=se});var he=Math.min(K,z),pe=function(oe){return(oe-ae)/he*W},de=function(oe,ve){return[oe*Math.cos(ve),-oe*Math.sin(ve)]},xe=function(oe){return b.pathAnnulus(oe.rpx0,oe.rpx1,oe.x0,oe.x1,re,ne)},_e=function(oe){return re+g(oe)[0]*(oe.transform.rCenter||0)+(oe.transform.x||0)},be=function(oe){return ne+g(oe)[1]*(oe.transform.rCenter||0)+(oe.transform.y||0)};(O=O.data($,d.getPtId)).enter().append("g").classed("slice",!0),E?O.exit().transition().each(function(){var oe=k.select(this);oe.select("path.surface").transition().attrTween("d",function(ve){var Ce=function(ke){var Ae,Ee=d.getPtId(ke),ze=Q[Ee],Fe=Q[d.getPtId(H)];if(Fe){var ge=(ke.x1>Fe.x1?2*Math.PI:0)+se;Ae=ke.rpx1<Fe.rpx1?{x0:ke.x0,x1:ke.x1,rpx0:0,rpx1:0}:{x0:ge,x1:ge,rpx0:ke.rpx0,rpx1:ke.rpx1}}else{var Te,Se=d.getPtId(ke.parent);O.each(function(Qe){if(d.getPtId(Qe)===Se)return Te=Qe});var Re,Pe=Te.children;Pe.forEach(function(Qe,lt){if(d.getPtId(Qe)===Ee)return Re=lt});var Ve=Pe.length,We=o(Te.x0,Te.x1);Ae={rpx0:W,rpx1:W,x0:We(Re/Ve),x1:We((Re+1)/Ve)}}return o(ze,Ae)}(ve);return function(ke){return xe(Ce(ke))}}),oe.select("g.slicetext").attr("opacity",0)}).remove():O.exit().remove(),O.order();var Le=null;if(E&&te){var De=d.getPtId(te);O.each(function(oe){Le===null&&d.getPtId(oe)===De&&(Le=oe.x1)})}var ye=O;function le(oe){var ve=oe.parent,Ce=Q[d.getPtId(ve)],ke={};if(Ce){var Ae=ve.children,Ee=Ae.indexOf(oe),ze=Ae.length,Fe=o(Ce.x0,Ce.x1);ke.x0=Fe(Ee/ze),ke.x1=Fe(Ee/ze)}else ke.x0=ke.x1=0;return ke}E&&(ye=ye.transition().each("end",function(){var oe=k.select(this);d.setSliceCursor(oe,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ye.each(function(oe){var ve=k.select(this),Ce=b.ensureSingle(ve,"path","surface",function(ge){ge.style("pointer-events",S?"none":"all")});oe.rpx0=pe(oe.y0),oe.rpx1=pe(oe.y1),oe.xmid=(oe.x0+oe.x1)/2,oe.pxmid=de(oe.rpx1,oe.xmid),oe.midangle=-(oe.xmid-Math.PI/2),oe.startangle=-(oe.x0-Math.PI/2),oe.stopangle=-(oe.x1-Math.PI/2),oe.halfangle=.5*Math.min(b.angleDelta(oe.x0,oe.x1)||Math.PI,Math.PI),oe.ring=1-oe.rpx0/oe.rpx1,oe.rInscribed=function(ge){return ge.rpx0===0&&b.isFullCircle([ge.x0,ge.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(ge.halfangle)),ge.ring/2))}(oe),E?Ce.transition().attrTween("d",function(ge){var Te=function(Se){var Re,Pe=Q[d.getPtId(Se)],Ve={x0:Se.x0,x1:Se.x1,rpx0:Se.rpx0,rpx1:Se.rpx1};if(Pe)Re=Pe;else if(te)if(Se.parent)if(Le){var We=(Se.x1>Le?2*Math.PI:0)+se;Re={x0:We,x1:We}}else Re={rpx0:W,rpx1:W},b.extendFlat(Re,le(Se));else Re={rpx0:0,rpx1:0};else Re={x0:se,x1:se};return o(Re,Ve)}(ge);return function(Se){return xe(Te(Se))}}):Ce.attr("d",xe),ve.call(c,H,x,m,{eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),Ce.call(u,oe,I,x);var ke=b.ensureSingle(ve,"g","slicetext"),Ae=b.ensureSingle(ke,"text","",function(ge){ge.attr("data-notex",1)}),Ee=b.ensureUniformFontSize(x,d.determineTextFont(I,oe,T.font));Ae.text(C.formatSliceLabel(oe,H,I,m,T)).classed("slicetext",!0).attr("text-anchor","middle").call(w.font,Ee).call(f.convertToTspans,x);var ze=w.bBox(Ae.node());oe.transform=l(ze,oe,P),oe.transform.targetX=_e(oe),oe.transform.targetY=be(oe);var Fe=function(ge,Te){var Se=ge.transform;return a(Se,Te),Se.fontSize=Ee.size,n(I.type,Se,T),b.getTextTransform(Se)};E?Ae.transition().attrTween("transform",function(ge){var Te=function(Se){var Re,Pe=Q[d.getPtId(Se)],Ve=Se.transform;if(Pe)Re=Pe;else if(Re={rpx1:Se.rpx1,transform:{textPosAngle:Ve.textPosAngle,scale:0,rotate:Ve.rotate,rCenter:Ve.rCenter,x:Ve.x,y:Ve.y}},te)if(Se.parent)if(Le){var We=Se.x1>Le?2*Math.PI:0;Re.x0=Re.x1=We}else b.extendFlat(Re,le(Se));else Re.x0=Re.x1=se;else Re.x0=Re.x1=se;var Qe=o(Re.transform.textPosAngle,Se.transform.textPosAngle),lt=o(Re.rpx1,Se.rpx1),ut=o(Re.x0,Se.x0),xt=o(Re.x1,Se.x1),_t=o(Re.transform.scale,Ve.scale),mt=o(Re.transform.rotate,Ve.rotate),it=Ve.rCenter===0?3:Re.transform.rCenter===0?1/3:1,nt=o(Re.transform.rCenter,Ve.rCenter);return function(Et){var Rt=lt(Et),Ft=ut(Et),Pt=xt(Et),Ze=function(He){return nt(Math.pow(He,it))}(Et),$e={pxmid:de(Rt,(Ft+Pt)/2),rpx1:Rt,transform:{textPosAngle:Qe(Et),rCenter:Ze,x:Ve.x,y:Ve.y}};return n(I.type,Ve,T),{transform:{targetX:_e($e),targetY:be($e),scale:_t(Et),rotate:mt(Et),rCenter:Ze}}}}(ge);return function(Se){return Fe(Te(Se),ze)}}):Ae.attr("transform",Fe(oe,ze))})}function g(x){return m=x.rpx1,_=x.transform.textPosAngle,[m*Math.sin(_),-m*Math.cos(_)];var m,_}C.plot=function(x,m,_,p){var S,T,E=x._fullLayout,O=E._sunburstlayer,P=!_,I=!E.uniformtext.mode&&d.hasTransition(_);i("sunburst",E),(S=O.selectAll("g.trace.sunburst").data(m,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),I?(p&&(T=p()),k.transition().duration(_.duration).ease(_.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){O.selectAll("g.trace").each(function(R){v(x,R,this,_)})})):(S.each(function(R){v(x,R,this,_)}),E.uniformtext.mode&&h(x,E._sunburstlayer.selectAll(".trace"),"sunburst")),P&&S.exit().remove()},C.formatSliceLabel=function(x,m,_,p,S){var T=_.texttemplate,E=_.textinfo;if(!(T||E&&E!=="none"))return"";var O=S.separators,P=p[0],I=x.data.data,R=P.hierarchy,H=d.isHierarchyRoot(x),z=d.getParent(R,x),j=d.getValue(x);if(!T){var Z,F=E.split("+"),V=function(ue){return F.indexOf(ue)!==-1},W=[];if(V("label")&&I.label&&W.push(I.label),I.hasOwnProperty("v")&&V("value")&&W.push(d.formatValue(I.v,O)),!H){V("current path")&&W.push(d.getPath(x.data));var re=0;V("percent parent")&&re++,V("percent entry")&&re++,V("percent root")&&re++;var ne=re>1;if(re){var te,Q=function(ue){Z=d.formatPercent(te,O),ne&&(Z+=" of "+ue),W.push(Z)};V("percent parent")&&!H&&(te=j/d.getValue(z),Q("parent")),V("percent entry")&&(te=j/d.getValue(m),Q("entry")),V("percent root")&&(te=j/d.getValue(R),Q("root"))}}return V("text")&&(Z=b.castOption(_,I.i,"text"),b.isValidTextValue(Z)&&W.push(Z)),W.join("<br>")}var $=b.castOption(_,I.i,"texttemplate");if(!$)return"";var K={};I.label&&(K.label=I.label),I.hasOwnProperty("v")&&(K.value=I.v,K.valueLabel=d.formatValue(I.v,O)),K.currentPath=d.getPath(x.data),H||(K.percentParent=j/d.getValue(z),K.percentParentLabel=d.formatPercent(K.percentParent,O),K.parent=d.getPtLabel(z)),K.percentEntry=j/d.getValue(m),K.percentEntryLabel=d.formatPercent(K.percentEntry,O),K.entry=d.getPtLabel(m),K.percentRoot=j/d.getValue(R),K.percentRootLabel=d.formatPercent(K.percentRoot,O),K.root=d.getPtLabel(R),I.hasOwnProperty("color")&&(K.color=I.color);var ae=b.castOption(_,I.i,"text");return(b.isValidTextValue(ae)||ae==="")&&(K.text=ae),K.customdata=b.castOption(_,I.i,"customdata"),b.texttemplateString($,K,S._d3locale,K,_._meta||{})}},85676:function(U,C,e){var k=e(33428),A=e(76308),o=e(3400),w=e(82744).resizeText,b=e(60404);function f(s,n,i,r){var t=n.data.data,a=!n.children,l=t.i,u=o.castOption(i,l,"marker.line.color")||A.defaultLine,h=o.castOption(i,l,"marker.line.width")||0;s.call(b,n,i,r).style("stroke-width",h).call(A.stroke,u).style("opacity",a?i.leaf.opacity:null)}U.exports={style:function(s){var n=s._fullLayout._sunburstlayer.selectAll(".trace");w(s,n,"sunburst"),n.each(function(i){var r=k.select(this),t=i[0].trace;r.style("opacity",t.opacity),r.selectAll("path.surface").each(function(a){k.select(this).call(f,a,t,s)})})},styleOne:f}},16716:function(U,C,e){var k=e(76308),A=e(49084),o=e(29736).axisHoverFormat,w=e(21776).Ks,b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll;function n(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:k.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:k.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=U.exports=s(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:w(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},A("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:n(),y:n(),z:n()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},A.zauto,{}),zmin:f({},A.zmin,{}),zmax:f({},A.zmax,{})},hoverinfo:f({},b.hoverinfo),showlegend:f({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(U,C,e){var k=e(47128);U.exports=function(A,o){o.surfacecolor?k(A,o,{vals:o.surfacecolor,containerStr:"",cLetter:"c"}):k(A,o,{vals:o.z,containerStr:"",cLetter:"c"})}},79164:function(U,C,e){var k=e(67792).gl_surface3d,A=e(67792).ndarray,o=e(67792).ndarray_linear_interpolate.d2,w=e(70448),b=e(11240),f=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,n=e(43080),i=e(8932).extractOpts;function r(_,p,S){this.scene=_,this.uid=S,this.surface=p,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var t=r.prototype;t.getXat=function(_,p,S,T){var E=f(this.data.x)?f(this.data.x[0])?this.data.x[p][_]:this.data.x[_]:_;return S===void 0?E:T.d2l(E,0,S)},t.getYat=function(_,p,S,T){var E=f(this.data.y)?f(this.data.y[0])?this.data.y[p][_]:this.data.y[p]:p;return S===void 0?E:T.d2l(E,0,S)},t.getZat=function(_,p,S,T){var E=this.data.z[p][_];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[p][_]),S===void 0?E:T.d2l(E,0,S)},t.handlePick=function(_){if(_.object===this.surface){var p=(_.data.index[0]-1)/this.dataScaleX-1,S=(_.data.index[1]-1)/this.dataScaleY-1,T=Math.max(Math.min(Math.round(p),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);_.index=[T,E],_.traceCoordinate=[this.getXat(T,E),this.getYat(T,E),this.getZat(T,E)],_.dataCoordinate=[this.getXat(T,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(T,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(T,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++)_.dataCoordinate[O]!=null&&(_.dataCoordinate[O]*=this.scene.dataScale[O]);var P=this.data.hovertext||this.data.text;return f(P)&&P[E]&&P[E][T]!==void 0?_.textLabel=P[E][T]:_.textLabel=P||"",_.data.dataCoordinate=_.dataCoordinate.slice(),this.surface.highlight(_.data),this.scene.glplot.spikes.position=_.dataCoordinate,!0}};var a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(_,p){if(_<p)return 0;for(var S=0;Math.floor(_%p)===0;)_/=p,S++;return S}function u(_){for(var p=[],S=0;S<a.length;S++){var T=a[S];p.push(l(_,T))}return p}function h(_){for(var p=u(_),S=_,T=0;T<a.length;T++)if(p[T]>0){S=a[T];break}return S}function c(_,p){if(!(_<1||p<1)){for(var S=u(_),T=u(p),E=1,O=0;O<a.length;O++)E*=Math.pow(a[O],Math.max(S[O],T[O]));return E}}t.calcXnums=function(_){var p,S=[];for(p=1;p<_;p++){var T=this.getXat(p-1,0),E=this.getXat(p,0);S[p-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var O=0;for(p=1;p<_;p++)O+=S[p-1];for(p=1;p<_;p++)S[p-1]===0?S[p-1]=1:S[p-1]=Math.round(O/S[p-1]);return S},t.calcYnums=function(_){var p,S=[];for(p=1;p<_;p++){var T=this.getYat(0,p-1),E=this.getYat(0,p);S[p-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var O=0;for(p=1;p<_;p++)O+=S[p-1];for(p=1;p<_;p++)S[p-1]===0?S[p-1]=1:S[p-1]=Math.round(O/S[p-1]);return S};var y=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=y[9],v=y[13];function g(_,p,S){var T=S[8]+S[2]*p[0]+S[5]*p[1];return _[0]=(S[6]+S[0]*p[0]+S[3]*p[1])/T,_[1]=(S[7]+S[1]*p[0]+S[4]*p[1])/T,_}function x(_,p,S){return function(T,E,O,P){for(var I=[0,0],R=T.shape[0],H=T.shape[1],z=0;z<R;z++)for(var j=0;j<H;j++)O(I,[z,j],P),T.set(z,j,o(E,I[0],I[1]))}(_,p,g,S),_}function m(_,p){for(var S=!1,T=0;T<_.length;T++)if(p===_[T]){S=!0;break}S===!1&&_.push(p)}t.estimateScale=function(_,p){for(var S=1+function(E){if(E.length!==0){for(var O=1,P=0;P<E.length;P++)O=c(O,E[P]);return O}}(p===0?this.calcXnums(_):this.calcYnums(_));S<d;)S*=2;for(;S>v;)S--,S/=h(S),++S<d&&(S=v);var T=Math.round(S/_);return T>1?T:1},t.refineCoords=function(_){for(var p=this.dataScaleX,S=this.dataScaleY,T=_[0].shape[0],E=_[0].shape[1],O=0|Math.floor(_[0].shape[0]*p+1),P=0|Math.floor(_[0].shape[1]*S+1),I=1+T+1,R=1+E+1,H=A(new Float32Array(I*R),[I,R]),z=[1/p,0,0,0,1/S,0,0,0,1],j=0;j<_.length;++j){this.surface.padField(H,_[j]);var Z=A(new Float32Array(O*P),[O,P]);x(Z,H,z),_[j]=Z}},t.setContourLevels=function(){var _,p,S,T=[[],[],[]],E=[!1,!1,!1],O=!1;for(_=0;_<3;++_)if(this.showContour[_]&&(O=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,p=this.contourStart[_];p<this.contourEnd[_];p+=this.contourSize[_])S=p*this.scene.dataScale[_],m(T[_],S);if(O){var P=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(P[_]=E[_]?T[_]:this.scene.contourLevels[_]);this.surface.update({levels:P})}},t.update=function(_){var p,S,T,E,O=this.scene,P=O.fullSceneLayout,I=this.surface,R=s(_),H=O.dataScale,z=_.z[0].length,j=_._ylength,Z=O.contourLevels;this.data=_;var F=[];for(p=0;p<3;p++)for(F[p]=[],S=0;S<z;S++)F[p][S]=[];for(S=0;S<z;S++)for(T=0;T<j;T++)F[0][S][T]=this.getXat(S,T,_.xcalendar,P.xaxis),F[1][S][T]=this.getYat(S,T,_.ycalendar,P.yaxis),F[2][S][T]=this.getZat(S,T,_.zcalendar,P.zaxis);if(_.connectgaps)for(_._emptypoints=b(F[2]),w(F[2],_._emptypoints),_._interpolatedZ=[],S=0;S<z;S++)for(_._interpolatedZ[S]=[],T=0;T<j;T++)_._interpolatedZ[S][T]=F[2][S][T];for(p=0;p<3;p++)for(S=0;S<z;S++)for(T=0;T<j;T++)(E=F[p][S][T])==null?F[p][S][T]=NaN:E=F[p][S][T]*=H[p];for(p=0;p<3;p++)for(S=0;S<z;S++)for(T=0;T<j;T++)(E=F[p][S][T])!=null&&(this.minValues[p]>E&&(this.minValues[p]=E),this.maxValues[p]<E&&(this.maxValues[p]=E));for(p=0;p<3;p++)this.objectOffset[p]=.5*(this.minValues[p]+this.maxValues[p]);for(p=0;p<3;p++)for(S=0;S<z;S++)for(T=0;T<j;T++)(E=F[p][S][T])!=null&&(F[p][S][T]-=this.objectOffset[p]);var V=[A(new Float32Array(z*j),[z,j]),A(new Float32Array(z*j),[z,j]),A(new Float32Array(z*j),[z,j])];for(p=0;p<3;p++)for(S=0;S<z;S++)for(T=0;T<j;T++)V[p].set(S,T,F[p][S][T]);F=[];var W={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!_.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:_.opacityscale,opacity:_.opacity},re=i(_);if(W.intensityBounds=[re.min,re.max],_.surfacecolor){var ne=A(new Float32Array(z*j),[z,j]);for(S=0;S<z;S++)for(T=0;T<j;T++)ne.set(S,T,_.surfacecolor[T][S]);V.push(ne)}else W.intensityBounds[0]*=H[2],W.intensityBounds[1]*=H[2];(v<V[0].shape[0]||v<V[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(V[0].shape[0],0),this.dataScaleY=this.estimateScale(V[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(V)),_.surfacecolor&&(W.intensity=V.pop());var te=[!0,!0,!0],Q=["x","y","z"];for(p=0;p<3;++p){var $=_.contours[Q[p]];te[p]=$.highlight,W.showContour[p]=$.show||$.highlight,W.showContour[p]&&(W.contourProject[p]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[p]=!0,W.levels[p]=Z[p],I.highlightColor[p]=W.contourColor[p]=n($.color),$.usecolormap?I.highlightTint[p]=W.contourTint[p]=0:I.highlightTint[p]=W.contourTint[p]=1,W.contourWidth[p]=$.width,this.contourStart[p]=$.start,this.contourEnd[p]=$.end,this.contourSize[p]=$.size):(this.showContour[p]=!1,this.contourStart[p]=null,this.contourEnd[p]=null,this.contourSize[p]=0),$.highlight&&(W.dynamicColor[p]=n($.highlightcolor),W.dynamicWidth[p]=$.highlightwidth))}(function(K){var ae=K[0].rgb,ue=K[K.length-1].rgb;return ae[0]===ue[0]&&ae[1]===ue[1]&&ae[2]===ue[2]&&ae[3]===ue[3]})(R)&&(W.vertexColor=!0),W.objectOffset=this.objectOffset,W.coords=V,I.update(W),I.visible=_.visible,I.enableDynamic=te,I.enableHighlight=te,I.snapToData=!0,"lighting"in _&&(I.ambientLight=_.lighting.ambient,I.diffuseLight=_.lighting.diffuse,I.specularLight=_.lighting.specular,I.roughness=_.lighting.roughness,I.fresnel=_.lighting.fresnel),"lightposition"in _&&(I.lightPosition=[_.lightposition.x,_.lightposition.y,_.lightposition.z])},t.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},U.exports=function(_,p){var S=_.glplot.gl,T=k({gl:S}),E=new r(_,T,p.uid);return T._trace=E,E.update(p),_.glplot.add(T),E}},60192:function(U,C,e){var k=e(24040),A=e(3400),o=e(27260),w=e(16716);function b(s,n,i,r){var t=r("opacityscale");t==="max"?n.opacityscale=[[0,.1],[1,1]]:t==="min"?n.opacityscale=[[0,1],[1,.1]]:t==="extremes"?n.opacityscale=function(a,l){for(var u=[],h=0;h<32;h++){var c=h/31,y=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,y))])}return u}():function(a){var l=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var u=0;u<a.length;u++){var h=a[u];if(h.length!==2||+h[0]<l)return!1;l=+h[0]}return!0}(t)||(n.opacityscale=void 0)}function f(s,n,i){n in s&&!(i in s)&&(s[i]=s[n])}U.exports={supplyDefaults:function(s,n,i,r){var t,a;function l(m,_){return A.coerce(s,n,w,m,_)}var u=l("x"),h=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||h&&h.length<1)n.visible=!1;else{n._xlength=Array.isArray(u)&&A.isArrayOrTypedArray(u[0])?c.length:c[0].length,n._ylength=c.length,k.getComponentMethod("calendars","handleTraceDefaults")(s,n,["x","y","z"],r),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){l(m)});var y=l("surfacecolor"),d=["x","y","z"];for(t=0;t<3;++t){var v="contours."+d[t],g=l(v+".show"),x=l(v+".highlight");if(g||x)for(a=0;a<3;++a)l(v+".project."+d[a]);g&&(l(v+".color"),l(v+".width"),l(v+".usecolormap")),x&&(l(v+".highlightcolor"),l(v+".highlightwidth")),l(v+".start"),l(v+".end"),l(v+".size")}y||(f(s,"zmin","cmin"),f(s,"zmax","cmax"),f(s,"zauto","cauto")),o(s,n,r,l,{prefix:"",cLetter:"c"}),b(0,n,0,l),n._length=null}},opacityscaleDefaults:b}},91304:function(U,C,e){U.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(U,C,e){var k=e(13916),A=e(92880).extendFlat,o=e(67824).overrideAll,w=e(25376),b=e(86968).u,f=e(29736).descriptionOnlyNumbers;(U.exports=o({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:A({},k.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:A({},w({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:A({},k.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:A({},w({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(U,C,e){var k=e(84888)._M,A=e(24752),o="table";C.name=o,C.plot=function(w){var b=k(w.calcdata,o)[0];b.length&&A(w,b)},C.clean=function(w,b,f,s){var n=s._has&&s._has(o),i=b._has&&b._has(o);n&&!i&&s._paperdiv.selectAll(".table").remove()}},39312:function(U,C,e){var k=e(71688).wrap;U.exports=function(){return k({})}},23536:function(U){U.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(U,C,e){var k=e(23536),A=e(92880).extendFlat,o=e(38248),w=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;function f(l){if(b(l)){for(var u=0,h=0;h<l.length;h++)u=Math.max(u,f(l[h]));return u}return l}function s(l,u){return l+u}function n(l){var u,h=l.slice(),c=1/0,y=0;for(u=0;u<h.length;u++)w(h[u])?h[u]=Array.from(h[u]):b(h[u])||(h[u]=[h[u]]),c=Math.min(c,h[u].length),y=Math.max(y,h[u].length);if(c!==y)for(u=0;u<h.length;u++){var d=y-h[u].length;d&&(h[u]=h[u].concat(i(d)))}return h}function i(l){for(var u=new Array(l),h=0;h<l;h++)u[h]="";return u}function r(l){return l.calcdata.columns.reduce(function(u,h){return h.xIndex<l.xIndex?u+h.columnWidth:u},0)}function t(l,u){return Object.keys(l).map(function(h){return A({},l[h],{auxiliaryBlocks:u})})}function a(l,u){for(var h,c={},y=0,d=0,v={firstRowIndex:null,lastRowIndex:null,rows:[]},g=0,x=0,m=0;m<l.length;m++)h=l[m],v.rows.push({rowIndex:m,rowHeight:h}),((d+=h)>=u||m===l.length-1)&&(c[y]=v,v.key=x++,v.firstRowIndex=g,v.lastRowIndex=m,v={firstRowIndex:null,lastRowIndex:null,rows:[]},y+=d,g=m+1,d=0);return c}U.exports=function(l,u){var h=n(u.cells.values),c=function(j){return j.slice(u.header.values.length,j.length)},y=n(u.header.values);y.length&&!y[0].length&&(y[0]=[""],y=n(y));var d=y.concat(c(h).map(function(){return i((y[0]||[""]).length)})),v=u.domain,g=Math.floor(l._fullLayout._size.w*(v.x[1]-v.x[0])),x=Math.floor(l._fullLayout._size.h*(v.y[1]-v.y[0])),m=u.header.values.length?d[0].map(function(){return u.header.height}):[k.emptyHeaderHeight],_=h.length?h[0].map(function(){return u.cells.height}):[],p=m.reduce(s,0),S=a(_,x-p+k.uplift),T=t(a(m,p),[]),E=t(S,T),O={},P=u._fullInput.columnorder;b(P)&&(P=Array.from(P)),P=P.concat(c(h.map(function(j,Z){return Z})));var I=d.map(function(j,Z){var F=b(u.columnwidth)?u.columnwidth[Math.min(Z,u.columnwidth.length-1)]:u.columnwidth;return o(F)?Number(F):1}),R=I.reduce(s,0);I=I.map(function(j){return j/R*g});var H=Math.max(f(u.header.line.width),f(u.cells.line.width)),z={key:u.uid+l._context.staticPlot,translateX:v.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-v.y[1]),size:l._fullLayout._size,width:g,maxLineWidth:H,height:x,columnOrder:P,groupHeight:x,rowBlocks:E,headerRowBlocks:T,scrollY:0,cells:A({},u.cells,{values:h}),headerCells:A({},u.header,{values:d}),gdColumns:d.map(function(j){return j[0]}),gdColumnsOriginalOrder:d.map(function(j){return j[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(j,Z){var F=O[j];return O[j]=(F||0)+1,{key:j+"__"+O[j],label:j,specIndex:Z,xIndex:P[Z],xScale:r,x:void 0,calcdata:void 0,columnWidth:I[Z]}})};return z.columns.forEach(function(j){j.calcdata=z,j.x=r(j)}),z}},53056:function(U,C,e){var k=e(92880).extendFlat;C.splitToPanels=function(A){var o=[0,0],w=k({},A,{key:"header",type:"header",page:0,prevPages:o,currentRepaint:[null,null],dragHandle:!0,values:A.calcdata.headerCells.values[A.specIndex],rowBlocks:A.calcdata.headerRowBlocks,calcdata:k({},A.calcdata,{cells:A.calcdata.headerCells})});return[k({},A,{key:"cells1",type:"cells",page:0,prevPages:o,currentRepaint:[null,null],dragHandle:!1,values:A.calcdata.cells.values[A.specIndex],rowBlocks:A.calcdata.rowBlocks}),k({},A,{key:"cells2",type:"cells",page:1,prevPages:o,currentRepaint:[null,null],dragHandle:!1,values:A.calcdata.cells.values[A.specIndex],rowBlocks:A.calcdata.rowBlocks}),w]},C.splitToCells=function(A){var o=function(w){var b=w.rowBlocks[w.page],f=b?b.rows[0].rowIndex:0;return[f,b?f+b.rows.length:0]}(A);return(A.values||[]).slice(o[0],o[1]).map(function(w,b){return{keyWithinBlock:b+(typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:o[0]+b,column:A,calcdata:A.calcdata,page:A.page,rowBlocks:A.rowBlocks,value:w}})}},53212:function(U,C,e){var k=e(3400),A=e(60520),o=e(86968).Q;U.exports=function(w,b,f,s){function n(i,r){return k.coerce(w,b,A,i,r)}o(b,s,n),n("columnwidth"),n("header.values"),n("header.format"),n("header.align"),n("header.prefix"),n("header.suffix"),n("header.height"),n("header.line.width"),n("header.line.color"),n("header.fill.color"),k.coerceFont(n,"header.font",s.font),function(i,r){for(var t=i.columnorder||[],a=i.header.values.length,l=t.slice(0,a),u=l.slice().sort(function(y,d){return y-d}),h=l.map(function(y){return u.indexOf(y)}),c=h.length;c<a;c++)h.push(c);r("columnorder",h)}(b,n),n("cells.values"),n("cells.format"),n("cells.align"),n("cells.prefix"),n("cells.suffix"),n("cells.height"),n("cells.line.width"),n("cells.line.color"),n("cells.fill.color"),k.coerceFont(n,"cells.font",s.font),b._length=null}},41724:function(U,C,e){U.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(U,C,e){var k=e(23536),A=e(33428),o=e(3400),w=o.numberFormat,b=e(71688),f=e(43616),s=e(72736),n=e(3400).raiseToTop,i=e(3400).strTranslate,r=e(3400).cancelTransition,t=e(55992),a=e(53056),l=e(76308);function u(W){return Math.ceil(W.calcdata.maxLineWidth/2)}function h(W,re){return"clip"+W._fullLayout._uid+"_scrollAreaBottomClip_"+re.key}function c(W,re){return"clip"+W._fullLayout._uid+"_columnBoundaryClippath_"+re.calcdata.key+"_"+re.specIndex}function y(W){return[].concat.apply([],W.map(function(re){return re})).map(function(re){return re.__data__})}function d(W,re,ne){var te=W.selectAll("."+k.cn.scrollbarKit).data(b.repeat,b.keyFun);te.enter().append("g").classed(k.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),te.each(function(ue){var se=ue.scrollbarState;se.totalHeight=function(he){var pe=he.rowBlocks;return j(pe,pe.length-1)+(pe.length?Z(pe[pe.length-1],1/0):1)}(ue),se.scrollableAreaHeight=ue.groupHeight-T(ue),se.currentlyVisibleHeight=Math.min(se.totalHeight,se.scrollableAreaHeight),se.ratio=se.currentlyVisibleHeight/se.totalHeight,se.barLength=Math.max(se.ratio*se.currentlyVisibleHeight,k.goldenRatio*k.scrollbarWidth),se.barWiggleRoom=se.currentlyVisibleHeight-se.barLength,se.wiggleRoom=Math.max(0,se.totalHeight-se.scrollableAreaHeight),se.topY=se.barWiggleRoom===0?0:ue.scrollY/se.wiggleRoom*se.barWiggleRoom,se.bottomY=se.topY+se.barLength,se.dragMultiplier=se.wiggleRoom/se.barWiggleRoom}).attr("transform",function(ue){var se=ue.width+k.scrollbarWidth/2+k.scrollbarOffset;return i(se,T(ue))});var Q=te.selectAll("."+k.cn.scrollbar).data(b.repeat,b.keyFun);Q.enter().append("g").classed(k.cn.scrollbar,!0);var $=Q.selectAll("."+k.cn.scrollbarSlider).data(b.repeat,b.keyFun);$.enter().append("g").classed(k.cn.scrollbarSlider,!0),$.attr("transform",function(ue){return i(0,ue.scrollbarState.topY||0)});var K=$.selectAll("."+k.cn.scrollbarGlyph).data(b.repeat,b.keyFun);K.enter().append("line").classed(k.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",k.scrollbarWidth).attr("stroke-linecap","round").attr("y1",k.scrollbarWidth/2),K.attr("y2",function(ue){return ue.scrollbarState.barLength-k.scrollbarWidth/2}).attr("stroke-opacity",function(ue){return ue.columnDragInProgress||!ue.scrollbarState.barWiggleRoom||ne?0:.4}),K.transition().delay(0).duration(0),K.transition().delay(k.scrollbarHideDelay).duration(k.scrollbarHideDuration).attr("stroke-opacity",0);var ae=Q.selectAll("."+k.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);ae.enter().append("line").classed(k.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",k.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ue){var se=A.event.y,he=this.getBoundingClientRect(),pe=ue.scrollbarState,de=se-he.top,xe=A.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=de&&de<=pe.bottomY||O(re,W,null,xe(de-pe.barLength/2))(ue)}).call(A.behavior.drag().origin(function(ue){return A.event.stopPropagation(),ue.scrollbarState.scrollbarScrollInProgress=!0,ue}).on("drag",O(re,W)).on("dragend",function(){})),ae.attr("y2",function(ue){return ue.scrollbarState.scrollableAreaHeight}),re._context.staticPlot&&(K.remove(),ae.remove())}function v(W,re,ne,te){var Q=function(se){var he=se.selectAll("."+k.cn.columnCells).data(b.repeat,b.keyFun);return he.enter().append("g").classed(k.cn.columnCells,!0),he.exit().remove(),he}(ne),$=function(se){var he=se.selectAll("."+k.cn.columnCell).data(a.splitToCells,function(pe){return pe.keyWithinBlock});return he.enter().append("g").classed(k.cn.columnCell,!0),he.exit().remove(),he}(Q);(function(se){se.each(function(he,pe){var de=he.calcdata.cells.font,xe=he.column.specIndex,_e={size:m(de.size,xe,pe),color:m(de.color,xe,pe),family:m(de.family,xe,pe),weight:m(de.weight,xe,pe),style:m(de.style,xe,pe),variant:m(de.variant,xe,pe),textcase:m(de.textcase,xe,pe),lineposition:m(de.lineposition,xe,pe),shadow:m(de.shadow,xe,pe)};he.rowNumber=he.key,he.align=m(he.calcdata.cells.align,xe,pe),he.cellBorderWidth=m(he.calcdata.cells.line.width,xe,pe),he.font=_e})})($);var K=function(se){var he=se.selectAll("."+k.cn.cellRect).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("rect").classed(k.cn.cellRect,!0),he}($);(function(se){se.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var pe=A.select(this);l.stroke(pe,m(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),l.fill(pe,m(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})})(K);var ae=function(se){var he=se.selectAll("."+k.cn.cellTextHolder).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("g").classed(k.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}($),ue=function(se){var he=se.selectAll("."+k.cn.cellText).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("text").classed(k.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){A.event.stopPropagation()}),he}(ae);(function(se){se.each(function(he){f.font(A.select(this),he.font)})})(ue),g(ue,re,te,W),z($)}function g(W,re,ne,te){W.text(function(Q){var $=Q.column.specIndex,K=Q.rowNumber,ae=Q.value,ue=typeof ae=="string",se=ue&&ae.match(/<br>/i),he=!ue||se;Q.mayHaveMarkup=ue&&ae.match(/[<&>]/);var pe,de=typeof(pe=ae)=="string"&&pe.match(k.latexCheck);Q.latex=de;var xe,_e,be=de?"":m(Q.calcdata.cells.prefix,$,K)||"",Le=de?"":m(Q.calcdata.cells.suffix,$,K)||"",De=de?null:m(Q.calcdata.cells.format,$,K)||null,ye=be+(De?w(De)(Q.value):Q.value)+Le;if(Q.wrappingNeeded=!Q.wrapped&&!he&&!de&&(xe=x(ye)),Q.cellHeightMayIncrease=se||de||Q.mayHaveMarkup||(xe===void 0?x(ye):xe),Q.needsConvertToTspans=Q.mayHaveMarkup||Q.wrappingNeeded||Q.latex,Q.wrappingNeeded){var le=(k.wrapSplitCharacter===" "?ye.replace(/<a href=/gi,"<a_href="):ye).split(k.wrapSplitCharacter),oe=k.wrapSplitCharacter===" "?le.map(function(ve){return ve.replace(/<a_href=/gi,"<a href=")}):le;Q.fragments=oe.map(function(ve){return{text:ve,width:null}}),Q.fragments.push({fragment:k.wrapSpacer,width:null}),_e=oe.join(k.lineBreaker)+k.lineBreaker+k.wrapSpacer}else delete Q.fragments,_e=ye;return _e}).attr("dy",function(Q){return Q.needsConvertToTspans?0:"0.75em"}).each(function(Q){var $=this,K=A.select($),ae=Q.wrappingNeeded?I:R;Q.needsConvertToTspans?s.convertToTspans(K,te,ae(ne,$,re,te,Q)):A.select($.parentNode).attr("transform",function(ue){return i(H(ue),k.cellPad)}).attr("text-anchor",function(ue){return{left:"start",center:"middle",right:"end"}[ue.align]})})}function x(W){return W.indexOf(k.wrapSplitCharacter)!==-1}function m(W,re,ne){if(o.isArrayOrTypedArray(W)){var te=W[Math.min(re,W.length-1)];return o.isArrayOrTypedArray(te)?te[Math.min(ne,te.length-1)]:te}return W}function _(W,re,ne){W.transition().ease(k.releaseTransitionEase).duration(k.releaseTransitionDuration).attr("transform",i(re.x,ne))}function p(W){return W.type==="cells"}function S(W){return W.type==="header"}function T(W){return(W.rowBlocks.length?W.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(re,ne){return re+Z(ne,1/0)},0)}function E(W,re,ne){var te=y(re)[0];if(te!==void 0){var Q=te.rowBlocks,$=te.calcdata,K=j(Q,Q.length),ae=te.calcdata.groupHeight-T(te),ue=$.scrollY=Math.max(0,Math.min(K-ae,$.scrollY)),se=function(he,pe,de){for(var xe=[],_e=0,be=0;be<he.length;be++){for(var Le=he[be],De=Le.rows,ye=0,le=0;le<De.length;le++)ye+=De[le].rowHeight;Le.allRowsHeight=ye,pe<_e+ye&&pe+de>_e&&xe.push(be),_e+=ye}return xe}(Q,ue,ae);se.length===1&&(se[0]===Q.length-1?se.unshift(se[0]-1):se.push(se[0]+1)),se[0]%2&&se.reverse(),re.each(function(he,pe){he.page=se[pe],he.scrollY=ue}),re.attr("transform",function(he){var pe=j(he.rowBlocks,he.page)-he.scrollY;return i(0,pe)}),W&&(P(W,ne,re,se,te.prevPages,te,0),P(W,ne,re,se,te.prevPages,te,1),d(ne,W))}}function O(W,re,ne,te){return function(Q){var $=Q.calcdata?Q.calcdata:Q,K=re.filter(function(he){return $.key===he.key}),ae=ne||$.scrollbarState.dragMultiplier,ue=$.scrollY;$.scrollY=te===void 0?$.scrollY+ae*A.event.dy:te;var se=K.selectAll("."+k.cn.yColumn).selectAll("."+k.cn.columnBlock).filter(p);return E(W,se,K),$.scrollY===ue}}function P(W,re,ne,te,Q,$,K){te[K]!==Q[K]&&(clearTimeout($.currentRepaint[K]),$.currentRepaint[K]=setTimeout(function(){var ae=ne.filter(function(ue,se){return se===K&&te[se]!==Q[se]});v(W,re,ae,ne),Q[K]=te[K]}))}function I(W,re,ne,te){return function(){var Q=A.select(re.parentNode);Q.each(function($){var K=$.fragments;Q.selectAll("tspan.line").each(function(_e,be){K[be].width=this.getComputedTextLength()});var ae,ue,se=K[K.length-1].width,he=K.slice(0,-1),pe=[],de=0,xe=$.column.columnWidth-2*k.cellPad;for($.value="";he.length;)de+(ue=(ae=he.shift()).width+se)>xe&&($.value+=pe.join(k.wrapSpacer)+k.lineBreaker,pe=[],de=0),pe.push(ae.text),de+=ue;de&&($.value+=pe.join(k.wrapSpacer)),$.wrapped=!0}),Q.selectAll("tspan.line").remove(),g(Q.select("."+k.cn.cellText),ne,W,te),A.select(re.parentNode.parentNode).call(z)}}function R(W,re,ne,te,Q){return function(){if(!Q.settledY){var $=A.select(re.parentNode),K=V(Q),ae=Q.key-K.firstRowIndex,ue=K.rows[ae].rowHeight,se=Q.cellHeightMayIncrease?re.parentNode.getBoundingClientRect().height+2*k.cellPad:ue,he=Math.max(se,ue);he-K.rows[ae].rowHeight&&(K.rows[ae].rowHeight=he,W.selectAll("."+k.cn.columnCell).call(z),E(null,W.filter(p),0),d(ne,te,!0)),$.attr("transform",function(){var pe=this,de=pe.parentNode.getBoundingClientRect(),xe=A.select(pe.parentNode).select("."+k.cn.cellRect).node().getBoundingClientRect(),_e=pe.transform.baseVal.consolidate(),be=xe.top-de.top+(_e?_e.matrix.f:k.cellPad);return i(H(Q,A.select(pe.parentNode).select("."+k.cn.cellTextHolder).node().getBoundingClientRect().width),be)}),Q.settledY=!0}}}function H(W,re){switch(W.align){case"left":default:return k.cellPad;case"right":return W.column.columnWidth-(re||0)-k.cellPad;case"center":return(W.column.columnWidth-(re||0))/2}}function z(W){W.attr("transform",function(re){var ne=re.rowBlocks[0].auxiliaryBlocks.reduce(function(Q,$){return Q+Z($,1/0)},0),te=Z(V(re),re.key);return i(0,te+ne)}).selectAll("."+k.cn.cellRect).attr("height",function(re){return(ne=V(re),te=re.key,ne.rows[te-ne.firstRowIndex]).rowHeight;var ne,te})}function j(W,re){for(var ne=0,te=re-1;te>=0;te--)ne+=F(W[te]);return ne}function Z(W,re){for(var ne=0,te=0;te<W.rows.length&&W.rows[te].rowIndex<re;te++)ne+=W.rows[te].rowHeight;return ne}function F(W){var re=W.allRowsHeight;if(re!==void 0)return re;for(var ne=0,te=0;te<W.rows.length;te++)ne+=W.rows[te].rowHeight;return W.allRowsHeight=ne,ne}function V(W){return W.rowBlocks[W.page]}U.exports=function(W,re){var ne=!W._context.staticPlot,te=W._fullLayout._paper.selectAll("."+k.cn.table).data(re.map(function(Le){var De=b.unwrap(Le).trace;return t(W,De)}),b.keyFun);te.exit().remove(),te.enter().append("g").classed(k.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),te.attr("width",function(Le){return Le.width+Le.size.l+Le.size.r}).attr("height",function(Le){return Le.height+Le.size.t+Le.size.b}).attr("transform",function(Le){return i(Le.translateX,Le.translateY)});var Q=te.selectAll("."+k.cn.tableControlView).data(b.repeat,b.keyFun),$=Q.enter().append("g").classed(k.cn.tableControlView,!0).style("box-sizing","content-box");if(ne){var K="onwheel"in document?"wheel":"mousewheel";$.on("mousemove",function(Le){Q.filter(function(De){return Le===De}).call(d,W)}).on(K,function(Le){if(!Le.scrollbarState.wheeling){Le.scrollbarState.wheeling=!0;var De=Le.scrollY+A.event.deltaY;O(W,Q,null,De)(Le)||(A.event.stopPropagation(),A.event.preventDefault()),Le.scrollbarState.wheeling=!1}}).call(d,W,!0)}Q.attr("transform",function(Le){return i(Le.size.l,Le.size.t)});var ae=Q.selectAll("."+k.cn.scrollBackground).data(b.repeat,b.keyFun);ae.enter().append("rect").classed(k.cn.scrollBackground,!0).attr("fill","none"),ae.attr("width",function(Le){return Le.width}).attr("height",function(Le){return Le.height}),Q.each(function(Le){f.setClipUrl(A.select(this),h(W,Le),W)});var ue=Q.selectAll("."+k.cn.yColumn).data(function(Le){return Le.columns},b.keyFun);ue.enter().append("g").classed(k.cn.yColumn,!0),ue.exit().remove(),ue.attr("transform",function(Le){return i(Le.x,0)}),ne&&ue.call(A.behavior.drag().origin(function(Le){return _(A.select(this),Le,-k.uplift),n(this),Le.calcdata.columnDragInProgress=!0,d(Q.filter(function(De){return Le.calcdata.key===De.key}),W),Le}).on("drag",function(Le){var De=A.select(this),ye=function(le){return(Le===le?A.event.x:le.x)+le.columnWidth/2};Le.x=Math.max(-k.overdrag,Math.min(Le.calcdata.width+k.overdrag-Le.columnWidth,A.event.x)),y(ue).filter(function(le){return le.calcdata.key===Le.calcdata.key}).sort(function(le,oe){return ye(le)-ye(oe)}).forEach(function(le,oe){le.xIndex=oe,le.x=Le===le?le.x:le.xScale(le)}),ue.filter(function(le){return Le!==le}).transition().ease(k.transitionEase).duration(k.transitionDuration).attr("transform",function(le){return i(le.x,0)}),De.call(r).attr("transform",i(Le.x,-k.uplift))}).on("dragend",function(Le){var De=A.select(this),ye=Le.calcdata;Le.x=Le.xScale(Le),Le.calcdata.columnDragInProgress=!1,_(De,Le,0),function(le,oe,ve){var Ce=oe.gdColumnsOriginalOrder;oe.gdColumns.sort(function(ke,Ae){return ve[Ce.indexOf(ke)]-ve[Ce.indexOf(Ae)]}),oe.columnorder=ve,le.emit("plotly_restyle")}(W,ye,ye.columns.map(function(le){return le.xIndex}))})),ue.each(function(Le){f.setClipUrl(A.select(this),c(W,Le),W)});var se=ue.selectAll("."+k.cn.columnBlock).data(a.splitToPanels,b.keyFun);se.enter().append("g").classed(k.cn.columnBlock,!0).attr("id",function(Le){return Le.key}),se.style("cursor",function(Le){return Le.dragHandle?"ew-resize":Le.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var he=se.filter(S),pe=se.filter(p);ne&&pe.call(A.behavior.drag().origin(function(Le){return A.event.stopPropagation(),Le}).on("drag",O(W,Q,-1)).on("dragend",function(){})),v(W,Q,he,se),v(W,Q,pe,se);var de=Q.selectAll("."+k.cn.scrollAreaClip).data(b.repeat,b.keyFun);de.enter().append("clipPath").classed(k.cn.scrollAreaClip,!0).attr("id",function(Le){return h(W,Le)});var xe=de.selectAll("."+k.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);xe.enter().append("rect").classed(k.cn.scrollAreaClipRect,!0).attr("x",-k.overdrag).attr("y",-k.uplift).attr("fill","none"),xe.attr("width",function(Le){return Le.width+2*k.overdrag}).attr("height",function(Le){return Le.height+k.uplift}),ue.selectAll("."+k.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(k.cn.columnBoundary,!0);var _e=ue.selectAll("."+k.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);_e.enter().append("clipPath").classed(k.cn.columnBoundaryClippath,!0),_e.attr("id",function(Le){return c(W,Le)});var be=_e.selectAll("."+k.cn.columnBoundaryRect).data(b.repeat,b.keyFun);be.enter().append("rect").classed(k.cn.columnBoundaryRect,!0).attr("fill","none"),be.attr("width",function(Le){return Le.columnWidth+2*u(Le)}).attr("height",function(Le){return Le.calcdata.height+2*u(Le)+k.uplift}).attr("x",function(Le){return-u(Le)}).attr("y",function(Le){return-u(Le)}),E(null,pe,Q)}},40516:function(U,C,e){var k=e(21776).Ks,A=e(21776).Gw,o=e(49084),w=e(86968).u,b=e(74996),f=e(424),s=e(32984),n=e(92880).extendFlat,i=e(98192).c;U.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:n({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:f.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:f.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:n({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:f.textinfo,texttemplate:A({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:k({},{keys:s.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:n({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:f.root,domain:w({name:"treemap",trace:!0,editType:"calc"})}},79516:function(U,C,e){var k=e(7316);C.name="treemap",C.plot=function(A,o,w,b){k.plotBasePlot(C.name,A,o,w,b)},C.clean=function(A,o,w,b){k.cleanBasePlot(C.name,A,o,w,b)}},97840:function(U,C,e){var k=e(3776);C.r=function(A,o){return k.calc(A,o)},C.q=function(A){return k._runCrossTraceCalc("treemap",A)}},32984:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(U,C,e){var k=e(3400),A=e(40516),o=e(76308),w=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,n=e(8932),i=n.hasColorscale,r=n.handleDefaults;U.exports=function(t,a,l,u){function h(_,p){return k.coerce(t,a,A,_,p)}var c=h("labels"),y=h("parents");if(c&&c.length&&y&&y.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.packing")==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",k.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var g=h("pathbar.visible");b(t,a,u,h,"auto",{hasPathbar:g,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var x=a.textposition.indexOf("bottom")!==-1;s(t,a,u,h),(a._hasColorscale=i(t,"marker","colors")||(t.marker||{}).coloraxis)?r(t,a,u,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(a.marker.colors||[]).length);var m=2*a.textfont.size;h("marker.pad.t",x?m/4:m),h("marker.pad.l",m/4),h("marker.pad.r",m/4),h("marker.pad.b",x?m:m/4),h("marker.cornerradius"),a._hovered={marker:{line:{width:2,color:o.contrast(u.paper_bgcolor)}}},g&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),w(a,u,h),a._length=null}else a.visible=!1}},95808:function(U,C,e){var k=e(33428),A=e(78176),o=e(82744).clearMinTextSize,w=e(60100).resizeText,b=e(52960);U.exports=function(f,s,n,i,r){var t,a,l=r.type,u=r.drawDescendants,h=f._fullLayout,c=h["_"+l+"layer"],y=!n;o(l,h),(t=c.selectAll("g.trace."+l).data(s,function(d){return d[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),t.order(),!h.uniformtext.mode&&A.hasTransition(n)?(i&&(a=i()),k.transition().duration(n.duration).ease(n.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()}).each(function(){c.selectAll("g.trace").each(function(d){b(f,d,this,n,u)})})):(t.each(function(d){b(f,d,this,n,u)}),h.uniformtext.mode&&w(f,c.selectAll(".trace"),l)),y&&t.exit().remove()}},27336:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),n=e(78176),i=e(45716),r=!0;U.exports=function(t,a,l,u,h){var c=h.barDifY,y=h.width,d=h.height,v=h.viewX,g=h.viewY,x=h.pathSlice,m=h.toMoveInsideSlice,_=h.strTransform,p=h.hasTransition,S=h.handleSlicesExit,T=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,O={},P=t._context.staticPlot,I=t._fullLayout,R=a[0],H=R.trace,z=R.hierarchy,j=y/H._entryDepth,Z=n.listPath(l.data,"id"),F=b(z.copy(),[y,d],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(W){var re=Z.indexOf(W.data.id);return re!==-1&&(W.x0=j*re,W.x1=j*(re+1),W.y0=c,W.y1=c+d,W.onPathbar=!0,!0)})).reverse(),(u=u.data(F,n.getPtId)).enter().append("g").classed("pathbar",!0),S(u,r,O,[y,d],x),u.order();var V=u;p&&(V=V.transition().each("end",function(){var W=k.select(this);n.setSliceCursor(W,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(W){W._x0=v(W.x0),W._x1=v(W.x1),W._y0=g(W.y0),W._y1=g(W.y1),W._hoverX=v(W.x1-Math.min(y,d)/2),W._hoverY=g(W.y1-d/2);var re=k.select(this),ne=A.ensureSingle(re,"path","surface",function(K){K.style("pointer-events",P?"none":"all")});p?ne.transition().attrTween("d",function(K){var ae=T(K,r,O,[y,d]);return function(ue){return x(ae(ue))}}):ne.attr("d",x),re.call(i,l,t,a,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:t._transitioning}),ne.call(f,W,H,t,{hovered:!1}),W._text=(n.getPtLabel(W)||"").split("<br>").join(" ")||"";var te=A.ensureSingle(re,"g","slicetext"),Q=A.ensureSingle(te,"text","",function(K){K.attr("data-notex",1)}),$=A.ensureUniformFontSize(t,n.determineTextFont(H,W,I.font,{onPathbar:!0}));Q.text(W._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,$).call(w.convertToTspans,t),W.textBB=o.bBox(Q.node()),W.transform=m(W,{fontSize:$.size,onPathbar:!0}),W.transform.fontSize=$.size,p?Q.transition().attrTween("transform",function(K){var ae=E(K,r,O,[y,d]);return function(ue){return _(ae(ue))}}):Q.attr("transform",_(W))})}},76477:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),n=e(78176),i=e(45716),r=e(96488).formatSliceLabel,t=!1;U.exports=function(a,l,u,h,c){var y=c.width,d=c.height,v=c.viewX,g=c.viewY,x=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,p=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,O=c.prevEntry,P=a._context.staticPlot,I=a._fullLayout,R=l[0].trace,H=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,j=R.textposition.indexOf("bottom")!==-1,Z=!j&&!R.marker.pad.t||j&&!R.marker.pad.b,F=b(u,[y,d],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),V=1/0,W=-1/0;F.forEach(function($){var K=$.depth;K>=R._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(V=Math.min(V,K),W=Math.max(W,K))}),h=h.data(F,n.getPtId),R._maxVisibleLayers=isFinite(W)?W-V+1:0,h.enter().append("g").classed("slice",!0),S(h,t,{},[y,d],x),h.order();var re=null;if(p&&O){var ne=n.getPtId(O);h.each(function($){re===null&&n.getPtId($)===ne&&(re={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var te=function(){return re||{x0:0,x1:y,y0:0,y1:d}},Q=h;return p&&(Q=Q.transition().each("end",function(){var $=k.select(this);n.setSliceCursor($,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function($){var K=n.isHeader($,R);$._x0=v($.x0),$._x1=v($.x1),$._y0=g($.y0),$._y1=g($.y1),$._hoverX=v($.x1-R.marker.pad.r),$._hoverY=g(j?$.y1-R.marker.pad.b/2:$.y0+R.marker.pad.t/2);var ae=k.select(this),ue=A.ensureSingle(ae,"path","surface",function(_e){_e.style("pointer-events",P?"none":"all")});p?ue.transition().attrTween("d",function(_e){var be=T(_e,t,te(),[y,d]);return function(Le){return x(be(Le))}}):ue.attr("d",x),ae.call(i,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,a,{isTransitioning:a._transitioning}),ue.call(f,$,R,a,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=K?Z?"":n.getPtLabel($)||"":r($,u,R,l,I)||"";var se=A.ensureSingle(ae,"g","slicetext"),he=A.ensureSingle(se,"text","",function(_e){_e.attr("data-notex",1)}),pe=A.ensureUniformFontSize(a,n.determineTextFont(R,$,I.font)),de=$._text||" ",xe=K&&de.indexOf("<br>")===-1;he.text(de).classed("slicetext",!0).attr("text-anchor",z?"end":H||xe?"start":"middle").call(o.font,pe).call(w.convertToTspans,a),$.textBB=o.bBox(he.node()),$.transform=m($,{fontSize:pe.size,isHeader:K}),$.transform.fontSize=pe.size,p?he.transition().attrTween("transform",function(_e){var be=E(_e,t,te(),[y,d]);return function(Le){return _(be(Le))}}):he.attr("transform",_($))}),re}},83024:function(U){U.exports=function C(e,k,A){var o;A.swapXY&&(o=e.x0,e.x0=e.y0,e.y0=o,o=e.x1,e.x1=e.y1,e.y1=o),A.flipX&&(o=e.x0,e.x0=k[0]-e.x1,e.x1=k[0]-o),A.flipY&&(o=e.y0,e.y0=k[1]-e.y1,e.y1=k[1]-o);var w=e.children;if(w)for(var b=0;b<w.length;b++)C(w[b],k,A)}},31991:function(U,C,e){U.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(U){U.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(U,C,e){var k=e(3400),A=e(45392);U.exports=function(o,w){function b(f,s){return k.coerce(o,w,A,f,s)}b("treemapcolorway",w.colorway),b("extendtreemapcolors")}},13832:function(U,C,e){var k=e(74148),A=e(83024);U.exports=function(o,w,b){var f,s=b.flipX,n=b.flipY,i=b.packing==="dice-slice",r=b.pad[n?"bottom":"top"],t=b.pad[s?"right":"left"],a=b.pad[s?"left":"right"],l=b.pad[n?"top":"bottom"];i&&(f=t,t=r,r=f,f=a,a=l,l=f);var u=k.treemap().tile(function(h,c){switch(h){case"squarify":return k.treemapSquarify.ratio(c);case"binary":return k.treemapBinary;case"dice":return k.treemapDice;case"slice":return k.treemapSlice;default:return k.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(t).paddingRight(a).paddingTop(r).paddingBottom(l).size(i?[w[1],w[0]]:w)(o);return(i||s||n)&&A(u,w,{swapXY:i,flipX:s,flipY:n}),u}},53264:function(U,C,e){var k=e(95808),A=e(76477);U.exports=function(o,w,b,f){return k(o,w,b,f,{type:"treemap",drawDescendants:A})}},52960:function(U,C,e){var k=e(33428),A=e(67756).qy,o=e(78176),w=e(3400),b=e(78048).TEXTPAD,f=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,n=e(32984),i=e(27336);function r(t){return o.isHierarchyRoot(t)?"":o.getPtId(t)}U.exports=function(t,a,l,u,h){var c=t._fullLayout,y=a[0],d=y.trace,v=d.type==="icicle",g=y.hierarchy,x=o.findEntryWithLevel(g,d.level),m=k.select(l),_=m.selectAll("g.pathbar"),p=m.selectAll("g.slice");if(!x)return _.remove(),void p.remove();var S=o.isHierarchyRoot(x),T=!c.uniformtext.mode&&o.hasTransition(u),E=o.getMaxDepth(d),O=c._size,P=d.domain,I=O.w*(P.x[1]-P.x[0]),R=O.h*(P.y[1]-P.y[0]),H=I,z=d.pathbar.thickness,j=d.marker.line.width+n.gapWithPathbar,Z=d.pathbar.visible?d.pathbar.side.indexOf("bottom")>-1?R+j:-(z+j):0,F={x0:H,x1:H,y0:Z,y1:Z+z},V=function(Te,Se,Re){var Pe=d.tiling.pad,Ve=function(ut){return ut-Pe<=Se.x0},We=function(ut){return ut+Pe>=Se.x1},Qe=function(ut){return ut-Pe<=Se.y0},lt=function(ut){return ut+Pe>=Se.y1};return Te.x0===Se.x0&&Te.x1===Se.x1&&Te.y0===Se.y0&&Te.y1===Se.y1?{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1}:{x0:Ve(Te.x0-Pe)?0:We(Te.x0-Pe)?Re[0]:Te.x0,x1:Ve(Te.x1+Pe)?0:We(Te.x1+Pe)?Re[0]:Te.x1,y0:Qe(Te.y0-Pe)?0:lt(Te.y0-Pe)?Re[1]:Te.y0,y1:Qe(Te.y1+Pe)?0:lt(Te.y1+Pe)?Re[1]:Te.y1}},W=null,re={},ne={},te=null,Q=function(Te,Se){return Se?re[r(Te)]:ne[r(Te)]};y.hasMultipleRoots&&S&&E++,d._maxDepth=E,d._backgroundColor=c.paper_bgcolor,d._entryDepth=x.data.depth,d._atRootLevel=S;var $=-I/2+O.l+O.w*(P.x[1]+P.x[0])/2,K=-R/2+O.t+O.h*(1-(P.y[1]+P.y[0])/2),ae=function(Te){return $+Te},ue=function(Te){return K+Te},se=ue(0),he=ae(0),pe=function(Te){return he+Te},de=function(Te){return se+Te};function xe(Te,Se){return Te+","+Se}var _e=pe(0),be=function(Te){Te.x=Math.max(_e,Te.x)},Le=d.pathbar.edgeshape,De=d[v?"tiling":"marker"].pad,ye=function(Te){return d.textposition.indexOf(Te)!==-1},le=ye("top"),oe=ye("left"),ve=ye("right"),Ce=ye("bottom"),ke=function(Te,Se){var Re=Te.x0,Pe=Te.x1,Ve=Te.y0,We=Te.y1,Qe=Te.textBB,lt=le||Se.isHeader&&!Ce?"start":Ce?"end":"middle",ut=ye("right"),xt=ye("left")||Se.onPathbar?-1:ut?1:0;if(Se.isHeader){if((Re+=(v?De:De.l)-b)>=(Pe-=(v?De:De.r)-b)){var _t=(Re+Pe)/2;Re=_t,Pe=_t}var mt;Ce?Ve<(mt=We-(v?De:De.b))&&mt<We&&(Ve=mt):Ve<(mt=Ve+(v?De:De.t))&&mt<We&&(We=mt)}var it=f(Re,Pe,Ve,We,Qe,{isHorizontal:!1,constrained:!0,angle:0,anchor:lt,leftToRight:xt});return it.fontSize=Se.fontSize,it.targetX=ae(it.targetX),it.targetY=ue(it.targetY),isNaN(it.targetX)||isNaN(it.targetY)?{}:(Re!==Pe&&Ve!==We&&s(d.type,it,c),{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY})},Ae=function(Te,Se){for(var Re,Pe=0,Ve=Te;!Re&&Pe<E;)Pe++,(Ve=Ve.parent)?Re=Q(Ve,Se):Pe=E;return Re||{}},Ee=function(Te,Se,Re,Pe,Ve){var We,Qe=Q(Te,Se);if(Qe)We=Qe;else if(Se)We=F;else if(W)if(Te.parent){var lt=te||Re;lt&&!Se?We=V(Te,lt,Pe):(We={},w.extendFlat(We,Ae(Te,Se)))}else We=w.extendFlat({},Te),v&&(Ve.orientation==="h"?Ve.flipX?We.x0=Te.x1:We.x1=0:Ve.flipY?We.y0=Te.y1:We.y1=0);else We={};return A(We,{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1})},ze=function(Te,Se,Re,Pe){var Ve=Q(Te,Se),We={},Qe=function(ut,xt,_t,mt){if(xt)return re[r(g)]||F;var it=ne[d.level]||_t;return function(nt){return nt.data.depth-x.data.depth<E}(ut)?V(ut,it,mt):{}}(Te,Se,Re,Pe);w.extendFlat(We,{transform:ke({x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1,textBB:Te.textBB,_text:Te._text},{isHeader:o.isHeader(Te,d)})}),Ve?We=Ve:Te.parent&&w.extendFlat(We,Ae(Te,Se));var lt=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(d.type,lt,c),A(We,{transform:{scale:lt.scale,rotate:lt.rotate,textX:lt.textX,textY:lt.textY,anchorX:lt.anchorX,anchorY:lt.anchorY,targetX:lt.targetX,targetY:lt.targetY}})},Fe=function(Te,Se,Re,Pe,Ve){var We=Pe[0],Qe=Pe[1];T?Te.exit().transition().each(function(){var lt=k.select(this);lt.select("path.surface").transition().attrTween("d",function(ut){var xt=function(_t,mt,it,nt){var Et,Rt=Q(_t,mt);if(mt)Et=F;else{var Ft=Q(x,mt);Et=Ft?V(_t,Ft,nt):{}}return A(Rt,Et)}(ut,Se,0,[We,Qe]);return function(_t){return Ve(xt(_t))}}),lt.select("g.slicetext").attr("opacity",0)}).remove():Te.exit().remove()},ge=function(Te){var Se=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(d.type,Se,c),w.getTextTransform({textX:Se.textX,textY:Se.textY,anchorX:Se.anchorX,anchorY:Se.anchorY,targetX:Se.targetX,targetY:Se.targetY,scale:Se.scale,rotate:Se.rotate})};T&&(_.each(function(Te){re[r(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&(re[r(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate})}),p.each(function(Te){ne[r(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&(ne[r(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate}),!W&&o.isEntry(Te)&&(W=Te)})),te=h(t,a,x,p,{width:I,height:R,viewX:ae,viewY:ue,pathSlice:function(Te){var Se=ae(Te.x0),Re=ae(Te.x1),Pe=ue(Te.y0),Ve=ue(Te.y1),We=Re-Se,Qe=Ve-Pe;if(!We||!Qe)return"";var lt=d.marker.cornerradius||0,ut=Math.min(lt,We/2,Qe/2);ut&&Te.data&&Te.data.data&&Te.data.data.label&&(le&&(ut=Math.min(ut,De.t)),oe&&(ut=Math.min(ut,De.l)),ve&&(ut=Math.min(ut,De.r)),Ce&&(ut=Math.min(ut,De.b)));var xt=function(_t,mt){return ut?"a"+xe(ut,ut)+" 0 0 1 "+xe(_t,mt):""};return"M"+xe(Se,Pe+ut)+xt(ut,-ut)+"L"+xe(Re-ut,Pe)+xt(ut,ut)+"L"+xe(Re,Ve-ut)+xt(-ut,ut)+"L"+xe(Se+ut,Ve)+xt(-ut,-ut)+"Z"},toMoveInsideSlice:ke,prevEntry:W,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:ze,handleSlicesExit:Fe,hasTransition:T,strTransform:ge}),d.pathbar.visible?i(t,a,x,_,{barDifY:Z,width:H,height:z,viewX:pe,viewY:de,pathSlice:function(Te){var Se=pe(Math.max(Math.min(Te.x0,Te.x0),0)),Re=pe(Math.min(Math.max(Te.x1,Te.x1),H)),Pe=de(Te.y0),Ve=de(Te.y1),We=z/2,Qe={},lt={};Qe.x=Se,lt.x=Re,Qe.y=lt.y=(Pe+Ve)/2;var ut={x:Se,y:Pe},xt={x:Re,y:Pe},_t={x:Re,y:Ve},mt={x:Se,y:Ve};return Le===">"?(ut.x-=We,xt.x-=We,_t.x-=We,mt.x-=We):Le==="/"?(_t.x-=We,mt.x-=We,Qe.x-=We/2,lt.x-=We/2):Le==="\\"?(ut.x-=We,xt.x-=We,Qe.x-=We/2,lt.x-=We/2):Le==="<"&&(Qe.x-=We,lt.x-=We),be(ut),be(mt),be(Qe),be(xt),be(_t),be(lt),"M"+xe(ut.x,ut.y)+"L"+xe(xt.x,xt.y)+"L"+xe(lt.x,lt.y)+"L"+xe(_t.x,_t.y)+"L"+xe(mt.x,mt.y)+"L"+xe(Qe.x,Qe.y)+"Z"},toMoveInsideSlice:ke,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:ze,handleSlicesExit:Fe,hasTransition:T,strTransform:ge}):_.remove()}},66192:function(U,C,e){var k=e(33428),A=e(76308),o=e(3400),w=e(78176),b=e(82744).resizeText,f=e(60404);function s(n,i,r,t,a){var l,u,h=(a||{}).hovered,c=i.data.data,y=c.i,d=c.color,v=w.isHierarchyRoot(i),g=1;if(h)l=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(v&&d===r.root.color)g=100,l="rgba(0,0,0,0)",u=0;else if(l=o.castOption(r,y,"marker.line.color")||A.defaultLine,u=o.castOption(r,y,"marker.line.width")||0,!r._hasColorscale&&!i.onPathbar){var x=r.marker.depthfade;if(x){var m,_=A.combine(A.addOpacity(r._backgroundColor,.75),d);if(x===!0){var p=w.getMaxDepth(r);m=isFinite(p)?w.isLeaf(i)?0:r._maxVisibleLayers-(i.data.depth-r._entryDepth):i.data.height+1}else m=i.data.depth-r._entryDepth,r._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var T=.5*S/m;d=A.combine(A.addOpacity(_,T),d)}}}n.call(f,i,r,t,d).style("stroke-width",u).call(A.stroke,l).style("opacity",g)}U.exports={style:function(n){var i=n._fullLayout._treemaplayer.selectAll(".trace");b(n,i,"treemap"),i.each(function(r){var t=k.select(this),a=r[0].trace;t.style("opacity",a.opacity),t.selectAll("path.surface").each(function(l){k.select(this).call(s,l,a,n,{hovered:!1})})})},styleOne:s}},13988:function(U,C,e){var k=e(63188),A=e(92880).extendFlat,o=e(29736).axisHoverFormat;U.exports={y:k.y,x:k.x,x0:k.x0,y0:k.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:A({},k.name,{}),orientation:A({},k.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:k.fillcolor,points:A({},k.boxpoints,{}),jitter:A({},k.jitter,{}),pointpos:A({},k.pointpos,{}),width:A({},k.width,{}),marker:k.marker,text:k.text,hovertext:k.hovertext,hovertemplate:k.hovertemplate,quartilemethod:k.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:k.selected,unselected:k.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:k.zorder}},67064:function(U,C,e){var k=e(3400),A=e(54460),o=e(62555),w=e(63800),b=e(39032).BADNUM;function f(n,i,r){var t=i.max-i.min;if(!t)return n.bandwidth?n.bandwidth:0;if(n.bandwidth)return Math.max(n.bandwidth,t/1e4);var a=r.length,l=k.stdev(r,a-1,i.mean);return Math.max(function(u,h,c){return 1.059*Math.min(h,c/1.349)*Math.pow(u,-.2)}(a,l,i.q3-i.q1),t/100)}function s(n,i,r,t){var a,l=n.spanmode,u=n.span||[],h=[i.min,i.max],c=[i.min-2*t,i.max+2*t];function y(v){var g=u[v],x=r.type==="multicategory"?r.r2c(g):r.d2c(g,0,n[i.valLetter+"calendar"]);return x===b?c[v]:x}var d={type:"linear",range:a=l==="soft"?c:l==="hard"?h:[y(0),y(1)]};return A.setConvert(d),d.cleanRange(),a}U.exports=function(n,i){var r=o(n,i);if(r[0].t.empty)return r;for(var t=n._fullLayout,a=A.getFromId(n,i[i.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,h=0,c=0,y=0;y<r.length;y++){var d=r[y],v=d.pts.map(w.extractVal),g=d.bandwidth=f(i,d,v),x=d.span=s(i,d,a,g);if(d.min===d.max&&g===0)x=d.span=[d.min,d.max],d.density=[{v:1,t:x[0]}],d.bandwidth=g,h=Math.max(h,1);else{var m=x[1]-x[0],_=Math.ceil(m/(g/3)),p=m/_;if(!isFinite(p)||!isFinite(_))return k.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var S=w.makeKDE(d,i,v);d.density=new Array(_);for(var T=0,E=x[0];E<x[1]+p/2;T++,E+=p){var O=S(E);d.density[T]={v:O,t:E},h=Math.max(h,O)}}c=Math.max(c,v.length),l=Math.min(l,x[0]),u=Math.max(u,x[1])}var P=A.findExtremes(a,[l,u],{padded:!0});if(i._extremes[a._id]=P,i.width)r[0].t.maxKDE=h;else{var I=t._violinScaleGroupStats,R=i.scalegroup,H=I[R];H?(H.maxKDE=Math.max(H.maxKDE,h),H.maxCount=Math.max(H.maxCount,c)):I[R]={maxKDE:h,maxCount:c}}return r[0].t.labels.kde=k._(n,"kde:"),r}},14348:function(U,C,e){var k=e(96404).setPositionOffset,A=["v","h"];U.exports=function(o,w){for(var b=o.calcdata,f=w.xaxis,s=w.yaxis,n=0;n<A.length;n++){for(var i=A[n],r=i==="h"?s:f,t=[],a=0;a<b.length;a++){var l=b[a],u=l[0].t,h=l[0].trace;h.visible!==!0||h.type!=="violin"||u.empty||h.orientation!==i||h.xaxis!==f._id||h.yaxis!==s._id||t.push(a)}k("violin",o,t,r)}}},36240:function(U,C,e){var k=e(3400),A=e(76308),o=e(90624),w=e(13988);U.exports=function(b,f,s,n){function i(m,_){return k.coerce(b,f,w,m,_)}function r(m,_){return k.coerce2(b,f,w,m,_)}if(o.handleSampleDefaults(b,f,i,n),f.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",f.name),i("scalemode"));var t,a=i("span");Array.isArray(a)&&(t="manual"),i("spanmode",t);var l=i("line.color",(b.marker||{}).color||s),u=i("line.width"),h=i("fillcolor",A.addOpacity(f.line.color,.5));o.handlePointsDefaults(b,f,i,{prefix:""});var c=r("box.width"),y=r("box.fillcolor",h),d=r("box.line.color",l),v=r("box.line.width",u);i("box.visible",!!(c||y||d||v))||(f.box={visible:!1});var g=r("meanline.color",l),x=r("meanline.width",u);i("meanline.visible",!!(g||x))||(f.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(U,C,e){var k=e(3400),A=function(o){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)};C.makeKDE=function(o,w,b){var f=b.length,s=A,n=o.bandwidth,i=1/(f*n);return function(r){for(var t=0,a=0;a<f;a++)t+=s((r-b[a])/n);return i*t}},C.getPositionOnKdePath=function(o,w,b){var f,s;w.orientation==="h"?(f="y",s="x"):(f="x",s="y");var n=k.findPointOnPath(o.path,b,s,{pathLength:o.pathLength}),i=o.posCenterPx,r=n[f];return[r,w.side==="both"?2*i-r:i]},C.getKdeValue=function(o,w,b){var f=o.pts.map(C.extractVal);return C.makeKDE(o,w,f)(b)/o.posDensityScale},C.extractVal=function(o){return o.v}},78e3:function(U,C,e){var k=e(76308),A=e(3400),o=e(54460),w=e(27576),b=e(63800);U.exports=function(f,s,n,i,r){r||(r={});var t,a,l=r.hoverLayer,u=f.cd,h=u[0].trace,c=h.hoveron,y=c.indexOf("violins")!==-1,d=c.indexOf("kde")!==-1,v=[];if(y||d){var g=w.hoverOnBoxes(f,s,n,i);if(d&&g.length>0){var x,m,_,p,S,T=f.xa,E=f.ya;h.orientation==="h"?(S=s,x="y",_=E,m="x",p=T):(S=n,x="x",_=T,m="y",p=E);var O=u[f.index];if(S>=O.span[0]&&S<=O.span[1]){var P=A.extendFlat({},f),I=p.c2p(S,!0),R=b.getKdeValue(O,h,S),H=b.getPositionOnKdePath(O,h,I),z=_._offset,j=_._length;P[x+"0"]=H[0],P[x+"1"]=H[1],P[m+"0"]=P[m+"1"]=I,P[m+"Label"]=m+": "+o.hoverLabelText(p,S,h[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var Z=0,F=0;F<g.length;F++)if(g[F].attr==="med"){Z=F;break}P.spikeDistance=g[Z].spikeDistance;var V=x+"Spike";P[V]=g[Z][V],g[Z].spikeDistance=void 0,g[Z][V]=void 0,P.hovertemplate=!1,v.push(P),(a={})[x+"1"]=A.constrain(z+H[0],z,z+j),a[x+"2"]=A.constrain(z+H[1],z,z+j),a[m+"1"]=a[m+"2"]=p._offset+I}}y&&(v=v.concat(g))}c.indexOf("points")!==-1&&(t=w.hoverOnPoints(f,s,n));var W=l.selectAll(".violinline-"+h.uid).data(a?[0]:[]);return W.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),W.exit().remove(),W.attr(a).call(k.stroke,f.color),i==="closest"?t?[t]:v:(t&&v.push(t),v)}},22869:function(U,C,e){U.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(U,C,e){var k=e(16560),A=e(3400).extendFlat;U.exports={violinmode:A({},k.boxmode,{}),violingap:A({},k.boxgap,{}),violingroupgap:A({},k.boxgroupgap,{})}},8939:function(U,C,e){var k=e(3400),A=e(98228),o=e(68832);U.exports=function(w,b,f){o._supply(w,b,f,function(s,n){return k.coerce(w,b,A,s,n)},"violin")}},5140:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(18728),b=e(52340),f=e(63800);U.exports=function(s,n,i,r){var t=s._context.staticPlot,a=s._fullLayout,l=n.xaxis,u=n.yaxis;function h(c,y){var d=b(c,{xaxis:l,yaxis:u,trace:y,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(d[0],1)}A.makeTraceGroups(r,i,"trace violins").each(function(c){var y=k.select(this),d=c[0],v=d.t,g=d.trace;if(g.visible!==!0||v.empty)y.remove();else{var x=v.bPos,m=v.bdPos,_=n[v.valLetter+"axis"],p=n[v.posLetter+"axis"],S=g.side==="both",T=S||g.side==="positive",E=S||g.side==="negative",O=y.selectAll("path.violin").data(A.identity);O.enter().append("path").style("vector-effect",t?"none":"non-scaling-stroke").attr("class","violin"),O.exit().remove(),O.each(function(F){var V,W,re,ne,te,Q,$,K,ae=k.select(this),ue=F.density,se=ue.length,he=p.c2l(F.pos+x,!0),pe=p.l2p(he);if(g.width)V=v.maxKDE/m;else{var de=a._violinScaleGroupStats[g.scalegroup];V=g.scalemode==="count"?de.maxKDE/m*(de.maxCount/F.pts.length):de.maxKDE/m}if(T){for($=new Array(se),te=0;te<se;te++)(K=$[te]={})[v.posLetter]=he+ue[te].v/V,K[v.valLetter]=_.c2l(ue[te].t,!0);W=h($,g)}if(E){for($=new Array(se),Q=0,te=se-1;Q<se;Q++,te--)(K=$[Q]={})[v.posLetter]=he-ue[te].v/V,K[v.valLetter]=_.c2l(ue[te].t,!0);re=h($,g)}if(S)ne=W+"L"+re.substr(1)+"Z";else{var xe=[pe,_.c2p(ue[0].t)],_e=[pe,_.c2p(ue[se-1].t)];g.orientation==="h"&&(xe.reverse(),_e.reverse()),ne=T?"M"+xe+"L"+W.substr(1)+"L"+_e:"M"+_e+"L"+re.substr(1)+"L"+xe}ae.attr("d",ne),F.posCenterPx=pe,F.posDensityScale=V*m,F.path=ae.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var P,I,R,H=g.box,z=H.width,j=(H.line||{}).width;S?(P=m*z,I=0):T?(P=[0,m*z/2],I=j*{x:1,y:-1}[v.posLetter]):(P=[m*z/2,0],I=j*{x:-1,y:1}[v.posLetter]),w.plotBoxAndWhiskers(y,{pos:p,val:_},g,{bPos:x,bdPos:P,bPosPxOffset:I}),w.plotBoxMean(y,{pos:p,val:_},g,{bPos:x,bdPos:P,bPosPxOffset:I}),!g.box.visible&&g.meanline.visible&&(R=A.identity);var Z=y.selectAll("path.meanline").data(R||[]);Z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",t?"none":"non-scaling-stroke"),Z.exit().remove(),Z.each(function(F){var V=_.c2p(F.mean,!0),W=f.getPositionOnKdePath(F,g,V);k.select(this).attr("d",g.orientation==="h"?"M"+V+","+W[0]+"V"+W[1]:"M"+W[0]+","+V+"H"+W[1])}),w.plotPoints(y,{x:l,y:u},g,v)}})}},95908:function(U,C,e){var k=e(33428),A=e(76308),o=e(49224).stylePoints;U.exports=function(w){var b=k.select(w).selectAll("g.trace.violins");b.style("opacity",function(f){return f[0].trace.opacity}),b.each(function(f){var s=f[0].trace,n=k.select(this),i=s.box||{},r=i.line||{},t=s.meanline||{},a=t.width;n.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(A.stroke,s.line.color).call(A.fill,s.fillcolor),n.selectAll("path.box").style("stroke-width",r.width+"px").call(A.stroke,r.color).call(A.fill,i.fillcolor);var l={"stroke-width":a+"px","stroke-dasharray":2*a+"px,"+a+"px"};n.selectAll("path.mean").style(l).call(A.stroke,t.color),n.selectAll("path.meanline").style(l).call(A.stroke,t.color),o(n,s,w)})}},58168:function(U,C,e){var k=e(49084),A=e(50048),o=e(16716),w=e(45464),b=e(92880).extendFlat,f=e(67824).overrideAll,s=U.exports=f(b({x:A.x,y:A.y,z:A.z,value:A.value,isomin:A.isomin,isomax:A.isomax,surface:A.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:A.slices,caps:A.caps,text:A.text,hovertext:A.hovertext,xhoverformat:A.xhoverformat,yhoverformat:A.yhoverformat,zhoverformat:A.zhoverformat,valuehoverformat:A.valuehoverformat,hovertemplate:A.hovertemplate},k("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:A.colorbar,opacity:A.opacity,opacityscale:o.opacityscale,lightposition:A.lightposition,lighting:A.lighting,flatshading:A.flatshading,contour:A.contour,hoverinfo:b({},w.hoverinfo),showlegend:b({},w.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(U,C,e){var k=e(67792).gl_mesh3d,A=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,w=e(43080),b=e(8932).extractOpts,f=e(52094),s=e(31460).findNearestOnAxis,n=e(31460).generateIsoMeshes;function i(t,a,l){this.scene=t,this.uid=l,this.mesh=a,this.name="",this.data=null,this.showContour=!1}var r=i.prototype;r.handlePick=function(t){if(t.object===this.mesh){var a=t.data.index,l=this.data._meshX[a],u=this.data._meshY[a],h=this.data._meshZ[a],c=this.data._Ys.length,y=this.data._Zs.length,d=s(l,this.data._Xs).id,v=s(u,this.data._Ys).id,g=s(h,this.data._Zs).id,x=t.index=g+y*v+y*c*d;t.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var m=this.data.hovertext||this.data.text;return o(m)&&m[x]!==void 0?t.textLabel=m[x]:m&&(t.textLabel=m),!0}},r.update=function(t){var a=this.scene,l=a.fullSceneLayout;function u(y,d,v,g){return d.map(function(x){return y.d2l(x,0,g)*v})}this.data=n(t);var h={positions:f(u(l.xaxis,t._meshX,a.dataScale[0],t.xcalendar),u(l.yaxis,t._meshY,a.dataScale[1],t.ycalendar),u(l.zaxis,t._meshZ,a.dataScale[2],t.zcalendar)),cells:f(t._meshI,t._meshJ,t._meshK),lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,opacityscale:t.opacityscale,contourEnable:t.contour.show,contourColor:w(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading},c=b(t);h.vertexIntensity=t._meshIntensity,h.vertexIntensityBounds=[c.min,c.max],h.colormap=A(t),this.mesh.update(h)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(t,a){var l=t.glplot.gl,u=k({gl:l}),h=new i(t,u,a.uid);return u._trace=h,h.update(a),t.glplot.add(u),h}},12448:function(U,C,e){var k=e(3400),A=e(58168),o=e(70548).supplyIsoDefaults,w=e(60192).opacityscaleDefaults;U.exports=function(b,f,s,n){function i(r,t){return k.coerce(b,f,A,r,t)}o(b,f,s,n,i),w(b,f,n,i)}},67776:function(U,C,e){U.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(U,C,e){var k=e(20832),A=e(52904).line,o=e(45464),w=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(10213),n=e(92880).extendFlat,i=e(76308);function r(t){return{marker:{color:n({},k.marker.color,{arrayOk:!1,editType:"style"}),line:{color:n({},k.marker.line.color,{arrayOk:!1,editType:"style"}),width:n({},k.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}U.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),hovertext:k.hovertext,hovertemplate:b({},{keys:s.eventDataKeys}),hoverinfo:n({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:f({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:k.text,textposition:k.textposition,insidetextanchor:k.insidetextanchor,textangle:k.textangle,textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:k.orientation,offset:k.offset,width:k.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:n({},A.color,{dflt:i.defaultLine}),width:n({},A.width,{editType:"plot"}),dash:A.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,zorder:k.zorder}},73540:function(U,C,e){var k=e(54460),A=e(1220),o=e(3400).mergeArray,w=e(4500),b=e(39032).BADNUM;function f(n){return n==="a"||n==="absolute"}function s(n){return n==="t"||n==="total"}U.exports=function(n,i){var r,t,a,l,u,h,c=k.getFromId(n,i.xaxis||"x"),y=k.getFromId(n,i.yaxis||"y");i.orientation==="h"?(r=c.makeCalcdata(i,"x"),a=y.makeCalcdata(i,"y"),l=A(i,y,"y",a),u=!!i.yperiodalignment,h="y"):(r=y.makeCalcdata(i,"y"),a=c.makeCalcdata(i,"x"),l=A(i,c,"x",a),u=!!i.xperiodalignment,h="x"),t=l.vals;for(var d,v=Math.min(t.length,r.length),g=new Array(v),x=0,m=!1,_=0;_<v;_++){var p=r[_]||0,S=!1;(r[_]!==b||s(i.measure[_])||f(i.measure[_]))&&_+1<v&&(r[_+1]!==b||s(i.measure[_+1])||f(i.measure[_+1]))&&(S=!0);var T=g[_]={i:_,p:t[_],s:p,rawS:p,cNext:S};f(i.measure[_])?(x=T.s,T.isSum=!0,T.dir="totals",T.s=x):s(i.measure[_])?(T.isSum=!0,T.dir="totals",T.s=x):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",d=T.s,T.s=x+d,x+=d),T.dir==="totals"&&(m=!0),u&&(g[_].orig_p=a[_],g[_][h+"End"]=l.ends[_],g[_][h+"Start"]=l.starts[_]),i.ids&&(T.id=String(i.ids[_])),T.v=(i.base||0)+x}return g.length&&(g[0].hasTotals=m),o(i.text,g,"tx"),o(i.hovertext,g,"htx"),w(g,i),g}},10213:function(U){U.exports={eventDataKeys:["initial","delta","final"]}},50152:function(U,C,e){var k=e(96376).setGroupPositions;U.exports=function(A,o){var w,b,f=A._fullLayout,s=A._fullData,n=A.calcdata,i=o.xaxis,r=o.yaxis,t=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b];u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="waterfall"&&(w=n[b],u.orientation==="h"?l.push(w):a.push(w),t.push(w))}var h={mode:f.waterfallmode,norm:f.waterfallnorm,gap:f.waterfallgap,groupgap:f.waterfallgroupgap};for(k(A,i,r,a,h),k(A,r,i,l,h),b=0;b<t.length;b++){w=t[b];for(var c=0;c<w.length;c++){var y=w[c];y.isSum===!1&&(y.s0+=c===0?0:w[c-1].s),c+1<w.length&&(w[c].nextP0=w[c+1].p0,w[c].nextS0=w[c+1].s0)}}}},24224:function(U,C,e){var k=e(3400),A=e(20011),o=e(31508).handleText,w=e(43980),b=e(31147),f=e(65776),s=e(76308),n=e(48164),i=n.INCREASING.COLOR,r=n.DECREASING.COLOR;function t(a,l,u){a(l+".marker.color",u),a(l+".marker.line.color",s.defaultLine),a(l+".marker.line.width")}U.exports={supplyDefaults:function(a,l,u,h){function c(d,v){return k.coerce(a,l,f,d,v)}if(w(a,l,h,c)){b(a,l,h,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var y=c("textposition");o(a,l,h,c,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(c("texttemplate"),l.texttemplate||c("textinfo")),t(c,"increasing",i),t(c,"decreasing",r),t(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash"))),c("zorder")}else l.visible=!1},crossTraceDefaults:function(a,l){var u,h;function c(d){return k.coerce(h._input,h,f,d)}if(l.waterfallmode==="group")for(var y=0;y<a.length;y++)u=(h=a[y])._input,A(u,h,l,c)}}},53256:function(U){U.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"initial"in e&&(C.initial=e.initial),"delta"in e&&(C.delta=e.delta),"final"in e&&(C.final=e.final),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},94196:function(U,C,e){var k=e(54460).hoverLabelText,A=e(76308).opacity,o=e(63400).hoverOnBars,w=e(48164),b=w.INCREASING.SYMBOL,f=w.DECREASING.SYMBOL;U.exports=function(s,n,i,r,t){var a=o(s,n,i,r,t);if(a){var l=a.cd,u=l[0].trace,h=u.orientation==="h",c=h?"x":"y",y=h?s.xa:s.ya,d=l[a.index],v=d.isSum?d.b+d.s:d.rawS;a.initial=d.b+d.s-v,a.delta=v,a.final=a.initial+a.delta;var g=T(Math.abs(a.delta));a.deltaLabel=v<0?"("+g+")":g,a.finalLabel=T(a.final),a.initialLabel=T(a.initial);var x=d.hi||u.hoverinfo,m=[];if(x&&x!=="none"&&x!=="skip"){var _=x==="all",p=x.split("+"),S=function(E){return _||p.indexOf(E)!==-1};d.isSum||(!S("final")||S(h?"x":"y")||m.push(a.finalLabel),S("delta")&&(v<0?m.push(a.deltaLabel+" "+f):m.push(a.deltaLabel+" "+b)),S("initial")&&m.push("Initial: "+a.initialLabel))}return m.length&&(a.extraText=m.join("<br>")),a.color=function(E,O){var P=E[O.dir].marker,I=P.color,R=P.line.color,H=P.line.width;return A(I)?I:A(R)&&H?R:void 0}(u,d),[a]}function T(E){return k(y,E,u[c+"hoverformat"])}}},95952:function(U,C,e){U.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(U){U.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(U,C,e){var k=e(3400),A=e(91352);U.exports=function(o,w,b){var f=!1;function s(r,t){return k.coerce(o,w,A,r,t)}for(var n=0;n<b.length;n++){var i=b[n];if(i.visible&&i.type==="waterfall"){f=!0;break}}f&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(U,C,e){var k=e(33428),A=e(3400),o=e(43616),w=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;U.exports=function(s,n,i,r){var t=s._fullLayout;f("waterfall",t),b.plot(s,n,i,r,{mode:t.waterfallmode,norm:t.waterfallmode,gap:t.waterfallgap,groupgap:t.waterfallgroupgap}),function(a,l,u,h){var c=l.xaxis,y=l.yaxis;A.makeTraceGroups(h,u,"trace bars").each(function(d){var v=k.select(this),g=d[0].trace,x=A.ensureSingle(v,"g","lines");if(g.connector&&g.connector.visible){var m=g.orientation==="h",_=g.connector.mode,p=x.selectAll("g.line").data(A.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var S=p.size();p.each(function(T,E){if(E===S-1||T.cNext){var O=function(H,z,j,Z){var F=[],V=[],W=Z?z:j,re=Z?j:z;return F[0]=W.c2p(H.s0,!0),V[0]=re.c2p(H.p0,!0),F[1]=W.c2p(H.s1,!0),V[1]=re.c2p(H.p1,!0),F[2]=W.c2p(H.nextS0,!0),V[2]=re.c2p(H.nextP0,!0),Z?[F,V]:[V,F]}(T,c,y,m),P=O[0],I=O[1],R="";P[0]!==w&&I[0]!==w&&P[1]!==w&&I[1]!==w&&(_==="spanning"&&!T.isSum&&E>0&&(R+=m?"M"+P[0]+","+I[1]+"V"+I[0]:"M"+P[1]+","+I[0]+"H"+P[0]),_!=="between"&&(T.isSum||E<S-1)&&(R+=m?"M"+P[1]+","+I[0]+"V"+I[1]:"M"+P[0]+","+I[1]+"H"+P[1]),P[2]!==w&&I[2]!==w&&(R+=m?"M"+P[1]+","+I[1]+"V"+I[2]:"M"+P[1]+","+I[1]+"H"+P[2])),R===""&&(R="M0,0Z"),A.ensureSingle(k.select(this),"path").attr("d",R).call(o.setClipUrl,l.layerClipId,a)}})}else x.remove()})}(s,n,i,r)}},12252:function(U,C,e){var k=e(33428),A=e(43616),o=e(76308),w=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;U.exports={style:function(n,i,r){var t=r||k.select(n).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");f(n,t,"waterfall"),t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var l=k.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u[h.dir].marker;k.select(this).call(o.fill,c.color).call(o.stroke,c.line.color).call(A.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!h.selected?w:1)}}),s(l,u,n),l.selectAll(".lines").each(function(){var h=u.connector.line;A.lineGroupStyle(k.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(U,C,e){var k=e(54460),A=e(3400),o=e(73060),w=e(60468).W,b=e(39032).BADNUM;C.moduleType="transform",C.name="aggregate";var f=C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=f.aggregations;function n(a,l,u,h){if(h.enabled){for(var c=h.target,y=A.nestedProperty(l,c),d=y.get(),v=function(m,_){var p=m.func,S=_.d2c,T=_.c2d;switch(p){case"count":return i;case"first":return r;case"last":return t;case"sum":return function(E,O){for(var P=0,I=0;I<O.length;I++){var R=S(E[O[I]]);R!==b&&(P+=R)}return T(P)};case"avg":return function(E,O){for(var P=0,I=0,R=0;R<O.length;R++){var H=S(E[O[R]]);H!==b&&(P+=H,I++)}return I?T(P/I):b};case"min":return function(E,O){for(var P=1/0,I=0;I<O.length;I++){var R=S(E[O[I]]);R!==b&&(P=Math.min(P,R))}return P===1/0?b:T(P)};case"max":return function(E,O){for(var P=-1/0,I=0;I<O.length;I++){var R=S(E[O[I]]);R!==b&&(P=Math.max(P,R))}return P===-1/0?b:T(P)};case"range":return function(E,O){for(var P=1/0,I=-1/0,R=0;R<O.length;R++){var H=S(E[O[R]]);H!==b&&(P=Math.min(P,H),I=Math.max(I,H))}return I===-1/0||P===1/0?b:T(I-P)};case"change":return function(E,O){var P=S(E[O[0]]),I=S(E[O[O.length-1]]);return P===b||I===b?b:T(I-P)};case"median":return function(E,O){for(var P=[],I=0;I<O.length;I++){var R=S(E[O[I]]);R!==b&&P.push(R)}if(!P.length)return b;P.sort(A.sorterAsc);var H=(P.length-1)/2;return T((P[Math.floor(H)]+P[Math.ceil(H)])/2)};case"mode":return function(E,O){for(var P={},I=0,R=b,H=0;H<O.length;H++){var z=S(E[O[H]]);if(z!==b){var j=P[z]=(P[z]||0)+1;j>I&&(I=j,R=z)}}return I?T(R):b};case"rms":return function(E,O){for(var P=0,I=0,R=0;R<O.length;R++){var H=S(E[O[R]]);H!==b&&(P+=H*H,I++)}return I?T(Math.sqrt(P/I)):b};case"stddev":return function(E,O){var P,I=0,R=0,H=1,z=b;for(P=0;P<O.length&&z===b;P++)z=S(E[O[P]]);if(z===b)return b;for(;P<O.length;P++){var j=S(E[O[P]]);if(j!==b){var Z=j-z;I+=Z,R+=Z*Z,H++}}var F=m.funcmode==="sample"?H-1:H;return F?Math.sqrt((R-I*I/H)/F):0}}}(h,k.getDataConversions(a,l,c,d)),g=new Array(u.length),x=0;x<u.length;x++)g[x]=v(d,u[x]);y.set(g),h.func==="count"&&A.pushUnique(l._arrayAttrs,c)}}function i(a,l){return l.length}function r(a,l){return a[l[0]]}function t(a,l){return a[l[l.length-1]]}C.supplyDefaults=function(a,l){var u,h={};function c(T,E){return A.coerce(a,h,f,T,E)}if(!c("enabled"))return h;var y=o.findArrayAttributes(l),d={};for(u=0;u<y.length;u++)d[y[u]]=1;var v=c("groups");if(!Array.isArray(v)){if(!d[v])return h.enabled=!1,h;d[v]=0}var g,x=a.aggregations||[],m=h.aggregations=new Array(x.length);function _(T,E){return A.coerce(x[u],g,s,T,E)}for(u=0;u<x.length;u++){g={_index:u};var p=_("target"),S=_("func");_("enabled")&&p&&(d[p]||S==="count"&&d[p]===void 0)?(S==="stddev"&&_("funcmode"),d[p]=0,m[u]=g):m[u]={enabled:!1,_index:u}}for(u=0;u<y.length;u++)d[y[u]]&&m.push({target:y[u],func:s.func.dflt,enabled:!0,_index:-1});return h},C.calcTransform=function(a,l,u){if(u.enabled){var h=u.groups,c=A.getTargetArray(l,{target:h});if(c){var y,d,v,g,x={},m={},_=[],p=w(l.transforms,u),S=c.length;for(l._length&&(S=Math.min(S,l._length)),y=0;y<S;y++)(v=x[d=c[y]])===void 0?(x[d]=_.length,g=[y],_.push(g),m[x[d]]=p(y)):(_[v].push(y),m[x[d]]=(m[x[d]]||[]).concat(p(y)));u._indexToPoints=m;var T=u.aggregations;for(y=0;y<T.length;y++)n(a,l,_,T[y]);typeof h=="string"&&n(a,l,_,{target:h,func:"first",enabled:!0}),l._length=_.length}}}},76744:function(U,C,e){var k=e(3400),A=e(24040),o=e(54460),w=e(60468).W,b=e(69104),f=b.COMPARISON_OPS,s=b.INTERVAL_OPS,n=b.SET_OPS;C.moduleType="transform",C.name="filter",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(s).concat(n),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},C.supplyDefaults=function(i){var r={};function t(u,h){return k.coerce(i,r,C.attributes,u,h)}if(t("enabled")){var a=t("target");if(k.isArrayOrTypedArray(a)&&a.length===0)return r.enabled=!1,r;t("preservegaps"),t("operation"),t("value");var l=A.getComponentMethod("calendars","handleDefaults");l(i,r,"valuecalendar",null),l(i,r,"targetcalendar",null)}return r},C.calcTransform=function(i,r,t){if(t.enabled){var a=k.getTargetArray(r,t);if(a){var l=t.target,u=a.length;r._length&&(u=Math.min(u,r._length));var h=t.targetcalendar,c=r._arrayAttrs,y=t.preservegaps;if(typeof l=="string"){var d=k.nestedProperty(r,l+"calendar").get();d&&(h=d)}var v,g,x=function(O,P,I){var R=O.operation,H=O.value,z=k.isArrayOrTypedArray(H);function j(W){return W.indexOf(R)!==-1}var Z,F=function(W){return P(W,0,O.valuecalendar)},V=function(W){return P(W,0,I)};switch(j(f)?Z=F(z?H[0]:H):j(s)?Z=z?[F(H[0]),F(H[1])]:[F(H),F(H)]:j(n)&&(Z=z?H.map(F):[F(H)]),R){case"=":return function(W){return V(W)===Z};case"!=":return function(W){return V(W)!==Z};case"<":return function(W){return V(W)<Z};case"<=":return function(W){return V(W)<=Z};case">":return function(W){return V(W)>Z};case">=":return function(W){return V(W)>=Z};case"[]":return function(W){var re=V(W);return re>=Z[0]&&re<=Z[1]};case"()":return function(W){var re=V(W);return re>Z[0]&&re<Z[1]};case"[)":return function(W){var re=V(W);return re>=Z[0]&&re<Z[1]};case"(]":return function(W){var re=V(W);return re>Z[0]&&re<=Z[1]};case"][":return function(W){var re=V(W);return re<=Z[0]||re>=Z[1]};case")(":return function(W){var re=V(W);return re<Z[0]||re>Z[1]};case"](":return function(W){var re=V(W);return re<=Z[0]||re>Z[1]};case")[":return function(W){var re=V(W);return re<Z[0]||re>=Z[1]};case"{}":return function(W){return Z.indexOf(V(W))!==-1};case"}{":return function(W){return Z.indexOf(V(W))===-1}}}(t,o.getDataToCoordFunc(i,r,l,a),h),m={},_={},p=0;y?(v=function(O){m[O.astr]=k.extendDeep([],O.get()),O.set(new Array(u))},g=function(O,P){var I=m[O.astr][P];O.get()[P]=I}):(v=function(O){m[O.astr]=k.extendDeep([],O.get()),O.set([])},g=function(O,P){var I=m[O.astr][P];O.get().push(I)}),E(v);for(var S=w(r.transforms,t),T=0;T<u;T++)x(a[T])?(E(g,T),_[p++]=S(T)):y&&p++;t._indexToPoints=_,r._length=p}}function E(O,P){for(var I=0;I<c.length;I++)O(k.nestedProperty(r,c[I]),P)}}},32028:function(U,C,e){var k=e(3400),A=e(73060),o=e(7316),w=e(60468).W;function b(f,s){var n,i,r,t,a,l,u,h,c,y,d=s.transform,v=s.transformIndex,g=f.transforms[v].groups,x=w(f.transforms,d);if(!k.isArrayOrTypedArray(g)||g.length===0)return[f];var m=k.filterUnique(g),_=new Array(m.length),p=g.length,S=A.findArrayAttributes(f),T=d.styles||[],E={};for(n=0;n<T.length;n++)E[T[n].target]=T[n].value;d.styles&&(y=k.keyedContainer(d,"styles","target","value.name"));var O={},P={};for(n=0;n<m.length;n++){O[l=m[n]]=n,P[l]=0,(u=_[n]=k.extendDeepNoArrays({},f))._group=l,u.transforms[v]._indexToPoints={};var I=null;for(y&&(I=y.get(l)),u.name=I||I===""?I:k.templateString(d.nameformat,{trace:f.name,group:l}),h=u.transforms,u.transforms=[],i=0;i<h.length;i++)u.transforms[i]=k.extendDeepNoArrays({},h[i]);for(i=0;i<S.length;i++)k.nestedProperty(u,S[i]).set([])}for(r=0;r<S.length;r++){for(t=S[r],i=0,c=[];i<m.length;i++)c[i]=k.nestedProperty(_[i],t).get();for(a=k.nestedProperty(f,t).get(),i=0;i<p;i++)c[O[g[i]]].push(a[i])}for(i=0;i<p;i++)(u=_[O[g[i]]]).transforms[v]._indexToPoints[P[g[i]]]=x(i),P[g[i]]++;for(n=0;n<m.length;n++)l=m[n],u=_[n],o.clearExpandedTraceDefaultColors(u),u=k.extendDeepNoArrays(u,E[l]||{});return _}C.moduleType="transform",C.name="groupby",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},C.supplyDefaults=function(f,s,n){var i,r={};function t(c,y){return k.coerce(f,r,C.attributes,c,y)}if(!t("enabled"))return r;t("groups"),t("nameformat",n._dataLength>1?"%{group} (%{trace})":"%{group}");var a=f.styles,l=r.styles=[];if(a)for(i=0;i<a.length;i++){var u=l[i]={};k.coerce(a[i],l[i],C.attributes.styles,"target");var h=k.coerce(a[i],l[i],C.attributes.styles,"value");k.isPlainObject(h)?u.value=k.extendDeep({},h):h&&delete u.value}return r},C.transform=function(f,s){var n,i,r,t=[];for(i=0;i<f.length;i++)for(n=b(f[i],s),r=0;r<n.length;r++)t.push(n[r]);return t}},60468:function(U,C){C.W=function(e,k){for(var A,o,w=0;w<e.length&&(A=e[w])!==k;w++)A._indexToPoints&&A.enabled!==!1&&(o=A._indexToPoints);var b=o?function(f){return o[f]}:function(f){return[f]};return b}},76272:function(U,C,e){var k=e(3400),A=e(54460),o=e(60468).W,w=e(39032).BADNUM;C.moduleType="transform",C.name="sort",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},C.supplyDefaults=function(b){var f={};function s(n,i){return k.coerce(b,f,C.attributes,n,i)}return s("enabled")&&(s("target"),s("order")),f},C.calcTransform=function(b,f,s){if(s.enabled){var n=k.getTargetArray(f,s);if(n){var i=s.target,r=n.length;f._length&&(r=Math.min(r,f._length));var t,a,l=f._arrayAttrs,u=function(g,x,m,_){var p,S=new Array(_),T=new Array(_);for(p=0;p<_;p++)S[p]={v:x[p],i:p};for(S.sort(function(E,O){switch(E.order){case"ascending":return function(P,I){var R=O(P.v),H=O(I.v);return R===w?1:H===w?-1:R-H};case"descending":return function(P,I){var R=O(P.v),H=O(I.v);return R===w?1:H===w?-1:H-R}}}(g,m)),p=0;p<_;p++)T[p]=S[p].i;return T}(s,n,A.getDataToCoordFunc(b,f,i,n),r),h=o(f.transforms,s),c={};for(t=0;t<l.length;t++){var y=k.nestedProperty(f,l[t]),d=y.get(),v=new Array(r);for(a=0;a<r;a++)v[a]=d[u[a]];y.set(v)}for(a=0;a<r;a++)c[a]=h(u[a]);s._indexToPoints=c,f._length=r}}}},25788:function(U,C){C.version="2.33.0"},67792:function(U,C,e){var k=e(4168);(function(){var A={1964:function(f,s,n){f.exports={alpha_shape:n(3502),convex_hull:n(7352),delaunay_triangulate:n(7642),gl_cone3d:n(6405),gl_error3d:n(9165),gl_heatmap2d:n(2510),gl_line3d:n(5714),gl_mesh3d:n(7201),gl_plot2d:n(1850),gl_plot3d:n(4100),gl_pointcloud2d:n(4696),gl_scatter3d:n(8418),gl_select_box:n(3161),gl_spikes2d:n(4098),gl_streamtube3d:n(7815),gl_surface3d:n(9499),ndarray:n(9618),ndarray_linear_interpolate:n(4317)}},4793:function(f,s,n){function i(ge,Te){for(var Se=0;Se<Te.length;Se++){var Re=Te[Se];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(ge,r(Re.key),Re)}}function r(ge){var Te=function(Se,Re){if(u(Se)!="object"||!Se)return Se;var Pe=Se[Symbol.toPrimitive];if(Pe!==void 0){var Ve=Pe.call(Se,"string");if(u(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(ge);return u(Te)=="symbol"?Te:Te+""}function t(){try{var ge=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t=function(){return!!ge})()}function a(ge){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)},a(ge)}function l(ge,Te){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,Re){return Se.__proto__=Re,Se},l(ge,Te)}function u(ge){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},u(ge)}var h=n(7507),c=n(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=g,s.IS=50;var d=2147483647;function v(ge){if(ge>d)throw new RangeError('The value "'+ge+'" is invalid for option "size"');var Te=new Uint8Array(ge);return Object.setPrototypeOf(Te,g.prototype),Te}function g(ge,Te,Se){if(typeof ge=="number"){if(typeof Te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(ge)}return x(ge,Te,Se)}function x(ge,Te,Se){if(typeof ge=="string")return function(Ve,We){if(typeof We=="string"&&We!==""||(We="utf8"),!g.isEncoding(We))throw new TypeError("Unknown encoding: "+We);var Qe=0|E(Ve,We),lt=v(Qe),ut=lt.write(Ve,We);return ut!==Qe&&(lt=lt.slice(0,ut)),lt}(ge,Te);if(ArrayBuffer.isView(ge))return function(Ve){if(ke(Ve,Uint8Array)){var We=new Uint8Array(Ve);return S(We.buffer,We.byteOffset,We.byteLength)}return p(Ve)}(ge);if(ge==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ge));if(ke(ge,ArrayBuffer)||ge&&ke(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(ge,SharedArrayBuffer)||ge&&ke(ge.buffer,SharedArrayBuffer)))return S(ge,Te,Se);if(typeof ge=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=ge.valueOf&&ge.valueOf();if(Re!=null&&Re!==ge)return g.from(Re,Te,Se);var Pe=function(Ve){if(g.isBuffer(Ve)){var We=0|T(Ve.length),Qe=v(We);return Qe.length===0||Ve.copy(Qe,0,0,We),Qe}return Ve.length!==void 0?typeof Ve.length!="number"||Ae(Ve.length)?v(0):p(Ve):Ve.type==="Buffer"&&Array.isArray(Ve.data)?p(Ve.data):void 0}(ge);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ge[Symbol.toPrimitive]=="function")return g.from(ge[Symbol.toPrimitive]("string"),Te,Se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ge))}function m(ge){if(typeof ge!="number")throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function _(ge){return m(ge),v(ge<0?0:0|T(ge))}function p(ge){for(var Te=ge.length<0?0:0|T(ge.length),Se=v(Te),Re=0;Re<Te;Re+=1)Se[Re]=255&ge[Re];return Se}function S(ge,Te,Se){if(Te<0||ge.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<Te+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return Re=Te===void 0&&Se===void 0?new Uint8Array(ge):Se===void 0?new Uint8Array(ge,Te):new Uint8Array(ge,Te,Se),Object.setPrototypeOf(Re,g.prototype),Re}function T(ge){if(ge>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|ge}function E(ge,Te){if(g.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||ke(ge,ArrayBuffer))return ge.byteLength;if(typeof ge!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ge));var Se=ge.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&Se===0)return 0;for(var Pe=!1;;)switch(Te){case"ascii":case"latin1":case"binary":return Se;case"utf8":case"utf-8":return oe(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Se;case"hex":return Se>>>1;case"base64":return ve(ge).length;default:if(Pe)return Re?-1:oe(ge).length;Te=(""+Te).toLowerCase(),Pe=!0}}function O(ge,Te,Se){var Re=!1;if((Te===void 0||Te<0)&&(Te=0),Te>this.length||((Se===void 0||Se>this.length)&&(Se=this.length),Se<=0)||(Se>>>=0)<=(Te>>>=0))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return Q(this,Te,Se);case"utf8":case"utf-8":return W(this,Te,Se);case"ascii":return ne(this,Te,Se);case"latin1":case"binary":return te(this,Te,Se);case"base64":return V(this,Te,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,Te,Se);default:if(Re)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),Re=!0}}function P(ge,Te,Se){var Re=ge[Te];ge[Te]=ge[Se],ge[Se]=Re}function I(ge,Te,Se,Re,Pe){if(ge.length===0)return-1;if(typeof Se=="string"?(Re=Se,Se=0):Se>2147483647?Se=2147483647:Se<-2147483648&&(Se=-2147483648),Ae(Se=+Se)&&(Se=Pe?0:ge.length-1),Se<0&&(Se=ge.length+Se),Se>=ge.length){if(Pe)return-1;Se=ge.length-1}else if(Se<0){if(!Pe)return-1;Se=0}if(typeof Te=="string"&&(Te=g.from(Te,Re)),g.isBuffer(Te))return Te.length===0?-1:R(ge,Te,Se,Re,Pe);if(typeof Te=="number")return Te&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(ge,Te,Se):Uint8Array.prototype.lastIndexOf.call(ge,Te,Se):R(ge,[Te],Se,Re,Pe);throw new TypeError("val must be string, number or Buffer")}function R(ge,Te,Se,Re,Pe){var Ve,We=1,Qe=ge.length,lt=Te.length;if(Re!==void 0&&((Re=String(Re).toLowerCase())==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(ge.length<2||Te.length<2)return-1;We=2,Qe/=2,lt/=2,Se/=2}function ut(it,nt){return We===1?it[nt]:it.readUInt16BE(nt*We)}if(Pe){var xt=-1;for(Ve=Se;Ve<Qe;Ve++)if(ut(ge,Ve)===ut(Te,xt===-1?0:Ve-xt)){if(xt===-1&&(xt=Ve),Ve-xt+1===lt)return xt*We}else xt!==-1&&(Ve-=Ve-xt),xt=-1}else for(Se+lt>Qe&&(Se=Qe-lt),Ve=Se;Ve>=0;Ve--){for(var _t=!0,mt=0;mt<lt;mt++)if(ut(ge,Ve+mt)!==ut(Te,mt)){_t=!1;break}if(_t)return Ve}return-1}function H(ge,Te,Se,Re){Se=Number(Se)||0;var Pe=ge.length-Se;Re?(Re=Number(Re))>Pe&&(Re=Pe):Re=Pe;var Ve,We=Te.length;for(Re>We/2&&(Re=We/2),Ve=0;Ve<Re;++Ve){var Qe=parseInt(Te.substr(2*Ve,2),16);if(Ae(Qe))return Ve;ge[Se+Ve]=Qe}return Ve}function z(ge,Te,Se,Re){return Ce(oe(Te,ge.length-Se),ge,Se,Re)}function j(ge,Te,Se,Re){return Ce(function(Pe){for(var Ve=[],We=0;We<Pe.length;++We)Ve.push(255&Pe.charCodeAt(We));return Ve}(Te),ge,Se,Re)}function Z(ge,Te,Se,Re){return Ce(ve(Te),ge,Se,Re)}function F(ge,Te,Se,Re){return Ce(function(Pe,Ve){for(var We,Qe,lt,ut=[],xt=0;xt<Pe.length&&!((Ve-=2)<0);++xt)Qe=(We=Pe.charCodeAt(xt))>>8,lt=We%256,ut.push(lt),ut.push(Qe);return ut}(Te,ge.length-Se),ge,Se,Re)}function V(ge,Te,Se){return Te===0&&Se===ge.length?h.fromByteArray(ge):h.fromByteArray(ge.slice(Te,Se))}function W(ge,Te,Se){Se=Math.min(ge.length,Se);for(var Re=[],Pe=Te;Pe<Se;){var Ve=ge[Pe],We=null,Qe=Ve>239?4:Ve>223?3:Ve>191?2:1;if(Pe+Qe<=Se){var lt=void 0,ut=void 0,xt=void 0,_t=void 0;switch(Qe){case 1:Ve<128&&(We=Ve);break;case 2:(192&(lt=ge[Pe+1]))==128&&(_t=(31&Ve)<<6|63&lt)>127&&(We=_t);break;case 3:lt=ge[Pe+1],ut=ge[Pe+2],(192&lt)==128&&(192&ut)==128&&(_t=(15&Ve)<<12|(63&lt)<<6|63&ut)>2047&&(_t<55296||_t>57343)&&(We=_t);break;case 4:lt=ge[Pe+1],ut=ge[Pe+2],xt=ge[Pe+3],(192&lt)==128&&(192&ut)==128&&(192&xt)==128&&(_t=(15&Ve)<<18|(63&lt)<<12|(63&ut)<<6|63&xt)>65535&&_t<1114112&&(We=_t)}}We===null?(We=65533,Qe=1):We>65535&&(We-=65536,Re.push(We>>>10&1023|55296),We=56320|1023&We),Re.push(We),Pe+=Qe}return function(mt){var it=mt.length;if(it<=re)return String.fromCharCode.apply(String,mt);for(var nt="",Et=0;Et<it;)nt+=String.fromCharCode.apply(String,mt.slice(Et,Et+=re));return nt}(Re)}g.TYPED_ARRAY_SUPPORT=function(){try{var ge=new Uint8Array(1),Te={foo:function(){return 42}};return Object.setPrototypeOf(Te,Uint8Array.prototype),Object.setPrototypeOf(ge,Te),ge.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(ge,Te,Se){return x(ge,Te,Se)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(ge,Te,Se){return function(Re,Pe,Ve){return m(Re),Re<=0?v(Re):Pe!==void 0?typeof Ve=="string"?v(Re).fill(Pe,Ve):v(Re).fill(Pe):v(Re)}(ge,Te,Se)},g.allocUnsafe=function(ge){return _(ge)},g.allocUnsafeSlow=function(ge){return _(ge)},g.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==g.prototype},g.compare=function(ge,Te){if(ke(ge,Uint8Array)&&(ge=g.from(ge,ge.offset,ge.byteLength)),ke(Te,Uint8Array)&&(Te=g.from(Te,Te.offset,Te.byteLength)),!g.isBuffer(ge)||!g.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===Te)return 0;for(var Se=ge.length,Re=Te.length,Pe=0,Ve=Math.min(Se,Re);Pe<Ve;++Pe)if(ge[Pe]!==Te[Pe]){Se=ge[Pe],Re=Te[Pe];break}return Se<Re?-1:Re<Se?1:0},g.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ge,Te){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return g.alloc(0);var Se;if(Te===void 0)for(Te=0,Se=0;Se<ge.length;++Se)Te+=ge[Se].length;var Re=g.allocUnsafe(Te),Pe=0;for(Se=0;Se<ge.length;++Se){var Ve=ge[Se];if(ke(Ve,Uint8Array))Pe+Ve.length>Re.length?(g.isBuffer(Ve)||(Ve=g.from(Ve)),Ve.copy(Re,Pe)):Uint8Array.prototype.set.call(Re,Ve,Pe);else{if(!g.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(Re,Pe)}Pe+=Ve.length}return Re},g.byteLength=E,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var ge=this.length;if(ge%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<ge;Te+=2)P(this,Te,Te+1);return this},g.prototype.swap32=function(){var ge=this.length;if(ge%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<ge;Te+=4)P(this,Te,Te+3),P(this,Te+1,Te+2);return this},g.prototype.swap64=function(){var ge=this.length;if(ge%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<ge;Te+=8)P(this,Te,Te+7),P(this,Te+1,Te+6),P(this,Te+2,Te+5),P(this,Te+3,Te+4);return this},g.prototype.toString=function(){var ge=this.length;return ge===0?"":arguments.length===0?W(this,0,ge):O.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(ge){if(!g.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge||g.compare(this,ge)===0},g.prototype.inspect=function(){var ge="",Te=s.IS;return ge=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(ge+=" ... "),"<Buffer "+ge+">"},y&&(g.prototype[y]=g.prototype.inspect),g.prototype.compare=function(ge,Te,Se,Re,Pe){if(ke(ge,Uint8Array)&&(ge=g.from(ge,ge.offset,ge.byteLength)),!g.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ge));if(Te===void 0&&(Te=0),Se===void 0&&(Se=ge?ge.length:0),Re===void 0&&(Re=0),Pe===void 0&&(Pe=this.length),Te<0||Se>ge.length||Re<0||Pe>this.length)throw new RangeError("out of range index");if(Re>=Pe&&Te>=Se)return 0;if(Re>=Pe)return-1;if(Te>=Se)return 1;if(this===ge)return 0;for(var Ve=(Pe>>>=0)-(Re>>>=0),We=(Se>>>=0)-(Te>>>=0),Qe=Math.min(Ve,We),lt=this.slice(Re,Pe),ut=ge.slice(Te,Se),xt=0;xt<Qe;++xt)if(lt[xt]!==ut[xt]){Ve=lt[xt],We=ut[xt];break}return Ve<We?-1:We<Ve?1:0},g.prototype.includes=function(ge,Te,Se){return this.indexOf(ge,Te,Se)!==-1},g.prototype.indexOf=function(ge,Te,Se){return I(this,ge,Te,Se,!0)},g.prototype.lastIndexOf=function(ge,Te,Se){return I(this,ge,Te,Se,!1)},g.prototype.write=function(ge,Te,Se,Re){if(Te===void 0)Re="utf8",Se=this.length,Te=0;else if(Se===void 0&&typeof Te=="string")Re=Te,Se=this.length,Te=0;else{if(!isFinite(Te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Te>>>=0,isFinite(Se)?(Se>>>=0,Re===void 0&&(Re="utf8")):(Re=Se,Se=void 0)}var Pe=this.length-Te;if((Se===void 0||Se>Pe)&&(Se=Pe),ge.length>0&&(Se<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var Ve=!1;;)switch(Re){case"hex":return H(this,ge,Te,Se);case"utf8":case"utf-8":return z(this,ge,Te,Se);case"ascii":case"latin1":case"binary":return j(this,ge,Te,Se);case"base64":return Z(this,ge,Te,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,ge,Te,Se);default:if(Ve)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),Ve=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;function ne(ge,Te,Se){var Re="";Se=Math.min(ge.length,Se);for(var Pe=Te;Pe<Se;++Pe)Re+=String.fromCharCode(127&ge[Pe]);return Re}function te(ge,Te,Se){var Re="";Se=Math.min(ge.length,Se);for(var Pe=Te;Pe<Se;++Pe)Re+=String.fromCharCode(ge[Pe]);return Re}function Q(ge,Te,Se){var Re=ge.length;(!Te||Te<0)&&(Te=0),(!Se||Se<0||Se>Re)&&(Se=Re);for(var Pe="",Ve=Te;Ve<Se;++Ve)Pe+=Ee[ge[Ve]];return Pe}function $(ge,Te,Se){for(var Re=ge.slice(Te,Se),Pe="",Ve=0;Ve<Re.length-1;Ve+=2)Pe+=String.fromCharCode(Re[Ve]+256*Re[Ve+1]);return Pe}function K(ge,Te,Se){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(ge+Te>Se)throw new RangeError("Trying to access beyond buffer length")}function ae(ge,Te,Se,Re,Pe,Ve){if(!g.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(Te>Pe||Te<Ve)throw new RangeError('"value" argument is out of bounds');if(Se+Re>ge.length)throw new RangeError("Index out of range")}function ue(ge,Te,Se,Re,Pe){Le(Te,Re,Pe,ge,Se,7);var Ve=Number(Te&BigInt(4294967295));ge[Se++]=Ve,Ve>>=8,ge[Se++]=Ve,Ve>>=8,ge[Se++]=Ve,Ve>>=8,ge[Se++]=Ve;var We=Number(Te>>BigInt(32)&BigInt(4294967295));return ge[Se++]=We,We>>=8,ge[Se++]=We,We>>=8,ge[Se++]=We,We>>=8,ge[Se++]=We,Se}function se(ge,Te,Se,Re,Pe){Le(Te,Re,Pe,ge,Se,7);var Ve=Number(Te&BigInt(4294967295));ge[Se+7]=Ve,Ve>>=8,ge[Se+6]=Ve,Ve>>=8,ge[Se+5]=Ve,Ve>>=8,ge[Se+4]=Ve;var We=Number(Te>>BigInt(32)&BigInt(4294967295));return ge[Se+3]=We,We>>=8,ge[Se+2]=We,We>>=8,ge[Se+1]=We,We>>=8,ge[Se]=We,Se+8}function he(ge,Te,Se,Re,Pe,Ve){if(Se+Re>ge.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("Index out of range")}function pe(ge,Te,Se,Re,Pe){return Te=+Te,Se>>>=0,Pe||he(ge,0,Se,4),c.write(ge,Te,Se,Re,23,4),Se+4}function de(ge,Te,Se,Re,Pe){return Te=+Te,Se>>>=0,Pe||he(ge,0,Se,8),c.write(ge,Te,Se,Re,52,8),Se+8}g.prototype.slice=function(ge,Te){var Se=this.length;(ge=~~ge)<0?(ge+=Se)<0&&(ge=0):ge>Se&&(ge=Se),(Te=Te===void 0?Se:~~Te)<0?(Te+=Se)<0&&(Te=0):Te>Se&&(Te=Se),Te<ge&&(Te=ge);var Re=this.subarray(ge,Te);return Object.setPrototypeOf(Re,g.prototype),Re},g.prototype.readUintLE=g.prototype.readUIntLE=function(ge,Te,Se){ge>>>=0,Te>>>=0,Se||K(ge,Te,this.length);for(var Re=this[ge],Pe=1,Ve=0;++Ve<Te&&(Pe*=256);)Re+=this[ge+Ve]*Pe;return Re},g.prototype.readUintBE=g.prototype.readUIntBE=function(ge,Te,Se){ge>>>=0,Te>>>=0,Se||K(ge,Te,this.length);for(var Re=this[ge+--Te],Pe=1;Te>0&&(Pe*=256);)Re+=this[ge+--Te]*Pe;return Re},g.prototype.readUint8=g.prototype.readUInt8=function(ge,Te){return ge>>>=0,Te||K(ge,1,this.length),this[ge]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(ge,Te){return ge>>>=0,Te||K(ge,2,this.length),this[ge]|this[ge+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(ge,Te){return ge>>>=0,Te||K(ge,2,this.length),this[ge]<<8|this[ge+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+16777216*this[ge+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),16777216*this[ge]+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},g.prototype.readBigUInt64LE=ze(function(ge){De(ge>>>=0,"offset");var Te=this[ge],Se=this[ge+7];Te!==void 0&&Se!==void 0||ye(ge,this.length-8);var Re=Te+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),Pe=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+Se*Math.pow(2,24);return BigInt(Re)+(BigInt(Pe)<<BigInt(32))}),g.prototype.readBigUInt64BE=ze(function(ge){De(ge>>>=0,"offset");var Te=this[ge],Se=this[ge+7];Te!==void 0&&Se!==void 0||ye(ge,this.length-8);var Re=Te*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],Pe=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Se;return(BigInt(Re)<<BigInt(32))+BigInt(Pe)}),g.prototype.readIntLE=function(ge,Te,Se){ge>>>=0,Te>>>=0,Se||K(ge,Te,this.length);for(var Re=this[ge],Pe=1,Ve=0;++Ve<Te&&(Pe*=256);)Re+=this[ge+Ve]*Pe;return Re>=(Pe*=128)&&(Re-=Math.pow(2,8*Te)),Re},g.prototype.readIntBE=function(ge,Te,Se){ge>>>=0,Te>>>=0,Se||K(ge,Te,this.length);for(var Re=Te,Pe=1,Ve=this[ge+--Re];Re>0&&(Pe*=256);)Ve+=this[ge+--Re]*Pe;return Ve>=(Pe*=128)&&(Ve-=Math.pow(2,8*Te)),Ve},g.prototype.readInt8=function(ge,Te){return ge>>>=0,Te||K(ge,1,this.length),128&this[ge]?-1*(255-this[ge]+1):this[ge]},g.prototype.readInt16LE=function(ge,Te){ge>>>=0,Te||K(ge,2,this.length);var Se=this[ge]|this[ge+1]<<8;return 32768&Se?4294901760|Se:Se},g.prototype.readInt16BE=function(ge,Te){ge>>>=0,Te||K(ge,2,this.length);var Se=this[ge+1]|this[ge]<<8;return 32768&Se?4294901760|Se:Se},g.prototype.readInt32LE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},g.prototype.readInt32BE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},g.prototype.readBigInt64LE=ze(function(ge){De(ge>>>=0,"offset");var Te=this[ge],Se=this[ge+7];Te!==void 0&&Se!==void 0||ye(ge,this.length-8);var Re=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(Se<<24);return(BigInt(Re)<<BigInt(32))+BigInt(Te+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),g.prototype.readBigInt64BE=ze(function(ge){De(ge>>>=0,"offset");var Te=this[ge],Se=this[ge+7];Te!==void 0&&Se!==void 0||ye(ge,this.length-8);var Re=(Te<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(Re)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Se)}),g.prototype.readFloatLE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),c.read(this,ge,!0,23,4)},g.prototype.readFloatBE=function(ge,Te){return ge>>>=0,Te||K(ge,4,this.length),c.read(this,ge,!1,23,4)},g.prototype.readDoubleLE=function(ge,Te){return ge>>>=0,Te||K(ge,8,this.length),c.read(this,ge,!0,52,8)},g.prototype.readDoubleBE=function(ge,Te){return ge>>>=0,Te||K(ge,8,this.length),c.read(this,ge,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(ge,Te,Se,Re){ge=+ge,Te>>>=0,Se>>>=0,Re||ae(this,ge,Te,Se,Math.pow(2,8*Se)-1,0);var Pe=1,Ve=0;for(this[Te]=255&ge;++Ve<Se&&(Pe*=256);)this[Te+Ve]=ge/Pe&255;return Te+Se},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(ge,Te,Se,Re){ge=+ge,Te>>>=0,Se>>>=0,Re||ae(this,ge,Te,Se,Math.pow(2,8*Se)-1,0);var Pe=Se-1,Ve=1;for(this[Te+Pe]=255&ge;--Pe>=0&&(Ve*=256);)this[Te+Pe]=ge/Ve&255;return Te+Se},g.prototype.writeUint8=g.prototype.writeUInt8=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,1,255,0),this[Te]=255&ge,Te+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,2,65535,0),this[Te]=255&ge,this[Te+1]=ge>>>8,Te+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,2,65535,0),this[Te]=ge>>>8,this[Te+1]=255&ge,Te+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,4,4294967295,0),this[Te+3]=ge>>>24,this[Te+2]=ge>>>16,this[Te+1]=ge>>>8,this[Te]=255&ge,Te+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,4,4294967295,0),this[Te]=ge>>>24,this[Te+1]=ge>>>16,this[Te+2]=ge>>>8,this[Te+3]=255&ge,Te+4},g.prototype.writeBigUInt64LE=ze(function(ge){return ue(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=ze(function(ge){return se(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(ge,Te,Se,Re){if(ge=+ge,Te>>>=0,!Re){var Pe=Math.pow(2,8*Se-1);ae(this,ge,Te,Se,Pe-1,-Pe)}var Ve=0,We=1,Qe=0;for(this[Te]=255&ge;++Ve<Se&&(We*=256);)ge<0&&Qe===0&&this[Te+Ve-1]!==0&&(Qe=1),this[Te+Ve]=(ge/We>>0)-Qe&255;return Te+Se},g.prototype.writeIntBE=function(ge,Te,Se,Re){if(ge=+ge,Te>>>=0,!Re){var Pe=Math.pow(2,8*Se-1);ae(this,ge,Te,Se,Pe-1,-Pe)}var Ve=Se-1,We=1,Qe=0;for(this[Te+Ve]=255&ge;--Ve>=0&&(We*=256);)ge<0&&Qe===0&&this[Te+Ve+1]!==0&&(Qe=1),this[Te+Ve]=(ge/We>>0)-Qe&255;return Te+Se},g.prototype.writeInt8=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,1,127,-128),ge<0&&(ge=255+ge+1),this[Te]=255&ge,Te+1},g.prototype.writeInt16LE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,2,32767,-32768),this[Te]=255&ge,this[Te+1]=ge>>>8,Te+2},g.prototype.writeInt16BE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,2,32767,-32768),this[Te]=ge>>>8,this[Te+1]=255&ge,Te+2},g.prototype.writeInt32LE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,4,2147483647,-2147483648),this[Te]=255&ge,this[Te+1]=ge>>>8,this[Te+2]=ge>>>16,this[Te+3]=ge>>>24,Te+4},g.prototype.writeInt32BE=function(ge,Te,Se){return ge=+ge,Te>>>=0,Se||ae(this,ge,Te,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[Te]=ge>>>24,this[Te+1]=ge>>>16,this[Te+2]=ge>>>8,this[Te+3]=255&ge,Te+4},g.prototype.writeBigInt64LE=ze(function(ge){return ue(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=ze(function(ge){return se(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(ge,Te,Se){return pe(this,ge,Te,!0,Se)},g.prototype.writeFloatBE=function(ge,Te,Se){return pe(this,ge,Te,!1,Se)},g.prototype.writeDoubleLE=function(ge,Te,Se){return de(this,ge,Te,!0,Se)},g.prototype.writeDoubleBE=function(ge,Te,Se){return de(this,ge,Te,!1,Se)},g.prototype.copy=function(ge,Te,Se,Re){if(!g.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),Re||Re===0||(Re=this.length),Te>=ge.length&&(Te=ge.length),Te||(Te=0),Re>0&&Re<Se&&(Re=Se),Re===Se||ge.length===0||this.length===0)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),ge.length-Te<Re-Se&&(Re=ge.length-Te+Se);var Pe=Re-Se;return this===ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Te,Se,Re):Uint8Array.prototype.set.call(ge,this.subarray(Se,Re),Te),Pe},g.prototype.fill=function(ge,Te,Se,Re){if(typeof ge=="string"){if(typeof Te=="string"?(Re=Te,Te=0,Se=this.length):typeof Se=="string"&&(Re=Se,Se=this.length),Re!==void 0&&typeof Re!="string")throw new TypeError("encoding must be a string");if(typeof Re=="string"&&!g.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(ge.length===1){var Pe=ge.charCodeAt(0);(Re==="utf8"&&Pe<128||Re==="latin1")&&(ge=Pe)}}else typeof ge=="number"?ge&=255:typeof ge=="boolean"&&(ge=Number(ge));if(Te<0||this.length<Te||this.length<Se)throw new RangeError("Out of range index");if(Se<=Te)return this;var Ve;if(Te>>>=0,Se=Se===void 0?this.length:Se>>>0,ge||(ge=0),typeof ge=="number")for(Ve=Te;Ve<Se;++Ve)this[Ve]=ge;else{var We=g.isBuffer(ge)?ge:g.from(ge,Re),Qe=We.length;if(Qe===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(Ve=0;Ve<Se-Te;++Ve)this[Ve+Te]=We[Ve%Qe]}return this};var xe={};function _e(ge,Te,Se){xe[ge]=function(Re){function Pe(){var Qe,lt,ut,xt;return function(_t,mt){if(!(_t instanceof mt))throw new TypeError("Cannot call a class as a function")}(this,Pe),lt=this,ut=a(ut=Pe),Qe=function(_t,mt){if(mt&&(u(mt)==="object"||typeof mt=="function"))return mt;if(mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}(_t)}(lt,t()?Reflect.construct(ut,[],a(lt).constructor):ut.apply(lt,xt)),Object.defineProperty(Qe,"message",{value:Te.apply(Qe,arguments),writable:!0,configurable:!0}),Qe.name="".concat(Qe.name," [").concat(ge,"]"),Qe.stack,delete Qe.name,Qe}return function(Qe,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),lt&&l(Qe,lt)}(Pe,Re),Ve=Pe,(We=[{key:"code",get:function(){return ge},set:function(Qe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ge,"]: ").concat(this.message)}}])&&i(Ve.prototype,We),Object.defineProperty(Ve,"prototype",{writable:!1}),Ve;var Ve,We}(Se)}function be(ge){for(var Te="",Se=ge.length,Re=ge[0]==="-"?1:0;Se>=Re+4;Se-=3)Te="_".concat(ge.slice(Se-3,Se)).concat(Te);return"".concat(ge.slice(0,Se)).concat(Te)}function Le(ge,Te,Se,Re,Pe,Ve){if(ge>Se||ge<Te){var We,Qe=typeof Te=="bigint"?"n":"";throw We=Te===0||Te===BigInt(0)?">= 0".concat(Qe," and < 2").concat(Qe," ** ").concat(8*(Ve+1)).concat(Qe):">= -(2".concat(Qe," ** ").concat(8*(Ve+1)-1).concat(Qe,") and < 2 ** ")+"".concat(8*(Ve+1)-1).concat(Qe),new xe.ERR_OUT_OF_RANGE("value",We,ge)}(function(lt,ut,xt){De(ut,"offset"),lt[ut]!==void 0&&lt[ut+xt]!==void 0||ye(ut,lt.length-(xt+1))})(Re,Pe,Ve)}function De(ge,Te){if(typeof ge!="number")throw new xe.ERR_INVALID_ARG_TYPE(Te,"number",ge)}function ye(ge,Te,Se){throw Math.floor(ge)!==ge?(De(ge,Se),new xe.ERR_OUT_OF_RANGE("offset","an integer",ge)):Te<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Te),ge)}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(ge){return ge?"".concat(ge," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(ge,Te){return'The "'.concat(ge,'" argument must be of type number. Received type ').concat(u(Te))},TypeError),_e("ERR_OUT_OF_RANGE",function(ge,Te,Se){var Re='The value of "'.concat(ge,'" is out of range.'),Pe=Se;return Number.isInteger(Se)&&Math.abs(Se)>Math.pow(2,32)?Pe=be(String(Se)):typeof Se=="bigint"&&(Pe=String(Se),(Se>Math.pow(BigInt(2),BigInt(32))||Se<-Math.pow(BigInt(2),BigInt(32)))&&(Pe=be(Pe)),Pe+="n"),Re+" It must be ".concat(Te,". Received ").concat(Pe)},RangeError);var le=/[^+/0-9A-Za-z-_]/g;function oe(ge,Te){var Se;Te=Te||1/0;for(var Re=ge.length,Pe=null,Ve=[],We=0;We<Re;++We){if((Se=ge.charCodeAt(We))>55295&&Se<57344){if(!Pe){if(Se>56319){(Te-=3)>-1&&Ve.push(239,191,189);continue}if(We+1===Re){(Te-=3)>-1&&Ve.push(239,191,189);continue}Pe=Se;continue}if(Se<56320){(Te-=3)>-1&&Ve.push(239,191,189),Pe=Se;continue}Se=65536+(Pe-55296<<10|Se-56320)}else Pe&&(Te-=3)>-1&&Ve.push(239,191,189);if(Pe=null,Se<128){if((Te-=1)<0)break;Ve.push(Se)}else if(Se<2048){if((Te-=2)<0)break;Ve.push(Se>>6|192,63&Se|128)}else if(Se<65536){if((Te-=3)<0)break;Ve.push(Se>>12|224,Se>>6&63|128,63&Se|128)}else{if(!(Se<1114112))throw new Error("Invalid code point");if((Te-=4)<0)break;Ve.push(Se>>18|240,Se>>12&63|128,Se>>6&63|128,63&Se|128)}}return Ve}function ve(ge){return h.toByteArray(function(Te){if((Te=(Te=Te.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;Te.length%4!=0;)Te+="=";return Te}(ge))}function Ce(ge,Te,Se,Re){var Pe;for(Pe=0;Pe<Re&&!(Pe+Se>=Te.length||Pe>=ge.length);++Pe)Te[Pe+Se]=ge[Pe];return Pe}function ke(ge,Te){return ge instanceof Te||ge!=null&&ge.constructor!=null&&ge.constructor.name!=null&&ge.constructor.name===Te.name}function Ae(ge){return ge!=ge}var Ee=function(){for(var ge="0123456789abcdef",Te=new Array(256),Se=0;Se<16;++Se)for(var Re=16*Se,Pe=0;Pe<16;++Pe)Te[Re+Pe]=ge[Se]+ge[Pe];return Te}();function ze(ge){return typeof BigInt>"u"?Fe:ge}function Fe(){throw new Error("BigInt not supported")}},9216:function(f){f.exports=r,f.exports.isMobile=r,f.exports.default=r;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,i=/android|ipad|playbook|silk/i;function r(t){t||(t={});var a=t.ua;if(a||typeof navigator>"u"||(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;var l=s.test(a)&&!n.test(a)||!!t.tablet&&i.test(a);return!l&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(f,s,n){f.exports=function(u){var h=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],y=u.up||[0,1,0],d=u.distanceLimits||[0,1/0],v=u.mode||"turntable",g=i(),x=r(),m=t();return g.setDistanceLimits(d[0],d[1]),g.lookAt(0,h,c,y),x.setDistanceLimits(d[0],d[1]),x.lookAt(0,h,c,y),m.setDistanceLimits(d[0],d[1]),m.lookAt(0,h,c,y),new a({turntable:g,orbit:x,matrix:m},v)};var i=n(7261),r=n(9977),t=n(4192);function a(u,h){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=h,this._active=u[h],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=a.prototype;l.flush=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].flush(u)},l.idle=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].idle(u)},l.lookAt=function(u,h,c,y){for(var d=this._controllerList,v=0;v<d.length;++v)d[v].lookAt(u,h,c,y)},l.rotate=function(u,h,c,y){for(var d=this._controllerList,v=0;v<d.length;++v)d[v].rotate(u,h,c,y)},l.pan=function(u,h,c,y){for(var d=this._controllerList,v=0;v<d.length;++v)d[v].pan(u,h,c,y)},l.translate=function(u,h,c,y){for(var d=this._controllerList,v=0;v<d.length;++v)d[v].translate(u,h,c,y)},l.setMatrix=function(u,h){for(var c=this._controllerList,y=0;y<c.length;++y)c[y].setMatrix(u,h)},l.setDistanceLimits=function(u,h){for(var c=this._controllerList,y=0;y<c.length;++y)c[y].setDistanceLimits(u,h)},l.setDistance=function(u,h){for(var c=this._controllerList,y=0;y<c.length;++y)c[y].setDistance(u,h)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var h=this._controllerNames.indexOf(u);if(!(h<0)){var c=this._active,y=this._controllerList[h],d=Math.max(c.lastT(),y.lastT());c.recalcMatrix(d),y.setMatrix(d,c.computedMatrix),this._active=y,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},7169:function(f,s,n){var i=typeof WeakMap>"u"?n(1538):WeakMap,r=n(2762),t=n(8116),a=new i;f.exports=function(l){var u=a.get(l),h=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var c=r(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=t(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,a.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},1085:function(f,s,n){var i=n(1371);f.exports=function(r,t,a){t=typeof t=="number"?t:1,a=a||": ";var l=r.split(/\r?\n/),u=String(l.length+t-1).length;return l.map(function(h,c){var y=c+t,d=String(y).length;return i(y,u-d)+a+h}).join(`
`)}},3952:function(f,s,n){f.exports=function(t){var a=t.length;if(a===0)return[];if(a===1)return[0];for(var l=t[0].length,u=[t[0]],h=[0],c=1;c<a;++c)if(u.push(t[c]),r(u,l)){if(h.push(c),h.length===l+1)return h}else u.pop();return h};var i=n(3250);function r(t,a){for(var l=new Array(a+1),u=0;u<t.length;++u)l[u]=t[u];for(u=0;u<=t.length;++u){for(var h=t.length;h<=a;++h){for(var c=new Array(a),y=0;y<a;++y)c[y]=Math.pow(h+1-u,y);l[h]=c}if(i.apply(void 0,l))return!0}return!1}},5995:function(f,s,n){f.exports=function(t,a){return i(a).filter(function(l){for(var u=new Array(l.length),h=0;h<l.length;++h)u[h]=a[l[h]];return r(u)*t<1})};var i=n(7642),r=n(6037)},3502:function(f,s,n){f.exports=function(t,a){return r(i(t,a))};var i=n(5995),r=n(9127)},6468:function(f){f.exports=function(s){return atob(s)}},2642:function(f,s,n){f.exports=function(t,a){for(var l=a.length,u=new Array(l+1),h=0;h<l;++h){for(var c=new Array(l+1),y=0;y<=l;++y)c[y]=t[y][h];u[h]=c}for(u[l]=new Array(l+1),h=0;h<=l;++h)u[l][h]=1;var d=new Array(l+1);for(h=0;h<l;++h)d[h]=a[h];d[l]=1;var v=i(u,d),g=r(v[l+1]);g===0&&(g=1);var x=new Array(l+1);for(h=0;h<=l;++h)x[h]=r(v[h])/g;return x};var i=n(727);function r(t){for(var a=0,l=0;l<t.length;++l)a+=t[l];return a}},7507:function(f,s){s.byteLength=function(h){var c=l(h),y=c[0],d=c[1];return 3*(y+d)/4-d},s.toByteArray=function(h){var c,y,d=l(h),v=d[0],g=d[1],x=new r(function(p,S,T){return 3*(S+T)/4-T}(0,v,g)),m=0,_=g>0?v-4:v;for(y=0;y<_;y+=4)c=i[h.charCodeAt(y)]<<18|i[h.charCodeAt(y+1)]<<12|i[h.charCodeAt(y+2)]<<6|i[h.charCodeAt(y+3)],x[m++]=c>>16&255,x[m++]=c>>8&255,x[m++]=255&c;return g===2&&(c=i[h.charCodeAt(y)]<<2|i[h.charCodeAt(y+1)]>>4,x[m++]=255&c),g===1&&(c=i[h.charCodeAt(y)]<<10|i[h.charCodeAt(y+1)]<<4|i[h.charCodeAt(y+2)]>>2,x[m++]=c>>8&255,x[m++]=255&c),x},s.fromByteArray=function(h){for(var c,y=h.length,d=y%3,v=[],g=16383,x=0,m=y-d;x<m;x+=g)v.push(u(h,x,x+g>m?m:x+g));return d===1?(c=h[y-1],v.push(n[c>>2]+n[c<<4&63]+"==")):d===2&&(c=(h[y-2]<<8)+h[y-1],v.push(n[c>>10]+n[c>>4&63]+n[c<<2&63]+"=")),v.join("")};for(var n=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=t[a],i[t.charCodeAt(a)]=a;function l(h){var c=h.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=c),[y,y===c?0:4-y%4]}function u(h,c,y){for(var d,v,g=[],x=c;x<y;x+=3)d=(h[x]<<16&16711680)+(h[x+1]<<8&65280)+(255&h[x+2]),g.push(n[(v=d)>>18&63]+n[v>>12&63]+n[v>>6&63]+n[63&v]);return g.join("")}i[45]=62,i[95]=63},3865:function(f,s,n){var i=n(869);f.exports=function(r,t){return i(r[0].mul(t[1]).add(t[0].mul(r[1])),r[1].mul(t[1]))}},1318:function(f){f.exports=function(s,n){return s[0].mul(n[1]).cmp(n[0].mul(s[1]))}},8697:function(f,s,n){var i=n(869);f.exports=function(r,t){return i(r[0].mul(t[1]),r[1].mul(t[0]))}},7842:function(f,s,n){var i=n(6330),r=n(1533),t=n(2651),a=n(4387),l=n(869),u=n(8697);f.exports=function h(c,y){if(i(c))return y?u(c,h(y)):[c[0].clone(),c[1].clone()];var d,v,g=0;if(r(c))d=c.clone();else if(typeof c=="string")d=a(c);else{if(c===0)return[t(0),t(1)];if(c===Math.floor(c))d=t(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),g-=256;d=t(c)}}if(i(y))d.mul(y[1]),v=y[0].clone();else if(r(y))v=y.clone();else if(typeof y=="string")v=a(y);else if(y)if(y===Math.floor(y))v=t(y);else{for(;y!==Math.floor(y);)y*=Math.pow(2,256),g+=256;v=t(y)}else v=t(1);return g>0?d=d.ushln(g):g<0&&(v=v.ushln(-g)),l(d,v)}},6330:function(f,s,n){var i=n(1533);f.exports=function(r){return Array.isArray(r)&&r.length===2&&i(r[0])&&i(r[1])}},5716:function(f,s,n){var i=n(6859);f.exports=function(r){return r.cmp(new i(0))}},1369:function(f,s,n){var i=n(5716);f.exports=function(r){var t=r.length,a=r.words,l=0;if(t===1)l=a[0];else if(t===2)l=a[0]+67108864*a[1];else for(var u=0;u<t;u++)l+=a[u]*Math.pow(67108864,u);return i(r)*l}},4025:function(f,s,n){var i=n(2361),r=n(8828).countTrailingZeros;f.exports=function(t){var a=r(i.lo(t));if(a<32)return a;var l=r(i.hi(t));return l>20?52:l+32}},1533:function(f,s,n){n(6859),f.exports=function(i){return i&&typeof i=="object"&&!!i.words}},2651:function(f,s,n){var i=n(6859),r=n(2361);f.exports=function(t){var a=r.exponent(t);return a<52?new i(t):new i(t*Math.pow(2,52-a)).ushln(a-52)}},869:function(f,s,n){var i=n(2651),r=n(5716);f.exports=function(t,a){var l=r(t),u=r(a);if(l===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(t=t.neg(),a=a.neg());var h=t.gcd(a);return h.cmpn(1)?[t.div(h),a.div(h)]:[t,a]}},4387:function(f,s,n){var i=n(6859);f.exports=function(r){return new i(r)}},6504:function(f,s,n){var i=n(869);f.exports=function(r,t){return i(r[0].mul(t[0]),r[1].mul(t[1]))}},7721:function(f,s,n){var i=n(5716);f.exports=function(r){return i(r[0])*i(r[1])}},5572:function(f,s,n){var i=n(869);f.exports=function(r,t){return i(r[0].mul(t[1]).sub(r[1].mul(t[0])),r[1].mul(t[1]))}},946:function(f,s,n){var i=n(1369),r=n(4025);f.exports=function(t){var a=t[0],l=t[1];if(a.cmpn(0)===0)return 0;var u=a.abs().divmod(l.abs()),h=u.div,c=i(h),y=u.mod,d=a.negative!==l.negative?-1:1;if(y.cmpn(0)===0)return d*c;if(c){var v=r(c)+4;return d*(c+(x=i(y.ushln(v).divRound(l)))*Math.pow(2,-v))}var g=l.bitLength()-y.bitLength()+53,x=i(y.ushln(g).divRound(l));return g<1023?d*x*Math.pow(2,-g):d*(x*=Math.pow(2,-1023))*Math.pow(2,1023-g)}},2478:function(f){function s(l,u,h,c,y){for(var d=y+1;c<=y;){var v=c+y>>>1,g=l[v];(h!==void 0?h(g,u):g-u)>=0?(d=v,y=v-1):c=v+1}return d}function n(l,u,h,c,y){for(var d=y+1;c<=y;){var v=c+y>>>1,g=l[v];(h!==void 0?h(g,u):g-u)>0?(d=v,y=v-1):c=v+1}return d}function i(l,u,h,c,y){for(var d=c-1;c<=y;){var v=c+y>>>1,g=l[v];(h!==void 0?h(g,u):g-u)<0?(d=v,c=v+1):y=v-1}return d}function r(l,u,h,c,y){for(var d=c-1;c<=y;){var v=c+y>>>1,g=l[v];(h!==void 0?h(g,u):g-u)<=0?(d=v,c=v+1):y=v-1}return d}function t(l,u,h,c,y){for(;c<=y;){var d=c+y>>>1,v=l[d],g=h!==void 0?h(v,u):v-u;if(g===0)return d;g<=0?c=d+1:y=d-1}return-1}function a(l,u,h,c,y,d){return typeof h=="function"?d(l,u,h,c===void 0?0:0|c,y===void 0?l.length-1:0|y):d(l,u,void 0,h===void 0?0:0|h,c===void 0?l.length-1:0|c)}f.exports={ge:function(l,u,h,c,y){return a(l,u,h,c,y,s)},gt:function(l,u,h,c,y){return a(l,u,h,c,y,n)},lt:function(l,u,h,c,y){return a(l,u,h,c,y,i)},le:function(l,u,h,c,y){return a(l,u,h,c,y,r)},eq:function(l,u,h,c,y){return a(l,u,h,c,y,t)}}},8828:function(f,s){function n(r){var t=32;return(r&=-r)&&t--,65535&r&&(t-=16),16711935&r&&(t-=8),252645135&r&&(t-=4),858993459&r&&(t-=2),1431655765&r&&(t-=1),t}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var t=r>>31;return(r^t)-t},s.min=function(r,t){return t^(r^t)&-(r<t)},s.max=function(r,t){return r^(r^t)&-(r<t)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var t,a;return t=(r>65535)<<4,t|=a=((r>>>=t)>255)<<3,t|=a=((r>>>=a)>15)<<2,(t|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=n,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var t=0;t<256;++t){var a=t,l=t,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[t]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,t){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},s.deinterleave2=function(r,t){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>t&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,t,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,t){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>t&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1}},6859:function(f,s,n){(function(i,r){function t(z,j){if(!z)throw new Error(j||"Assertion failed")}function a(z,j){z.super_=j;var Z=function(){};Z.prototype=j.prototype,z.prototype=new Z,z.prototype.constructor=z}function l(z,j,Z){if(l.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&(j!=="le"&&j!=="be"||(Z=j,j=10),this._init(z||0,j||10,Z||"be"))}var u;typeof i=="object"?i.exports=l:r.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n(7790).Buffer}catch{}function h(z,j){var Z=z.charCodeAt(j);return Z>=65&&Z<=70?Z-55:Z>=97&&Z<=102?Z-87:Z-48&15}function c(z,j,Z){var F=h(z,Z);return Z-1>=j&&(F|=h(z,Z-1)<<4),F}function y(z,j,Z,F){for(var V=0,W=Math.min(z.length,Z),re=j;re<W;re++){var ne=z.charCodeAt(re)-48;V*=F,V+=ne>=49?ne-49+10:ne>=17?ne-17+10:ne}return V}l.isBN=function(z){return z instanceof l||z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,j){return z.cmp(j)>0?z:j},l.min=function(z,j){return z.cmp(j)<0?z:j},l.prototype._init=function(z,j,Z){if(typeof z=="number")return this._initNumber(z,j,Z);if(typeof z=="object")return this._initArray(z,j,Z);j==="hex"&&(j=16),t(j===(0|j)&&j>=2&&j<=36);var F=0;(z=z.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<z.length&&(j===16?this._parseHex(z,F,Z):(this._parseBase(z,j,F),Z==="le"&&this._initArray(this.toArray(),j,Z)))},l.prototype._initNumber=function(z,j,Z){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(t(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),j,Z)},l.prototype._initArray=function(z,j,Z){if(t(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,W,re=0;if(Z==="be")for(F=z.length-1,V=0;F>=0;F-=3)W=z[F]|z[F-1]<<8|z[F-2]<<16,this.words[V]|=W<<re&67108863,this.words[V+1]=W>>>26-re&67108863,(re+=24)>=26&&(re-=26,V++);else if(Z==="le")for(F=0,V=0;F<z.length;F+=3)W=z[F]|z[F+1]<<8|z[F+2]<<16,this.words[V]|=W<<re&67108863,this.words[V+1]=W>>>26-re&67108863,(re+=24)>=26&&(re-=26,V++);return this.strip()},l.prototype._parseHex=function(z,j,Z){this.length=Math.ceil((z.length-j)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,W=0,re=0;if(Z==="be")for(F=z.length-1;F>=j;F-=2)V=c(z,j,F)<<W,this.words[re]|=67108863&V,W>=18?(W-=18,re+=1,this.words[re]|=V>>>26):W+=8;else for(F=(z.length-j)%2==0?j+1:j;F<z.length;F+=2)V=c(z,j,F)<<W,this.words[re]|=67108863&V,W>=18?(W-=18,re+=1,this.words[re]|=V>>>26):W+=8;this.strip()},l.prototype._parseBase=function(z,j,Z){this.words=[0],this.length=1;for(var F=0,V=1;V<=67108863;V*=j)F++;F--,V=V/j|0;for(var W=z.length-Z,re=W%F,ne=Math.min(W,W-re)+Z,te=0,Q=Z;Q<ne;Q+=F)te=y(z,Q,Q+F,j),this.imuln(V),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(re!==0){var $=1;for(te=y(z,Q,z.length,j),Q=0;Q<re;Q++)$*=j;this.imuln($),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var j=0;j<this.length;j++)z.words[j]=this.words[j];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(z,j,Z){Z.negative=j.negative^z.negative;var F=z.length+j.length|0;Z.length=F,F=F-1|0;var V=0|z.words[0],W=0|j.words[0],re=V*W,ne=67108863&re,te=re/67108864|0;Z.words[0]=ne;for(var Q=1;Q<F;Q++){for(var $=te>>>26,K=67108863&te,ae=Math.min(Q,j.length-1),ue=Math.max(0,Q-z.length+1);ue<=ae;ue++){var se=Q-ue|0;$+=(re=(V=0|z.words[se])*(W=0|j.words[ue])+K)/67108864|0,K=67108863&re}Z.words[Q]=0|K,te=0|$}return te!==0?Z.words[Q]=0|te:Z.length--,Z.strip()}l.prototype.toString=function(z,j){var Z;if(j=0|j||1,(z=z||10)===16||z==="hex"){Z="";for(var F=0,V=0,W=0;W<this.length;W++){var re=this.words[W],ne=(16777215&(re<<F|V)).toString(16);Z=(V=re>>>24-F&16777215)!=0||W!==this.length-1?d[6-ne.length]+ne+Z:ne+Z,(F+=2)>=26&&(F-=26,W--)}for(V!==0&&(Z=V.toString(16)+Z);Z.length%j!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(z===(0|z)&&z>=2&&z<=36){var te=v[z],Q=g[z];Z="";var $=this.clone();for($.negative=0;!$.isZero();){var K=$.modn(Q).toString(z);Z=($=$.idivn(Q)).isZero()?K+Z:d[te-K.length]+K+Z}for(this.isZero()&&(Z="0"+Z);Z.length%j!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}t(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=67108864*this.words[1]:this.length===3&&this.words[2]===1?z+=4503599627370496+67108864*this.words[1]:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,j){return t(u!==void 0),this.toArrayLike(u,z,j)},l.prototype.toArray=function(z,j){return this.toArrayLike(Array,z,j)},l.prototype.toArrayLike=function(z,j,Z){var F=this.byteLength(),V=Z||Math.max(1,F);t(F<=V,"byte array longer than desired length"),t(V>0,"Requested array length <= 0"),this.strip();var W,re,ne=j==="le",te=new z(V),Q=this.clone();if(ne){for(re=0;!Q.isZero();re++)W=Q.andln(255),Q.iushrn(8),te[re]=W;for(;re<V;re++)te[re]=0}else{for(re=0;re<V-F;re++)te[re]=0;for(re=0;!Q.isZero();re++)W=Q.andln(255),Q.iushrn(8),te[V-re-1]=W}return te},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var j=z,Z=0;return j>=4096&&(Z+=13,j>>>=13),j>=64&&(Z+=7,j>>>=7),j>=8&&(Z+=4,j>>>=4),j>=2&&(Z+=2,j>>>=2),Z+j},l.prototype._zeroBits=function(z){if(z===0)return 26;var j=z,Z=0;return!(8191&j)&&(Z+=13,j>>>=13),!(127&j)&&(Z+=7,j>>>=7),!(15&j)&&(Z+=4,j>>>=4),!(3&j)&&(Z+=2,j>>>=2),!(1&j)&&Z++,Z},l.prototype.bitLength=function(){var z=this.words[this.length-1],j=this._countBits(z);return 26*(this.length-1)+j},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,j=0;j<this.length;j++){var Z=this._zeroBits(this.words[j]);if(z+=Z,Z!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var j=0;j<z.length;j++)this.words[j]=this.words[j]|z.words[j];return this.strip()},l.prototype.ior=function(z){return t((this.negative|z.negative)==0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var j;j=this.length>z.length?z:this;for(var Z=0;Z<j.length;Z++)this.words[Z]=this.words[Z]&z.words[Z];return this.length=j.length,this.strip()},l.prototype.iand=function(z){return t((this.negative|z.negative)==0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var j,Z;this.length>z.length?(j=this,Z=z):(j=z,Z=this);for(var F=0;F<Z.length;F++)this.words[F]=j.words[F]^Z.words[F];if(this!==j)for(;F<j.length;F++)this.words[F]=j.words[F];return this.length=j.length,this.strip()},l.prototype.ixor=function(z){return t((this.negative|z.negative)==0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){t(typeof z=="number"&&z>=0);var j=0|Math.ceil(z/26),Z=z%26;this._expand(j),Z>0&&j--;for(var F=0;F<j;F++)this.words[F]=67108863&~this.words[F];return Z>0&&(this.words[F]=~this.words[F]&67108863>>26-Z),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,j){t(typeof z=="number"&&z>=0);var Z=z/26|0,F=z%26;return this._expand(Z+1),this.words[Z]=j?this.words[Z]|1<<F:this.words[Z]&~(1<<F),this.strip()},l.prototype.iadd=function(z){var j,Z,F;if(this.negative!==0&&z.negative===0)return this.negative=0,j=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,j=this.isub(z),z.negative=1,j._normSign();this.length>z.length?(Z=this,F=z):(Z=z,F=this);for(var V=0,W=0;W<F.length;W++)j=(0|Z.words[W])+(0|F.words[W])+V,this.words[W]=67108863&j,V=j>>>26;for(;V!==0&&W<Z.length;W++)j=(0|Z.words[W])+V,this.words[W]=67108863&j,V=j>>>26;if(this.length=Z.length,V!==0)this.words[this.length]=V,this.length++;else if(Z!==this)for(;W<Z.length;W++)this.words[W]=Z.words[W];return this},l.prototype.add=function(z){var j;return z.negative!==0&&this.negative===0?(z.negative=0,j=this.sub(z),z.negative^=1,j):z.negative===0&&this.negative!==0?(this.negative=0,j=z.sub(this),this.negative=1,j):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var j=this.iadd(z);return z.negative=1,j._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Z,F,V=this.cmp(z);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(Z=this,F=z):(Z=z,F=this);for(var W=0,re=0;re<F.length;re++)W=(j=(0|Z.words[re])-(0|F.words[re])+W)>>26,this.words[re]=67108863&j;for(;W!==0&&re<Z.length;re++)W=(j=(0|Z.words[re])+W)>>26,this.words[re]=67108863&j;if(W===0&&re<Z.length&&Z!==this)for(;re<Z.length;re++)this.words[re]=Z.words[re];return this.length=Math.max(this.length,re),Z!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};var m=function(z,j,Z){var F,V,W,re=z.words,ne=j.words,te=Z.words,Q=0,$=0|re[0],K=8191&$,ae=$>>>13,ue=0|re[1],se=8191&ue,he=ue>>>13,pe=0|re[2],de=8191&pe,xe=pe>>>13,_e=0|re[3],be=8191&_e,Le=_e>>>13,De=0|re[4],ye=8191&De,le=De>>>13,oe=0|re[5],ve=8191&oe,Ce=oe>>>13,ke=0|re[6],Ae=8191&ke,Ee=ke>>>13,ze=0|re[7],Fe=8191&ze,ge=ze>>>13,Te=0|re[8],Se=8191&Te,Re=Te>>>13,Pe=0|re[9],Ve=8191&Pe,We=Pe>>>13,Qe=0|ne[0],lt=8191&Qe,ut=Qe>>>13,xt=0|ne[1],_t=8191&xt,mt=xt>>>13,it=0|ne[2],nt=8191&it,Et=it>>>13,Rt=0|ne[3],Ft=8191&Rt,Pt=Rt>>>13,Ze=0|ne[4],$e=8191&Ze,He=Ze>>>13,Je=0|ne[5],ft=8191&Je,ot=Je>>>13,je=0|ne[6],Ue=8191&je,st=je>>>13,Ke=0|ne[7],gt=8191&Ke,yt=Ke>>>13,bt=0|ne[8],dt=8191&bt,Lt=bt>>>13,wt=0|ne[9],Ct=8191&wt,zt=wt>>>13;Z.negative=z.negative^j.negative,Z.length=19;var Dt=(Q+(F=Math.imul(K,lt))|0)+((8191&(V=(V=Math.imul(K,ut))+Math.imul(ae,lt)|0))<<13)|0;Q=((W=Math.imul(ae,ut))+(V>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,F=Math.imul(se,lt),V=(V=Math.imul(se,ut))+Math.imul(he,lt)|0,W=Math.imul(he,ut);var Nt=(Q+(F=F+Math.imul(K,_t)|0)|0)+((8191&(V=(V=V+Math.imul(K,mt)|0)+Math.imul(ae,_t)|0))<<13)|0;Q=((W=W+Math.imul(ae,mt)|0)+(V>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,F=Math.imul(de,lt),V=(V=Math.imul(de,ut))+Math.imul(xe,lt)|0,W=Math.imul(xe,ut),F=F+Math.imul(se,_t)|0,V=(V=V+Math.imul(se,mt)|0)+Math.imul(he,_t)|0,W=W+Math.imul(he,mt)|0;var Kt=(Q+(F=F+Math.imul(K,nt)|0)|0)+((8191&(V=(V=V+Math.imul(K,Et)|0)+Math.imul(ae,nt)|0))<<13)|0;Q=((W=W+Math.imul(ae,Et)|0)+(V>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(be,lt),V=(V=Math.imul(be,ut))+Math.imul(Le,lt)|0,W=Math.imul(Le,ut),F=F+Math.imul(de,_t)|0,V=(V=V+Math.imul(de,mt)|0)+Math.imul(xe,_t)|0,W=W+Math.imul(xe,mt)|0,F=F+Math.imul(se,nt)|0,V=(V=V+Math.imul(se,Et)|0)+Math.imul(he,nt)|0,W=W+Math.imul(he,Et)|0;var un=(Q+(F=F+Math.imul(K,Ft)|0)|0)+((8191&(V=(V=V+Math.imul(K,Pt)|0)+Math.imul(ae,Ft)|0))<<13)|0;Q=((W=W+Math.imul(ae,Pt)|0)+(V>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(ye,lt),V=(V=Math.imul(ye,ut))+Math.imul(le,lt)|0,W=Math.imul(le,ut),F=F+Math.imul(be,_t)|0,V=(V=V+Math.imul(be,mt)|0)+Math.imul(Le,_t)|0,W=W+Math.imul(Le,mt)|0,F=F+Math.imul(de,nt)|0,V=(V=V+Math.imul(de,Et)|0)+Math.imul(xe,nt)|0,W=W+Math.imul(xe,Et)|0,F=F+Math.imul(se,Ft)|0,V=(V=V+Math.imul(se,Pt)|0)+Math.imul(he,Ft)|0,W=W+Math.imul(he,Pt)|0;var qt=(Q+(F=F+Math.imul(K,$e)|0)|0)+((8191&(V=(V=V+Math.imul(K,He)|0)+Math.imul(ae,$e)|0))<<13)|0;Q=((W=W+Math.imul(ae,He)|0)+(V>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(ve,lt),V=(V=Math.imul(ve,ut))+Math.imul(Ce,lt)|0,W=Math.imul(Ce,ut),F=F+Math.imul(ye,_t)|0,V=(V=V+Math.imul(ye,mt)|0)+Math.imul(le,_t)|0,W=W+Math.imul(le,mt)|0,F=F+Math.imul(be,nt)|0,V=(V=V+Math.imul(be,Et)|0)+Math.imul(Le,nt)|0,W=W+Math.imul(Le,Et)|0,F=F+Math.imul(de,Ft)|0,V=(V=V+Math.imul(de,Pt)|0)+Math.imul(xe,Ft)|0,W=W+Math.imul(xe,Pt)|0,F=F+Math.imul(se,$e)|0,V=(V=V+Math.imul(se,He)|0)+Math.imul(he,$e)|0,W=W+Math.imul(he,He)|0;var Jt=(Q+(F=F+Math.imul(K,ft)|0)|0)+((8191&(V=(V=V+Math.imul(K,ot)|0)+Math.imul(ae,ft)|0))<<13)|0;Q=((W=W+Math.imul(ae,ot)|0)+(V>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F=Math.imul(Ae,lt),V=(V=Math.imul(Ae,ut))+Math.imul(Ee,lt)|0,W=Math.imul(Ee,ut),F=F+Math.imul(ve,_t)|0,V=(V=V+Math.imul(ve,mt)|0)+Math.imul(Ce,_t)|0,W=W+Math.imul(Ce,mt)|0,F=F+Math.imul(ye,nt)|0,V=(V=V+Math.imul(ye,Et)|0)+Math.imul(le,nt)|0,W=W+Math.imul(le,Et)|0,F=F+Math.imul(be,Ft)|0,V=(V=V+Math.imul(be,Pt)|0)+Math.imul(Le,Ft)|0,W=W+Math.imul(Le,Pt)|0,F=F+Math.imul(de,$e)|0,V=(V=V+Math.imul(de,He)|0)+Math.imul(xe,$e)|0,W=W+Math.imul(xe,He)|0,F=F+Math.imul(se,ft)|0,V=(V=V+Math.imul(se,ot)|0)+Math.imul(he,ft)|0,W=W+Math.imul(he,ot)|0;var Ut=(Q+(F=F+Math.imul(K,Ue)|0)|0)+((8191&(V=(V=V+Math.imul(K,st)|0)+Math.imul(ae,Ue)|0))<<13)|0;Q=((W=W+Math.imul(ae,st)|0)+(V>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,F=Math.imul(Fe,lt),V=(V=Math.imul(Fe,ut))+Math.imul(ge,lt)|0,W=Math.imul(ge,ut),F=F+Math.imul(Ae,_t)|0,V=(V=V+Math.imul(Ae,mt)|0)+Math.imul(Ee,_t)|0,W=W+Math.imul(Ee,mt)|0,F=F+Math.imul(ve,nt)|0,V=(V=V+Math.imul(ve,Et)|0)+Math.imul(Ce,nt)|0,W=W+Math.imul(Ce,Et)|0,F=F+Math.imul(ye,Ft)|0,V=(V=V+Math.imul(ye,Pt)|0)+Math.imul(le,Ft)|0,W=W+Math.imul(le,Pt)|0,F=F+Math.imul(be,$e)|0,V=(V=V+Math.imul(be,He)|0)+Math.imul(Le,$e)|0,W=W+Math.imul(Le,He)|0,F=F+Math.imul(de,ft)|0,V=(V=V+Math.imul(de,ot)|0)+Math.imul(xe,ft)|0,W=W+Math.imul(xe,ot)|0,F=F+Math.imul(se,Ue)|0,V=(V=V+Math.imul(se,st)|0)+Math.imul(he,Ue)|0,W=W+Math.imul(he,st)|0;var zn=(Q+(F=F+Math.imul(K,gt)|0)|0)+((8191&(V=(V=V+Math.imul(K,yt)|0)+Math.imul(ae,gt)|0))<<13)|0;Q=((W=W+Math.imul(ae,yt)|0)+(V>>>13)|0)+(zn>>>26)|0,zn&=67108863,F=Math.imul(Se,lt),V=(V=Math.imul(Se,ut))+Math.imul(Re,lt)|0,W=Math.imul(Re,ut),F=F+Math.imul(Fe,_t)|0,V=(V=V+Math.imul(Fe,mt)|0)+Math.imul(ge,_t)|0,W=W+Math.imul(ge,mt)|0,F=F+Math.imul(Ae,nt)|0,V=(V=V+Math.imul(Ae,Et)|0)+Math.imul(Ee,nt)|0,W=W+Math.imul(Ee,Et)|0,F=F+Math.imul(ve,Ft)|0,V=(V=V+Math.imul(ve,Pt)|0)+Math.imul(Ce,Ft)|0,W=W+Math.imul(Ce,Pt)|0,F=F+Math.imul(ye,$e)|0,V=(V=V+Math.imul(ye,He)|0)+Math.imul(le,$e)|0,W=W+Math.imul(le,He)|0,F=F+Math.imul(be,ft)|0,V=(V=V+Math.imul(be,ot)|0)+Math.imul(Le,ft)|0,W=W+Math.imul(Le,ot)|0,F=F+Math.imul(de,Ue)|0,V=(V=V+Math.imul(de,st)|0)+Math.imul(xe,Ue)|0,W=W+Math.imul(xe,st)|0,F=F+Math.imul(se,gt)|0,V=(V=V+Math.imul(se,yt)|0)+Math.imul(he,gt)|0,W=W+Math.imul(he,yt)|0;var An=(Q+(F=F+Math.imul(K,dt)|0)|0)+((8191&(V=(V=V+Math.imul(K,Lt)|0)+Math.imul(ae,dt)|0))<<13)|0;Q=((W=W+Math.imul(ae,Lt)|0)+(V>>>13)|0)+(An>>>26)|0,An&=67108863,F=Math.imul(Ve,lt),V=(V=Math.imul(Ve,ut))+Math.imul(We,lt)|0,W=Math.imul(We,ut),F=F+Math.imul(Se,_t)|0,V=(V=V+Math.imul(Se,mt)|0)+Math.imul(Re,_t)|0,W=W+Math.imul(Re,mt)|0,F=F+Math.imul(Fe,nt)|0,V=(V=V+Math.imul(Fe,Et)|0)+Math.imul(ge,nt)|0,W=W+Math.imul(ge,Et)|0,F=F+Math.imul(Ae,Ft)|0,V=(V=V+Math.imul(Ae,Pt)|0)+Math.imul(Ee,Ft)|0,W=W+Math.imul(Ee,Pt)|0,F=F+Math.imul(ve,$e)|0,V=(V=V+Math.imul(ve,He)|0)+Math.imul(Ce,$e)|0,W=W+Math.imul(Ce,He)|0,F=F+Math.imul(ye,ft)|0,V=(V=V+Math.imul(ye,ot)|0)+Math.imul(le,ft)|0,W=W+Math.imul(le,ot)|0,F=F+Math.imul(be,Ue)|0,V=(V=V+Math.imul(be,st)|0)+Math.imul(Le,Ue)|0,W=W+Math.imul(Le,st)|0,F=F+Math.imul(de,gt)|0,V=(V=V+Math.imul(de,yt)|0)+Math.imul(xe,gt)|0,W=W+Math.imul(xe,yt)|0,F=F+Math.imul(se,dt)|0,V=(V=V+Math.imul(se,Lt)|0)+Math.imul(he,dt)|0,W=W+Math.imul(he,Lt)|0;var mn=(Q+(F=F+Math.imul(K,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(K,zt)|0)+Math.imul(ae,Ct)|0))<<13)|0;Q=((W=W+Math.imul(ae,zt)|0)+(V>>>13)|0)+(mn>>>26)|0,mn&=67108863,F=Math.imul(Ve,_t),V=(V=Math.imul(Ve,mt))+Math.imul(We,_t)|0,W=Math.imul(We,mt),F=F+Math.imul(Se,nt)|0,V=(V=V+Math.imul(Se,Et)|0)+Math.imul(Re,nt)|0,W=W+Math.imul(Re,Et)|0,F=F+Math.imul(Fe,Ft)|0,V=(V=V+Math.imul(Fe,Pt)|0)+Math.imul(ge,Ft)|0,W=W+Math.imul(ge,Pt)|0,F=F+Math.imul(Ae,$e)|0,V=(V=V+Math.imul(Ae,He)|0)+Math.imul(Ee,$e)|0,W=W+Math.imul(Ee,He)|0,F=F+Math.imul(ve,ft)|0,V=(V=V+Math.imul(ve,ot)|0)+Math.imul(Ce,ft)|0,W=W+Math.imul(Ce,ot)|0,F=F+Math.imul(ye,Ue)|0,V=(V=V+Math.imul(ye,st)|0)+Math.imul(le,Ue)|0,W=W+Math.imul(le,st)|0,F=F+Math.imul(be,gt)|0,V=(V=V+Math.imul(be,yt)|0)+Math.imul(Le,gt)|0,W=W+Math.imul(Le,yt)|0,F=F+Math.imul(de,dt)|0,V=(V=V+Math.imul(de,Lt)|0)+Math.imul(xe,dt)|0,W=W+Math.imul(xe,Lt)|0;var tn=(Q+(F=F+Math.imul(se,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(se,zt)|0)+Math.imul(he,Ct)|0))<<13)|0;Q=((W=W+Math.imul(he,zt)|0)+(V>>>13)|0)+(tn>>>26)|0,tn&=67108863,F=Math.imul(Ve,nt),V=(V=Math.imul(Ve,Et))+Math.imul(We,nt)|0,W=Math.imul(We,Et),F=F+Math.imul(Se,Ft)|0,V=(V=V+Math.imul(Se,Pt)|0)+Math.imul(Re,Ft)|0,W=W+Math.imul(Re,Pt)|0,F=F+Math.imul(Fe,$e)|0,V=(V=V+Math.imul(Fe,He)|0)+Math.imul(ge,$e)|0,W=W+Math.imul(ge,He)|0,F=F+Math.imul(Ae,ft)|0,V=(V=V+Math.imul(Ae,ot)|0)+Math.imul(Ee,ft)|0,W=W+Math.imul(Ee,ot)|0,F=F+Math.imul(ve,Ue)|0,V=(V=V+Math.imul(ve,st)|0)+Math.imul(Ce,Ue)|0,W=W+Math.imul(Ce,st)|0,F=F+Math.imul(ye,gt)|0,V=(V=V+Math.imul(ye,yt)|0)+Math.imul(le,gt)|0,W=W+Math.imul(le,yt)|0,F=F+Math.imul(be,dt)|0,V=(V=V+Math.imul(be,Lt)|0)+Math.imul(Le,dt)|0,W=W+Math.imul(Le,Lt)|0;var fn=(Q+(F=F+Math.imul(de,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(de,zt)|0)+Math.imul(xe,Ct)|0))<<13)|0;Q=((W=W+Math.imul(xe,zt)|0)+(V>>>13)|0)+(fn>>>26)|0,fn&=67108863,F=Math.imul(Ve,Ft),V=(V=Math.imul(Ve,Pt))+Math.imul(We,Ft)|0,W=Math.imul(We,Pt),F=F+Math.imul(Se,$e)|0,V=(V=V+Math.imul(Se,He)|0)+Math.imul(Re,$e)|0,W=W+Math.imul(Re,He)|0,F=F+Math.imul(Fe,ft)|0,V=(V=V+Math.imul(Fe,ot)|0)+Math.imul(ge,ft)|0,W=W+Math.imul(ge,ot)|0,F=F+Math.imul(Ae,Ue)|0,V=(V=V+Math.imul(Ae,st)|0)+Math.imul(Ee,Ue)|0,W=W+Math.imul(Ee,st)|0,F=F+Math.imul(ve,gt)|0,V=(V=V+Math.imul(ve,yt)|0)+Math.imul(Ce,gt)|0,W=W+Math.imul(Ce,yt)|0,F=F+Math.imul(ye,dt)|0,V=(V=V+Math.imul(ye,Lt)|0)+Math.imul(le,dt)|0,W=W+Math.imul(le,Lt)|0;var rn=(Q+(F=F+Math.imul(be,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(be,zt)|0)+Math.imul(Le,Ct)|0))<<13)|0;Q=((W=W+Math.imul(Le,zt)|0)+(V>>>13)|0)+(rn>>>26)|0,rn&=67108863,F=Math.imul(Ve,$e),V=(V=Math.imul(Ve,He))+Math.imul(We,$e)|0,W=Math.imul(We,He),F=F+Math.imul(Se,ft)|0,V=(V=V+Math.imul(Se,ot)|0)+Math.imul(Re,ft)|0,W=W+Math.imul(Re,ot)|0,F=F+Math.imul(Fe,Ue)|0,V=(V=V+Math.imul(Fe,st)|0)+Math.imul(ge,Ue)|0,W=W+Math.imul(ge,st)|0,F=F+Math.imul(Ae,gt)|0,V=(V=V+Math.imul(Ae,yt)|0)+Math.imul(Ee,gt)|0,W=W+Math.imul(Ee,yt)|0,F=F+Math.imul(ve,dt)|0,V=(V=V+Math.imul(ve,Lt)|0)+Math.imul(Ce,dt)|0,W=W+Math.imul(Ce,Lt)|0;var pn=(Q+(F=F+Math.imul(ye,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(ye,zt)|0)+Math.imul(le,Ct)|0))<<13)|0;Q=((W=W+Math.imul(le,zt)|0)+(V>>>13)|0)+(pn>>>26)|0,pn&=67108863,F=Math.imul(Ve,ft),V=(V=Math.imul(Ve,ot))+Math.imul(We,ft)|0,W=Math.imul(We,ot),F=F+Math.imul(Se,Ue)|0,V=(V=V+Math.imul(Se,st)|0)+Math.imul(Re,Ue)|0,W=W+Math.imul(Re,st)|0,F=F+Math.imul(Fe,gt)|0,V=(V=V+Math.imul(Fe,yt)|0)+Math.imul(ge,gt)|0,W=W+Math.imul(ge,yt)|0,F=F+Math.imul(Ae,dt)|0,V=(V=V+Math.imul(Ae,Lt)|0)+Math.imul(Ee,dt)|0,W=W+Math.imul(Ee,Lt)|0;var wn=(Q+(F=F+Math.imul(ve,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(ve,zt)|0)+Math.imul(Ce,Ct)|0))<<13)|0;Q=((W=W+Math.imul(Ce,zt)|0)+(V>>>13)|0)+(wn>>>26)|0,wn&=67108863,F=Math.imul(Ve,Ue),V=(V=Math.imul(Ve,st))+Math.imul(We,Ue)|0,W=Math.imul(We,st),F=F+Math.imul(Se,gt)|0,V=(V=V+Math.imul(Se,yt)|0)+Math.imul(Re,gt)|0,W=W+Math.imul(Re,yt)|0,F=F+Math.imul(Fe,dt)|0,V=(V=V+Math.imul(Fe,Lt)|0)+Math.imul(ge,dt)|0,W=W+Math.imul(ge,Lt)|0;var kn=(Q+(F=F+Math.imul(Ae,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(Ae,zt)|0)+Math.imul(Ee,Ct)|0))<<13)|0;Q=((W=W+Math.imul(Ee,zt)|0)+(V>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(Ve,gt),V=(V=Math.imul(Ve,yt))+Math.imul(We,gt)|0,W=Math.imul(We,yt),F=F+Math.imul(Se,dt)|0,V=(V=V+Math.imul(Se,Lt)|0)+Math.imul(Re,dt)|0,W=W+Math.imul(Re,Lt)|0;var Pn=(Q+(F=F+Math.imul(Fe,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(Fe,zt)|0)+Math.imul(ge,Ct)|0))<<13)|0;Q=((W=W+Math.imul(ge,zt)|0)+(V>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,F=Math.imul(Ve,dt),V=(V=Math.imul(Ve,Lt))+Math.imul(We,dt)|0,W=Math.imul(We,Lt);var On=(Q+(F=F+Math.imul(Se,Ct)|0)|0)+((8191&(V=(V=V+Math.imul(Se,zt)|0)+Math.imul(Re,Ct)|0))<<13)|0;Q=((W=W+Math.imul(Re,zt)|0)+(V>>>13)|0)+(On>>>26)|0,On&=67108863;var En=(Q+(F=Math.imul(Ve,Ct))|0)+((8191&(V=(V=Math.imul(Ve,zt))+Math.imul(We,Ct)|0))<<13)|0;return Q=((W=Math.imul(We,zt))+(V>>>13)|0)+(En>>>26)|0,En&=67108863,te[0]=Dt,te[1]=Nt,te[2]=Kt,te[3]=un,te[4]=qt,te[5]=Jt,te[6]=Ut,te[7]=zn,te[8]=An,te[9]=mn,te[10]=tn,te[11]=fn,te[12]=rn,te[13]=pn,te[14]=wn,te[15]=kn,te[16]=Pn,te[17]=On,te[18]=En,Q!==0&&(te[19]=Q,Z.length++),Z};function _(z,j,Z){return new p().mulp(z,j,Z)}function p(z,j){this.x=z,this.y=j}Math.imul||(m=x),l.prototype.mulTo=function(z,j){var Z,F=this.length+z.length;return Z=this.length===10&&z.length===10?m(this,z,j):F<63?x(this,z,j):F<1024?function(V,W,re){re.negative=W.negative^V.negative,re.length=V.length+W.length;for(var ne=0,te=0,Q=0;Q<re.length-1;Q++){var $=te;te=0;for(var K=67108863&ne,ae=Math.min(Q,W.length-1),ue=Math.max(0,Q-V.length+1);ue<=ae;ue++){var se=Q-ue,he=(0|V.words[se])*(0|W.words[ue]),pe=67108863&he;K=67108863&(pe=pe+K|0),te+=($=($=$+(he/67108864|0)|0)+(pe>>>26)|0)>>>26,$&=67108863}re.words[Q]=K,ne=$,$=te}return ne!==0?re.words[Q]=ne:re.length--,re.strip()}(this,z,j):_(this,z,j),Z},p.prototype.makeRBT=function(z){for(var j=new Array(z),Z=l.prototype._countBits(z)-1,F=0;F<z;F++)j[F]=this.revBin(F,Z,z);return j},p.prototype.revBin=function(z,j,Z){if(z===0||z===Z-1)return z;for(var F=0,V=0;V<j;V++)F|=(1&z)<<j-V-1,z>>=1;return F},p.prototype.permute=function(z,j,Z,F,V,W){for(var re=0;re<W;re++)F[re]=j[z[re]],V[re]=Z[z[re]]},p.prototype.transform=function(z,j,Z,F,V,W){this.permute(W,z,j,Z,F,V);for(var re=1;re<V;re<<=1)for(var ne=re<<1,te=Math.cos(2*Math.PI/ne),Q=Math.sin(2*Math.PI/ne),$=0;$<V;$+=ne)for(var K=te,ae=Q,ue=0;ue<re;ue++){var se=Z[$+ue],he=F[$+ue],pe=Z[$+ue+re],de=F[$+ue+re],xe=K*pe-ae*de;de=K*de+ae*pe,pe=xe,Z[$+ue]=se+pe,F[$+ue]=he+de,Z[$+ue+re]=se-pe,F[$+ue+re]=he-de,ue!==ne&&(xe=te*K-Q*ae,ae=te*ae+Q*K,K=xe)}},p.prototype.guessLen13b=function(z,j){var Z=1|Math.max(j,z),F=1&Z,V=0;for(Z=Z/2|0;Z;Z>>>=1)V++;return 1<<V+1+F},p.prototype.conjugate=function(z,j,Z){if(!(Z<=1))for(var F=0;F<Z/2;F++){var V=z[F];z[F]=z[Z-F-1],z[Z-F-1]=V,V=j[F],j[F]=-j[Z-F-1],j[Z-F-1]=-V}},p.prototype.normalize13b=function(z,j){for(var Z=0,F=0;F<j/2;F++){var V=8192*Math.round(z[2*F+1]/j)+Math.round(z[2*F]/j)+Z;z[F]=67108863&V,Z=V<67108864?0:V/67108864|0}return z},p.prototype.convert13b=function(z,j,Z,F){for(var V=0,W=0;W<j;W++)V+=0|z[W],Z[2*W]=8191&V,V>>>=13,Z[2*W+1]=8191&V,V>>>=13;for(W=2*j;W<F;++W)Z[W]=0;t(V===0),t((-8192&V)==0)},p.prototype.stub=function(z){for(var j=new Array(z),Z=0;Z<z;Z++)j[Z]=0;return j},p.prototype.mulp=function(z,j,Z){var F=2*this.guessLen13b(z.length,j.length),V=this.makeRBT(F),W=this.stub(F),re=new Array(F),ne=new Array(F),te=new Array(F),Q=new Array(F),$=new Array(F),K=new Array(F),ae=Z.words;ae.length=F,this.convert13b(z.words,z.length,re,F),this.convert13b(j.words,j.length,Q,F),this.transform(re,W,ne,te,F,V),this.transform(Q,W,$,K,F,V);for(var ue=0;ue<F;ue++){var se=ne[ue]*$[ue]-te[ue]*K[ue];te[ue]=ne[ue]*K[ue]+te[ue]*$[ue],ne[ue]=se}return this.conjugate(ne,te,F),this.transform(ne,te,ae,W,F,V),this.conjugate(ae,W,F),this.normalize13b(ae,F),Z.negative=z.negative^j.negative,Z.length=z.length+j.length,Z.strip()},l.prototype.mul=function(z){var j=new l(null);return j.words=new Array(this.length+z.length),this.mulTo(z,j)},l.prototype.mulf=function(z){var j=new l(null);return j.words=new Array(this.length+z.length),_(this,z,j)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){t(typeof z=="number"),t(z<67108864);for(var j=0,Z=0;Z<this.length;Z++){var F=(0|this.words[Z])*z,V=(67108863&F)+(67108863&j);j>>=26,j+=F/67108864|0,j+=V>>>26,this.words[Z]=67108863&V}return j!==0&&(this.words[Z]=j,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var j=function(W){for(var re=new Array(W.bitLength()),ne=0;ne<re.length;ne++){var te=ne/26|0,Q=ne%26;re[ne]=(W.words[te]&1<<Q)>>>Q}return re}(z);if(j.length===0)return new l(1);for(var Z=this,F=0;F<j.length&&j[F]===0;F++,Z=Z.sqr());if(++F<j.length)for(var V=Z.sqr();F<j.length;F++,V=V.sqr())j[F]!==0&&(Z=Z.mul(V));return Z},l.prototype.iushln=function(z){t(typeof z=="number"&&z>=0);var j,Z=z%26,F=(z-Z)/26,V=67108863>>>26-Z<<26-Z;if(Z!==0){var W=0;for(j=0;j<this.length;j++){var re=this.words[j]&V,ne=(0|this.words[j])-re<<Z;this.words[j]=ne|W,W=re>>>26-Z}W&&(this.words[j]=W,this.length++)}if(F!==0){for(j=this.length-1;j>=0;j--)this.words[j+F]=this.words[j];for(j=0;j<F;j++)this.words[j]=0;this.length+=F}return this.strip()},l.prototype.ishln=function(z){return t(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,j,Z){var F;t(typeof z=="number"&&z>=0),F=j?(j-j%26)/26:0;var V=z%26,W=Math.min((z-V)/26,this.length),re=67108863^67108863>>>V<<V,ne=Z;if(F-=W,F=Math.max(0,F),ne){for(var te=0;te<W;te++)ne.words[te]=this.words[te];ne.length=W}if(W!==0)if(this.length>W)for(this.length-=W,te=0;te<this.length;te++)this.words[te]=this.words[te+W];else this.words[0]=0,this.length=1;var Q=0;for(te=this.length-1;te>=0&&(Q!==0||te>=F);te--){var $=0|this.words[te];this.words[te]=Q<<26-V|$>>>V,Q=$&re}return ne&&Q!==0&&(ne.words[ne.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,j,Z){return t(this.negative===0),this.iushrn(z,j,Z)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){t(typeof z=="number"&&z>=0);var j=z%26,Z=(z-j)/26,F=1<<j;return!(this.length<=Z||!(this.words[Z]&F))},l.prototype.imaskn=function(z){t(typeof z=="number"&&z>=0);var j=z%26,Z=(z-j)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(j!==0&&Z++,this.length=Math.min(Z,this.length),j!==0){var F=67108863^67108863>>>j<<j;this.words[this.length-1]&=F}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return t(typeof z=="number"),t(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},l.prototype.isubn=function(z){if(t(typeof z=="number"),t(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,j,Z){var F,V,W=z.length+Z;this._expand(W);var re=0;for(F=0;F<z.length;F++){V=(0|this.words[F+Z])+re;var ne=(0|z.words[F])*j;re=((V-=67108863&ne)>>26)-(ne/67108864|0),this.words[F+Z]=67108863&V}for(;F<this.length-Z;F++)re=(V=(0|this.words[F+Z])+re)>>26,this.words[F+Z]=67108863&V;if(re===0)return this.strip();for(t(re===-1),re=0,F=0;F<this.length;F++)re=(V=-(0|this.words[F])+re)>>26,this.words[F]=67108863&V;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,j){var Z=(this.length,z.length),F=this.clone(),V=z,W=0|V.words[V.length-1];(Z=26-this._countBits(W))!=0&&(V=V.ushln(Z),F.iushln(Z),W=0|V.words[V.length-1]);var re,ne=F.length-V.length;if(j!=="mod"){(re=new l(null)).length=ne+1,re.words=new Array(re.length);for(var te=0;te<re.length;te++)re.words[te]=0}var Q=F.clone()._ishlnsubmul(V,1,ne);Q.negative===0&&(F=Q,re&&(re.words[ne]=1));for(var $=ne-1;$>=0;$--){var K=67108864*(0|F.words[V.length+$])+(0|F.words[V.length+$-1]);for(K=Math.min(K/W|0,67108863),F._ishlnsubmul(V,K,$);F.negative!==0;)K--,F.negative=0,F._ishlnsubmul(V,1,$),F.isZero()||(F.negative^=1);re&&(re.words[$]=K)}return re&&re.strip(),F.strip(),j!=="div"&&Z!==0&&F.iushrn(Z),{div:re||null,mod:F}},l.prototype.divmod=function(z,j,Z){return t(!z.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&z.negative===0?(W=this.neg().divmod(z,j),j!=="mod"&&(F=W.div.neg()),j!=="div"&&(V=W.mod.neg(),Z&&V.negative!==0&&V.iadd(z)),{div:F,mod:V}):this.negative===0&&z.negative!==0?(W=this.divmod(z.neg(),j),j!=="mod"&&(F=W.div.neg()),{div:F,mod:W.mod}):this.negative&z.negative?(W=this.neg().divmod(z.neg(),j),j!=="div"&&(V=W.mod.neg(),Z&&V.negative!==0&&V.isub(z)),{div:W.div,mod:V}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?j==="div"?{div:this.divn(z.words[0]),mod:null}:j==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,j);var F,V,W},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var j=this.divmod(z);if(j.mod.isZero())return j.div;var Z=j.div.negative!==0?j.mod.isub(z):j.mod,F=z.ushrn(1),V=z.andln(1),W=Z.cmp(F);return W<0||V===1&&W===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},l.prototype.modn=function(z){t(z<=67108863);for(var j=67108864%z,Z=0,F=this.length-1;F>=0;F--)Z=(j*Z+(0|this.words[F]))%z;return Z},l.prototype.idivn=function(z){t(z<=67108863);for(var j=0,Z=this.length-1;Z>=0;Z--){var F=(0|this.words[Z])+67108864*j;this.words[Z]=F/z|0,j=F%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){t(z.negative===0),t(!z.isZero());var j=this,Z=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F=new l(1),V=new l(0),W=new l(0),re=new l(1),ne=0;j.isEven()&&Z.isEven();)j.iushrn(1),Z.iushrn(1),++ne;for(var te=Z.clone(),Q=j.clone();!j.isZero();){for(var $=0,K=1;!(j.words[0]&K)&&$<26;++$,K<<=1);if($>0)for(j.iushrn($);$-- >0;)(F.isOdd()||V.isOdd())&&(F.iadd(te),V.isub(Q)),F.iushrn(1),V.iushrn(1);for(var ae=0,ue=1;!(Z.words[0]&ue)&&ae<26;++ae,ue<<=1);if(ae>0)for(Z.iushrn(ae);ae-- >0;)(W.isOdd()||re.isOdd())&&(W.iadd(te),re.isub(Q)),W.iushrn(1),re.iushrn(1);j.cmp(Z)>=0?(j.isub(Z),F.isub(W),V.isub(re)):(Z.isub(j),W.isub(F),re.isub(V))}return{a:W,b:re,gcd:Z.iushln(ne)}},l.prototype._invmp=function(z){t(z.negative===0),t(!z.isZero());var j=this,Z=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F,V=new l(1),W=new l(0),re=Z.clone();j.cmpn(1)>0&&Z.cmpn(1)>0;){for(var ne=0,te=1;!(j.words[0]&te)&&ne<26;++ne,te<<=1);if(ne>0)for(j.iushrn(ne);ne-- >0;)V.isOdd()&&V.iadd(re),V.iushrn(1);for(var Q=0,$=1;!(Z.words[0]&$)&&Q<26;++Q,$<<=1);if(Q>0)for(Z.iushrn(Q);Q-- >0;)W.isOdd()&&W.iadd(re),W.iushrn(1);j.cmp(Z)>=0?(j.isub(Z),V.isub(W)):(Z.isub(j),W.isub(V))}return(F=j.cmpn(1)===0?V:W).cmpn(0)<0&&F.iadd(z),F},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var j=this.clone(),Z=z.clone();j.negative=0,Z.negative=0;for(var F=0;j.isEven()&&Z.isEven();F++)j.iushrn(1),Z.iushrn(1);for(;;){for(;j.isEven();)j.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var V=j.cmp(Z);if(V<0){var W=j;j=Z,Z=W}else if(V===0||Z.cmpn(1)===0)break;j.isub(Z)}return Z.iushln(F)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){t(typeof z=="number");var j=z%26,Z=(z-j)/26,F=1<<j;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=F,this;for(var V=F,W=Z;V!==0&&W<this.length;W++){var re=0|this.words[W];V=(re+=V)>>>26,re&=67108863,this.words[W]=re}return V!==0&&(this.words[W]=V,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var j,Z=z<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;if(this.strip(),this.length>1)j=1;else{Z&&(z=-z),t(z<=67108863,"Number is too big");var F=0|this.words[0];j=F===z?0:F<z?-1:1}return this.negative!==0?0|-j:j},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var j=this.ucmp(z);return this.negative!==0?0|-j:j},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var j=0,Z=this.length-1;Z>=0;Z--){var F=0|this.words[Z],V=0|z.words[Z];if(F!==V){F<V?j=-1:F>V&&(j=1);break}}return j},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new R(z)},l.prototype.toRed=function(z){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return t(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return t(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var S={k256:null,p224:null,p192:null,p25519:null};function T(z,j){this.name=z,this.p=new l(j,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(z){if(typeof z=="string"){var j=l._prime(z);this.m=j.p,this.prime=j}else t(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function H(z){R.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},T.prototype.ireduce=function(z){var j,Z=z;do this.split(Z,this.tmp),j=(Z=(Z=this.imulK(Z)).iadd(this.tmp)).bitLength();while(j>this.n);var F=j<this.n?-1:Z.ucmp(this.p);return F===0?(Z.words[0]=0,Z.length=1):F>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},T.prototype.split=function(z,j){z.iushrn(this.n,0,j)},T.prototype.imulK=function(z){return z.imul(this.k)},a(E,T),E.prototype.split=function(z,j){for(var Z=4194303,F=Math.min(z.length,9),V=0;V<F;V++)j.words[V]=z.words[V];if(j.length=F,z.length<=9)return z.words[0]=0,void(z.length=1);var W=z.words[9];for(j.words[j.length++]=W&Z,V=10;V<z.length;V++){var re=0|z.words[V];z.words[V-10]=(re&Z)<<4|W>>>22,W=re}W>>>=22,z.words[V-10]=W,W===0&&z.length>10?z.length-=10:z.length-=9},E.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var j=0,Z=0;Z<z.length;Z++){var F=0|z.words[Z];j+=977*F,z.words[Z]=67108863&j,j=64*F+(j/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z},a(O,T),a(P,T),a(I,T),I.prototype.imulK=function(z){for(var j=0,Z=0;Z<z.length;Z++){var F=19*(0|z.words[Z])+j,V=67108863&F;F>>>=26,z.words[Z]=V,j=F}return j!==0&&(z.words[z.length++]=j),z},l._prime=function(z){if(S[z])return S[z];var j;if(z==="k256")j=new E;else if(z==="p224")j=new O;else if(z==="p192")j=new P;else{if(z!=="p25519")throw new Error("Unknown prime "+z);j=new I}return S[z]=j,j},R.prototype._verify1=function(z){t(z.negative===0,"red works only with positives"),t(z.red,"red works only with red numbers")},R.prototype._verify2=function(z,j){t((z.negative|j.negative)==0,"red works only with positives"),t(z.red&&z.red===j.red,"red works only with red numbers")},R.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},R.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},R.prototype.add=function(z,j){this._verify2(z,j);var Z=z.add(j);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},R.prototype.iadd=function(z,j){this._verify2(z,j);var Z=z.iadd(j);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},R.prototype.sub=function(z,j){this._verify2(z,j);var Z=z.sub(j);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},R.prototype.isub=function(z,j){this._verify2(z,j);var Z=z.isub(j);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},R.prototype.shl=function(z,j){return this._verify1(z),this.imod(z.ushln(j))},R.prototype.imul=function(z,j){return this._verify2(z,j),this.imod(z.imul(j))},R.prototype.mul=function(z,j){return this._verify2(z,j),this.imod(z.mul(j))},R.prototype.isqr=function(z){return this.imul(z,z.clone())},R.prototype.sqr=function(z){return this.mul(z,z)},R.prototype.sqrt=function(z){if(z.isZero())return z.clone();var j=this.m.andln(3);if(t(j%2==1),j===3){var Z=this.m.add(new l(1)).iushrn(2);return this.pow(z,Z)}for(var F=this.m.subn(1),V=0;!F.isZero()&&F.andln(1)===0;)V++,F.iushrn(1);t(!F.isZero());var W=new l(1).toRed(this),re=W.redNeg(),ne=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new l(2*te*te).toRed(this);this.pow(te,ne).cmp(re)!==0;)te.redIAdd(re);for(var Q=this.pow(te,F),$=this.pow(z,F.addn(1).iushrn(1)),K=this.pow(z,F),ae=V;K.cmp(W)!==0;){for(var ue=K,se=0;ue.cmp(W)!==0;se++)ue=ue.redSqr();t(se<ae);var he=this.pow(Q,new l(1).iushln(ae-se-1));$=$.redMul(he),Q=he.redSqr(),K=K.redMul(Q),ae=se}return $},R.prototype.invm=function(z){var j=z._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},R.prototype.pow=function(z,j){if(j.isZero())return new l(1).toRed(this);if(j.cmpn(1)===0)return z.clone();var Z=new Array(16);Z[0]=new l(1).toRed(this),Z[1]=z;for(var F=2;F<Z.length;F++)Z[F]=this.mul(Z[F-1],z);var V=Z[0],W=0,re=0,ne=j.bitLength()%26;for(ne===0&&(ne=26),F=j.length-1;F>=0;F--){for(var te=j.words[F],Q=ne-1;Q>=0;Q--){var $=te>>Q&1;V!==Z[0]&&(V=this.sqr(V)),$!==0||W!==0?(W<<=1,W|=$,(++re==4||F===0&&Q===0)&&(V=this.mul(V,Z[W]),re=0,W=0)):re=0}ne=26}return V},R.prototype.convertTo=function(z){var j=z.umod(this.m);return j===z?j.clone():j},R.prototype.convertFrom=function(z){var j=z.clone();return j.red=null,j},l.mont=function(z){return new H(z)},a(H,R),H.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},H.prototype.convertFrom=function(z){var j=this.imod(z.mul(this.rinv));return j.red=null,j},H.prototype.imul=function(z,j){if(z.isZero()||j.isZero())return z.words[0]=0,z.length=1,z;var Z=z.imul(j),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=Z.isub(F).iushrn(this.shift),W=V;return V.cmp(this.m)>=0?W=V.isub(this.m):V.cmpn(0)<0&&(W=V.iadd(this.m)),W._forceRed(this)},H.prototype.mul=function(z,j){if(z.isZero()||j.isZero())return new l(0)._forceRed(this);var Z=z.mul(j),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=Z.isub(F).iushrn(this.shift),W=V;return V.cmp(this.m)>=0?W=V.isub(this.m):V.cmpn(0)<0&&(W=V.iadd(this.m)),W._forceRed(this)},H.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}})(f=n.nmd(f),this)},6204:function(f){f.exports=function(s){var n,i,r,t=s.length,a=0;for(n=0;n<t;++n)a+=s[n].length;var l=new Array(a),u=0;for(n=0;n<t;++n){var h=s[n],c=h.length;for(i=0;i<c;++i){var y=l[u++]=new Array(c-1),d=0;for(r=0;r<c;++r)r!==i&&(y[d++]=h[r]);if(1&i){var v=y[1];y[1]=y[0],y[0]=v}}}return l}},6867:function(f,s,n){f.exports=function(y,d,v){switch(arguments.length){case 1:return i=[],h(g=y,g,c,!0),i;case 2:return typeof d=="function"?h(y,y,d,!0):function(x,m){return i=[],h(x,m,c,!1),i}(y,d);case 3:return h(y,d,v,!1);default:throw new Error("box-intersect: Invalid arguments")}var g};var i,r=n(1888),t=n(855),a=n(7150);function l(y,d){for(var v=0;v<y;++v)if(!(d[v]<=d[v+y]))return!0;return!1}function u(y,d,v,g){for(var x=0,m=0,_=0,p=y.length;_<p;++_){var S=y[_];if(!l(d,S)){for(var T=0;T<2*d;++T)v[x++]=S[T];g[m++]=_}}return m}function h(y,d,v,g){var x=y.length,m=d.length;if(!(x<=0||m<=0)){var _=y[0].length>>>1;if(!(_<=0)){var p,S=r.mallocDouble(2*_*x),T=r.mallocInt32(x);if((x=u(y,_,S,T))>0){if(_===1&&g)t.init(x),p=t.sweepComplete(_,v,0,x,S,T,0,x,S,T);else{var E=r.mallocDouble(2*_*m),O=r.mallocInt32(m);(m=u(d,_,E,O))>0&&(t.init(x+m),p=_===1?t.sweepBipartite(_,v,0,x,S,T,0,m,E,O):a(_,v,g,x,S,T,m,E,O),r.free(E),r.free(O))}r.free(S),r.free(T)}return p}}}function c(y,d){i.push([y,d])}},2455:function(f,s){function n(i){return i?function(r,t,a,l,u,h,c,y,d,v,g){return u-l>d-y?function(x,m,_,p,S,T,E,O,P,I,R){for(var H=2*x,z=p,j=H*p;z<S;++z,j+=H){var Z=T[m+j],F=T[m+j+x],V=E[z];e:for(var W=O,re=H*O;W<P;++W,re+=H){var ne=I[m+re],te=I[m+re+x],Q=R[W];if(!(te<Z||F<ne)){for(var $=m+1;$<x;++$){var K=T[$+j],ae=T[$+x+j],ue=I[$+re],se=I[$+x+re];if(ae<ue||se<K)continue e}var he=_(V,Q);if(he!==void 0)return he}}}}(r,t,a,l,u,h,c,y,d,v,g):function(x,m,_,p,S,T,E,O,P,I,R){for(var H=2*x,z=O,j=H*O;z<P;++z,j+=H){var Z=I[m+j],F=I[m+j+x],V=R[z];e:for(var W=p,re=H*p;W<S;++W,re+=H){var ne=T[m+re],te=T[m+re+x],Q=E[W];if(!(F<ne||te<Z)){for(var $=m+1;$<x;++$){var K=T[$+re],ae=T[$+x+re],ue=I[$+j],se=I[$+x+j];if(ae<ue||se<K)continue e}var he=_(Q,V);if(he!==void 0)return he}}}}(r,t,a,l,u,h,c,y,d,v,g)}:function(r,t,a,l,u,h,c,y,d,v,g,x){return h-u>v-d?l?function(m,_,p,S,T,E,O,P,I,R,H){for(var z=2*m,j=S,Z=z*S;j<T;++j,Z+=z){var F=E[_+Z],V=E[_+Z+m],W=O[j];e:for(var re=P,ne=z*P;re<I;++re,ne+=z){var te=R[_+ne],Q=H[re];if(!(te<=F||V<te)){for(var $=_+1;$<m;++$){var K=E[$+Z],ae=E[$+m+Z],ue=R[$+ne],se=R[$+m+ne];if(ae<ue||se<K)continue e}var he=p(Q,W);if(he!==void 0)return he}}}}(r,t,a,u,h,c,y,d,v,g,x):function(m,_,p,S,T,E,O,P,I,R,H){for(var z=2*m,j=S,Z=z*S;j<T;++j,Z+=z){var F=E[_+Z],V=E[_+Z+m],W=O[j];e:for(var re=P,ne=z*P;re<I;++re,ne+=z){var te=R[_+ne],Q=H[re];if(!(te<F||V<te)){for(var $=_+1;$<m;++$){var K=E[$+Z],ae=E[$+m+Z],ue=R[$+ne],se=R[$+m+ne];if(ae<ue||se<K)continue e}var he=p(W,Q);if(he!==void 0)return he}}}}(r,t,a,u,h,c,y,d,v,g,x):l?function(m,_,p,S,T,E,O,P,I,R,H){for(var z=2*m,j=P,Z=z*P;j<I;++j,Z+=z){var F=R[_+Z],V=H[j];e:for(var W=S,re=z*S;W<T;++W,re+=z){var ne=E[_+re],te=E[_+re+m],Q=O[W];if(!(F<=ne||te<F)){for(var $=_+1;$<m;++$){var K=E[$+re],ae=E[$+m+re],ue=R[$+Z],se=R[$+m+Z];if(ae<ue||se<K)continue e}var he=p(V,Q);if(he!==void 0)return he}}}}(r,t,a,u,h,c,y,d,v,g,x):function(m,_,p,S,T,E,O,P,I,R,H){for(var z=2*m,j=P,Z=z*P;j<I;++j,Z+=z){var F=R[_+Z],V=H[j];e:for(var W=S,re=z*S;W<T;++W,re+=z){var ne=E[_+re],te=E[_+re+m],Q=O[W];if(!(F<ne||te<F)){for(var $=_+1;$<m;++$){var K=E[$+re],ae=E[$+m+re],ue=R[$+Z],se=R[$+m+Z];if(ae<ue||se<K)continue e}var he=p(Q,V);if(he!==void 0)return he}}}}(r,t,a,u,h,c,y,d,v,g,x)}}s.partial=n(!1),s.full=n(!0)},7150:function(f,s,n){f.exports=function(z,j,Z,F,V,W,re,ne,te){(function(Re,Pe){var Ve=8*r.log2(Pe+1)*(Re+1)|0,We=r.nextPow2(T*Ve);O.length<We&&(i.free(O),O=i.mallocInt32(We));var Qe=r.nextPow2(E*Ve);P.length<Qe&&(i.free(P),P=i.mallocDouble(Qe))})(z,F+re);var Q,$=0,K=2*z;for(I($++,0,0,F,0,re,Z?16:0,-1/0,1/0),Z||I($++,0,0,re,0,F,1,-1/0,1/0);$>0;){var ae=($-=1)*T,ue=O[ae],se=O[ae+1],he=O[ae+2],pe=O[ae+3],de=O[ae+4],xe=O[ae+5],_e=$*E,be=P[_e],Le=P[_e+1],De=1&xe,ye=!!(16&xe),le=V,oe=W,ve=ne,Ce=te;if(De&&(le=ne,oe=te,ve=V,Ce=W),!(2&xe&&se>=(he=m(z,ue,se,he,le,oe,Le))||4&xe&&(se=_(z,ue,se,he,le,oe,be))>=he)){var ke=he-se,Ae=de-pe;if(ye){if(z*ke*(ke+Ae)<v){if((Q=u.scanComplete(z,ue,j,se,he,le,oe,pe,de,ve,Ce))!==void 0)return Q;continue}}else{if(z*Math.min(ke,Ae)<y){if((Q=a(z,ue,j,De,se,he,le,oe,pe,de,ve,Ce))!==void 0)return Q;continue}if(z*ke*Ae<d){if((Q=u.scanBipartite(z,ue,j,De,se,he,le,oe,pe,de,ve,Ce))!==void 0)return Q;continue}}var Ee=g(z,ue,se,he,le,oe,be,Le);if(se<Ee)if(z*(Ee-se)<y){if((Q=l(z,ue+1,j,se,Ee,le,oe,pe,de,ve,Ce))!==void 0)return Q}else if(ue===z-2){if((Q=De?u.sweepBipartite(z,j,pe,de,ve,Ce,se,Ee,le,oe):u.sweepBipartite(z,j,se,Ee,le,oe,pe,de,ve,Ce))!==void 0)return Q}else I($++,ue+1,se,Ee,pe,de,De,-1/0,1/0),I($++,ue+1,pe,de,se,Ee,1^De,-1/0,1/0);if(Ee<he){var ze=h(z,ue,pe,de,ve,Ce),Fe=ve[K*ze+ue],ge=x(z,ue,ze,de,ve,Ce,Fe);if(ge<de&&I($++,ue,Ee,he,ge,de,(4|De)+(ye?16:0),Fe,Le),pe<ze&&I($++,ue,Ee,he,pe,ze,(2|De)+(ye?16:0),be,Fe),ze+1===ge){if((Q=ye?H(z,ue,j,Ee,he,le,oe,ze,ve,Ce[ze]):R(z,ue,j,De,Ee,he,le,oe,ze,ve,Ce[ze]))!==void 0)return Q}else if(ze<ge){var Te;if(ye){if(Ee<(Te=p(z,ue,Ee,he,le,oe,Fe))){var Se=x(z,ue,Ee,Te,le,oe,Fe);if(ue===z-2){if(Ee<Se&&(Q=u.sweepComplete(z,j,Ee,Se,le,oe,ze,ge,ve,Ce))!==void 0||Se<Te&&(Q=u.sweepBipartite(z,j,Se,Te,le,oe,ze,ge,ve,Ce))!==void 0)return Q}else Ee<Se&&I($++,ue+1,Ee,Se,ze,ge,16,-1/0,1/0),Se<Te&&(I($++,ue+1,Se,Te,ze,ge,0,-1/0,1/0),I($++,ue+1,ze,ge,Se,Te,1,-1/0,1/0))}}else Ee<(Te=De?S(z,ue,Ee,he,le,oe,Fe):p(z,ue,Ee,he,le,oe,Fe))&&(ue===z-2?Q=De?u.sweepBipartite(z,j,ze,ge,ve,Ce,Ee,Te,le,oe):u.sweepBipartite(z,j,Ee,Te,le,oe,ze,ge,ve,Ce):(I($++,ue+1,Ee,Te,ze,ge,De,-1/0,1/0),I($++,ue+1,ze,ge,Ee,Te,1^De,-1/0,1/0)))}}}}};var i=n(1888),r=n(8828),t=n(2455),a=t.partial,l=t.full,u=n(855),h=n(3545),c=n(8105),y=128,d=1<<22,v=1<<22,g=c("!(lo>=p0)&&!(p1>=hi)"),x=c("lo===p0"),m=c("lo<p0"),_=c("hi<=p0"),p=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),T=6,E=2,O=i.mallocInt32(1024),P=i.mallocDouble(1024);function I(z,j,Z,F,V,W,re,ne,te){var Q=T*z;O[Q]=j,O[Q+1]=Z,O[Q+2]=F,O[Q+3]=V,O[Q+4]=W,O[Q+5]=re;var $=E*z;P[$]=ne,P[$+1]=te}function R(z,j,Z,F,V,W,re,ne,te,Q,$){var K=2*z,ae=te*K,ue=Q[ae+j];e:for(var se=V,he=V*K;se<W;++se,he+=K){var pe=re[he+j],de=re[he+j+z];if(!(ue<pe||de<ue||F&&ue===pe)){for(var xe,_e=ne[se],be=j+1;be<z;++be){pe=re[he+be],de=re[he+be+z];var Le=Q[ae+be],De=Q[ae+be+z];if(de<Le||De<pe)continue e}if((xe=F?Z($,_e):Z(_e,$))!==void 0)return xe}}}function H(z,j,Z,F,V,W,re,ne,te,Q){var $=2*z,K=ne*$,ae=te[K+j];e:for(var ue=F,se=F*$;ue<V;++ue,se+=$){var he=re[ue];if(he!==Q){var pe=W[se+j],de=W[se+j+z];if(!(ae<pe||de<ae)){for(var xe=j+1;xe<z;++xe){pe=W[se+xe],de=W[se+xe+z];var _e=te[K+xe],be=te[K+xe+z];if(de<_e||be<pe)continue e}var Le=Z(he,Q);if(Le!==void 0)return Le}}}}},3545:function(f,s,n){f.exports=function(a,l,u,h,c,y){if(h<=u+1)return u;for(var d=u,v=h,g=h+u>>>1,x=2*a,m=g,_=c[x*g+l];d<v;){if(v-d<r){t(a,l,d,v,c,y),_=c[x*g+l];break}var p=v-d,S=Math.random()*p+d|0,T=c[x*S+l],E=Math.random()*p+d|0,O=c[x*E+l],P=Math.random()*p+d|0,I=c[x*P+l];T<=O?I>=O?(m=E,_=O):T>=I?(m=S,_=T):(m=P,_=I):O>=I?(m=E,_=O):I>=T?(m=S,_=T):(m=P,_=I);for(var R=x*(v-1),H=x*m,z=0;z<x;++z,++R,++H){var j=c[R];c[R]=c[H],c[H]=j}var Z=y[v-1];for(y[v-1]=y[m],y[m]=Z,R=x*(v-1),H=x*(m=i(a,l,d,v-1,c,y,_)),z=0;z<x;++z,++R,++H)j=c[R],c[R]=c[H],c[H]=j;if(Z=y[v-1],y[v-1]=y[m],y[m]=Z,g<m){for(v=m-1;d<v&&c[x*(v-1)+l]===_;)v-=1;v+=1}else{if(!(m<g))break;for(d=m+1;d<v&&c[x*d+l]===_;)d+=1}}return i(a,l,u,g,c,y,c[x*g+l])};var i=n(8105)("lo<p0"),r=8;function t(a,l,u,h,c,y){for(var d=2*a,v=d*(u+1)+l,g=u+1;g<h;++g,v+=d)for(var x=c[v],m=g,_=d*(g-1);m>u&&c[_+l]>x;--m,_-=d){for(var p=_,S=_+d,T=0;T<d;++T,++p,++S){var E=c[p];c[p]=c[S],c[S]=E}var O=y[m];y[m]=y[m-1],y[m-1]=O}}},8105:function(f){f.exports=function(n){return s[n]};var s={"lo===p0":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=i,g=r;t>g;++g,c+=h)if(a[c+v]===u)if(d===g)d+=1,y+=h;else{for(var x=0;h>x;++x){var m=a[c+x];a[c+x]=a[y],a[y++]=m}var _=l[g];l[g]=l[d],l[d++]=_}return d},"lo<p0":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=i,g=r;t>g;++g,c+=h)if(a[c+v]<u)if(d===g)d+=1,y+=h;else{for(var x=0;h>x;++x){var m=a[c+x];a[c+x]=a[y],a[y++]=m}var _=l[g];l[g]=l[d],l[d++]=_}return d},"lo<=p0":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=n+i,g=r;t>g;++g,c+=h)if(a[c+v]<=u)if(d===g)d+=1,y+=h;else{for(var x=0;h>x;++x){var m=a[c+x];a[c+x]=a[y],a[y++]=m}var _=l[g];l[g]=l[d],l[d++]=_}return d},"hi<=p0":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=n+i,g=r;t>g;++g,c+=h)if(a[c+v]<=u)if(d===g)d+=1,y+=h;else{for(var x=0;h>x;++x){var m=a[c+x];a[c+x]=a[y],a[y++]=m}var _=l[g];l[g]=l[d],l[d++]=_}return d},"lo<p0&&p0<=hi":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=i,g=n+i,x=r;t>x;++x,c+=h){var m=a[c+v],_=a[c+g];if(m<u&&u<=_)if(d===x)d+=1,y+=h;else{for(var p=0;h>p;++p){var S=a[c+p];a[c+p]=a[y],a[y++]=S}var T=l[x];l[x]=l[d],l[d++]=T}}return d},"lo<=p0&&p0<=hi":function(n,i,r,t,a,l,u){for(var h=2*n,c=h*r,y=c,d=r,v=i,g=n+i,x=r;t>x;++x,c+=h){var m=a[c+v],_=a[c+g];if(m<=u&&u<=_)if(d===x)d+=1,y+=h;else{for(var p=0;h>p;++p){var S=a[c+p];a[c+p]=a[y],a[y++]=S}var T=l[x];l[x]=l[d],l[d++]=T}}return d},"!(lo>=p0)&&!(p1>=hi)":function(n,i,r,t,a,l,u,h){for(var c=2*n,y=c*r,d=y,v=r,g=i,x=n+i,m=r;t>m;++m,y+=c){var _=a[y+g],p=a[y+x];if(!(_>=u||h>=p))if(v===m)v+=1,d+=c;else{for(var S=0;c>S;++S){var T=a[y+S];a[y+S]=a[d],a[d++]=T}var E=l[m];l[m]=l[v],l[v++]=E}}return v}}},1811:function(f){f.exports=function(c,y){y<=4*s?n(0,y-1,c):h(0,y-1,c)};var s=32;function n(c,y,d){for(var v=2*(c+1),g=c+1;g<=y;++g){for(var x=d[v++],m=d[v++],_=g,p=v-2;_-- >c;){var S=d[p-2],T=d[p-1];if(S<x||S===x&&T<m)break;d[p]=S,d[p+1]=T,p-=2}d[p]=x,d[p+1]=m}}function i(c,y,d){y*=2;var v=d[c*=2],g=d[c+1];d[c]=d[y],d[c+1]=d[y+1],d[y]=v,d[y+1]=g}function r(c,y,d){y*=2,d[c*=2]=d[y],d[c+1]=d[y+1]}function t(c,y,d,v){y*=2,d*=2;var g=v[c*=2],x=v[c+1];v[c]=v[y],v[c+1]=v[y+1],v[y]=v[d],v[y+1]=v[d+1],v[d]=g,v[d+1]=x}function a(c,y,d,v,g){y*=2,g[c*=2]=g[y],g[y]=d,g[c+1]=g[y+1],g[y+1]=v}function l(c,y,d){y*=2;var v=d[c*=2],g=d[y];return!(v<g)&&(v!==g||d[c+1]>d[y+1])}function u(c,y,d,v){var g=v[c*=2];return g<y||g===y&&v[c+1]<d}function h(c,y,d){var v=(y-c+1)/6|0,g=c+v,x=y-v,m=c+y>>1,_=m-v,p=m+v,S=g,T=_,E=m,O=p,P=x,I=c+1,R=y-1,H=0;l(S,T,d)&&(H=S,S=T,T=H),l(O,P,d)&&(H=O,O=P,P=H),l(S,E,d)&&(H=S,S=E,E=H),l(T,E,d)&&(H=T,T=E,E=H),l(S,O,d)&&(H=S,S=O,O=H),l(E,O,d)&&(H=E,E=O,O=H),l(T,P,d)&&(H=T,T=P,P=H),l(T,E,d)&&(H=T,T=E,E=H),l(O,P,d)&&(H=O,O=P,P=H);for(var z=d[2*T],j=d[2*T+1],Z=d[2*O],F=d[2*O+1],V=2*S,W=2*E,re=2*P,ne=2*g,te=2*m,Q=2*x,$=0;$<2;++$){var K=d[V+$],ae=d[W+$],ue=d[re+$];d[ne+$]=K,d[te+$]=ae,d[Q+$]=ue}r(_,c,d),r(p,y,d);for(var se=I;se<=R;++se)if(u(se,z,j,d))se!==I&&i(se,I,d),++I;else if(!u(se,Z,F,d))for(;;){if(u(R,Z,F,d)){u(R,z,j,d)?(t(se,I,R,d),++I,--R):(i(se,R,d),--R);break}if(--R<se)break}a(c,I-1,z,j,d),a(y,R+1,Z,F,d),I-2-c<=s?n(c,I-2,d):h(c,I-2,d),y-(R+2)<=s?n(R+2,y,d):h(R+2,y,d),R-I<=s?n(I,R,d):h(I,R,d)}},855:function(f,s,n){f.exports={init:function(_){var p=r.nextPow2(_);u.length<p&&(i.free(u),u=i.mallocInt32(p)),h.length<p&&(i.free(h),h=i.mallocInt32(p)),c.length<p&&(i.free(c),c=i.mallocInt32(p)),y.length<p&&(i.free(y),y=i.mallocInt32(p)),d.length<p&&(i.free(d),d=i.mallocInt32(p)),v.length<p&&(i.free(v),v=i.mallocInt32(p));var S=8*p;g.length<S&&(i.free(g),g=i.mallocDouble(S))},sweepBipartite:function(_,p,S,T,E,O,P,I,R,H){for(var z=0,j=2*_,Z=_-1,F=j-1,V=S;V<T;++V){var W=O[V],re=j*V;g[z++]=E[re+Z],g[z++]=-(W+1),g[z++]=E[re+F],g[z++]=W}for(V=P;V<I;++V){W=H[V]+a;var ne=j*V;g[z++]=R[ne+Z],g[z++]=-W,g[z++]=R[ne+F],g[z++]=W}var te=z>>>1;t(g,te);var Q=0,$=0;for(V=0;V<te;++V){var K=0|g[2*V+1];if(K>=a)x(c,y,$--,K=K-a|0);else if(K>=0)x(u,h,Q--,K);else if(K<=-a){K=-K-a|0;for(var ae=0;ae<Q;++ae)if((ue=p(u[ae],K))!==void 0)return ue;m(c,y,$++,K)}else{for(K=-K-1|0,ae=0;ae<$;++ae){var ue;if((ue=p(K,c[ae]))!==void 0)return ue}m(u,h,Q++,K)}}},sweepComplete:function(_,p,S,T,E,O,P,I,R,H){for(var z=0,j=2*_,Z=_-1,F=j-1,V=S;V<T;++V){var W=O[V]+1<<1,re=j*V;g[z++]=E[re+Z],g[z++]=-W,g[z++]=E[re+F],g[z++]=W}for(V=P;V<I;++V){W=H[V]+1<<1;var ne=j*V;g[z++]=R[ne+Z],g[z++]=1|-W,g[z++]=R[ne+F],g[z++]=1|W}var te=z>>>1;t(g,te);var Q=0,$=0,K=0;for(V=0;V<te;++V){var ae=0|g[2*V+1],ue=1&ae;if(V<te-1&&ae>>1==g[2*V+3]>>1&&(ue=2,V+=1),ae<0){for(var se=-(ae>>1)-1,he=0;he<K;++he)if((pe=p(d[he],se))!==void 0)return pe;if(ue!==0){for(he=0;he<Q;++he)if((pe=p(u[he],se))!==void 0)return pe}if(ue!==1)for(he=0;he<$;++he){var pe;if((pe=p(c[he],se))!==void 0)return pe}ue===0?m(u,h,Q++,se):ue===1?m(c,y,$++,se):ue===2&&m(d,v,K++,se)}else se=(ae>>1)-1,ue===0?x(u,h,Q--,se):ue===1?x(c,y,$--,se):ue===2&&x(d,v,K--,se)}},scanBipartite:function(_,p,S,T,E,O,P,I,R,H,z,j){var Z=0,F=2*_,V=p,W=p+_,re=1,ne=1;T?ne=a:re=a;for(var te=E;te<O;++te){var Q=te+re,$=F*te;g[Z++]=P[$+V],g[Z++]=-Q,g[Z++]=P[$+W],g[Z++]=Q}for(te=R;te<H;++te){Q=te+ne;var K=F*te;g[Z++]=z[K+V],g[Z++]=-Q}var ae=Z>>>1;t(g,ae);var ue=0;for(te=0;te<ae;++te){var se=0|g[2*te+1];if(se<0){var he=!1;if((Q=-se)>=a?(he=!T,Q-=a):(he=!!T,Q-=1),he)m(u,h,ue++,Q);else{var pe=j[Q],de=F*Q,xe=z[de+p+1],_e=z[de+p+1+_];e:for(var be=0;be<ue;++be){var Le=u[be],De=F*Le;if(!(_e<P[De+p+1]||P[De+p+1+_]<xe)){for(var ye=p+2;ye<_;++ye)if(z[de+ye+_]<P[De+ye]||P[De+ye+_]<z[de+ye])continue e;var le,oe=I[Le];if((le=T?S(pe,oe):S(oe,pe))!==void 0)return le}}}}else x(u,h,ue--,se-re)}},scanComplete:function(_,p,S,T,E,O,P,I,R,H,z){for(var j=0,Z=2*_,F=p,V=p+_,W=T;W<E;++W){var re=W+a,ne=Z*W;g[j++]=O[ne+F],g[j++]=-re,g[j++]=O[ne+V],g[j++]=re}for(W=I;W<R;++W){re=W+1;var te=Z*W;g[j++]=H[te+F],g[j++]=-re}var Q=j>>>1;t(g,Q);var $=0;for(W=0;W<Q;++W){var K=0|g[2*W+1];if(K<0)if((re=-K)>=a)u[$++]=re-a;else{var ae=z[re-=1],ue=Z*re,se=H[ue+p+1],he=H[ue+p+1+_];e:for(var pe=0;pe<$;++pe){var de=u[pe],xe=P[de];if(xe===ae)break;var _e=Z*de;if(!(he<O[_e+p+1]||O[_e+p+1+_]<se)){for(var be=p+2;be<_;++be)if(H[ue+be+_]<O[_e+be]||O[_e+be+_]<H[ue+be])continue e;var Le=S(xe,ae);if(Le!==void 0)return Le}}}else{for(re=K-a,pe=$-1;pe>=0;--pe)if(u[pe]===re){for(be=pe+1;be<$;++be)u[be-1]=u[be];break}--$}}}};var i=n(1888),r=n(8828),t=n(1811),a=1<<28,l=1024,u=i.mallocInt32(l),h=i.mallocInt32(l),c=i.mallocInt32(l),y=i.mallocInt32(l),d=i.mallocInt32(l),v=i.mallocInt32(l),g=i.mallocDouble(8192);function x(_,p,S,T){var E=p[T],O=_[S-1];_[E]=O,p[O]=E}function m(_,p,S,T){_[S]=T,p[T]=S}},2538:function(f,s,n){var i=n(8902),r=n(5542),t=n(2272),a=n(5023);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,y){return c[0]-y[0]||c[1]-y[1]}function h(c,y,d){return y in c?c[y]:d}f.exports=function(c,y,d){Array.isArray(y)?(d=d||{},y=y||[]):(d=y||{},y=[]);var v=!!h(d,"delaunay",!0),g=!!h(d,"interior",!0),x=!!h(d,"exterior",!0),m=!!h(d,"infinity",!1);if(!g&&!x||c.length===0)return[];var _=i(c,y);if(v||g!==x||m){for(var p=r(c.length,function(E){return E.map(l).sort(u)}(y)),S=0;S<_.length;++S){var T=_[S];p.addTriangle(T[0],T[1],T[2])}return v&&t(c,p),x?g?m?a(p,0,m):p.cells():a(p,1,m):a(p,-1)}return _}},2272:function(f,s,n){var i=n(2646)[4];function r(t,a,l,u,h,c){var y=a.opposite(u,h);if(!(y<0)){if(h<u){var d=u;u=h,h=d,d=c,c=y,y=d}a.isConstraint(u,h)||i(t[u],t[h],t[c],t[y])<0&&l.push(u,h)}}n(2478),f.exports=function(t,a){for(var l=[],u=t.length,h=a.stars,c=0;c<u;++c)for(var y=h[c],d=1;d<y.length;d+=2)if(!((m=y[d])<c||a.isConstraint(c,m))){for(var v=y[d-1],g=-1,x=1;x<y.length;x+=2)if(y[x-1]===m){g=y[x];break}g<0||i(t[c],t[m],t[v],t[g])<0&&l.push(c,m)}for(;l.length>0;){for(var m=l.pop(),_=(v=-1,g=-1,y=h[c=l.pop()],1);_<y.length;_+=2){var p=y[_-1],S=y[_];p===m?g=S:S===m&&(v=p)}v<0||g<0||i(t[c],t[m],t[v],t[g])>=0||(a.flip(c,m),r(t,a,l,v,c,g),r(t,a,l,c,g,v),r(t,a,l,g,m,v),r(t,a,l,m,v,g))}}},5023:function(f,s,n){var i,r=n(2478);function t(l,u,h,c,y,d,v){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=h,this.active=y,this.next=d,this.boundary=v}function a(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}f.exports=function(l,u,h){var c=function(P,I){for(var R=P.cells(),H=R.length,z=0;z<H;++z){var j=(K=R[z])[0],Z=K[1],F=K[2];Z<F?Z<j&&(K[0]=Z,K[1]=F,K[2]=j):F<j&&(K[0]=F,K[1]=j,K[2]=Z)}R.sort(a);var V=new Array(H);for(z=0;z<V.length;++z)V[z]=0;var W=[],re=[],ne=new Array(3*H),te=new Array(3*H),Q=null;I&&(Q=[]);var $=new t(R,ne,te,V,W,re,Q);for(z=0;z<H;++z)for(var K=R[z],ae=0;ae<3;++ae){j=K[ae],Z=K[(ae+1)%3];var ue=ne[3*z+ae]=$.locate(Z,j,P.opposite(Z,j)),se=te[3*z+ae]=P.isConstraint(j,Z);ue<0&&(se?re.push(z):(W.push(z),V[z]=1),I&&Q.push([Z,j,-1]))}return $}(l,h);if(u===0)return h?c.cells.concat(c.boundary):c.cells;for(var y=1,d=c.active,v=c.next,g=c.flags,x=c.cells,m=c.constraint,_=c.neighbor;d.length>0||v.length>0;){for(;d.length>0;){var p=d.pop();if(g[p]!==-y){g[p]=y,x[p];for(var S=0;S<3;++S){var T=_[3*p+S];T>=0&&g[T]===0&&(m[3*p+S]?v.push(T):(d.push(T),g[T]=y))}}}var E=v;v=d,d=E,v.length=0,y=-y}var O=function(P,I,R){for(var H=0,z=0;z<P.length;++z)I[z]===R&&(P[H++]=P[z]);return P.length=H,P}(x,g,u);return h?O.concat(c.boundary):O},t.prototype.locate=(i=[0,0,0],function(l,u,h){var c=l,y=u,d=h;return u<h?u<l&&(c=u,y=h,d=l):h<l&&(c=h,y=l,d=u),c<0?-1:(i[0]=c,i[1]=y,i[2]=d,r.eq(this.cells,i,a))})},8902:function(f,s,n){var i=n(2478),r=n(3250)[3];function t(v,g,x,m,_){this.a=v,this.b=g,this.idx=x,this.lowerIds=m,this.upperIds=_}function a(v,g,x,m){this.a=v,this.b=g,this.type=x,this.idx=m}function l(v,g){var x=v.a[0]-g.a[0]||v.a[1]-g.a[1]||v.type-g.type;return x||(v.type!==0&&(x=r(v.a,v.b,g.b))?x:v.idx-g.idx)}function u(v,g){return r(v.a,v.b,g)}function h(v,g,x,m,_){for(var p=i.lt(g,m,u),S=i.gt(g,m,u),T=p;T<S;++T){for(var E=g[T],O=E.lowerIds,P=O.length;P>1&&r(x[O[P-2]],x[O[P-1]],m)>0;)v.push([O[P-1],O[P-2],_]),P-=1;O.length=P,O.push(_);var I=E.upperIds;for(P=I.length;P>1&&r(x[I[P-2]],x[I[P-1]],m)<0;)v.push([I[P-2],I[P-1],_]),P-=1;I.length=P,I.push(_)}}function c(v,g){var x;return(x=v.a[0]<g.a[0]?r(v.a,v.b,g.a):r(g.b,g.a,v.a))?x:(x=g.b[0]<v.b[0]?r(v.a,v.b,g.b):r(g.b,g.a,v.b))||v.idx-g.idx}function y(v,g,x){var m=i.le(v,x,c),_=v[m],p=_.upperIds,S=p[p.length-1];_.upperIds=[S],v.splice(m+1,0,new t(x.a,x.b,x.idx,[S],p))}function d(v,g,x){var m=x.a;x.a=x.b,x.b=m;var _=i.eq(v,x,c),p=v[_];v[_-1].upperIds=p.upperIds,v.splice(_,1)}f.exports=function(v,g){for(var x=v.length,m=g.length,_=[],p=0;p<x;++p)_.push(new a(v[p],null,0,p));for(p=0;p<m;++p){var S=g[p],T=v[S[0]],E=v[S[1]];T[0]<E[0]?_.push(new a(T,E,2,p),new a(E,T,1,p)):T[0]>E[0]&&_.push(new a(E,T,2,p),new a(T,E,1,p))}_.sort(l);for(var O=_[0].a[0]-(1+Math.abs(_[0].a[0]))*Math.pow(2,-52),P=[new t([O,1],[O,0],-1,[],[])],I=[],R=(p=0,_.length);p<R;++p){var H=_[p],z=H.type;z===0?h(I,P,v,H.a,H.idx):z===2?y(P,0,H):d(P,0,H)}return I}},5542:function(f,s,n){var i=n(2478);function r(l,u){this.stars=l,this.edges=u}f.exports=function(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=[];return new r(h,u)};var t=r.prototype;function a(l,u,h){for(var c=1,y=l.length;c<y;c+=2)if(l[c-1]===u&&l[c]===h)return l[c-1]=l[y-2],l[c]=l[y-1],void(l.length=y-2)}t.isConstraint=function(){var l=[0,0];function u(h,c){return h[0]-c[0]||h[1]-c[1]}return function(h,c){return l[0]=Math.min(h,c),l[1]=Math.max(h,c),i.eq(this.edges,l,u)>=0}}(),t.removeTriangle=function(l,u,h){var c=this.stars;a(c[l],u,h),a(c[u],h,l),a(c[h],l,u)},t.addTriangle=function(l,u,h){var c=this.stars;c[l].push(u,h),c[u].push(h,l),c[h].push(l,u)},t.opposite=function(l,u){for(var h=this.stars[u],c=1,y=h.length;c<y;c+=2)if(h[c]===l)return h[c-1];return-1},t.flip=function(l,u){var h=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,h),this.removeTriangle(u,l,c),this.addTriangle(l,c,h),this.addTriangle(u,h,c)},t.edges=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var y=l[h],d=0,v=y.length;d<v;d+=2)u.push([y[d],y[d+1]]);return u},t.cells=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var y=l[h],d=0,v=y.length;d<v;d+=2){var g=y[d],x=y[d+1];h<Math.min(g,x)&&u.push([h,g,x])}return u}},2419:function(f){f.exports=function(s){for(var n=1,i=1;i<s.length;++i)for(var r=0;r<i;++r)if(s[i]<s[r])n=-n;else if(s[r]===s[i])return 0;return n}},3628:function(f,s,n){var i=n(1338),r=n(727);function t(u,h){for(var c=0,y=u.length,d=0;d<y;++d)c+=u[d]*h[d];return c}function a(u){var h=u.length;if(h===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),y=i([u.length+1],1);c[h][h]=0;for(var d=0;d<h;++d){for(var v=0;v<=d;++v)c[v][d]=c[d][v]=2*t(u[d],u[v]);y[d]=t(u[d],u[d])}var g=r(c,y),x=0,m=g[h+1];for(d=0;d<m.length;++d)x+=m[d];var _=new Array(h);for(d=0;d<h;++d){m=g[d];var p=0;for(v=0;v<m.length;++v)p+=m[v];_[d]=p/x}return _}function l(u){if(u.length===0)return[];for(var h=u[0].length,c=i([h]),y=a(u),d=0;d<u.length;++d)for(var v=0;v<h;++v)c[v]+=u[d][v]*y[d];return c}l.barycenetric=a,f.exports=l},6037:function(f,s,n){f.exports=function(r){for(var t=i(r),a=0,l=0;l<r.length;++l)for(var u=r[l],h=0;h<t.length;++h)a+=Math.pow(u[h]-t[h],2);return Math.sqrt(a/r.length)};var i=n(3628)},332:function(f,s,n){f.exports=function(S,T,E){var O;if(E){O=T;for(var P=new Array(T.length),I=0;I<T.length;++I){var R=T[I];P[I]=[R[0],R[1],E[I]]}T=P}for(var H=function(z,j,Z){var F=g(z,[],v(z));return _(j,F,Z),!!F}(S,T,!!E);p(S,T,!!E);)H=!0;if(E&&H)for(O.length=0,E.length=0,I=0;I<T.length;++I)R=T[I],O.push([R[0],R[1]]),E.push(R[2]);return H};var i=n(1755),r=n(6867),t=n(1125),a=n(7842),l=n(1318),u=n(946),h=n(5838),c=n(1278),y=n(3637);function d(S){var T=u(S);return[c(T,-1/0),c(T,1/0)]}function v(S){for(var T=new Array(S.length),E=0;E<S.length;++E){var O=S[E];T[E]=[c(O[0],-1/0),c(O[1],-1/0),c(O[0],1/0),c(O[1],1/0)]}return T}function g(S,T,E){for(var O=T.length,P=new i(O),I=[],R=0;R<T.length;++R){var H=T[R],z=d(H[0]),j=d(H[1]);I.push([c(z[0],-1/0),c(j[0],-1/0),c(z[1],1/0),c(j[1],1/0)])}r(I,function(re,ne){P.link(re,ne)});var Z=!0,F=new Array(O);for(R=0;R<O;++R)(W=P.find(R))!==R&&(Z=!1,S[W]=[Math.min(S[R][0],S[W][0]),Math.min(S[R][1],S[W][1])]);if(Z)return null;var V=0;for(R=0;R<O;++R){var W;(W=P.find(R))===R?(F[R]=V,S[V++]=S[R]):F[R]=-1}for(S.length=V,R=0;R<O;++R)F[R]<0&&(F[R]=F[P.find(R)]);return F}function x(S,T){return S[0]-T[0]||S[1]-T[1]}function m(S,T){return S[0]-T[0]||S[1]-T[1]||(S[2]<T[2]?-1:S[2]>T[2]?1:0)}function _(S,T,E){if(S.length!==0){if(T)for(var O=0;O<S.length;++O){var P=T[(R=S[O])[0]],I=T[R[1]];R[0]=Math.min(P,I),R[1]=Math.max(P,I)}else for(O=0;O<S.length;++O){var R;P=(R=S[O])[0],I=R[1],R[0]=Math.min(P,I),R[1]=Math.max(P,I)}E?S.sort(m):S.sort(x);var H=1;for(O=1;O<S.length;++O){var z=S[O-1],j=S[O];(j[0]!==z[0]||j[1]!==z[1]||E&&j[2]!==z[2])&&(S[H++]=j)}S.length=H}}function p(S,T,E){var O=function(z,j){for(var Z=new Array(j.length),F=0;F<j.length;++F){var V=j[F],W=z[V[0]],re=z[V[1]];Z[F]=[c(Math.min(W[0],re[0]),-1/0),c(Math.min(W[1],re[1]),-1/0),c(Math.max(W[0],re[0]),1/0),c(Math.max(W[1],re[1]),1/0)]}return Z}(S,T),P=function(z,j,Z){var F=[];return r(Z,function(V,W){var re=j[V],ne=j[W];if(re[0]!==ne[0]&&re[0]!==ne[1]&&re[1]!==ne[0]&&re[1]!==ne[1]){var te=z[re[0]],Q=z[re[1]],$=z[ne[0]],K=z[ne[1]];t(te,Q,$,K)&&F.push([V,W])}}),F}(S,T,O),I=function(z,j,Z,F){var V=[];return r(Z,F,function(W,re){var ne=j[W];if(ne[0]!==re&&ne[1]!==re){var te=z[re],Q=z[ne[0]],$=z[ne[1]];t(Q,$,te,te)&&V.push([W,re])}}),V}(S,T,O,v(S)),R=function(z,j,Z,F,V){var W,re,ne=z.map(function(le){return[a(le[0]),a(le[1])]});for(W=0;W<Z.length;++W){var te=Z[W];re=te[0];var Q=te[1],$=j[re],K=j[Q],ae=y(h(z[$[0]]),h(z[$[1]]),h(z[K[0]]),h(z[K[1]]));if(ae){var ue=z.length;z.push([u(ae[0]),u(ae[1])]),ne.push(ae),F.push([re,ue],[Q,ue])}}for(F.sort(function(le,oe){if(le[0]!==oe[0])return le[0]-oe[0];var ve=ne[le[1]],Ce=ne[oe[1]];return l(ve[0],Ce[0])||l(ve[1],Ce[1])}),W=F.length-1;W>=0;--W){var se=j[re=(De=F[W])[0]],he=se[0],pe=se[1],de=z[he],xe=z[pe];if((de[0]-xe[0]||de[1]-xe[1])<0){var _e=he;he=pe,pe=_e}se[0]=he;var be,Le=se[1]=De[1];for(V&&(be=se[2]);W>0&&F[W-1][0]===re;){var De,ye=(De=F[--W])[1];V?j.push([Le,ye,be]):j.push([Le,ye]),Le=ye}V?j.push([Le,pe,be]):j.push([Le,pe])}return ne}(S,T,P,I,E),H=g(S,R);return _(T,H,E),!!H||P.length>0||I.length>0}},3637:function(f,s,n){f.exports=function(y,d,v,g){var x=l(d,y),m=l(g,v),_=c(x,m);if(a(_)===0)return null;var p=c(m,l(y,v)),S=r(p,_),T=h(x,S);return u(y,T)};var i=n(6504),r=n(8697),t=n(5572),a=n(7721),l=n(544),u=n(2653),h=n(8987);function c(y,d){return t(i(y[0],d[1]),i(y[1],d[0]))}},3642:function(f){f.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(f,s,n){var i=n(3642),r=n(395);function t(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function a(u){for(var h,c="#",y=0;y<3;++y)c+=("00"+(h=(h=u[y]).toString(16))).substr(h.length);return c}function l(u){return"rgba("+u.join(",")+")"}f.exports=function(u){var h,c,y,d,v,g,x,m,_,p;if(u||(u={}),m=(u.nshades||72)-1,x=u.format||"hex",(g=u.colormap)||(g="jet"),typeof g=="string"){if(g=g.toLowerCase(),!i[g])throw Error(g+" not a supported colorscale");v=i[g]}else{if(!Array.isArray(g))throw Error("unsupported colormap option",g);v=g.slice()}if(v.length>m+1)throw new Error(g+" map requires nshades to be at least size "+v.length);_=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],h=v.map(function(P){return Math.round(P.index*m)}),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var S=v.map(function(P,I){var R=v[I].index,H=v[I].rgb.slice();return H.length===4&&H[3]>=0&&H[3]<=1||(H[3]=_[0]+(_[1]-_[0])*R),H}),T=[];for(p=0;p<h.length-1;++p){d=h[p+1]-h[p],c=S[p],y=S[p+1];for(var E=0;E<d;E++){var O=E/d;T.push([Math.round(r(c[0],y[0],O)),Math.round(r(c[1],y[1],O)),Math.round(r(c[2],y[2],O)),r(c[3],y[3],O)])}}return T.push(v[v.length-1].rgb.concat(_[1])),x==="hex"?T=T.map(a):x==="rgbaString"?T=T.map(l):x==="float"&&(T=T.map(t)),T}},3140:function(f,s,n){f.exports=function(h,c,y,d){var v=i(c,y,d);if(v===0){var g=r(i(h,c,y)),x=r(i(h,c,d));if(g===x){if(g===0){var m=u(h,c,y);return m===u(h,c,d)?0:m?1:-1}return 0}return x===0?g>0||u(h,c,d)?-1:1:g===0?x>0||u(h,c,y)?1:-1:r(x-g)}var _=i(h,c,y);return _>0?v>0&&i(h,c,d)>0?1:-1:_<0?v>0||i(h,c,d)>0?1:-1:i(h,c,d)>0||u(h,c,y)?1:-1};var i=n(3250),r=n(8572),t=n(9362),a=n(5382),l=n(8210);function u(h,c,y){var d=t(h[0],-c[0]),v=t(h[1],-c[1]),g=t(y[0],-c[0]),x=t(y[1],-c[1]),m=l(a(d,g),a(v,x));return m[m.length-1]>=0}},8572:function(f){f.exports=function(s){return s<0?-1:s>0?1:0}},8507:function(f){f.exports=function(i,r){var t=i.length,a=i.length-r.length;if(a)return a;switch(t){case 0:return 0;case 1:return i[0]-r[0];case 2:return i[0]+i[1]-r[0]-r[1]||s(i[0],i[1])-s(r[0],r[1]);case 3:var l=i[0]+i[1],u=r[0]+r[1];if(a=l+i[2]-(u+r[2]))return a;var h=s(i[0],i[1]),c=s(r[0],r[1]);return s(h,i[2])-s(c,r[2])||s(h+i[2],l)-s(c+r[2],u);case 4:var y=i[0],d=i[1],v=i[2],g=i[3],x=r[0],m=r[1],_=r[2],p=r[3];return y+d+v+g-(x+m+_+p)||s(y,d,v,g)-s(x,m,_,p,x)||s(y+d,y+v,y+g,d+v,d+g,v+g)-s(x+m,x+_,x+p,m+_,m+p,_+p)||s(y+d+v,y+d+g,y+v+g,d+v+g)-s(x+m+_,x+m+p,x+_+p,m+_+p);default:for(var S=i.slice().sort(n),T=r.slice().sort(n),E=0;E<t;++E)if(a=S[E]-T[E])return a;return 0}};var s=Math.min;function n(i,r){return i-r}},3788:function(f,s,n){var i=n(8507),r=n(2419);f.exports=function(t,a){return i(t,a)||r(t)-r(a)}},7352:function(f,s,n){var i=n(5721),r=n(4750),t=n(2690);f.exports=function(a){var l=a.length;if(l===0)return[];if(l===1)return[[0]];var u=a[0].length;return u===0?[]:u===1?i(a):u===2?r(a):t(a,u)}},5721:function(f){f.exports=function(s){for(var n=0,i=0,r=1;r<s.length;++r)s[r][0]<s[n][0]&&(n=r),s[r][0]>s[i][0]&&(i=r);return n<i?[[n],[i]]:n>i?[[i],[n]]:[[n]]}},4750:function(f,s,n){f.exports=function(r){var t=i(r),a=t.length;if(a<=2)return[];for(var l=new Array(a),u=t[a-1],h=0;h<a;++h){var c=t[h];l[h]=[u,c],u=c}return l};var i=n(3090)},2690:function(f,s,n){f.exports=function(t,a){try{return i(t,!0)}catch{var l=r(t);if(l.length<=a)return[];var u=function(c,y){for(var d=c.length,v=new Array(d),g=0;g<y.length;++g)v[g]=c[y[g]];var x=y.length;for(g=0;g<d;++g)y.indexOf(g)<0&&(v[x++]=c[g]);return v}(t,l);return function(c,y){for(var d=c.length,v=y.length,g=0;g<d;++g)for(var x=c[g],m=0;m<x.length;++m){var _=x[m];if(_<v)x[m]=y[_];else{_-=v;for(var p=0;p<v;++p)_>=y[p]&&(_+=1);x[m]=_}}return c}(i(u,!0),l)}};var i=n(8954),r=n(3952)},4769:function(f){f.exports=function(s,n,i,r,t,a){var l=t-1,u=t*t,h=l*l,c=(1+2*t)*h,y=t*h,d=u*(3-2*t),v=u*l;if(s.length){a||(a=new Array(s.length));for(var g=s.length-1;g>=0;--g)a[g]=c*s[g]+y*n[g]+d*i[g]+v*r[g];return a}return c*s+y*n+d*i+v*r},f.exports.derivative=function(s,n,i,r,t,a){var l=6*t*t-6*t,u=3*t*t-4*t+1,h=-6*t*t+6*t,c=3*t*t-2*t;if(s.length){a||(a=new Array(s.length));for(var y=s.length-1;y>=0;--y)a[y]=l*s[y]+u*n[y]+h*i[y]+c*r[y];return a}return l*s+u*n+h*i[y]+c*r}},7642:function(f,s,n){var i=n(8954),r=n(1682);function t(l,u){this.point=l,this.index=u}function a(l,u){for(var h=l.point,c=u.point,y=h.length,d=0;d<y;++d){var v=c[d]-h[d];if(v)return v}return 0}f.exports=function(l,u){var h=l.length;if(h===0)return[];var c=l[0].length;if(c<1)return[];if(c===1)return function(R,H,z){if(R===1)return z?[[-1,0]]:[];var j=H.map(function(re,ne){return[re[0],ne]});j.sort(function(re,ne){return re[0]-ne[0]});for(var Z=new Array(R-1),F=1;F<R;++F){var V=j[F-1],W=j[F];Z[F-1]=[V[1],W[1]]}return z&&Z.push([-1,Z[0][1]],[Z[R-1][1],-1]),Z}(h,l,u);for(var y=new Array(h),d=1,v=0;v<h;++v){for(var g=l[v],x=new Array(c+1),m=0,_=0;_<c;++_){var p=g[_];x[_]=p,m+=p*p}x[c]=m,y[v]=new t(x,v),d=Math.max(m,d)}r(y,a),h=y.length;var S=new Array(h+c+1),T=new Array(h+c+1),E=(c+1)*(c+1)*d,O=new Array(c+1);for(v=0;v<=c;++v)O[v]=0;for(O[c]=E,S[0]=O.slice(),T[0]=-1,v=0;v<=c;++v)(x=O.slice())[v]=1,S[v+1]=x,T[v+1]=-1;for(v=0;v<h;++v){var P=y[v];S[v+c+1]=P.point,T[v+c+1]=P.index}var I=i(S,!1);if(I=u?I.filter(function(R){for(var H=0,z=0;z<=c;++z){var j=T[R[z]];if(j<0&&++H>=2)return!1;R[z]=j}return!0}):I.filter(function(R){for(var H=0;H<=c;++H){var z=T[R[H]];if(z<0)return!1;R[H]=z}return!0}),1&c)for(v=0;v<I.length;++v)x=(P=I[v])[0],P[0]=P[1],P[1]=x;return I}},2361:function(f){var s=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),i=new Uint32Array(n.buffer);n[0]=1,s=!0,i[1]===1072693248?(f.exports=function(t){return n[0]=t,[i[0],i[1]]},f.exports.pack=function(t,a){return i[0]=t,i[1]=a,n[0]},f.exports.lo=function(t){return n[0]=t,i[0]},f.exports.hi=function(t){return n[0]=t,i[1]}):i[0]===1072693248?(f.exports=function(t){return n[0]=t,[i[1],i[0]]},f.exports.pack=function(t,a){return i[1]=t,i[0]=a,n[0]},f.exports.lo=function(t){return n[0]=t,i[1]},f.exports.hi=function(t){return n[0]=t,i[0]}):s=!1}if(!s){var r=new Buffer(8);f.exports=function(t){return r.writeDoubleLE(t,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},f.exports.pack=function(t,a){return r.writeUInt32LE(t,0,!0),r.writeUInt32LE(a,4,!0),r.readDoubleLE(0,!0)},f.exports.lo=function(t){return r.writeDoubleLE(t,0,!0),r.readUInt32LE(0,!0)},f.exports.hi=function(t){return r.writeDoubleLE(t,0,!0),r.readUInt32LE(4,!0)}}f.exports.sign=function(t){return f.exports.hi(t)>>>31},f.exports.exponent=function(t){return(f.exports.hi(t)<<1>>>21)-1023},f.exports.fraction=function(t){var a=f.exports.lo(t),l=f.exports.hi(t),u=1048575&l;return 2146435072&l&&(u+=1048576),[a,u]},f.exports.denormalized=function(t){return!(2146435072&f.exports.hi(t))}},1338:function(f){function s(n,i,r){var t=0|n[r];if(t<=0)return[];var a,l=new Array(t);if(r===n.length-1)for(a=0;a<t;++a)l[a]=i;else for(a=0;a<t;++a)l[a]=s(n,i,r+1);return l}f.exports=function(n,i){switch(i===void 0&&(i=0),typeof n){case"number":if(n>0)return function(r,t){var a,l;for(a=new Array(r),l=0;l<r;++l)a[l]=t;return a}(0|n,i);break;case"object":if(typeof n.length=="number")return s(n,i,0)}return[]}},3134:function(f,s,n){f.exports=function(r,t){var a=r.length;if(typeof t!="number"){t=0;for(var l=0;l<a;++l){var u=r[l];t=Math.max(t,u[0],u[1])}t=1+(0|t)}t|=0;var h=new Array(t);for(l=0;l<t;++l)h[l]=[];for(l=0;l<a;++l)h[(u=r[l])[0]].push(u[1]),h[u[1]].push(u[0]);for(var c=0;c<t;++c)i(h[c],function(y,d){return y-d});return h};var i=n(1682)},5033:function(f){f.exports=function(s,n,i){var r=n||0,t=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[r*s[12]+s[8],r*s[13]+s[9],r*s[14]+s[10],r*s[15]+s[11]],[t*s[12]-s[8],t*s[13]-s[9],t*s[14]-s[10],t*s[15]-s[11]]]}},9215:function(f,s,n){f.exports=function(h,c,y){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return typeof h=="number"?new a(d=u(h),d,0):new a(h,u(h.length),0);case 2:var d;if(typeof c=="number")return new a(h,d=u(h.length),+c);y=0;case 3:if(h.length!==c.length)throw new Error("state and velocity lengths must match");return new a(h,c,y)}};var i=n(4769),r=n(2478);function t(h,c,y){return Math.min(c,Math.max(h,y))}function a(h,c,y){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var d=0;d<this.dimension;++d)this.bounds[0][d]=-1/0,this.bounds[1][d]=1/0;this._state=h.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[y],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=a.prototype;function u(h){for(var c=new Array(h),y=0;y<h;++y)c[y]=0;return c}l.flush=function(h){var c=r.gt(this._time,h)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(h){var c=this._time,y=c.length,d=r.le(c,h),v=this._scratch[0],g=this._state,x=this._velocity,m=this.dimension,_=this.bounds;if(d<0)for(var p=m-1,S=0;S<m;++S,--p)v[S]=g[p];else if(d>=y-1){p=g.length-1;var T=h-c[y-1];for(S=0;S<m;++S,--p)v[S]=g[p]+T*x[p]}else{p=m*(d+1)-1;var E=c[d],O=c[d+1]-E||1,P=this._scratch[1],I=this._scratch[2],R=this._scratch[3],H=this._scratch[4],z=!0;for(S=0;S<m;++S,--p)P[S]=g[p],R[S]=x[p]*O,I[S]=g[p+m],H[S]=x[p+m]*O,z=z&&P[S]===I[S]&&R[S]===H[S]&&R[S]===0;if(z)for(S=0;S<m;++S)v[S]=P[S];else i(P,R,I,H,(h-E)/O,v)}var j=_[0],Z=_[1];for(S=0;S<m;++S)v[S]=t(j[S],Z[S],v[S]);return v},l.dcurve=function(h){var c=this._time,y=c.length,d=r.le(c,h),v=this._scratch[0],g=this._state,x=this._velocity,m=this.dimension;if(d>=y-1)for(var _=g.length-1,p=(c[y-1],0);p<m;++p,--_)v[p]=x[_];else{_=m*(d+1)-1;var S=c[d],T=c[d+1]-S||1,E=this._scratch[1],O=this._scratch[2],P=this._scratch[3],I=this._scratch[4],R=!0;for(p=0;p<m;++p,--_)E[p]=g[_],P[p]=x[_]*T,O[p]=g[_+m],I[p]=x[_+m]*T,R=R&&E[p]===O[p]&&P[p]===I[p]&&P[p]===0;if(R)for(p=0;p<m;++p)v[p]=0;else for(i.derivative(E,P,O,I,(h-S)/T,v),p=0;p<m;++p)v[p]/=T}return v},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,c=h.length,y=this.dimension-1;y>=0;--y)if(h[--c])return!1;return!0},l.jump=function(h){var c=this.lastT(),y=this.dimension;if(!(h<c||arguments.length!==y+1)){var d=this._state,v=this._velocity,g=d.length-this.dimension,x=this.bounds,m=x[0],_=x[1];this._time.push(c,h);for(var p=0;p<2;++p)for(var S=0;S<y;++S)d.push(d[g++]),v.push(0);for(this._time.push(h),S=y;S>0;--S)d.push(t(m[S-1],_[S-1],arguments[S])),v.push(0)}},l.push=function(h){var c=this.lastT(),y=this.dimension;if(!(h<c||arguments.length!==y+1)){var d=this._state,v=this._velocity,g=d.length-this.dimension,x=h-c,m=this.bounds,_=m[0],p=m[1],S=x>1e-6?1/x:0;this._time.push(h);for(var T=y;T>0;--T){var E=t(_[T-1],p[T-1],arguments[T]);d.push(E),v.push((E-d[g++])*S)}}},l.set=function(h){var c=this.dimension;if(!(h<this.lastT()||arguments.length!==c+1)){var y=this._state,d=this._velocity,v=this.bounds,g=v[0],x=v[1];this._time.push(h);for(var m=c;m>0;--m)y.push(t(g[m-1],x[m-1],arguments[m])),d.push(0)}},l.move=function(h){var c=this.lastT(),y=this.dimension;if(!(h<=c||arguments.length!==y+1)){var d=this._state,v=this._velocity,g=d.length-this.dimension,x=this.bounds,m=x[0],_=x[1],p=h-c,S=p>1e-6?1/p:0;this._time.push(h);for(var T=y;T>0;--T){var E=arguments[T];d.push(t(m[T-1],_[T-1],d[g++]+E)),v.push(E*S)}}},l.idle=function(h){var c=this.lastT();if(!(h<c)){var y=this.dimension,d=this._state,v=this._velocity,g=d.length-y,x=this.bounds,m=x[0],_=x[1],p=h-c;this._time.push(h);for(var S=y-1;S>=0;--S)d.push(t(m[S],_[S],d[g]+p*v[g])),v.push(0),g+=1}}},3840:function(f){function s(g,x,m,_,p,S){this._color=g,this.key=x,this.value=m,this.left=_,this.right=p,this._count=S}function n(g){return new s(g._color,g.key,g.value,g.left,g.right,g._count)}function i(g,x){return new s(g,x.key,x.value,x.left,x.right,x._count)}function r(g){g._count=1+(g.left?g.left._count:0)+(g.right?g.right._count:0)}function t(g,x){this._compare=g,this.root=x}f.exports=function(g){return new t(g||v,null)};var a=t.prototype;function l(g,x){var m;return x.left&&(m=l(g,x.left))?m:(m=g(x.key,x.value))||(x.right?l(g,x.right):void 0)}function u(g,x,m,_){if(x(g,_.key)<=0){var p;if(_.left&&(p=u(g,x,m,_.left))||(p=m(_.key,_.value)))return p}if(_.right)return u(g,x,m,_.right)}function h(g,x,m,_,p){var S,T=m(g,p.key),E=m(x,p.key);if(T<=0&&(p.left&&(S=h(g,x,m,_,p.left))||E>0&&(S=_(p.key,p.value))))return S;if(E>0&&p.right)return h(g,x,m,_,p.right)}function c(g,x){this.tree=g,this._stack=x}Object.defineProperty(a,"keys",{get:function(){var g=[];return this.forEach(function(x,m){g.push(x)}),g}}),Object.defineProperty(a,"values",{get:function(){var g=[];return this.forEach(function(x,m){g.push(m)}),g}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(g,x){for(var m=this._compare,_=this.root,p=[],S=[];_;){var T=m(g,_.key);p.push(_),S.push(T),_=T<=0?_.left:_.right}p.push(new s(0,g,x,null,null,1));for(var E=p.length-2;E>=0;--E)_=p[E],S[E]<=0?p[E]=new s(_._color,_.key,_.value,p[E+1],_.right,_._count+1):p[E]=new s(_._color,_.key,_.value,_.left,p[E+1],_._count+1);for(E=p.length-1;E>1;--E){var O=p[E-1];if(_=p[E],O._color===1||_._color===1)break;var P=p[E-2];if(P.left===O)if(O.left===_){if(!(I=P.right)||I._color!==0){P._color=0,P.left=O.right,O._color=1,O.right=P,p[E-2]=O,p[E-1]=_,r(P),r(O),E>=3&&((R=p[E-3]).left===P?R.left=O:R.right=O);break}O._color=1,P.right=i(1,I),P._color=0,E-=1}else{if(!(I=P.right)||I._color!==0){O.right=_.left,P._color=0,P.left=_.right,_._color=1,_.left=O,_.right=P,p[E-2]=_,p[E-1]=O,r(P),r(O),r(_),E>=3&&((R=p[E-3]).left===P?R.left=_:R.right=_);break}O._color=1,P.right=i(1,I),P._color=0,E-=1}else if(O.right===_){if(!(I=P.left)||I._color!==0){P._color=0,P.right=O.left,O._color=1,O.left=P,p[E-2]=O,p[E-1]=_,r(P),r(O),E>=3&&((R=p[E-3]).right===P?R.right=O:R.left=O);break}O._color=1,P.left=i(1,I),P._color=0,E-=1}else{var I;if(!(I=P.left)||I._color!==0){var R;O.left=_.right,P._color=0,P.right=_.left,_._color=1,_.right=O,_.left=P,p[E-2]=_,p[E-1]=O,r(P),r(O),r(_),E>=3&&((R=p[E-3]).right===P?R.right=_:R.left=_);break}O._color=1,P.left=i(1,I),P._color=0,E-=1}}return p[0]._color=1,new t(m,p[0])},a.forEach=function(g,x,m){if(this.root)switch(arguments.length){case 1:return l(g,this.root);case 2:return u(x,this._compare,g,this.root);case 3:return this._compare(x,m)>=0?void 0:h(x,m,this._compare,g,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var g=[],x=this.root;x;)g.push(x),x=x.left;return new c(this,g)}}),Object.defineProperty(a,"end",{get:function(){for(var g=[],x=this.root;x;)g.push(x),x=x.right;return new c(this,g)}}),a.at=function(g){if(g<0)return new c(this,[]);for(var x=this.root,m=[];;){if(m.push(x),x.left){if(g<x.left._count){x=x.left;continue}g-=x.left._count}if(!g)return new c(this,m);if(g-=1,!x.right||g>=x.right._count)break;x=x.right}return new c(this,[])},a.ge=function(g){for(var x=this._compare,m=this.root,_=[],p=0;m;){var S=x(g,m.key);_.push(m),S<=0&&(p=_.length),m=S<=0?m.left:m.right}return _.length=p,new c(this,_)},a.gt=function(g){for(var x=this._compare,m=this.root,_=[],p=0;m;){var S=x(g,m.key);_.push(m),S<0&&(p=_.length),m=S<0?m.left:m.right}return _.length=p,new c(this,_)},a.lt=function(g){for(var x=this._compare,m=this.root,_=[],p=0;m;){var S=x(g,m.key);_.push(m),S>0&&(p=_.length),m=S<=0?m.left:m.right}return _.length=p,new c(this,_)},a.le=function(g){for(var x=this._compare,m=this.root,_=[],p=0;m;){var S=x(g,m.key);_.push(m),S>=0&&(p=_.length),m=S<0?m.left:m.right}return _.length=p,new c(this,_)},a.find=function(g){for(var x=this._compare,m=this.root,_=[];m;){var p=x(g,m.key);if(_.push(m),p===0)return new c(this,_);m=p<=0?m.left:m.right}return new c(this,[])},a.remove=function(g){var x=this.find(g);return x?x.remove():this},a.get=function(g){for(var x=this._compare,m=this.root;m;){var _=x(g,m.key);if(_===0)return m.value;m=_<=0?m.left:m.right}};var y=c.prototype;function d(g,x){g.key=x.key,g.value=x.value,g.left=x.left,g.right=x.right,g._color=x._color,g._count=x._count}function v(g,x){return g<x?-1:g>x?1:0}Object.defineProperty(y,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(y,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),y.clone=function(){return new c(this.tree,this._stack.slice())},y.remove=function(){var g=this._stack;if(g.length===0)return this.tree;var x=new Array(g.length),m=g[g.length-1];x[x.length-1]=new s(m._color,m.key,m.value,m.left,m.right,m._count);for(var _=g.length-2;_>=0;--_)(m=g[_]).left===g[_+1]?x[_]=new s(m._color,m.key,m.value,x[_+1],m.right,m._count):x[_]=new s(m._color,m.key,m.value,m.left,x[_+1],m._count);if((m=x[x.length-1]).left&&m.right){var p=x.length;for(m=m.left;m.right;)x.push(m),m=m.right;var S=x[p-1];for(x.push(new s(m._color,S.key,S.value,m.left,m.right,m._count)),x[p-1].key=m.key,x[p-1].value=m.value,_=x.length-2;_>=p;--_)m=x[_],x[_]=new s(m._color,m.key,m.value,m.left,x[_+1],m._count);x[p-1].left=x[p]}if((m=x[x.length-1])._color===0){var T=x[x.length-2];for(T.left===m?T.left=null:T.right===m&&(T.right=null),x.pop(),_=0;_<x.length;++_)x[_]._count--;return new t(this.tree._compare,x[0])}if(m.left||m.right){for(m.left?d(m,m.left):m.right&&d(m,m.right),m._color=1,_=0;_<x.length-1;++_)x[_]._count--;return new t(this.tree._compare,x[0])}if(x.length===1)return new t(this.tree._compare,null);for(_=0;_<x.length;++_)x[_]._count--;var E=x[x.length-2];return function(O){for(var P,I,R,H,z=O.length-1;z>=0;--z){if(P=O[z],z===0)return void(P._color=1);if((I=O[z-1]).left===P){if((R=I.right).right&&R.right._color===0)return H=(R=I.right=n(R)).right=n(R.right),I.right=R.left,R.left=I,R.right=H,R._color=I._color,P._color=1,I._color=1,H._color=1,r(I),r(R),z>1&&((j=O[z-2]).left===I?j.left=R:j.right=R),void(O[z-1]=R);if(R.left&&R.left._color===0)return H=(R=I.right=n(R)).left=n(R.left),I.right=H.left,R.left=H.right,H.left=I,H.right=R,H._color=I._color,I._color=1,R._color=1,P._color=1,r(I),r(R),r(H),z>1&&((j=O[z-2]).left===I?j.left=H:j.right=H),void(O[z-1]=H);if(R._color===1){if(I._color===0)return I._color=1,void(I.right=i(0,R));I.right=i(0,R);continue}R=n(R),I.right=R.left,R.left=I,R._color=I._color,I._color=0,r(I),r(R),z>1&&((j=O[z-2]).left===I?j.left=R:j.right=R),O[z-1]=R,O[z]=I,z+1<O.length?O[z+1]=P:O.push(P),z+=2}else{if((R=I.left).left&&R.left._color===0)return H=(R=I.left=n(R)).left=n(R.left),I.left=R.right,R.right=I,R.left=H,R._color=I._color,P._color=1,I._color=1,H._color=1,r(I),r(R),z>1&&((j=O[z-2]).right===I?j.right=R:j.left=R),void(O[z-1]=R);if(R.right&&R.right._color===0)return H=(R=I.left=n(R)).right=n(R.right),I.left=H.right,R.right=H.left,H.right=I,H.left=R,H._color=I._color,I._color=1,R._color=1,P._color=1,r(I),r(R),r(H),z>1&&((j=O[z-2]).right===I?j.right=H:j.left=H),void(O[z-1]=H);if(R._color===1){if(I._color===0)return I._color=1,void(I.left=i(0,R));I.left=i(0,R);continue}var j;R=n(R),I.left=R.right,R.right=I,R._color=I._color,I._color=0,r(I),r(R),z>1&&((j=O[z-2]).right===I?j.right=R:j.left=R),O[z-1]=R,O[z]=I,z+1<O.length?O[z+1]=P:O.push(P),z+=2}}}(x),E.left===m?E.left=null:E.right=null,new t(this.tree._compare,x[0])},Object.defineProperty(y,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(y,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(y,"index",{get:function(){var g=0,x=this._stack;if(x.length===0){var m=this.tree.root;return m?m._count:0}x[x.length-1].left&&(g=x[x.length-1].left._count);for(var _=x.length-2;_>=0;--_)x[_+1]===x[_].right&&(++g,x[_].left&&(g+=x[_].left._count));return g},enumerable:!0}),y.next=function(){var g=this._stack;if(g.length!==0){var x=g[g.length-1];if(x.right)for(x=x.right;x;)g.push(x),x=x.left;else for(g.pop();g.length>0&&g[g.length-1].right===x;)x=g[g.length-1],g.pop()}},Object.defineProperty(y,"hasNext",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].right)return!0;for(var x=g.length-1;x>0;--x)if(g[x-1].left===g[x])return!0;return!1}}),y.update=function(g){var x=this._stack;if(x.length===0)throw new Error("Can't update empty node!");var m=new Array(x.length),_=x[x.length-1];m[m.length-1]=new s(_._color,_.key,g,_.left,_.right,_._count);for(var p=x.length-2;p>=0;--p)(_=x[p]).left===x[p+1]?m[p]=new s(_._color,_.key,_.value,m[p+1],_.right,_._count):m[p]=new s(_._color,_.key,_.value,_.left,m[p+1],_._count);return new t(this.tree._compare,m[0])},y.prev=function(){var g=this._stack;if(g.length!==0){var x=g[g.length-1];if(x.left)for(x=x.left;x;)g.push(x),x=x.right;else for(g.pop();g.length>0&&g[g.length-1].left===x;)x=g[g.length-1],g.pop()}},Object.defineProperty(y,"hasPrev",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].left)return!0;for(var x=g.length-1;x>0;--x)if(g[x-1].right===g[x])return!0;return!1}})},3837:function(f,s,n){f.exports=function(P,I){var R=new v(P);return R.update(I),R};var i=n(4935),r=n(501),t=n(5304),a=n(6429),l=n(6444),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=ArrayBuffer,c=DataView;function y(P){return Array.isArray(P)||function(I){return h.isView(I)&&!(I instanceof c)}(P)}function d(P,I){return P[0]=I[0],P[1]=I[1],P[2]=I[2],P}function v(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=t(P)}var g=v.prototype;function x(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}g.update=function(P){function I(K,ae,ue){if(ue in P){var se,he=P[ue],pe=this[ue];(K?y(he)&&y(he[0]):y(he))?this[ue]=se=[ae(he[0]),ae(he[1]),ae(he[2])]:this[ue]=se=[ae(he),ae(he),ae(he)];for(var de=0;de<3;++de)if(se[de]!==pe[de])return!0}return!1}P=P||{};var R,H=I.bind(this,!1,Number),z=I.bind(this,!1,Boolean),j=I.bind(this,!1,String),Z=I.bind(this,!0,function(K){if(y(K)){if(K.length===3)return[+K[0],+K[1],+K[2],1];if(K.length===4)return[+K[0],+K[1],+K[2],+K[3]]}return[0,0,0,1]}),F=!1,V=!1;if("bounds"in P)for(var W=P.bounds,re=0;re<2;++re)for(var ne=0;ne<3;++ne)W[re][ne]!==this.bounds[re][ne]&&(V=!0),this.bounds[re][ne]=W[re][ne];if("ticks"in P)for(R=P.ticks,F=!0,this.autoTicks=!1,re=0;re<3;++re)this.tickSpacing[re]=0;else H("tickSpacing")&&(this.autoTicks=!0,V=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),V=!0,F=!0,this._firstInit=!1),V&&this.autoTicks&&(R=l.create(this.bounds,this.tickSpacing),F=!0),F){for(re=0;re<3;++re)R[re].sort(function(K,ae){return K.x-ae.x});l.equal(R,this.ticks)?F=!1:this.ticks=R}z("tickEnable"),j("tickFont")&&(F=!0),j("tickFontStyle")&&(F=!0),j("tickFontWeight")&&(F=!0),j("tickFontVariant")&&(F=!0),H("tickSize"),H("tickAngle"),H("tickPad"),Z("tickColor");var te=j("labels");j("labelFont")&&(te=!0),j("labelFontStyle")&&(te=!0),j("labelFontWeight")&&(te=!0),j("labelFontVariant")&&(te=!0),z("labelEnable"),H("labelSize"),H("labelPad"),Z("labelColor"),z("lineEnable"),z("lineMirror"),H("lineWidth"),Z("lineColor"),z("lineTickEnable"),z("lineTickMirror"),H("lineTickLength"),H("lineTickWidth"),Z("lineTickColor"),z("gridEnable"),H("gridWidth"),Z("gridColor"),z("zeroEnable"),Z("zeroLineColor"),H("zeroLineWidth"),z("backgroundEnable"),Z("backgroundColor");var Q=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],$=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(te||F)&&this._text.update(this.bounds,this.labels,Q,this.ticks,$):this._text=i(this.gl,this.bounds,this.labels,Q,this.ticks,$),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var m=[new x,new x,new x];function _(P,I,R,H,z){for(var j=P.primalOffset,Z=P.primalMinor,F=P.mirrorOffset,V=P.mirrorMinor,W=H[I],re=0;re<3;++re)if(I!==re){var ne=j,te=F,Q=Z,$=V;W&1<<re&&(ne=F,te=j,Q=V,$=Z),ne[re]=R[0][re],te[re]=R[1][re],z[re]>0?(Q[re]=-1,$[re]=0):(Q[re]=0,$[re]=1)}}var p=[0,0,0],S={model:u,view:u,projection:u,_ortho:!1};g.isOpaque=function(){return!0},g.isTransparent=function(){return!1},g.drawTransparent=function(P){};var T=[0,0,0],E=[0,0,0],O=[0,0,0];g.draw=function(P){P=P||S;for(var I=this.gl,R=P.model||u,H=P.view||u,z=P.projection||u,j=this.bounds,Z=P._ortho||!1,F=a(R,H,z,j,Z),V=F.cubeEdges,W=F.axis,re=H[12],ne=H[13],te=H[14],Q=H[15],$=(Z?2:1)*this.pixelRatio*(z[3]*re+z[7]*ne+z[11]*te+z[15]*Q)/I.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=V[K],this.lastCubeProps.axis[K]=W[K];var ae=m;for(K=0;K<3;++K)_(m[K],K,this.bounds,V,W);I=this.gl;var ue,se,he,pe=p;for(K=0;K<3;++K)this.backgroundEnable[K]?pe[K]=W[K]:pe[K]=0;for(this._background.draw(R,H,z,j,pe,this.backgroundColor),this._lines.bind(R,H,z,this),K=0;K<3;++K){var de=[0,0,0];W[K]>0?de[K]=j[1][K]:de[K]=j[0][K];for(var xe=0;xe<2;++xe){var _e=(K+1+xe)%3,be=(K+1+(1^xe))%3;this.gridEnable[_e]&&this._lines.drawGrid(_e,be,this.bounds,de,this.gridColor[_e],this.gridWidth[_e]*this.pixelRatio)}for(xe=0;xe<2;++xe)_e=(K+1+xe)%3,be=(K+1+(1^xe))%3,this.zeroEnable[be]&&Math.min(j[0][be],j[1][be])<=0&&Math.max(j[0][be],j[1][be])>=0&&this._lines.drawZero(_e,be,this.bounds,de,this.zeroLineColor[be],this.zeroLineWidth[be]*this.pixelRatio)}for(K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,ae[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,ae[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);var Le=d(T,ae[K].primalMinor),De=d(E,ae[K].mirrorMinor),ye=this.lineTickLength;for(xe=0;xe<3;++xe){var le=$/R[5*xe];Le[xe]*=ye[xe]*le,De[xe]*=ye[xe]*le}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,ae[K].primalOffset,Le,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,ae[K].mirrorOffset,De,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}function oe(ze){(he=[0,0,0])[ze]=1}function ve(ze,Fe,ge){var Te=(ze+1)%3,Se=(ze+2)%3,Re=Fe[Te],Pe=Fe[Se],Ve=ge[Te],We=ge[Se];Re>0&&We>0||Re>0&&We<0||Re<0&&We>0||Re<0&&We<0?oe(Te):(Pe>0&&Ve>0||Pe>0&&Ve<0||Pe<0&&Ve>0||Pe<0&&Ve<0)&&oe(Se)}for(this._lines.unbind(),this._text.bind(R,H,z,this.pixelRatio),K=0;K<3;++K){var Ce=ae[K].primalMinor,ke=ae[K].mirrorMinor,Ae=d(O,ae[K].primalOffset);for(xe=0;xe<3;++xe)this.lineTickEnable[K]&&(Ae[xe]+=$*Ce[xe]*Math.max(this.lineTickLength[xe],0)/R[5*xe]);var Ee=[0,0,0];if(Ee[K]=1,this.tickEnable[K]){for(this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,se=1,(ue=[this.tickAlign[K],.5,se])[0]==="auto"?ue[0]=0:ue[0]=parseInt(""+ue[0]),he=[0,0,0],ve(K,Ce,ke),xe=0;xe<3;++xe)Ae[xe]+=$*Ce[xe]*this.tickPad[xe]/R[5*xe];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],Ae,this.tickColor[K],Ee,he,ue)}if(this.labelEnable[K]){for(se=0,he=[0,0,0],this.labels[K].length>4&&(oe(K),se=1),(ue=[this.labelAlign[K],.5,se])[0]==="auto"?ue[0]=0:ue[0]=parseInt(""+ue[0]),xe=0;xe<3;++xe)Ae[xe]+=$*Ce[xe]*this.labelPad[xe]/R[5*xe];Ae[K]+=.5*(j[0][K]+j[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],Ae,this.labelColor[K],[0,0,0],he,ue)}}this._text.unbind()},g.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(f,s,n){f.exports=function(u){for(var h=[],c=[],y=0,d=0;d<3;++d)for(var v=(d+1)%3,g=(d+2)%3,x=[0,0,0],m=[0,0,0],_=-1;_<=1;_+=2){c.push(y,y+2,y+1,y+1,y+2,y+3),x[d]=_,m[d]=_;for(var p=-1;p<=1;p+=2){x[v]=p;for(var S=-1;S<=1;S+=2)x[g]=S,h.push(x[0],x[1],x[2],m[0],m[1],m[2]),y+=1}var T=v;v=g,g=T}var E=i(u,new Float32Array(h)),O=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),P=r(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],O),I=t(u);return I.attributes.position.location=0,I.attributes.normal.location=1,new a(u,E,P,I)};var i=n(2762),r=n(8116),t=n(1879).bg;function a(u,h,c,y){this.gl=u,this.buffer=h,this.vao=c,this.shader=y}var l=a.prototype;l.draw=function(u,h,c,y,d,v){for(var g=!1,x=0;x<3;++x)g=g||d[x];if(g){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:h,projection:c,bounds:y,enable:d,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(f,s,n){f.exports=function(p,S,T,E,O){r(l,S,p),r(l,T,l);for(var P=0,I=0;I<2;++I){c[2]=E[I][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var H=0;H<2;++H)c[0]=E[H][0],d(u[P],c,l),P+=1}}var z=-1;for(I=0;I<8;++I){for(var j=u[I][3],Z=0;Z<3;++Z)h[I][Z]=u[I][Z]/j;O&&(h[I][2]*=-1),j<0&&(z<0||h[I][2]<h[z][2])&&(z=I)}if(z<0){z=0;for(var F=0;F<3;++F){for(var V=(F+2)%3,W=(F+1)%3,re=-1,ne=-1,te=0;te<2;++te){var Q=(K=te<<F)+(te<<V)+(1-te<<W),$=K+(1-te<<V)+(te<<W);a(h[K],h[Q],h[$],y)<0||(te?re=1:ne=1)}if(re<0||ne<0)ne>re&&(z|=1<<F);else{for(te=0;te<2;++te){Q=(K=te<<F)+(te<<V)+(1-te<<W),$=K+(1-te<<V)+(te<<W);var K,ae=g([u[K],u[Q],u[$],u[K+(1<<V)+(1<<W)]]);te?re=ae:ne=ae}ne>re&&(z|=1<<F)}}}var ue=7^z,se=-1;for(I=0;I<8;++I)I!==z&&I!==ue&&(se<0||h[se][1]>h[I][1])&&(se=I);var he=-1;for(I=0;I<3;++I)(de=se^1<<I)!==z&&de!==ue&&(he<0&&(he=de),(W=h[de])[0]<h[he][0]&&(he=de));var pe=-1;for(I=0;I<3;++I){var de;(de=se^1<<I)!==z&&de!==ue&&de!==he&&(pe<0&&(pe=de),(W=h[de])[0]>h[pe][0]&&(pe=de))}var xe=x;xe[0]=xe[1]=xe[2]=0,xe[i.log2(he^se)]=se&he,xe[i.log2(se^pe)]=se&pe;var _e=7^pe;_e===z||_e===ue?(_e=7^he,xe[i.log2(pe^_e)]=_e&pe):xe[i.log2(he^_e)]=_e&he;var be=m,Le=z;for(F=0;F<3;++F)be[F]=Le&1<<F?-1:1;return _};var i=n(8828),r=n(6760),t=n(5202),a=n(3250),l=new Array(16),u=new Array(8),h=new Array(8),c=new Array(3),y=[0,0,0];function d(p,S,T){for(var E=0;E<4;++E){p[E]=T[12+E];for(var O=0;O<3;++O)p[E]+=S[O]*T[4*O+E]}}(function(){for(var p=0;p<8;++p)u[p]=[1,1,1,1],h[p]=[1,1,1]})();var v=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function g(p){for(var S=0;S<v.length;++S)if((p=t.positive(p,v[S])).length<3)return 0;var T=p[0],E=T[0]/T[3],O=T[1]/T[3],P=0;for(S=1;S+1<p.length;++S){var I=p[S],R=p[S+1],H=I[0]/I[3]-E,z=I[1]/I[3]-O,j=R[0]/R[3]-E,Z=R[1]/R[3]-O;P+=Math.abs(H*Z-z*j)}return P}var x=[1,1,1],m=[0,0,0],_={cubeEdges:x,axis:m}},501:function(f,s,n){f.exports=function(x,m,_){var p=[],S=[0,0,0],T=[0,0,0],E=[0,0,0],O=[0,0,0];p.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var I=p.length/3|0,R=0;R<_[P].length;++R){var H=+_[P][R].x;p.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var z=p.length/3|0;S[P]=I,T[P]=z-I,I=p.length/3|0;for(var j=0;j<_[P].length;++j)H=+_[P][j].x,p.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1);z=p.length/3|0,E[P]=I,O[P]=z-I}var Z=i(x,new Float32Array(p)),F=r(x,[{buffer:Z,type:x.FLOAT,size:3,stride:0,offset:0}]),V=t(x);return V.attributes.position.location=0,new v(x,Z,F,V,T,S,O,E)};var i=n(2762),r=n(8116),t=n(1879).n,a=[0,0,0],l=[0,0,0],u=[0,0,0],h=[0,0,0],c=[1,1];function y(x){return x[0]=x[1]=x[2]=0,x}function d(x,m){return x[0]=m[0],x[1]=m[1],x[2]=m[2],x}function v(x,m,_,p,S,T,E,O){this.gl=x,this.vertBuffer=m,this.vao=_,this.shader=p,this.tickCount=S,this.tickOffset=T,this.gridCount=E,this.gridOffset=O}var g=v.prototype;g.bind=function(x,m,_){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=m,this.shader.uniforms.projection=_,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},g.unbind=function(){this.vao.unbind()},g.drawAxisLine=function(x,m,_,p,S){var T=y(l);this.shader.uniforms.majorAxis=l,T[x]=m[1][x]-m[0][x],this.shader.uniforms.minorAxis=T;var E,O=d(h,_);O[x]+=m[0][x],this.shader.uniforms.offset=O,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=p,(E=y(u))[(x+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=y(u))[(x+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},g.drawAxisTicks=function(x,m,_,p,S){if(this.tickCount[x]){var T=y(a);T[x]=1,this.shader.uniforms.majorAxis=T,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=_,this.shader.uniforms.color=p,this.shader.uniforms.lineWidth=S;var E=y(u);E[x]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},g.drawGrid=function(x,m,_,p,S,T){if(this.gridCount[x]){var E=y(l);E[m]=_[1][m]-_[0][m],this.shader.uniforms.minorAxis=E;var O=d(h,p);O[m]+=_[0][m],this.shader.uniforms.offset=O;var P=y(a);P[x]=1,this.shader.uniforms.majorAxis=P;var I=y(u);I[x]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},g.drawZero=function(x,m,_,p,S,T){var E=y(l);this.shader.uniforms.majorAxis=E,E[x]=_[1][x]-_[0][x],this.shader.uniforms.minorAxis=E;var O=d(h,p);O[x]+=_[0][x],this.shader.uniforms.offset=O;var P=y(u);P[m]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},g.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(f,s,n){var i=n(3236),r=n(9405),t=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.n=function(y){return r(y,t,a,null,[{name:"position",type:"vec3"}])};var l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.Q=function(y){return r(y,l,u,null,[{name:"position",type:"vec3"}])};var h=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(y){return r(y,h,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(f,s,n){f.exports=function(d,v,g,x,m,_){var p=i(d),S=r(d,[{buffer:p,size:3}]),T=a(d);T.attributes.position.location=0;var E=new h(d,T,p,S);return E.update(v,g,x,m,_),E};var i=n(2762),r=n(8116),t=n(4359),a=n(1879).Q,l=window||k.global||{},u=l.__TEXT_CACHE||{};function h(d,v,g,x){this.gl=d,this.shader=v,this.buffer=g,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=h.prototype,y=[0,0];c.bind=function(d,v,g,x){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=d,m.view=v,m.projection=g,m.pixelScale=x,y[0]=this.gl.drawingBufferWidth,y[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=y},c.unbind=function(){this.vao.unbind()},c.update=function(d,v,g,x,m){var _=[];function p(z,j,Z,F,V,W){var re=[Z.style,Z.weight,Z.variant,Z.family].join("_"),ne=u[re];ne||(ne=u[re]={});var te=ne[j];te||(te=ne[j]=function(de,xe){try{return t(de,xe)}catch(_e){return console.warn('error vectorizing text:"'+de+'" error:',_e),{cells:[],positions:[]}}}(j,{triangles:!0,font:Z.family,fontStyle:Z.style,fontWeight:Z.weight,fontVariant:Z.variant,textAlign:"center",textBaseline:"middle",lineSpacing:V,styletags:W}));for(var Q=(F||12)/12,$=te.positions,K=te.cells,ae=0,ue=K.length;ae<ue;++ae)for(var se=K[ae],he=2;he>=0;--he){var pe=$[se[he]];_.push(Q*pe[0],-Q*pe[1],z)}}for(var S=[0,0,0],T=[0,0,0],E=[0,0,0],O=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){E[I]=_.length/3|0,p(.5*(d[0][I]+d[1][I]),v[I],g[I],12,1.25,P),O[I]=(_.length/3|0)-E[I],S[I]=_.length/3|0;for(var R=0;R<x[I].length;++R)if(x[I][R].text){var H={family:x[I][R].font||m[I].family,style:m[I].fontStyle||m[I].style,weight:m[I].fontWeight||m[I].weight,variant:m[I].fontVariant||m[I].variant};p(x[I][R].x,x[I][R].text,H,x[I][R].fontSize||12,1.25,P)}T[I]=(_.length/3|0)-S[I]}this.buffer.update(_),this.tickOffset=S,this.tickCount=T,this.labelOffset=E,this.labelCount=O},c.drawTicks=function(d,v,g,x,m,_,p,S){this.tickCount[d]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=g,this.shader.uniforms.scale=v,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[d],this.tickOffset[d]))},c.drawLabel=function(d,v,g,x,m,_,p,S){this.labelCount[d]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=g,this.shader.uniforms.scale=v,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[d],this.labelOffset[d]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(f,s){function n(i,r){var t=i+"",a=t.indexOf("."),l=0;a>=0&&(l=t.length-a-1);var u=Math.pow(10,l),h=Math.round(i*r*u),c=h+"";if(c.indexOf("e")>=0)return c;var y=h/u,d=h%u;h<0?(y=0|-Math.ceil(y),d=0|-d):(y=0|Math.floor(y),d|=0);var v=""+y;if(h<0&&(v="-"+v),l){for(var g=""+d;g.length<l;)g="0"+g;return v+"."+g}return v}s.create=function(i,r){for(var t=[],a=0;a<3;++a){for(var l=[],u=(i[0][a],i[1][a],0);u*r[a]<=i[1][a];++u)l.push({x:u*r[a],text:n(r[a],u)});for(u=-1;u*r[a]>=i[0][a];--u)l.push({x:u*r[a],text:n(r[a],u)});t.push(l)}return t},s.equal=function(i,r){for(var t=0;t<3;++t){if(i[t].length!==r[t].length)return!1;for(var a=0;a<i[t].length;++a){var l=i[t][a],u=r[t][a];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},5445:function(f,s,n){f.exports=function(_,p,S,T,E){var O=p.model||h,P=p.view||h,I=p.projection||h,R=p._ortho||!1,H=_.bounds,z=(E=E||t(O,P,I,H,R)).axis;a(c,P,O),a(c,I,c);for(var j=x,Z=0;Z<3;++Z)j[Z].lo=1/0,j[Z].hi=-1/0,j[Z].pixelsPerDataUnit=1/0;var F=i(l(c,c));l(c,c);for(var V=0;V<3;++V){var W=(V+1)%3,re=(V+2)%3,ne=m;e:for(Z=0;Z<2;++Z){var te=[];if(z[V]<0!=!!Z){ne[V]=H[Z][V];for(var Q=0;Q<2;++Q){ne[W]=H[Q^Z][W];for(var $=0;$<2;++$)ne[re]=H[$^Q^Z][re],te.push(ne.slice())}var K=R?5:4;for(Q=K;Q===K;++Q){if(te.length===0)continue e;te=r.positive(te,F[Q])}for(Q=0;Q<te.length;++Q){re=te[Q];var ae=g(m,c,re,S,T);for($=0;$<3;++$)j[$].lo=Math.min(j[$].lo,re[$]),j[$].hi=Math.max(j[$].hi,re[$]),$!==V&&(j[$].pixelsPerDataUnit=Math.min(j[$].pixelsPerDataUnit,Math.abs(ae[$])))}}}}return j};var i=n(5033),r=n(5202),t=n(6429),a=n(6760),l=n(5665),u=n(5352),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function y(_,p,S){this.lo=_,this.hi=p,this.pixelsPerDataUnit=S}var d=[0,0,0,1],v=[0,0,0,1];function g(_,p,S,T,E){for(var O=0;O<3;++O){for(var P=d,I=v,R=0;R<3;++R)I[R]=P[R]=S[R];I[3]=P[3]=1,I[O]+=1,u(I,I,p),I[3]<0&&(_[O]=1/0),P[O]-=1,u(P,P,p),P[3]<0&&(_[O]=1/0);var H=(P[0]/P[3]-I[0]/I[3])*T,z=(P[1]/P[3]-I[1]/I[3])*E;_[O]=.25*Math.sqrt(H*H+z*z)}return _}var x=[new y(1/0,-1/0,1/0),new y(1/0,-1/0,1/0),new y(1/0,-1/0,1/0)],m=[0,0,0]},2762:function(f,s,n){var i=n(1888),r=n(5298),t=n(9618),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(y,d,v,g,x){this.gl=y,this.type=d,this.handle=v,this.length=g,this.usage=x}var u=l.prototype;function h(y,d,v,g,x,m){var _=x.length*x.BYTES_PER_ELEMENT;if(m<0)return y.bufferData(d,x,g),_;if(_+m>v)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return y.bufferSubData(d,m,x),v}function c(y,d){for(var v=i.malloc(y.length,d),g=y.length,x=0;x<g;++x)v[x]=y[x];return v}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(y,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof y=="object"&&y.shape!==void 0){var v=y.dtype;if(a.indexOf(v)<0&&(v="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(v=gl.getExtension("OES_element_index_uint")&&v!=="uint16"?"uint32":"uint16"),v===y.dtype&&function(_,p){for(var S=1,T=p.length-1;T>=0;--T){if(p[T]!==S)return!1;S*=_[T]}return!0}(y.shape,y.stride))y.offset===0&&y.data.length===y.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,y.data,d):this.length=h(this.gl,this.type,this.length,this.usage,y.data.subarray(y.offset,y.shape[0]),d);else{var g=i.malloc(y.size,v),x=t(g,y.shape);r.assign(x,y),this.length=h(this.gl,this.type,this.length,this.usage,d<0?g:g.subarray(0,y.size),d),i.free(g)}}else if(Array.isArray(y)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(y,"uint16"):c(y,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,d<0?m:m.subarray(0,y.length),d),i.free(m)}else if(typeof y=="object"&&typeof y.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,y,d);else{if(typeof y!="number"&&y!==void 0)throw new Error("gl-buffer: Invalid data type");if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(y|=0)<=0&&(y=1),this.gl.bufferData(this.type,0|y,this.usage),this.length=y}},f.exports=function(y,d,v,g){if(v=v||y.ARRAY_BUFFER,g=g||y.DYNAMIC_DRAW,v!==y.ARRAY_BUFFER&&v!==y.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(g!==y.DYNAMIC_DRAW&&g!==y.STATIC_DRAW&&g!==y.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=y.createBuffer(),m=new l(y,v,x,0,g);return m.update(d),m}},6405:function(f,s,n){var i=n(2931);f.exports=function(t,a){var l=t.positions,u=t.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(t.positions.length===0)return a&&(a[0]=[0,0,0],a[1]=[0,0,0]),h;for(var c=0,y=1/0,d=-1/0,v=1/0,g=-1/0,x=1/0,m=-1/0,_=null,p=null,S=[],T=1/0,E=!1,O=t.coneSizemode==="raw",P=0;P<l.length;P++){var I=l[P];y=Math.min(I[0],y),d=Math.max(I[0],d),v=Math.min(I[1],v),g=Math.max(I[1],g),x=Math.min(I[2],x),m=Math.max(I[2],m);var R=u[P];if(i.length(R)>c&&(c=i.length(R)),P&&!O){var H=2*i.distance(_,I)/(i.length(p)+i.length(R));H?(T=Math.min(T,H),E=!1):E=!0}E||(_=I,p=R),S.push(R)}var z=[y,v,x],j=[d,g,m];a&&(a[0]=z,a[1]=j),c===0&&(c=1);var Z=1/c;isFinite(T)||(T=1),h.vectorScale=T;var F=t.coneSize||(O?1:.5);t.absoluteConeSize&&(F=t.absoluteConeSize*Z),h.coneScale=F,P=0;for(var V=0;P<l.length;P++)for(var W=(I=l[P])[0],re=I[1],ne=I[2],te=S[P],Q=i.length(te)*Z,$=0;$<8;$++){h.positions.push([W,re,ne,V++]),h.positions.push([W,re,ne,V++]),h.positions.push([W,re,ne,V++]),h.positions.push([W,re,ne,V++]),h.positions.push([W,re,ne,V++]),h.positions.push([W,re,ne,V++]),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vertexIntensity.push(Q,Q,Q),h.vertexIntensity.push(Q,Q,Q);var K=h.positions.length;h.cells.push([K-6,K-5,K-4],[K-3,K-2,K-1])}return h};var r=n(614);f.exports.createMesh=n(9060),f.exports.createConeMesh=function(t,a){return f.exports.createMesh(t,a,{shaders:r,traceType:"cone"})}},9060:function(f,s,n){var i=n(9405),r=n(2762),t=n(8116),a=n(7766),l=n(6760),u=n(7608),h=n(9618),c=n(6729),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(g,x,m,_,p,S,T,E,O,P,I){this.gl=g,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=m,this.pickShader=_,this.trianglePositions=p,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=O,this.triangleIds=T,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=y,this._view=y,this._projection=y,this._resolution=[1,1]}var v=d.prototype;v.isOpaque=function(){return this.opacity>=1},v.isTransparent=function(){return this.opacity<1},v.pickSlots=1,v.setPickBase=function(g){this.pickId=g},v.update=function(g){g=g||{};var x=this.gl;this.dirty=!0,"lightPosition"in g&&(this.lightPosition=g.lightPosition),"opacity"in g&&(this.opacity=g.opacity),"ambient"in g&&(this.ambientLight=g.ambient),"diffuse"in g&&(this.diffuseLight=g.diffuse),"specular"in g&&(this.specularLight=g.specular),"roughness"in g&&(this.roughness=g.roughness),"fresnel"in g&&(this.fresnel=g.fresnel),g.tubeScale!==void 0&&(this.tubeScale=g.tubeScale),g.vectorScale!==void 0&&(this.vectorScale=g.vectorScale),g.coneScale!==void 0&&(this.coneScale=g.coneScale),g.coneOffset!==void 0&&(this.coneOffset=g.coneOffset),g.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(ae){for(var ue=c({colormap:ae,nshades:256,format:"rgba"}),se=new Uint8Array(1024),he=0;he<256;++he){for(var pe=ue[he],de=0;de<3;++de)se[4*he+de]=pe[de];se[4*he+3]=255*pe[3]}return h(se,[256,256,4],[4,0,1])}(g.colormap)),this.texture.generateMipmap());var m=g.cells,_=g.positions,p=g.vectors;if(_&&m&&p){var S=[],T=[],E=[],O=[],P=[];this.cells=m,this.positions=_,this.vectors=p;var I=g.meshColor||[1,1,1,1],R=g.vertexIntensity,H=1/0,z=-1/0;if(R)if(g.vertexIntensityBounds)H=+g.vertexIntensityBounds[0],z=+g.vertexIntensityBounds[1];else for(var j=0;j<R.length;++j){var Z=R[j];H=Math.min(H,Z),z=Math.max(z,Z)}else for(j=0;j<_.length;++j)Z=_[j][2],H=Math.min(H,Z),z=Math.max(z,Z);for(this.intensity=R||function(ae){for(var ue=ae.length,se=new Array(ue),he=0;he<ue;++he)se[he]=ae[he][2];return se}(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],j=0;j<_.length;++j)for(var F=_[j],V=0;V<3;++V)!isNaN(F[V])&&isFinite(F[V])&&(this.bounds[0][V]=Math.min(this.bounds[0][V],F[V]),this.bounds[1][V]=Math.max(this.bounds[1][V],F[V]));var W=0;e:for(j=0;j<m.length;++j){var re=m[j];if(re.length===3){for(V=0;V<3;++V){F=_[te=re[V]];for(var ne=0;ne<3;++ne)if(isNaN(F[ne])||!isFinite(F[ne]))continue e}for(V=0;V<3;++V){var te;F=_[te=re[2-V]],S.push(F[0],F[1],F[2],F[3]);var Q=p[te];T.push(Q[0],Q[1],Q[2],Q[3]||0);var $,K=I;K.length===3?E.push(K[0],K[1],K[2],1):E.push(K[0],K[1],K[2],K[3]),$=R?[(R[te]-H)/(z-H),0]:[(F[2]-H)/(z-H),0],O.push($[0],$[1]),P.push(j)}W+=1}}this.triangleCount=W,this.trianglePositions.update(S),this.triangleVectors.update(T),this.triangleColors.update(E),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(P))}},v.drawTransparent=v.draw=function(g){g=g||{};for(var x=this.gl,m=g.model||y,_=g.view||y,p=g.projection||y,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);var E={model:m,view:_,projection:p,inverseModel:y.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),x.disable(x.CULL_FACE),this.texture.bind(0);var O=new Array(16);for(l(O,E.view,E.model),l(O,E.projection,O),u(O,O),T=0;T<3;++T)E.eyePosition[T]=O[12+T]/O[15];var P=O[15];for(T=0;T<3;++T)P+=this.lightPosition[T]*O[4*T+3];for(T=0;T<3;++T){for(var I=O[12+T],R=0;R<3;++R)I+=O[4*R+T]*this.lightPosition[R];E.lightPosition[T]=I/P}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=E,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},v.drawPick=function(g){g=g||{};for(var x=this.gl,m=g.model||y,_=g.view||y,p=g.projection||y,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);this._model=[].slice.call(m),this._view=[].slice.call(_),this._projection=[].slice.call(p),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var E={model:m,view:_,projection:p,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},v.pick=function(g){if(!g||g.id!==this.pickId)return null;var x=g.value[0]+256*g.value[1]+65536*g.value[2],m=this.cells[x],_=this.positions[m[1]].slice(0,3),p={position:_,dataCoordinate:_,index:Math.floor(m[1]/48)};return this.traceType==="cone"?p.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(p.intensity=this.intensity[m[1]],p.velocity=this.vectors[m[1]].slice(0,3),p.divergence=this.vectors[m[1]][3],p.index=x),p},v.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},f.exports=function(g,x,m){var _=m.shaders;arguments.length===1&&(g=(x=g).gl);var p=function(z,j){var Z=i(z,j.meshShader.vertex,j.meshShader.fragment,null,j.meshShader.attributes);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.vector.location=4,Z}(g,_),S=function(z,j){var Z=i(z,j.pickShader.vertex,j.pickShader.fragment,null,j.pickShader.attributes);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.vector.location=4,Z}(g,_),T=a(g,h(new Uint8Array([255,255,255,255]),[1,1,4]));T.generateMipmap(),T.minFilter=g.LINEAR_MIPMAP_LINEAR,T.magFilter=g.LINEAR;var E=r(g),O=r(g),P=r(g),I=r(g),R=r(g),H=new d(g,T,p,S,E,O,R,P,I,t(g,[{buffer:E,type:g.FLOAT,size:4},{buffer:R,type:g.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:g.FLOAT,size:4},{buffer:I,type:g.FLOAT,size:2},{buffer:O,type:g.FLOAT,size:4}]),m.traceType||"cone");return H.update(x),H}},614:function(f,s,n){var i=n(3236),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),t=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:t,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(f){f.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(f,s,n){var i=n(737);f.exports=function(r){return i[r]}},9165:function(f,s,n){f.exports=function(d){var v=d.gl,g=i(v),x=r(v,[{buffer:g,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:g,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:g,type:v.FLOAT,size:3,offset:28,stride:40}]),m=t(v);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var _=new l(v,g,x,m);return _.update(d),_};var i=n(2762),r=n(8116),t=n(3436),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(d,v,g,x){this.gl=d,this.shader=x,this.buffer=v,this.vao=g,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function h(d,v){for(var g=0;g<3;++g)d[0][g]=Math.min(d[0][g],v[g]),d[1][g]=Math.max(d[1][g],v[g])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(d){var v=this.gl,g=this.shader.uniforms;this.shader.bind();var x=g.view=d.view||a,m=g.projection=d.projection||a;g.model=d.model||a,g.clipBounds=this.clipBounds,g.opacity=this.opacity;var _=x[12],p=x[13],S=x[14],T=x[15],E=(d._ortho?2:1)*this.pixelRatio*(m[3]*_+m[7]*p+m[11]*S+m[15]*T)/v.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)v.lineWidth(this.lineWidth[O]*this.pixelRatio),g.capSize=this.capSize[O]*E,this.lineCount[O]&&v.drawArrays(v.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};var c=function(){for(var d=new Array(3),v=0;v<3;++v){for(var g=[],x=1;x<=2;++x)for(var m=-1;m<=1;m+=2){var _=[0,0,0];_[(x+v)%3]=m,g.push(_)}d[v]=g}return d}();function y(d,v,g,x){for(var m=c[x],_=0;_<m.length;++_){var p=m[_];d.push(v[0],v[1],v[2],g[0],g[1],g[2],g[3],p[0],p[1],p[2])}return m.length}u.update=function(d){"lineWidth"in(d=d||{})&&(this.lineWidth=d.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in d&&(this.capSize=d.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in d&&(this.opacity=+d.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=d.color||[[0,0,0],[0,0,0],[0,0,0]],g=d.position,x=d.error;if(Array.isArray(v[0])||(v=[v,v,v]),g&&x){var m=[],_=g.length,p=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=p;e:for(var T=0;T<_;++T){for(var E=g[T],O=0;O<3;++O)if(isNaN(E[O])||!isFinite(E[O]))continue e;var P,I=x[T],R=v[S];Array.isArray(R[0])&&(R=v[T]),R.length===3?R=[R[0],R[1],R[2],1]:R.length===4&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),!isNaN(I[0][S])&&!isNaN(I[1][S])&&(I[0][S]<0&&((P=E.slice())[S]+=I[0][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,P[0],P[1],P[2],R[0],R[1],R[2],R[3],0,0,0),h(this.bounds,P),p+=2+y(m,P,R,S)),I[1][S]>0&&((P=E.slice())[S]+=I[1][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,P[0],P[1],P[2],R[0],R[1],R[2],R[3],0,0,0),h(this.bounds,P),p+=2+y(m,P,R,S)))}this.lineCount[S]=p-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(f,s,n){var i=n(3236),r=n(9405),t=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);f.exports=function(l){return r(l,t,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(f,s,n){var i=n(7766);f.exports=function(_,p,S,T){r||(r=_.FRAMEBUFFER_UNSUPPORTED,t=_.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=_.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=_.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=_.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(j,Z){var F=j.getParameter(Z.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var V=0;V<=F;++V){for(var W=new Array(F),re=0;re<V;++re)W[re]=j.COLOR_ATTACHMENT0+re;for(re=V;re<F;++re)W[re]=j.NONE;u[V]=W}}(_,E),Array.isArray(p)&&(T=S,S=0|p[1],p=0|p[0]),typeof p!="number")throw new Error("gl-fbo: Missing shape parameter");var O=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(p<0||p>O||S<0||S>O)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(T=T||{})){if((P=Math.max(0|T.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>_.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var I=_.UNSIGNED_BYTE,R=_.getExtension("OES_texture_float");if(T.float&&P>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");I=_.FLOAT}else T.preferFloat&&P>0&&R&&(I=_.FLOAT);var H=!0;"depth"in T&&(H=!!T.depth);var z=!1;return"stencil"in T&&(z=!!T.stencil),new g(_,p,S,I,P,H,z,E)};var r,t,a,l,u=null;function h(_){return[_.getParameter(_.FRAMEBUFFER_BINDING),_.getParameter(_.RENDERBUFFER_BINDING),_.getParameter(_.TEXTURE_BINDING_2D)]}function c(_,p){_.bindFramebuffer(_.FRAMEBUFFER,p[0]),_.bindRenderbuffer(_.RENDERBUFFER,p[1]),_.bindTexture(_.TEXTURE_2D,p[2])}function y(_){switch(_){case r:throw new Error("gl-fbo: Framebuffer unsupported");case t:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function d(_,p,S,T,E,O){if(!T)return null;var P=i(_,p,S,E,T);return P.magFilter=_.NEAREST,P.minFilter=_.NEAREST,P.mipSamples=1,P.bind(),_.framebufferTexture2D(_.FRAMEBUFFER,O,_.TEXTURE_2D,P.handle,0),P}function v(_,p,S,T,E){var O=_.createRenderbuffer();return _.bindRenderbuffer(_.RENDERBUFFER,O),_.renderbufferStorage(_.RENDERBUFFER,T,p,S),_.framebufferRenderbuffer(_.FRAMEBUFFER,E,_.RENDERBUFFER,O),O}function g(_,p,S,T,E,O,P,I){this.gl=_,this._shape=[0|p,0|S],this._destroyed=!1,this._ext=I,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=O,this._useStencil=P;var H=this,z=[0|p,0|S];Object.defineProperties(z,{0:{get:function(){return H._shape[0]},set:function(j){return H.width=j}},1:{get:function(){return H._shape[1]},set:function(j){return H.height=j}}}),this._shapeVector=z,function(j){var Z=h(j.gl),F=j.gl,V=j.handle=F.createFramebuffer(),W=j._shape[0],re=j._shape[1],ne=j.color.length,te=j._ext,Q=j._useStencil,$=j._useDepth,K=j._colorType;F.bindFramebuffer(F.FRAMEBUFFER,V);for(var ae=0;ae<ne;++ae)j.color[ae]=d(F,W,re,K,F.RGBA,F.COLOR_ATTACHMENT0+ae);ne===0?(j._color_rb=v(F,W,re,F.RGBA4,F.COLOR_ATTACHMENT0),te&&te.drawBuffersWEBGL(u[0])):ne>1&&te.drawBuffersWEBGL(u[ne]);var ue=F.getExtension("WEBGL_depth_texture");ue?Q?j.depth=d(F,W,re,ue.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):$&&(j.depth=d(F,W,re,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):$&&Q?j._depth_rb=v(F,W,re,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):$?j._depth_rb=v(F,W,re,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):Q&&(j._depth_rb=v(F,W,re,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var se=F.checkFramebufferStatus(F.FRAMEBUFFER);if(se!==F.FRAMEBUFFER_COMPLETE){for(j._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(j.handle),j.handle=null,j.depth&&(j.depth.dispose(),j.depth=null),j._depth_rb&&(F.deleteRenderbuffer(j._depth_rb),j._depth_rb=null),ae=0;ae<j.color.length;++ae)j.color[ae].dispose(),j.color[ae]=null;j._color_rb&&(F.deleteRenderbuffer(j._color_rb),j._color_rb=null),c(F,Z),y(se)}c(F,Z)}(this)}var x=g.prototype;function m(_,p,S){if(_._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(_._shape[0]!==p||_._shape[1]!==S){var T=_.gl,E=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(p<0||p>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");_._shape[0]=p,_._shape[1]=S;for(var O=h(T),P=0;P<_.color.length;++P)_.color[P].shape=_._shape;_._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,_._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,_._shape[0],_._shape[1])),_.depth&&(_.depth.shape=_._shape),_._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,_._depth_rb),_._useDepth&&_._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,_._shape[0],_._shape[1]):_._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,_._shape[0],_._shape[1]):_._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,_._shape[0],_._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,_.handle);var I=T.checkFramebufferStatus(T.FRAMEBUFFER);I!==T.FRAMEBUFFER_COMPLETE&&(_.dispose(),c(T,O),y(I)),c(T,O)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(_){if(Array.isArray(_)||(_=[0|_,0|_]),_.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var p=0|_[0],S=0|_[1];return m(this,p,S),[p,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(_){return m(this,_|=0,this._shape[1]),_},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(_){return _|=0,m(this,this._shape[0],_),_},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this.handle),_.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var _=this.gl;_.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(_.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var p=0;p<this.color.length;++p)this.color[p].dispose(),this.color[p]=null;this._color_rb&&(_.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(f,s,n){var i=n(3387).sprintf,r=n(5171),t=n(1848),a=n(1085);f.exports=function(l,u,h){var c=t(u)||"of unknown name (see npm glsl-shader-name)",y="unknown type";h!==void 0&&(y=h===r.FRAGMENT_SHADER?"fragment":"vertex");for(var d=i(`Error compiling %s shader %s:
`,y,c),v=i("%s%s",d,l),g=l.split(`
`),x={},m=0;m<g.length;m++){var _=g[m];if(_!==""&&_!=="\0"){var p=parseInt(_.split(":")[2]);if(isNaN(p))throw new Error(i("Could not parse error: %s",_));x[p]=_}}var S=a(u).split(`
`);for(m=0;m<S.length;m++)if((x[m+3]||x[m+2]||x[m+1])&&(d+=S[m]+`
`,x[m+1])){var T=x[m+1];T=T.substr(T.split(":",3).join(":").length+1).trim(),d+=i(`^^^ %s

`,T)}return{long:d.trim(),short:v.trim()}}},2510:function(f,s,n){f.exports=function(v,g){var x=v.gl,m=new h(v,a(x,u.vertex,u.fragment),a(x,u.pickVertex,u.pickFragment),l(x),l(x),l(x),l(x));return m.update(g),v.addObject(m),m};var i=n(2478),r=n(7762),t=n(1888),a=n(9405),l=n(2762),u=n(6768);function h(v,g,x,m,_,p,S){this.plot=v,this.shader=g,this.pickShader=x,this.positionBuffer=m,this.weightBuffer=_,this.colorBuffer=p,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,y=h.prototype,d=[0,0,1,0,0,1,1,0,1,1,0,1];y.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var v=this.plot,g=this.shader,x=this.bounds,m=this.numVertices;if(!(m<=0)){var _=v.gl,p=v.dataBox,S=x[2]-x[0],T=x[3]-x[1],E=p[2]-p[0],O=p[3]-p[1];c[0]=2*S/E,c[4]=2*T/O,c[6]=2*(x[0]-p[0])/E-1,c[7]=2*(x[1]-p[1])/O-1,g.bind();var P=g.uniforms;P.viewTransform=c,P.shape=this.shape;var I=g.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(_.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(_.UNSIGNED_BYTE,!0),_.drawArrays(_.TRIANGLES,0,m)}}),y.drawPick=function(){var v=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(x){var m=this.plot,_=this.pickShader,p=this.bounds,S=this.numVertices;if(!(S<=0)){var T=m.gl,E=m.dataBox,O=p[2]-p[0],P=p[3]-p[1],I=E[2]-E[0],R=E[3]-E[1];v[0]=2*O/I,v[4]=2*P/R,v[6]=2*(p[0]-E[0])/I-1,v[7]=2*(p[1]-E[1])/R-1;for(var H=0;H<4;++H)g[H]=x>>8*H&255;this.pickOffset=x,_.bind();var z=_.uniforms;z.viewTransform=v,z.pickOffset=g,z.shape=this.shape;var j=_.attributes;return this.positionBuffer.bind(),j.position.pointer(),this.weightBuffer.bind(),j.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),j.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),x+this.shape[0]*this.shape[1]}}}(),y.pick=function(v,g,x){var m=this.pickOffset,_=this.shape[0]*this.shape[1];if(x<m||x>=m+_)return null;var p=x-m,S=this.xData,T=this.yData;return{object:this,pointId:p,dataCoord:[S[p%this.shape[0]],T[p/this.shape[0]|0]]}},y.update=function(v){var g=(v=v||{}).shape||[0,0],x=v.x||r(g[0]),m=v.y||r(g[1]),_=v.z||new Float32Array(g[0]*g[1]),p=v.zsmooth!==!1;this.xData=x,this.yData=m;var S,T,E,O,P=v.colorLevels||[0],I=v.colorValues||[0,0,0,1],R=P.length,H=this.bounds;p?(S=H[0]=x[0],T=H[1]=m[0],E=H[2]=x[x.length-1],O=H[3]=m[m.length-1]):(S=H[0]=x[0]+(x[1]-x[0])/2,T=H[1]=m[0]+(m[1]-m[0])/2,E=H[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,O=H[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var z=1/(E-S),j=1/(O-T),Z=g[0],F=g[1];this.shape=[Z,F];var V=(p?(Z-1)*(F-1):Z*F)*(d.length>>>1);this.numVertices=V;for(var W=t.mallocUint8(4*V),re=t.mallocFloat32(2*V),ne=t.mallocUint8(2*V),te=t.mallocUint32(V),Q=0,$=p?Z-1:Z,K=p?F-1:F,ae=0;ae<K;++ae){var ue,se;p?(ue=j*(m[ae]-T),se=j*(m[ae+1]-T)):(ue=ae<F-1?j*(m[ae]-(m[ae+1]-m[ae])/2-T):j*(m[ae]-(m[ae]-m[ae-1])/2-T),se=ae<F-1?j*(m[ae]+(m[ae+1]-m[ae])/2-T):j*(m[ae]+(m[ae]-m[ae-1])/2-T));for(var he=0;he<$;++he){var pe,de;p?(pe=z*(x[he]-S),de=z*(x[he+1]-S)):(pe=he<Z-1?z*(x[he]-(x[he+1]-x[he])/2-S):z*(x[he]-(x[he]-x[he-1])/2-S),de=he<Z-1?z*(x[he]+(x[he+1]-x[he])/2-S):z*(x[he]+(x[he]-x[he-1])/2-S));for(var xe=0;xe<d.length;xe+=2){var _e,be,Le,De,ye=d[xe],le=d[xe+1],oe=_[p?(ae+le)*Z+(he+ye):ae*Z+he],ve=i.le(P,oe);if(ve<0)_e=I[0],be=I[1],Le=I[2],De=I[3];else if(ve===R-1)_e=I[4*R-4],be=I[4*R-3],Le=I[4*R-2],De=I[4*R-1];else{var Ce=(oe-P[ve])/(P[ve+1]-P[ve]),ke=1-Ce,Ae=4*ve,Ee=4*(ve+1);_e=ke*I[Ae]+Ce*I[Ee],be=ke*I[Ae+1]+Ce*I[Ee+1],Le=ke*I[Ae+2]+Ce*I[Ee+2],De=ke*I[Ae+3]+Ce*I[Ee+3]}W[4*Q]=255*_e,W[4*Q+1]=255*be,W[4*Q+2]=255*Le,W[4*Q+3]=255*De,re[2*Q]=.5*pe+.5*de,re[2*Q+1]=.5*ue+.5*se,ne[2*Q]=ye,ne[2*Q+1]=le,te[Q]=ae*Z+he,Q+=1}}}this.positionBuffer.update(re),this.weightBuffer.update(ne),this.colorBuffer.update(W),this.idBuffer.update(te),t.free(re),t.free(W),t.free(ne),t.free(te)},y.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(f,s,n){var i=n(3236);f.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(f,s,n){var i=n(3236),r=n(9405),t=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return r(h,t,a,null,u)},s.createPickShader=function(h){return r(h,t,l,null,u)}},5714:function(f,s,n){f.exports=function(S){var T=S.gl||S.scene&&S.scene.gl,E=y(T);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var O=d(T);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var P=i(T),I=r(T,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),R=h(new Array(1024),[256,1,4]),H=0;H<1024;++H)R.data[H]=255;var z=t(T,R);z.wrap=T.REPEAT;var j=new _(T,E,O,P,I,z);return j.update(S),j};var i=n(2762),r=n(8116),t=n(7766),a=new Uint8Array(4),l=new Float32Array(a.buffer),u=n(2478),h=n(9618),c=n(7319),y=c.createShader,d=c.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(S,T){for(var E=0,O=0;O<3;++O){var P=S[O]-T[O];E+=P*P}return Math.sqrt(E)}function x(S){for(var T=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)T[0][E]=Math.max(S[0][E],T[0][E]),T[1][E]=Math.min(S[1][E],T[1][E]);return T}function m(S,T,E,O){this.arcLength=S,this.position=T,this.index=E,this.dataCoordinate=O}function _(S,T,E,O,P,I){this.gl=S,this.shader=T,this.pickShader=E,this.buffer=O,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=I,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var p=_.prototype;p.isTransparent=function(){return this.hasAlpha},p.isOpaque=function(){return!this.hasAlpha},p.pickSlots=1,p.setPickBase=function(S){this.pickId=S},p.drawTransparent=p.draw=function(S){if(this.vertexCount){var T=this.gl,E=this.shader,O=this.vao;E.bind(),E.uniforms={model:S.model||v,view:S.view||v,projection:S.projection||v,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(T.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},p.drawPick=function(S){if(this.vertexCount){var T=this.gl,E=this.pickShader,O=this.vao;E.bind(),E.uniforms={model:S.model||v,view:S.view||v,projection:S.projection||v,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(T.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},p.update=function(S){var T,E;this.dirty=!0;var O=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],I=[],R=[],H=0,z=0,j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Z=S.position||S.positions;if(Z){var F=S.color||S.colors||[0,0,0,1],V=S.lineWidth||1,W=!1;e:for(T=1;T<Z.length;++T){var re,ne,te,Q=Z[T-1],$=Z[T];for(I.push(H),R.push(Q.slice()),E=0;E<3;++E){if(isNaN(Q[E])||isNaN($[E])||!isFinite(Q[E])||!isFinite($[E])){if(!O&&P.length>0){for(var K=0;K<24;++K)P.push(P[P.length-12]);z+=2,W=!0}continue e}j[0][E]=Math.min(j[0][E],Q[E],$[E]),j[1][E]=Math.max(j[1][E],Q[E],$[E])}Array.isArray(F[0])?(re=F.length>T-1?F[T-1]:F.length>0?F[F.length-1]:[0,0,0,1],ne=F.length>T?F[T]:F.length>0?F[F.length-1]:[0,0,0,1]):re=ne=F,re.length===3&&(re=[re[0],re[1],re[2],1]),ne.length===3&&(ne=[ne[0],ne[1],ne[2],1]),!this.hasAlpha&&re[3]<1&&(this.hasAlpha=!0),te=Array.isArray(V)?V.length>T-1?V[T-1]:V.length>0?V[V.length-1]:[0,0,0,1]:V;var ae=H;if(H+=g(Q,$),W){for(E=0;E<2;++E)P.push(Q[0],Q[1],Q[2],$[0],$[1],$[2],ae,te,re[0],re[1],re[2],re[3]);z+=2,W=!1}P.push(Q[0],Q[1],Q[2],$[0],$[1],$[2],ae,te,re[0],re[1],re[2],re[3],Q[0],Q[1],Q[2],$[0],$[1],$[2],ae,-te,re[0],re[1],re[2],re[3],$[0],$[1],$[2],Q[0],Q[1],Q[2],H,-te,ne[0],ne[1],ne[2],ne[3],$[0],$[1],$[2],Q[0],Q[1],Q[2],H,te,ne[0],ne[1],ne[2],ne[3]),z+=4}}if(this.buffer.update(P),I.push(H),R.push(Z[Z.length-1].slice()),this.bounds=j,this.vertexCount=z,this.points=R,this.arcLength=I,"dashes"in S){var ue=S.dashes.slice();for(ue.unshift(0),T=1;T<ue.length;++T)ue[T]=ue[T-1]+ue[T];var se=h(new Array(1024),[256,1,4]);for(T=0;T<256;++T){for(E=0;E<4;++E)se.set(T,0,E,0);1&u.le(ue,ue[ue.length-1]*T/255)?se.set(T,0,0,0):se.set(T,0,0,255)}this.texture.setPixels(se)}},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},p.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=function(Z,F,V,W){return a[0]=0,a[1]=V,a[2]=F,a[3]=Z,l[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,T);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var O=this.points[E],P=this.points[Math.min(E+1,this.points.length-1)],I=(T-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-I,H=[0,0,0],z=0;z<3;++z)H[z]=R*O[z]+I*P[z];var j=Math.min(I<.5?E:E+1,this.points.length-1);return new m(T,H,j,this.points[j])}},1903:function(f){f.exports=function(s){var n=new Float32Array(16);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],n}},6864:function(f){f.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9921:function(f){f.exports=function(s){var n=s[0],i=s[1],r=s[2],t=s[3],a=s[4],l=s[5],u=s[6],h=s[7],c=s[8],y=s[9],d=s[10],v=s[11],g=s[12],x=s[13],m=s[14],_=s[15];return(n*l-i*a)*(d*_-v*m)-(n*u-r*a)*(y*_-v*x)+(n*h-t*a)*(y*m-d*x)+(i*u-r*l)*(c*_-v*g)-(i*h-t*l)*(c*m-d*g)+(r*h-t*u)*(c*x-y*g)}},7399:function(f){f.exports=function(s,n){var i=n[0],r=n[1],t=n[2],a=n[3],l=i+i,u=r+r,h=t+t,c=i*l,y=r*l,d=r*u,v=t*l,g=t*u,x=t*h,m=a*l,_=a*u,p=a*h;return s[0]=1-d-x,s[1]=y+p,s[2]=v-_,s[3]=0,s[4]=y-p,s[5]=1-c-x,s[6]=g+m,s[7]=0,s[8]=v+_,s[9]=g-m,s[10]=1-c-d,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},6743:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=n[3],u=r+r,h=t+t,c=a+a,y=r*u,d=r*h,v=r*c,g=t*h,x=t*c,m=a*c,_=l*u,p=l*h,S=l*c;return s[0]=1-(g+m),s[1]=d+S,s[2]=v-p,s[3]=0,s[4]=d-S,s[5]=1-(y+m),s[6]=x+_,s[7]=0,s[8]=v+p,s[9]=x-_,s[10]=1-(y+g),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},7894:function(f){f.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7608:function(f){f.exports=function(s,n){var i=n[0],r=n[1],t=n[2],a=n[3],l=n[4],u=n[5],h=n[6],c=n[7],y=n[8],d=n[9],v=n[10],g=n[11],x=n[12],m=n[13],_=n[14],p=n[15],S=i*u-r*l,T=i*h-t*l,E=i*c-a*l,O=r*h-t*u,P=r*c-a*u,I=t*c-a*h,R=y*m-d*x,H=y*_-v*x,z=y*p-g*x,j=d*_-v*m,Z=d*p-g*m,F=v*p-g*_,V=S*F-T*Z+E*j+O*z-P*H+I*R;return V?(V=1/V,s[0]=(u*F-h*Z+c*j)*V,s[1]=(t*Z-r*F-a*j)*V,s[2]=(m*I-_*P+p*O)*V,s[3]=(v*P-d*I-g*O)*V,s[4]=(h*z-l*F-c*H)*V,s[5]=(i*F-t*z+a*H)*V,s[6]=(_*E-x*I-p*T)*V,s[7]=(y*I-v*E+g*T)*V,s[8]=(l*Z-u*z+c*R)*V,s[9]=(r*z-i*Z-a*R)*V,s[10]=(x*P-m*E+p*S)*V,s[11]=(d*E-y*P-g*S)*V,s[12]=(u*H-l*j-h*R)*V,s[13]=(i*j-r*H+t*R)*V,s[14]=(m*T-x*O-_*S)*V,s[15]=(y*O-d*T+v*S)*V,s):null}},6582:function(f,s,n){var i=n(7894);f.exports=function(r,t,a,l){var u,h,c,y,d,v,g,x,m,_,p=t[0],S=t[1],T=t[2],E=l[0],O=l[1],P=l[2],I=a[0],R=a[1],H=a[2];return Math.abs(p-I)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(T-H)<1e-6?i(r):(g=p-I,x=S-R,m=T-H,u=O*(m*=_=1/Math.sqrt(g*g+x*x+m*m))-P*(x*=_),h=P*(g*=_)-E*m,c=E*x-O*g,(_=Math.sqrt(u*u+h*h+c*c))?(u*=_=1/_,h*=_,c*=_):(u=0,h=0,c=0),y=x*c-m*h,d=m*u-g*c,v=g*h-x*u,(_=Math.sqrt(y*y+d*d+v*v))?(y*=_=1/_,d*=_,v*=_):(y=0,d=0,v=0),r[0]=u,r[1]=y,r[2]=g,r[3]=0,r[4]=h,r[5]=d,r[6]=x,r[7]=0,r[8]=c,r[9]=v,r[10]=m,r[11]=0,r[12]=-(u*p+h*S+c*T),r[13]=-(y*p+d*S+v*T),r[14]=-(g*p+x*S+m*T),r[15]=1,r)}},6760:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=n[3],u=n[4],h=n[5],c=n[6],y=n[7],d=n[8],v=n[9],g=n[10],x=n[11],m=n[12],_=n[13],p=n[14],S=n[15],T=i[0],E=i[1],O=i[2],P=i[3];return s[0]=T*r+E*u+O*d+P*m,s[1]=T*t+E*h+O*v+P*_,s[2]=T*a+E*c+O*g+P*p,s[3]=T*l+E*y+O*x+P*S,T=i[4],E=i[5],O=i[6],P=i[7],s[4]=T*r+E*u+O*d+P*m,s[5]=T*t+E*h+O*v+P*_,s[6]=T*a+E*c+O*g+P*p,s[7]=T*l+E*y+O*x+P*S,T=i[8],E=i[9],O=i[10],P=i[11],s[8]=T*r+E*u+O*d+P*m,s[9]=T*t+E*h+O*v+P*_,s[10]=T*a+E*c+O*g+P*p,s[11]=T*l+E*y+O*x+P*S,T=i[12],E=i[13],O=i[14],P=i[15],s[12]=T*r+E*u+O*d+P*m,s[13]=T*t+E*h+O*v+P*_,s[14]=T*a+E*c+O*g+P*p,s[15]=T*l+E*y+O*x+P*S,s}},4040:function(f){f.exports=function(s,n,i,r,t,a,l){var u=1/(n-i),h=1/(r-t),c=1/(a-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(n+i)*u,s[13]=(t+r)*h,s[14]=(l+a)*c,s[15]=1,s}},4772:function(f){f.exports=function(s,n,i,r,t){var a=1/Math.tan(n/2),l=1/(r-t);return s[0]=a/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=a,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(t+r)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*t*r*l,s[15]=0,s}},6079:function(f){f.exports=function(s,n,i,r){var t,a,l,u,h,c,y,d,v,g,x,m,_,p,S,T,E,O,P,I,R,H,z,j,Z=r[0],F=r[1],V=r[2],W=Math.sqrt(Z*Z+F*F+V*V);return Math.abs(W)<1e-6?null:(Z*=W=1/W,F*=W,V*=W,t=Math.sin(i),l=1-(a=Math.cos(i)),u=n[0],h=n[1],c=n[2],y=n[3],d=n[4],v=n[5],g=n[6],x=n[7],m=n[8],_=n[9],p=n[10],S=n[11],T=Z*Z*l+a,E=F*Z*l+V*t,O=V*Z*l-F*t,P=Z*F*l-V*t,I=F*F*l+a,R=V*F*l+Z*t,H=Z*V*l+F*t,z=F*V*l-Z*t,j=V*V*l+a,s[0]=u*T+d*E+m*O,s[1]=h*T+v*E+_*O,s[2]=c*T+g*E+p*O,s[3]=y*T+x*E+S*O,s[4]=u*P+d*I+m*R,s[5]=h*P+v*I+_*R,s[6]=c*P+g*I+p*R,s[7]=y*P+x*I+S*R,s[8]=u*H+d*z+m*j,s[9]=h*H+v*z+_*j,s[10]=c*H+g*z+p*j,s[11]=y*H+x*z+S*j,n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s)}},5567:function(f){f.exports=function(s,n,i){var r=Math.sin(i),t=Math.cos(i),a=n[4],l=n[5],u=n[6],h=n[7],c=n[8],y=n[9],d=n[10],v=n[11];return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[4]=a*t+c*r,s[5]=l*t+y*r,s[6]=u*t+d*r,s[7]=h*t+v*r,s[8]=c*t-a*r,s[9]=y*t-l*r,s[10]=d*t-u*r,s[11]=v*t-h*r,s}},2408:function(f){f.exports=function(s,n,i){var r=Math.sin(i),t=Math.cos(i),a=n[0],l=n[1],u=n[2],h=n[3],c=n[8],y=n[9],d=n[10],v=n[11];return n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=a*t-c*r,s[1]=l*t-y*r,s[2]=u*t-d*r,s[3]=h*t-v*r,s[8]=a*r+c*t,s[9]=l*r+y*t,s[10]=u*r+d*t,s[11]=h*r+v*t,s}},7089:function(f){f.exports=function(s,n,i){var r=Math.sin(i),t=Math.cos(i),a=n[0],l=n[1],u=n[2],h=n[3],c=n[4],y=n[5],d=n[6],v=n[7];return n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=a*t+c*r,s[1]=l*t+y*r,s[2]=u*t+d*r,s[3]=h*t+v*r,s[4]=c*t-a*r,s[5]=y*t-l*r,s[6]=d*t-u*r,s[7]=v*t-h*r,s}},2504:function(f){f.exports=function(s,n,i){var r=i[0],t=i[1],a=i[2];return s[0]=n[0]*r,s[1]=n[1]*r,s[2]=n[2]*r,s[3]=n[3]*r,s[4]=n[4]*t,s[5]=n[5]*t,s[6]=n[6]*t,s[7]=n[7]*t,s[8]=n[8]*a,s[9]=n[9]*a,s[10]=n[10]*a,s[11]=n[11]*a,s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15],s}},7656:function(f){f.exports=function(s,n,i){var r,t,a,l,u,h,c,y,d,v,g,x,m=i[0],_=i[1],p=i[2];return n===s?(s[12]=n[0]*m+n[4]*_+n[8]*p+n[12],s[13]=n[1]*m+n[5]*_+n[9]*p+n[13],s[14]=n[2]*m+n[6]*_+n[10]*p+n[14],s[15]=n[3]*m+n[7]*_+n[11]*p+n[15]):(r=n[0],t=n[1],a=n[2],l=n[3],u=n[4],h=n[5],c=n[6],y=n[7],d=n[8],v=n[9],g=n[10],x=n[11],s[0]=r,s[1]=t,s[2]=a,s[3]=l,s[4]=u,s[5]=h,s[6]=c,s[7]=y,s[8]=d,s[9]=v,s[10]=g,s[11]=x,s[12]=r*m+u*_+d*p+n[12],s[13]=t*m+h*_+v*p+n[13],s[14]=a*m+c*_+g*p+n[14],s[15]=l*m+y*_+x*p+n[15]),s}},5665:function(f){f.exports=function(s,n){if(s===n){var i=n[1],r=n[2],t=n[3],a=n[6],l=n[7],u=n[11];s[1]=n[4],s[2]=n[8],s[3]=n[12],s[4]=i,s[6]=n[9],s[7]=n[13],s[8]=r,s[9]=a,s[11]=n[14],s[12]=t,s[13]=l,s[14]=u}else s[0]=n[0],s[1]=n[4],s[2]=n[8],s[3]=n[12],s[4]=n[1],s[5]=n[5],s[6]=n[9],s[7]=n[13],s[8]=n[2],s[9]=n[6],s[10]=n[10],s[11]=n[14],s[12]=n[3],s[13]=n[7],s[14]=n[11],s[15]=n[15];return s}},7626:function(f,s,n){var i=n(2642),r=n(9346);function t(u,h){for(var c=[0,0,0,0],y=0;y<4;++y)for(var d=0;d<4;++d)c[d]+=u[4*y+d]*h[y];return c}function a(u,h,c,y,d){for(var v=t(y,t(c,t(h,[u[0],u[1],u[2],1]))),g=0;g<3;++g)v[g]/=v[3];return[.5*d[0]*(1+v[0]),.5*d[1]*(1-v[1])]}function l(u,h){for(var c=[0,0,0],y=0;y<u.length;++y)for(var d=u[y],v=h[y],g=0;g<3;++g)c[g]+=v*d[g];return c}f.exports=function(u,h,c,y,d,v){if(u.length===1)return[0,u[0].slice()];for(var g=new Array(u.length),x=0;x<u.length;++x)g[x]=a(u[x],c,y,d,v);var m=0,_=1/0;for(x=0;x<g.length;++x){for(var p=0,S=0;S<2;++S)p+=Math.pow(g[x][S]-h[S],2);p<_&&(_=p,m=x)}var T=function(O,P){if(O.length===2){for(var I=0,R=0,H=0;H<2;++H)I+=Math.pow(P[H]-O[0][H],2),R+=Math.pow(P[H]-O[1][H],2);return(I=Math.sqrt(I))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(I+R),I/(R+I)]}if(O.length===3){var z=[0,0];return r(O[0],O[1],O[2],P,z),i(O,z)}return[]}(g,h),E=0;for(x=0;x<3;++x){if(T[x]<-.001||T[x]>1.0001)return null;E+=T[x]}return Math.abs(E-1)>.001?null:[m,l(u,T),T]}},840:function(f,s,n){var i=n(3236),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),t=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),y=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),d=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),v=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),g=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:r,fragment:t,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:d,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:v,fragment:g,attributes:[{name:"position",type:"vec3"}]}},7201:function(f,s,n){var i=n(9405),r=n(2762),t=n(8116),a=n(7766),l=n(8406),u=n(6760),h=n(7608),c=n(9618),y=n(6729),d=n(7765),v=n(1888),g=n(840),x=n(7626),m=g.meshShader,_=g.wireShader,p=g.pointShader,S=g.pickShader,T=g.pointPickShader,E=g.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(F,V,W,re,ne,te,Q,$,K,ae,ue,se,he,pe,de,xe,_e,be,Le,De,ye,le,oe,ve,Ce,ke,Ae){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=V,this.dirty=!0,this.triShader=W,this.lineShader=re,this.pointShader=ne,this.pickShader=te,this.pointPickShader=Q,this.contourShader=$,this.trianglePositions=K,this.triangleColors=ue,this.triangleNormals=he,this.triangleUVs=se,this.triangleIds=ae,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=de,this.edgeColors=_e,this.edgeUVs=be,this.edgeIds=xe,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=De,this.pointColors=le,this.pointUVs=oe,this.pointSizes=ve,this.pointIds=ye,this.pointVAO=Ce,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ke,this.contourVAO=Ae,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var I=P.prototype;function R(F,V){if(!V||!V.length)return 1;for(var W=0;W<V.length;++W){if(V.length<2)return 1;if(V[W][0]===F)return V[W][1];if(V[W][0]>F&&W>0){var re=(V[W][0]-F)/(V[W][0]-V[W-1][0]);return V[W][1]*(1-re)+re*V[W-1][1]}}return 1}function H(F){var V=i(F,p.vertex,p.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.pointSize.location=4,V}function z(F){var V=i(F,S.vertex,S.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V}function j(F){var V=i(F,T.vertex,T.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V.attributes.pointSize.location=4,V}function Z(F){var V=i(F,E.vertex,E.fragment);return V.attributes.position.location=0,V}I.isOpaque=function(){return!this.hasAlpha},I.isTransparent=function(){return this.hasAlpha},I.pickSlots=1,I.setPickBase=function(F){this.pickId=F},I.highlight=function(F){if(F&&this.contourEnable){for(var V=d(this.cells,this.intensity,F.intensity),W=V.cells,re=V.vertexIds,ne=V.vertexWeights,te=W.length,Q=v.mallocFloat32(6*te),$=0,K=0;K<te;++K)for(var ae=W[K],ue=0;ue<2;++ue){var se=ae[0];ae.length===2&&(se=ae[ue]);for(var he=re[se][0],pe=re[se][1],de=ne[se],xe=1-de,_e=this.positions[he],be=this.positions[pe],Le=0;Le<3;++Le)Q[$++]=de*_e[Le]+xe*be[Le]}this.contourCount=$/3|0,this.contourPositions.update(Q.subarray(0,$)),v.free(Q)}else this.contourCount=0},I.update=function(F){F=F||{};var V=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=a(V,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=V.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=V.LINEAR,this.texture.setPixels(function(Rt,Ft){for(var Pt=y({colormap:Rt,nshades:256,format:"rgba"}),Ze=new Uint8Array(1024),$e=0;$e<256;++$e){for(var He=Pt[$e],Je=0;Je<3;++Je)Ze[4*$e+Je]=He[Je];Ze[4*$e+3]=Ft?255*R($e/255,Ft):255*He[3]}return c(Ze,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var W=F.cells,re=F.positions;if(re&&W){var ne=[],te=[],Q=[],$=[],K=[],ae=[],ue=[],se=[],he=[],pe=[],de=[],xe=[],_e=[],be=[];this.cells=W,this.positions=re;var Le=F.vertexNormals,De=F.cellNormals,ye=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,le=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!De&&(De=l.faceNormals(W,re,le)),De||Le||(Le=l.vertexNormals(W,re,ye));var oe=F.vertexColors,ve=F.cellColors,Ce=F.meshColor||[1,1,1,1],ke=F.vertexUVs,Ae=F.vertexIntensity,Ee=F.cellUVs,ze=F.cellIntensity,Fe=1/0,ge=-1/0;if(!ke&&!Ee)if(Ae)if(F.vertexIntensityBounds)Fe=+F.vertexIntensityBounds[0],ge=+F.vertexIntensityBounds[1];else for(var Te=0;Te<Ae.length;++Te){var Se=Ae[Te];Fe=Math.min(Fe,Se),ge=Math.max(ge,Se)}else if(ze)if(F.cellIntensityBounds)Fe=+F.cellIntensityBounds[0],ge=+F.cellIntensityBounds[1];else for(Te=0;Te<ze.length;++Te)Se=ze[Te],Fe=Math.min(Fe,Se),ge=Math.max(ge,Se);else for(Te=0;Te<re.length;++Te)Se=re[Te][2],Fe=Math.min(Fe,Se),ge=Math.max(ge,Se);this.intensity=Ae||ze||function(Rt){for(var Ft=Rt.length,Pt=new Array(Ft),Ze=0;Ze<Ft;++Ze)Pt[Ze]=Rt[Ze][2];return Pt}(re),this.pickVertex=!(ze||ve);var Re=F.pointSizes,Pe=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=0;Te<re.length;++Te)for(var Ve=re[Te],We=0;We<3;++We)!isNaN(Ve[We])&&isFinite(Ve[We])&&(this.bounds[0][We]=Math.min(this.bounds[0][We],Ve[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ve[We]));var Qe=0,lt=0,ut=0;e:for(Te=0;Te<W.length;++Te){var xt=W[Te];switch(xt.length){case 1:for(Ve=re[mt=xt[0]],We=0;We<3;++We)if(isNaN(Ve[We])||!isFinite(Ve[We]))continue e;pe.push(Ve[0],Ve[1],Ve[2]),it=oe?oe[mt]:ve?ve[Te]:Ce,this.opacityscale&&Ae?te.push(it[0],it[1],it[2],this.opacity*R((Ae[mt]-Fe)/(ge-Fe),this.opacityscale)):it.length===3?de.push(it[0],it[1],it[2],this.opacity):(de.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),nt=ke?ke[mt]:Ae?[(Ae[mt]-Fe)/(ge-Fe),0]:Ee?Ee[Te]:ze?[(ze[Te]-Fe)/(ge-Fe),0]:[(Ve[2]-Fe)/(ge-Fe),0],xe.push(nt[0],nt[1]),Re?_e.push(Re[mt]):_e.push(Pe),be.push(Te),ut+=1;break;case 2:for(We=0;We<2;++We){Ve=re[mt=xt[We]];for(var _t=0;_t<3;++_t)if(isNaN(Ve[_t])||!isFinite(Ve[_t]))continue e}for(We=0;We<2;++We)Ve=re[mt=xt[We]],ae.push(Ve[0],Ve[1],Ve[2]),it=oe?oe[mt]:ve?ve[Te]:Ce,this.opacityscale&&Ae?te.push(it[0],it[1],it[2],this.opacity*R((Ae[mt]-Fe)/(ge-Fe),this.opacityscale)):it.length===3?ue.push(it[0],it[1],it[2],this.opacity):(ue.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),nt=ke?ke[mt]:Ae?[(Ae[mt]-Fe)/(ge-Fe),0]:Ee?Ee[Te]:ze?[(ze[Te]-Fe)/(ge-Fe),0]:[(Ve[2]-Fe)/(ge-Fe),0],se.push(nt[0],nt[1]),he.push(Te);lt+=1;break;case 3:for(We=0;We<3;++We)for(Ve=re[mt=xt[We]],_t=0;_t<3;++_t)if(isNaN(Ve[_t])||!isFinite(Ve[_t]))continue e;for(We=0;We<3;++We){var mt,it,nt,Et;Ve=re[mt=xt[2-We]],ne.push(Ve[0],Ve[1],Ve[2]),(it=oe?oe[mt]:ve?ve[Te]:Ce)?this.opacityscale&&Ae?te.push(it[0],it[1],it[2],this.opacity*R((Ae[mt]-Fe)/(ge-Fe),this.opacityscale)):it.length===3?te.push(it[0],it[1],it[2],this.opacity):(te.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)):te.push(.5,.5,.5,1),nt=ke?ke[mt]:Ae?[(Ae[mt]-Fe)/(ge-Fe),0]:Ee?Ee[Te]:ze?[(ze[Te]-Fe)/(ge-Fe),0]:[(Ve[2]-Fe)/(ge-Fe),0],$.push(nt[0],nt[1]),Et=Le?Le[mt]:De[Te],Q.push(Et[0],Et[1],Et[2]),K.push(Te)}Qe+=1}}this.pointCount=ut,this.edgeCount=lt,this.triangleCount=Qe,this.pointPositions.update(pe),this.pointColors.update(de),this.pointUVs.update(xe),this.pointSizes.update(_e),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ae),this.edgeColors.update(ue),this.edgeUVs.update(se),this.edgeIds.update(new Uint32Array(he)),this.trianglePositions.update(ne),this.triangleColors.update(te),this.triangleUVs.update($),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(K))}},I.drawTransparent=I.draw=function(F){F=F||{};for(var V=this.gl,W=F.model||O,re=F.view||O,ne=F.projection||O,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)te[0][Q]=Math.max(te[0][Q],this.clipBounds[0][Q]),te[1][Q]=Math.min(te[1][Q],this.clipBounds[1][Q]);var $={model:W,view:re,projection:ne,inverseModel:O.slice(),clipBounds:te,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=h($.inverseModel,$.model),V.disable(V.CULL_FACE),this.texture.bind(0);var K=new Array(16);for(u(K,$.view,$.model),u(K,$.projection,K),h(K,K),Q=0;Q<3;++Q)$.eyePosition[Q]=K[12+Q]/K[15];var ae,ue=K[15];for(Q=0;Q<3;++Q)ue+=this.lightPosition[Q]*K[4*Q+3];for(Q=0;Q<3;++Q){for(var se=K[12+Q],he=0;he<3;++he)se+=K[4*he+Q]*this.lightPosition[he];$.lightPosition[Q]=se/ue}this.triangleCount>0&&((ae=this.triShader).bind(),ae.uniforms=$,this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ae=this.lineShader).bind(),ae.uniforms=$,this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ae=this.pointShader).bind(),ae.uniforms=$,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ae=this.contourShader).bind(),ae.uniforms=$,this.contourVAO.bind(),V.drawArrays(V.LINES,0,this.contourCount),this.contourVAO.unbind())},I.drawPick=function(F){F=F||{};for(var V=this.gl,W=F.model||O,re=F.view||O,ne=F.projection||O,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)te[0][Q]=Math.max(te[0][Q],this.clipBounds[0][Q]),te[1][Q]=Math.min(te[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(W),this._view=[].slice.call(re),this._projection=[].slice.call(ne),this._resolution=[V.drawingBufferWidth,V.drawingBufferHeight];var $,K={model:W,view:re,projection:ne,clipBounds:te,pickId:this.pickId/255};($=this.pickShader).bind(),$.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&(($=this.pointPickShader).bind(),$.uniforms=K,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind())},I.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var V=F.value[0]+256*F.value[1]+65536*F.value[2],W=this.cells[V],re=this.positions,ne=new Array(W.length),te=0;te<W.length;++te)ne[te]=re[W[te]];var Q=F.coord[0],$=F.coord[1];if(!this.pickVertex){var K=this.positions[W[0]],ae=this.positions[W[1]],ue=this.positions[W[2]],se=[(K[0]+ae[0]+ue[0])/3,(K[1]+ae[1]+ue[1])/3,(K[2]+ae[2]+ue[2])/3];return{_cellCenter:!0,position:[Q,$],index:V,cell:W,cellId:V,intensity:this.intensity[V],dataCoordinate:se}}var he=x(ne,[Q*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!he)return null;var pe=he[2],de=0;for(te=0;te<W.length;++te)de+=pe[te]*this.intensity[W[te]];return{position:he[1],index:W[he[0]],cell:W,cellId:V,intensity:de,dataCoordinate:this.positions[W[he[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},f.exports=function(F,V){if(arguments.length===1&&(F=(V=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var W=function(ze){var Fe=i(ze,m.vertex,m.fragment);return Fe.attributes.position.location=0,Fe.attributes.color.location=2,Fe.attributes.uv.location=3,Fe.attributes.normal.location=4,Fe}(F),re=function(ze){var Fe=i(ze,_.vertex,_.fragment);return Fe.attributes.position.location=0,Fe.attributes.color.location=2,Fe.attributes.uv.location=3,Fe}(F),ne=H(F),te=z(F),Q=j(F),$=Z(F),K=a(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));K.generateMipmap(),K.minFilter=F.LINEAR_MIPMAP_LINEAR,K.magFilter=F.LINEAR;var ae=r(F),ue=r(F),se=r(F),he=r(F),pe=r(F),de=t(F,[{buffer:ae,type:F.FLOAT,size:3},{buffer:pe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:F.FLOAT,size:4},{buffer:se,type:F.FLOAT,size:2},{buffer:he,type:F.FLOAT,size:3}]),xe=r(F),_e=r(F),be=r(F),Le=r(F),De=t(F,[{buffer:xe,type:F.FLOAT,size:3},{buffer:Le,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_e,type:F.FLOAT,size:4},{buffer:be,type:F.FLOAT,size:2}]),ye=r(F),le=r(F),oe=r(F),ve=r(F),Ce=r(F),ke=t(F,[{buffer:ye,type:F.FLOAT,size:3},{buffer:Ce,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:le,type:F.FLOAT,size:4},{buffer:oe,type:F.FLOAT,size:2},{buffer:ve,type:F.FLOAT,size:1}]),Ae=r(F),Ee=new P(F,K,W,re,ne,te,Q,$,ae,pe,ue,se,he,de,xe,Le,_e,be,De,ye,Ce,le,oe,ve,ke,Ae,t(F,[{buffer:Ae,type:F.FLOAT,size:3}]));return Ee.update(V),Ee}},8120:function(f,s,n){f.exports=function(c){var y=c.gl;return new a(c,i(y,[0,0,0,1,1,0,1,1]),r(y,t.boxVert,t.lineFrag))};var i=n(2762),r=n(9405),t=n(3603);function a(c,y,d){this.plot=c,this.vbo=y,this.shader=d}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawBox=(l=[0,0],u=[0,0],function(c,y,d,v,g){var x=this.plot,m=this.shader,_=x.gl;l[0]=c,l[1]=y,u[0]=d,u[1]=v,m.uniforms.lo=l,m.uniforms.hi=u,m.uniforms.color=g,_.drawArrays(_.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(f,s,n){f.exports=function(x){var m=x.gl;return new l(x,i(m),r(m,a.gridVert,a.gridFrag),r(m,a.tickVert,a.gridFrag))};var i=n(2762),r=n(9405),t=n(2478),a=n(3603);function l(x,m,_,p){this.plot=x,this.vbo=m,this.shader=_,this.tickShader=p,this.ticks=[[],[]]}function u(x,m){return x-m}var h,c,y,d,v,g=l.prototype;g.draw=(h=[0,0],c=[0,0],y=[0,0],function(){for(var x=this.plot,m=this.vbo,_=this.shader,p=this.ticks,S=x.gl,T=x._tickBounds,E=x.dataBox,O=x.viewBox,P=x.gridLineWidth,I=x.gridLineColor,R=x.gridLineEnable,H=x.pixelRatio,z=0;z<2;++z){var j=T[z],Z=T[z+2]-j,F=.5*(E[z+2]+E[z]),V=E[z+2]-E[z];c[z]=2*Z/V,h[z]=2*(j-F)/V}_.bind(),m.bind(),_.attributes.dataCoord.pointer(),_.uniforms.dataShift=h,_.uniforms.dataScale=c;var W=0;for(z=0;z<2;++z){y[0]=y[1]=0,y[z]=1,_.uniforms.dataAxis=y,_.uniforms.lineWidth=P[z]/(O[z+2]-O[z])*H,_.uniforms.color=I[z];var re=6*p[z].length;R[z]&&re&&S.drawArrays(S.TRIANGLES,W,re),W+=re}}),g.drawTickMarks=function(){var x=[0,0],m=[0,0],_=[1,0],p=[0,1],S=[0,0],T=[0,0];return function(){for(var E=this.plot,O=this.vbo,P=this.tickShader,I=this.ticks,R=E.gl,H=E._tickBounds,z=E.dataBox,j=E.viewBox,Z=E.pixelRatio,F=E.screenBox,V=F[2]-F[0],W=F[3]-F[1],re=j[2]-j[0],ne=j[3]-j[1],te=0;te<2;++te){var Q=H[te],$=H[te+2]-Q,K=.5*(z[te+2]+z[te]),ae=z[te+2]-z[te];m[te]=2*$/ae,x[te]=2*(Q-K)/ae}m[0]*=re/V,x[0]*=re/V,m[1]*=ne/W,x[1]*=ne/W,P.bind(),O.bind(),P.attributes.dataCoord.pointer();var ue=P.uniforms;ue.dataShift=x,ue.dataScale=m;var se=E.tickMarkLength,he=E.tickMarkWidth,pe=E.tickMarkColor,de=6*I[0].length,xe=Math.min(t.ge(I[0],(z[0]-H[0])/(H[2]-H[0]),u),I[0].length),_e=Math.min(t.gt(I[0],(z[2]-H[0])/(H[2]-H[0]),u),I[0].length),be=0+6*xe,Le=6*Math.max(0,_e-xe),De=Math.min(t.ge(I[1],(z[1]-H[1])/(H[3]-H[1]),u),I[1].length),ye=Math.min(t.gt(I[1],(z[3]-H[1])/(H[3]-H[1]),u),I[1].length),le=de+6*De,oe=6*Math.max(0,ye-De);S[0]=2*(j[0]-se[1])/V-1,S[1]=(j[3]+j[1])/W-1,T[0]=se[1]*Z/V,T[1]=he[1]*Z/W,oe&&(ue.color=pe[1],ue.tickScale=T,ue.dataAxis=p,ue.screenOffset=S,R.drawArrays(R.TRIANGLES,le,oe)),S[0]=(j[2]+j[0])/V-1,S[1]=2*(j[1]-se[0])/W-1,T[0]=he[0]*Z/V,T[1]=se[0]*Z/W,Le&&(ue.color=pe[0],ue.tickScale=T,ue.dataAxis=_,ue.screenOffset=S,R.drawArrays(R.TRIANGLES,be,Le)),S[0]=2*(j[2]+se[3])/V-1,S[1]=(j[3]+j[1])/W-1,T[0]=se[3]*Z/V,T[1]=he[3]*Z/W,oe&&(ue.color=pe[3],ue.tickScale=T,ue.dataAxis=p,ue.screenOffset=S,R.drawArrays(R.TRIANGLES,le,oe)),S[0]=(j[2]+j[0])/V-1,S[1]=2*(j[3]+se[2])/W-1,T[0]=he[2]*Z/V,T[1]=se[2]*Z/W,Le&&(ue.color=pe[2],ue.tickScale=T,ue.dataAxis=_,ue.screenOffset=S,R.drawArrays(R.TRIANGLES,be,Le))}}(),g.update=(d=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1],function(x){for(var m=x.ticks,_=x.bounds,p=new Float32Array(18*(m[0].length+m[1].length)),S=(this.plot.zeroLineEnable,0),T=[[],[]],E=0;E<2;++E)for(var O=T[E],P=m[E],I=_[E],R=_[E+2],H=0;H<P.length;++H){var z=(P[H].x-I)/(R-I);O.push(z);for(var j=0;j<6;++j)p[S++]=z,p[S++]=d[j],p[S++]=v[j]}this.ticks=T,this.vbo.update(p)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(f,s,n){f.exports=function(c){var y=c.gl;return new a(c,i(y,[-1,-1,-1,1,1,-1,1,1]),r(y,t.lineVert,t.lineFrag))};var i=n(2762),r=n(9405),t=n(3603);function a(c,y,d){this.plot=c,this.vbo=y,this.shader=d}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawLine=(l=[0,0],u=[0,0],function(c,y,d,v,g,x){var m=this.plot,_=this.shader,p=m.gl;l[0]=c,l[1]=y,u[0]=d,u[1]=v,_.uniforms.start=l,_.uniforms.end=u,_.uniforms.width=g*m.pixelRatio,_.uniforms.color=x,p.drawArrays(p.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(f,s,n){var i=n(3236),r=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);f.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:r,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:r,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:r,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(f,s,n){f.exports=function(m){var _=m.gl;return new u(m,i(_),r(_,l.textVert,l.textFrag))};var i=n(2762),r=n(9405),t=n(529),a=n(2478),l=n(3603);function u(m,_,p){this.plot=m,this.vbo=_,this.shader=p,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,c,y,d,v,g,x=u.prototype;x.drawTicks=(h=[0,0],c=[0,0],y=[0,0],function(m){var _=this.plot,p=this.shader,S=this.tickX[m],T=this.tickOffset[m],E=_.gl,O=_.viewBox,P=_.dataBox,I=_.screenBox,R=_.pixelRatio,H=_.tickEnable,z=_.tickPad,j=_.tickColor,Z=_.tickAngle,F=_.labelEnable,V=_.labelPad,W=_.labelColor,re=_.labelAngle,ne=this.labelOffset[m],te=this.labelCount[m],Q=a.lt(S,P[m]),$=a.le(S,P[m+2]);h[0]=h[1]=0,h[m]=1,c[m]=(O[2+m]+O[m])/(I[2+m]-I[m])-1;var K=2/I[2+(1^m)]-I[1^m];c[1^m]=K*O[1^m]-1,H[m]&&(c[1^m]-=K*R*z[m],Q<$&&T[$]>T[Q]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=c,p.uniforms.color=j[m],p.uniforms.angle=Z[m],E.drawArrays(E.TRIANGLES,T[Q],T[$]-T[Q]))),F[m]&&te&&(c[1^m]-=K*R*V[m],p.uniforms.dataAxis=y,p.uniforms.screenOffset=c,p.uniforms.color=W[m],p.uniforms.angle=re[m],E.drawArrays(E.TRIANGLES,ne,te)),c[1^m]=K*O[2+(1^m)]-1,H[m+2]&&(c[1^m]+=K*R*z[m+2],Q<$&&T[$]>T[Q]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=c,p.uniforms.color=j[m+2],p.uniforms.angle=Z[m+2],E.drawArrays(E.TRIANGLES,T[Q],T[$]-T[Q]))),F[m+2]&&te&&(c[1^m]+=K*R*V[m+2],p.uniforms.dataAxis=y,p.uniforms.screenOffset=c,p.uniforms.color=W[m+2],p.uniforms.angle=re[m+2],E.drawArrays(E.TRIANGLES,ne,te))}),x.drawTitle=function(){var m=[0,0],_=[0,0];return function(){var p=this.plot,S=this.shader,T=p.gl,E=p.screenBox,O=p.titleCenter,P=p.titleAngle,I=p.titleColor,R=p.pixelRatio;if(this.titleCount){for(var H=0;H<2;++H)_[H]=2*(O[H]*R-E[H])/(E[2+H]-E[H])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=_,S.uniforms.angle=P,S.uniforms.color=I,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}}(),x.bind=(d=[0,0],v=[0,0],g=[0,0],function(){var m=this.plot,_=this.shader,p=m._tickBounds,S=m.dataBox,T=m.screenBox,E=m.viewBox;_.bind();for(var O=0;O<2;++O){var P=p[O],I=p[O+2]-P,R=.5*(S[O+2]+S[O]),H=S[O+2]-S[O],z=E[O],j=E[O+2]-z,Z=T[O],F=T[O+2]-Z;v[O]=2*I/H*j/F,d[O]=2*(P-R)/H*j/F}g[1]=2*m.pixelRatio/(T[3]-T[1]),g[0]=g[1]*(T[3]-T[1])/(T[2]-T[0]),_.uniforms.dataScale=v,_.uniforms.dataShift=d,_.uniforms.textScale=g,this.vbo.bind(),_.attributes.textCoordinate.pointer()}),x.update=function(m){var _,p,S,T,E,O=[],P=m.ticks,I=m.bounds;for(E=0;E<2;++E){var R=[Math.floor(O.length/3)],H=[-1/0],z=P[E];for(_=0;_<z.length;++_){var j=z[_],Z=j.x,F=j.text,V=j.font||"sans-serif",W=j.fontStyle||"normal",re=j.fontWeight||"normal",ne=j.fontVariant||"normal";T=j.fontSize||12;for(var te=1/(I[E+2]-I[E]),Q=I[E],$=F.split(`
`),K=0;K<$.length;K++)for(S=t(V,$[K],{fontStyle:W,fontWeight:re,fontVariant:ne}).data,p=0;p<S.length;p+=2)O.push(S[p]*T,-S[p+1]*T-K*T*1.2,(Z-Q)*te);R.push(Math.floor(O.length/3)),H.push(Z)}this.tickOffset[E]=R,this.tickX[E]=H}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(O.length/3),S=t(m.labelFont[E],m.labels[E],{fontStyle:m.labelFontStyle[E],fontWeight:m.labelFontWeight[E],fontVariant:m.labelFontVariant[E],textAlign:"center"}).data,T=m.labelSize[E],_=0;_<S.length;_+=2)O.push(S[_]*T,-S[_+1]*T,0);this.labelCount[E]=Math.floor(O.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(O.length/3),S=t(m.titleFont,m.title,{fontStyle:m.titleFontStyle,fontWeight:m.titleFontWeight,fontVariant:m.titleFontVariant}).data,T=m.titleSize,_=0;_<S.length;_+=2)O.push(S[_]*T,-S[_+1]*T,0);this.titleCount=Math.floor(O.length/3)-this.titleOffset,this.vbo.update(O)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(f,s,n){f.exports=function(d){var v=d.gl,g=new u(v,i(v,[v.drawingBufferWidth,v.drawingBufferHeight]));return g.grid=r(g),g.text=t(g),g.line=a(g),g.box=l(g),g.update(d),g};var i=n(3589),r=n(1913),t=n(2142),a=n(4747),l=n(8120);function u(d,v){this.gl=d,this.pickBuffer=v,this.screenBox=[0,0,d.drawingBufferWidth,d.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=u.prototype;function c(d){for(var v=d.slice(),g=0;g<v.length;++g)v[g]=v[g].slice();return v}function y(d,v){return d.x-v.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var d=this.gl,v=this.screenBox,g=this.viewBox,x=this.dataBox,m=this.pixelRatio,_=this.grid,p=this.line,S=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,d.bindFramebuffer(d.FRAMEBUFFER,null),d.enable(d.SCISSOR_TEST),d.disable(d.DEPTH_TEST),d.depthFunc(d.LESS),d.depthMask(!1),d.enable(d.BLEND),d.blendEquation(d.FUNC_ADD,d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),this.borderColor){d.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]);var E=this.borderColor;d.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT)}d.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),d.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]);var O=this.backgroundColor;d.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),d.clear(d.COLOR_BUFFER_BIT),_.draw();var P=this.zeroLineEnable,I=this.zeroLineColor,R=this.zeroLineWidth;if(P[0]||P[1]){p.bind();for(var H=0;H<2;++H)if(P[H]&&x[H]<=0&&x[H+2]>=0){var z=v[H]-x[H]*(v[H+2]-v[H])/(x[H+2]-x[H]);H===0?p.drawLine(z,v[1],z,v[3],R[H],I[H]):p.drawLine(v[0],z,v[2],z,R[H],I[H])}}for(H=0;H<T.length;++H)T[H].draw();d.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]),d.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),this.grid.drawTickMarks(),p.bind();var j=this.borderLineEnable,Z=this.borderLineWidth,F=this.borderLineColor;for(j[1]&&p.drawLine(g[0],g[1]-.5*Z[1]*m,g[0],g[3]+.5*Z[3]*m,Z[1],F[1]),j[0]&&p.drawLine(g[0]-.5*Z[0]*m,g[1],g[2]+.5*Z[2]*m,g[1],Z[0],F[0]),j[3]&&p.drawLine(g[2],g[1]-.5*Z[1]*m,g[2],g[3]+.5*Z[3]*m,Z[3],F[3]),j[2]&&p.drawLine(g[0]-.5*Z[0]*m,g[3],g[2]+.5*Z[2]*m,g[3],Z[2],F[2]),S.bind(),H=0;H<2;++H)S.drawTicks(H);this.titleEnable&&S.drawTitle();var V=this.overlays;for(H=0;H<V.length;++H)V[H].draw();d.disable(d.SCISSOR_TEST),d.disable(d.BLEND),d.depthMask(!0)}},h.drawPick=function(){if(!this.static){var d=this.pickBuffer;this.gl,this._pickTimeout=null,d.begin();for(var v=1,g=this.objects,x=0;x<g.length;++x)v=g[x].drawPick(v);d.end()}},h.pick=function(d,v){if(!this.static){var g=this.pixelRatio,x=this.pickPixelRatio,m=this.viewBox,_=0|Math.round((d-m[0]/g)*x),p=0|Math.round((v-m[1]/g)*x),S=this.pickBuffer.query(_,p,this.pickRadius);if(!S)return null;for(var T=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,O=0;O<E.length;++O){var P=E[O].pick(_,p,T);if(P)return P}return null}},h.setScreenBox=function(d){var v=this.screenBox,g=this.pixelRatio;v[0]=0|Math.round(d[0]*g),v[1]=0|Math.round(d[1]*g),v[2]=0|Math.round(d[2]*g),v[3]=0|Math.round(d[3]*g),this.setDirty()},h.setDataBox=function(d){var v=this.dataBox;(v[0]!==d[0]||v[1]!==d[1]||v[2]!==d[2]||v[3]!==d[3])&&(v[0]=d[0],v[1]=d[1],v[2]=d[2],v[3]=d[3],this.setDirty())},h.setViewBox=function(d){var v=this.pixelRatio,g=this.viewBox;g[0]=0|Math.round(d[0]*v),g[1]=0|Math.round(d[1]*v),g[2]=0|Math.round(d[2]*v),g[3]=0|Math.round(d[3]*v);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((d[2]-d[0])*x),0|Math.round((d[3]-d[1])*x)],this.setDirty()},h.update=function(d){d=d||{};var v=this.gl;this.pixelRatio=d.pixelRatio||1;var g=this.pixelRatio;this.pickPixelRatio=Math.max(g,1),this.setScreenBox(d.screenBox||[0,0,v.drawingBufferWidth/g,v.drawingBufferHeight/g]),this.screenBox,this.setViewBox(d.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/g,.125*(this.screenBox[3]-this.screenBox[1])/g,.875*(this.screenBox[2]-this.screenBox[0])/g,.875*(this.screenBox[3]-this.screenBox[1])/g]);var x=this.viewBox,m=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(d.dataBox||[-10,-10/m,10,10/m]),this.borderColor=d.borderColor!==!1&&(d.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(d.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(d.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(d.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(d.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(d.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(d.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(d.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(d.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(d.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(d.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(d.titleCenter||[.5*(x[0]+x[2])/g,(x[3]+120)/g]).slice(),this.titleEnable=!("titleEnable"in d)||!!d.titleEnable,this.titleAngle=d.titleAngle||0,this.titleColor=(d.titleColor||[0,0,0,1]).slice(),this.labelPad=(d.labelPad||[15,15,15,15]).slice(),this.labelAngle=(d.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(d.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(d.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(d.tickPad||[15,15,15,15]).slice(),this.tickAngle=(d.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(d.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(d.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(d.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(d.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(d.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var _=d.ticks||[[],[]],p=this._tickBounds;p[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(var S=0;S<2;++S){var T=_[S].slice(0);T.length!==0&&(T.sort(y),p[S]=Math.min(p[S],T[0].x),p[S+2]=Math.max(p[S+2],T[T.length-1].x))}this.grid.update({bounds:p,ticks:_}),this.text.update({bounds:p,ticks:_,labels:d.labels||["x","y"],labelSize:d.labelSize||[12,12],labelFont:d.labelFont||["sans-serif","sans-serif"],labelFontStyle:d.labelFontStyle||["normal","normal"],labelFontWeight:d.labelFontWeight||["normal","normal"],labelFontVariant:d.labelFontVariant||["normal","normal"],title:d.title||"",titleSize:d.titleSize||18,titleFont:d.titleFont||"sans-serif",titleFontStyle:d.titleFontStyle||"normal",titleFontWeight:d.titleFontWeight||"normal",titleFontVariant:d.titleFontVariant||"normal"}),this.static=!!d.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var d=this.objects.length-1;d>=0;--d)this.objects[d].dispose();for(this.objects.length=0,d=this.overlays.length-1;d>=0;--d)this.overlays[d].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(d){this.objects.indexOf(d)<0&&(this.objects.push(d),this.setDirty())},h.removeObject=function(d){for(var v=this.objects,g=0;g<v.length;++g)if(v[g]===d){v.splice(g,1),this.setDirty();break}},h.addOverlay=function(d){this.overlays.indexOf(d)<0&&(this.overlays.push(d),this.setOverlayDirty())},h.removeOverlay=function(d){for(var v=this.overlays,g=0;g<v.length;++g)if(v[g]===d){v.splice(g,1),this.setOverlayDirty();break}}},4437:function(f,s,n){f.exports=function(h,c){h=h||document.body;var y=[.01,1/0];"distanceLimits"in(c=c||{})&&(y[0]=c.distanceLimits[0],y[1]=c.distanceLimits[1]),"zoomMin"in c&&(y[0]=c.zoomMin),"zoomMax"in c&&(y[1]=c.zoomMax);var d=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:y}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0,x=h.clientWidth,m=h.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:d,element:h,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:d.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var p=i(),S=this.delay,T=p-2*S;d.idle(p-S),d.recalcMatrix(T),d.flush(p-(100+2*S));for(var E=!0,O=d.computedMatrix,P=0;P<16;++P)E=E&&v[P]===O[P],v[P]=O[P];var I=h.clientWidth===x&&h.clientHeight===m;return x=h.clientWidth,m=h.clientHeight,E?!I:(g=Math.exp(d.computedRadius[0]),!0)},lookAt:function(p,S,T){d.lookAt(d.lastT(),p,S,T)},rotate:function(p,S,T){d.rotate(d.lastT(),p,S,T)},pan:function(p,S,T){d.pan(d.lastT(),p,S,T)},translate:function(p,S,T){d.translate(d.lastT(),p,S,T)}};return Object.defineProperties(_,{matrix:{get:function(){return d.computedMatrix},set:function(p){return d.setMatrix(d.lastT(),p),d.computedMatrix},enumerable:!0},mode:{get:function(){return d.getMode()},set:function(p){var S=d.computedUp.slice(),T=d.computedEye.slice(),E=d.computedCenter.slice();if(d.setMode(p),p==="turntable"){var O=i();d._active.lookAt(O,T,E,S),d._active.lookAt(O+500,T,E,[0,0,1]),d._active.flush(O)}return d.getMode()},enumerable:!0},center:{get:function(){return d.computedCenter},set:function(p){return d.lookAt(d.lastT(),null,p),d.computedCenter},enumerable:!0},eye:{get:function(){return d.computedEye},set:function(p){return d.lookAt(d.lastT(),p),d.computedEye},enumerable:!0},up:{get:function(){return d.computedUp},set:function(p){return d.lookAt(d.lastT(),null,null,p),d.computedUp},enumerable:!0},distance:{get:function(){return g},set:function(p){return d.setDistance(d.lastT(),p),p},enumerable:!0},distanceLimits:{get:function(){return d.getDistanceLimits(y)},set:function(p){return d.setDistanceLimits(p),p},enumerable:!0}}),h.addEventListener("contextmenu",function(p){return p.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function p(S,T,E,O){var P=_.keyBindingMode;if(P!==!1){var I=P==="rotate",R=P==="pan",H=P==="zoom",z=!!O.control,j=!!O.alt,Z=!!O.shift,F=!!(1&S),V=!!(2&S),W=!!(4&S),re=1/h.clientHeight,ne=re*(T-_._lastX),te=re*(E-_._lastY),Q=_.flipX?1:-1,$=_.flipY?1:-1,K=Math.PI*_.rotateSpeed,ae=i();if(_._lastX!==-1&&_._lastY!==-1&&((I&&F&&!z&&!j&&!Z||F&&!z&&!j&&Z)&&d.rotate(ae,Q*K*ne,-$*K*te,0),(R&&F&&!z&&!j&&!Z||V||F&&z&&!j&&!Z)&&d.pan(ae,-_.translateSpeed*ne*g,_.translateSpeed*te*g,0),H&&F&&!z&&!j&&!Z||W||F&&!z&&j&&!Z)){var ue=-_.zoomSpeed*te/window.innerHeight*(ae-d.lastT())*100;d.pan(ae,0,0,g*(Math.exp(ue)-1))}return _._lastX=T,_._lastY=E,_._lastMods=O,!0}}_.mouseListener=t(h,p),h.addEventListener("touchstart",function(S){var T=l(S.changedTouches[0],h);p(0,T[0],T[1],_._lastMods),p(1,T[0],T[1],_._lastMods)},!!u&&{passive:!0}),h.addEventListener("touchmove",function(S){var T=l(S.changedTouches[0],h);p(1,T[0],T[1],_._lastMods),S.preventDefault()},!!u&&{passive:!1}),h.addEventListener("touchend",function(S){p(0,_._lastX,_._lastY,_._lastMods)},!!u&&{passive:!0}),_.wheelListener=a(h,function(S,T){if(_.keyBindingMode!==!1&&_.enableWheel){var E=_.flipX?1:-1,O=_.flipY?1:-1,P=i();if(Math.abs(S)>Math.abs(T))d.rotate(P,0,0,-S*E*Math.PI*_.rotateSpeed/window.innerWidth);else if(!_._ortho){var I=-_.zoomSpeed*O*T/window.innerHeight*(P-d.lastT())/20;d.pan(P,0,0,g*(Math.exp(I)-1))}}},!0)},_.enableMouseListeners(),_};var i=n(3025),r=n(6296),t=n(351),a=n(8512),l=n(24),u=n(7520)},799:function(f,s,n){var i=n(3236),r=n(9405),t=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),a=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);f.exports=function(l){return r(l,t,a,null,[{name:"position",type:"vec2"}])}},4100:function(f,s,n){var i=n(4437),r=n(3837),t=n(5445),a=n(4449),l=n(3589),u=n(2260),h=n(7169),c=n(351),y=n(4772),d=n(4040),v=n(799),g=n(9216)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(p){var S=Math.round(Math.log(Math.abs(p))/Math.log(10));if(S<0){var T=Math.round(Math.pow(10,-S));return Math.ceil(p*T)/T}return S>0?(T=Math.round(Math.pow(10,S)),Math.ceil(p/T)*T):Math.ceil(p)}function _(p){return typeof p!="boolean"||p}f.exports={createScene:function(p){(p=p||{}).camera=p.camera||{};var S=p.canvas;S||(S=document.createElement("canvas"),p.container?p.container.appendChild(S):document.body.appendChild(S));var T=p.gl;if(T||(p.glOptions&&(g=!!p.glOptions.preserveDrawingBuffer),T=function(Le,De){var ye=null;try{(ye=Le.getContext("webgl",De))||(ye=Le.getContext("experimental-webgl",De))}catch{return null}return ye}(S,p.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:g})),!T)throw new Error("webgl not supported");var E=p.bounds||[[-10,-10,-10],[10,10,10]],O=new x,P=u(T,T.drawingBufferWidth,T.drawingBufferHeight,{preferFloat:!g}),I=v(T),R=p.cameraObject&&p.cameraObject._ortho===!0||p.camera.projection&&p.camera.projection.type==="orthographic"||!1,H={eye:p.camera.eye||[2,0,0],center:p.camera.center||[0,0,0],up:p.camera.up||[0,1,0],zoomMin:p.camera.zoomMax||.1,zoomMax:p.camera.zoomMin||100,mode:p.camera.mode||"turntable",_ortho:R},z=p.axes||{},j=r(T,z);j.enable=!z.disable;var Z=p.spikes||{},F=a(T,Z),V=[],W=[],re=[],ne=[],te=!0,Q=!0,$={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},K=(Q=!0,[T.drawingBufferWidth,T.drawingBufferHeight]),ae=p.cameraObject||i(S,H),ue={gl:T,contextLost:!1,pixelRatio:p.pixelRatio||1,canvas:S,selection:O,camera:ae,axes:j,axesPixels:null,spikes:F,bounds:E,objects:V,shape:K,aspect:p.aspectRatio||[1,1,1],pickRadius:p.pickRadius||10,zNear:p.zNear||.01,zFar:p.zFar||1e3,fovy:p.fovy||Math.PI/4,clearColor:p.clearColor||[0,0,0,0],autoResize:_(p.autoResize),autoBounds:_(p.autoBounds),autoScale:!!p.autoScale,autoCenter:_(p.autoCenter),clipToBounds:_(p.clipToBounds),snapToData:!!p.snapToData,onselect:p.onselect||null,onrender:p.onrender||null,onclick:p.onclick||null,cameraParams:$,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Le){this.aspect[0]=Le.x,this.aspect[1]=Le.y,this.aspect[2]=Le.z,Q=!0},setBounds:function(Le,De){this.bounds[0][Le]=De.min,this.bounds[1][Le]=De.max},setClearColor:function(Le){this.clearColor=Le},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},se=[T.drawingBufferWidth/ue.pixelRatio|0,T.drawingBufferHeight/ue.pixelRatio|0];function he(){if(!ue._stopped&&ue.autoResize){var Le=S.parentNode,De=1,ye=1;Le&&Le!==document.body?(De=Le.clientWidth,ye=Le.clientHeight):(De=window.innerWidth,ye=window.innerHeight);var le=0|Math.ceil(De*ue.pixelRatio),oe=0|Math.ceil(ye*ue.pixelRatio);if(le!==S.width||oe!==S.height){S.width=le,S.height=oe;var ve=S.style;ve.position=ve.position||"absolute",ve.left="0px",ve.top="0px",ve.width=De+"px",ve.height=ye+"px",te=!0}}}function pe(){for(var Le=V.length,De=ne.length,ye=0;ye<De;++ye)re[ye]=0;e:for(ye=0;ye<Le;++ye){var le=V[ye],oe=le.pickSlots;if(oe){for(var ve=0;ve<De;++ve)if(re[ve]+oe<255){W[ye]=ve,le.setPickBase(re[ve]+1),re[ve]+=oe;continue e}var Ce=l(T,K);W[ye]=De,ne.push(Ce),re.push(oe),le.setPickBase(1),De+=1}else W[ye]=-1}for(;De>0&&re[De-1]===0;)re.pop(),ne.pop().dispose()}function de(){if(ue.contextLost)return!0;T.isContextLost()&&(ue.contextLost=!0,ue.mouseListener.enabled=!1,ue.selection.object=null,ue.oncontextloss&&ue.oncontextloss())}ue.autoResize&&he(),window.addEventListener("resize",he),ue.update=function(Le){ue._stopped||(te=!0,Q=!0)},ue.add=function(Le){ue._stopped||(Le.axes=j,V.push(Le),W.push(-1),te=!0,Q=!0,pe())},ue.remove=function(Le){if(!ue._stopped){var De=V.indexOf(Le);De<0||(V.splice(De,1),W.pop(),te=!0,Q=!0,pe())}},ue.dispose=function(){if(!ue._stopped&&(ue._stopped=!0,window.removeEventListener("resize",he),S.removeEventListener("webglcontextlost",de),ue.mouseListener.enabled=!1,!ue.contextLost)){j.dispose(),F.dispose();for(var Le=0;Le<V.length;++Le)V[Le].dispose();for(P.dispose(),Le=0;Le<ne.length;++Le)ne[Le].dispose();I.dispose(),T=null,j=null,F=null,V=[]}},ue._mouseRotating=!1,ue._prevButtons=0,ue.enableMouseListeners=function(){ue.mouseListener=c(S,function(Le,De,ye){if(!ue._stopped){var le=ne.length,oe=V.length,ve=O.object;O.distance=1/0,O.mouse[0]=De,O.mouse[1]=ye,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var Ce=!1;if(Le&&ue._prevButtons)ue._mouseRotating=!0;else{ue._mouseRotating&&(Q=!0),ue._mouseRotating=!1;for(var ke=0;ke<le;++ke){var Ae=ne[ke].query(De,se[1]-ye-1,ue.pickRadius);if(Ae){if(Ae.distance>O.distance)continue;for(var Ee=0;Ee<oe;++Ee){var ze=V[Ee];if(W[Ee]===ke){var Fe=ze.pick(Ae);Fe&&(O.buttons=Le,O.screen=Ae.coord,O.distance=Ae.distance,O.object=ze,O.index=Fe.distance,O.dataPosition=Fe.position,O.dataCoordinate=Fe.dataCoordinate,O.data=Fe,Ce=!0)}}}}}ve&&ve!==O.object&&(ve.highlight&&ve.highlight(null),te=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),te=!0),(Ce=Ce||O.object!==ve)&&ue.onselect&&ue.onselect(O),1&Le&&!(1&ue._prevButtons)&&ue.onclick&&ue.onclick(O),ue._prevButtons=Le}})},S.addEventListener("webglcontextlost",de);var xe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],_e=[xe[0].slice(),xe[1].slice()];function be(){if(!de()){he();var Le=ue.camera.tick();$.view=ue.camera.matrix,te=te||Le,Q=Q||Le,j.pixelRatio=ue.pixelRatio,F.pixelRatio=ue.pixelRatio;var De=V.length,ye=xe[0],le=xe[1];ye[0]=ye[1]=ye[2]=1/0,le[0]=le[1]=le[2]=-1/0;for(var oe=0;oe<De;++oe){(Pe=V[oe]).pixelRatio=ue.pixelRatio,Pe.axes=ue.axes,te=te||!!Pe.dirty,Q=Q||!!Pe.dirty;var ve=Pe.bounds;if(ve)for(var Ce=ve[0],ke=ve[1],Ae=0;Ae<3;++Ae)ye[Ae]=Math.min(ye[Ae],Ce[Ae]),le[Ae]=Math.max(le[Ae],ke[Ae])}var Ee=ue.bounds;if(ue.autoBounds)for(Ae=0;Ae<3;++Ae){if(le[Ae]<ye[Ae])ye[Ae]=-1,le[Ae]=1;else{ye[Ae]===le[Ae]&&(ye[Ae]-=1,le[Ae]+=1);var ze=.05*(le[Ae]-ye[Ae]);ye[Ae]=ye[Ae]-ze,le[Ae]=le[Ae]+ze}Ee[0][Ae]=ye[Ae],Ee[1][Ae]=le[Ae]}var Fe=!1;for(Ae=0;Ae<3;++Ae)Fe=Fe||_e[0][Ae]!==Ee[0][Ae]||_e[1][Ae]!==Ee[1][Ae],_e[0][Ae]=Ee[0][Ae],_e[1][Ae]=Ee[1][Ae];if(Q=Q||Fe,te=te||Fe){if(Fe){var ge=[0,0,0];for(oe=0;oe<3;++oe)ge[oe]=m((Ee[1][oe]-Ee[0][oe])/10);j.autoTicks?j.update({bounds:Ee,tickSpacing:ge}):j.update({bounds:Ee})}var Te=T.drawingBufferWidth,Se=T.drawingBufferHeight;for(K[0]=Te,K[1]=Se,se[0]=0|Math.max(Te/ue.pixelRatio,1),se[1]=0|Math.max(Se/ue.pixelRatio,1),function(Ve,We){var Qe=Ve.bounds,lt=Ve.cameraParams,ut=lt.projection,xt=lt.model,_t=Ve.gl.drawingBufferWidth,mt=Ve.gl.drawingBufferHeight,it=Ve.zNear,nt=Ve.zFar,Et=Ve.fovy,Rt=_t/mt;We?(d(ut,-Rt,Rt,-1,1,it,nt),lt._ortho=!0):(y(ut,Et,Rt,it,nt),lt._ortho=!1);for(var Ft=0;Ft<16;++Ft)xt[Ft]=0;xt[15]=1;var Pt=0;for(Ft=0;Ft<3;++Ft)Pt=Math.max(Pt,Qe[1][Ft]-Qe[0][Ft]);for(Ft=0;Ft<3;++Ft)Ve.autoScale?xt[5*Ft]=Ve.aspect[Ft]/(Qe[1][Ft]-Qe[0][Ft]):xt[5*Ft]=1/Pt,Ve.autoCenter&&(xt[12+Ft]=.5*-xt[5*Ft]*(Qe[0][Ft]+Qe[1][Ft]))}(ue,R),oe=0;oe<De;++oe)(Pe=V[oe]).axesBounds=Ee,ue.clipToBounds&&(Pe.clipBounds=Ee);O.object&&(ue.snapToData?F.position=O.dataCoordinate:F.position=O.dataPosition,F.bounds=Ee),Q&&(Q=!1,function(){if(!de()){T.colorMask(!0,!0,!0,!0),T.depthMask(!0),T.disable(T.BLEND),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL);for(var Ve=V.length,We=ne.length,Qe=0;Qe<We;++Qe){var lt=ne[Qe];lt.shape=se,lt.begin();for(var ut=0;ut<Ve;++ut)if(W[ut]===Qe){var xt=V[ut];xt.drawPick&&(xt.pixelRatio=1,xt.drawPick($))}lt.end()}}}()),ue.axesPixels=t(ue.axes,$,Te,Se),ue.onrender&&ue.onrender(),T.bindFramebuffer(T.FRAMEBUFFER,null),T.viewport(0,0,Te,Se),ue.clearRGBA(),T.depthMask(!0),T.colorMask(!0,!0,!0,!0),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.disable(T.BLEND),T.disable(T.CULL_FACE);var Re=!1;for(j.enable&&(Re=Re||j.isTransparent(),j.draw($)),F.axes=j,O.object&&F.draw($),T.disable(T.CULL_FACE),oe=0;oe<De;++oe)(Pe=V[oe]).axes=j,Pe.pixelRatio=ue.pixelRatio,Pe.isOpaque&&Pe.isOpaque()&&Pe.draw($),Pe.isTransparent&&Pe.isTransparent()&&(Re=!0);if(Re){for(P.shape=K,P.bind(),T.clear(T.DEPTH_BUFFER_BIT),T.colorMask(!1,!1,!1,!1),T.depthMask(!0),T.depthFunc(T.LESS),j.enable&&j.isTransparent()&&j.drawTransparent($),oe=0;oe<De;++oe)(Pe=V[oe]).isOpaque&&Pe.isOpaque()&&Pe.draw($);for(T.enable(T.BLEND),T.blendEquation(T.FUNC_ADD),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.colorMask(!0,!0,!0,!0),T.depthMask(!1),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent($),oe=0;oe<De;++oe){var Pe;(Pe=V[oe]).isTransparent&&Pe.isTransparent()&&Pe.drawTransparent($)}T.bindFramebuffer(T.FRAMEBUFFER,null),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.disable(T.DEPTH_TEST),I.bind(),P.color[0].bind(0),I.uniforms.accumBuffer=0,h(T),T.disable(T.BLEND)}for(te=!1,oe=0;oe<De;++oe)V[oe].dirty=!1}}}return ue.enableMouseListeners(),function Le(){ue._stopped||ue.contextLost||(be(),requestAnimationFrame(Le))}(),ue.redraw=function(){ue._stopped||(te=!0,be())},ue},createCamera:i}},6640:function(f,s,n){var i=n(3236);s.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(f,s,n){var i=n(9405),r=n(2762),t=n(1888),a=n(6640);function l(y,d,v,g,x){this.plot=y,this.offsetBuffer=d,this.pickBuffer=v,this.shader=g,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}f.exports=function(y,d){var v=y.gl,g=new l(y,r(v),r(v),i(v,a.pointVertex,a.pointFragment),i(v,a.pickVertex,a.pickFragment));return g.update(d),y.addObject(g),g};var u,h,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(y){var d;function v(T,E){return T in y?y[T]:E}y=y||{},this.sizeMin=v("sizeMin",.5),this.sizeMax=v("sizeMax",20),this.color=v("color",[1,0,0,1]).slice(),this.areaRatio=v("areaRatio",1),this.borderColor=v("borderColor",[0,0,0,1]).slice(),this.blend=v("blend",!1);var g=y.positions.length>>>1,x=y.positions instanceof Float32Array,m=y.idToIndex instanceof Int32Array&&y.idToIndex.length>=g,_=y.positions,p=x?_:t.mallocFloat32(_.length),S=m?y.idToIndex:t.mallocInt32(g);if(x||p.set(_),!m)for(p.set(_),d=0;d<g;d++)S[d]=d;this.points=_,this.offsetBuffer.update(p),this.pickBuffer.update(S),x||t.free(p),m||t.free(S),this.pointCount=g,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(y){var d=y!==void 0,v=d?this.pickShader:this.shader,g=this.plot.gl,x=this.plot.dataBox;if(this.pointCount===0)return y;var m=x[2]-x[0],_=x[3]-x[1],p=function(O,P){var I,R=0,H=O.length>>>1;for(I=0;I<H;I++){var z=O[2*I],j=O[2*I+1];z>=P[0]&&z<=P[2]&&j>=P[1]&&j<=P[3]&&R++}return R}(this.points,x),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));u[0]=2/m,u[4]=2/_,u[6]=-2*x[0]/m-1,u[7]=-2*x[1]/_-1,this.offsetBuffer.bind(),v.bind(),v.attributes.position.pointer(),v.uniforms.matrix=u,v.uniforms.color=this.color,v.uniforms.borderColor=this.borderColor,v.uniforms.pointCloud=S<5,v.uniforms.pointSize=S,v.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=255&y,h[1]=y>>8&255,h[2]=y>>16&255,h[3]=y>>24&255,this.pickBuffer.bind(),v.attributes.pickId.pointer(g.UNSIGNED_BYTE),v.uniforms.pickOffset=h,this.pickOffset=y);var T=g.getParameter(g.BLEND),E=g.getParameter(g.DITHER);return T&&!this.blend&&g.disable(g.BLEND),E&&g.disable(g.DITHER),g.drawArrays(g.POINTS,0,this.pointCount),T&&!this.blend&&g.enable(g.BLEND),E&&g.enable(g.DITHER),y+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(y,d,v){var g=this.pickOffset,x=this.pointCount;if(v<g||v>=g+x)return null;var m=v-g,_=this.points;return{object:this,pointId:m,dataCoord:[_[2*m],_[2*m+1]]}}},783:function(f){f.exports=function(s,n,i,r){var t,a,l,u,h,c=n[0],y=n[1],d=n[2],v=n[3],g=i[0],x=i[1],m=i[2],_=i[3];return(a=c*g+y*x+d*m+v*_)<0&&(a=-a,g=-g,x=-x,m=-m,_=-_),1-a>1e-6?(t=Math.acos(a),l=Math.sin(t),u=Math.sin((1-r)*t)/l,h=Math.sin(r*t)/l):(u=1-r,h=r),s[0]=u*c+h*g,s[1]=u*y+h*x,s[2]=u*d+h*m,s[3]=u*v+h*_,s}},5964:function(f){f.exports=function(s){return s||s===0?s.toString():""}},9366:function(f,s,n){var i=n(4359);f.exports=function(t,a,l){var u=[a.style,a.weight,a.variant,a.family].join("_"),h=r[u];if(h||(h=r[u]={}),t in h)return h[t];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:a.family,fontStyle:a.style,fontWeight:a.weight,fontVariant:a.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},y=i(t,c);c.triangles=!1;var d,v,g=i(t,c);if(l&&l!==1){for(d=0;d<y.positions.length;++d)for(v=0;v<y.positions[d].length;++v)y.positions[d][v]/=l;for(d=0;d<g.positions.length;++d)for(v=0;v<g.positions[d].length;++v)g.positions[d][v]/=l}var x=[[1/0,1/0],[-1/0,-1/0]],m=g.positions.length;for(d=0;d<m;++d){var _=g.positions[d];for(v=0;v<2;++v)x[0][v]=Math.min(x[0][v],_[v]),x[1][v]=Math.max(x[1][v],_[v])}return h[t]=[y,g,x]};var r={}},1283:function(f,s,n){var i=n(9405),r=n(3236),t=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),a=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],y={vertex:t,fragment:u,attributes:c},d={vertex:a,fragment:u,attributes:c},v={vertex:l,fragment:u,attributes:c},g={vertex:t,fragment:h,attributes:c},x={vertex:a,fragment:h,attributes:c},m={vertex:l,fragment:h,attributes:c};function _(p,S){var T=i(p,S),E=T.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,T}s.createPerspective=function(p){return _(p,y)},s.createOrtho=function(p){return _(p,d)},s.createProject=function(p){return _(p,v)},s.createPickPerspective=function(p){return _(p,g)},s.createPickOrtho=function(p){return _(p,x)},s.createPickProject=function(p){return _(p,m)}},8418:function(f,s,n){var i=n(5219),r=n(2762),t=n(8116),a=n(1888),l=n(6760),u=n(1283),h=n(9366),c=n(5964),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d=ArrayBuffer,v=DataView;function g(te){return Array.isArray(te)||function(Q){return d.isView(Q)&&!(Q instanceof v)}(te)}function x(te,Q){var $=te[0],K=te[1],ae=te[2],ue=te[3];return te[0]=Q[0]*$+Q[4]*K+Q[8]*ae+Q[12]*ue,te[1]=Q[1]*$+Q[5]*K+Q[9]*ae+Q[13]*ue,te[2]=Q[2]*$+Q[6]*K+Q[10]*ae+Q[14]*ue,te[3]=Q[3]*$+Q[7]*K+Q[11]*ae+Q[15]*ue,te}function m(te,Q,$,K){return x(K,K),x(K,K),x(K,K)}function _(te,Q){this.index=te,this.dataCoordinate=this.position=Q}function p(te){return te===!0||te>1?1:te}function S(te,Q,$,K,ae,ue,se,he,pe,de,xe,_e){this.gl=te,this.pixelRatio=1,this.shader=Q,this.orthoShader=$,this.projectShader=K,this.pointBuffer=ae,this.colorBuffer=ue,this.glyphBuffer=se,this.idBuffer=he,this.vao=pe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=de,this.pickOrthoShader=xe,this.pickProjectShader=_e,this.points=[],this._selectResult=new _(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}f.exports=function(te){var Q=te.gl,$=u.createPerspective(Q),K=u.createOrtho(Q),ae=u.createProject(Q),ue=u.createPickPerspective(Q),se=u.createPickOrtho(Q),he=u.createPickProject(Q),pe=r(Q),de=r(Q),xe=r(Q),_e=r(Q),be=new S(Q,$,K,ae,pe,de,xe,_e,t(Q,[{buffer:pe,size:3,type:Q.FLOAT},{buffer:de,size:4,type:Q.FLOAT},{buffer:xe,size:2,type:Q.FLOAT},{buffer:_e,size:4,type:Q.UNSIGNED_BYTE,normalized:!0}]),ue,se,he);return be.update(te),be};var T=S.prototype;T.pickSlots=1,T.setPickBase=function(te){this.pickId=te},T.isTransparent=function(){if(this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&this.projectHasAlpha)return!0;return!1},T.isOpaque=function(){if(!this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&!this.projectHasAlpha)return!0;return!1};var E=[0,0],O=[0,0,0],P=[0,0,0],I=[0,0,0,1],R=[0,0,0,1],H=y.slice(),z=[0,0,0],j=[[0,0,0],[0,0,0]];function Z(te){return te[0]=te[1]=te[2]=0,te}function F(te,Q){return te[0]=Q[0],te[1]=Q[1],te[2]=Q[2],te[3]=1,te}function V(te,Q,$,K){return te[0]=Q[0],te[1]=Q[1],te[2]=Q[2],te[$]=K,te}var W=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function re(te,Q,$,K,ae,ue,se){var he=$.gl;if((ue===$.projectHasAlpha||se)&&function(de,xe,_e,be){var Le,De=xe.axesProject,ye=xe.gl,le=de.uniforms,oe=_e.model||y,ve=_e.view||y,Ce=_e.projection||y,ke=xe.axesBounds,Ae=function(xt){for(var _t=j,mt=0;mt<2;++mt)for(var it=0;it<3;++it)_t[mt][it]=Math.max(Math.min(xt[mt][it],1e8),-1e8);return _t}(xe.clipBounds);Le=xe.axes&&xe.axes.lastCubeProps?xe.axes.lastCubeProps.axis:[1,1,1],E[0]=2/ye.drawingBufferWidth,E[1]=2/ye.drawingBufferHeight,de.bind(),le.view=ve,le.projection=Ce,le.screenSize=E,le.highlightId=xe.highlightId,le.highlightScale=xe.highlightScale,le.clipBounds=Ae,le.pickGroup=xe.pickId/255,le.pixelRatio=be;for(var Ee=0;Ee<3;++Ee)if(De[Ee]){le.scale=xe.projectScale[Ee],le.opacity=xe.projectOpacity[Ee];for(var ze=H,Fe=0;Fe<16;++Fe)ze[Fe]=0;for(Fe=0;Fe<4;++Fe)ze[5*Fe]=1;ze[5*Ee]=0,Le[Ee]<0?ze[12+Ee]=ke[0][Ee]:ze[12+Ee]=ke[1][Ee],l(ze,oe,ze),le.model=ze;var ge=(Ee+1)%3,Te=(Ee+2)%3,Se=Z(O),Re=Z(P);Se[ge]=1,Re[Te]=1;var Pe=m(0,0,0,F(I,Se)),Ve=m(0,0,0,F(R,Re));if(Math.abs(Pe[1])>Math.abs(Ve[1])){var We=Pe;Pe=Ve,Ve=We,We=Se,Se=Re,Re=We;var Qe=ge;ge=Te,Te=Qe}Pe[0]<0&&(Se[ge]=-1),Ve[1]>0&&(Re[Te]=-1);var lt=0,ut=0;for(Fe=0;Fe<4;++Fe)lt+=Math.pow(oe[4*ge+Fe],2),ut+=Math.pow(oe[4*Te+Fe],2);Se[ge]/=Math.sqrt(lt),Re[Te]/=Math.sqrt(ut),le.axes[0]=Se,le.axes[1]=Re,le.fragClipBounds[0]=V(z,Ae[0],Ee,-1e8),le.fragClipBounds[1]=V(z,Ae[1],Ee,1e8),xe.vao.bind(),xe.vao.draw(ye.TRIANGLES,xe.vertexCount),xe.lineWidth>0&&(ye.lineWidth(xe.lineWidth*be),xe.vao.draw(ye.LINES,xe.lineVertexCount,xe.vertexCount)),xe.vao.unbind()}}(Q,$,K,ae),ue===$.hasAlpha||se){te.bind();var pe=te.uniforms;pe.model=K.model||y,pe.view=K.view||y,pe.projection=K.projection||y,E[0]=2/he.drawingBufferWidth,E[1]=2/he.drawingBufferHeight,pe.screenSize=E,pe.highlightId=$.highlightId,pe.highlightScale=$.highlightScale,pe.fragClipBounds=W,pe.clipBounds=$.axes.bounds,pe.opacity=$.opacity,pe.pickGroup=$.pickId/255,pe.pixelRatio=ae,$.vao.bind(),$.vao.draw(he.TRIANGLES,$.vertexCount),$.lineWidth>0&&(he.lineWidth($.lineWidth*ae),$.vao.draw(he.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}function ne(te,Q,$,K){var ae;ae=g(te)?Q<te.length?te[Q]:void 0:te,ae=c(ae);var ue=!0;i(ae)&&(ae="▼",ue=!1),$||($={});var se=$.family;g(se)&&(se=se[Q]),se||(se="normal");var he=$.weight;g(he)&&(he=he[Q]),he||(he="normal");var pe=$.style;g(pe)&&(pe=pe[Q]),pe||(pe="normal");var de=$.variant;g(de)&&(de=de[Q]),de||(de="normal");var xe=h(ae,{family:se,weight:he,style:pe,variant:de},K);return{mesh:(xe=h(ae,$,K))[0],lines:xe[1],bounds:xe[2],visible:ue}}T.draw=function(te){re(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!1,!1)},T.drawTransparent=function(te){re(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!0,!1)},T.drawPick=function(te){re(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,te,1,!0,!0)},T.pick=function(te){if(!te||te.id!==this.pickId)return null;var Q=te.value[2]+(te.value[1]<<8)+(te.value[0]<<16);if(Q>=this.pointCount||Q<0)return null;var $=this.points[Q],K=this._selectResult;K.index=Q;for(var ae=0;ae<3;++ae)K.position[ae]=K.dataCoordinate[ae]=$[ae];return K},T.highlight=function(te){if(te){var Q=te.index,$=255&Q,K=Q>>8&255,ae=Q>>16&255;this.highlightId=[$/255,K/255,ae/255,0]}else this.highlightId=[1,1,1,1]},T.update=function(te){if("perspective"in(te=te||{})&&(this.useOrtho=!te.perspective),"orthographic"in te&&(this.useOrtho=!!te.orthographic),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"project"in te)if(g(te.project))this.axesProject=te.project;else{var Q=!!te.project;this.axesProject=[Q,Q,Q]}if("projectScale"in te)if(g(te.projectScale))this.projectScale=te.projectScale.slice();else{var $=+te.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in te){g(te.projectOpacity)?this.projectOpacity=te.projectOpacity.slice():($=+te.projectOpacity,this.projectOpacity=[$,$,$]);for(var K=0;K<3;++K)this.projectOpacity[K]=p(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in te&&(this.opacity=p(te.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ae,ue,se=te.position,he={family:te.font||"normal",style:te.fontStyle||"normal",weight:te.fontWeight||"normal",variant:te.fontVariant||"normal"},pe=te.alignment||[0,0];if(pe.length===2)ae=pe[0],ue=pe[1];else for(ae=[],ue=[],K=0;K<pe.length;++K)ae[K]=pe[K][0],ue[K]=pe[K][1];var de=[1/0,1/0,1/0],xe=[-1/0,-1/0,-1/0],_e=te.glyph,be=te.color,Le=te.size,De=te.angle,ye=te.lineColor,le=-1,oe=0,ve=0,Ce=0;if(se.length){Ce=se.length;e:for(K=0;K<Ce;++K){for(var ke=se[K],Ae=0;Ae<3;++Ae)if(isNaN(ke[Ae])||!isFinite(ke[Ae]))continue e;var Ee=(_t=ne(_e,K,he,this.pixelRatio)).mesh,ze=_t.lines,Fe=_t.bounds;oe+=3*Ee.cells.length,ve+=2*ze.edges.length}}var ge=oe+ve,Te=a.mallocFloat(3*ge),Se=a.mallocFloat(4*ge),Re=a.mallocFloat(2*ge),Pe=a.mallocUint32(ge);if(ge>0){var Ve=0,We=oe,Qe=[0,0,0,1],lt=[0,0,0,1],ut=g(be)&&g(be[0]),xt=g(ye)&&g(ye[0]);e:for(K=0;K<Ce;++K){for(le+=1,ke=se[K],Ae=0;Ae<3;++Ae){if(isNaN(ke[Ae])||!isFinite(ke[Ae]))continue e;xe[Ae]=Math.max(xe[Ae],ke[Ae]),de[Ae]=Math.min(de[Ae],ke[Ae])}Ee=(_t=ne(_e,K,he,this.pixelRatio)).mesh,ze=_t.lines,Fe=_t.bounds;var _t,mt=_t.visible;if(mt)if(g(be)){if((it=ut?K<be.length?be[K]:[0,0,0,0]:be).length===3){for(Ae=0;Ae<3;++Ae)Qe[Ae]=it[Ae];Qe[3]=1}else if(it.length===4){for(Ae=0;Ae<4;++Ae)Qe[Ae]=it[Ae];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else Qe[0]=Qe[1]=Qe[2]=0,Qe[3]=1;else Qe=[1,1,1,0];if(mt)if(g(ye)){var it;if((it=xt?K<ye.length?ye[K]:[0,0,0,0]:ye).length===3){for(Ae=0;Ae<3;++Ae)lt[Ae]=it[Ae];lt[Ae]=1}else if(it.length===4){for(Ae=0;Ae<4;++Ae)lt[Ae]=it[Ae];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else lt[0]=lt[1]=lt[2]=0,lt[3]=1;else lt=[1,1,1,0];var nt=.5;mt?g(Le)?nt=K<Le.length?+Le[K]:12:Le?nt=+Le:this.useOrtho&&(nt=12):nt=0;var Et=0;g(De)?Et=K<De.length?+De[K]:0:De&&(Et=+De);var Rt=Math.cos(Et),Ft=Math.sin(Et);for(ke=se[K],Ae=0;Ae<3;++Ae)xe[Ae]=Math.max(xe[Ae],ke[Ae]),de[Ae]=Math.min(de[Ae],ke[Ae]);var Pt=ae,Ze=ue;Pt=0,g(ae)?Pt=K<ae.length?ae[K]:0:ae&&(Pt=ae),Ze=0,g(ue)?Ze=K<ue.length?ue[K]:0:ue&&(Ze=ue);var $e=[Pt*=Pt>0?1-Fe[0][0]:Pt<0?1+Fe[1][0]:1,Ze*=Ze>0?1-Fe[0][1]:Ze<0?1+Fe[1][1]:1],He=Ee.cells||[],Je=Ee.positions||[];for(Ae=0;Ae<He.length;++Ae)for(var ft=He[Ae],ot=0;ot<3;++ot){for(var je=0;je<3;++je)Te[3*Ve+je]=ke[je];for(je=0;je<4;++je)Se[4*Ve+je]=Qe[je];Pe[Ve]=le;var Ue=Je[ft[ot]];Re[2*Ve]=nt*(Rt*Ue[0]-Ft*Ue[1]+$e[0]),Re[2*Ve+1]=nt*(Ft*Ue[0]+Rt*Ue[1]+$e[1]),Ve+=1}for(He=ze.edges,Je=ze.positions,Ae=0;Ae<He.length;++Ae)for(ft=He[Ae],ot=0;ot<2;++ot){for(je=0;je<3;++je)Te[3*We+je]=ke[je];for(je=0;je<4;++je)Se[4*We+je]=lt[je];Pe[We]=le,Ue=Je[ft[ot]],Re[2*We]=nt*(Rt*Ue[0]-Ft*Ue[1]+$e[0]),Re[2*We+1]=nt*(Ft*Ue[0]+Rt*Ue[1]+$e[1]),We+=1}}}this.bounds=[de,xe],this.points=se,this.pointCount=se.length,this.vertexCount=oe,this.lineVertexCount=ve,this.pointBuffer.update(Te),this.colorBuffer.update(Se),this.glyphBuffer.update(Re),this.idBuffer.update(Pe),a.free(Te),a.free(Se),a.free(Re),a.free(Pe)},T.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(f,s,n){var i=n(3236);s.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(f,s,n){var i=n(9405),r=n(2762),t=n(4298);function a(u,h,c){this.plot=u,this.boxBuffer=h,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}f.exports=function(u,h){var c=u.gl,y=new a(u,r(c,[0,0,0,1,1,0,1,1]),i(c,t.boxVertex,t.boxFragment));return y.update(h),u.addOverlay(y),y};var l=a.prototype;l.draw=function(){if(this.enabled){var u=this.plot,h=this.selectBox,c=this.borderWidth,y=(this.innerFill,this.innerColor),d=(this.outerFill,this.outerColor),v=this.borderColor,g=u.box,x=u.screenBox,m=u.dataBox,_=u.viewBox,p=u.pixelRatio,S=(h[0]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],T=(h[1]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1],E=(h[2]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],O=(h[3]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1];if(S=Math.max(S,_[0]),T=Math.max(T,_[1]),E=Math.min(E,_[2]),O=Math.min(O,_[3]),!(E<S||O<T)){g.bind();var P=x[2]-x[0],I=x[3]-x[1];if(this.outerFill&&(g.drawBox(0,0,P,T,d),g.drawBox(0,T,S,O,d),g.drawBox(0,O,P,I,d),g.drawBox(E,T,P,O,d)),this.innerFill&&g.drawBox(S,T,E,O,y),c>0){var R=c*p;g.drawBox(S-R,T-R,E+R,T+R,v),g.drawBox(S-R,O-R,E+R,O+R,v),g.drawBox(S-R,T-R,S+R,O+R,v),g.drawBox(E-R,T-R,E+R,O+R,v)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(f,s,n){f.exports=function(c,y){var d=y[0],v=y[1];return new u(c,i(c,d,v,{}),r.mallocUint8(d*v*4))};var i=n(2260),r=n(1888),t=n(9618),a=n(8828).nextPow2;function l(c,y,d,v,g){this.coord=[c,y],this.id=d,this.value=v,this.distance=g}function u(c,y,d){this.gl=c,this.fbo=y,this.buffer=d,this._readTimeout=null;var v=this;this._readCallback=function(){v.gl&&(y.bind(),c.readPixels(0,0,y.shape[0],y.shape[1],c.RGBA,c.UNSIGNED_BYTE,v.buffer),v._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var y=this.fbo.shape[0],d=this.fbo.shape[1];if(d*y*4>this.buffer.length){r.free(this.buffer);for(var v=this.buffer=r.mallocUint8(a(d*y*4)),g=0;g<d*y*4;++g)v[g]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,y,d){if(!this.gl)return null;var v=this.fbo.shape.slice();c|=0,y|=0,typeof d!="number"&&(d=1);var g=0|Math.min(Math.max(c-d,0),v[0]),x=0|Math.min(Math.max(c+d,0),v[0]),m=0|Math.min(Math.max(y-d,0),v[1]),_=0|Math.min(Math.max(y+d,0),v[1]);if(x<=g||_<=m)return null;var p=[x-g,_-m],S=t(this.buffer,[p[0],p[1],4],[4,4*v[0],1],4*(g+v[0]*m)),T=function(P,I,R){for(var H=1e8,z=-1,j=-1,Z=P.shape[0],F=P.shape[1],V=0;V<Z;V++)for(var W=0;W<F;W++){var re=P.get(V,W,0),ne=P.get(V,W,1),te=P.get(V,W,2),Q=P.get(V,W,3);if(re<255||ne<255||te<255||Q<255){var $=I-V,K=R-W,ae=$*$+K*K;ae<H&&(H=ae,z=V,j=W)}}return[z,j,H]}(S.hi(p[0],p[1],1),d,d),E=T[0],O=T[1];return E<0||Math.pow(this.radius,2)<T[2]?null:new l(E+g|0,O+m|0,S.get(E,O,0),[S.get(E,O,1),S.get(E,O,2),S.get(E,O,3)],Math.sqrt(T[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(f,s,n){var i=n(3327),r=n(8731),t=n(216),a=n(5091),l=n(2145),u=n(8866);function h(d){this.gl=d,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=h.prototype;function y(d,v){return d.name<v.name?-1:1}c.bind=function(){var d;this.program||this._relink();var v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),g=this.gl.lastAttribCount;if(v>g)for(d=g;d<v;d++)this.gl.enableVertexAttribArray(d);else if(g>v)for(d=v;d<g;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},c.dispose=function(){for(var d=this.gl.lastAttribCount,v=0;v<d;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(d,v,g,x){if(!v||arguments.length===1){var m=d;d=m.vertex,v=m.fragment,g=m.uniforms,x=m.attributes}var _=this,p=_.gl,S=_._vref;_._vref=a.shader(p,p.VERTEX_SHADER,d),S&&S.dispose(),_.vertShader=_._vref.shader;var T=this._fref;if(_._fref=a.shader(p,p.FRAGMENT_SHADER,v),T&&T.dispose(),_.fragShader=_._fref.shader,!g||!x){var E=p.createProgram();if(p.attachShader(E,_.fragShader),p.attachShader(E,_.vertShader),p.linkProgram(E),!p.getProgramParameter(E,p.LINK_STATUS)){var O=p.getProgramInfoLog(E);throw new u(O,"Error linking program:"+O)}g=g||l.uniforms(p,E),x=x||l.attributes(p,E),p.deleteProgram(E)}(x=x.slice()).sort(y);var P,I=[],R=[],H=[];for(P=0;P<x.length;++P){var z=x[P];if(z.type.indexOf("mat")>=0){for(var j=0|z.type.charAt(z.type.length-1),Z=new Array(j),F=0;F<j;++F)Z[F]=H.length,R.push(z.name+"["+F+"]"),typeof z.location=="number"?H.push(z.location+F):Array.isArray(z.location)&&z.location.length===j&&typeof z.location[F]=="number"?H.push(0|z.location[F]):H.push(-1);I.push({name:z.name,type:z.type,locations:Z})}else I.push({name:z.name,type:z.type,locations:[H.length]}),R.push(z.name),typeof z.location=="number"?H.push(0|z.location):H.push(-1)}var V=0;for(P=0;P<H.length;++P)if(H[P]<0){for(;H.indexOf(V)>=0;)V+=1;H[P]=V}var W=new Array(g.length);function re(){_.program=a.program(p,_._vref,_._fref,R,H);for(var ne=0;ne<g.length;++ne)W[ne]=p.getUniformLocation(_.program,g[ne].name)}re(),_._relink=re,_.types={uniforms:t(g),attributes:t(x)},_.attributes=r(p,_,I,H),Object.defineProperty(_,"uniforms",i(p,_,g,W))},f.exports=function(d,v,g,x,m){var _=new h(d);return _.update(v,g,x,m),_}},8866:function(f){function s(n,i,r){this.shortMessage=i||"",this.longMessage=r||"",this.rawError=n||"",this.message="gl-shader: "+(i||n||"")+(r?`
`+r:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,f.exports=s},8731:function(f,s,n){f.exports=function(h,c,y,d){for(var v={},g=0,x=y.length;g<x;++g){var m=y[g],_=m.name,p=m.type,S=m.locations;switch(p){case"bool":case"int":case"float":l(h,c,S[0],d,1,v,_);break;default:if(p.indexOf("vec")>=0){if((T=p.charCodeAt(p.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+_+": "+p);l(h,c,S[0],d,T,v,_)}else{if(!(p.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+_+": "+p);var T;if((T=p.charCodeAt(p.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+_+": "+p);u(h,c,S,d,T,v,_)}}}return v};var i=n(8866);function r(h,c,y,d,v,g){this._gl=h,this._wrapper=c,this._index=y,this._locations=d,this._dimension=v,this._constFunc=g}var t=r.prototype;t.pointer=function(h,c,y,d){var v=this,g=v._gl,x=v._locations[v._index];g.vertexAttribPointer(x,v._dimension,h||g.FLOAT,!!c,y||0,d||0),g.enableVertexAttribArray(x)},t.set=function(h,c,y,d){return this._constFunc(this._locations[this._index],h,c,y,d)},Object.defineProperty(t,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var a=[function(h,c,y){return y.length===void 0?h.vertexAttrib1f(c,y):h.vertexAttrib1fv(c,y)},function(h,c,y,d){return y.length===void 0?h.vertexAttrib2f(c,y,d):h.vertexAttrib2fv(c,y)},function(h,c,y,d,v){return y.length===void 0?h.vertexAttrib3f(c,y,d,v):h.vertexAttrib3fv(c,y)},function(h,c,y,d,v,g){return y.length===void 0?h.vertexAttrib4f(c,y,d,v,g):h.vertexAttrib4fv(c,y)}];function l(h,c,y,d,v,g,x){var m=a[v],_=new r(h,c,y,d,v,m);Object.defineProperty(g,x,{set:function(p){return h.disableVertexAttribArray(d[y]),m(h,d[y],p),p},get:function(){return _},enumerable:!0})}function u(h,c,y,d,v,g,x){for(var m=new Array(v),_=new Array(v),p=0;p<v;++p)l(h,c,y[p],d,v,m,p),_[p]=m[p];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var O=0;O<v;++O)_[O].location=E[O];else for(O=0;O<v;++O)_[O].location=E+O;return E},get:function(){for(var E=new Array(v),O=0;O<v;++O)E[O]=d[y[O]];return E},enumerable:!0}),m.pointer=function(E,O,P,I){E=E||h.FLOAT,O=!!O,P=P||v*v,I=I||0;for(var R=0;R<v;++R){var H=d[y[R]];h.vertexAttribPointer(H,v,E,O,P,I+R*v),h.enableVertexAttribArray(H)}};var S=new Array(v),T=h["vertexAttrib"+v+"fv"];Object.defineProperty(g,x,{set:function(E){for(var O=0;O<v;++O){var P=d[y[O]];if(h.disableVertexAttribArray(P),Array.isArray(E[0]))T.call(h,P,E[O]);else{for(var I=0;I<v;++I)S[I]=E[v*O+I];T.call(h,P,S)}}return E},get:function(){return m},enumerable:!0})}},3327:function(f,s,n){var i=n(216),r=n(8866);function t(l){return function(){return l}}function a(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=u;return h}f.exports=function(l,u,h,c){function y(m){return function(_){for(var p=d("",m),S=0;S<p.length;++S){var T=p[S],E=T[0],O=T[1];if(c[O]){var P=_;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var R=I.indexOf("["),H=I.slice(0,R),z=I.slice(R+1,I.length-1);P=H?_[H][z]:_[z]}else P=_[I]}var j,Z=h[O].type;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[O],P);break;case"float":l.uniform1f(c[O],P);break;default:var F=Z.indexOf("vec");if(!(0<=F&&F<=1&&Z.length===4+F)){if(Z.indexOf("mat")===0&&Z.length===4){if((j=Z.charCodeAt(Z.length-1)-48)<2||j>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+Z);l["uniformMatrix"+j+"fv"](c[O],!1,P);break}throw new r("","Unknown uniform data type for "+name+": "+Z)}if((j=Z.charCodeAt(Z.length-1)-48)<2||j>4)throw new r("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":l["uniform"+j+"iv"](c[O],P);break;case"v":l["uniform"+j+"fv"](c[O],P);break;default:throw new r("","Unrecognized data type for vector "+name+": "+Z)}}}}}}function d(m,_){if(typeof _!="object")return[[m,_]];var p=[];for(var S in _){var T=_[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof T=="object"?p.push.apply(p,d(E,T)):p.push([E,T])}return p}function v(m,_,p){if(typeof p=="object"){var S=g(p);Object.defineProperty(m,_,{get:t(S),set:y(p),enumerable:!0,configurable:!1})}else c[p]?Object.defineProperty(m,_,{get:(T=p,function(E,O,P){return E.getUniform(O.program,P[T])}),set:y(p),enumerable:!0,configurable:!1}):m[_]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var O=E.indexOf("vec");if(0<=O&&O<=1&&E.length===4+O){if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new r("","Invalid data type");return E.charAt(0)==="b"?a(P,!1):a(P,0)}if(E.indexOf("mat")===0&&E.length===4){var P;if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+E);return a(P*P,0)}throw new r("","Unknown uniform data type for "+name+": "+E)}}(h[p].type);var T}function g(m){var _;if(Array.isArray(m)){_=new Array(m.length);for(var p=0;p<m.length;++p)v(_,p,m[p])}else for(var S in _={},m)v(_,S,m[S]);return _}var x=i(h,!0);return{get:t(g(x)),set:y(x),enumerable:!0,configurable:!0}}},216:function(f){f.exports=function(s,n){for(var i={},r=0;r<s.length;++r)for(var t=s[r].name.split("."),a=i,l=0;l<t.length;++l){var u=t[l].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var h=1;h<u.length;++h){var c=parseInt(u[h]);h<u.length-1||l<t.length-1?(c in a||(h<u.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=n?r:s[r].type}}else l<t.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):a[u[0]]=n?r:s[r].type}return i}},2145:function(f,s){s.uniforms=function(t,a){for(var l=t.getProgramParameter(a,t.ACTIVE_UNIFORMS),u=[],h=0;h<l;++h){var c=t.getActiveUniform(a,h);if(c){var y=r(t,c.type);if(c.size>1)for(var d=0;d<c.size;++d)u.push({name:c.name.replace("[0]","["+d+"]"),type:y});else u.push({name:c.name,type:y})}}return u},s.attributes=function(t,a){for(var l=t.getProgramParameter(a,t.ACTIVE_ATTRIBUTES),u=[],h=0;h<l;++h){var c=t.getActiveAttrib(a,h);c&&u.push({name:c.name,type:r(t,c.type)})}return u};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function r(t,a){if(!i){var l=Object.keys(n);i={};for(var u=0;u<l.length;++u){var h=l[u];i[t[h]]=n[h]}}return i[a]}},5091:function(f,s,n){s.shader=function(y,d,v){return c(y).getShaderReference(d,v)},s.program=function(y,d,v,g,x){return c(y).getProgram(d,v,g,x)};var i=n(8866),r=n(2992),t=new(typeof WeakMap>"u"?n(606):WeakMap),a=0;function l(y,d,v,g,x,m,_){this.id=y,this.src=d,this.type=v,this.shader=g,this.count=m,this.programs=[],this.cache=_}function u(y){this.gl=y,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var y=this.cache,d=y.gl,v=this.programs,g=0,x=v.length;g<x;++g){var m=y.programs[v[g]];m&&(delete y.programs[g],d.deleteProgram(m))}d.deleteShader(this.shader),delete y.shaders[this.type===d.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function c(y){var d=t.get(y);return d||(d=new u(y),t.set(y,d)),d}h.getShaderReference=function(y,d){var v=this.gl,g=this.shaders[y===v.FRAGMENT_SHADER|0],x=g[d];if(x&&v.isShader(x.shader))x.count+=1;else{var m=function(_,p,S){var T=_.createShader(p);if(_.shaderSource(T,S),_.compileShader(T),!_.getShaderParameter(T,_.COMPILE_STATUS)){var E=_.getShaderInfoLog(T);try{var O=r(E,S,p)}catch(P){throw console.warn("Failed to format compiler error: "+P),new i(E,`Error compiling shader:
`+E)}throw new i(E,O.short,O.long)}return T}(v,y,d);x=g[d]=new l(a++,d,y,m,[],1,this)}return x},h.getProgram=function(y,d,v,g){var x=[y.id,d.id,v.join(":"),g.join(":")].join("@"),m=this.programs[x];return m&&this.gl.isProgram(m)||(this.programs[x]=m=function(_,p,S,T,E){var O=_.createProgram();_.attachShader(O,p),_.attachShader(O,S);for(var P=0;P<T.length;++P)_.bindAttribLocation(O,E[P],T[P]);if(_.linkProgram(O),!_.getProgramParameter(O,_.LINK_STATUS)){var I=_.getProgramInfoLog(O);throw new i(I,"Error linking program: "+I)}return O}(this.gl,y.shader,d.shader,v,g),y.programs.push(x),d.programs.push(x)),m}},4098:function(f){function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}f.exports=function(i,r){var t=new s(i);return t.update(r),i.addOverlay(t),t};var n=s.prototype;n.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},n.draw=function(){var i=this.enable,r=this.width,t=this.color,a=this.center,l=this.plot,u=l.line,h=l.dataBox,c=l.viewBox;if(u.bind(),h[0]<=a[0]&&a[0]<=h[2]&&h[1]<=a[1]&&a[1]<=h[3]){var y=c[0]+(a[0]-h[0])/(h[2]-h[0])*(c[2]-c[0]),d=c[1]+(a[1]-h[1])/(h[3]-h[1])*(c[3]-c[1]);i[0]&&u.drawLine(y,d,c[0],d,r[0],t[0]),i[1]&&u.drawLine(y,d,y,c[1],r[1],t[1]),i[2]&&u.drawLine(y,d,c[2],d,r[2],t[2]),i[3]&&u.drawLine(y,d,y,c[3],r[3],t[3])}},n.dispose=function(){this.plot.removeOverlay(this)}},1493:function(f,s,n){var i=n(3236),r=n(9405),t=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),a=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);f.exports=function(l){return r(l,t,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(f,s,n){var i=n(2762),r=n(8116),t=n(1493);f.exports=function(d,v){var g=[];function x(T,E,O,P,I,R){var H=[T,E,O,0,0,0,1];H[P+3]=1,H[P]=I,g.push.apply(g,H),H[6]=-1,g.push.apply(g,H),H[P]=R,g.push.apply(g,H),g.push.apply(g,H),H[6]=1,g.push.apply(g,H),H[P]=I,g.push.apply(g,H)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var m=i(d,g),_=r(d,[{type:d.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:d.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:d.FLOAT,buffer:m,size:1,offset:24,stride:28}]),p=t(d);p.attributes.position.location=0,p.attributes.color.location=1,p.attributes.weight.location=2;var S=new l(d,m,_,p);return S.update(v),S};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(d,v,g,x){this.gl=d,this.buffer=v,this.vao=g,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,h=[0,0,0],c=[0,0,0],y=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(d){},u.draw=function(d){var v=this.gl,g=this.vao,x=this.shader;g.bind(),x.bind();var m,_=d.model||a,p=d.view||a,S=d.projection||a;this.axes&&(m=this.axes.lastCubeProps.axis);for(var T=h,E=c,O=0;O<3;++O)m&&m[O]<0?(T[O]=this.bounds[0][O],E[O]=this.bounds[1][O]):(T[O]=this.bounds[1][O],E[O]=this.bounds[0][O]);for(y[0]=v.drawingBufferWidth,y[1]=v.drawingBufferHeight,x.uniforms.model=_,x.uniforms.view=p,x.uniforms.projection=S,x.uniforms.coordinates=[this.position,T,E],x.uniforms.colors=this.colors,x.uniforms.screenShape=y,O=0;O<3;++O)x.uniforms.lineWidth=this.lineWidth[O]*this.pixelRatio,this.enabled[O]&&(g.draw(v.TRIANGLES,6,6*O),this.drawSides[O]&&g.draw(v.TRIANGLES,12,18+12*O));g.unbind()},u.update=function(d){d&&("bounds"in d&&(this.bounds=d.bounds),"position"in d&&(this.position=d.position),"lineWidth"in d&&(this.lineWidth=d.lineWidth),"colors"in d&&(this.colors=d.colors),"enabled"in d&&(this.enabled=d.enabled),"drawSides"in d&&(this.drawSides=d.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(f,s,n){var i=n(3236),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),t=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:t,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(f,s,n){var i=n(2931),r=n(9970),t=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(y,d){var v,g=y.length;for(v=0;v<g;v++){var x=y[v];if(x===d)return v;if(x>d)return v-1}return v},l=function(y,d,v){return y<d?d:y>v?v:y},u=function(y){var d=1/0;y.sort(function(m,_){return m-_});for(var v=y.length,g=1;g<v;g++){var x=Math.abs(y[g]-y[g-1]);x<d&&(d=x)}return d};f.exports=function(y,d){var v=y.startingPositions,g=y.maxLength||1e3,x=y.tubeSize||1,m=y.absoluteTubeSize,_=y.gridFill||"+x+y+z",p={};_.indexOf("-x")!==-1&&(p.reversedX=!0),_.indexOf("-y")!==-1&&(p.reversedY=!0),_.indexOf("-z")!==-1&&(p.reversedZ=!0),p.filled=t.indexOf(_.replace(/-/g,"").replace(/\+/g,""));var S=y.getVelocity||function(be){return function(Le,De,ye){var le=De.vectors,oe=De.meshgrid,ve=Le[0],Ce=Le[1],ke=Le[2],Ae=oe[0].length,Ee=oe[1].length,ze=oe[2].length,Fe=a(oe[0],ve),ge=a(oe[1],Ce),Te=a(oe[2],ke),Se=Fe+1,Re=ge+1,Pe=Te+1;if(Fe=l(Fe,0,Ae-1),Se=l(Se,0,Ae-1),ge=l(ge,0,Ee-1),Re=l(Re,0,Ee-1),Te=l(Te,0,ze-1),Pe=l(Pe,0,ze-1),Fe<0||ge<0||Te<0||Se>Ae-1||Re>Ee-1||Pe>ze-1)return i.create();var Ve,We,Qe,lt,ut,xt,_t=oe[0][Fe],mt=oe[0][Se],it=oe[1][ge],nt=oe[1][Re],Et=oe[2][Te],Rt=(ve-_t)/(mt-_t),Ft=(Ce-it)/(nt-it),Pt=(ke-Et)/(oe[2][Pe]-Et);switch(isFinite(Rt)||(Rt=.5),isFinite(Ft)||(Ft=.5),isFinite(Pt)||(Pt=.5),ye.reversedX&&(Fe=Ae-1-Fe,Se=Ae-1-Se),ye.reversedY&&(ge=Ee-1-ge,Re=Ee-1-Re),ye.reversedZ&&(Te=ze-1-Te,Pe=ze-1-Pe),ye.filled){case 5:ut=Te,xt=Pe,Qe=ge*ze,lt=Re*ze,Ve=Fe*ze*Ee,We=Se*ze*Ee;break;case 4:ut=Te,xt=Pe,Ve=Fe*ze,We=Se*ze,Qe=ge*ze*Ae,lt=Re*ze*Ae;break;case 3:Qe=ge,lt=Re,ut=Te*Ee,xt=Pe*Ee,Ve=Fe*Ee*ze,We=Se*Ee*ze;break;case 2:Qe=ge,lt=Re,Ve=Fe*Ee,We=Se*Ee,ut=Te*Ee*Ae,xt=Pe*Ee*Ae;break;case 1:Ve=Fe,We=Se,ut=Te*Ae,xt=Pe*Ae,Qe=ge*Ae*ze,lt=Re*Ae*ze;break;default:Ve=Fe,We=Se,Qe=ge*Ae,lt=Re*Ae,ut=Te*Ae*Ee,xt=Pe*Ae*Ee}var Ze=le[Ve+Qe+ut],$e=le[Ve+Qe+xt],He=le[Ve+lt+ut],Je=le[Ve+lt+xt],ft=le[We+Qe+ut],ot=le[We+Qe+xt],je=le[We+lt+ut],Ue=le[We+lt+xt],st=i.create(),Ke=i.create(),gt=i.create(),yt=i.create();i.lerp(st,Ze,ft,Rt),i.lerp(Ke,$e,ot,Rt),i.lerp(gt,He,je,Rt),i.lerp(yt,Je,Ue,Rt);var bt=i.create(),dt=i.create();i.lerp(bt,st,gt,Ft),i.lerp(dt,Ke,yt,Ft);var Lt=i.create();return i.lerp(Lt,bt,dt,Pt),Lt}(be,y,p)},T=y.getDivergence||function(be,Le){var De=i.create(),ye=1e-4;i.add(De,be,[ye,0,0]);var le=S(De);i.subtract(le,le,Le),i.scale(le,le,1/ye),i.add(De,be,[0,ye,0]);var oe=S(De);i.subtract(oe,oe,Le),i.scale(oe,oe,1/ye),i.add(De,be,[0,0,ye]);var ve=S(De);return i.subtract(ve,ve,Le),i.scale(ve,ve,1/ye),i.add(De,le,oe),i.add(De,De,ve),De},E=[],O=d[0][0],P=d[0][1],I=d[0][2],R=d[1][0],H=d[1][1],z=d[1][2],j=function(be){var Le=be[0],De=be[1],ye=be[2];return!(Le<O||Le>R||De<P||De>H||ye<I||ye>z)},Z=10*i.distance(d[0],d[1])/g,F=Z*Z,V=1,W=0,re=v.length;re>1&&(V=function(be){for(var Le=[],De=[],ye=[],le={},oe={},ve={},Ce=be.length,ke=0;ke<Ce;ke++){var Ae=be[ke],Ee=Ae[0],ze=Ae[1],Fe=Ae[2];le[Ee]||(Le.push(Ee),le[Ee]=!0),oe[ze]||(De.push(ze),oe[ze]=!0),ve[Fe]||(ye.push(Fe),ve[Fe]=!0)}var ge=u(Le),Te=u(De),Se=u(ye),Re=Math.min(ge,Te,Se);return isFinite(Re)?Re:1}(v));for(var ne=0;ne<re;ne++){var te=i.create();i.copy(te,v[ne]);var Q=[te],$=[],K=S(te),ae=te;$.push(K);var ue=[],se=T(te,K),he=i.length(se);isFinite(he)&&he>W&&(W=he),ue.push(he),E.push({points:Q,velocities:$,divergences:ue});for(var pe=0;pe<100*g&&Q.length<g&&j(te);){pe++;var de=i.clone(K),xe=i.squaredLength(de);if(xe===0)break;xe>F&&i.scale(de,de,Z/Math.sqrt(xe)),i.add(de,de,te),K=S(de),i.squaredDistance(ae,de)-F>-1e-4*F&&(Q.push(de),ae=de,$.push(K),se=T(de,K),he=i.length(se),isFinite(he)&&he>W&&(W=he),ue.push(he)),te=de}}var _e=function(be,Le,De,ye){for(var le=0,oe=0;oe<be.length;oe++)for(var ve=be[oe].velocities,Ce=0;Ce<ve.length;Ce++)le=Math.max(le,i.length(ve[Ce]));var ke=be.map(function(Ve){return function(We,Qe,lt,ut){for(var xt=We.points,_t=We.velocities,mt=We.divergences,it=[],nt=[],Et=[],Rt=[],Ft=[],Pt=[],Ze=0,$e=0,He=r.create(),Je=r.create(),ft=0;ft<xt.length;ft++){var ot=xt[ft],je=_t[ft],Ue=mt[ft];Qe===0&&(Ue=.05*lt),$e=i.length(je)/ut,He=r.create(),i.copy(He,je),He[3]=Ue;for(var st=0;st<8;st++)Ft[st]=[ot[0],ot[1],ot[2],st];if(Rt.length>0)for(st=0;st<8;st++){var Ke=(st+1)%8;it.push(Rt[st],Ft[st],Ft[Ke],Ft[Ke],Rt[Ke],Rt[st]),Et.push(Je,He,He,He,Je,Je),Pt.push(Ze,$e,$e,$e,Ze,Ze);var gt=it.length;nt.push([gt-6,gt-5,gt-4],[gt-3,gt-2,gt-1])}var yt=Rt;Rt=Ft,Ft=yt;var bt=Je;Je=He,He=bt;var dt=Ze;Ze=$e,$e=dt}return{positions:it,cells:nt,vectors:Et,vertexIntensity:Pt}}(Ve,De,ye,le)}),Ae=[],Ee=[],ze=[],Fe=[];for(oe=0;oe<ke.length;oe++){var ge=ke[oe],Te=Ae.length;for(Ae=Ae.concat(ge.positions),ze=ze.concat(ge.vectors),Fe=Fe.concat(ge.vertexIntensity),Ce=0;Ce<ge.cells.length;Ce++){var Se=ge.cells[Ce],Re=[];Ee.push(Re);for(var Pe=0;Pe<Se.length;Pe++)Re.push(Se[Pe]+Te)}}return{positions:Ae,cells:Ee,vectors:ze,vertexIntensity:Fe,colormap:Le}}(E,y.colormap,W,V);return m?_e.tubeScale=m:(W===0&&(W=1),_e.tubeScale=.5*x*V/W),_e};var h=n(6740),c=n(6405).createMesh;f.exports.createTubeMesh=function(y,d){return c(y,d,{shaders:h,traceType:"streamtube"})}},990:function(f,s,n){var i=n(9405),r=n(3236),t=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),a=r([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(h){var c=i(h,t,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(h){var c=i(h,t,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(h){var c=i(h,l,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(h){var c=i(h,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(f,s,n){f.exports=function(se){var he=se.gl,pe=p(he),de=T(he),xe=S(he),_e=E(he),be=r(he),Le=t(he,[{buffer:be,size:4,stride:O,offset:0},{buffer:be,size:3,stride:O,offset:16},{buffer:be,size:3,stride:O,offset:28}]),De=r(he),ye=t(he,[{buffer:De,size:4,stride:20,offset:0},{buffer:De,size:1,stride:20,offset:16}]),le=r(he),oe=t(he,[{buffer:le,size:2,type:he.FLOAT}]),ve=a(he,1,z,he.RGBA,he.UNSIGNED_BYTE);ve.minFilter=he.LINEAR,ve.magFilter=he.LINEAR;var Ce=new j(he,[0,0],[[0,0,0],[0,0,0]],pe,de,be,Le,ve,xe,_e,De,ye,le,oe,[0,0,0]),ke={levels:[[],[],[]]};for(var Ae in se)ke[Ae]=se[Ae];return ke.colormap=ke.colormap||"jet",Ce.update(ke),Ce};var i=n(8828),r=n(2762),t=n(8116),a=n(7766),l=n(1888),u=n(6729),h=n(5298),c=n(9994),y=n(9618),d=n(3711),v=n(6760),g=n(7608),x=n(2478),m=n(6199),_=n(990),p=_.createShader,S=_.createContourShader,T=_.createPickShader,E=_.createPickContourShader,O=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function H(se,he,pe,de,xe){this.position=se,this.index=he,this.uv=pe,this.level=de,this.dataCoordinate=xe}(function(){for(var se=0;se<3;++se){var he=R[se],pe=(se+2)%3;he[(se+1)%3+0]=1,he[pe+3]=1,he[se+6]=1}})();var z=256;function j(se,he,pe,de,xe,_e,be,Le,De,ye,le,oe,ve,Ce,ke){this.gl=se,this.shape=he,this.bounds=pe,this.objectOffset=ke,this.intensityBounds=[],this._shader=de,this._pickShader=xe,this._coordinateBuffer=_e,this._vao=be,this._colorMap=Le,this._contourShader=De,this._contourPickShader=ye,this._contourBuffer=le,this._contourVAO=oe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new H([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ve,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[y(l.mallocFloat(1024),[0,0]),y(l.mallocFloat(1024),[0,0]),y(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var Z=j.prototype;Z.genColormap=function(se,he){var pe=!1,de=c([u({colormap:se,nshades:z,format:"rgba"}).map(function(xe,_e){var be=he?function(Le,De){if(!De||!De.length)return 1;for(var ye=0;ye<De.length;++ye){if(De.length<2)return 1;if(De[ye][0]===Le)return De[ye][1];if(De[ye][0]>Le&&ye>0){var le=(De[ye][0]-Le)/(De[ye][0]-De[ye-1][0]);return De[ye][1]*(1-le)+le*De[ye-1][1]}}return 1}(_e/255,he):xe[3];return be<1&&(pe=!0),[xe[0],xe[1],xe[2],255*be]})]);return h.divseq(de,255),this.hasAlphaScale=pe,de},Z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},Z.isOpaque=function(){return!this.isTransparent()},Z.pickSlots=1,Z.setPickBase=function(se){this.pickId=se};var F=[0,0,0],V={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function W(se,he){var pe,de,xe,_e=he.axes&&he.axes.lastCubeProps.axis||F,be=he.showSurface,Le=he.showContour;for(pe=0;pe<3;++pe)for(be=be||he.surfaceProject[pe],de=0;de<3;++de)Le=Le||he.contourProject[pe][de];for(pe=0;pe<3;++pe){var De=V.projections[pe];for(de=0;de<16;++de)De[de]=0;for(de=0;de<4;++de)De[5*de]=1;De[5*pe]=0,De[12+pe]=he.axesBounds[+(_e[pe]>0)][pe],v(De,se.model,De);var ye=V.clipBounds[pe];for(xe=0;xe<2;++xe)for(de=0;de<3;++de)ye[xe][de]=se.clipBounds[xe][de];ye[0][pe]=-1e8,ye[1][pe]=1e8}return V.showSurface=be,V.showContour=Le,V}var re={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=P.slice(),te=[1,0,0,0,1,0,0,0,1];function Q(se,he){se=se||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var de=re;de.model=se.model||P,de.view=se.view||P,de.projection=se.projection||P,de.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],de.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],de.objectOffset=this.objectOffset,de.contourColor=this.contourColor[0],de.inverseModel=g(de.inverseModel,de.model);for(var xe=0;xe<2;++xe)for(var _e=de.clipBounds[xe],be=0;be<3;++be)_e[be]=Math.min(Math.max(this.clipBounds[xe][be],-1e8),1e8);de.kambient=this.ambientLight,de.kdiffuse=this.diffuseLight,de.kspecular=this.specularLight,de.roughness=this.roughness,de.fresnel=this.fresnel,de.opacity=this.opacity,de.height=0,de.permutation=te,de.vertexColor=this.vertexColor;var Le=ne;for(v(Le,de.view,de.model),v(Le,de.projection,Le),g(Le,Le),xe=0;xe<3;++xe)de.eyePosition[xe]=Le[12+xe]/Le[15];var De=Le[15];for(xe=0;xe<3;++xe)De+=this.lightPosition[xe]*Le[4*xe+3];for(xe=0;xe<3;++xe){var ye=Le[12+xe];for(be=0;be<3;++be)ye+=Le[4*be+xe]*this.lightPosition[be];de.lightPosition[xe]=ye/De}var le=W(de,this);if(le.showSurface){for(this._shader.bind(),this._shader.uniforms=de,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),xe=0;xe<3;++xe)this.surfaceProject[xe]&&this.vertexCount&&(this._shader.uniforms.model=le.projections[xe],this._shader.uniforms.clipBounds=le.clipBounds[xe],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(le.showContour){var oe=this._contourShader;de.kambient=1,de.kdiffuse=0,de.kspecular=0,de.opacity=1,oe.bind(),oe.uniforms=de;var ve=this._contourVAO;for(ve.bind(),xe=0;xe<3;++xe)for(oe.uniforms.permutation=R[xe],pe.lineWidth(this.contourWidth[xe]*this.pixelRatio),be=0;be<this.contourLevels[xe].length;++be)be===this.highlightLevel[xe]?(oe.uniforms.contourColor=this.highlightColor[xe],oe.uniforms.contourTint=this.highlightTint[xe]):be!==0&&be-1!==this.highlightLevel[xe]||(oe.uniforms.contourColor=this.contourColor[xe],oe.uniforms.contourTint=this.contourTint[xe]),this._contourCounts[xe][be]&&(oe.uniforms.height=this.contourLevels[xe][be],ve.draw(pe.LINES,this._contourCounts[xe][be],this._contourOffsets[xe][be]));for(xe=0;xe<3;++xe)for(oe.uniforms.model=le.projections[xe],oe.uniforms.clipBounds=le.clipBounds[xe],be=0;be<3;++be)if(this.contourProject[xe][be]){oe.uniforms.permutation=R[be],pe.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[be].length;++Ce)Ce===this.highlightLevel[be]?(oe.uniforms.contourColor=this.highlightColor[be],oe.uniforms.contourTint=this.highlightTint[be]):Ce!==0&&Ce-1!==this.highlightLevel[be]||(oe.uniforms.contourColor=this.contourColor[be],oe.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][Ce]&&(oe.uniforms.height=this.contourLevels[be][Ce],ve.draw(pe.LINES,this._contourCounts[be][Ce],this._contourOffsets[be][Ce]))}for(ve.unbind(),(ve=this._dynamicVAO).bind(),xe=0;xe<3;++xe)if(this._dynamicCounts[xe]!==0)for(oe.uniforms.model=de.model,oe.uniforms.clipBounds=de.clipBounds,oe.uniforms.permutation=R[xe],pe.lineWidth(this.dynamicWidth[xe]*this.pixelRatio),oe.uniforms.contourColor=this.dynamicColor[xe],oe.uniforms.contourTint=this.dynamicTint[xe],oe.uniforms.height=this.dynamicLevel[xe],ve.draw(pe.LINES,this._dynamicCounts[xe],this._dynamicOffsets[xe]),be=0;be<3;++be)this.contourProject[be][xe]&&(oe.uniforms.model=le.projections[be],oe.uniforms.clipBounds=le.clipBounds[be],ve.draw(pe.LINES,this._dynamicCounts[xe],this._dynamicOffsets[xe]));ve.unbind()}}Z.draw=function(se){return Q.call(this,se,!1)},Z.drawTransparent=function(se){return Q.call(this,se,!0)};var $={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function K(se,he){return Array.isArray(se)?[he(se[0]),he(se[1]),he(se[2])]:[he(se),he(se),he(se)]}function ae(se){return Array.isArray(se)?se.length===3?[se[0],se[1],se[2],1]:[se[0],se[1],se[2],se[3]]:[0,0,0,1]}function ue(se){if(Array.isArray(se)){if(Array.isArray(se))return[ae(se[0]),ae(se[1]),ae(se[2])];var he=ae(se);return[he.slice(),he.slice(),he.slice()]}}Z.drawPick=function(se){se=se||{};var he=this.gl;he.disable(he.CULL_FACE);var pe=$;pe.model=se.model||P,pe.view=se.view||P,pe.projection=se.projection||P,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=te;for(var de=0;de<2;++de)for(var xe=pe.clipBounds[de],_e=0;_e<3;++_e)xe[_e]=Math.min(Math.max(this.clipBounds[de][_e],-1e8),1e8);var be=W(pe,this);if(be.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(he.TRIANGLES,this._vertexCount),de=0;de<3;++de)this.surfaceProject[de]&&(this._pickShader.uniforms.model=be.projections[de],this._pickShader.uniforms.clipBounds=be.clipBounds[de],this._vao.draw(he.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var Le=this._contourPickShader;Le.bind(),Le.uniforms=pe;var De=this._contourVAO;for(De.bind(),_e=0;_e<3;++_e)for(he.lineWidth(this.contourWidth[_e]*this.pixelRatio),Le.uniforms.permutation=R[_e],de=0;de<this.contourLevels[_e].length;++de)this._contourCounts[_e][de]&&(Le.uniforms.height=this.contourLevels[_e][de],De.draw(he.LINES,this._contourCounts[_e][de],this._contourOffsets[_e][de]));for(de=0;de<3;++de)for(Le.uniforms.model=be.projections[de],Le.uniforms.clipBounds=be.clipBounds[de],_e=0;_e<3;++_e)if(this.contourProject[de][_e]){Le.uniforms.permutation=R[_e],he.lineWidth(this.contourWidth[_e]*this.pixelRatio);for(var ye=0;ye<this.contourLevels[_e].length;++ye)this._contourCounts[_e][ye]&&(Le.uniforms.height=this.contourLevels[_e][ye],De.draw(he.LINES,this._contourCounts[_e][ye],this._contourOffsets[_e][ye]))}De.unbind()}},Z.pick=function(se){if(!se||se.id!==this.pickId)return null;var he=this._field[2].shape,pe=this._pickResult,de=he[0]*(se.value[0]+(se.value[2]>>4)/16)/255,xe=Math.floor(de),_e=de-xe,be=he[1]*(se.value[1]+(15&se.value[2])/16)/255,Le=Math.floor(be),De=be-Le;xe+=1,Le+=1;var ye=pe.position;ye[0]=ye[1]=ye[2]=0;for(var le=0;le<2;++le)for(var oe=le?_e:1-_e,ve=0;ve<2;++ve)for(var Ce=xe+le,ke=Le+ve,Ae=oe*(ve?De:1-De),Ee=0;Ee<3;++Ee)ye[Ee]+=this._field[Ee].get(Ce,ke)*Ae;for(var ze=this._pickResult.level,Fe=0;Fe<3;++Fe)if(ze[Fe]=x.le(this.contourLevels[Fe],ye[Fe]),ze[Fe]<0)this.contourLevels[Fe].length>0&&(ze[Fe]=0);else if(ze[Fe]<this.contourLevels[Fe].length-1){var ge=this.contourLevels[Fe][ze[Fe]],Te=this.contourLevels[Fe][ze[Fe]+1];Math.abs(ge-ye[Fe])>Math.abs(Te-ye[Fe])&&(ze[Fe]+=1)}for(pe.index[0]=_e<.5?xe:xe+1,pe.index[1]=De<.5?Le:Le+1,pe.uv[0]=de/he[0],pe.uv[1]=be/he[1],Ee=0;Ee<3;++Ee)pe.dataCoordinate[Ee]=this._field[Ee].get(pe.index[0],pe.index[1]);return pe},Z.padField=function(se,he){var pe=he.shape.slice(),de=se.shape.slice();h.assign(se.lo(1,1).hi(pe[0],pe[1]),he),h.assign(se.lo(1).hi(pe[0],1),he.hi(pe[0],1)),h.assign(se.lo(1,de[1]-1).hi(pe[0],1),he.lo(0,pe[1]-1).hi(pe[0],1)),h.assign(se.lo(0,1).hi(1,pe[1]),he.hi(1)),h.assign(se.lo(de[0]-1,1).hi(1,pe[1]),he.lo(pe[0]-1)),se.set(0,0,he.get(0,0)),se.set(0,de[1]-1,he.get(0,pe[1]-1)),se.set(de[0]-1,0,he.get(pe[0]-1,0)),se.set(de[0]-1,de[1]-1,he.get(pe[0]-1,pe[1]-1))},Z.update=function(se){se=se||{},this.objectOffset=se.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in se&&(this.contourWidth=K(se.contourWidth,Number)),"showContour"in se&&(this.showContour=K(se.showContour,Boolean)),"showSurface"in se&&(this.showSurface=!!se.showSurface),"contourTint"in se&&(this.contourTint=K(se.contourTint,Boolean)),"contourColor"in se&&(this.contourColor=ue(se.contourColor)),"contourProject"in se&&(this.contourProject=K(se.contourProject,function(fn){return K(fn,Boolean)})),"surfaceProject"in se&&(this.surfaceProject=se.surfaceProject),"dynamicColor"in se&&(this.dynamicColor=ue(se.dynamicColor)),"dynamicTint"in se&&(this.dynamicTint=K(se.dynamicTint,Number)),"dynamicWidth"in se&&(this.dynamicWidth=K(se.dynamicWidth,Number)),"opacity"in se&&(this.opacity=se.opacity),"opacityscale"in se&&(this.opacityscale=se.opacityscale),"colorBounds"in se&&(this.colorBounds=se.colorBounds),"vertexColor"in se&&(this.vertexColor=se.vertexColor?1:0),"colormap"in se&&this._colorMap.setPixels(this.genColormap(se.colormap,this.opacityscale));var he=se.field||se.coords&&se.coords[2]||null,pe=!1;if(he||(he=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in se||"coords"in se){var de=(he.shape[0]+2)*(he.shape[1]+2);de>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(de))),this._field[2]=y(this._field[2].data,[he.shape[0]+2,he.shape[1]+2]),this.padField(this._field[2],he),this.shape=he.shape.slice();for(var xe=this.shape,_e=0;_e<2;++_e)this._field[2].size>this._field[_e].data.length&&(l.freeFloat(this._field[_e].data),this._field[_e].data=l.mallocFloat(this._field[2].size)),this._field[_e]=y(this._field[_e].data,[xe[0]+2,xe[1]+2]);if(se.coords){var be=se.coords;if(!Array.isArray(be)||be.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(_e=0;_e<2;++_e){var Le=be[_e];for(ve=0;ve<2;++ve)if(Le.shape[ve]!==xe[ve])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[_e],Le)}}else if(se.ticks){var De=se.ticks;if(!Array.isArray(De)||De.length!==2)throw new Error("gl-surface: invalid ticks");for(_e=0;_e<2;++_e){var ye=De[_e];if((Array.isArray(ye)||ye.length)&&(ye=y(ye)),ye.shape[0]!==xe[_e])throw new Error("gl-surface: invalid tick length");var le=y(ye.data,xe);le.stride[_e]=ye.stride[0],le.stride[1^_e]=0,this.padField(this._field[_e],le)}}else{for(_e=0;_e<2;++_e){var oe=[0,0];oe[_e]=1,this._field[_e]=y(this._field[_e].data,[xe[0]+2,xe[1]+2],oe,0)}this._field[0].set(0,0,0);for(var ve=0;ve<xe[0];++ve)this._field[0].set(ve+1,0,ve);for(this._field[0].set(xe[0]+1,0,xe[0]-1),this._field[1].set(0,0,0),ve=0;ve<xe[1];++ve)this._field[1].set(0,ve+1,ve);this._field[1].set(0,xe[1]+1,xe[1]-1)}var Ce=this._field,ke=y(l.mallocFloat(3*Ce[2].size*2),[3,xe[0]+2,xe[1]+2,2]);for(_e=0;_e<3;++_e)m(ke.pick(_e),Ce[_e],"mirror");var Ae=y(l.mallocFloat(3*Ce[2].size),[xe[0]+2,xe[1]+2,3]);for(_e=0;_e<xe[0]+2;++_e)for(ve=0;ve<xe[1]+2;++ve){var Ee=ke.get(0,_e,ve,0),ze=ke.get(0,_e,ve,1),Fe=ke.get(1,_e,ve,0),ge=ke.get(1,_e,ve,1),Te=ke.get(2,_e,ve,0),Se=ke.get(2,_e,ve,1),Re=Fe*Se-ge*Te,Pe=Te*ze-Se*Ee,Ve=Ee*ge-ze*Fe,We=Math.sqrt(Re*Re+Pe*Pe+Ve*Ve);We<1e-8?(We=Math.max(Math.abs(Re),Math.abs(Pe),Math.abs(Ve)))<1e-8?(Ve=1,Pe=Re=0,We=1):We=1/We:We=1/Math.sqrt(We),Ae.set(_e,ve,0,Re*We),Ae.set(_e,ve,1,Pe*We),Ae.set(_e,ve,2,Ve*We)}l.free(ke.data);var Qe=[1/0,1/0,1/0],lt=[-1/0,-1/0,-1/0],ut=1/0,xt=-1/0,_t=(xe[0]-1)*(xe[1]-1)*6,mt=l.mallocFloat(i.nextPow2(10*_t)),it=0,nt=0;for(_e=0;_e<xe[0]-1;++_e)e:for(ve=0;ve<xe[1]-1;++ve){for(var Et=0;Et<2;++Et)for(var Rt=0;Rt<2;++Rt)for(var Ft=0;Ft<3;++Ft){var Pt=this._field[Ft].get(1+_e+Et,1+ve+Rt);if(isNaN(Pt)||!isFinite(Pt))continue e}for(Ft=0;Ft<6;++Ft){var Ze=_e+I[Ft][0],$e=ve+I[Ft][1],He=this._field[0].get(Ze+1,$e+1),Je=this._field[1].get(Ze+1,$e+1);Pt=this._field[2].get(Ze+1,$e+1),Re=Ae.get(Ze+1,$e+1,0),Pe=Ae.get(Ze+1,$e+1,1),Ve=Ae.get(Ze+1,$e+1,2),se.intensity&&(ft=se.intensity.get(Ze,$e));var ft=se.intensity?se.intensity.get(Ze,$e):Pt+this.objectOffset[2];mt[it++]=Ze,mt[it++]=$e,mt[it++]=He,mt[it++]=Je,mt[it++]=Pt,mt[it++]=0,mt[it++]=ft,mt[it++]=Re,mt[it++]=Pe,mt[it++]=Ve,Qe[0]=Math.min(Qe[0],He+this.objectOffset[0]),Qe[1]=Math.min(Qe[1],Je+this.objectOffset[1]),Qe[2]=Math.min(Qe[2],Pt+this.objectOffset[2]),ut=Math.min(ut,ft),lt[0]=Math.max(lt[0],He+this.objectOffset[0]),lt[1]=Math.max(lt[1],Je+this.objectOffset[1]),lt[2]=Math.max(lt[2],Pt+this.objectOffset[2]),xt=Math.max(xt,ft),nt+=1}}for(se.intensityBounds&&(ut=+se.intensityBounds[0],xt=+se.intensityBounds[1]),_e=6;_e<it;_e+=10)mt[_e]=(mt[_e]-ut)/(xt-ut);this._vertexCount=nt,this._coordinateBuffer.update(mt.subarray(0,it)),l.freeFloat(mt),l.free(Ae.data),this.bounds=[Qe,lt],this.intensity=se.intensity||this._field[2],this.intensityBounds[0]===ut&&this.intensityBounds[1]===xt||(pe=!0),this.intensityBounds=[ut,xt]}if("levels"in se){var ot=se.levels;for(ot=Array.isArray(ot[0])?ot.slice():[[],[],ot],_e=0;_e<3;++_e)ot[_e]=ot[_e].slice(),ot[_e].sort(function(fn,rn){return fn-rn});for(_e=0;_e<3;++_e)for(ve=0;ve<ot[_e].length;++ve)ot[_e][ve]-=this.objectOffset[_e];e:for(_e=0;_e<3;++_e){if(ot[_e].length!==this.contourLevels[_e].length){pe=!0;break}for(ve=0;ve<ot[_e].length;++ve)if(ot[_e][ve]!==this.contourLevels[_e][ve]){pe=!0;break e}}this.contourLevels=ot}if(pe){Ce=this._field,xe=this.shape;for(var je=[],Ue=0;Ue<3;++Ue){var st=this.contourLevels[Ue],Ke=[],gt=[],yt=[0,0,0];for(_e=0;_e<st.length;++_e){var bt=d(this._field[Ue],st[_e]);Ke.push(je.length/5|0),nt=0;e:for(ve=0;ve<bt.cells.length;++ve){var dt=bt.cells[ve];for(Ft=0;Ft<2;++Ft){var Lt=bt.positions[dt[Ft]],wt=Lt[0],Ct=0|Math.floor(wt),zt=wt-Ct,Dt=Lt[1],Nt=0|Math.floor(Dt),Kt=Dt-Nt,un=!1;t:for(var qt=0;qt<3;++qt){yt[qt]=0;var Jt=(Ue+qt+1)%3;for(Et=0;Et<2;++Et){var Ut=Et?zt:1-zt;for(Ze=0|Math.min(Math.max(Ct+Et,0),xe[0]),Rt=0;Rt<2;++Rt){var zn=Rt?Kt:1-Kt;if($e=0|Math.min(Math.max(Nt+Rt,0),xe[1]),Pt=qt<2?this._field[Jt].get(Ze,$e):(this.intensity.get(Ze,$e)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Pt)||isNaN(Pt)){un=!0;break t}var An=Ut*zn;yt[qt]+=An*Pt}}}if(un){if(Ft>0){for(var mn=0;mn<5;++mn)je.pop();nt-=1}continue e}je.push(yt[0],yt[1],Lt[0],Lt[1],yt[2]),nt+=1}}gt.push(nt)}this._contourOffsets[Ue]=Ke,this._contourCounts[Ue]=gt}var tn=l.mallocFloat(je.length);for(_e=0;_e<je.length;++_e)tn[_e]=je[_e];this._contourBuffer.update(tn),l.freeFloat(tn)}},Z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var se=0;se<3;++se)l.freeFloat(this._field[se].data)},Z.highlight=function(se){var he,pe;if(!se)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(he=0;he<3;++he)this.enableHighlight[he]?this.highlightLevel[he]=se.level[he]:this.highlightLevel[he]=-1;for(pe=this.snapToData?se.dataCoordinate:se.position,he=0;he<3;++he)pe[he]-=this.objectOffset[he];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var de=0,xe=this.shape,_e=l.mallocFloat(12*xe[0]*xe[1]),be=0;be<3;++be)if(this.enableDynamic[be]){this.dynamicLevel[be]=pe[be];var Le=(be+1)%3,De=(be+2)%3,ye=this._field[be],le=this._field[Le],oe=this._field[De],ve=d(ye,pe[be]),Ce=ve.cells,ke=ve.positions;for(this._dynamicOffsets[be]=de,he=0;he<Ce.length;++he)for(var Ae=Ce[he],Ee=0;Ee<2;++Ee){var ze=ke[Ae[Ee]],Fe=+ze[0],ge=0|Fe,Te=0|Math.min(ge+1,xe[0]),Se=Fe-ge,Re=1-Se,Pe=+ze[1],Ve=0|Pe,We=0|Math.min(Ve+1,xe[1]),Qe=Pe-Ve,lt=1-Qe,ut=Re*lt,xt=Re*Qe,_t=Se*lt,mt=Se*Qe,it=ut*le.get(ge,Ve)+xt*le.get(ge,We)+_t*le.get(Te,Ve)+mt*le.get(Te,We),nt=ut*oe.get(ge,Ve)+xt*oe.get(ge,We)+_t*oe.get(Te,Ve)+mt*oe.get(Te,We);if(isNaN(it)||isNaN(nt)){Ee&&(de-=1);break}_e[2*de+0]=it,_e[2*de+1]=nt,de+=1}this._dynamicCounts[be]=de-this._dynamicOffsets[be]}else this.dynamicLevel[be]=NaN,this._dynamicCounts[be]=0;this._dynamicBuffer.update(_e.subarray(0,2*de)),l.freeFloat(_e)}}},7766:function(f,s,n){var i=n(9618),r=n(5298),t=n(1888);f.exports=function(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(T){a=[T.LINEAR,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_NEAREST],l=[T.NEAREST,T.LINEAR,T.NEAREST_MIPMAP_NEAREST,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_LINEAR],u=[T.REPEAT,T.CLAMP_TO_EDGE,T.MIRRORED_REPEAT]}(_),typeof arguments[1]=="number")return m(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(_,0|arguments[1][0],0|arguments[1][1],arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var p=arguments[1],S=h(p)?p:p.raw;if(S)return function(T,E,O,P,I,R){var H=x(T);return T.texImage2D(T.TEXTURE_2D,0,I,I,R,E),new d(T,H,O,P,I,R)}(_,S,0|p.width,0|p.height,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return function(T,E){var O=E.dtype,P=E.shape.slice(),I=T.getParameter(T.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>I||P[1]<0||P[1]>I)throw new Error("gl-texture2d: Invalid texture size");var R=g(P,E.stride.slice()),H=0;O==="float32"?H=T.FLOAT:O==="float64"?(H=T.FLOAT,R=!1,O="float32"):O==="uint8"?H=T.UNSIGNED_BYTE:(H=T.UNSIGNED_BYTE,R=!1,O="uint8");var z,j,Z=0;if(P.length===2)Z=T.LUMINANCE,P=[P[0],P[1],1],E=i(E.data,P,[E.stride[0],E.stride[1],1],E.offset);else{if(P.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(P[2]===1)Z=T.ALPHA;else if(P[2]===2)Z=T.LUMINANCE_ALPHA;else if(P[2]===3)Z=T.RGB;else{if(P[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Z=T.RGBA}}H!==T.FLOAT||T.getExtension("OES_texture_float")||(H=T.UNSIGNED_BYTE,R=!1);var F=E.size;if(R)z=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var V=[P[2],P[2]*P[0],1];j=t.malloc(F,O);var W=i(j,P,V,0);O!=="float32"&&O!=="float64"||H!==T.UNSIGNED_BYTE?r.assign(W,E):c(W,E),z=j.subarray(0,F)}var re=x(T);return T.texImage2D(T.TEXTURE_2D,0,Z,P[0],P[1],0,Z,H,z),R||t.free(j),new d(T,re,P[0],P[1],Z,H)}(_,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,l=null,u=null;function h(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var c=function(_,p){r.muls(_,p,255)};function y(_,p,S){var T=_.gl,E=T.getParameter(T.MAX_TEXTURE_SIZE);if(p<0||p>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[p,S],_.bind(),T.texImage2D(T.TEXTURE_2D,0,_.format,p,S,0,_.format,_.type,null),_._mipLevels=[0],_}function d(_,p,S,T,E,O){this.gl=_,this.handle=p,this.format=E,this.type=O,this._shape=[S,T],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return P._wrapS},set:function(H){return P.wrapS=H}},{get:function(){return P._wrapT},set:function(H){return P.wrapT=H}}]),this._wrapVector=I;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return P._shape[0]},set:function(H){return P.width=H}},{get:function(){return P._shape[1]},set:function(H){return P.height=H}}]),this._shapeVector=R}var v=d.prototype;function g(_,p){return _.length===3?p[2]===1&&p[1]===_[0]*_[2]&&p[0]===_[2]:p[0]===1&&p[1]===_[0]}function x(_){var p=_.createTexture();return _.bindTexture(_.TEXTURE_2D,p),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),p}function m(_,p,S,T,E){var O=_.getParameter(_.MAX_TEXTURE_SIZE);if(p<0||p>O||S<0||S>O)throw new Error("gl-texture2d: Invalid texture shape");if(E===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=x(_);return _.texImage2D(_.TEXTURE_2D,0,T,p,S,0,T,E,null),new d(_,P,p,S,T,E)}Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var p=this.gl;if(this.type===p.FLOAT&&a.indexOf(_)>=0&&(p.getExtension("OES_texture_float_linear")||(_=p.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var p=this.gl;if(this.type===p.FLOAT&&a.indexOf(_)>=0&&(p.getExtension("OES_texture_float_linear")||(_=p.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(_,1),p!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),_.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(u.indexOf(_[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(Array.isArray(_)){if(_.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else _=[0|_,0|_];return y(this,0|_[0],0|_[1]),[0|_[0],0|_[1]]}},width:{get:function(){return this._shape[0]},set:function(_){return y(this,_|=0,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return _|=0,y(this,this._shape[0],_),_}}}),v.bind=function(_){var p=this.gl;return _!==void 0&&p.activeTexture(p.TEXTURE0+(0|_)),p.bindTexture(p.TEXTURE_2D,this.handle),_!==void 0?0|_:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),p=0;_>0;++p,_>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},v.setPixels=function(_,p,S,T){var E=this.gl;this.bind(),Array.isArray(p)?(T=S,S=0|p[1],p=0|p[0]):(p=p||0,S=S||0),T=T||0;var O=h(_)?_:_.raw;if(O)this._mipLevels.indexOf(T)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(T)):E.texSubImage2D(E.TEXTURE_2D,T,p,S,this.format,this.type,O);else{if(!(_.shape&&_.stride&&_.data))throw new Error("gl-texture2d: Unsupported data type");if(_.shape.length<2||p+_.shape[1]>this._shape[1]>>>T||S+_.shape[0]>this._shape[0]>>>T||p<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(P,I,R,H,z,j,Z,F){var V=F.dtype,W=F.shape.slice();if(W.length<2||W.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var re=0,ne=0,te=g(W,F.stride.slice());if(V==="float32"?re=P.FLOAT:V==="float64"?(re=P.FLOAT,te=!1,V="float32"):V==="uint8"?re=P.UNSIGNED_BYTE:(re=P.UNSIGNED_BYTE,te=!1,V="uint8"),W.length===2)ne=P.LUMINANCE,W=[W[0],W[1],1],F=i(F.data,W,[F.stride[0],F.stride[1],1],F.offset);else{if(W.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(W[2]===1)ne=P.ALPHA;else if(W[2]===2)ne=P.LUMINANCE_ALPHA;else if(W[2]===3)ne=P.RGB;else{if(W[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");ne=P.RGBA}W[2]}if(ne!==P.LUMINANCE&&ne!==P.ALPHA||z!==P.LUMINANCE&&z!==P.ALPHA||(ne=z),ne!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=F.size,$=Z.indexOf(H)<0;if($&&Z.push(H),re===j&&te)F.offset===0&&F.data.length===Q?$?P.texImage2D(P.TEXTURE_2D,H,z,W[0],W[1],0,z,j,F.data):P.texSubImage2D(P.TEXTURE_2D,H,I,R,W[0],W[1],z,j,F.data):$?P.texImage2D(P.TEXTURE_2D,H,z,W[0],W[1],0,z,j,F.data.subarray(F.offset,F.offset+Q)):P.texSubImage2D(P.TEXTURE_2D,H,I,R,W[0],W[1],z,j,F.data.subarray(F.offset,F.offset+Q));else{var K;K=j===P.FLOAT?t.mallocFloat32(Q):t.mallocUint8(Q);var ae=i(K,W,[W[2],W[2]*W[0],1]);re===P.FLOAT&&j===P.UNSIGNED_BYTE?c(ae,F):r.assign(ae,F),$?P.texImage2D(P.TEXTURE_2D,H,z,W[0],W[1],0,z,j,K.subarray(0,Q)):P.texSubImage2D(P.TEXTURE_2D,H,I,R,W[0],W[1],z,j,K.subarray(0,Q)),j===P.FLOAT?t.freeFloat32(K):t.freeUint8(K)}})(E,p,S,T,this.format,this.type,this._mipLevels,_)}}},1433:function(f){f.exports=function(s,n,i){n?n.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var r=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var t=0;t<i.length;++t){var a=i[t];if(a.buffer){var l=a.buffer,u=a.size||4,h=a.type||s.FLOAT,c=!!a.normalized,y=a.stride||0,d=a.offset||0;l.bind(),s.enableVertexAttribArray(t),s.vertexAttribPointer(t,u,h,c,y,d)}else{if(typeof a=="number")s.vertexAttrib1f(t,a);else if(a.length===1)s.vertexAttrib1f(t,a[0]);else if(a.length===2)s.vertexAttrib2f(t,a[0],a[1]);else if(a.length===3)s.vertexAttrib3f(t,a[0],a[1],a[2]);else{if(a.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(t,a[0],a[1],a[2],a[3])}s.disableVertexAttribArray(t)}}for(;t<r;++t)s.disableVertexAttribArray(t)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),t=0;t<r;++t)s.disableVertexAttribArray(t)}},870:function(f,s,n){var i=n(1433);function r(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,a,l){this._elements=a,this._attributes=t,this._elementsType=l||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,a,l){l=l||0;var u=this.gl;this._elements?u.drawElements(t,a,this._elementsType,l):u.drawArrays(t,l,a)},f.exports=function(t){return new r(t)}},7518:function(f,s,n){var i=n(1433);function r(a,l,u,h,c,y){this.location=a,this.dimension=l,this.a=u,this.b=h,this.c=c,this.d=y}function t(a,l,u){this.gl=a,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=a.UNSIGNED_SHORT}r.prototype.bind=function(a){switch(this.dimension){case 1:a.vertexAttrib1f(this.location,this.a);break;case 2:a.vertexAttrib2f(this.location,this.a,this.b);break;case 3:a.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:a.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},t.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var a=0;a<this._attribs.length;++a)this._attribs[a].bind(this.gl)},t.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},t.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},t.prototype.update=function(a,l,u){if(this.bind(),i(this.gl,l,a),this.unbind(),this._attribs.length=0,a)for(var h=0;h<a.length;++h){var c=a[h];typeof c=="number"?this._attribs.push(new r(h,1,c)):Array.isArray(c)&&this._attribs.push(new r(h,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},t.prototype.draw=function(a,l,u){u=u||0;var h=this.gl;this._useElements?h.drawElements(a,l,this._elementsType,u):h.drawArrays(a,u,l)},f.exports=function(a,l){return new t(a,l,l.createVertexArrayOES())}},8116:function(f,s,n){var i=n(7518),r=n(870);function t(a){this.bindVertexArrayOES=a.bindVertexArray.bind(a),this.createVertexArrayOES=a.createVertexArray.bind(a),this.deleteVertexArrayOES=a.deleteVertexArray.bind(a)}f.exports=function(a,l,u,h){var c,y=a.createVertexArray?new t(a):a.getExtension("OES_vertex_array_object");return(c=y?i(a,y):r(a)).update(l,u,h),c}},5632:function(f){f.exports=function(s,n,i){return s[0]=n[0]+i[0],s[1]=n[1]+i[1],s[2]=n[2]+i[2],s}},8192:function(f,s,n){f.exports=function(a,l){var u=i(a[0],a[1],a[2]),h=i(l[0],l[1],l[2]);r(u,u),r(h,h);var c=t(u,h);return c>1?0:Math.acos(c)};var i=n(2825),r=n(3536),t=n(244)},9226:function(f){f.exports=function(s,n){return s[0]=Math.ceil(n[0]),s[1]=Math.ceil(n[1]),s[2]=Math.ceil(n[2]),s}},3126:function(f){f.exports=function(s){var n=new Float32Array(3);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n}},3990:function(f){f.exports=function(s,n){return s[0]=n[0],s[1]=n[1],s[2]=n[2],s}},1091:function(f){f.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},5911:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=i[0],u=i[1],h=i[2];return s[0]=t*h-a*u,s[1]=a*l-r*h,s[2]=r*u-t*l,s}},5455:function(f,s,n){f.exports=n(7056)},7056:function(f){f.exports=function(s,n){var i=n[0]-s[0],r=n[1]-s[1],t=n[2]-s[2];return Math.sqrt(i*i+r*r+t*t)}},4008:function(f,s,n){f.exports=n(6690)},6690:function(f){f.exports=function(s,n,i){return s[0]=n[0]/i[0],s[1]=n[1]/i[1],s[2]=n[2]/i[2],s}},244:function(f){f.exports=function(s,n){return s[0]*n[0]+s[1]*n[1]+s[2]*n[2]}},2613:function(f){f.exports=1e-6},9922:function(f,s,n){f.exports=function(r,t){var a=r[0],l=r[1],u=r[2],h=t[0],c=t[1],y=t[2];return Math.abs(a-h)<=i*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(l-c)<=i*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-y)<=i*Math.max(1,Math.abs(u),Math.abs(y))};var i=n(2613)},9265:function(f){f.exports=function(s,n){return s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]}},2681:function(f){f.exports=function(s,n){return s[0]=Math.floor(n[0]),s[1]=Math.floor(n[1]),s[2]=Math.floor(n[2]),s}},5137:function(f,s,n){f.exports=function(r,t,a,l,u,h){var c,y;for(t||(t=3),a||(a=0),y=l?Math.min(l*t+a,r.length):r.length,c=a;c<y;c+=t)i[0]=r[c],i[1]=r[c+1],i[2]=r[c+2],u(i,i,h),r[c]=i[0],r[c+1]=i[1],r[c+2]=i[2];return r};var i=n(1091)()},2825:function(f){f.exports=function(s,n,i){var r=new Float32Array(3);return r[0]=s,r[1]=n,r[2]=i,r}},2931:function(f,s,n){f.exports={EPSILON:n(2613),create:n(1091),clone:n(3126),angle:n(8192),fromValues:n(2825),copy:n(3990),set:n(1463),equals:n(9922),exactEquals:n(9265),add:n(5632),subtract:n(6843),sub:n(2229),multiply:n(5847),mul:n(4505),divide:n(6690),div:n(4008),min:n(8107),max:n(7417),floor:n(2681),ceil:n(9226),round:n(2447),scale:n(6621),scaleAndAdd:n(8489),distance:n(7056),dist:n(5455),squaredDistance:n(2953),sqrDist:n(6141),length:n(1387),len:n(868),squaredLength:n(3066),sqrLen:n(5486),negate:n(5093),inverse:n(811),normalize:n(3536),dot:n(244),cross:n(5911),lerp:n(6658),random:n(7636),transformMat4:n(5673),transformMat3:n(492),transformQuat:n(264),rotateX:n(6894),rotateY:n(109),rotateZ:n(8692),forEach:n(5137)}},811:function(f){f.exports=function(s,n){return s[0]=1/n[0],s[1]=1/n[1],s[2]=1/n[2],s}},868:function(f,s,n){f.exports=n(1387)},1387:function(f){f.exports=function(s){var n=s[0],i=s[1],r=s[2];return Math.sqrt(n*n+i*i+r*r)}},6658:function(f){f.exports=function(s,n,i,r){var t=n[0],a=n[1],l=n[2];return s[0]=t+r*(i[0]-t),s[1]=a+r*(i[1]-a),s[2]=l+r*(i[2]-l),s}},7417:function(f){f.exports=function(s,n,i){return s[0]=Math.max(n[0],i[0]),s[1]=Math.max(n[1],i[1]),s[2]=Math.max(n[2],i[2]),s}},8107:function(f){f.exports=function(s,n,i){return s[0]=Math.min(n[0],i[0]),s[1]=Math.min(n[1],i[1]),s[2]=Math.min(n[2],i[2]),s}},4505:function(f,s,n){f.exports=n(5847)},5847:function(f){f.exports=function(s,n,i){return s[0]=n[0]*i[0],s[1]=n[1]*i[1],s[2]=n[2]*i[2],s}},5093:function(f){f.exports=function(s,n){return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s}},3536:function(f){f.exports=function(s,n){var i=n[0],r=n[1],t=n[2],a=i*i+r*r+t*t;return a>0&&(a=1/Math.sqrt(a),s[0]=n[0]*a,s[1]=n[1]*a,s[2]=n[2]*a),s}},7636:function(f){f.exports=function(s,n){n=n||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,t=Math.sqrt(1-r*r)*n;return s[0]=Math.cos(i)*t,s[1]=Math.sin(i)*t,s[2]=r*n,s}},6894:function(f){f.exports=function(s,n,i,r){var t=i[1],a=i[2],l=n[1]-t,u=n[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=n[0],s[1]=t+l*c-u*h,s[2]=a+l*h+u*c,s}},109:function(f){f.exports=function(s,n,i,r){var t=i[0],a=i[2],l=n[0]-t,u=n[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=t+u*h+l*c,s[1]=n[1],s[2]=a+u*c-l*h,s}},8692:function(f){f.exports=function(s,n,i,r){var t=i[0],a=i[1],l=n[0]-t,u=n[1]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=t+l*c-u*h,s[1]=a+l*h+u*c,s[2]=n[2],s}},2447:function(f){f.exports=function(s,n){return s[0]=Math.round(n[0]),s[1]=Math.round(n[1]),s[2]=Math.round(n[2]),s}},6621:function(f){f.exports=function(s,n,i){return s[0]=n[0]*i,s[1]=n[1]*i,s[2]=n[2]*i,s}},8489:function(f){f.exports=function(s,n,i,r){return s[0]=n[0]+i[0]*r,s[1]=n[1]+i[1]*r,s[2]=n[2]+i[2]*r,s}},1463:function(f){f.exports=function(s,n,i,r){return s[0]=n,s[1]=i,s[2]=r,s}},6141:function(f,s,n){f.exports=n(2953)},5486:function(f,s,n){f.exports=n(3066)},2953:function(f){f.exports=function(s,n){var i=n[0]-s[0],r=n[1]-s[1],t=n[2]-s[2];return i*i+r*r+t*t}},3066:function(f){f.exports=function(s){var n=s[0],i=s[1],r=s[2];return n*n+i*i+r*r}},2229:function(f,s,n){f.exports=n(6843)},6843:function(f){f.exports=function(s,n,i){return s[0]=n[0]-i[0],s[1]=n[1]-i[1],s[2]=n[2]-i[2],s}},492:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2];return s[0]=r*i[0]+t*i[3]+a*i[6],s[1]=r*i[1]+t*i[4]+a*i[7],s[2]=r*i[2]+t*i[5]+a*i[8],s}},5673:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=i[3]*r+i[7]*t+i[11]*a+i[15];return l=l||1,s[0]=(i[0]*r+i[4]*t+i[8]*a+i[12])/l,s[1]=(i[1]*r+i[5]*t+i[9]*a+i[13])/l,s[2]=(i[2]*r+i[6]*t+i[10]*a+i[14])/l,s}},264:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=i[0],u=i[1],h=i[2],c=i[3],y=c*r+u*a-h*t,d=c*t+h*r-l*a,v=c*a+l*t-u*r,g=-l*r-u*t-h*a;return s[0]=y*c+g*-l+d*-h-v*-u,s[1]=d*c+g*-u+v*-l-y*-h,s[2]=v*c+g*-h+y*-u-d*-l,s}},4361:function(f){f.exports=function(s,n,i){return s[0]=n[0]+i[0],s[1]=n[1]+i[1],s[2]=n[2]+i[2],s[3]=n[3]+i[3],s}},2335:function(f){f.exports=function(s){var n=new Float32Array(4);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n}},2933:function(f){f.exports=function(s,n){return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s}},7536:function(f){f.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},4691:function(f){f.exports=function(s,n){var i=n[0]-s[0],r=n[1]-s[1],t=n[2]-s[2],a=n[3]-s[3];return Math.sqrt(i*i+r*r+t*t+a*a)}},1373:function(f){f.exports=function(s,n,i){return s[0]=n[0]/i[0],s[1]=n[1]/i[1],s[2]=n[2]/i[2],s[3]=n[3]/i[3],s}},3750:function(f){f.exports=function(s,n){return s[0]*n[0]+s[1]*n[1]+s[2]*n[2]+s[3]*n[3]}},3390:function(f){f.exports=function(s,n,i,r){var t=new Float32Array(4);return t[0]=s,t[1]=n,t[2]=i,t[3]=r,t}},9970:function(f,s,n){f.exports={create:n(7536),clone:n(2335),fromValues:n(3390),copy:n(2933),set:n(4578),add:n(4361),subtract:n(6860),multiply:n(3576),divide:n(1373),min:n(2334),max:n(160),scale:n(9288),scaleAndAdd:n(4844),distance:n(4691),squaredDistance:n(7960),length:n(6808),squaredLength:n(483),negate:n(1498),inverse:n(4494),normalize:n(5177),dot:n(3750),lerp:n(2573),random:n(9131),transformMat4:n(5352),transformQuat:n(4041)}},4494:function(f){f.exports=function(s,n){return s[0]=1/n[0],s[1]=1/n[1],s[2]=1/n[2],s[3]=1/n[3],s}},6808:function(f){f.exports=function(s){var n=s[0],i=s[1],r=s[2],t=s[3];return Math.sqrt(n*n+i*i+r*r+t*t)}},2573:function(f){f.exports=function(s,n,i,r){var t=n[0],a=n[1],l=n[2],u=n[3];return s[0]=t+r*(i[0]-t),s[1]=a+r*(i[1]-a),s[2]=l+r*(i[2]-l),s[3]=u+r*(i[3]-u),s}},160:function(f){f.exports=function(s,n,i){return s[0]=Math.max(n[0],i[0]),s[1]=Math.max(n[1],i[1]),s[2]=Math.max(n[2],i[2]),s[3]=Math.max(n[3],i[3]),s}},2334:function(f){f.exports=function(s,n,i){return s[0]=Math.min(n[0],i[0]),s[1]=Math.min(n[1],i[1]),s[2]=Math.min(n[2],i[2]),s[3]=Math.min(n[3],i[3]),s}},3576:function(f){f.exports=function(s,n,i){return s[0]=n[0]*i[0],s[1]=n[1]*i[1],s[2]=n[2]*i[2],s[3]=n[3]*i[3],s}},1498:function(f){f.exports=function(s,n){return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s[3]=-n[3],s}},5177:function(f){f.exports=function(s,n){var i=n[0],r=n[1],t=n[2],a=n[3],l=i*i+r*r+t*t+a*a;return l>0&&(l=1/Math.sqrt(l),s[0]=i*l,s[1]=r*l,s[2]=t*l,s[3]=a*l),s}},9131:function(f,s,n){var i=n(5177),r=n(9288);f.exports=function(t,a){return a=a||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),i(t,t),r(t,t,a),t}},9288:function(f){f.exports=function(s,n,i){return s[0]=n[0]*i,s[1]=n[1]*i,s[2]=n[2]*i,s[3]=n[3]*i,s}},4844:function(f){f.exports=function(s,n,i,r){return s[0]=n[0]+i[0]*r,s[1]=n[1]+i[1]*r,s[2]=n[2]+i[2]*r,s[3]=n[3]+i[3]*r,s}},4578:function(f){f.exports=function(s,n,i,r,t){return s[0]=n,s[1]=i,s[2]=r,s[3]=t,s}},7960:function(f){f.exports=function(s,n){var i=n[0]-s[0],r=n[1]-s[1],t=n[2]-s[2],a=n[3]-s[3];return i*i+r*r+t*t+a*a}},483:function(f){f.exports=function(s){var n=s[0],i=s[1],r=s[2],t=s[3];return n*n+i*i+r*r+t*t}},6860:function(f){f.exports=function(s,n,i){return s[0]=n[0]-i[0],s[1]=n[1]-i[1],s[2]=n[2]-i[2],s[3]=n[3]-i[3],s}},5352:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=n[3];return s[0]=i[0]*r+i[4]*t+i[8]*a+i[12]*l,s[1]=i[1]*r+i[5]*t+i[9]*a+i[13]*l,s[2]=i[2]*r+i[6]*t+i[10]*a+i[14]*l,s[3]=i[3]*r+i[7]*t+i[11]*a+i[15]*l,s}},4041:function(f){f.exports=function(s,n,i){var r=n[0],t=n[1],a=n[2],l=i[0],u=i[1],h=i[2],c=i[3],y=c*r+u*a-h*t,d=c*t+h*r-l*a,v=c*a+l*t-u*r,g=-l*r-u*t-h*a;return s[0]=y*c+g*-l+d*-h-v*-u,s[1]=d*c+g*-u+v*-l-y*-h,s[2]=v*c+g*-h+y*-u-d*-l,s[3]=n[3],s}},1848:function(f,s,n){var i=n(4905),r=n(6468);f.exports=function(t){for(var a=Array.isArray(t)?t:i(t),l=0;l<a.length;l++){var u=a[l];if(u.type==="preprocessor"){var h=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var c=h[1],y=h[2];return(c?r(y):y).trim()}}}}},5874:function(f,s,n){f.exports=function(P){var I,R,H,z=0,j=0,Z=u,F=[],V=[],W=1,re=0,ne=0,te=!1,Q=!1,$="",K=t,ae=i;(P=P||{}).version==="300 es"&&(K=l,ae=a);var ue={},se={};for(z=0;z<K.length;z++)ue[K[z]]=!0;for(z=0;z<ae.length;z++)se[ae[z]]=!0;return function(ve){return V=[],ve!==null?function(Ce){var ke;for(z=0,Ce.toString&&(Ce=Ce.toString()),$+=Ce.replace(/\r\n/g,`
`),H=$.length;I=$[z],z<H;){switch(ke=z,Z){case c:z=_e();break;case y:case d:z=xe();break;case v:z=be();break;case g:z=ye();break;case E:z=De();break;case x:z=le();break;case h:z=oe();break;case S:z=de();break;case u:z=pe()}ke!==z&&($[ke]===`
`?(re=0,++W):++re)}return j+=z,$=$.slice(z),V}(ve):(F.length&&he(F.join("")),Z=T,he("(eof)"),V)};function he(ve){ve.length&&V.push({type:O[Z],data:ve,position:ne,line:W,column:re})}function pe(){return F=F.length?[]:F,R==="/"&&I==="*"?(ne=j+z-1,Z=c,R=I,z+1):R==="/"&&I==="/"?(ne=j+z-1,Z=y,R=I,z+1):I==="#"?(Z=d,ne=j+z,z):/\s/.test(I)?(Z=S,ne=j+z,z):(te=/\d/.test(I),Q=/[^\w_]/.test(I),ne=j+z,Z=te?g:Q?v:h,z)}function de(){return/[^\s]/g.test(I)?(he(F.join("")),Z=u,z):(F.push(I),R=I,z+1)}function xe(){return I!=="\r"&&I!==`
`||R==="\\"?(F.push(I),R=I,z+1):(he(F.join("")),Z=u,z)}function _e(){return I==="/"&&R==="*"?(F.push(I),he(F.join("")),Z=u,z+1):(F.push(I),R=I,z+1)}function be(){if(R==="."&&/\d/.test(I))return Z=x,z;if(R==="/"&&I==="*")return Z=c,z;if(R==="/"&&I==="/")return Z=y,z;if(I==="."&&F.length){for(;Le(F););return Z=x,z}if(I===";"||I===")"||I==="("){if(F.length)for(;Le(F););return he(I),Z=u,z+1}var ve=F.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||ve){for(;Le(F););return Z=u,z}return F.push(I),R=I,z+1}function Le(ve){for(var Ce,ke,Ae=0;;){if(Ce=r.indexOf(ve.slice(0,ve.length+Ae).join("")),ke=r[Ce],Ce===-1){if(Ae--+ve.length>0)continue;ke=ve.slice(0,1).join("")}return he(ke),ne+=ke.length,(F=F.slice(ke.length)).length}}function De(){return/[^a-fA-F0-9]/.test(I)?(he(F.join("")),Z=u,z):(F.push(I),R=I,z+1)}function ye(){return I==="."||/[eE]/.test(I)?(F.push(I),Z=x,R=I,z+1):I==="x"&&F.length===1&&F[0]==="0"?(Z=E,F.push(I),R=I,z+1):/[^\d]/.test(I)?(he(F.join("")),Z=u,z):(F.push(I),R=I,z+1)}function le(){return I==="f"&&(F.push(I),R=I,z+=1),/[eE]/.test(I)?(F.push(I),R=I,z+1):(I!=="-"&&I!=="+"||!/[eE]/.test(R))&&/[^\d]/.test(I)?(he(F.join("")),Z=u,z):(F.push(I),R=I,z+1)}function oe(){if(/[^\d\w_]/.test(I)){var ve=F.join("");return Z=se[ve]?p:ue[ve]?_:m,he(F.join("")),Z=u,z}return F.push(I),R=I,z+1}};var i=n(620),r=n(7827),t=n(6852),a=n(7932),l=n(3508),u=999,h=9999,c=0,y=1,d=2,v=3,g=4,x=5,m=6,_=7,p=8,S=9,T=10,E=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(f,s,n){var i=n(6852);i=i.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),f.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(f){f.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(f,s,n){var i=n(620);f.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(f){f.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(f){f.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(f,s,n){var i=n(5874);f.exports=function(r,t){var a=i(t),l=[];return(l=l.concat(a(r))).concat(a(null))}},3236:function(f){f.exports=function(s){typeof s=="string"&&(s=[s]);for(var n=[].slice.call(arguments,1),i=[],r=0;r<s.length-1;r++)i.push(s[r],n[r]||"");return i.push(s[r]),i.join("")}},7520:function(f,s,n){var i=n(9507);f.exports=i&&function(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{r=!1}return r}()},3778:function(f,s){s.read=function(n,i,r,t,a){var l,u,h=8*a-t-1,c=(1<<h)-1,y=c>>1,d=-7,v=r?a-1:0,g=r?-1:1,x=n[i+v];for(v+=g,l=x&(1<<-d)-1,x>>=-d,d+=h;d>0;l=256*l+n[i+v],v+=g,d-=8);for(u=l&(1<<-d)-1,l>>=-d,d+=t;d>0;u=256*u+n[i+v],v+=g,d-=8);if(l===0)l=1-y;else{if(l===c)return u?NaN:1/0*(x?-1:1);u+=Math.pow(2,t),l-=y}return(x?-1:1)*u*Math.pow(2,l-t)},s.write=function(n,i,r,t,a,l){var u,h,c,y=8*l-a-1,d=(1<<y)-1,v=d>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=t?0:l-1,m=t?1:-1,_=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,u=d):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+v>=1?g/c:g*Math.pow(2,1-v))*c>=2&&(u++,c/=2),u+v>=d?(h=0,u=d):u+v>=1?(h=(i*c-1)*Math.pow(2,a),u+=v):(h=i*Math.pow(2,v-1)*Math.pow(2,a),u=0));a>=8;n[r+x]=255&h,x+=m,h/=256,a-=8);for(u=u<<a|h,y+=a;y>0;n[r+x]=255&u,x+=m,u/=256,y-=8);n[r+x-m]|=128*_}},8954:function(f,s,n){f.exports=function(y,d){var v=y.length;if(v===0)throw new Error("Must have at least d+1 points");var g=y[0].length;if(v<=g)throw new Error("Must input at least d+1 points");var x=y.slice(0,g+1),m=i.apply(void 0,x);if(m===0)throw new Error("Input not in general position");for(var _=new Array(g+1),p=0;p<=g;++p)_[p]=p;m<0&&(_[0]=1,_[1]=0);var S=new t(_,new Array(g+1),!1),T=S.adjacent,E=new Array(g+2);for(p=0;p<=g;++p){for(var O=_.slice(),P=0;P<=g;++P)P===p&&(O[P]=-1);var I=O[0];O[0]=O[1],O[1]=I;var R=new t(O,new Array(g+1),!0);T[p]=R,E[p]=R}for(E[g+1]=S,p=0;p<=g;++p){O=T[p].vertices;var H=T[p].adjacent;for(P=0;P<=g;++P){var z=O[P];if(z<0)H[P]=S;else for(var j=0;j<=g;++j)T[j].vertices.indexOf(z)<0&&(H[P]=T[j])}}var Z=new h(g,x,E),F=!!d;for(p=g+1;p<v;++p)Z.insert(y[p],F);return Z.boundary()};var i=n(3250),r=n(6803).Fw;function t(y,d,v){this.vertices=y,this.adjacent=d,this.boundary=v,this.lastVisited=-1}function a(y,d,v){this.vertices=y,this.cell=d,this.index=v}function l(y,d){return r(y.vertices,d.vertices)}t.prototype.flip=function(){var y=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=y;var d=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=d};var u=[];function h(y,d,v){this.dimension=y,this.vertices=d,this.simplices=v,this.interior=v.filter(function(_){return!_.boundary}),this.tuple=new Array(y+1);for(var g=0;g<=y;++g)this.tuple[g]=this.vertices[g];var x,m=u[y];m||(m=u[y]=((x=i[y+1])||(x=i),function(_){return function(){var p=this.tuple;return _.apply(this,p)}}(x))),this.orient=m}var c=h.prototype;c.handleBoundaryDegeneracy=function(y,d){var v=this.dimension,g=this.vertices.length-1,x=this.tuple,m=this.vertices,_=[y];for(y.lastVisited=-g;_.length>0;)for(var p=(y=_.pop()).adjacent,S=0;S<=v;++S){var T=p[S];if(T.boundary&&!(T.lastVisited<=-g)){for(var E=T.vertices,O=0;O<=v;++O){var P=E[O];x[O]=P<0?d:m[P]}var I=this.orient();if(I>0)return T;T.lastVisited=-g,I===0&&_.push(T)}}return null},c.walk=function(y,d){var v=this.vertices.length-1,g=this.dimension,x=this.vertices,m=this.tuple,_=d?this.interior.length*Math.random()|0:this.interior.length-1,p=this.interior[_];e:for(;!p.boundary;){for(var S=p.vertices,T=p.adjacent,E=0;E<=g;++E)m[E]=x[S[E]];for(p.lastVisited=v,E=0;E<=g;++E){var O=T[E];if(!(O.lastVisited>=v)){var P=m[E];m[E]=y;var I=this.orient();if(m[E]=P,I<0){p=O;continue e}O.boundary?O.lastVisited=-v:O.lastVisited=v}}return}return p},c.addPeaks=function(y,d){var v=this.vertices.length-1,g=this.dimension,x=this.vertices,m=this.tuple,_=this.interior,p=this.simplices,S=[d];d.lastVisited=v,d.vertices[d.vertices.indexOf(-1)]=v,d.boundary=!1,_.push(d);for(var T=[];S.length>0;){var E=(d=S.pop()).vertices,O=d.adjacent,P=E.indexOf(v);if(!(P<0)){for(var I=0;I<=g;++I)if(I!==P){var R=O[I];if(R.boundary&&!(R.lastVisited>=v)){var H=R.vertices;if(R.lastVisited!==-v){for(var z=0,j=0;j<=g;++j)H[j]<0?(z=j,m[j]=y):m[j]=x[H[j]];if(this.orient()>0){H[z]=v,R.boundary=!1,_.push(R),S.push(R),R.lastVisited=v;continue}R.lastVisited=-v}var Z=R.adjacent,F=E.slice(),V=O.slice(),W=new t(F,V,!0);p.push(W);var re=Z.indexOf(d);if(!(re<0))for(Z[re]=W,V[P]=R,F[I]=-1,V[I]=d,O[I]=W,W.flip(),j=0;j<=g;++j){var ne=F[j];if(!(ne<0||ne===v)){for(var te=new Array(g-1),Q=0,$=0;$<=g;++$){var K=F[$];K<0||$===j||(te[Q++]=K)}T.push(new a(te,W,j))}}}}}}for(T.sort(l),I=0;I+1<T.length;I+=2){var ae=T[I],ue=T[I+1],se=ae.index,he=ue.index;se<0||he<0||(ae.cell.adjacent[ae.index]=ue.cell,ue.cell.adjacent[ue.index]=ae.cell)}},c.insert=function(y,d){var v=this.vertices;v.push(y);var g=this.walk(y,d);if(g){for(var x=this.dimension,m=this.tuple,_=0;_<=x;++_){var p=g.vertices[_];m[_]=p<0?y:v[p]}var S=this.orient(m);S<0||(S!==0||(g=this.handleBoundaryDegeneracy(g,y)))&&this.addPeaks(y,g)}},c.boundary=function(){for(var y=this.dimension,d=[],v=this.simplices,g=v.length,x=0;x<g;++x){var m=v[x];if(m.boundary){for(var _=new Array(y),p=m.vertices,S=0,T=0,E=0;E<=y;++E)p[E]>=0?_[S++]=p[E]:T=1&E;if(T===(1&y)){var O=_[0];_[0]=_[1],_[1]=O}d.push(_)}}return d}},3352:function(f,s,n){var i=n(2478);function r(S,T,E,O,P){this.mid=S,this.left=T,this.right=E,this.leftPoints=O,this.rightPoints=P,this.count=(T?T.count:0)+(E?E.count:0)+O.length}f.exports=function(S){return S&&S.length!==0?new _(m(S)):new _(null)};var t=r.prototype;function a(S,T){S.mid=T.mid,S.left=T.left,S.right=T.right,S.leftPoints=T.leftPoints,S.rightPoints=T.rightPoints,S.count=T.count}function l(S,T){var E=m(T);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,T){var E=S.intervals([]);E.push(T),l(S,E)}function h(S,T){var E=S.intervals([]),O=E.indexOf(T);return O<0?0:(E.splice(O,1),l(S,E),1)}function c(S,T,E){for(var O=0;O<S.length&&S[O][0]<=T;++O){var P=E(S[O]);if(P)return P}}function y(S,T,E){for(var O=S.length-1;O>=0&&S[O][1]>=T;--O){var P=E(S[O]);if(P)return P}}function d(S,T){for(var E=0;E<S.length;++E){var O=T(S[E]);if(O)return O}}function v(S,T){return S-T}function g(S,T){return S[0]-T[0]||S[1]-T[1]}function x(S,T){return S[1]-T[1]||S[0]-T[0]}function m(S){if(S.length===0)return null;for(var T=[],E=0;E<S.length;++E)T.push(S[E][0],S[E][1]);T.sort(v);var O=T[T.length>>1],P=[],I=[],R=[];for(E=0;E<S.length;++E){var H=S[E];H[1]<O?P.push(H):O<H[0]?I.push(H):R.push(H)}var z=R,j=R.slice();return z.sort(g),j.sort(x),new r(O,m(P),m(I),z,j)}function _(S){this.root=S}t.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},t.insert=function(S){var T=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(T+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(T+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,g),O=i.ge(this.rightPoints,S,x);this.leftPoints.splice(E,0,S),this.rightPoints.splice(O,0,S)}},t.remove=function(S){var T=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(T-1)?h(this,S):(I=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(T-1)?h(this,S):(I=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,O=this.left;O.right;)E=O,O=O.right;if(E===this)O.right=this.right;else{var P=this.left,I=this.right;E.count-=O.count,E.right=O.left,O.left=P,O.right=I}a(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(P=i.ge(this.leftPoints,S,g);P<this.leftPoints.length&&this.leftPoints[P][0]===S[0];++P)if(this.leftPoints[P]===S){for(this.count-=1,this.leftPoints.splice(P,1),I=i.ge(this.rightPoints,S,x);I<this.rightPoints.length&&this.rightPoints[I][1]===S[1];++I)if(this.rightPoints[I]===S)return this.rightPoints.splice(I,1),1}return 0},t.queryPoint=function(S,T){return S<this.mid?this.left&&(E=this.left.queryPoint(S,T))?E:c(this.leftPoints,S,T):S>this.mid?this.right&&(E=this.right.queryPoint(S,T))?E:y(this.rightPoints,S,T):d(this.leftPoints,T);var E},t.queryInterval=function(S,T,E){var O;return S<this.mid&&this.left&&(O=this.left.queryInterval(S,T,E))||T>this.mid&&this.right&&(O=this.right.queryInterval(S,T,E))?O:T<this.mid?c(this.leftPoints,T,E):S>this.mid?y(this.rightPoints,S,E):d(this.leftPoints,E)};var p=_.prototype;p.insert=function(S){this.root?this.root.insert(S):this.root=new r(S[0],null,null,[S],[S])},p.remove=function(S){if(this.root){var T=this.root.remove(S);return T===2&&(this.root=null),T!==0}return!1},p.queryPoint=function(S,T){if(this.root)return this.root.queryPoint(S,T)},p.queryInterval=function(S,T,E){if(S<=T&&this.root)return this.root.queryInterval(S,T,E)},Object.defineProperty(p,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(p,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(f){f.exports=function(s){for(var n=new Array(s),i=0;i<s;++i)n[i]=i;return n}},9507:function(f){f.exports=!0},7163:function(f){function s(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}f.exports=function(n){return n!=null&&(s(n)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&s(i.slice(0,0))}(n)||!!n._isBuffer)}},5219:function(f){f.exports=function(s){for(var n,i=s.length,r=0;r<i;r++)if(((n=s.charCodeAt(r))<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}},395:function(f){f.exports=function(s,n,i){return s*(1-i)+n*i}},2652:function(f,s,n){var i=n(4335),r=n(6864),t=n(1903),a=n(9921),l=n(7608),u=n(5665),h={length:n(1387),normalize:n(3536),dot:n(244),cross:n(5911)},c=r(),y=r(),d=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];function x(m,_,p,S,T){m[0]=_[0]*S+p[0]*T,m[1]=_[1]*S+p[1]*T,m[2]=_[2]*S+p[2]*T}f.exports=function(m,_,p,S,T,E){if(_||(_=[0,0,0]),p||(p=[0,0,0]),S||(S=[0,0,0]),T||(T=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(t(y,c),y[3]=0,y[7]=0,y[11]=0,y[15]=1,Math.abs(a(y)<1e-8)))return!1;var O,P,I,R,H,z,j,Z=c[3],F=c[7],V=c[11],W=c[12],re=c[13],ne=c[14],te=c[15];if(Z!==0||F!==0||V!==0){if(d[0]=Z,d[1]=F,d[2]=V,d[3]=te,!l(y,y))return!1;u(y,y),O=T,I=y,R=(P=d)[0],H=P[1],z=P[2],j=P[3],O[0]=I[0]*R+I[4]*H+I[8]*z+I[12]*j,O[1]=I[1]*R+I[5]*H+I[9]*z+I[13]*j,O[2]=I[2]*R+I[6]*H+I[10]*z+I[14]*j,O[3]=I[3]*R+I[7]*H+I[11]*z+I[15]*j}else T[0]=T[1]=T[2]=0,T[3]=1;if(_[0]=W,_[1]=re,_[2]=ne,function($,K){$[0][0]=K[0],$[0][1]=K[1],$[0][2]=K[2],$[1][0]=K[4],$[1][1]=K[5],$[1][2]=K[6],$[2][0]=K[8],$[2][1]=K[9],$[2][2]=K[10]}(v,c),p[0]=h.length(v[0]),h.normalize(v[0],v[0]),S[0]=h.dot(v[0],v[1]),x(v[1],v[1],v[0],1,-S[0]),p[1]=h.length(v[1]),h.normalize(v[1],v[1]),S[0]/=p[1],S[1]=h.dot(v[0],v[2]),x(v[2],v[2],v[0],1,-S[1]),S[2]=h.dot(v[1],v[2]),x(v[2],v[2],v[1],1,-S[2]),p[2]=h.length(v[2]),h.normalize(v[2],v[2]),S[1]/=p[2],S[2]/=p[2],h.cross(g,v[1],v[2]),h.dot(v[0],g)<0)for(var Q=0;Q<3;Q++)p[Q]*=-1,v[Q][0]*=-1,v[Q][1]*=-1,v[Q][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(E[0]=-E[0]),v[0][2]>v[2][0]&&(E[1]=-E[1]),v[1][0]>v[0][1]&&(E[2]=-E[2]),!0}},4335:function(f){f.exports=function(s,n){var i=n[15];if(i===0)return!1;for(var r=1/i,t=0;t<16;t++)s[t]=n[t]*r;return!0}},7442:function(f,s,n){var i=n(6658),r=n(7182),t=n(2652),a=n(9921),l=n(8648),u=y(),h=y(),c=y();function y(){return{translate:d(),scale:d(1),skew:d(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function d(v){return[v||0,v||0,v||0]}f.exports=function(v,g,x,m){if(a(g)===0||a(x)===0)return!1;var _=t(g,u.translate,u.scale,u.skew,u.perspective,u.quaternion),p=t(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!_||!p||(i(c.translate,u.translate,h.translate,m),i(c.skew,u.skew,h.skew,m),i(c.scale,u.scale,h.scale,m),i(c.perspective,u.perspective,h.perspective,m),l(c.quaternion,u.quaternion,h.quaternion,m),r(v,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},7182:function(f,s,n){var i={identity:n(7894),translate:n(7656),multiply:n(6760),create:n(6864),scale:n(2504),fromRotationTranslation:n(6743)},r=(i.create(),i.create());f.exports=function(t,a,l,u,h,c){return i.identity(t),i.fromRotationTranslation(t,c,a),t[3]=h[0],t[7]=h[1],t[11]=h[2],t[15]=h[3],i.identity(r),u[2]!==0&&(r[9]=u[2],i.multiply(t,t,r)),u[1]!==0&&(r[9]=0,r[8]=u[1],i.multiply(t,t,r)),u[0]!==0&&(r[8]=0,r[4]=u[0],i.multiply(t,t,r)),i.scale(t,t,l),t}},4192:function(f,s,n){var i=n(2478),r=n(7442),t=n(7608),a=n(5567),l=n(2408),u=n(7089),h=n(6582),c=n(7656),y=(n(2504),n(3536)),d=[0,0,0];function v(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}f.exports=function(m){return new v((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var g=v.prototype;g.recalcMatrix=function(m){var _=this._time,p=i.le(_,m),S=this.computedMatrix;if(!(p<0)){var T=this._components;if(p===_.length-1)for(var E=16*p,O=0;O<16;++O)S[O]=T[E++];else{var P=_[p+1]-_[p],I=(E=16*p,this.prevMatrix),R=!0;for(O=0;O<16;++O)I[O]=T[E++];var H=this.nextMatrix;for(O=0;O<16;++O)H[O]=T[E++],R=R&&I[O]===H[O];if(P<1e-6||R)for(O=0;O<16;++O)S[O]=I[O];else r(S,I,H,(m-_[p])/P)}var z=this.computedUp;z[0]=S[1],z[1]=S[5],z[2]=S[9],y(z,z);var j=this.computedInverse;t(j,S);var Z=this.computedEye,F=j[15];Z[0]=j[12]/F,Z[1]=j[13]/F,Z[2]=j[14]/F;var V=this.computedCenter,W=Math.exp(this.computedRadius[0]);for(O=0;O<3;++O)V[O]=Z[O]-S[2+4*O]*W}},g.idle=function(m){if(!(m<this.lastT())){for(var _=this._components,p=_.length-16,S=0;S<16;++S)_.push(_[p++]);this._time.push(m)}},g.flush=function(m){var _=i.gt(this._time,m)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},g.lastT=function(){return this._time[this._time.length-1]},g.lookAt=function(m,_,p,S){this.recalcMatrix(m),_=_||this.computedEye,p=p||d,S=S||this.computedUp,this.setMatrix(m,h(this.computedMatrix,_,p,S));for(var T=0,E=0;E<3;++E)T+=Math.pow(p[E]-_[E],2);T=Math.log(Math.sqrt(T)),this.computedRadius[0]=T},g.rotate=function(m,_,p,S){this.recalcMatrix(m);var T=this.computedInverse;_&&l(T,T,_),p&&a(T,T,p),S&&u(T,T,S),this.setMatrix(m,t(this.computedMatrix,T))};var x=[0,0,0];g.pan=function(m,_,p,S){x[0]=-(_||0),x[1]=-(p||0),x[2]=-(S||0),this.recalcMatrix(m);var T=this.computedInverse;c(T,T,x),this.setMatrix(m,t(T,T))},g.translate=function(m,_,p,S){x[0]=_||0,x[1]=p||0,x[2]=S||0,this.recalcMatrix(m);var T=this.computedMatrix;c(T,T,x),this.setMatrix(m,T)},g.setMatrix=function(m,_){if(!(m<this.lastT())){this._time.push(m);for(var p=0;p<16;++p)this._components.push(_[p])}},g.setDistance=function(m,_){this.computedRadius[0]=_},g.setDistanceLimits=function(m,_){var p=this._limits;p[0]=m,p[1]=_},g.getDistanceLimits=function(m){var _=this._limits;return m?(m[0]=_[0],m[1]=_[1],m):_}},3090:function(f,s,n){f.exports=function(r){var t=r.length;if(t<3){for(var a=new Array(t),l=0;l<t;++l)a[l]=l;return t===2&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:a}var u=new Array(t);for(l=0;l<t;++l)u[l]=l;u.sort(function(_,p){return r[_][0]-r[p][0]||r[_][1]-r[p][1]});var h=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<t;++l){for(var y=u[l],d=r[y],v=h.length;v>1&&i(r[h[v-2]],r[h[v-1]],d)<=0;)v-=1,h.pop();for(h.push(y),v=c.length;v>1&&i(r[c[v-2]],r[c[v-1]],d)>=0;)v-=1,c.pop();c.push(y)}a=new Array(c.length+h.length-2);for(var g=0,x=(l=0,h.length);l<x;++l)a[g++]=h[l];for(var m=c.length-2;m>0;--m)a[g++]=c[m];return a};var i=n(3250)[3]},351:function(f,s,n){f.exports=function(r,t){t||(t=r,r=window);var a=0,l=0,u=0,h={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function y(E){var O=!1;return"altKey"in E&&(O=O||E.altKey!==h.alt,h.alt=!!E.altKey),"shiftKey"in E&&(O=O||E.shiftKey!==h.shift,h.shift=!!E.shiftKey),"ctrlKey"in E&&(O=O||E.ctrlKey!==h.control,h.control=!!E.ctrlKey),"metaKey"in E&&(O=O||E.metaKey!==h.meta,h.meta=!!E.metaKey),O}function d(E,O){var P=i.x(O),I=i.y(O);"buttons"in O&&(E=0|O.buttons),(E!==a||P!==l||I!==u||y(O))&&(a=0|E,l=P||0,u=I||0,t&&t(a,l,u,h))}function v(E){d(0,E)}function g(){(a||l||u||h.shift||h.alt||h.meta||h.control)&&(l=u=0,a=0,h.shift=h.alt=h.control=h.meta=!1,t&&t(0,0,0,h))}function x(E){y(E)&&t&&t(a,l,u,h)}function m(E){i.buttons(E)===0?d(0,E):d(a,E)}function _(E){d(a|i.buttons(E),E)}function p(E){d(a&~i.buttons(E),E)}function S(){c||(c=!0,r.addEventListener("mousemove",m),r.addEventListener("mousedown",_),r.addEventListener("mouseup",p),r.addEventListener("mouseleave",v),r.addEventListener("mouseenter",v),r.addEventListener("mouseout",v),r.addEventListener("mouseover",v),r.addEventListener("blur",g),r.addEventListener("keyup",x),r.addEventListener("keydown",x),r.addEventListener("keypress",x),r!==window&&(window.addEventListener("blur",g),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}S();var T={element:r};return Object.defineProperties(T,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,r.removeEventListener("mousemove",m),r.removeEventListener("mousedown",_),r.removeEventListener("mouseup",p),r.removeEventListener("mouseleave",v),r.removeEventListener("mouseenter",v),r.removeEventListener("mouseout",v),r.removeEventListener("mouseover",v),r.removeEventListener("blur",g),r.removeEventListener("keyup",x),r.removeEventListener("keydown",x),r.removeEventListener("keypress",x),r!==window&&(window.removeEventListener("blur",g),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return a},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),T};var i=n(4687)},24:function(f){var s={left:0,top:0};f.exports=function(n,i,r){i=i||n.currentTarget||n.srcElement,Array.isArray(r)||(r=[0,0]);var t,a=n.clientX||0,l=n.clientY||0,u=(t=i)===window||t===document||t===document.body?s:t.getBoundingClientRect();return r[0]=a-u.left,r[1]=l-u.top,r}},4687:function(f,s){function n(i){return i.target||i.srcElement||window}s.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((r=i.which)===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in i){var r;if((r=i.button)===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0},s.element=n,s.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var r=n(i).getBoundingClientRect();return i.clientX-r.left}return 0},s.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var r=n(i).getBoundingClientRect();return i.clientY-r.top}return 0}},8512:function(f,s,n){var i=n(665);f.exports=function(r,t,a){typeof r=="function"&&(a=!!t,t=r,r=window);var l=i("ex",r),u=function(h){a&&h.preventDefault();var c=h.deltaX||0,y=h.deltaY||0,d=h.deltaZ||0,v=1;switch(h.deltaMode){case 1:v=l;break;case 2:v=window.innerHeight}if(y*=v,d*=v,(c*=v)||y||d)return t(c,y,d,h)};return r.addEventListener("wheel",u),u}},2640:function(f,s,n){var i=n(1888);f.exports=function(t){function a(d){throw new Error("ndarray-extract-contour: "+d)}typeof t!="object"&&a("Must specify arguments");var l=t.order;Array.isArray(l)||a("Must specify order");var u=t.arrayArguments||1;u<1&&a("Must have at least one array argument"),(t.scalarArguments||0)<0&&a("Scalar arg count must be > 0"),typeof t.vertex!="function"&&a("Must specify vertex creation function"),typeof t.cell!="function"&&a("Must specify cell creation function"),typeof t.phase!="function"&&a("Must specify phase function");for(var h=t.getters||[],c=new Array(u),y=0;y<u;++y)h.indexOf(y)>=0?c[y]=!0:c[y]=!1;return function(d,v,g,x,m,_){var p=[_,m].join(",");return(0,r[p])(d,v,g,i.mallocUint32,i.freeUint32)}(t.vertex,t.cell,t.phase,0,l,c)};var r={"false,0,1":function(t,a,l,u,h){return function(c,y,d,v){var g,x=0|c.shape[0],m=0|c.shape[1],_=c.data,p=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=p,O=0|-S,P=0,I=0|-T,R=0,H=-S-T|0,z=0,j=0|S,Z=T-S*x|0,F=0,V=0,W=0,re=2*x|0,ne=u(re),te=u(re),Q=0,$=0,K=-1,ae=-1,ue=0,se=0|-x,he=0|x,pe=0,de=-x-1|0,xe=x-1|0,_e=0,be=0,Le=0;for(F=0;F<x;++F)ne[Q++]=l(_[E],y,d,v),E+=j;if(E+=Z,m>0){if(V=1,ne[Q++]=l(_[E],y,d,v),E+=j,x>0)for(F=1,g=_[E],$=ne[Q]=l(g,y,d,v),ue=ne[Q+K],pe=ne[Q+se],_e=ne[Q+de],$===ue&&$===pe&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,ue,pe,_e,y,d,v),be=te[Q]=W++),Q+=1,E+=j,F=2;F<x;++F)g=_[E],$=ne[Q]=l(g,y,d,v),ue=ne[Q+K],pe=ne[Q+se],_e=ne[Q+de],$===ue&&$===pe&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,ue,pe,_e,y,d,v),be=te[Q]=W++,_e!==ue&&a(te[Q+K],be,z,P,_e,ue,y,d,v)),Q+=1,E+=j;for(E+=Z,Q=0,Le=K,K=ae,ae=Le,Le=se,se=he,he=Le,Le=de,de=xe,xe=Le,V=2;V<m;++V){if(ne[Q++]=l(_[E],y,d,v),E+=j,x>0)for(F=1,g=_[E],$=ne[Q]=l(g,y,d,v),ue=ne[Q+K],pe=ne[Q+se],_e=ne[Q+de],$===ue&&$===pe&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,ue,pe,_e,y,d,v),be=te[Q]=W++,_e!==pe&&a(te[Q+se],be,R,z,pe,_e,y,d,v)),Q+=1,E+=j,F=2;F<x;++F)g=_[E],$=ne[Q]=l(g,y,d,v),ue=ne[Q+K],pe=ne[Q+se],_e=ne[Q+de],$===ue&&$===pe&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,ue,pe,_e,y,d,v),be=te[Q]=W++,_e!==pe&&a(te[Q+se],be,R,z,pe,_e,y,d,v),_e!==ue&&a(te[Q+K],be,z,P,_e,ue,y,d,v)),Q+=1,E+=j;1&V&&(Q=0),Le=K,K=ae,ae=Le,Le=se,se=he,he=Le,Le=de,de=xe,xe=Le,E+=Z}}h(te),h(ne)}},"false,1,0":function(t,a,l,u,h){return function(c,y,d,v){var g,x=0|c.shape[0],m=0|c.shape[1],_=c.data,p=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=p,O=0|-S,P=0,I=0|-T,R=0,H=-S-T|0,z=0,j=0|T,Z=S-T*m|0,F=0,V=0,W=0,re=2*m|0,ne=u(re),te=u(re),Q=0,$=0,K=-1,ae=-1,ue=0,se=0|-m,he=0|m,pe=0,de=-m-1|0,xe=m-1|0,_e=0,be=0,Le=0;for(V=0;V<m;++V)ne[Q++]=l(_[E],y,d,v),E+=j;if(E+=Z,x>0){if(F=1,ne[Q++]=l(_[E],y,d,v),E+=j,m>0)for(V=1,g=_[E],$=ne[Q]=l(g,y,d,v),pe=ne[Q+se],ue=ne[Q+K],_e=ne[Q+de],$===pe&&$===ue&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,pe,ue,_e,y,d,v),be=te[Q]=W++),Q+=1,E+=j,V=2;V<m;++V)g=_[E],$=ne[Q]=l(g,y,d,v),pe=ne[Q+se],ue=ne[Q+K],_e=ne[Q+de],$===pe&&$===ue&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,pe,ue,_e,y,d,v),be=te[Q]=W++,_e!==ue&&a(te[Q+K],be,R,z,ue,_e,y,d,v)),Q+=1,E+=j;for(E+=Z,Q=0,Le=se,se=he,he=Le,Le=K,K=ae,ae=Le,Le=de,de=xe,xe=Le,F=2;F<x;++F){if(ne[Q++]=l(_[E],y,d,v),E+=j,m>0)for(V=1,g=_[E],$=ne[Q]=l(g,y,d,v),pe=ne[Q+se],ue=ne[Q+K],_e=ne[Q+de],$===pe&&$===ue&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,pe,ue,_e,y,d,v),be=te[Q]=W++,_e!==pe&&a(te[Q+se],be,z,P,_e,pe,y,d,v)),Q+=1,E+=j,V=2;V<m;++V)g=_[E],$=ne[Q]=l(g,y,d,v),pe=ne[Q+se],ue=ne[Q+K],_e=ne[Q+de],$===pe&&$===ue&&$===_e||(P=_[E+O],R=_[E+I],z=_[E+H],t(F,V,g,P,R,z,$,pe,ue,_e,y,d,v),be=te[Q]=W++,_e!==ue&&a(te[Q+K],be,R,z,ue,_e,y,d,v),_e!==pe&&a(te[Q+se],be,z,P,_e,pe,y,d,v)),Q+=1,E+=j;1&F&&(Q=0),Le=se,se=he,he=Le,Le=K,K=ae,ae=Le,Le=de,de=xe,xe=Le,E+=Z}}h(te),h(ne)}}}},6199:function(f,s,n){var i=n(1338),r={zero:function(x,m,_,p){var S=x[0];p|=0;var T=0,E=_[0];for(T=0;T<S;++T)m[p]=0,p+=E},fdTemplate1:function(x,m,_,p,S,T,E){var O=x[0],P=_[0],I=-1*P,R=P;p|=0,E|=0;var H=0,z=P,j=T[0];for(H=0;H<O;++H)S[E]=.5*(m[p+I]-m[p+R]),p+=z,E+=j},fdTemplate2:function(x,m,_,p,S,T,E,O,P,I){var R=x[0],H=x[1],z=_[0],j=_[1],Z=T[0],F=T[1],V=P[0],W=P[1],re=-1*z,ne=z,te=-1*j,Q=j;p|=0,E|=0,I|=0;var $=0,K=0,ae=j,ue=z-H*j,se=F,he=Z-H*F,pe=W,de=V-H*W;for(K=0;K<R;++K){for($=0;$<H;++$)S[E]=.5*(m[p+re]-m[p+ne]),O[I]=.5*(m[p+te]-m[p+Q]),p+=ae,E+=se,I+=pe;p+=ue,E+=he,I+=de}}},t={cdiff:function(x){var m={};return function(_,p,S){var T=_.dtype,E=_.order,O=p.dtype,P=p.order,I=S.dtype,R=S.order,H=[T,E.join(),O,P.join(),I,R.join()].join(),z=m[H];return z||(m[H]=z=x([T,E,O,P,I,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,p.data,p.stride,0|p.offset,S.data,S.stride,0|S.offset)}},zero:function(x){var m={};return function(_){var p=_.dtype,S=_.order,T=[p,S.join()].join(),E=m[T];return E||(m[T]=E=x([p,S])),E(_.shape.slice(0),_.data,_.stride,0|_.offset)}},fdTemplate1:function(x){var m={};return function(_,p){var S=_.dtype,T=_.order,E=p.dtype,O=p.order,P=[S,T.join(),E,O.join()].join(),I=m[P];return I||(m[P]=I=x([S,T,E,O])),I(_.shape.slice(0),_.data,_.stride,0|_.offset,p.data,p.stride,0|p.offset)}},fdTemplate2:function(x){var m={};return function(_,p,S){var T=_.dtype,E=_.order,O=p.dtype,P=p.order,I=S.dtype,R=S.order,H=[T,E.join(),O,P.join(),I,R.join()].join(),z=m[H];return z||(m[H]=z=x([T,E,O,P,I,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,p.data,p.stride,0|p.offset,S.data,S.stride,0|S.offset)}}};function a(x){return(0,t[x.funcName])(l.bind(void 0,x))}function l(x){return r[x.funcName]}function u(x){return a({funcName:x.funcName})}var h={},c={},y=u({funcName:"cdiff"}),d=u({funcName:"zero"});function v(x){return x in h?h[x]:h[x]=u({funcName:"fdTemplate"+x})}function g(x,m,_,p){return function(S,T){var E=T.shape.slice();return E[0]>2&&E[1]>2&&p(T.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(_(T.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(_(T.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(_(T.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(_(T.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}f.exports=function(x,m,_){return Array.isArray(_)||(_=i(m.dimension,typeof _=="string"?_:"clamp")),m.size===0?x:m.dimension===0?(x.set(0),x):function(p){var S=p.join();if(P=c[S])return P;for(var T=p.length,E=[y,d],O=1;O<=T;++O)E.push(v(O));var P=g.apply(void 0,E);return c[S]=P,P}(_)(x,m)}},4317:function(f){function s(t,a){var l=Math.floor(a),u=a-l,h=0<=l&&l<t.shape[0],c=0<=l+1&&l+1<t.shape[0];return(1-u)*(h?+t.get(l):0)+u*(c?+t.get(l+1):0)}function n(t,a,l){var u=Math.floor(a),h=a-u,c=0<=u&&u<t.shape[0],y=0<=u+1&&u+1<t.shape[0],d=Math.floor(l),v=l-d,g=0<=d&&d<t.shape[1],x=0<=d+1&&d+1<t.shape[1],m=c&&g?t.get(u,d):0,_=c&&x?t.get(u,d+1):0;return(1-v)*((1-h)*m+h*(y&&g?t.get(u+1,d):0))+v*((1-h)*_+h*(y&&x?t.get(u+1,d+1):0))}function i(t,a,l,u){var h=Math.floor(a),c=a-h,y=0<=h&&h<t.shape[0],d=0<=h+1&&h+1<t.shape[0],v=Math.floor(l),g=l-v,x=0<=v&&v<t.shape[1],m=0<=v+1&&v+1<t.shape[1],_=Math.floor(u),p=u-_,S=0<=_&&_<t.shape[2],T=0<=_+1&&_+1<t.shape[2],E=y&&x&&S?t.get(h,v,_):0,O=y&&m&&S?t.get(h,v+1,_):0,P=d&&x&&S?t.get(h+1,v,_):0,I=d&&m&&S?t.get(h+1,v+1,_):0,R=y&&x&&T?t.get(h,v,_+1):0,H=y&&m&&T?t.get(h,v+1,_+1):0;return(1-p)*((1-g)*((1-c)*E+c*P)+g*((1-c)*O+c*I))+p*((1-g)*((1-c)*R+c*(d&&x&&T?t.get(h+1,v,_+1):0))+g*((1-c)*H+c*(d&&m&&T?t.get(h+1,v+1,_+1):0)))}function r(t){var a,l,u=0|t.shape.length,h=new Array(u),c=new Array(u),y=new Array(u),d=new Array(u);for(a=0;a<u;++a)l=+arguments[a+1],h[a]=Math.floor(l),c[a]=l-h[a],y[a]=0<=h[a]&&h[a]<t.shape[a],d[a]=0<=h[a]+1&&h[a]+1<t.shape[a];var v,g,x,m=0;e:for(a=0;a<1<<u;++a){for(g=1,x=t.offset,v=0;v<u;++v)if(a&1<<v){if(!d[v])continue e;g*=c[v],x+=t.stride[v]*(h[v]+1)}else{if(!y[v])continue e;g*=1-c[v],x+=t.stride[v]*h[v]}m+=g*t.data[x]}return m}f.exports=function(t,a,l,u){switch(t.shape.length){case 0:return 0;case 1:return s(t,a);case 2:return n(t,a,l);case 3:return i(t,a,l,u);default:return r.apply(void 0,arguments)}},f.exports.d1=s,f.exports.d2=n,f.exports.d3=i},5298:function(f,s){var n={"float64,2,1,0":function(){return function(l,u,h,c,y){var d=l[0],v=l[1],g=l[2],x=h[0],m=h[1],_=h[2];c|=0;var p=0,S=0,T=0,E=_,O=m-g*_,P=x-v*m;for(T=0;T<d;++T){for(S=0;S<v;++S){for(p=0;p<g;++p)u[c]/=y,c+=E;c+=O}c+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,h,c,y,d,v,g){for(var x=l[0],m=l[1],_=l[2],p=h[0],S=h[1],T=h[2],E=d[0],O=d[1],P=d[2],I=c|=0,R=v|=0,H=0|l[0];H>0;){H<64?(x=H,H=0):(x=64,H-=64);for(var z=0|l[1];z>0;){z<64?(m=z,z=0):(m=64,z-=64),c=I+H*p+z*S,v=R+H*E+z*O;var j=0,Z=0,F=0,V=T,W=p-_*T,re=S-x*p,ne=P,te=E-_*P,Q=O-x*E;for(F=0;F<m;++F){for(Z=0;Z<x;++Z){for(j=0;j<_;++j)u[c]=y[v]*g,c+=V,v+=ne;c+=W,v+=te}c+=re,v+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,h,c,y,d,v){var g=l[0],x=l[1],m=h[0],_=h[1],p=d[0],S=d[1];c|=0,v|=0;var T=0,E=0,O=_,P=m-x*_,I=S,R=p-x*S;for(E=0;E<g;++E){for(T=0;T<x;++T)u[c]=y[v],c+=O,v+=I;c+=P,v+=R}}},"float32,1,0,float32,0,1":function(){return function(l,u,h,c,y,d,v){for(var g=l[0],x=l[1],m=h[0],_=h[1],p=d[0],S=d[1],T=c|=0,E=v|=0,O=0|l[1];O>0;){O<64?(x=O,O=0):(x=64,O-=64);for(var P=0|l[0];P>0;){P<64?(g=P,P=0):(g=64,P-=64),c=T+O*_+P*m,v=E+O*S+P*p;var I=0,R=0,H=_,z=m-x*_,j=S,Z=p-x*S;for(R=0;R<g;++R){for(I=0;I<x;++I)u[c]=y[v],c+=H,v+=j;c+=z,v+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,h,c,y,d,v){for(var g=l[0],x=l[1],m=l[2],_=h[0],p=h[1],S=h[2],T=d[0],E=d[1],O=d[2],P=c|=0,I=v|=0,R=0|l[2];R>0;){R<64?(m=R,R=0):(m=64,R-=64);for(var H=0|l[0];H>0;){H<64?(g=H,H=0):(g=64,H-=64);for(var z=0|l[1];z>0;){z<64?(x=z,z=0):(x=64,z-=64),c=P+R*S+H*_+z*p,v=I+R*O+H*T+z*E;var j=0,Z=0,F=0,V=S,W=_-m*S,re=p-g*_,ne=O,te=T-m*O,Q=E-g*T;for(F=0;F<x;++F){for(Z=0;Z<g;++Z){for(j=0;j<m;++j)u[c]=y[v],c+=V,v+=ne;c+=W,v+=te}c+=re,v+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,h,c,y,d,v){var g=l[0],x=l[1],m=l[2],_=h[0],p=h[1],S=h[2],T=d[0],E=d[1],O=d[2];c|=0,v|=0;var P=0,I=0,R=0,H=S,z=_-m*S,j=p-g*_,Z=O,F=T-m*O,V=E-g*T;for(R=0;R<x;++R){for(I=0;I<g;++I){for(P=0;P<m;++P)u[c]=y[v],c+=H,v+=Z;c+=z,v+=F}c+=j,v+=V}}}},i=function(l,u){var h=u.join(",");return(0,n[h])()},r={mul:function(l){var u={};return function(h,c,y){var d=h.dtype,v=h.order,g=c.dtype,x=c.order,m=y.dtype,_=y.order,p=[d,v.join(),g,x.join(),m,_.join()].join(),S=u[p];return S||(u[p]=S=l([d,v,g,x,m,_])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,y.data,y.stride,0|y.offset)}},muls:function(l){var u={};return function(h,c,y){var d=h.dtype,v=h.order,g=c.dtype,x=c.order,m=[d,v.join(),g,x.join()].join(),_=u[m];return _||(u[m]=_=l([d,v,g,x])),_(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,y)}},mulseq:function(l){var u={};return function(h,c){var y=h.dtype,d=h.order,v=[y,d.join()].join(),g=u[v];return g||(u[v]=g=l([y,d])),g(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},div:function(l){var u={};return function(h,c,y){var d=h.dtype,v=h.order,g=c.dtype,x=c.order,m=y.dtype,_=y.order,p=[d,v.join(),g,x.join(),m,_.join()].join(),S=u[p];return S||(u[p]=S=l([d,v,g,x,m,_])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,y.data,y.stride,0|y.offset)}},divs:function(l){var u={};return function(h,c,y){var d=h.dtype,v=h.order,g=c.dtype,x=c.order,m=[d,v.join(),g,x.join()].join(),_=u[m];return _||(u[m]=_=l([d,v,g,x])),_(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,y)}},divseq:function(l){var u={};return function(h,c){var y=h.dtype,d=h.order,v=[y,d.join()].join(),g=u[v];return g||(u[v]=g=l([y,d])),g(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},assign:function(l){var u={};return function(h,c){var y=h.dtype,d=h.order,v=c.dtype,g=c.order,x=[y,d.join(),v,g.join()].join(),m=u[x];return m||(u[x]=m=l([y,d,v,g])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset)}}};function t(l){return u={funcName:l.funcName},(0,r[u.funcName])(i.bind(void 0,u));var u}var a={mul:"*",div:"/"};(function(){for(var l in a)s[l]=t({funcName:l}),s[l+"s"]=t({funcName:l+"s"}),s[l+"seq"]=t({funcName:l+"seq"})})(),s.assign=t({funcName:"assign"})},9994:function(f,s,n){var i=n(9618),r=n(8277);f.exports=function(t,a){for(var l=[],u=t,h=1;Array.isArray(u);)l.push(u.length),h*=u.length,u=u[0];return l.length===0?i():(a||(a=i(new Float64Array(h),l)),r(a,t),a)}},8277:function(f){f.exports=function(s){var n={};return function(i,r){var t=i.dtype,a=i.order,l=[t,a.join()].join(),u=n[l];return u||(n[l]=u=s([t,a])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}}((function(){return function(s,n,i,r,t){var a=s[0],l=s[1],u=s[2],h=i[0],c=i[1],y=i[2],d=[0,0,0];r|=0;var v=0,g=0,x=0,m=y,_=c-u*y,p=h-l*c;for(x=0;x<a;++x){for(g=0;g<l;++g){for(v=0;v<u;++v){var S,T=t;for(S=0;S<d.length-1;++S)T=T[d[S]];n[r]=T[d[d.length-1]],r+=m,++d[2]}r+=_,d[2]-=u,++d[1]}r+=p,d[1]-=l,++d[0]}}}).bind(void 0,{funcName:"convert"}))},7640:function(f,s,n){var i=n(1888);function r(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var t={"uint32,1,0":function(u,h){return function(c,y,d,v,g,x,m,_,p,S,T){var E,O,P,I,R,H,z,j,Z=c*g+v,F=u(_);for(E=c+1;E<=y;++E){for(O=E,P=Z+=g,R=0,H=Z,I=0;I<_;++I)F[R++]=d[H],H+=p;e:for(;O-- >c;){R=0,H=P-g;t:for(I=0;I<_;++I){if((z=d[H])<(j=F[R]))break e;if(z>j)break t;H+=S,R+=T}for(R=P,H=P-g,I=0;I<_;++I)d[R]=d[H],R+=p,H+=p;P-=g}for(R=P,H=0,I=0;I<_;++I)d[R]=F[H++],R+=p}h(F)}}},a={"uint32,1,0":function(u,h,c){return function y(d,v,g,x,m,_,p,S,T,E,O){var P,I,R,H,z,j,Z,F,V,W,re,ne,te,Q,$,K,ae,ue,se,he,pe,de,xe,_e,be,Le=(v-d+1)/6|0,De=d+Le,ye=v-Le,le=d+v>>1,oe=le-Le,ve=le+Le,Ce=De,ke=oe,Ae=le,Ee=ve,ze=ye,Fe=d+1,ge=v-1,Te=!0,Se=0,Re=0,Pe=0,Ve=S,We=h(Ve),Qe=h(Ve);re=m*Ce,ne=m*ke,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ce,Ce=ke,ke=I;break e}if(Pe<0)break e;be+=E}re=m*Ee,ne=m*ze,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ee,Ee=ze,ze=I;break e}if(Pe<0)break e;be+=E}re=m*Ce,ne=m*Ae,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ce,Ce=Ae,Ae=I;break e}if(Pe<0)break e;be+=E}re=m*ke,ne=m*Ae,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=ke,ke=Ae,Ae=I;break e}if(Pe<0)break e;be+=E}re=m*Ce,ne=m*Ee,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ce,Ce=Ee,Ee=I;break e}if(Pe<0)break e;be+=E}re=m*Ae,ne=m*Ee,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ae,Ae=Ee,Ee=I;break e}if(Pe<0)break e;be+=E}re=m*ke,ne=m*ze,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=ke,ke=ze,ze=I;break e}if(Pe<0)break e;be+=E}re=m*ke,ne=m*Ae,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=ke,ke=Ae,Ae=I;break e}if(Pe<0)break e;be+=E}re=m*Ee,ne=m*ze,be=x;e:for(W=0;W<S;++W){if(F=ne+be,(Pe=g[Z=re+be]-g[F])>0){I=Ee,Ee=ze,ze=I;break e}if(Pe<0)break e;be+=E}for(re=m*Ce,ne=m*ke,te=m*Ae,Q=m*Ee,$=m*ze,K=m*De,ae=m*le,ue=m*ye,_e=0,be=x,W=0;W<S;++W)Z=re+be,F=ne+be,V=te+be,se=Q+be,he=$+be,pe=K+be,de=ae+be,xe=ue+be,We[_e]=g[F],Qe[_e]=g[se],Te=Te&&We[_e]===Qe[_e],R=g[Z],H=g[V],z=g[he],g[pe]=R,g[de]=H,g[xe]=z,++_e,be+=T;for(re=m*oe,ne=m*d,be=x,W=0;W<S;++W)F=ne+be,g[Z=re+be]=g[F],be+=T;for(re=m*ve,ne=m*v,be=x,W=0;W<S;++W)F=ne+be,g[Z=re+be]=g[F],be+=T;if(Te)for(j=Fe;j<=ge;++j){for(Z=x+j*m,_e=0,W=0;W<S&&(Pe=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(Pe!==0)if(Pe<0){if(j!==Fe)for(re=m*j,ne=m*Fe,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;++Fe}else for(;;){for(Z=x+ge*m,_e=0,W=0;W<S&&(Pe=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(!(Pe>0)){if(Pe<0){for(re=m*j,ne=m*Fe,te=m*ge,be=x,W=0;W<S;++W)F=ne+be,V=te+be,P=g[Z=re+be],g[Z]=g[F],g[F]=g[V],g[V]=P,be+=T;++Fe,--ge;break}for(re=m*j,ne=m*ge,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;--ge;break}ge--}}else for(j=Fe;j<=ge;++j){for(Z=x+j*m,_e=0,W=0;W<S&&(Se=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(Se<0){if(j!==Fe)for(re=m*j,ne=m*Fe,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;++Fe}else{for(Z=x+j*m,_e=0,W=0;W<S&&(Re=g[Z]-Qe[_e])==0;++W)_e+=O,Z+=E;if(Re>0)for(;;){for(Z=x+ge*m,_e=0,W=0;W<S&&(Pe=g[Z]-Qe[_e])==0;++W)_e+=O,Z+=E;if(!(Pe>0)){for(Z=x+ge*m,_e=0,W=0;W<S&&(Pe=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(Pe<0){for(re=m*j,ne=m*Fe,te=m*ge,be=x,W=0;W<S;++W)F=ne+be,V=te+be,P=g[Z=re+be],g[Z]=g[F],g[F]=g[V],g[V]=P,be+=T;++Fe,--ge}else{for(re=m*j,ne=m*ge,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;--ge}break}if(--ge<j)break}}}for(re=m*d,ne=m*(Fe-1),_e=0,be=x,W=0;W<S;++W)F=ne+be,g[Z=re+be]=g[F],g[F]=We[_e],++_e,be+=T;for(re=m*v,ne=m*(ge+1),_e=0,be=x,W=0;W<S;++W)F=ne+be,g[Z=re+be]=g[F],g[F]=Qe[_e],++_e,be+=T;if(Fe-2-d<=32?u(d,Fe-2,g,x,m,_,p,S,T,E,O):y(d,Fe-2,g,x,m,_,p,S,T,E,O),v-(ge+2)<=32?u(ge+2,v,g,x,m,_,p,S,T,E,O):y(ge+2,v,g,x,m,_,p,S,T,E,O),Te)return c(We),void c(Qe);if(Fe<De&&ge>ye){e:for(;;){for(Z=x+Fe*m,_e=0,be=x,W=0;W<S;++W){if(g[Z]!==We[_e])break e;++_e,Z+=T}++Fe}e:for(;;){for(Z=x+ge*m,_e=0,be=x,W=0;W<S;++W){if(g[Z]!==Qe[_e])break e;++_e,Z+=T}--ge}for(j=Fe;j<=ge;++j){for(Z=x+j*m,_e=0,W=0;W<S&&(Se=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(Se===0){if(j!==Fe)for(re=m*j,ne=m*Fe,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;++Fe}else{for(Z=x+j*m,_e=0,W=0;W<S&&(Re=g[Z]-Qe[_e])==0;++W)_e+=O,Z+=E;if(Re===0)for(;;){for(Z=x+ge*m,_e=0,W=0;W<S&&(Pe=g[Z]-Qe[_e])==0;++W)_e+=O,Z+=E;if(Pe!==0){for(Z=x+ge*m,_e=0,W=0;W<S&&(Pe=g[Z]-We[_e])==0;++W)_e+=O,Z+=E;if(Pe<0){for(re=m*j,ne=m*Fe,te=m*ge,be=x,W=0;W<S;++W)F=ne+be,V=te+be,P=g[Z=re+be],g[Z]=g[F],g[F]=g[V],g[V]=P,be+=T;++Fe,--ge}else{for(re=m*j,ne=m*ge,be=x,W=0;W<S;++W)F=ne+be,P=g[Z=re+be],g[Z]=g[F],g[F]=P,be+=T;--ge}break}if(--ge<j)break}}}}c(We),c(Qe),ge-Fe<=32?u(Fe,ge,g,x,m,_,p,S,T,E,O):y(Fe,ge,g,x,m,_,p,S,T,E,O)}}},l={"uint32,1,0":function(u,h){return function(c){var y=c.data,d=0|c.offset,v=c.shape,g=c.stride,x=0|g[0],m=0|v[0],_=0|g[1],p=0|v[1],S=_,T=_;m<=32?u(0,m-1,y,d,x,_,m,p,S,T,1):h(0,m-1,y,d,x,_,m,p,S,T,1)}}};f.exports=function(u,h){var c=[h,u].join(","),y=l[c],d=function(g,x){var m=r(x),_=[x,g].join(","),p=t[_];return m?p(m[0],m[1]):p()}(u,h),v=function(g,x,m){var _=r(x),p=[x,g].join(","),S=a[p];return g.length>1&&_?S(m,_[0],_[1]):S(m)}(u,h,d);return y(d,v)}},446:function(f,s,n){var i=n(7640),r={};f.exports=function(t){var a=t.order,l=t.dtype,u=[a,l].join(":"),h=r[u];return h||(r[u]=h=i(a,l)),h(t),t}},9618:function(f,s,n){var i=n(7163),r=typeof Float64Array<"u";function t(c,y){return c[0]-y[0]}function a(){var c,y=this.stride,d=new Array(y.length);for(c=0;c<d.length;++c)d[c]=[Math.abs(y[c]),c];d.sort(t);var v=new Array(d.length);for(c=0;c<v.length;++c)v[c]=d[c][1];return v}var l={T:function(c){function y(v){this.data=v}var d=y.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new y(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(v){return new y(v)}},0:function(c,y){function d(g,x){this.data=g,this.offset=x}var v=d.prototype;return v.dtype=c,v.index=function(){return this.offset},v.dimension=0,v.size=1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new d(this.data,this.offset)},v.pick=function(){return y(this.data)},v.valueOf=v.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},v.set=function(g){return c==="generic"?this.data.set(this.offset,g):this.data[this.offset]=g},function(g,x,m,_){return new d(g,_)}},1:function(c,y,d){function v(x,m,_,p){this.data=x,this.shape=[m],this.stride=[_],this.offset=0|p}var g=v.prototype;return g.dtype=c,g.dimension=1,Object.defineProperty(g,"size",{get:function(){return this.shape[0]}}),g.order=[0],g.set=function(x,m){return c==="generic"?this.data.set(this.offset+this.stride[0]*x,m):this.data[this.offset+this.stride[0]*x]=m},g.get=function(x){return c==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},g.index=function(x){return this.offset+this.stride[0]*x},g.hi=function(x){return new v(this.data,typeof x!="number"||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},g.lo=function(x){var m=this.offset,_=0,p=this.shape[0],S=this.stride[0];return typeof x=="number"&&x>=0&&(m+=S*(_=0|x),p-=_),new v(this.data,p,S,m)},g.step=function(x){var m=this.shape[0],_=this.stride[0],p=this.offset,S=0,T=Math.ceil;return typeof x=="number"&&((S=0|x)<0?(p+=_*(m-1),m=T(-m/S)):m=T(m/S),_*=S),new v(this.data,m,_,p)},g.transpose=function(x){x=x===void 0?0:0|x;var m=this.shape,_=this.stride;return new v(this.data,m[x],_[x],this.offset)},g.pick=function(x){var m=[],_=[],p=this.offset;return typeof x=="number"&&x>=0?p=p+this.stride[0]*x|0:(m.push(this.shape[0]),_.push(this.stride[0])),(0,y[m.length+1])(this.data,m,_,p)},function(x,m,_,p){return new v(x,m[0],_[0],p)}},2:function(c,y,d){function v(x,m,_,p,S,T){this.data=x,this.shape=[m,_],this.stride=[p,S],this.offset=0|T}var g=v.prototype;return g.dtype=c,g.dimension=2,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(g,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),g.set=function(x,m,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*m,_):this.data[this.offset+this.stride[0]*x+this.stride[1]*m]=_},g.get=function(x,m){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*m):this.data[this.offset+this.stride[0]*x+this.stride[1]*m]},g.index=function(x,m){return this.offset+this.stride[0]*x+this.stride[1]*m},g.hi=function(x,m){return new v(this.data,typeof x!="number"||x<0?this.shape[0]:0|x,typeof m!="number"||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},g.lo=function(x,m){var _=this.offset,p=0,S=this.shape[0],T=this.shape[1],E=this.stride[0],O=this.stride[1];return typeof x=="number"&&x>=0&&(_+=E*(p=0|x),S-=p),typeof m=="number"&&m>=0&&(_+=O*(p=0|m),T-=p),new v(this.data,S,T,E,O,_)},g.step=function(x,m){var _=this.shape[0],p=this.shape[1],S=this.stride[0],T=this.stride[1],E=this.offset,O=0,P=Math.ceil;return typeof x=="number"&&((O=0|x)<0?(E+=S*(_-1),_=P(-_/O)):_=P(_/O),S*=O),typeof m=="number"&&((O=0|m)<0?(E+=T*(p-1),p=P(-p/O)):p=P(p/O),T*=O),new v(this.data,_,p,S,T,E)},g.transpose=function(x,m){x=x===void 0?0:0|x,m=m===void 0?1:0|m;var _=this.shape,p=this.stride;return new v(this.data,_[x],_[m],p[x],p[m],this.offset)},g.pick=function(x,m){var _=[],p=[],S=this.offset;return typeof x=="number"&&x>=0?S=S+this.stride[0]*x|0:(_.push(this.shape[0]),p.push(this.stride[0])),typeof m=="number"&&m>=0?S=S+this.stride[1]*m|0:(_.push(this.shape[1]),p.push(this.stride[1])),(0,y[_.length+1])(this.data,_,p,S)},function(x,m,_,p){return new v(x,m[0],m[1],_[0],_[1],p)}},3:function(c,y,d){function v(x,m,_,p,S,T,E,O){this.data=x,this.shape=[m,_,p],this.stride=[S,T,E],this.offset=0|O}var g=v.prototype;return g.dtype=c,g.dimension=3,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(g,"order",{get:function(){var x=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),_=Math.abs(this.stride[2]);return x>m?m>_?[2,1,0]:x>_?[1,2,0]:[1,0,2]:x>_?[2,0,1]:_>m?[0,1,2]:[0,2,1]}}),g.set=function(x,m,_,p){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_,p):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_]=p},g.get=function(x,m,_){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_]},g.index=function(x,m,_){return this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_},g.hi=function(x,m,_){return new v(this.data,typeof x!="number"||x<0?this.shape[0]:0|x,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,this.stride[0],this.stride[1],this.stride[2],this.offset)},g.lo=function(x,m,_){var p=this.offset,S=0,T=this.shape[0],E=this.shape[1],O=this.shape[2],P=this.stride[0],I=this.stride[1],R=this.stride[2];return typeof x=="number"&&x>=0&&(p+=P*(S=0|x),T-=S),typeof m=="number"&&m>=0&&(p+=I*(S=0|m),E-=S),typeof _=="number"&&_>=0&&(p+=R*(S=0|_),O-=S),new v(this.data,T,E,O,P,I,R,p)},g.step=function(x,m,_){var p=this.shape[0],S=this.shape[1],T=this.shape[2],E=this.stride[0],O=this.stride[1],P=this.stride[2],I=this.offset,R=0,H=Math.ceil;return typeof x=="number"&&((R=0|x)<0?(I+=E*(p-1),p=H(-p/R)):p=H(p/R),E*=R),typeof m=="number"&&((R=0|m)<0?(I+=O*(S-1),S=H(-S/R)):S=H(S/R),O*=R),typeof _=="number"&&((R=0|_)<0?(I+=P*(T-1),T=H(-T/R)):T=H(T/R),P*=R),new v(this.data,p,S,T,E,O,P,I)},g.transpose=function(x,m,_){x=x===void 0?0:0|x,m=m===void 0?1:0|m,_=_===void 0?2:0|_;var p=this.shape,S=this.stride;return new v(this.data,p[x],p[m],p[_],S[x],S[m],S[_],this.offset)},g.pick=function(x,m,_){var p=[],S=[],T=this.offset;return typeof x=="number"&&x>=0?T=T+this.stride[0]*x|0:(p.push(this.shape[0]),S.push(this.stride[0])),typeof m=="number"&&m>=0?T=T+this.stride[1]*m|0:(p.push(this.shape[1]),S.push(this.stride[1])),typeof _=="number"&&_>=0?T=T+this.stride[2]*_|0:(p.push(this.shape[2]),S.push(this.stride[2])),(0,y[p.length+1])(this.data,p,S,T)},function(x,m,_,p){return new v(x,m[0],m[1],m[2],_[0],_[1],_[2],p)}},4:function(c,y,d){function v(x,m,_,p,S,T,E,O,P,I){this.data=x,this.shape=[m,_,p,S],this.stride=[T,E,O,P],this.offset=0|I}var g=v.prototype;return g.dtype=c,g.dimension=4,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(g,"order",{get:d}),g.set=function(x,m,_,p,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p,S):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p]=S},g.get=function(x,m,_,p){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p]},g.index=function(x,m,_,p){return this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p},g.hi=function(x,m,_,p){return new v(this.data,typeof x!="number"||x<0?this.shape[0]:0|x,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,typeof p!="number"||p<0?this.shape[3]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},g.lo=function(x,m,_,p){var S=this.offset,T=0,E=this.shape[0],O=this.shape[1],P=this.shape[2],I=this.shape[3],R=this.stride[0],H=this.stride[1],z=this.stride[2],j=this.stride[3];return typeof x=="number"&&x>=0&&(S+=R*(T=0|x),E-=T),typeof m=="number"&&m>=0&&(S+=H*(T=0|m),O-=T),typeof _=="number"&&_>=0&&(S+=z*(T=0|_),P-=T),typeof p=="number"&&p>=0&&(S+=j*(T=0|p),I-=T),new v(this.data,E,O,P,I,R,H,z,j,S)},g.step=function(x,m,_,p){var S=this.shape[0],T=this.shape[1],E=this.shape[2],O=this.shape[3],P=this.stride[0],I=this.stride[1],R=this.stride[2],H=this.stride[3],z=this.offset,j=0,Z=Math.ceil;return typeof x=="number"&&((j=0|x)<0?(z+=P*(S-1),S=Z(-S/j)):S=Z(S/j),P*=j),typeof m=="number"&&((j=0|m)<0?(z+=I*(T-1),T=Z(-T/j)):T=Z(T/j),I*=j),typeof _=="number"&&((j=0|_)<0?(z+=R*(E-1),E=Z(-E/j)):E=Z(E/j),R*=j),typeof p=="number"&&((j=0|p)<0?(z+=H*(O-1),O=Z(-O/j)):O=Z(O/j),H*=j),new v(this.data,S,T,E,O,P,I,R,H,z)},g.transpose=function(x,m,_,p){x=x===void 0?0:0|x,m=m===void 0?1:0|m,_=_===void 0?2:0|_,p=p===void 0?3:0|p;var S=this.shape,T=this.stride;return new v(this.data,S[x],S[m],S[_],S[p],T[x],T[m],T[_],T[p],this.offset)},g.pick=function(x,m,_,p){var S=[],T=[],E=this.offset;return typeof x=="number"&&x>=0?E=E+this.stride[0]*x|0:(S.push(this.shape[0]),T.push(this.stride[0])),typeof m=="number"&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),T.push(this.stride[1])),typeof _=="number"&&_>=0?E=E+this.stride[2]*_|0:(S.push(this.shape[2]),T.push(this.stride[2])),typeof p=="number"&&p>=0?E=E+this.stride[3]*p|0:(S.push(this.shape[3]),T.push(this.stride[3])),(0,y[S.length+1])(this.data,S,T,E)},function(x,m,_,p){return new v(x,m[0],m[1],m[2],m[3],_[0],_[1],_[2],_[3],p)}},5:function(c,y,d){function v(x,m,_,p,S,T,E,O,P,I,R,H){this.data=x,this.shape=[m,_,p,S,T],this.stride=[E,O,P,I,R],this.offset=0|H}var g=v.prototype;return g.dtype=c,g.dimension=5,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(g,"order",{get:d}),g.set=function(x,m,_,p,S,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p+this.stride[4]*S,T):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p+this.stride[4]*S]=T},g.get=function(x,m,_,p,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p+this.stride[4]*S):this.data[this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p+this.stride[4]*S]},g.index=function(x,m,_,p,S){return this.offset+this.stride[0]*x+this.stride[1]*m+this.stride[2]*_+this.stride[3]*p+this.stride[4]*S},g.hi=function(x,m,_,p,S){return new v(this.data,typeof x!="number"||x<0?this.shape[0]:0|x,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,typeof p!="number"||p<0?this.shape[3]:0|p,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},g.lo=function(x,m,_,p,S){var T=this.offset,E=0,O=this.shape[0],P=this.shape[1],I=this.shape[2],R=this.shape[3],H=this.shape[4],z=this.stride[0],j=this.stride[1],Z=this.stride[2],F=this.stride[3],V=this.stride[4];return typeof x=="number"&&x>=0&&(T+=z*(E=0|x),O-=E),typeof m=="number"&&m>=0&&(T+=j*(E=0|m),P-=E),typeof _=="number"&&_>=0&&(T+=Z*(E=0|_),I-=E),typeof p=="number"&&p>=0&&(T+=F*(E=0|p),R-=E),typeof S=="number"&&S>=0&&(T+=V*(E=0|S),H-=E),new v(this.data,O,P,I,R,H,z,j,Z,F,V,T)},g.step=function(x,m,_,p,S){var T=this.shape[0],E=this.shape[1],O=this.shape[2],P=this.shape[3],I=this.shape[4],R=this.stride[0],H=this.stride[1],z=this.stride[2],j=this.stride[3],Z=this.stride[4],F=this.offset,V=0,W=Math.ceil;return typeof x=="number"&&((V=0|x)<0?(F+=R*(T-1),T=W(-T/V)):T=W(T/V),R*=V),typeof m=="number"&&((V=0|m)<0?(F+=H*(E-1),E=W(-E/V)):E=W(E/V),H*=V),typeof _=="number"&&((V=0|_)<0?(F+=z*(O-1),O=W(-O/V)):O=W(O/V),z*=V),typeof p=="number"&&((V=0|p)<0?(F+=j*(P-1),P=W(-P/V)):P=W(P/V),j*=V),typeof S=="number"&&((V=0|S)<0?(F+=Z*(I-1),I=W(-I/V)):I=W(I/V),Z*=V),new v(this.data,T,E,O,P,I,R,H,z,j,Z,F)},g.transpose=function(x,m,_,p,S){x=x===void 0?0:0|x,m=m===void 0?1:0|m,_=_===void 0?2:0|_,p=p===void 0?3:0|p,S=S===void 0?4:0|S;var T=this.shape,E=this.stride;return new v(this.data,T[x],T[m],T[_],T[p],T[S],E[x],E[m],E[_],E[p],E[S],this.offset)},g.pick=function(x,m,_,p,S){var T=[],E=[],O=this.offset;return typeof x=="number"&&x>=0?O=O+this.stride[0]*x|0:(T.push(this.shape[0]),E.push(this.stride[0])),typeof m=="number"&&m>=0?O=O+this.stride[1]*m|0:(T.push(this.shape[1]),E.push(this.stride[1])),typeof _=="number"&&_>=0?O=O+this.stride[2]*_|0:(T.push(this.shape[2]),E.push(this.stride[2])),typeof p=="number"&&p>=0?O=O+this.stride[3]*p|0:(T.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?O=O+this.stride[4]*S|0:(T.push(this.shape[4]),E.push(this.stride[4])),(0,y[T.length+1])(this.data,T,E,O)},function(x,m,_,p){return new v(x,m[0],m[1],m[2],m[3],m[4],_[0],_[1],_[2],_[3],_[4],p)}}};function u(c,y){var d=y===-1?"T":String(y),v=l[d];return y===-1?v(c):y===0?v(c,h[c][0]):v(c,h[c],a)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};f.exports=function(c,y,d,v){if(c===void 0)return(0,h.array[0])([]);typeof c=="number"&&(c=[c]),y===void 0&&(y=[c.length]);var g=y.length;if(d===void 0){d=new Array(g);for(var x=g-1,m=1;x>=0;--x)d[x]=m,m*=y[x]}if(v===void 0)for(v=0,x=0;x<g;++x)d[x]<0&&(v-=(y[x]-1)*d[x]);for(var _=function(S){if(i(S))return"buffer";if(r)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),p=h[_];p.length<=g+1;)p.push(u(_,p.length-1));return(0,p[g+1])(c,y,d,v)}},1278:function(f,s,n){var i=n(2361),r=Math.pow(2,-1074),t=-1>>>0;f.exports=function(a,l){if(isNaN(a)||isNaN(l))return NaN;if(a===l)return a;if(a===0)return l<0?-r:r;var u=i.hi(a),h=i.lo(a);return l>a==a>0?h===t?(u+=1,h=0):h+=1:h===0?(h=t,u-=1):h-=1,i.pack(h,u)}},8406:function(f,s){s.vertexNormals=function(n,i,r){for(var t=i.length,a=new Array(t),l=r===void 0?1e-6:r,u=0;u<t;++u)a[u]=[0,0,0];for(u=0;u<n.length;++u)for(var h=n[u],c=0,y=h[h.length-1],d=h[0],v=0;v<h.length;++v){c=y,y=d,d=h[(v+1)%h.length];for(var g=i[c],x=i[y],m=i[d],_=new Array(3),p=0,S=new Array(3),T=0,E=0;E<3;++E)_[E]=g[E]-x[E],p+=_[E]*_[E],S[E]=m[E]-x[E],T+=S[E]*S[E];if(p*T>l){var O=a[y],P=1/Math.sqrt(p*T);for(E=0;E<3;++E){var I=(E+1)%3,R=(E+2)%3;O[E]+=P*(S[I]*_[R]-S[R]*_[I])}}}for(u=0;u<t;++u){O=a[u];var H=0;for(E=0;E<3;++E)H+=O[E]*O[E];if(H>l)for(P=1/Math.sqrt(H),E=0;E<3;++E)O[E]*=P;else for(E=0;E<3;++E)O[E]=0}return a},s.faceNormals=function(n,i,r){for(var t=n.length,a=new Array(t),l=r===void 0?1e-6:r,u=0;u<t;++u){for(var h=n[u],c=new Array(3),y=0;y<3;++y)c[y]=i[h[y]];var d=new Array(3),v=new Array(3);for(y=0;y<3;++y)d[y]=c[1][y]-c[0][y],v[y]=c[2][y]-c[0][y];var g=new Array(3),x=0;for(y=0;y<3;++y){var m=(y+1)%3,_=(y+2)%3;g[y]=d[m]*v[_]-d[_]*v[m],x+=g[y]*g[y]}for(x=x>l?1/Math.sqrt(x):0,y=0;y<3;++y)g[y]*=x;a[u]=g}return a}},4081:function(f){f.exports=function(s,n,i,r,t,a,l,u,h,c){var y=n+a+c;if(d>0){var d=Math.sqrt(y+1);s[0]=.5*(l-h)/d,s[1]=.5*(u-r)/d,s[2]=.5*(i-a)/d,s[3]=.5*d}else{var v=Math.max(n,a,c);d=Math.sqrt(2*v-y+1),n>=v?(s[0]=.5*d,s[1]=.5*(t+i)/d,s[2]=.5*(u+r)/d,s[3]=.5*(l-h)/d):a>=v?(s[0]=.5*(i+t)/d,s[1]=.5*d,s[2]=.5*(h+l)/d,s[3]=.5*(u-r)/d):(s[0]=.5*(r+u)/d,s[1]=.5*(l+h)/d,s[2]=.5*d,s[3]=.5*(i-t)/d)}return s}},9977:function(f,s,n){f.exports=function(v){var g=(v=v||{}).center||[0,0,0],x=v.rotation||[0,0,0,1],m=v.radius||1;g=[].slice.call(g,0,3),c(x=[].slice.call(x,0,4),x);var _=new y(x,g,Math.log(m));return _.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&_.lookAt(0,v.eye,v.center,v.up),_};var i=n(9215),r=n(6582),t=n(7399),a=n(7608),l=n(4081);function u(v,g,x){return Math.sqrt(Math.pow(v,2)+Math.pow(g,2)+Math.pow(x,2))}function h(v,g,x,m){return Math.sqrt(Math.pow(v,2)+Math.pow(g,2)+Math.pow(x,2)+Math.pow(m,2))}function c(v,g){var x=g[0],m=g[1],_=g[2],p=g[3],S=h(x,m,_,p);S>1e-6?(v[0]=x/S,v[1]=m/S,v[2]=_/S,v[3]=p/S):(v[0]=v[1]=v[2]=0,v[3]=1)}function y(v,g,x){this.radius=i([x]),this.center=i(g),this.rotation=i(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=y.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var g=this.computedRotation;c(g,g);var x=this.computedMatrix;t(x,g);var m=this.computedCenter,_=this.computedEye,p=this.computedUp,S=Math.exp(this.computedRadius[0]);_[0]=m[0]+S*x[2],_[1]=m[1]+S*x[6],_[2]=m[2]+S*x[10],p[0]=x[1],p[1]=x[5],p[2]=x[9];for(var T=0;T<3;++T){for(var E=0,O=0;O<3;++O)E+=x[T+4*O]*_[O];x[12+T]=-E}},d.getMatrix=function(v,g){this.recalcMatrix(v);var x=this.computedMatrix;if(g){for(var m=0;m<16;++m)g[m]=x[m];return g}return x},d.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},d.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},d.pan=function(v,g,x,m){g=g||0,x=x||0,m=m||0,this.recalcMatrix(v);var _=this.computedMatrix,p=_[1],S=_[5],T=_[9],E=u(p,S,T);p/=E,S/=E,T/=E;var O=_[0],P=_[4],I=_[8],R=O*p+P*S+I*T,H=u(O-=p*R,P-=S*R,I-=T*R);O/=H,P/=H,I/=H,_[2],_[6],_[10];var z=O*g+p*x,j=P*g+S*x,Z=I*g+T*x;this.center.move(v,z,j,Z);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+m),this.radius.set(v,Math.log(F))},d.rotate=function(v,g,x,m){this.recalcMatrix(v),g=g||0,x=x||0;var _=this.computedMatrix,p=_[0],S=_[4],T=_[8],E=_[1],O=_[5],P=_[9],I=_[2],R=_[6],H=_[10],z=g*p+x*E,j=g*S+x*O,Z=g*T+x*P,F=-(R*Z-H*j),V=-(H*z-I*Z),W=-(I*j-R*z),re=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(V,2)-Math.pow(W,2))),ne=h(F,V,W,re);ne>1e-6?(F/=ne,V/=ne,W/=ne,re/=ne):(F=V=W=0,re=1);var te=this.computedRotation,Q=te[0],$=te[1],K=te[2],ae=te[3],ue=Q*re+ae*F+$*W-K*V,se=$*re+ae*V+K*F-Q*W,he=K*re+ae*W+Q*V-$*F,pe=ae*re-Q*F-$*V-K*W;if(m){F=I,V=R,W=H;var de=Math.sin(m)/u(F,V,W);F*=de,V*=de,W*=de,pe=pe*(re=Math.cos(g))-(ue=ue*re+pe*F+se*W-he*V)*F-(se=se*re+pe*V+he*F-ue*W)*V-(he=he*re+pe*W+ue*V-se*F)*W}var xe=h(ue,se,he,pe);xe>1e-6?(ue/=xe,se/=xe,he/=xe,pe/=xe):(ue=se=he=0,pe=1),this.rotation.set(v,ue,se,he,pe)},d.lookAt=function(v,g,x,m){this.recalcMatrix(v),x=x||this.computedCenter,g=g||this.computedEye,m=m||this.computedUp;var _=this.computedMatrix;r(_,g,x,m);var p=this.computedRotation;l(p,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),c(p,p),this.rotation.set(v,p[0],p[1],p[2],p[3]);for(var S=0,T=0;T<3;++T)S+=Math.pow(x[T]-g[T],2);this.radius.set(v,.5*Math.log(Math.max(S,1e-6))),this.center.set(v,x[0],x[1],x[2])},d.translate=function(v,g,x,m){this.center.move(v,g||0,x||0,m||0)},d.setMatrix=function(v,g){var x=this.computedRotation;l(x,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),c(x,x),this.rotation.set(v,x[0],x[1],x[2],x[3]);var m=this.computedMatrix;a(m,g);var _=m[15];if(Math.abs(_)>1e-6){var p=m[12]/_,S=m[13]/_,T=m[14]/_;this.recalcMatrix(v);var E=Math.exp(this.computedRadius[0]);this.center.set(v,p-m[2]*E,S-m[6]*E,T-m[10]*E),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},d.setDistance=function(v,g){g>0&&this.radius.set(v,Math.log(g))},d.setDistanceLimits=function(v,g){v=v>0?Math.log(v):-1/0,g=g>0?Math.log(g):1/0,g=Math.max(g,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=g},d.getDistanceLimits=function(v){var g=this.radius.bounds;return v?(v[0]=Math.exp(g[0][0]),v[1]=Math.exp(g[1][0]),v):[Math.exp(g[0][0]),Math.exp(g[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(v){var g=this.lastT(),x=v.center;x&&this.center.set(g,x[0],x[1],x[2]);var m=v.rotation;m&&this.rotation.set(g,m[0],m[1],m[2],m[3]);var _=v.distance;_&&_>0&&this.radius.set(g,Math.log(_)),this.setDistanceLimits(v.zoomMin,v.zoomMax)}},1371:function(f,s,n){var i=n(3233);f.exports=function(r,t,a){return i(a=a!==void 0?a+"":" ",t)+r}},3202:function(f){f.exports=function(s,n){n||(n=[0,""]),s=String(s);var i=parseFloat(s,10);return n[0]=i,n[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",n}},3088:function(f,s,n){f.exports=function(r,t){for(var a=0|t.length,l=r.length,u=[new Array(a),new Array(a)],h=0;h<a;++h)u[0][h]=[],u[1][h]=[];for(h=0;h<l;++h){var c=r[h];u[0][c[0]].push(c),u[1][c[1]].push(c)}var y=[];for(h=0;h<a;++h)u[0][h].length+u[1][h].length===0&&y.push([h]);function d(S,T){var E=u[T][S[T]];E.splice(E.indexOf(S),1)}function v(S,T,E){for(var O,P,I,R=0;R<2;++R)if(u[R][T].length>0){O=u[R][T][0],I=R;break}P=O[1^I];for(var H=0;H<2;++H)for(var z=u[H][T],j=0;j<z.length;++j){var Z=z[j],F=Z[1^H];i(t[S],t[T],t[P],t[F])>0&&(O=Z,P=F,I=H)}return E||O&&d(O,I),P}function g(S,T){var E=u[T][S][0],O=[S];d(E,T);for(var P=E[1^T];;){for(;P!==S;)O.push(P),P=v(O[O.length-2],P,!1);if(u[0][S].length+u[1][S].length===0)break;var I=O[O.length-1],R=S,H=O[1],z=v(I,R,!0);if(i(t[I],t[R],t[H],t[z])<0)break;O.push(S),P=v(I,R)}return O}function x(S,T){return T[1]===T[T.length-1]}for(h=0;h<a;++h)for(var m=0;m<2;++m){for(var _=[];u[m][h].length>0;){u[0][h].length;var p=g(h,m);x(0,p)?_.push.apply(_,p):(_.length>0&&y.push(_),_=p)}_.length>0&&y.push(_)}return y};var i=n(3140)},5609:function(f,s,n){f.exports=function(r,t){for(var a=i(r,t.length),l=new Array(t.length),u=new Array(t.length),h=[],c=0;c<t.length;++c){var y=a[c].length;u[c]=y,l[c]=!0,y<=1&&h.push(c)}for(;h.length>0;){l[m=h.pop()]=!1;var d=a[m];for(c=0;c<d.length;++c){var v=d[c];--u[v]==0&&h.push(v)}}var g=new Array(t.length),x=[];for(c=0;c<t.length;++c)if(l[c]){var m=x.length;g[c]=m,x.push(t[c])}else g[c]=-1;var _=[];for(c=0;c<r.length;++c){var p=r[c];l[p[0]]&&l[p[1]]&&_.push([g[p[0]],g[p[1]]])}return[_,x]};var i=n(3134)},2095:function(f,s,n){f.exports=function(y,d){var v=h(y,d);y=v[0];for(var g=(d=v[1]).length,x=(y.length,i(y,d.length)),m=0;m<g;++m)if(x[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=r(y,d),p=(_=_.filter(function(Le){for(var De=Le.length,ye=[0],le=0;le<De;++le){var oe=d[Le[le]],ve=d[Le[(le+1)%De]],Ce=a(-oe[0],oe[1]),ke=a(-oe[0],ve[1]),Ae=a(ve[0],oe[1]),Ee=a(ve[0],ve[1]);ye=l(ye,l(l(Ce,ke),l(Ae,Ee)))}return ye[ye.length-1]>0})).length,S=new Array(p),T=new Array(p);for(m=0;m<p;++m){S[m]=m;var E=new Array(p),O=_[m].map(function(Le){return d[Le]}),P=t([O]),I=0;e:for(var R=0;R<p;++R)if(E[R]=0,m!==R){for(var H=(_e=_[R]).length,z=0;z<H;++z){var j=P(d[_e[z]]);if(j!==0){j<0&&(E[R]=1,I+=1);continue e}}E[R]=1,I+=1}T[m]=[I,m,E]}for(T.sort(function(Le,De){return De[0]-Le[0]}),m=0;m<p;++m){var Z=(E=T[m])[1],F=E[2];for(R=0;R<p;++R)F[R]&&(S[R]=Z)}var V=function(Le){for(var De=new Array(Le),ye=0;ye<Le;++ye)De[ye]=[];return De}(p);for(m=0;m<p;++m)V[m].push(S[m]),V[S[m]].push(m);var W={},re=c(g,!1);for(m=0;m<p;++m)for(H=(_e=_[m]).length,R=0;R<H;++R){var ne=_e[R],te=_e[(R+1)%H],Q=Math.min(ne,te)+":"+Math.max(ne,te);if(Q in W){var $=W[Q];V[$].push(m),V[m].push($),re[ne]=re[te]=!0}else W[Q]=m}function K(Le){for(var De=Le.length,ye=0;ye<De;++ye)if(!re[Le[ye]])return!1;return!0}var ae=[],ue=c(p,-1);for(m=0;m<p;++m)S[m]!==m||K(_[m])?ue[m]=-1:(ae.push(m),ue[m]=0);for(v=[];ae.length>0;){var se=ae.pop(),he=V[se];u(he,function(Le,De){return Le-De});var pe,de=he.length,xe=ue[se];for(xe===0&&(pe=[_e=_[se]]),m=0;m<de;++m){var _e,be=he[m];ue[be]>=0||(ue[be]=1^xe,ae.push(be),xe===0&&(K(_e=_[be])||(_e.reverse(),pe.push(_e))))}xe===0&&v.push(pe)}return v};var i=n(3134),r=n(3088),t=n(5085),a=n(5250),l=n(8210),u=n(1682),h=n(5609);function c(y,d){for(var v=new Array(y),g=0;g<y;++g)v[g]=d;return v}},5085:function(f,s,n){f.exports=function(c){for(var y=c.length,d=[],v=[],g=0;g<y;++g)for(var x=c[g],m=x.length,_=m-1,p=0;p<m;_=p++){var S=x[_],T=x[p];S[0]===T[0]?v.push([S,T]):d.push([S,T])}if(d.length===0)return v.length===0?h:(E=u(v),function(I){return E(I[0],I[1])?0:1});var E,O=r(d),P=function(I,R){return function(H){var z=a.le(R,H[0]);if(z<0)return 1;var j=I[z];if(!j){if(!(z>0&&R[z]===H[0]))return 1;j=I[z-1]}for(var Z=1;j;){var F=j.key,V=i(H,F[0],F[1]);if(F[0][0]<F[1][0])if(V<0)j=j.left;else{if(!(V>0))return 0;Z=-1,j=j.right}else if(V>0)j=j.left;else{if(!(V<0))return 0;Z=1,j=j.right}}return Z}}(O.slabs,O.coordinates);return v.length===0?P:function(I,R){return function(H){return I(H[0],H[1])?0:R(H)}}(u(v),P)};var i=n(3250)[3],r=n(4209),t=n(3352),a=n(2478);function l(){return!0}function u(c){for(var y={},d=0;d<c.length;++d){var v=c[d],g=v[0][0],x=v[0][1],m=v[1][1],_=[Math.min(x,m),Math.max(x,m)];g in y?y[g].push(_):y[g]=[_]}var p={},S=Object.keys(y);for(d=0;d<S.length;++d){var T=y[S[d]];p[S[d]]=t(T)}return function(E){return function(O,P){var I=E[O];return!!I&&!!I.queryPoint(P,l)}}(p)}function h(c){return 1}},9346:function(f){var s=new Float64Array(4),n=new Float64Array(4),i=new Float64Array(4);f.exports=function(r,t,a,l,u){s.length<l.length&&(s=new Float64Array(l.length),n=new Float64Array(l.length),i=new Float64Array(l.length));for(var h=0;h<l.length;++h)s[h]=r[h]-l[h],n[h]=t[h]-r[h],i[h]=a[h]-r[h];var c=0,y=0,d=0,v=0,g=0,x=0;for(h=0;h<l.length;++h){var m=n[h],_=i[h],p=s[h];c+=m*m,y+=m*_,d+=_*_,v+=p*m,g+=p*_,x+=p*p}var S,T,E,O,P,I=Math.abs(c*d-y*y),R=y*g-d*v,H=y*v-c*g;if(R+H<=I)if(R<0)H<0&&v<0?(H=0,-v>=c?(R=1,S=c+2*v+x):S=v*(R=-v/c)+x):(R=0,g>=0?(H=0,S=x):-g>=d?(H=1,S=d+2*g+x):S=g*(H=-g/d)+x);else if(H<0)H=0,v>=0?(R=0,S=x):-v>=c?(R=1,S=c+2*v+x):S=v*(R=-v/c)+x;else{var z=1/I;S=(R*=z)*(c*R+y*(H*=z)+2*v)+H*(y*R+d*H+2*g)+x}else R<0?(E=d+g)>(T=y+v)?(O=E-T)>=(P=c-2*y+d)?(R=1,H=0,S=c+2*v+x):S=(R=O/P)*(c*R+y*(H=1-R)+2*v)+H*(y*R+d*H+2*g)+x:(R=0,E<=0?(H=1,S=d+2*g+x):g>=0?(H=0,S=x):S=g*(H=-g/d)+x):H<0?(E=c+v)>(T=y+g)?(O=E-T)>=(P=c-2*y+d)?(H=1,R=0,S=d+2*g+x):S=(R=1-(H=O/P))*(c*R+y*H+2*v)+H*(y*R+d*H+2*g)+x:(H=0,E<=0?(R=1,S=c+2*v+x):v>=0?(R=0,S=x):S=v*(R=-v/c)+x):(O=d+g-y-v)<=0?(R=0,H=1,S=d+2*g+x):O>=(P=c-2*y+d)?(R=1,H=0,S=c+2*v+x):S=(R=O/P)*(c*R+y*(H=1-R)+2*v)+H*(y*R+d*H+2*g)+x;var j=1-R-H;for(h=0;h<l.length;++h)u[h]=j*r[h]+R*t[h]+H*a[h];return S<0?0:S}},8648:function(f,s,n){f.exports=n(783)},2653:function(f,s,n){var i=n(3865);f.exports=function(r,t){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=i(r[u],t[u]);return l}},5838:function(f,s,n){f.exports=function(r){for(var t=new Array(r.length),a=0;a<r.length;++a)t[a]=i(r[a]);return t};var i=n(7842)},8987:function(f,s,n){var i=n(7842),r=n(6504);f.exports=function(t,a){for(var l=i(a),u=t.length,h=new Array(u),c=0;c<u;++c)h[c]=r(t[c],l);return h}},544:function(f,s,n){var i=n(5572);f.exports=function(r,t){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=i(r[u],t[u]);return l}},5771:function(f,s,n){var i=n(8507),r=n(3788),t=n(2419);f.exports=function(a){a.sort(r);for(var l=a.length,u=0,h=0;h<l;++h){var c=a[h],y=t(c);if(y!==0){if(u>0){var d=a[u-1];if(i(c,d)===0&&t(d)!==y){u-=1;continue}}a[u++]=c}}return a.length=u,a}},3233:function(f){var s,n="";f.exports=function(i,r){if(typeof i!="string")throw new TypeError("expected a string");if(r===1)return i;if(r===2)return i+i;var t=i.length*r;if(s!==i||s===void 0)s=i,n="";else if(n.length>=t)return n.substr(0,t);for(;t>n.length&&r>1;)1&r&&(n+=i),r>>=1,i+=i;return n=(n+=i).substr(0,t)}},3025:function(f,s,n){f.exports=n.g.performance&&n.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(f){f.exports=function(s){for(var n=s.length,i=s[s.length-1],r=n,t=n-2;t>=0;--t){var a=i;(h=(u=s[t])-((i=a+u)-a))&&(s[--r]=i,i=h)}var l=0;for(t=r;t<n;++t){var u,h;(h=(u=i)-((i=(a=s[t])+u)-a))&&(s[l++]=h)}return s[l++]=i,s.length=l,s}},2962:function(f,s,n){var i=n(5250),r=n(8210),t=n(3012),a=n(7004);function l(g,x,m,_){return function(p){return _(g(m(p[0][0],p[1][1]),m(-p[0][1],p[1][0])))}}function u(g,x,m,_){return function(p){return _(g(x(g(m(p[1][1],p[2][2]),m(-p[1][2],p[2][1])),p[0][0]),g(x(g(m(p[1][0],p[2][2]),m(-p[1][2],p[2][0])),-p[0][1]),x(g(m(p[1][0],p[2][1]),m(-p[1][1],p[2][0])),p[0][2]))))}}function h(g,x,m,_){return function(p){return _(g(g(x(g(x(g(m(p[2][2],p[3][3]),m(-p[2][3],p[3][2])),p[1][1]),g(x(g(m(p[2][1],p[3][3]),m(-p[2][3],p[3][1])),-p[1][2]),x(g(m(p[2][1],p[3][2]),m(-p[2][2],p[3][1])),p[1][3]))),p[0][0]),x(g(x(g(m(p[2][2],p[3][3]),m(-p[2][3],p[3][2])),p[1][0]),g(x(g(m(p[2][0],p[3][3]),m(-p[2][3],p[3][0])),-p[1][2]),x(g(m(p[2][0],p[3][2]),m(-p[2][2],p[3][0])),p[1][3]))),-p[0][1])),g(x(g(x(g(m(p[2][1],p[3][3]),m(-p[2][3],p[3][1])),p[1][0]),g(x(g(m(p[2][0],p[3][3]),m(-p[2][3],p[3][0])),-p[1][1]),x(g(m(p[2][0],p[3][1]),m(-p[2][1],p[3][0])),p[1][3]))),p[0][2]),x(g(x(g(m(p[2][1],p[3][2]),m(-p[2][2],p[3][1])),p[1][0]),g(x(g(m(p[2][0],p[3][2]),m(-p[2][2],p[3][0])),-p[1][1]),x(g(m(p[2][0],p[3][1]),m(-p[2][1],p[3][0])),p[1][2]))),-p[0][3]))))}}function c(g,x,m,_){return function(p){return _(g(g(x(g(g(x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][2]),g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),-p[2][3]),x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][4]))),p[1][1]),x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][1]),g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),-p[2][3]),x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),p[2][4]))),-p[1][2])),g(x(g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),p[2][1]),g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),-p[2][2]),x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][4]))),p[1][3]),x(g(x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][1]),g(x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),-p[2][2]),x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][3]))),-p[1][4]))),p[0][0]),x(g(g(x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][2]),g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),-p[2][3]),x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][4]))),p[1][0]),x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][3]),x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),p[2][4]))),-p[1][2])),g(x(g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][2]),x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),p[2][4]))),p[1][3]),x(g(x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][0]),g(x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),-p[2][2]),x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),p[2][3]))),-p[1][4]))),-p[0][1])),g(x(g(g(x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][1]),g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),-p[2][3]),x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),p[2][4]))),p[1][0]),x(g(x(g(m(p[3][3],p[4][4]),m(-p[3][4],p[4][3])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][3]),x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),p[2][4]))),-p[1][1])),g(x(g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][4]))),p[1][3]),x(g(x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][3]))),-p[1][4]))),p[0][2]),g(x(g(g(x(g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),p[2][1]),g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),-p[2][2]),x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][4]))),p[1][0]),x(g(x(g(m(p[3][2],p[4][4]),m(-p[3][4],p[4][2])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][2]),x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),p[2][4]))),-p[1][1])),g(x(g(x(g(m(p[3][1],p[4][4]),m(-p[3][4],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][4]),m(-p[3][4],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][4]))),p[1][2]),x(g(x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][2]))),-p[1][4]))),-p[0][3]),x(g(g(x(g(x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][1]),g(x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),-p[2][2]),x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][3]))),p[1][0]),x(g(x(g(m(p[3][2],p[4][3]),m(-p[3][3],p[4][2])),p[2][0]),g(x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),-p[2][2]),x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),p[2][3]))),-p[1][1])),g(x(g(x(g(m(p[3][1],p[4][3]),m(-p[3][3],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][3]),m(-p[3][3],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][3]))),p[1][2]),x(g(x(g(m(p[3][1],p[4][2]),m(-p[3][2],p[4][1])),p[2][0]),g(x(g(m(p[3][0],p[4][2]),m(-p[3][2],p[4][0])),-p[2][1]),x(g(m(p[3][0],p[4][1]),m(-p[3][1],p[4][0])),p[2][2]))),-p[1][3]))),p[0][4])))))}}function y(g){return(g===2?l:g===3?u:g===4?h:g===5?c:void 0)(r,t,i,a)}var d=[function(){return[0]},function(g){return[g[0][0]]}];function v(g,x,m,_,p,S,T,E){return function(O){switch(O.length){case 0:return g(O);case 1:return x(O);case 2:return m(O);case 3:return _(O);case 4:return p(O);case 5:return S(O)}var P=T[O.length];return P||(P=T[O.length]=E(O.length)),P(O)}}(function(){for(;d.length<6;)d.push(y(d.length));f.exports=v.apply(void 0,d.concat([d,y]));for(var g=0;g<d.length;++g)f.exports[g]=d[g]})()},1944:function(f,s,n){var i=n(5250),r=n(8210);f.exports=function(t,a){for(var l=i(t[0],a[0]),u=1;u<t.length;++u)l=r(l,i(t[u],a[u]));return l}},2646:function(f,s,n){var i=n(5250),r=n(8210),t=n(8545),a=n(3012);function l(x){return(x===3?u:x===4?h:x===5?c:y)(r,t,i,a)}function u(x,m,_,p){return function(S,T,E){var O=_(S[0],S[0]),P=p(O,T[0]),I=p(O,E[0]),R=_(T[0],T[0]),H=p(R,S[0]),z=p(R,E[0]),j=_(E[0],E[0]),Z=p(j,S[0]),F=p(j,T[0]),V=x(m(F,z),m(H,P)),W=m(Z,I),re=m(V,W);return re[re.length-1]}}function h(x,m,_,p){return function(S,T,E,O){var P=x(_(S[0],S[0]),_(S[1],S[1])),I=p(P,T[0]),R=p(P,E[0]),H=p(P,O[0]),z=x(_(T[0],T[0]),_(T[1],T[1])),j=p(z,S[0]),Z=p(z,E[0]),F=p(z,O[0]),V=x(_(E[0],E[0]),_(E[1],E[1])),W=p(V,S[0]),re=p(V,T[0]),ne=p(V,O[0]),te=x(_(O[0],O[0]),_(O[1],O[1])),Q=p(te,S[0]),$=p(te,T[0]),K=p(te,E[0]),ae=x(x(p(m(K,ne),T[1]),x(p(m($,F),-E[1]),p(m(re,Z),O[1]))),x(p(m($,F),S[1]),x(p(m(Q,H),-T[1]),p(m(j,I),O[1])))),ue=x(x(p(m(K,ne),S[1]),x(p(m(Q,H),-E[1]),p(m(W,R),O[1]))),x(p(m(re,Z),S[1]),x(p(m(W,R),-T[1]),p(m(j,I),E[1])))),se=m(ae,ue);return se[se.length-1]}}function c(x,m,_,p){return function(S,T,E,O,P){var I=x(_(S[0],S[0]),x(_(S[1],S[1]),_(S[2],S[2]))),R=p(I,T[0]),H=p(I,E[0]),z=p(I,O[0]),j=p(I,P[0]),Z=x(_(T[0],T[0]),x(_(T[1],T[1]),_(T[2],T[2]))),F=p(Z,S[0]),V=p(Z,E[0]),W=p(Z,O[0]),re=p(Z,P[0]),ne=x(_(E[0],E[0]),x(_(E[1],E[1]),_(E[2],E[2]))),te=p(ne,S[0]),Q=p(ne,T[0]),$=p(ne,O[0]),K=p(ne,P[0]),ae=x(_(O[0],O[0]),x(_(O[1],O[1]),_(O[2],O[2]))),ue=p(ae,S[0]),se=p(ae,T[0]),he=p(ae,E[0]),pe=p(ae,P[0]),de=x(_(P[0],P[0]),x(_(P[1],P[1]),_(P[2],P[2]))),xe=p(de,S[0]),_e=p(de,T[0]),be=p(de,E[0]),Le=p(de,O[0]),De=x(x(x(p(x(p(m(Le,pe),E[1]),x(p(m(be,K),-O[1]),p(m(he,$),P[1]))),T[2]),x(p(x(p(m(Le,pe),T[1]),x(p(m(_e,re),-O[1]),p(m(se,W),P[1]))),-E[2]),p(x(p(m(be,K),T[1]),x(p(m(_e,re),-E[1]),p(m(Q,V),P[1]))),O[2]))),x(p(x(p(m(he,$),T[1]),x(p(m(se,W),-E[1]),p(m(Q,V),O[1]))),-P[2]),x(p(x(p(m(Le,pe),T[1]),x(p(m(_e,re),-O[1]),p(m(se,W),P[1]))),S[2]),p(x(p(m(Le,pe),S[1]),x(p(m(xe,j),-O[1]),p(m(ue,z),P[1]))),-T[2])))),x(x(p(x(p(m(_e,re),S[1]),x(p(m(xe,j),-T[1]),p(m(F,R),P[1]))),O[2]),x(p(x(p(m(se,W),S[1]),x(p(m(ue,z),-T[1]),p(m(F,R),O[1]))),-P[2]),p(x(p(m(he,$),T[1]),x(p(m(se,W),-E[1]),p(m(Q,V),O[1]))),S[2]))),x(p(x(p(m(he,$),S[1]),x(p(m(ue,z),-E[1]),p(m(te,H),O[1]))),-T[2]),x(p(x(p(m(se,W),S[1]),x(p(m(ue,z),-T[1]),p(m(F,R),O[1]))),E[2]),p(x(p(m(Q,V),S[1]),x(p(m(te,H),-T[1]),p(m(F,R),E[1]))),-O[2]))))),ye=x(x(x(p(x(p(m(Le,pe),E[1]),x(p(m(be,K),-O[1]),p(m(he,$),P[1]))),S[2]),p(x(p(m(Le,pe),S[1]),x(p(m(xe,j),-O[1]),p(m(ue,z),P[1]))),-E[2])),x(p(x(p(m(be,K),S[1]),x(p(m(xe,j),-E[1]),p(m(te,H),P[1]))),O[2]),p(x(p(m(he,$),S[1]),x(p(m(ue,z),-E[1]),p(m(te,H),O[1]))),-P[2]))),x(x(p(x(p(m(be,K),T[1]),x(p(m(_e,re),-E[1]),p(m(Q,V),P[1]))),S[2]),p(x(p(m(be,K),S[1]),x(p(m(xe,j),-E[1]),p(m(te,H),P[1]))),-T[2])),x(p(x(p(m(_e,re),S[1]),x(p(m(xe,j),-T[1]),p(m(F,R),P[1]))),E[2]),p(x(p(m(Q,V),S[1]),x(p(m(te,H),-T[1]),p(m(F,R),E[1]))),-P[2])))),le=m(De,ye);return le[le.length-1]}}function y(x,m,_,p){return function(S,T,E,O,P,I){var R=x(x(_(S[0],S[0]),_(S[1],S[1])),x(_(S[2],S[2]),_(S[3],S[3]))),H=p(R,T[0]),z=p(R,E[0]),j=p(R,O[0]),Z=p(R,P[0]),F=p(R,I[0]),V=x(x(_(T[0],T[0]),_(T[1],T[1])),x(_(T[2],T[2]),_(T[3],T[3]))),W=p(V,S[0]),re=p(V,E[0]),ne=p(V,O[0]),te=p(V,P[0]),Q=p(V,I[0]),$=x(x(_(E[0],E[0]),_(E[1],E[1])),x(_(E[2],E[2]),_(E[3],E[3]))),K=p($,S[0]),ae=p($,T[0]),ue=p($,O[0]),se=p($,P[0]),he=p($,I[0]),pe=x(x(_(O[0],O[0]),_(O[1],O[1])),x(_(O[2],O[2]),_(O[3],O[3]))),de=p(pe,S[0]),xe=p(pe,T[0]),_e=p(pe,E[0]),be=p(pe,P[0]),Le=p(pe,I[0]),De=x(x(_(P[0],P[0]),_(P[1],P[1])),x(_(P[2],P[2]),_(P[3],P[3]))),ye=p(De,S[0]),le=p(De,T[0]),oe=p(De,E[0]),ve=p(De,O[0]),Ce=p(De,I[0]),ke=x(x(_(I[0],I[0]),_(I[1],I[1])),x(_(I[2],I[2]),_(I[3],I[3]))),Ae=p(ke,S[0]),Ee=p(ke,T[0]),ze=p(ke,E[0]),Fe=p(ke,O[0]),ge=p(ke,P[0]),Te=x(x(x(p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),E[2]),p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),P[2]),p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),-I[2]))),T[3]),x(p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),T[2]),p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),P[2]),p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),-I[2]))),-E[3]),p(x(x(p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),T[2]),p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),-E[2])),x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),P[2]),p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),-I[2]))),O[3]))),x(x(p(x(x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),T[2]),p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),-E[2])),x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),O[2]),p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),-I[2]))),-P[3]),p(x(x(p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),T[2]),p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),-E[2])),x(p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),O[2]),p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),-P[2]))),I[3])),x(p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),T[2]),p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),P[2]),p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),-I[2]))),S[3]),p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),P[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-I[2]))),-T[3])))),x(x(x(p(x(x(p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),P[2]),p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),-I[2]))),O[3]),p(x(x(p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),S[2]),p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),O[2]),p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),-I[2]))),-P[3])),x(p(x(x(p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),S[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-T[2])),x(p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),O[2]),p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),-P[2]))),I[3]),p(x(x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),T[2]),p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),-E[2])),x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),O[2]),p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),-I[2]))),S[3]))),x(x(p(x(x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),S[2]),p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),-E[2])),x(p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),O[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-I[2]))),-T[3]),p(x(x(p(x(p(m(Fe,Le),T[1]),x(p(m(Ee,Q),-O[1]),p(m(xe,ne),I[1]))),S[2]),p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),O[2]),p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),-I[2]))),E[3])),x(p(x(x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),S[2]),p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-I[2]))),-O[3]),p(x(x(p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),S[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-T[2])),x(p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-O[2]))),I[3]))))),Se=x(x(x(p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),E[2]),p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),P[2]),p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),-I[2]))),S[3]),x(p(x(x(p(x(p(m(ge,Ce),O[1]),x(p(m(Fe,Le),-P[1]),p(m(ve,be),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-O[2])),x(p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),P[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-I[2]))),-E[3]),p(x(x(p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-E[2])),x(p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),P[2]),p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),-I[2]))),O[3]))),x(x(p(x(x(p(x(p(m(Fe,Le),E[1]),x(p(m(ze,he),-O[1]),p(m(_e,ue),I[1]))),S[2]),p(x(p(m(Fe,Le),S[1]),x(p(m(Ae,F),-O[1]),p(m(de,j),I[1]))),-E[2])),x(p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),O[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-I[2]))),-P[3]),p(x(x(p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),S[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-E[2])),x(p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),O[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-P[2]))),I[3])),x(p(x(x(p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),T[2]),p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),-E[2])),x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),P[2]),p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),-I[2]))),S[3]),p(x(x(p(x(p(m(ge,Ce),E[1]),x(p(m(ze,he),-P[1]),p(m(oe,se),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-E[2])),x(p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),P[2]),p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),-I[2]))),-T[3])))),x(x(x(p(x(x(p(x(p(m(ge,Ce),T[1]),x(p(m(Ee,Q),-P[1]),p(m(le,te),I[1]))),S[2]),p(x(p(m(ge,Ce),S[1]),x(p(m(Ae,F),-P[1]),p(m(ye,Z),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),P[2]),p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),-I[2]))),E[3]),p(x(x(p(x(p(m(ze,he),T[1]),x(p(m(Ee,Q),-E[1]),p(m(ae,re),I[1]))),S[2]),p(x(p(m(ze,he),S[1]),x(p(m(Ae,F),-E[1]),p(m(K,z),I[1]))),-T[2])),x(p(x(p(m(Ee,Q),S[1]),x(p(m(Ae,F),-T[1]),p(m(W,H),I[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-I[2]))),-P[3])),x(p(x(x(p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),S[2]),p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),-T[2])),x(p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-P[2]))),I[3]),p(x(x(p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),T[2]),p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),-E[2])),x(p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),O[2]),p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),-P[2]))),S[3]))),x(x(p(x(x(p(x(p(m(ve,be),E[1]),x(p(m(oe,se),-O[1]),p(m(_e,ue),P[1]))),S[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-E[2])),x(p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),O[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-P[2]))),-T[3]),p(x(x(p(x(p(m(ve,be),T[1]),x(p(m(le,te),-O[1]),p(m(xe,ne),P[1]))),S[2]),p(x(p(m(ve,be),S[1]),x(p(m(ye,Z),-O[1]),p(m(de,j),P[1]))),-T[2])),x(p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),O[2]),p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),-P[2]))),E[3])),x(p(x(x(p(x(p(m(oe,se),T[1]),x(p(m(le,te),-E[1]),p(m(ae,re),P[1]))),S[2]),p(x(p(m(oe,se),S[1]),x(p(m(ye,Z),-E[1]),p(m(K,z),P[1]))),-T[2])),x(p(x(p(m(le,te),S[1]),x(p(m(ye,Z),-T[1]),p(m(W,H),P[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-P[2]))),-O[3]),p(x(x(p(x(p(m(_e,ue),T[1]),x(p(m(xe,ne),-E[1]),p(m(ae,re),O[1]))),S[2]),p(x(p(m(_e,ue),S[1]),x(p(m(de,j),-E[1]),p(m(K,z),O[1]))),-T[2])),x(p(x(p(m(xe,ne),S[1]),x(p(m(de,j),-T[1]),p(m(W,H),O[1]))),E[2]),p(x(p(m(ae,re),S[1]),x(p(m(K,z),-T[1]),p(m(W,H),E[1]))),-O[2]))),P[3]))))),Re=m(Te,Se);return Re[Re.length-1]}}var d=[function(){return 0},function(){return 0},function(){return 0}];function v(x){var m=d[x.length];return m||(m=d[x.length]=l(x.length)),m.apply(void 0,x)}function g(x,m,_,p,S,T,E,O){return function(P,I,R,H,z,j){switch(arguments.length){case 0:case 1:return 0;case 2:return p(P,I);case 3:return S(P,I,R);case 4:return T(P,I,R,H);case 5:return E(P,I,R,H,z);case 6:return O(P,I,R,H,z,j)}for(var Z=new Array(arguments.length),F=0;F<arguments.length;++F)Z[F]=arguments[F];return x(Z)}}(function(){for(;d.length<=6;)d.push(l(d.length));f.exports=g.apply(void 0,[v].concat(d));for(var x=0;x<=6;++x)f.exports[x]=d[x]})()},727:function(f,s,n){var i=n(2962);function r(d){return(d===2?t:d===3?a:d===4?l:d===5?u:h)(d<6?i[d]:i)}function t(d){return function(v,g){return[d([[+g[0],+v[0][1]],[+g[1],+v[1][1]]]),d([[+v[0][0],+g[0]],[+v[1][0],+g[1]]]),d(v)]}}function a(d){return function(v,g){return[d([[+g[0],+v[0][1],+v[0][2]],[+g[1],+v[1][1],+v[1][2]],[+g[2],+v[2][1],+v[2][2]]]),d([[+v[0][0],+g[0],+v[0][2]],[+v[1][0],+g[1],+v[1][2]],[+v[2][0],+g[2],+v[2][2]]]),d([[+v[0][0],+v[0][1],+g[0]],[+v[1][0],+v[1][1],+g[1]],[+v[2][0],+v[2][1],+g[2]]]),d(v)]}}function l(d){return function(v,g){return[d([[+g[0],+v[0][1],+v[0][2],+v[0][3]],[+g[1],+v[1][1],+v[1][2],+v[1][3]],[+g[2],+v[2][1],+v[2][2],+v[2][3]],[+g[3],+v[3][1],+v[3][2],+v[3][3]]]),d([[+v[0][0],+g[0],+v[0][2],+v[0][3]],[+v[1][0],+g[1],+v[1][2],+v[1][3]],[+v[2][0],+g[2],+v[2][2],+v[2][3]],[+v[3][0],+g[3],+v[3][2],+v[3][3]]]),d([[+v[0][0],+v[0][1],+g[0],+v[0][3]],[+v[1][0],+v[1][1],+g[1],+v[1][3]],[+v[2][0],+v[2][1],+g[2],+v[2][3]],[+v[3][0],+v[3][1],+g[3],+v[3][3]]]),d([[+v[0][0],+v[0][1],+v[0][2],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+g[3]]]),d(v)]}}function u(d){return function(v,g){return[d([[+g[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4]],[+g[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4]],[+g[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4]],[+g[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4]],[+g[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4]]]),d([[+v[0][0],+g[0],+v[0][2],+v[0][3],+v[0][4]],[+v[1][0],+g[1],+v[1][2],+v[1][3],+v[1][4]],[+v[2][0],+g[2],+v[2][2],+v[2][3],+v[2][4]],[+v[3][0],+g[3],+v[3][2],+v[3][3],+v[3][4]],[+v[4][0],+g[4],+v[4][2],+v[4][3],+v[4][4]]]),d([[+v[0][0],+v[0][1],+g[0],+v[0][3],+v[0][4]],[+v[1][0],+v[1][1],+g[1],+v[1][3],+v[1][4]],[+v[2][0],+v[2][1],+g[2],+v[2][3],+v[2][4]],[+v[3][0],+v[3][1],+g[3],+v[3][3],+v[3][4]],[+v[4][0],+v[4][1],+g[4],+v[4][3],+v[4][4]]]),d([[+v[0][0],+v[0][1],+v[0][2],+g[0],+v[0][4]],[+v[1][0],+v[1][1],+v[1][2],+g[1],+v[1][4]],[+v[2][0],+v[2][1],+v[2][2],+g[2],+v[2][4]],[+v[3][0],+v[3][1],+v[3][2],+g[3],+v[3][4]],[+v[4][0],+v[4][1],+v[4][2],+g[4],+v[4][4]]]),d([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+g[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+g[4]]]),d(v)]}}function h(d){return function(v,g){return[d([[+g[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+g[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+g[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+g[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+g[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+g[5],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),d([[+v[0][0],+g[0],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+g[1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+g[2],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+g[3],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+g[4],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+g[5],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),d([[+v[0][0],+v[0][1],+g[0],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+g[1],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+g[2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+g[3],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+g[4],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+g[5],+v[5][3],+v[5][4],+v[5][5]]]),d([[+v[0][0],+v[0][1],+v[0][2],+g[0],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+g[1],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+g[2],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+g[3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+g[4],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+g[5],+v[5][4],+v[5][5]]]),d([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+g[0],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+g[1],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+g[2],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+g[3],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+g[4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+g[5],+v[5][5]]]),d([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+g[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+g[4]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+g[5]]]),d(v)]}}var c=[function(){return[[0]]},function(d,v){return[[v[0]],[d[0][0]]]}];function y(d,v,g,x,m,_,p,S){return function(T,E){switch(T.length){case 0:return d(T,E);case 1:return v(T,E);case 2:return g(T,E);case 3:return x(T,E);case 4:return m(T,E);case 5:return _(T,E)}var O=p[T.length];return O||(O=p[T.length]=S(T.length)),O(T,E)}}(function(){for(;c.length<6;)c.push(r(c.length));f.exports=y.apply(void 0,c.concat([c,r]));for(var d=0;d<6;++d)f.exports[d]=c[d]})()},3250:function(f,s,n){var i=n(5250),r=n(8210),t=n(3012),a=n(8545);function l(m,_,p,S){return function(T,E,O){var P=m(m(_(E[1],O[0]),_(-O[1],E[0])),m(_(T[1],E[0]),_(-E[1],T[0]))),I=m(_(T[1],O[0]),_(-O[1],T[0])),R=S(P,I);return R[R.length-1]}}function u(m,_,p,S){return function(T,E,O,P){var I=m(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),E[2]),m(p(m(_(E[1],P[0]),_(-P[1],E[0])),-O[2]),p(m(_(E[1],O[0]),_(-O[1],E[0])),P[2]))),m(p(m(_(E[1],P[0]),_(-P[1],E[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),P[2])))),R=m(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-O[2]),p(m(_(T[1],O[0]),_(-O[1],T[0])),P[2]))),m(p(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(p(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),O[2])))),H=S(I,R);return H[H.length-1]}}function h(m,_,p,S){return function(T,E,O,P,I){var R=m(m(m(p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),O[2]),m(p(m(_(O[1],I[0]),_(-I[1],O[0])),-P[2]),p(m(_(O[1],P[0]),_(-P[1],O[0])),I[2]))),E[3]),m(p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),E[2]),m(p(m(_(E[1],I[0]),_(-I[1],E[0])),-P[2]),p(m(_(E[1],P[0]),_(-P[1],E[0])),I[2]))),-O[3]),p(m(p(m(_(O[1],I[0]),_(-I[1],O[0])),E[2]),m(p(m(_(E[1],I[0]),_(-I[1],E[0])),-O[2]),p(m(_(E[1],O[0]),_(-O[1],E[0])),I[2]))),P[3]))),m(p(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),E[2]),m(p(m(_(E[1],P[0]),_(-P[1],E[0])),-O[2]),p(m(_(E[1],O[0]),_(-O[1],E[0])),P[2]))),-I[3]),m(p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),E[2]),m(p(m(_(E[1],I[0]),_(-I[1],E[0])),-P[2]),p(m(_(E[1],P[0]),_(-P[1],E[0])),I[2]))),T[3]),p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-P[2]),p(m(_(T[1],P[0]),_(-P[1],T[0])),I[2]))),-E[3])))),m(m(p(m(p(m(_(E[1],I[0]),_(-I[1],E[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),I[2]))),P[3]),m(p(m(p(m(_(E[1],P[0]),_(-P[1],E[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),P[2]))),-I[3]),p(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),E[2]),m(p(m(_(E[1],P[0]),_(-P[1],E[0])),-O[2]),p(m(_(E[1],O[0]),_(-O[1],E[0])),P[2]))),T[3]))),m(p(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-O[2]),p(m(_(T[1],O[0]),_(-O[1],T[0])),P[2]))),-E[3]),m(p(m(p(m(_(E[1],P[0]),_(-P[1],E[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),P[2]))),O[3]),p(m(p(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(p(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),O[2]))),-P[3]))))),H=m(m(m(p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),O[2]),m(p(m(_(O[1],I[0]),_(-I[1],O[0])),-P[2]),p(m(_(O[1],P[0]),_(-P[1],O[0])),I[2]))),T[3]),p(m(p(m(_(P[1],I[0]),_(-I[1],P[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-P[2]),p(m(_(T[1],P[0]),_(-P[1],T[0])),I[2]))),-O[3])),m(p(m(p(m(_(O[1],I[0]),_(-I[1],O[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-O[2]),p(m(_(T[1],O[0]),_(-O[1],T[0])),I[2]))),P[3]),p(m(p(m(_(O[1],P[0]),_(-P[1],O[0])),T[2]),m(p(m(_(T[1],P[0]),_(-P[1],T[0])),-O[2]),p(m(_(T[1],O[0]),_(-O[1],T[0])),P[2]))),-I[3]))),m(m(p(m(p(m(_(O[1],I[0]),_(-I[1],O[0])),E[2]),m(p(m(_(E[1],I[0]),_(-I[1],E[0])),-O[2]),p(m(_(E[1],O[0]),_(-O[1],E[0])),I[2]))),T[3]),p(m(p(m(_(O[1],I[0]),_(-I[1],O[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-O[2]),p(m(_(T[1],O[0]),_(-O[1],T[0])),I[2]))),-E[3])),m(p(m(p(m(_(E[1],I[0]),_(-I[1],E[0])),T[2]),m(p(m(_(T[1],I[0]),_(-I[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),I[2]))),O[3]),p(m(p(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(p(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),p(m(_(T[1],E[0]),_(-E[1],T[0])),O[2]))),-I[3])))),z=S(R,H);return z[z.length-1]}}function c(m){return(m===3?l:m===4?u:h)(r,i,t,a)}var y=c(3),d=c(4),v=[function(){return 0},function(){return 0},function(m,_){return _[0]-m[0]},function(m,_,p){var S,T=(m[1]-p[1])*(_[0]-p[0]),E=(m[0]-p[0])*(_[1]-p[1]),O=T-E;if(T>0){if(E<=0)return O;S=T+E}else{if(!(T<0)||E>=0)return O;S=-(T+E)}var P=33306690738754716e-32*S;return O>=P||O<=-P?O:y(m,_,p)},function(m,_,p,S){var T=m[0]-S[0],E=_[0]-S[0],O=p[0]-S[0],P=m[1]-S[1],I=_[1]-S[1],R=p[1]-S[1],H=m[2]-S[2],z=_[2]-S[2],j=p[2]-S[2],Z=E*R,F=O*I,V=O*P,W=T*R,re=T*I,ne=E*P,te=H*(Z-F)+z*(V-W)+j*(re-ne),Q=7771561172376103e-31*((Math.abs(Z)+Math.abs(F))*Math.abs(H)+(Math.abs(V)+Math.abs(W))*Math.abs(z)+(Math.abs(re)+Math.abs(ne))*Math.abs(j));return te>Q||-te>Q?te:d(m,_,p,S)}];function g(m){var _=v[m.length];return _||(_=v[m.length]=c(m.length)),_.apply(void 0,m)}function x(m,_,p,S,T,E,O){return function(P,I,R,H,z){switch(arguments.length){case 0:case 1:return 0;case 2:return S(P,I);case 3:return T(P,I,R);case 4:return E(P,I,R,H);case 5:return O(P,I,R,H,z)}for(var j=new Array(arguments.length),Z=0;Z<arguments.length;++Z)j[Z]=arguments[Z];return m(j)}}(function(){for(;v.length<=5;)v.push(c(v.length));f.exports=x.apply(void 0,[g].concat(v));for(var m=0;m<=5;++m)f.exports[m]=v[m]})()},5382:function(f,s,n){var i=n(8210),r=n(3012);f.exports=function(t,a){if(t.length===1)return r(a,t[0]);if(a.length===1)return r(t,a[0]);if(t.length===0||a.length===0)return[0];var l=[0];if(t.length<a.length)for(var u=0;u<t.length;++u)l=i(l,r(a,t[u]));else for(u=0;u<a.length;++u)l=i(l,r(t,a[u]));return l}},3012:function(f,s,n){var i=n(5250),r=n(9362);f.exports=function(t,a){var l=t.length;if(l===1){var u=i(t[0],a);return u[0]?u:[u[1]]}var h=new Array(2*l),c=[.1,.1],y=[.1,.1],d=0;i(t[0],a,c),c[0]&&(h[d++]=c[0]);for(var v=1;v<l;++v){i(t[v],a,y);var g=c[1];r(g,y[0],c),c[0]&&(h[d++]=c[0]);var x=y[1],m=c[1],_=x+m,p=m-(_-x);c[1]=_,p&&(h[d++]=p)}return c[1]&&(h[d++]=c[1]),d===0&&(h[d++]=0),h.length=d,h}},1125:function(f,s,n){f.exports=function(r,t,a,l){var u=i(r,a,l),h=i(t,a,l);if(u>0&&h>0||u<0&&h<0)return!1;var c=i(a,r,t),y=i(l,r,t);return!(c>0&&y>0||c<0&&y<0)&&(u!==0||h!==0||c!==0||y!==0||function(d,v,g,x){for(var m=0;m<2;++m){var _=d[m],p=v[m],S=Math.min(_,p),T=Math.max(_,p),E=g[m],O=x[m],P=Math.min(E,O);if(Math.max(E,O)<S||T<P)return!1}return!0}(r,t,a,l))};var i=n(3250)[3]},8545:function(f){f.exports=function(s,n){var i=0|s.length,r=0|n.length;if(i===1&&r===1)return function(P,I){var R=P+I,H=R-P,z=P-(R-H)+(I-H);return z?[z,R]:[R]}(s[0],-n[0]);var t,a,l=new Array(i+r),u=0,h=0,c=0,y=Math.abs,d=s[h],v=y(d),g=-n[c],x=y(g);v<x?(a=d,(h+=1)<i&&(v=y(d=s[h]))):(a=g,(c+=1)<r&&(x=y(g=-n[c]))),h<i&&v<x||c>=r?(t=d,(h+=1)<i&&(v=y(d=s[h]))):(t=g,(c+=1)<r&&(x=y(g=-n[c])));for(var m,_,p=t+a,S=p-t,T=a-S,E=T,O=p;h<i&&c<r;)v<x?(t=d,(h+=1)<i&&(v=y(d=s[h]))):(t=g,(c+=1)<r&&(x=y(g=-n[c]))),(T=(a=E)-(S=(p=t+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m;for(;h<i;)(T=(a=E)-(S=(p=(t=d)+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m,(h+=1)<i&&(d=s[h]);for(;c<r;)(T=(a=E)-(S=(p=(t=g)+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m,(c+=1)<r&&(g=-n[c]);return E&&(l[u++]=E),O&&(l[u++]=O),u||(l[u++]=0),l.length=u,l}},8210:function(f){f.exports=function(s,n){var i=0|s.length,r=0|n.length;if(i===1&&r===1)return function(P,I){var R=P+I,H=R-P,z=P-(R-H)+(I-H);return z?[z,R]:[R]}(s[0],n[0]);var t,a,l=new Array(i+r),u=0,h=0,c=0,y=Math.abs,d=s[h],v=y(d),g=n[c],x=y(g);v<x?(a=d,(h+=1)<i&&(v=y(d=s[h]))):(a=g,(c+=1)<r&&(x=y(g=n[c]))),h<i&&v<x||c>=r?(t=d,(h+=1)<i&&(v=y(d=s[h]))):(t=g,(c+=1)<r&&(x=y(g=n[c])));for(var m,_,p=t+a,S=p-t,T=a-S,E=T,O=p;h<i&&c<r;)v<x?(t=d,(h+=1)<i&&(v=y(d=s[h]))):(t=g,(c+=1)<r&&(x=y(g=n[c]))),(T=(a=E)-(S=(p=t+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m;for(;h<i;)(T=(a=E)-(S=(p=(t=d)+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m,(h+=1)<i&&(d=s[h]);for(;c<r;)(T=(a=E)-(S=(p=(t=g)+a)-t))&&(l[u++]=T),E=O-((m=O+p)-(_=m-O))+(p-_),O=m,(c+=1)<r&&(g=n[c]);return E&&(l[u++]=E),O&&(l[u++]=O),u||(l[u++]=0),l.length=u,l}},9127:function(f,s,n){f.exports=function(t){return r(i(t))};var i=n(6204),r=n(5771)},7765:function(f,s,n){f.exports=function(l,u,h,c){if(h=h||0,c===void 0&&(c=function(p){for(var S=p.length,T=0,E=0;E<S;++E)T=0|Math.max(T,p[E].length);return T-1}(l)),l.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var y=function(p,S){for(var T=p.length,E=r.mallocUint8(T),O=0;O<T;++O)E[O]=p[O]<S|0;return E}(u,+h),d=function(p,S){for(var T=p.length,E=S*(S+1)/2*T|0,O=r.mallocUint32(2*E),P=0,I=0;I<T;++I)for(var R=p[I],H=(S=R.length,0);H<S;++H)for(var z=0;z<H;++z){var j=R[z],Z=R[H];O[P++]=0|Math.min(j,Z),O[P++]=0|Math.max(j,Z)}t(i(O,[P/2|0,2]));var F=2;for(I=2;I<P;I+=2)O[I-2]===O[I]&&O[I-1]===O[I+1]||(O[F++]=O[I],O[F++]=O[I+1]);return i(O,[F/2|0,2])}(l,c),v=function(p,S,T,E){for(var O=p.data,P=p.shape[0],I=r.mallocDouble(P),R=0,H=0;H<P;++H){var z=O[2*H],j=O[2*H+1];if(T[z]!==T[j]){var Z=S[z],F=S[j];O[2*R]=z,O[2*R+1]=j,I[R++]=(F-E)/(F-Z)}}return p.shape[0]=R,i(I,[R])}(d,u,y,+h),g=function(p,S){var T=r.mallocInt32(2*S),E=p.shape[0],O=p.data;T[0]=0;for(var P=0,I=0;I<E;++I){var R=O[2*I];if(R!==P){for(T[2*P+1]=I;++P<R;)T[2*P]=I,T[2*P+1]=I;T[2*P]=I}}for(T[2*P+1]=E;++P<S;)T[2*P]=T[2*P+1]=E;return T}(d,0|u.length),x=a(c)(l,d.data,g,y),m=function(p){for(var S=0|p.shape[0],T=p.data,E=new Array(S),O=0;O<S;++O)E[O]=[T[2*O],T[2*O+1]];return E}(d),_=[].slice.call(v.data,0,v.shape[0]);return r.free(y),r.free(d.data),r.free(v.data),r.free(g),{cells:x,vertexIds:m,vertexWeights:_}};var i=n(9618),r=n(1888),t=n(446),a=n(1570)},1570:function(f){f.exports=function(n){return s[n]()};var s=[function(){return function(n,i,r,t){for(var a=n.length,l=0;l<a;++l)n[l].length;return[]}},function(){function n(i,r,t,a){for(var l=0|Math.min(t,a),u=0|Math.max(t,a),h=i[2*l],c=i[2*l+1];h<c;){var y=h+c>>1,d=r[2*y+1];if(d===u)return y;u<d?c=y:h=y+1}return h}return function(i,r,t,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h];if(c.length===2){var y=(a[c[0]]<<0)+(a[c[1]]<<1);if(y===0||y===3)continue;switch(y){case 0:case 3:break;case 1:u.push([n(t,r,c[0],c[1])]);break;case 2:u.push([n(t,r,c[1],c[0])])}}}return u}},function(){function n(i,r,t,a){for(var l=0|Math.min(t,a),u=0|Math.max(t,a),h=i[2*l],c=i[2*l+1];h<c;){var y=h+c>>1,d=r[2*y+1];if(d===u)return y;u<d?c=y:h=y+1}return h}return function(i,r,t,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h],y=c.length;if(y===3){if((d=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([n(t,r,c[0],c[2]),n(t,r,c[0],c[1])]);break;case 2:u.push([n(t,r,c[1],c[0]),n(t,r,c[1],c[2])]);break;case 3:u.push([n(t,r,c[0],c[2]),n(t,r,c[1],c[2])]);break;case 4:u.push([n(t,r,c[2],c[1]),n(t,r,c[2],c[0])]);break;case 5:u.push([n(t,r,c[2],c[1]),n(t,r,c[0],c[1])]);break;case 6:u.push([n(t,r,c[1],c[0]),n(t,r,c[2],c[0])])}}else if(y===2){var d;if((d=(a[c[0]]<<0)+(a[c[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([n(t,r,c[0],c[1])]);break;case 2:u.push([n(t,r,c[1],c[0])])}}}return u}},function(){function n(i,r,t,a){for(var l=0|Math.min(t,a),u=0|Math.max(t,a),h=i[2*l],c=i[2*l+1];h<c;){var y=h+c>>1,d=r[2*y+1];if(d===u)return y;u<d?c=y:h=y+1}return h}return function(i,r,t,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h],y=c.length;if(y===4){if((d=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2)+(a[c[3]]<<3))==0||d===15)continue;switch(d){case 0:case 15:break;case 1:u.push([n(t,r,c[0],c[1]),n(t,r,c[0],c[2]),n(t,r,c[0],c[3])]);break;case 2:u.push([n(t,r,c[1],c[2]),n(t,r,c[1],c[0]),n(t,r,c[1],c[3])]);break;case 3:u.push([n(t,r,c[1],c[2]),n(t,r,c[0],c[2]),n(t,r,c[0],c[3])],[n(t,r,c[1],c[3]),n(t,r,c[1],c[2]),n(t,r,c[0],c[3])]);break;case 4:u.push([n(t,r,c[2],c[0]),n(t,r,c[2],c[1]),n(t,r,c[2],c[3])]);break;case 5:u.push([n(t,r,c[0],c[1]),n(t,r,c[2],c[1]),n(t,r,c[0],c[3])],[n(t,r,c[2],c[1]),n(t,r,c[2],c[3]),n(t,r,c[0],c[3])]);break;case 6:u.push([n(t,r,c[2],c[0]),n(t,r,c[1],c[0]),n(t,r,c[1],c[3])],[n(t,r,c[2],c[3]),n(t,r,c[2],c[0]),n(t,r,c[1],c[3])]);break;case 7:u.push([n(t,r,c[0],c[3]),n(t,r,c[1],c[3]),n(t,r,c[2],c[3])]);break;case 8:u.push([n(t,r,c[3],c[1]),n(t,r,c[3],c[0]),n(t,r,c[3],c[2])]);break;case 9:u.push([n(t,r,c[3],c[1]),n(t,r,c[0],c[1]),n(t,r,c[0],c[2])],[n(t,r,c[3],c[2]),n(t,r,c[3],c[1]),n(t,r,c[0],c[2])]);break;case 10:u.push([n(t,r,c[1],c[0]),n(t,r,c[3],c[0]),n(t,r,c[1],c[2])],[n(t,r,c[3],c[0]),n(t,r,c[3],c[2]),n(t,r,c[1],c[2])]);break;case 11:u.push([n(t,r,c[1],c[2]),n(t,r,c[0],c[2]),n(t,r,c[3],c[2])]);break;case 12:u.push([n(t,r,c[3],c[0]),n(t,r,c[2],c[0]),n(t,r,c[2],c[1])],[n(t,r,c[3],c[1]),n(t,r,c[3],c[0]),n(t,r,c[2],c[1])]);break;case 13:u.push([n(t,r,c[0],c[1]),n(t,r,c[2],c[1]),n(t,r,c[3],c[1])]);break;case 14:u.push([n(t,r,c[2],c[0]),n(t,r,c[1],c[0]),n(t,r,c[3],c[0])])}}else if(y===3){if((d=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([n(t,r,c[0],c[2]),n(t,r,c[0],c[1])]);break;case 2:u.push([n(t,r,c[1],c[0]),n(t,r,c[1],c[2])]);break;case 3:u.push([n(t,r,c[0],c[2]),n(t,r,c[1],c[2])]);break;case 4:u.push([n(t,r,c[2],c[1]),n(t,r,c[2],c[0])]);break;case 5:u.push([n(t,r,c[2],c[1]),n(t,r,c[0],c[1])]);break;case 6:u.push([n(t,r,c[1],c[0]),n(t,r,c[2],c[0])])}}else if(y===2){var d;if((d=(a[c[0]]<<0)+(a[c[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([n(t,r,c[0],c[1])]);break;case 2:u.push([n(t,r,c[1],c[0])])}}}return u}}]},6803:function(f,s,n){n(8828),n(1755);function i(r,t){var a=r.length,l=r.length-t.length,u=Math.min;if(l)return l;switch(a){case 0:return 0;case 1:return r[0]-t[0];case 2:return(y=r[0]+r[1]-t[0]-t[1])||u(r[0],r[1])-u(t[0],t[1]);case 3:var h=r[0]+r[1],c=t[0]+t[1];if(y=h+r[2]-(c+t[2]))return y;var y,d=u(r[0],r[1]),v=u(t[0],t[1]);return(y=u(d,r[2])-u(v,t[2]))||u(d+r[2],h)-u(v+t[2],c);default:var g=r.slice(0);g.sort();var x=t.slice(0);x.sort();for(var m=0;m<a;++m)if(l=g[m]-x[m])return l;return 0}}s.Fw=i},3105:function(f,s){function n(r){var t=32;return(r&=-r)&&t--,65535&r&&(t-=16),16711935&r&&(t-=8),252645135&r&&(t-=4),858993459&r&&(t-=2),1431655765&r&&(t-=1),t}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var t=r>>31;return(r^t)-t},s.min=function(r,t){return t^(r^t)&-(r<t)},s.max=function(r,t){return r^(r^t)&-(r<t)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var t,a;return t=(r>65535)<<4,t|=a=((r>>>=t)>255)<<3,t|=a=((r>>>=a)>15)<<2,(t|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=n,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var t=0;t<256;++t){var a=t,l=t,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[t]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,t){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},s.deinterleave2=function(r,t){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>t&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,t,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,t){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>t&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1}},2014:function(f,s,n){var i=n(3105),r=n(4623);function t(d,v){var g=d.length,x=d.length-v.length,m=Math.min;if(x)return x;switch(g){case 0:return 0;case 1:return d[0]-v[0];case 2:return(S=d[0]+d[1]-v[0]-v[1])||m(d[0],d[1])-m(v[0],v[1]);case 3:var _=d[0]+d[1],p=v[0]+v[1];if(S=_+d[2]-(p+v[2]))return S;var S,T=m(d[0],d[1]),E=m(v[0],v[1]);return(S=m(T,d[2])-m(E,v[2]))||m(T+d[2],_)-m(E+v[2],p);default:var O=d.slice(0);O.sort();var P=v.slice(0);P.sort();for(var I=0;I<g;++I)if(x=O[I]-P[I])return x;return 0}}function a(d,v){return t(d[0],v[0])}function l(d,v){if(v){for(var g=d.length,x=new Array(g),m=0;m<g;++m)x[m]=[d[m],v[m]];for(x.sort(a),m=0;m<g;++m)d[m]=x[m][0],v[m]=x[m][1];return d}return d.sort(t),d}function u(d){if(d.length===0)return[];for(var v=1,g=d.length,x=1;x<g;++x){var m=d[x];if(t(m,d[x-1])){if(x===v){v++;continue}d[v++]=m}}return d.length=v,d}function h(d,v){for(var g=0,x=d.length-1,m=-1;g<=x;){var _=g+x>>1,p=t(d[_],v);p<=0?(p===0&&(m=_),g=_+1):p>0&&(x=_-1)}return m}function c(d,v){for(var g=new Array(d.length),x=0,m=g.length;x<m;++x)g[x]=[];for(var _=[],p=(x=0,v.length);x<p;++x)for(var S=v[x],T=S.length,E=1,O=1<<T;E<O;++E){_.length=i.popCount(E);for(var P=0,I=0;I<T;++I)E&1<<I&&(_[P++]=S[I]);var R=h(d,_);if(!(R<0))for(;g[R++].push(x),!(R>=d.length||t(d[R],_)!==0););}return g}function y(d,v){if(v<0)return[];for(var g=[],x=(1<<v+1)-1,m=0;m<d.length;++m)for(var _=d[m],p=x;p<1<<_.length;p=i.nextCombination(p)){for(var S=new Array(v+1),T=0,E=0;E<_.length;++E)p&1<<E&&(S[T++]=_[E]);g.push(S)}return l(g)}s.dimension=function(d){for(var v=0,g=Math.max,x=0,m=d.length;x<m;++x)v=g(v,d[x].length);return v-1},s.countVertices=function(d){for(var v=-1,g=Math.max,x=0,m=d.length;x<m;++x)for(var _=d[x],p=0,S=_.length;p<S;++p)v=g(v,_[p]);return v+1},s.cloneCells=function(d){for(var v=new Array(d.length),g=0,x=d.length;g<x;++g)v[g]=d[g].slice(0);return v},s.compareCells=t,s.normalize=l,s.unique=u,s.findCell=h,s.incidence=c,s.dual=function(d,v){if(!v)return c(u(y(d,0)),d);for(var g=new Array(v),x=0;x<v;++x)g[x]=[];x=0;for(var m=d.length;x<m;++x)for(var _=d[x],p=0,S=_.length;p<S;++p)g[_[p]].push(x);return g},s.explode=function(d){for(var v=[],g=0,x=d.length;g<x;++g)for(var m=d[g],_=0|m.length,p=1,S=1<<_;p<S;++p){for(var T=[],E=0;E<_;++E)p>>>E&1&&T.push(m[E]);v.push(T)}return l(v)},s.skeleton=y,s.boundary=function(d){for(var v=[],g=0,x=d.length;g<x;++g)for(var m=d[g],_=0,p=m.length;_<p;++_){for(var S=new Array(m.length-1),T=0,E=0;T<p;++T)T!==_&&(S[E++]=m[T]);v.push(S)}return l(v)},s.connectedComponents=function(d,v){return v?function(g,x){for(var m=new r(x),_=0;_<g.length;++_)for(var p=g[_],S=0;S<p.length;++S)for(var T=S+1;T<p.length;++T)m.link(p[S],p[T]);var E=[],O=m.ranks;for(_=0;_<O.length;++_)O[_]=-1;for(_=0;_<g.length;++_){var P=m.find(g[_][0]);O[P]<0?(O[P]=E.length,E.push([g[_].slice(0)])):E[O[P]].push(g[_].slice(0))}return E}(d,v):function(g){for(var x=u(l(y(g,0))),m=new r(x.length),_=0;_<g.length;++_)for(var p=g[_],S=0;S<p.length;++S)for(var T=h(x,[p[S]]),E=S+1;E<p.length;++E)m.link(T,h(x,[p[E]]));var O=[],P=m.ranks;for(_=0;_<P.length;++_)P[_]=-1;for(_=0;_<g.length;++_){var I=m.find(h(x,[g[_][0]]));P[I]<0?(P[I]=O.length,O.push([g[_].slice(0)])):O[P[I]].push(g[_].slice(0))}return O}(d)}},4623:function(f){function s(n){this.roots=new Array(n),this.ranks=new Array(n);for(var i=0;i<n;++i)this.roots[i]=i,this.ranks[i]=0}f.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var n=this.roots.length;return this.roots.push(n),this.ranks.push(0),n},s.prototype.find=function(n){for(var i=this.roots;i[n]!==n;){var r=i[n];i[n]=i[r],n=r}return n},s.prototype.link=function(n,i){var r=this.find(n),t=this.find(i);if(r!==t){var a=this.ranks,l=this.roots,u=a[r],h=a[t];u<h?l[r]=t:h<u?l[t]=r:(l[t]=r,++a[r])}}},5878:function(f,s,n){f.exports=function(t,a,l){for(var u=a.length,h=t.length,c=new Array(u),y=new Array(u),d=new Array(u),v=new Array(u),g=0;g<u;++g)c[g]=y[g]=-1,d[g]=1/0,v[g]=!1;for(g=0;g<h;++g){var x=t[g];if(x.length!==2)throw new Error("Input must be a graph");var m=x[1],_=x[0];y[_]!==-1?y[_]=-2:y[_]=m,c[m]!==-1?c[m]=-2:c[m]=_}function p(ne){if(v[ne])return 1/0;var te,Q,$,K=c[ne],ae=y[ne];return K<0||ae<0?1/0:(te=a[ne],Q=a[K],$=a[ae],Math.abs(i(te,Q,$))/Math.sqrt(Math.pow(Q[0]-$[0],2)+Math.pow(Q[1]-$[1],2)))}function S(ne,te){var Q=z[ne],$=z[te];z[ne]=$,z[te]=Q,j[Q]=te,j[$]=ne}function T(ne){return d[z[ne]]}function E(ne){return 1&ne?ne-1>>1:(ne>>1)-1}function O(ne){for(var te=T(ne);;){var Q=te,$=2*ne+1,K=2*(ne+1),ae=ne;if($<Z){var ue=T($);ue<Q&&(ae=$,Q=ue)}if(K<Z&&T(K)<Q&&(ae=K),ae===ne)return ne;S(ne,ae),ne=ae}}function P(ne){for(var te=T(ne);ne>0;){var Q=E(ne);if(!(Q>=0&&te<T(Q)))return ne;S(ne,Q),ne=Q}}function I(){if(Z>0){var ne=z[0];return S(0,Z-1),Z-=1,O(0),ne}return-1}function R(ne,te){var Q=z[ne];return d[Q]===te?ne:(d[Q]=-1/0,P(ne),I(),d[Q]=te,P((Z+=1)-1))}function H(ne){if(!v[ne]){v[ne]=!0;var te=c[ne],Q=y[ne];c[Q]>=0&&(c[Q]=te),y[te]>=0&&(y[te]=Q),j[te]>=0&&R(j[te],p(te)),j[Q]>=0&&R(j[Q],p(Q))}}var z=[],j=new Array(u);for(g=0;g<u;++g)(d[g]=p(g))<1/0?(j[g]=z.length,z.push(g)):j[g]=-1;var Z=z.length;for(g=Z>>1;g>=0;--g)O(g);for(;;){var F=I();if(F<0||d[F]>l)break;H(F)}var V=[];for(g=0;g<u;++g)v[g]||(j[g]=V.length,V.push(a[g].slice()));function W(ne,te){if(ne[te]<0)return te;var Q=te,$=te;do{var K=ne[$];if(!v[$]||K<0||K===$||(K=ne[$=K],!v[$]||K<0||K===$))break;$=K,Q=ne[Q]}while(Q!==$);for(var ae=te;ae!==$;ae=ne[ae])ne[ae]=$;return $}V.length;var re=[];return t.forEach(function(ne){var te=W(c,ne[0]),Q=W(y,ne[1]);if(te>=0&&Q>=0&&te!==Q){var $=j[te],K=j[Q];$!==K&&re.push([$,K])}}),r.unique(r.normalize(re)),{positions:V,edges:re}};var i=n(3250),r=n(2014)},1303:function(f,s,n){f.exports=function(t,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0]))return r(a,t);l=a[1],u=a[0]}if(t[0][0]<t[1][0])h=t[0],c=t[1];else{if(!(t[0][0]>t[1][0]))return-r(t,a);h=t[1],c=t[0]}var y=i(l,u,c),d=i(l,u,h);if(y<0){if(d<=0)return y}else if(y>0){if(d>=0)return y}else if(d)return d;if(y=i(c,h,u),d=i(c,h,l),y<0){if(d<=0)return y}else if(y>0){if(d>=0)return y}else if(d)return d;return u[0]-c[0]};var i=n(3250);function r(t,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0])){var y=Math.min(t[0][1],t[1][1]),d=Math.max(t[0][1],t[1][1]),v=Math.min(a[0][1],a[1][1]),g=Math.max(a[0][1],a[1][1]);return d<v?d-v:y>g?y-g:d-g}l=a[1],u=a[0]}t[0][1]<t[1][1]?(h=t[0],c=t[1]):(h=t[1],c=t[0]);var x=i(u,l,h);return x||(x=i(u,l,c))||c-u}},4209:function(f,s,n){f.exports=function(d){for(var v=d.length,g=2*v,x=new Array(g),m=0;m<v;++m){var _=d[m],p=_[0][0]<_[1][0];x[2*m]=new y(_[0][0],_,p,m),x[2*m+1]=new y(_[1][0],_,!p,m)}x.sort(function(H,z){var j=H.x-z.x;return j||(j=H.create-z.create)||Math.min(H.segment[0][1],H.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var S=r(a),T=[],E=[],O=[];for(m=0;m<g;){for(var P=x[m].x,I=[];m<g;){var R=x[m];if(R.x!==P)break;m+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(I.push(new c(R.segment[0][1],R.index,!0,!0)),I.push(new c(R.segment[1][1],R.index,!1,!1))):(I.push(new c(R.segment[1][1],R.index,!0,!1)),I.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}T.push(S.root),E.push(P),O.push(I)}return new l(T,E,O)};var i=n(2478),r=n(3840),t=n(3250),a=n(1303);function l(d,v,g){this.slabs=d,this.coordinates=v,this.horizontal=g}function u(d,v){return d.y-v}function h(d,v){for(var g=null;d;){var x,m,_=d.key;_[0][0]<_[1][0]?(x=_[0],m=_[1]):(x=_[1],m=_[0]);var p=t(x,m,v);if(p<0)d=d.left;else if(p>0)if(v[0]!==_[1][0])g=d,d=d.right;else{if(S=h(d.right,v))return S;d=d.left}else{if(v[0]!==_[1][0])return d;var S;if(S=h(d.right,v))return S;d=d.left}}return g}function c(d,v,g,x){this.y=d,this.index=v,this.start=g,this.closed=x}function y(d,v,g,x){this.x=d,this.segment=v,this.create=g,this.index=x}l.prototype.castUp=function(d){var v=i.le(this.coordinates,d[0]);if(v<0)return-1;this.slabs[v];var g=h(this.slabs[v],d),x=-1;if(g&&(x=g.value),this.coordinates[v]===d[0]){var m=null;if(g&&(m=g.key),v>0){var _=h(this.slabs[v-1],d);_&&(m?a(_.key,m)>0&&(m=_.key,x=_.value):(x=_.value,m=_.key))}var p=this.horizontal[v];if(p.length>0){var S=i.ge(p,d[1],u);if(S<p.length){var T=p[S];if(d[1]===T.y){if(T.closed)return T.index;for(;S<p.length-1&&p[S+1].y===d[1];)if((T=p[S+=1]).closed)return T.index;if(T.y===d[1]&&!T.start){if((S+=1)>=p.length)return x;T=p[S]}}if(T.start)if(m){var E=t(m[0],m[1],[d[0],T.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(x=T.index)}else x=T.index;else T.y!==d[1]&&(x=T.index)}}}return x}},5202:function(f,s,n){var i=n(1944),r=n(8210);function t(l,u){var h=r(i(l,u),[u[u.length-1]]);return h[h.length-1]}function a(l,u,h,c){var y=-u/(c-u);y<0?y=0:y>1&&(y=1);for(var d=1-y,v=l.length,g=new Array(v),x=0;x<v;++x)g[x]=y*l[x]+d*h[x];return g}f.exports=function(l,u){for(var h=[],c=[],y=t(l[l.length-1],u),d=l[l.length-1],v=l[0],g=0;g<l.length;++g,d=v){var x=t(v=l[g],u);if(y<0&&x>0||y>0&&x<0){var m=a(d,x,v,y);h.push(m),c.push(m.slice())}x<0?c.push(v.slice()):x>0?h.push(v.slice()):(h.push(v.slice()),c.push(v.slice())),y=x}return{positive:h,negative:c}},f.exports.positive=function(l,u){for(var h=[],c=t(l[l.length-1],u),y=l[l.length-1],d=l[0],v=0;v<l.length;++v,y=d){var g=t(d=l[v],u);(c<0&&g>0||c>0&&g<0)&&h.push(a(y,g,d,c)),g>=0&&h.push(d.slice()),c=g}return h},f.exports.negative=function(l,u){for(var h=[],c=t(l[l.length-1],u),y=l[l.length-1],d=l[0],v=0;v<l.length;++v,y=d){var g=t(d=l[v],u);(c<0&&g>0||c>0&&g<0)&&h.push(a(y,g,d,c)),g<=0&&h.push(d.slice()),c=g}return h}},3387:function(f,s,n){var i;(function(){var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(u){return function(h,c){var y,d,v,g,x,m,_,p,S,T=1,E=h.length,O="";for(d=0;d<E;d++)if(typeof h[d]=="string")O+=h[d];else if(typeof h[d]=="object"){if((g=h[d]).keys)for(y=c[T],v=0;v<g.keys.length;v++){if(y==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[v],g.keys[v-1]));y=y[g.keys[v]]}else y=g.param_no?c[g.param_no]:c[T++];if(r.not_type.test(g.type)&&r.not_primitive.test(g.type)&&y instanceof Function&&(y=y()),r.numeric_arg.test(g.type)&&typeof y!="number"&&isNaN(y))throw new TypeError(t("[sprintf] expecting number but found %T",y));switch(r.number.test(g.type)&&(p=y>=0),g.type){case"b":y=parseInt(y,10).toString(2);break;case"c":y=String.fromCharCode(parseInt(y,10));break;case"d":case"i":y=parseInt(y,10);break;case"j":y=JSON.stringify(y,null,g.width?parseInt(g.width):0);break;case"e":y=g.precision?parseFloat(y).toExponential(g.precision):parseFloat(y).toExponential();break;case"f":y=g.precision?parseFloat(y).toFixed(g.precision):parseFloat(y);break;case"g":y=g.precision?String(Number(y.toPrecision(g.precision))):parseFloat(y);break;case"o":y=(parseInt(y,10)>>>0).toString(8);break;case"s":y=String(y),y=g.precision?y.substring(0,g.precision):y;break;case"t":y=String(!!y),y=g.precision?y.substring(0,g.precision):y;break;case"T":y=Object.prototype.toString.call(y).slice(8,-1).toLowerCase(),y=g.precision?y.substring(0,g.precision):y;break;case"u":y=parseInt(y,10)>>>0;break;case"v":y=y.valueOf(),y=g.precision?y.substring(0,g.precision):y;break;case"x":y=(parseInt(y,10)>>>0).toString(16);break;case"X":y=(parseInt(y,10)>>>0).toString(16).toUpperCase()}r.json.test(g.type)?O+=y:(!r.number.test(g.type)||p&&!g.sign?S="":(S=p?"+":"-",y=y.toString().replace(r.sign,"")),m=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",_=g.width-(S+y).length,x=g.width&&_>0?m.repeat(_):"",O+=g.align?S+y+x:m==="0"?S+x+y:x+S+y)}return O}(function(h){if(l[h])return l[h];for(var c,y=h,d=[],v=0;y;){if((c=r.text.exec(y))!==null)d.push(c[0]);else if((c=r.modulo.exec(y))!==null)d.push("%");else{if((c=r.placeholder.exec(y))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){v|=1;var g=[],x=c[2],m=[];if((m=r.key.exec(x))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(g.push(m[1]);(x=x.substring(m[0].length))!=="";)if((m=r.key_access.exec(x))!==null)g.push(m[1]);else{if((m=r.index_access.exec(x))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");g.push(m[1])}c[2]=g}else v|=2;if(v===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}y=y.substring(c[0].length)}return l[h]=d}(u),arguments)}function a(u,h){return t.apply(null,[u].concat(h||[]))}var l=Object.create(null);s.sprintf=t,s.vsprintf=a,typeof window<"u"&&(window.sprintf=t,window.vsprintf=a,(i=(function(){return{sprintf:t,vsprintf:a}}).call(s,n,s,f))===void 0||(f.exports=i))})()},3711:function(f,s,n){f.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(y,d){for(var v=r(y,d),g=v.length,x=new Array(g),m=new Array(g),_=0;_<g;++_)x[_]=[v[_]],m[_]=[_];return{positions:x,cells:m}}(l,u);var h=l.order.join()+"-"+l.dtype,c=a[h];return u=+u||0,c||(c=a[h]=function(y,d){var v=y.length+"d",g=t[v];if(g)return g(i,y,d)}(l.order,l.dtype)),c(l,u)};var i=n(2640),r=n(781),t={"2d":function(l,u,h){var c=l({order:u,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(y,d,v,g){return y>g|0},vertex:function(y,d,v,g,x,m,_,p,S,T,E,O,P){var I=(_<<0)+(p<<1)+(S<<2)+(T<<3)|0;if(I!==0&&I!==15)switch(I){case 0:case 15:E.push([y-.5,d-.5]);break;case 1:E.push([y-.25-.25*(g+v-2*P)/(v-g),d-.25-.25*(x+v-2*P)/(v-x)]);break;case 2:E.push([y-.75-.25*(-g-v+2*P)/(g-v),d-.25-.25*(m+g-2*P)/(g-m)]);break;case 3:E.push([y-.5,d-.5-.5*(x+v+m+g-4*P)/(v-x+g-m)]);break;case 4:E.push([y-.25-.25*(m+x-2*P)/(x-m),d-.75-.25*(-x-v+2*P)/(x-v)]);break;case 5:E.push([y-.5-.5*(g+v+m+x-4*P)/(v-g+x-m),d-.5]);break;case 6:E.push([y-.5-.25*(-g-v+m+x)/(g-v+x-m),d-.5-.25*(-x-v+m+g)/(x-v+g-m)]);break;case 7:E.push([y-.75-.25*(m+x-2*P)/(x-m),d-.75-.25*(m+g-2*P)/(g-m)]);break;case 8:E.push([y-.75-.25*(-m-x+2*P)/(m-x),d-.75-.25*(-m-g+2*P)/(m-g)]);break;case 9:E.push([y-.5-.25*(g+v+-m-x)/(v-g+m-x),d-.5-.25*(x+v+-m-g)/(v-x+m-g)]);break;case 10:E.push([y-.5-.5*(-g-v-m-x+4*P)/(g-v+m-x),d-.5]);break;case 11:E.push([y-.25-.25*(-m-x+2*P)/(m-x),d-.75-.25*(x+v-2*P)/(v-x)]);break;case 12:E.push([y-.5,d-.5-.5*(-x-v-m-g+4*P)/(x-v+m-g)]);break;case 13:E.push([y-.75-.25*(g+v-2*P)/(v-g),d-.25-.25*(-m-g+2*P)/(m-g)]);break;case 14:E.push([y-.25-.25*(-g-v+2*P)/(g-v),d-.25-.25*(-x-v+2*P)/(x-v)])}},cell:function(y,d,v,g,x,m,_,p,S){x?p.push([y,d]):p.push([d,y])}});return function(y,d){var v=[],g=[];return c(y,v,g,d),{positions:v,cells:g}}}},a={}},529:function(f,s,n){f.exports=function a(l,u,h){var c=(h=h||{}).fontStyle||"normal",y=h.fontWeight||"normal",d=h.fontVariant||"normal",v=[c,y,d,l].join("_"),g=t[v];g||(g=t[v]={" ":{data:new Float32Array(0),shape:.2}});var x=g[u];if(!x)if(u.length<=1||!/\d/.test(u))x=g[u]=function(H){for(var z=H.cells,j=H.positions,Z=new Float32Array(6*z.length),F=0,V=0,W=0;W<z.length;++W)for(var re=z[W],ne=0;ne<3;++ne){var te=j[re[ne]];Z[F++]=te[0],Z[F++]=te[1]+1.4,V=Math.max(te[0],V)}return{data:Z,shape:V}}(i(u,{triangles:!0,font:l,fontStyle:c,fontWeight:y,fontVariant:d,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=u.split(/(\d|\s)/),_=new Array(m.length),p=0,S=0,T=0;T<m.length;++T)_[T]=a(l,m[T]),p+=_[T].data.length,S+=_[T].shape,T>0&&(S+=.02);var E=new Float32Array(p),O=0,P=-.5*S;for(T=0;T<_.length;++T){for(var I=_[T].data,R=0;R<I.length;R+=2)E[O++]=I[R]+P,E[O++]=I[R+1];P+=_[T].shape+.02}x=g[u]={data:E,shape:S}}return x};var i=n(4359),r=window||k.global||{},t=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},665:function(f,s,n){var i=n(3202);f.exports=a;var r=96;function t(l,u){var h=i(getComputedStyle(l).getPropertyValue(u));return h[0]*a(h[1],l)}function a(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(h,c){var y=document.createElement("div");y.style["font-size"]="128"+h,c.appendChild(y);var d=t(y,"font-size")/128;return c.removeChild(y),d}(l,u);case"em":return t(u,"font-size");case"rem":return t(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},7261:function(f,s,n){f.exports=function(x){var m=(x=x||{}).center||[0,0,0],_=x.up||[0,1,0],p=x.right||y(_),S=x.radius||1,T=x.theta||0,E=x.phi||0;if(m=[].slice.call(m,0,3),_=[].slice.call(_,0,3),l(_,_),p=[].slice.call(p,0,3),l(p,p),"eye"in x){var O=x.eye,P=[O[0]-m[0],O[1]-m[1],O[2]-m[2]];a(p,P,_),h(p[0],p[1],p[2])<1e-6?p=y(_):l(p,p),S=h(P[0],P[1],P[2]);var I=u(_,P)/S,R=u(p,P)/S;E=Math.acos(I),T=Math.acos(R)}return S=Math.log(S),new d(x.zoomMin,x.zoomMax,m,_,p,S,T,E)};var i=n(9215),r=n(7608),t=n(6079),a=n(5911),l=n(3536),u=n(244);function h(x,m,_){return Math.sqrt(Math.pow(x,2)+Math.pow(m,2)+Math.pow(_,2))}function c(x){return Math.min(1,Math.max(-1,x))}function y(x){var m=Math.abs(x[0]),_=Math.abs(x[1]),p=Math.abs(x[2]),S=[0,0,0];m>Math.max(_,p)?S[2]=1:_>Math.max(m,p)?S[0]=1:S[1]=1;for(var T=0,E=0,O=0;O<3;++O)T+=x[O]*x[O],E+=S[O]*x[O];for(O=0;O<3;++O)S[O]-=E/T*x[O];return l(S,S),S}function d(x,m,_,p,S,T,E,O){this.center=i(_),this.up=i(p),this.right=i(S),this.radius=i([T]),this.angle=i([E,O]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var v=d.prototype;v.setDistanceLimits=function(x,m){x=x>0?Math.log(x):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=m},v.getDistanceLimits=function(x){var m=this.radius.bounds[0];return x?(x[0]=Math.exp(m[0][0]),x[1]=Math.exp(m[1][0]),x):[Math.exp(m[0][0]),Math.exp(m[1][0])]},v.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var m=this.computedUp,_=this.computedRight,p=0,S=0,T=0;T<3;++T)S+=m[T]*_[T],p+=m[T]*m[T];var E=Math.sqrt(p),O=0;for(T=0;T<3;++T)_[T]-=m[T]*S/p,O+=_[T]*_[T],m[T]/=E;var P=Math.sqrt(O);for(T=0;T<3;++T)_[T]/=P;var I=this.computedToward;a(I,m,_),l(I,I);var R=Math.exp(this.computedRadius[0]),H=this.computedAngle[0],z=this.computedAngle[1],j=Math.cos(H),Z=Math.sin(H),F=Math.cos(z),V=Math.sin(z),W=this.computedCenter,re=j*F,ne=Z*F,te=V,Q=-j*V,$=-Z*V,K=F,ae=this.computedEye,ue=this.computedMatrix;for(T=0;T<3;++T){var se=re*_[T]+ne*I[T]+te*m[T];ue[4*T+1]=Q*_[T]+$*I[T]+K*m[T],ue[4*T+2]=se,ue[4*T+3]=0}var he=ue[1],pe=ue[5],de=ue[9],xe=ue[2],_e=ue[6],be=ue[10],Le=pe*be-de*_e,De=de*xe-he*be,ye=he*_e-pe*xe,le=h(Le,De,ye);for(Le/=le,De/=le,ye/=le,ue[0]=Le,ue[4]=De,ue[8]=ye,T=0;T<3;++T)ae[T]=W[T]+ue[2+4*T]*R;for(T=0;T<3;++T){O=0;for(var oe=0;oe<3;++oe)O+=ue[T+4*oe]*ae[oe];ue[12+T]=-O}ue[15]=1},v.getMatrix=function(x,m){this.recalcMatrix(x);var _=this.computedMatrix;if(m){for(var p=0;p<16;++p)m[p]=_[p];return m}return _};var g=[0,0,0];v.rotate=function(x,m,_,p){if(this.angle.move(x,m,_),p){this.recalcMatrix(x);var S=this.computedMatrix;g[0]=S[2],g[1]=S[6],g[2]=S[10];for(var T=this.computedUp,E=this.computedRight,O=this.computedToward,P=0;P<3;++P)S[4*P]=T[P],S[4*P+1]=E[P],S[4*P+2]=O[P];for(t(S,S,p,g),P=0;P<3;++P)T[P]=S[4*P],E[P]=S[4*P+1];this.up.set(x,T[0],T[1],T[2]),this.right.set(x,E[0],E[1],E[2])}},v.pan=function(x,m,_,p){m=m||0,_=_||0,p=p||0,this.recalcMatrix(x);var S=this.computedMatrix,T=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],O=S[9],P=h(T,E,O);T/=P,E/=P,O/=P;var I=S[0],R=S[4],H=S[8],z=I*T+R*E+H*O,j=h(I-=T*z,R-=E*z,H-=O*z),Z=(I/=j)*m+T*_,F=(R/=j)*m+E*_,V=(H/=j)*m+O*_;this.center.move(x,Z,F,V);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+p),this.radius.set(x,Math.log(W))},v.translate=function(x,m,_,p){this.center.move(x,m||0,_||0,p||0)},v.setMatrix=function(x,m,_,p){var S=1;typeof _=="number"&&(S=0|_),(S<0||S>3)&&(S=1);var T=(S+2)%3;m||(this.recalcMatrix(x),m=this.computedMatrix);var E=m[S],O=m[S+4],P=m[S+8];if(p){var I=Math.abs(E),R=Math.abs(O),H=Math.abs(P),z=Math.max(I,R,H);I===z?(E=E<0?-1:1,O=P=0):H===z?(P=P<0?-1:1,E=O=0):(O=O<0?-1:1,E=P=0)}else{var j=h(E,O,P);E/=j,O/=j,P/=j}var Z,F,V=m[T],W=m[T+4],re=m[T+8],ne=V*E+W*O+re*P,te=h(V-=E*ne,W-=O*ne,re-=P*ne),Q=O*(re/=te)-P*(W/=te),$=P*(V/=te)-E*re,K=E*W-O*V,ae=h(Q,$,K);if(Q/=ae,$/=ae,K/=ae,this.center.jump(x,Ae,Ee,ze),this.radius.idle(x),this.up.jump(x,E,O,P),this.right.jump(x,V,W,re),S===2){var ue=m[1],se=m[5],he=m[9],pe=ue*V+se*W+he*re,de=ue*Q+se*$+he*K;Z=Le<0?-Math.PI/2:Math.PI/2,F=Math.atan2(de,pe)}else{var xe=m[2],_e=m[6],be=m[10],Le=xe*E+_e*O+be*P,De=xe*V+_e*W+be*re,ye=xe*Q+_e*$+be*K;Z=Math.asin(c(Le)),F=Math.atan2(ye,De)}this.angle.jump(x,F,Z),this.recalcMatrix(x);var le=m[2],oe=m[6],ve=m[10],Ce=this.computedMatrix;r(Ce,m);var ke=Ce[15],Ae=Ce[12]/ke,Ee=Ce[13]/ke,ze=Ce[14]/ke,Fe=Math.exp(this.computedRadius[0]);this.center.jump(x,Ae-le*Fe,Ee-oe*Fe,ze-ve*Fe)},v.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},v.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},v.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},v.setDistance=function(x,m){m>0&&this.radius.set(x,Math.log(m))},v.lookAt=function(x,m,_,p){this.recalcMatrix(x),m=m||this.computedEye,_=_||this.computedCenter;var S=(p=p||this.computedUp)[0],T=p[1],E=p[2],O=h(S,T,E);if(!(O<1e-6)){S/=O,T/=O,E/=O;var P=m[0]-_[0],I=m[1]-_[1],R=m[2]-_[2],H=h(P,I,R);if(!(H<1e-6)){P/=H,I/=H,R/=H;var z=this.computedRight,j=z[0],Z=z[1],F=z[2],V=S*j+T*Z+E*F,W=h(j-=V*S,Z-=V*T,F-=V*E);if(!(W<.01&&(W=h(j=T*R-E*I,Z=E*P-S*R,F=S*I-T*P))<1e-6)){j/=W,Z/=W,F/=W,this.up.set(x,S,T,E),this.right.set(x,j,Z,F),this.center.set(x,_[0],_[1],_[2]),this.radius.set(x,Math.log(H));var re=T*F-E*Z,ne=E*j-S*F,te=S*Z-T*j,Q=h(re,ne,te),$=S*P+T*I+E*R,K=j*P+Z*I+F*R,ae=(re/=Q)*P+(ne/=Q)*I+(te/=Q)*R,ue=Math.asin(c($)),se=Math.atan2(ae,K),he=this.angle._state,pe=he[he.length-1],de=he[he.length-2];pe%=2*Math.PI;var xe=Math.abs(pe+2*Math.PI-se),_e=Math.abs(pe-se),be=Math.abs(pe-2*Math.PI-se);xe<_e&&(pe+=2*Math.PI),be<_e&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,de),this.angle.set(x,se,ue)}}}}},5250:function(f){f.exports=function(n,i,r){var t=n*i,a=s*n,l=a-(a-n),u=n-l,h=s*i,c=h-(h-i),y=i-c,d=u*y-(t-l*c-u*c-l*y);return r?(r[0]=d,r[1]=t,r):[d,t]};var s=+(Math.pow(2,27)+1)},9362:function(f){f.exports=function(s,n,i){var r=s+n,t=r-s,a=n-t,l=s-(r-t);return i?(i[0]=l+a,i[1]=r,i):[l+a,r]}},1888:function(f,s,n){var i=n(8828),r=n(1338),t=n(4793).hp;n.g.__TYPEDARRAY_POOL||(n.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var a=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",h=n.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=r([32,0])),h.BIGUINT64||(h.BIGUINT64=r([32,0])),h.BIGINT64||(h.BIGINT64=r([32,0])),h.BUFFER||(h.BUFFER=r([32,0]));var c=h.DATA,y=h.BUFFER;function d(z){if(z){var j=z.length||z.byteLength,Z=i.log2(j);c[Z].push(z)}}function v(z){z=i.nextPow2(z);var j=i.log2(z),Z=c[j];return Z.length>0?Z.pop():new ArrayBuffer(z)}function g(z){return new Uint8Array(v(z),0,z)}function x(z){return new Uint16Array(v(2*z),0,z)}function m(z){return new Uint32Array(v(4*z),0,z)}function _(z){return new Int8Array(v(z),0,z)}function p(z){return new Int16Array(v(2*z),0,z)}function S(z){return new Int32Array(v(4*z),0,z)}function T(z){return new Float32Array(v(4*z),0,z)}function E(z){return new Float64Array(v(8*z),0,z)}function O(z){return a?new Uint8ClampedArray(v(z),0,z):g(z)}function P(z){return l?new BigUint64Array(v(8*z),0,z):null}function I(z){return u?new BigInt64Array(v(8*z),0,z):null}function R(z){return new DataView(v(z),0,z)}function H(z){z=i.nextPow2(z);var j=i.log2(z),Z=y[j];return Z.length>0?Z.pop():new t(z)}s.free=function(z){if(t.isBuffer(z))y[i.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var j=z.length||z.byteLength,Z=0|i.log2(j);c[Z].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){d(z.buffer)},s.freeArrayBuffer=d,s.freeBuffer=function(z){y[i.log2(z.length)].push(z)},s.malloc=function(z,j){if(j===void 0||j==="arraybuffer")return v(z);switch(j){case"uint8":return g(z);case"uint16":return x(z);case"uint32":return m(z);case"int8":return _(z);case"int16":return p(z);case"int32":return S(z);case"float":case"float32":return T(z);case"double":case"float64":return E(z);case"uint8_clamped":return O(z);case"bigint64":return I(z);case"biguint64":return P(z);case"buffer":return H(z);case"data":case"dataview":return R(z);default:return null}return null},s.mallocArrayBuffer=v,s.mallocUint8=g,s.mallocUint16=x,s.mallocUint32=m,s.mallocInt8=_,s.mallocInt16=p,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=T,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=O,s.mallocBigUint64=P,s.mallocBigInt64=I,s.mallocDataView=R,s.mallocBuffer=H,s.clearCache=function(){for(var z=0;z<32;++z)h.UINT8[z].length=0,h.UINT16[z].length=0,h.UINT32[z].length=0,h.INT8[z].length=0,h.INT16[z].length=0,h.INT32[z].length=0,h.FLOAT[z].length=0,h.DOUBLE[z].length=0,h.BIGUINT64[z].length=0,h.BIGINT64[z].length=0,h.UINT8C[z].length=0,c[z].length=0,y[z].length=0}},1755:function(f){function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var r=0;r<i;++r)this.roots[r]=r,this.ranks[r]=0}f.exports=s;var n=s.prototype;Object.defineProperty(n,"length",{get:function(){return this.roots.length}}),n.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},n.find=function(i){for(var r=i,t=this.roots;t[i]!==i;)i=t[i];for(;t[r]!==i;){var a=t[r];t[r]=i,r=a}return i},n.link=function(i,r){var t=this.find(i),a=this.find(r);if(t!==a){var l=this.ranks,u=this.roots,h=l[t],c=l[a];h<c?u[t]=a:c<h?u[a]=t:(u[a]=t,++l[t])}}},1682:function(f){f.exports=function(s,n,i){return s.length===0?s:n?(i||s.sort(n),function(r,t){for(var a=1,l=r.length,u=r[0],h=r[0],c=1;c<l;++c)if(h=u,t(u=r[c],h)){if(c===a){a++;continue}r[a++]=u}return r.length=a,r}(s,n)):(i||s.sort(),function(r){for(var t=1,a=r.length,l=r[0],u=r[0],h=1;h<a;++h,u=l)if(u=l,(l=r[h])!==u){if(h===t){t++;continue}r[t++]=l}return r.length=t,r}(s))}},4359:function(f,s,n){f.exports=function(a,l){return typeof l=="object"&&l!==null||(l={}),i(a,l.canvas||r,l.context||t,l)};var i=n(7718),r=null,t=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,t=r.getContext("2d"))},7718:function(f,s,n){f.exports=function(P,I,R,H){var z=64,j=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return H&&(H.size&&H.size>0&&(z=H.size),H.lineSpacing&&H.lineSpacing>0&&(j=H.lineSpacing),H.styletags&&H.styletags.breaklines&&(Z.breaklines=!!H.styletags.breaklines),H.styletags&&H.styletags.bolds&&(Z.bolds=!!H.styletags.bolds),H.styletags&&H.styletags.italics&&(Z.italics=!!H.styletags.italics),H.styletags&&H.styletags.subscripts&&(Z.subscripts=!!H.styletags.subscripts),H.styletags&&H.styletags.superscripts&&(Z.superscripts=!!H.styletags.superscripts)),R.font=[H.fontStyle,H.fontVariant,H.fontWeight,z+"px",H.font].filter(function(F){return F}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",O(function(F,V,W,re,ne,te){W=W.replace(/\n/g,""),W=te.breaklines===!0?W.replace(/\<br\>/g,`
`):W.replace(/\<br\>/g," ");var Q="",$=[];for(se=0;se<W.length;++se)$[se]=Q;te.bolds===!0&&($=S(h,c,W,$)),te.italics===!0&&($=S(y,d,W,$)),te.superscripts===!0&&($=S(v,x,W,$)),te.subscripts===!0&&($=S(m,p,W,$));var K=[],ae="";for(se=0;se<W.length;++se)$[se]!==null&&(ae+=W[se],K.push($[se]));var ue,se,he,pe,de,xe=ae.split(`
`),_e=xe.length,be=Math.round(ne*re),Le=re,De=2*re,ye=0,le=_e*be+De;F.height<le&&(F.height=le),V.fillStyle="#000",V.fillRect(0,0,F.width,F.height),V.fillStyle="#fff";var oe=0,ve="";function Ce(){if(ve!==""){var Se=V.measureText(ve).width;V.fillText(ve,Le+he,De+pe),he+=Se}}function ke(){return Math.round(de)+"px "}function Ae(Se,Re){var Pe=""+V.font;if(te.subscripts===!0){var Ve=Se.indexOf(_),We=Re.indexOf(_),Qe=Ve>-1?parseInt(Se[1+Ve]):0,lt=We>-1?parseInt(Re[1+We]):0;Qe!==lt&&(Pe=Pe.replace(ke(),"?px "),de*=Math.pow(.75,lt-Qe),Pe=Pe.replace("?px ",ke())),pe+=.25*be*(lt-Qe)}if(te.superscripts===!0){var ut=Se.indexOf(g),xt=Re.indexOf(g),_t=ut>-1?parseInt(Se[1+ut]):0,mt=xt>-1?parseInt(Re[1+xt]):0;_t!==mt&&(Pe=Pe.replace(ke(),"?px "),de*=Math.pow(.75,mt-_t),Pe=Pe.replace("?px ",ke())),pe-=.25*be*(mt-_t)}if(te.bolds===!0){var it=Se.indexOf(c)>-1,nt=Re.indexOf(c)>-1;!it&&nt&&(Pe=Et?Pe.replace("italic ","italic bold "):"bold "+Pe),it&&!nt&&(Pe=Pe.replace("bold ",""))}if(te.italics===!0){var Et=Se.indexOf(d)>-1,Rt=Re.indexOf(d)>-1;!Et&&Rt&&(Pe="italic "+Pe),Et&&!Rt&&(Pe=Pe.replace("italic ",""))}V.font=Pe}for(ue=0;ue<_e;++ue){var Ee=xe[ue]+`
`;for(he=0,pe=ue*be,de=re,ve="",se=0;se<Ee.length;++se){var ze=se+oe<K.length?K[se+oe]:K[K.length-1];Q===ze?ve+=Ee[se]:(Ce(),ve=Ee[se],ze!==void 0&&(Ae(Q,ze),Q=ze))}Ce(),oe+=Ee.length;var Fe=0|Math.round(he+2*Le);ye<Fe&&(ye=Fe)}var ge=ye,Te=De+be*_e;return r(V.getImageData(0,0,ge,Te).data,[Te,ge,4]).pick(-1,-1,0).transpose(1,0)}(I,R,P,z,j,Z),H,z)},f.exports.processPixels=O;var i=n(3711),r=n(9618),t=n(5878),a=n(332),l=n(2538),u=n(2095),h="b",c="b|",y="i",d="i|",v="sup",g="+",x="+1",m="sub",_="-",p="-1";function S(P,I,R,H){for(var z="<"+P+">",j="</"+P+">",Z=z.length,F=j.length,V=I[0]===g||I[0]===_,W=0,re=-F;W>-1&&(W=R.indexOf(z,W))!==-1&&(re=R.indexOf(j,W+Z))!==-1&&!(re<=W);){for(var ne=W;ne<re+F;++ne)if(ne<W+Z||ne>=re)H[ne]=null,R=R.substr(0,ne)+" "+R.substr(ne+1);else if(H[ne]!==null){var te=H[ne].indexOf(I[0]);te===-1?H[ne]+=I:V&&(H[ne]=H[ne].substr(0,te+1)+(1+parseInt(H[ne][te+1]))+H[ne].substr(te+2))}var Q=W+Z,$=R.substr(Q,re-Q).indexOf(z);W=$!==-1?$:re+F}return H}function T(P,I){var R=i(P,128);return I?t(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function E(P,I,R,H){var z=T(P,H),j=function(ue,se,he){for(var pe=se.textAlign||"start",de=se.textBaseline||"alphabetic",xe=[1<<30,1<<30],_e=[0,0],be=ue.length,Le=0;Le<be;++Le)for(var De=ue[Le],ye=0;ye<2;++ye)xe[ye]=0|Math.min(xe[ye],De[ye]),_e[ye]=0|Math.max(_e[ye],De[ye]);var le=0;switch(pe){case"center":le=-.5*(xe[0]+_e[0]);break;case"right":case"end":le=-_e[0];break;case"left":case"start":le=-xe[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var oe=0;switch(de){case"hanging":case"top":oe=-xe[1];break;case"middle":oe=-.5*(xe[1]+_e[1]);break;case"alphabetic":case"ideographic":oe=-3*he;break;case"bottom":oe=-_e[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+de+"'")}var ve=1/he;return"lineHeight"in se?ve*=+se.lineHeight:"width"in se?ve=se.width/(_e[0]-xe[0]):"height"in se&&(ve=se.height/(_e[1]-xe[1])),ue.map(function(Ce){return[ve*(Ce[0]+le),ve*(Ce[1]+oe)]})}(z.positions,I,R),Z=z.edges,F=I.orientation==="ccw";if(a(j,Z),I.polygons||I.polygon||I.polyline){for(var V=u(Z,j),W=new Array(V.length),re=0;re<V.length;++re){for(var ne=V[re],te=new Array(ne.length),Q=0;Q<ne.length;++Q){for(var $=ne[Q],K=new Array($.length),ae=0;ae<$.length;++ae)K[ae]=j[$[ae]].slice();F&&K.reverse(),te[Q]=K}W[re]=te}return W}return I.triangles||I.triangulate||I.triangle?{cells:l(j,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:j}:{edges:Z,positions:j}}function O(P,I,R){try{return E(P,I,R,!0)}catch{}try{return E(P,I,R,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(f){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var s=!1;if(typeof WeakMap=="function"){var n=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new n,r=Object.freeze({});if(i.set(r,1),i.get(r)===1)return void(f.exports=WeakMap);s=!0}}var t=Object.getOwnPropertyNames,a=Object.defineProperty,l=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),y=new Uint8Array(c);crypto.getRandomValues(y),h=u+"rand:"+Array.prototype.map.call(y,function(E){return(E%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(E){return t(E).filter(_)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(E){return d(E).filter(_)}})}(function(){var E=Object.freeze;a(Object,"freeze",{value:function(I){return p(I),E(I)}});var O=Object.seal;a(Object,"seal",{value:function(I){return p(I),O(I)}});var P=Object.preventExtensions;a(Object,"preventExtensions",{value:function(I){return p(I),P(I)}})})();var v=!1,g=0,x=function(){this instanceof x||T();var E=[],O=[],P=g++;return Object.create(x.prototype,{get___:{value:S(function(I,R){var H,z=p(I);return z?P in z?z[P]:R:(H=E.indexOf(I))>=0?O[H]:R})},has___:{value:S(function(I){var R=p(I);return R?P in R:E.indexOf(I)>=0})},set___:{value:S(function(I,R){var H,z=p(I);return z?z[P]=R:(H=E.indexOf(I))>=0?O[H]=R:(H=E.length,O[H]=R,E[H]=I),this})},delete___:{value:S(function(I){var R,H,z=p(I);return z?P in z&&delete z[P]:!((R=E.indexOf(I))<0||(H=E.length-1,E[R]=void 0,O[R]=O[H],E[R]=E[H],E.length=H,O.length=H,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(E,O){return this.get___(E,O)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,O){return this.set___(E,O)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof n=="function"?function(){function E(){this instanceof x||T();var O,P=new n,I=void 0,R=!1;return O=s?function(H,z){return P.set(H,z),P.has(H)||(I||(I=new x),I.set(H,z)),this}:function(H,z){if(R)try{P.set(H,z)}catch{I||(I=new x),I.set___(H,z)}else P.set(H,z);return this},Object.create(x.prototype,{get___:{value:S(function(H,z){return I?P.has(H)?P.get(H):I.get___(H,z):P.get(H,z)})},has___:{value:S(function(H){return P.has(H)||!!I&&I.has___(H)})},set___:{value:S(O)},delete___:{value:S(function(H){var z=!!P.delete(H);return I&&I.delete___(H)||z})},permitHostObjects___:{value:S(function(H){if(H!==m)throw new Error("bogus call to permitHostObjects___");R=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=x.prototype,f.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),f.exports=x)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function _(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function p(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var O=E[h];if(O&&O.key===E)return O;if(l(E)){O={key:E};try{return a(E,h,{value:O,writable:!1,enumerable:!1,configurable:!1}),O}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function T(){v||typeof console>"u"||(v=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},236:function(f,s,n){var i=n(8284);f.exports=function(){var r={};return function(t){if((typeof t!="object"||t===null)&&typeof t!="function")throw new Error("Weakmap-shim: Key must be object");var a=t.valueOf(r);return a&&a.identity===r?a:i(t,r)}}},8284:function(f){f.exports=function(s,n){var i={identity:n},r=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(t){return t!==n?r.apply(this,arguments):i},writable:!0}),i}},606:function(f,s,n){var i=n(236);f.exports=function(){var r=i();return{get:function(t,a){var l=r(t);return l.hasOwnProperty("value")?l.value:a},set:function(t,a){return r(t).value=a,this},has:function(t){return"value"in r(t)},delete:function(t){return delete r(t).value}}}},3349:function(f){f.exports=function(s){var n={};return function(i,r,t){var a=i.dtype,l=i.order,u=[a,l.join()].join(),h=n[u];return h||(n[u]=h=s([a,l])),h(i.shape.slice(0),i.data,i.stride,0|i.offset,r,t)}}((function(){return function(s,n,i,r,t,a){var l=s[0],u=i[0],h=[0],c=u;r|=0;var y=0,d=u;for(y=0;y<l;++y){var v=n[r]-a,g=n[r+c]-a;v>=0!=g>=0&&t.push(h[0]+.5+.5*(v+g)/(v-g)),r+=d,++h[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},781:function(f,s,n){f.exports=function(r,t){var a=[];return t=+t||0,i(r.hi(r.shape[0]-1),a,t),a};var i=n(3349)},7790:function(){}},o={};function w(f){var s=o[f];if(s!==void 0)return s.exports;var n=o[f]={id:f,loaded:!1,exports:{}};return A[f].call(n.exports,n,n.exports,w),n.loaded=!0,n.exports}w.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),w.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f};var b=w(1964);U.exports=b})()},33576:function(U,C,e){function k(le,oe){for(var ve=0;ve<oe.length;ve++){var Ce=oe[ve];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(le,(ke=function(Ae,Ee){if(b(Ae)!=="object"||Ae===null)return Ae;var ze=Ae[Symbol.toPrimitive];if(ze!==void 0){var Fe=ze.call(Ae,"string");if(b(Fe)!=="object")return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ae)}(Ce.key),b(ke)==="symbol"?ke:String(ke)),Ce)}var ke}function A(le){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},A(le)}function o(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function w(le,oe){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,Ce){return ve.__proto__=Ce,ve},w(le,oe)}function b(le){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},b(le)}var f=e(59968),s=e(35984),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;C.Buffer=t,C.SlowBuffer=function(le){return+le!=le&&(le=0),t.alloc(+le)},C.INSPECT_MAX_BYTES=50;var i=2147483647;function r(le){if(le>i)throw new RangeError('The value "'+le+'" is invalid for option "size"');var oe=new Uint8Array(le);return Object.setPrototypeOf(oe,t.prototype),oe}function t(le,oe,ve){if(typeof le=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(le)}return a(le,oe,ve)}function a(le,oe,ve){if(typeof le=="string")return function(Ae,Ee){if(typeof Ee=="string"&&Ee!==""||(Ee="utf8"),!t.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);var ze=0|d(Ae,Ee),Fe=r(ze),ge=Fe.write(Ae,Ee);return ge!==ze&&(Fe=Fe.slice(0,ge)),Fe}(le,oe);if(ArrayBuffer.isView(le))return function(Ae){if(_e(Ae,Uint8Array)){var Ee=new Uint8Array(Ae);return c(Ee.buffer,Ee.byteOffset,Ee.byteLength)}return h(Ae)}(le);if(le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(le));if(_e(le,ArrayBuffer)||le&&_e(le.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(le,SharedArrayBuffer)||le&&_e(le.buffer,SharedArrayBuffer)))return c(le,oe,ve);if(typeof le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ce=le.valueOf&&le.valueOf();if(Ce!=null&&Ce!==le)return t.from(Ce,oe,ve);var ke=function(Ae){if(t.isBuffer(Ae)){var Ee=0|y(Ae.length),ze=r(Ee);return ze.length===0||Ae.copy(ze,0,0,Ee),ze}return Ae.length!==void 0?typeof Ae.length!="number"||be(Ae.length)?r(0):h(Ae):Ae.type==="Buffer"&&Array.isArray(Ae.data)?h(Ae.data):void 0}(le);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof le[Symbol.toPrimitive]=="function")return t.from(le[Symbol.toPrimitive]("string"),oe,ve);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(le))}function l(le){if(typeof le!="number")throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function u(le){return l(le),r(le<0?0:0|y(le))}function h(le){for(var oe=le.length<0?0:0|y(le.length),ve=r(oe),Ce=0;Ce<oe;Ce+=1)ve[Ce]=255&le[Ce];return ve}function c(le,oe,ve){if(oe<0||le.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<oe+(ve||0))throw new RangeError('"length" is outside of buffer bounds');var Ce;return Ce=oe===void 0&&ve===void 0?new Uint8Array(le):ve===void 0?new Uint8Array(le,oe):new Uint8Array(le,oe,ve),Object.setPrototypeOf(Ce,t.prototype),Ce}function y(le){if(le>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|le}function d(le,oe){if(t.isBuffer(le))return le.length;if(ArrayBuffer.isView(le)||_e(le,ArrayBuffer))return le.byteLength;if(typeof le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(le));var ve=le.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&ve===0)return 0;for(var ke=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return ve;case"utf8":case"utf-8":return pe(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ve;case"hex":return ve>>>1;case"base64":return de(le).length;default:if(ke)return Ce?-1:pe(le).length;oe=(""+oe).toLowerCase(),ke=!0}}function v(le,oe,ve){var Ce=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((ve===void 0||ve>this.length)&&(ve=this.length),ve<=0)||(ve>>>=0)<=(oe>>>=0))return"";for(le||(le="utf8");;)switch(le){case"hex":return z(this,oe,ve);case"utf8":case"utf-8":return P(this,oe,ve);case"ascii":return R(this,oe,ve);case"latin1":case"binary":return H(this,oe,ve);case"base64":return O(this,oe,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,oe,ve);default:if(Ce)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),Ce=!0}}function g(le,oe,ve){var Ce=le[oe];le[oe]=le[ve],le[ve]=Ce}function x(le,oe,ve,Ce,ke){if(le.length===0)return-1;if(typeof ve=="string"?(Ce=ve,ve=0):ve>2147483647?ve=2147483647:ve<-2147483648&&(ve=-2147483648),be(ve=+ve)&&(ve=ke?0:le.length-1),ve<0&&(ve=le.length+ve),ve>=le.length){if(ke)return-1;ve=le.length-1}else if(ve<0){if(!ke)return-1;ve=0}if(typeof oe=="string"&&(oe=t.from(oe,Ce)),t.isBuffer(oe))return oe.length===0?-1:m(le,oe,ve,Ce,ke);if(typeof oe=="number")return oe&=255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(le,oe,ve):Uint8Array.prototype.lastIndexOf.call(le,oe,ve):m(le,[oe],ve,Ce,ke);throw new TypeError("val must be string, number or Buffer")}function m(le,oe,ve,Ce,ke){var Ae,Ee=1,ze=le.length,Fe=oe.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(le.length<2||oe.length<2)return-1;Ee=2,ze/=2,Fe/=2,ve/=2}function ge(Pe,Ve){return Ee===1?Pe[Ve]:Pe.readUInt16BE(Ve*Ee)}if(ke){var Te=-1;for(Ae=ve;Ae<ze;Ae++)if(ge(le,Ae)===ge(oe,Te===-1?0:Ae-Te)){if(Te===-1&&(Te=Ae),Ae-Te+1===Fe)return Te*Ee}else Te!==-1&&(Ae-=Ae-Te),Te=-1}else for(ve+Fe>ze&&(ve=ze-Fe),Ae=ve;Ae>=0;Ae--){for(var Se=!0,Re=0;Re<Fe;Re++)if(ge(le,Ae+Re)!==ge(oe,Re)){Se=!1;break}if(Se)return Ae}return-1}function _(le,oe,ve,Ce){ve=Number(ve)||0;var ke=le.length-ve;Ce?(Ce=Number(Ce))>ke&&(Ce=ke):Ce=ke;var Ae,Ee=oe.length;for(Ce>Ee/2&&(Ce=Ee/2),Ae=0;Ae<Ce;++Ae){var ze=parseInt(oe.substr(2*Ae,2),16);if(be(ze))return Ae;le[ve+Ae]=ze}return Ae}function p(le,oe,ve,Ce){return xe(pe(oe,le.length-ve),le,ve,Ce)}function S(le,oe,ve,Ce){return xe(function(ke){for(var Ae=[],Ee=0;Ee<ke.length;++Ee)Ae.push(255&ke.charCodeAt(Ee));return Ae}(oe),le,ve,Ce)}function T(le,oe,ve,Ce){return xe(de(oe),le,ve,Ce)}function E(le,oe,ve,Ce){return xe(function(ke,Ae){for(var Ee,ze,Fe,ge=[],Te=0;Te<ke.length&&!((Ae-=2)<0);++Te)ze=(Ee=ke.charCodeAt(Te))>>8,Fe=Ee%256,ge.push(Fe),ge.push(ze);return ge}(oe,le.length-ve),le,ve,Ce)}function O(le,oe,ve){return oe===0&&ve===le.length?f.fromByteArray(le):f.fromByteArray(le.slice(oe,ve))}function P(le,oe,ve){ve=Math.min(le.length,ve);for(var Ce=[],ke=oe;ke<ve;){var Ae=le[ke],Ee=null,ze=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ke+ze<=ve){var Fe=void 0,ge=void 0,Te=void 0,Se=void 0;switch(ze){case 1:Ae<128&&(Ee=Ae);break;case 2:(192&(Fe=le[ke+1]))==128&&(Se=(31&Ae)<<6|63&Fe)>127&&(Ee=Se);break;case 3:Fe=le[ke+1],ge=le[ke+2],(192&Fe)==128&&(192&ge)==128&&(Se=(15&Ae)<<12|(63&Fe)<<6|63&ge)>2047&&(Se<55296||Se>57343)&&(Ee=Se);break;case 4:Fe=le[ke+1],ge=le[ke+2],Te=le[ke+3],(192&Fe)==128&&(192&ge)==128&&(192&Te)==128&&(Se=(15&Ae)<<18|(63&Fe)<<12|(63&ge)<<6|63&Te)>65535&&Se<1114112&&(Ee=Se)}}Ee===null?(Ee=65533,ze=1):Ee>65535&&(Ee-=65536,Ce.push(Ee>>>10&1023|55296),Ee=56320|1023&Ee),Ce.push(Ee),ke+=ze}return function(Re){var Pe=Re.length;if(Pe<=I)return String.fromCharCode.apply(String,Re);for(var Ve="",We=0;We<Pe;)Ve+=String.fromCharCode.apply(String,Re.slice(We,We+=I));return Ve}(Ce)}C.kMaxLength=i,t.TYPED_ARRAY_SUPPORT=function(){try{var le=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(le,oe),le.foo()===42}catch{return!1}}(),t.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),t.poolSize=8192,t.from=function(le,oe,ve){return a(le,oe,ve)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(le,oe,ve){return function(Ce,ke,Ae){return l(Ce),Ce<=0?r(Ce):ke!==void 0?typeof Ae=="string"?r(Ce).fill(ke,Ae):r(Ce).fill(ke):r(Ce)}(le,oe,ve)},t.allocUnsafe=function(le){return u(le)},t.allocUnsafeSlow=function(le){return u(le)},t.isBuffer=function(le){return le!=null&&le._isBuffer===!0&&le!==t.prototype},t.compare=function(le,oe){if(_e(le,Uint8Array)&&(le=t.from(le,le.offset,le.byteLength)),_e(oe,Uint8Array)&&(oe=t.from(oe,oe.offset,oe.byteLength)),!t.isBuffer(le)||!t.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===oe)return 0;for(var ve=le.length,Ce=oe.length,ke=0,Ae=Math.min(ve,Ce);ke<Ae;++ke)if(le[ke]!==oe[ke]){ve=le[ke],Ce=oe[ke];break}return ve<Ce?-1:Ce<ve?1:0},t.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(le,oe){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(le.length===0)return t.alloc(0);var ve;if(oe===void 0)for(oe=0,ve=0;ve<le.length;++ve)oe+=le[ve].length;var Ce=t.allocUnsafe(oe),ke=0;for(ve=0;ve<le.length;++ve){var Ae=le[ve];if(_e(Ae,Uint8Array))ke+Ae.length>Ce.length?(t.isBuffer(Ae)||(Ae=t.from(Ae)),Ae.copy(Ce,ke)):Uint8Array.prototype.set.call(Ce,Ae,ke);else{if(!t.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(Ce,ke)}ke+=Ae.length}return Ce},t.byteLength=d,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var le=this.length;if(le%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<le;oe+=2)g(this,oe,oe+1);return this},t.prototype.swap32=function(){var le=this.length;if(le%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<le;oe+=4)g(this,oe,oe+3),g(this,oe+1,oe+2);return this},t.prototype.swap64=function(){var le=this.length;if(le%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<le;oe+=8)g(this,oe,oe+7),g(this,oe+1,oe+6),g(this,oe+2,oe+5),g(this,oe+3,oe+4);return this},t.prototype.toString=function(){var le=this.length;return le===0?"":arguments.length===0?P(this,0,le):v.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(le){if(!t.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le||t.compare(this,le)===0},t.prototype.inspect=function(){var le="",oe=C.INSPECT_MAX_BYTES;return le=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(le+=" ... "),"<Buffer "+le+">"},n&&(t.prototype[n]=t.prototype.inspect),t.prototype.compare=function(le,oe,ve,Ce,ke){if(_e(le,Uint8Array)&&(le=t.from(le,le.offset,le.byteLength)),!t.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(le));if(oe===void 0&&(oe=0),ve===void 0&&(ve=le?le.length:0),Ce===void 0&&(Ce=0),ke===void 0&&(ke=this.length),oe<0||ve>le.length||Ce<0||ke>this.length)throw new RangeError("out of range index");if(Ce>=ke&&oe>=ve)return 0;if(Ce>=ke)return-1;if(oe>=ve)return 1;if(this===le)return 0;for(var Ae=(ke>>>=0)-(Ce>>>=0),Ee=(ve>>>=0)-(oe>>>=0),ze=Math.min(Ae,Ee),Fe=this.slice(Ce,ke),ge=le.slice(oe,ve),Te=0;Te<ze;++Te)if(Fe[Te]!==ge[Te]){Ae=Fe[Te],Ee=ge[Te];break}return Ae<Ee?-1:Ee<Ae?1:0},t.prototype.includes=function(le,oe,ve){return this.indexOf(le,oe,ve)!==-1},t.prototype.indexOf=function(le,oe,ve){return x(this,le,oe,ve,!0)},t.prototype.lastIndexOf=function(le,oe,ve){return x(this,le,oe,ve,!1)},t.prototype.write=function(le,oe,ve,Ce){if(oe===void 0)Ce="utf8",ve=this.length,oe=0;else if(ve===void 0&&typeof oe=="string")Ce=oe,ve=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(ve)?(ve>>>=0,Ce===void 0&&(Ce="utf8")):(Ce=ve,ve=void 0)}var ke=this.length-oe;if((ve===void 0||ve>ke)&&(ve=ke),le.length>0&&(ve<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var Ae=!1;;)switch(Ce){case"hex":return _(this,le,oe,ve);case"utf8":case"utf-8":return p(this,le,oe,ve);case"ascii":case"latin1":case"binary":return S(this,le,oe,ve);case"base64":return T(this,le,oe,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,le,oe,ve);default:if(Ae)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Ae=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function R(le,oe,ve){var Ce="";ve=Math.min(le.length,ve);for(var ke=oe;ke<ve;++ke)Ce+=String.fromCharCode(127&le[ke]);return Ce}function H(le,oe,ve){var Ce="";ve=Math.min(le.length,ve);for(var ke=oe;ke<ve;++ke)Ce+=String.fromCharCode(le[ke]);return Ce}function z(le,oe,ve){var Ce=le.length;(!oe||oe<0)&&(oe=0),(!ve||ve<0||ve>Ce)&&(ve=Ce);for(var ke="",Ae=oe;Ae<ve;++Ae)ke+=Le[le[Ae]];return ke}function j(le,oe,ve){for(var Ce=le.slice(oe,ve),ke="",Ae=0;Ae<Ce.length-1;Ae+=2)ke+=String.fromCharCode(Ce[Ae]+256*Ce[Ae+1]);return ke}function Z(le,oe,ve){if(le%1!=0||le<0)throw new RangeError("offset is not uint");if(le+oe>ve)throw new RangeError("Trying to access beyond buffer length")}function F(le,oe,ve,Ce,ke,Ae){if(!t.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>ke||oe<Ae)throw new RangeError('"value" argument is out of bounds');if(ve+Ce>le.length)throw new RangeError("Index out of range")}function V(le,oe,ve,Ce,ke){ae(oe,Ce,ke,le,ve,7);var Ae=Number(oe&BigInt(4294967295));le[ve++]=Ae,Ae>>=8,le[ve++]=Ae,Ae>>=8,le[ve++]=Ae,Ae>>=8,le[ve++]=Ae;var Ee=Number(oe>>BigInt(32)&BigInt(4294967295));return le[ve++]=Ee,Ee>>=8,le[ve++]=Ee,Ee>>=8,le[ve++]=Ee,Ee>>=8,le[ve++]=Ee,ve}function W(le,oe,ve,Ce,ke){ae(oe,Ce,ke,le,ve,7);var Ae=Number(oe&BigInt(4294967295));le[ve+7]=Ae,Ae>>=8,le[ve+6]=Ae,Ae>>=8,le[ve+5]=Ae,Ae>>=8,le[ve+4]=Ae;var Ee=Number(oe>>BigInt(32)&BigInt(4294967295));return le[ve+3]=Ee,Ee>>=8,le[ve+2]=Ee,Ee>>=8,le[ve+1]=Ee,Ee>>=8,le[ve]=Ee,ve+8}function re(le,oe,ve,Ce,ke,Ae){if(ve+Ce>le.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("Index out of range")}function ne(le,oe,ve,Ce,ke){return oe=+oe,ve>>>=0,ke||re(le,0,ve,4),s.write(le,oe,ve,Ce,23,4),ve+4}function te(le,oe,ve,Ce,ke){return oe=+oe,ve>>>=0,ke||re(le,0,ve,8),s.write(le,oe,ve,Ce,52,8),ve+8}t.prototype.slice=function(le,oe){var ve=this.length;(le=~~le)<0?(le+=ve)<0&&(le=0):le>ve&&(le=ve),(oe=oe===void 0?ve:~~oe)<0?(oe+=ve)<0&&(oe=0):oe>ve&&(oe=ve),oe<le&&(oe=le);var Ce=this.subarray(le,oe);return Object.setPrototypeOf(Ce,t.prototype),Ce},t.prototype.readUintLE=t.prototype.readUIntLE=function(le,oe,ve){le>>>=0,oe>>>=0,ve||Z(le,oe,this.length);for(var Ce=this[le],ke=1,Ae=0;++Ae<oe&&(ke*=256);)Ce+=this[le+Ae]*ke;return Ce},t.prototype.readUintBE=t.prototype.readUIntBE=function(le,oe,ve){le>>>=0,oe>>>=0,ve||Z(le,oe,this.length);for(var Ce=this[le+--oe],ke=1;oe>0&&(ke*=256);)Ce+=this[le+--oe]*ke;return Ce},t.prototype.readUint8=t.prototype.readUInt8=function(le,oe){return le>>>=0,oe||Z(le,1,this.length),this[le]},t.prototype.readUint16LE=t.prototype.readUInt16LE=function(le,oe){return le>>>=0,oe||Z(le,2,this.length),this[le]|this[le+1]<<8},t.prototype.readUint16BE=t.prototype.readUInt16BE=function(le,oe){return le>>>=0,oe||Z(le,2,this.length),this[le]<<8|this[le+1]},t.prototype.readUint32LE=t.prototype.readUInt32LE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+16777216*this[le+3]},t.prototype.readUint32BE=t.prototype.readUInt32BE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),16777216*this[le]+(this[le+1]<<16|this[le+2]<<8|this[le+3])},t.prototype.readBigUInt64LE=De(function(le){ue(le>>>=0,"offset");var oe=this[le],ve=this[le+7];oe!==void 0&&ve!==void 0||se(le,this.length-8);var Ce=oe+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,24),ke=this[++le]+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+ve*Math.pow(2,24);return BigInt(Ce)+(BigInt(ke)<<BigInt(32))}),t.prototype.readBigUInt64BE=De(function(le){ue(le>>>=0,"offset");var oe=this[le],ve=this[le+7];oe!==void 0&&ve!==void 0||se(le,this.length-8);var Ce=oe*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+this[++le],ke=this[++le]*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+ve;return(BigInt(Ce)<<BigInt(32))+BigInt(ke)}),t.prototype.readIntLE=function(le,oe,ve){le>>>=0,oe>>>=0,ve||Z(le,oe,this.length);for(var Ce=this[le],ke=1,Ae=0;++Ae<oe&&(ke*=256);)Ce+=this[le+Ae]*ke;return Ce>=(ke*=128)&&(Ce-=Math.pow(2,8*oe)),Ce},t.prototype.readIntBE=function(le,oe,ve){le>>>=0,oe>>>=0,ve||Z(le,oe,this.length);for(var Ce=oe,ke=1,Ae=this[le+--Ce];Ce>0&&(ke*=256);)Ae+=this[le+--Ce]*ke;return Ae>=(ke*=128)&&(Ae-=Math.pow(2,8*oe)),Ae},t.prototype.readInt8=function(le,oe){return le>>>=0,oe||Z(le,1,this.length),128&this[le]?-1*(255-this[le]+1):this[le]},t.prototype.readInt16LE=function(le,oe){le>>>=0,oe||Z(le,2,this.length);var ve=this[le]|this[le+1]<<8;return 32768&ve?4294901760|ve:ve},t.prototype.readInt16BE=function(le,oe){le>>>=0,oe||Z(le,2,this.length);var ve=this[le+1]|this[le]<<8;return 32768&ve?4294901760|ve:ve},t.prototype.readInt32LE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},t.prototype.readInt32BE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},t.prototype.readBigInt64LE=De(function(le){ue(le>>>=0,"offset");var oe=this[le],ve=this[le+7];oe!==void 0&&ve!==void 0||se(le,this.length-8);var Ce=this[le+4]+this[le+5]*Math.pow(2,8)+this[le+6]*Math.pow(2,16)+(ve<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(oe+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,24))}),t.prototype.readBigInt64BE=De(function(le){ue(le>>>=0,"offset");var oe=this[le],ve=this[le+7];oe!==void 0&&ve!==void 0||se(le,this.length-8);var Ce=(oe<<24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+this[++le];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++le]*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+ve)}),t.prototype.readFloatLE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),s.read(this,le,!0,23,4)},t.prototype.readFloatBE=function(le,oe){return le>>>=0,oe||Z(le,4,this.length),s.read(this,le,!1,23,4)},t.prototype.readDoubleLE=function(le,oe){return le>>>=0,oe||Z(le,8,this.length),s.read(this,le,!0,52,8)},t.prototype.readDoubleBE=function(le,oe){return le>>>=0,oe||Z(le,8,this.length),s.read(this,le,!1,52,8)},t.prototype.writeUintLE=t.prototype.writeUIntLE=function(le,oe,ve,Ce){le=+le,oe>>>=0,ve>>>=0,Ce||F(this,le,oe,ve,Math.pow(2,8*ve)-1,0);var ke=1,Ae=0;for(this[oe]=255&le;++Ae<ve&&(ke*=256);)this[oe+Ae]=le/ke&255;return oe+ve},t.prototype.writeUintBE=t.prototype.writeUIntBE=function(le,oe,ve,Ce){le=+le,oe>>>=0,ve>>>=0,Ce||F(this,le,oe,ve,Math.pow(2,8*ve)-1,0);var ke=ve-1,Ae=1;for(this[oe+ke]=255&le;--ke>=0&&(Ae*=256);)this[oe+ke]=le/Ae&255;return oe+ve},t.prototype.writeUint8=t.prototype.writeUInt8=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,1,255,0),this[oe]=255&le,oe+1},t.prototype.writeUint16LE=t.prototype.writeUInt16LE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,2,65535,0),this[oe]=255&le,this[oe+1]=le>>>8,oe+2},t.prototype.writeUint16BE=t.prototype.writeUInt16BE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,2,65535,0),this[oe]=le>>>8,this[oe+1]=255&le,oe+2},t.prototype.writeUint32LE=t.prototype.writeUInt32LE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,4,4294967295,0),this[oe+3]=le>>>24,this[oe+2]=le>>>16,this[oe+1]=le>>>8,this[oe]=255&le,oe+4},t.prototype.writeUint32BE=t.prototype.writeUInt32BE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,4,4294967295,0),this[oe]=le>>>24,this[oe+1]=le>>>16,this[oe+2]=le>>>8,this[oe+3]=255&le,oe+4},t.prototype.writeBigUInt64LE=De(function(le){return V(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeBigUInt64BE=De(function(le){return W(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeIntLE=function(le,oe,ve,Ce){if(le=+le,oe>>>=0,!Ce){var ke=Math.pow(2,8*ve-1);F(this,le,oe,ve,ke-1,-ke)}var Ae=0,Ee=1,ze=0;for(this[oe]=255&le;++Ae<ve&&(Ee*=256);)le<0&&ze===0&&this[oe+Ae-1]!==0&&(ze=1),this[oe+Ae]=(le/Ee>>0)-ze&255;return oe+ve},t.prototype.writeIntBE=function(le,oe,ve,Ce){if(le=+le,oe>>>=0,!Ce){var ke=Math.pow(2,8*ve-1);F(this,le,oe,ve,ke-1,-ke)}var Ae=ve-1,Ee=1,ze=0;for(this[oe+Ae]=255&le;--Ae>=0&&(Ee*=256);)le<0&&ze===0&&this[oe+Ae+1]!==0&&(ze=1),this[oe+Ae]=(le/Ee>>0)-ze&255;return oe+ve},t.prototype.writeInt8=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,1,127,-128),le<0&&(le=255+le+1),this[oe]=255&le,oe+1},t.prototype.writeInt16LE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,2,32767,-32768),this[oe]=255&le,this[oe+1]=le>>>8,oe+2},t.prototype.writeInt16BE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,2,32767,-32768),this[oe]=le>>>8,this[oe+1]=255&le,oe+2},t.prototype.writeInt32LE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,4,2147483647,-2147483648),this[oe]=255&le,this[oe+1]=le>>>8,this[oe+2]=le>>>16,this[oe+3]=le>>>24,oe+4},t.prototype.writeInt32BE=function(le,oe,ve){return le=+le,oe>>>=0,ve||F(this,le,oe,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[oe]=le>>>24,this[oe+1]=le>>>16,this[oe+2]=le>>>8,this[oe+3]=255&le,oe+4},t.prototype.writeBigInt64LE=De(function(le){return V(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),t.prototype.writeBigInt64BE=De(function(le){return W(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),t.prototype.writeFloatLE=function(le,oe,ve){return ne(this,le,oe,!0,ve)},t.prototype.writeFloatBE=function(le,oe,ve){return ne(this,le,oe,!1,ve)},t.prototype.writeDoubleLE=function(le,oe,ve){return te(this,le,oe,!0,ve)},t.prototype.writeDoubleBE=function(le,oe,ve){return te(this,le,oe,!1,ve)},t.prototype.copy=function(le,oe,ve,Ce){if(!t.isBuffer(le))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),Ce||Ce===0||(Ce=this.length),oe>=le.length&&(oe=le.length),oe||(oe=0),Ce>0&&Ce<ve&&(Ce=ve),Ce===ve||le.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(ve<0||ve>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),le.length-oe<Ce-ve&&(Ce=le.length-oe+ve);var ke=Ce-ve;return this===le&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,ve,Ce):Uint8Array.prototype.set.call(le,this.subarray(ve,Ce),oe),ke},t.prototype.fill=function(le,oe,ve,Ce){if(typeof le=="string"){if(typeof oe=="string"?(Ce=oe,oe=0,ve=this.length):typeof ve=="string"&&(Ce=ve,ve=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!t.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(le.length===1){var ke=le.charCodeAt(0);(Ce==="utf8"&&ke<128||Ce==="latin1")&&(le=ke)}}else typeof le=="number"?le&=255:typeof le=="boolean"&&(le=Number(le));if(oe<0||this.length<oe||this.length<ve)throw new RangeError("Out of range index");if(ve<=oe)return this;var Ae;if(oe>>>=0,ve=ve===void 0?this.length:ve>>>0,le||(le=0),typeof le=="number")for(Ae=oe;Ae<ve;++Ae)this[Ae]=le;else{var Ee=t.isBuffer(le)?le:t.from(le,Ce),ze=Ee.length;if(ze===0)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(Ae=0;Ae<ve-oe;++Ae)this[Ae+oe]=Ee[Ae%ze]}return this};var Q={};function $(le,oe,ve){Q[le]=function(Ce){function ke(){var ze;return function(Fe,ge){if(!(Fe instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ke),ze=function(Fe,ge,Te){return ge=A(ge),function(Se,Re){if(Re&&(b(Re)==="object"||typeof Re=="function"))return Re;if(Re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(Se)}(Fe,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(ge,[],A(Fe).constructor):ge.apply(Fe,Te))}(this,ke),Object.defineProperty(o(ze),"message",{value:oe.apply(o(ze),arguments),writable:!0,configurable:!0}),ze.name="".concat(ze.name," [").concat(le,"]"),ze.stack,delete ze.name,ze}var Ae,Ee;return function(ze,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),Fe&&w(ze,Fe)}(ke,Ce),Ae=ke,(Ee=[{key:"code",get:function(){return le},set:function(ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ze,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(le,"]: ").concat(this.message)}}])&&k(Ae.prototype,Ee),Object.defineProperty(Ae,"prototype",{writable:!1}),ke}(ve)}function K(le){for(var oe="",ve=le.length,Ce=le[0]==="-"?1:0;ve>=Ce+4;ve-=3)oe="_".concat(le.slice(ve-3,ve)).concat(oe);return"".concat(le.slice(0,ve)).concat(oe)}function ae(le,oe,ve,Ce,ke,Ae){if(le>ve||le<oe){var Ee,ze=typeof oe=="bigint"?"n":"";throw Ee=oe===0||oe===BigInt(0)?">= 0".concat(ze," and < 2").concat(ze," ** ").concat(8*(Ae+1)).concat(ze):">= -(2".concat(ze," ** ").concat(8*(Ae+1)-1).concat(ze,") and < 2 ** ")+"".concat(8*(Ae+1)-1).concat(ze),new Q.ERR_OUT_OF_RANGE("value",Ee,le)}(function(Fe,ge,Te){ue(ge,"offset"),Fe[ge]!==void 0&&Fe[ge+Te]!==void 0||se(ge,Fe.length-(Te+1))})(Ce,ke,Ae)}function ue(le,oe){if(typeof le!="number")throw new Q.ERR_INVALID_ARG_TYPE(oe,"number",le)}function se(le,oe,ve){throw Math.floor(le)!==le?(ue(le,ve),new Q.ERR_OUT_OF_RANGE("offset","an integer",le)):oe<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(oe),le)}$("ERR_BUFFER_OUT_OF_BOUNDS",function(le){return le?"".concat(le," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(le,oe){return'The "'.concat(le,'" argument must be of type number. Received type ').concat(b(oe))},TypeError),$("ERR_OUT_OF_RANGE",function(le,oe,ve){var Ce='The value of "'.concat(le,'" is out of range.'),ke=ve;return Number.isInteger(ve)&&Math.abs(ve)>Math.pow(2,32)?ke=K(String(ve)):typeof ve=="bigint"&&(ke=String(ve),(ve>Math.pow(BigInt(2),BigInt(32))||ve<-Math.pow(BigInt(2),BigInt(32)))&&(ke=K(ke)),ke+="n"),Ce+" It must be ".concat(oe,". Received ").concat(ke)},RangeError);var he=/[^+/0-9A-Za-z-_]/g;function pe(le,oe){var ve;oe=oe||1/0;for(var Ce=le.length,ke=null,Ae=[],Ee=0;Ee<Ce;++Ee){if((ve=le.charCodeAt(Ee))>55295&&ve<57344){if(!ke){if(ve>56319){(oe-=3)>-1&&Ae.push(239,191,189);continue}if(Ee+1===Ce){(oe-=3)>-1&&Ae.push(239,191,189);continue}ke=ve;continue}if(ve<56320){(oe-=3)>-1&&Ae.push(239,191,189),ke=ve;continue}ve=65536+(ke-55296<<10|ve-56320)}else ke&&(oe-=3)>-1&&Ae.push(239,191,189);if(ke=null,ve<128){if((oe-=1)<0)break;Ae.push(ve)}else if(ve<2048){if((oe-=2)<0)break;Ae.push(ve>>6|192,63&ve|128)}else if(ve<65536){if((oe-=3)<0)break;Ae.push(ve>>12|224,ve>>6&63|128,63&ve|128)}else{if(!(ve<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;Ae.push(ve>>18|240,ve>>12&63|128,ve>>6&63|128,63&ve|128)}}return Ae}function de(le){return f.toByteArray(function(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(le))}function xe(le,oe,ve,Ce){var ke;for(ke=0;ke<Ce&&!(ke+ve>=oe.length||ke>=le.length);++ke)oe[ke+ve]=le[ke];return ke}function _e(le,oe){return le instanceof oe||le!=null&&le.constructor!=null&&le.constructor.name!=null&&le.constructor.name===oe.name}function be(le){return le!=le}var Le=function(){for(var le="0123456789abcdef",oe=new Array(256),ve=0;ve<16;++ve)for(var Ce=16*ve,ke=0;ke<16;++ke)oe[Ce+ke]=le[ve]+le[ke];return oe}();function De(le){return typeof BigInt>"u"?ye:le}function ye(){throw new Error("BigInt not supported")}},25928:function(U){U.exports=A,U.exports.isMobile=A,U.exports.default=A;var C=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,k=/android|ipad|playbook|silk/i;function A(o){o||(o={});var w=o.ua;if(w||typeof navigator>"u"||(w=navigator.userAgent),w&&w.headers&&typeof w.headers["user-agent"]=="string"&&(w=w.headers["user-agent"]),typeof w!="string")return!1;var b=C.test(w)&&!e.test(w)||!!o.tablet&&k.test(w);return!b&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&w.indexOf("Macintosh")!==-1&&w.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(U,C,e){e.r(C),e.d(C,{sankeyCenter:function(){return r},sankeyCircular:function(){return O},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return n}});var k=e(84706),A=e(34712),o=e(10132),w=e(6688),b=e.n(w);function f(xe){return xe.target.depth}function s(xe){return xe.depth}function n(xe,_e){return _e-1-xe.height}function i(xe,_e){return xe.sourceLinks.length?xe.depth:_e-1}function r(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,k.SY)(xe.sourceLinks,f)-1:0}function t(xe){return function(){return xe}}var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function l(xe,_e){return h(xe.source,_e.source)||xe.index-_e.index}function u(xe,_e){return h(xe.target,_e.target)||xe.index-_e.index}function h(xe,_e){return xe.partOfCycle===_e.partOfCycle?xe.y0-_e.y0:xe.circularLinkType==="top"||_e.circularLinkType==="bottom"?-1:1}function c(xe){return xe.value}function y(xe){return(xe.y0+xe.y1)/2}function d(xe){return y(xe.source)}function v(xe){return y(xe.target)}function g(xe){return xe.index}function x(xe){return xe.nodes}function m(xe){return xe.links}function _(xe,_e){var be=xe.get(_e);if(!be)throw new Error("missing: "+_e);return be}function p(xe,_e){return _e(xe)}var S=25,T=10,E=.3;function O(){var xe,_e,be=0,Le=0,De=1,ye=1,le=24,oe=g,ve=i,Ce=x,ke=m,Ae=32,Ee=2,ze=null;function Fe(){var Te={nodes:Ce.apply(null,arguments),links:ke.apply(null,arguments)};(function(Re){Re.nodes.forEach(function(Ve,We){Ve.index=We,Ve.sourceLinks=[],Ve.targetLinks=[]});var Pe=(0,A.kH)(Re.nodes,oe);Re.links.forEach(function(Ve,We){Ve.index=We;var Qe=Ve.source,lt=Ve.target;(Qe===void 0?"undefined":a(Qe))!=="object"&&(Qe=Ve.source=_(Pe,Qe)),(lt===void 0?"undefined":a(lt))!=="object"&&(lt=Ve.target=_(Pe,lt)),Qe.sourceLinks.push(Ve),lt.targetLinks.push(Ve)})})(Te),function(Re,Pe,Ve){var We=0;if(Ve===null){for(var Qe=[],lt=0;lt<Re.links.length;lt++){var ut=Re.links[lt],xt=ut.source.index,_t=ut.target.index;Qe[xt]||(Qe[xt]=[]),Qe[_t]||(Qe[_t]=[]),Qe[xt].indexOf(_t)===-1&&Qe[xt].push(_t)}var mt=b()(Qe);mt.sort(function(Et,Rt){return Et.length-Rt.length});var it={};for(lt=0;lt<mt.length;lt++){var nt=mt[lt].slice(-2);it[nt[0]]||(it[nt[0]]={}),it[nt[0]][nt[1]]=!0}Re.links.forEach(function(Et){var Rt=Et.target.index,Ft=Et.source.index;Rt===Ft||it[Ft]&&it[Ft][Rt]?(Et.circular=!0,Et.circularLinkID=We,We+=1):Et.circular=!1})}else Re.links.forEach(function(Et){Et.source[Ve]<Et.target[Ve]?Et.circular=!1:(Et.circular=!0,Et.circularLinkID=We,We+=1)})}(Te,0,ze),function(Re){Re.nodes.forEach(function(Pe){Pe.partOfCycle=!1,Pe.value=Math.max((0,k.oh)(Pe.sourceLinks,c),(0,k.oh)(Pe.targetLinks,c)),Pe.sourceLinks.forEach(function(Ve){Ve.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ve.circularLinkType)}),Pe.targetLinks.forEach(function(Ve){Ve.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ve.circularLinkType)})})}(Te),function(Re){var Pe,Ve,We;for(Pe=Re.nodes,Ve=[],We=0;Pe.length;++We,Pe=Ve,Ve=[])Pe.forEach(function(Qe){Qe.depth=We,Qe.sourceLinks.forEach(function(lt){Ve.indexOf(lt.target)<0&&!lt.circular&&Ve.push(lt.target)})});for(Pe=Re.nodes,Ve=[],We=0;Pe.length;++We,Pe=Ve,Ve=[])Pe.forEach(function(Qe){Qe.height=We,Qe.targetLinks.forEach(function(lt){Ve.indexOf(lt.source)<0&&!lt.circular&&Ve.push(lt.source)})});Re.nodes.forEach(function(Qe){Qe.column=Math.floor(ve.call(null,Qe,We))})}(Te),P(Te,oe),function(Re,Pe,Ve){var We=(0,A.UJ)().key(function(_t){return _t.column}).sortKeys(k.XE).entries(Re.nodes).map(function(_t){return _t.values});(function(_t){if(_e){var mt=1/0;We.forEach(function(Rt){var Ft=ye*_e/(Rt.length+1);mt=Ft<mt?Ft:mt}),xe=mt}var it=(0,k.SY)(We,function(Rt){return(ye-Le-(Rt.length-1)*xe)/(0,k.oh)(Rt,c)});it*=E,Re.links.forEach(function(Rt){Rt.width=Rt.value*it});var nt=function(Rt){var Ft=0,Pt=0,Ze=0,$e=0,He=(0,k.kv)(Rt.nodes,function(Je){return Je.column});return Rt.links.forEach(function(Je){Je.circular&&(Je.circularLinkType=="top"?Ft+=Je.width:Pt+=Je.width,Je.target.column==0&&($e+=Je.width),Je.source.column==He&&(Ze+=Je.width))}),{top:Ft=Ft>0?Ft+S+T:Ft,bottom:Pt=Pt>0?Pt+S+T:Pt,left:$e=$e>0?$e+S+T:$e,right:Ze=Ze>0?Ze+S+T:Ze}}(Re),Et=function(Rt,Ft){var Pt=(0,k.kv)(Rt.nodes,function(ft){return ft.column}),Ze=De-be,$e=ye-Le,He=Ze/(Ze+Ft.right+Ft.left),Je=$e/($e+Ft.top+Ft.bottom);return be=be*He+Ft.left,De=Ft.right==0?De:De*He,Le=Le*Je+Ft.top,ye*=Je,Rt.nodes.forEach(function(ft){ft.x0=be+ft.column*((De-be-le)/Pt),ft.x1=ft.x0+le}),Je}(Re,nt);it*=Et,Re.links.forEach(function(Rt){Rt.width=Rt.value*it}),We.forEach(function(Rt){var Ft=Rt.length;Rt.forEach(function(Pt,Ze){Pt.depth==We.length-1&&Ft==1||Pt.depth==0&&Ft==1?(Pt.y0=ye/2-Pt.value*it,Pt.y1=Pt.y0+Pt.value*it):Pt.partOfCycle?R(Pt,_t)==0?(Pt.y0=ye/2+Ze,Pt.y1=Pt.y0+Pt.value*it):Pt.circularLinkType=="top"?(Pt.y0=Le+Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=ye-Pt.value*it-Ze,Pt.y1=Pt.y0+Pt.value*it):nt.top==0||nt.bottom==0?(Pt.y0=(ye-Le)/Ft*Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=(ye-Le)/2-Ft/2+Ze,Pt.y1=Pt.y0+Pt.value*it)})})})(Ve),xt();for(var Qe=1,lt=Pe;lt>0;--lt)ut(Qe*=.99,Ve),xt();function ut(_t,mt){var it=We.length;We.forEach(function(nt){var Et=nt.length,Rt=nt[0].depth;nt.forEach(function(Ft){var Pt;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&R(Ft,mt)>0))if(Rt==0&&Et==1)Pt=Ft.y1-Ft.y0,Ft.y0=ye/2-Pt/2,Ft.y1=ye/2+Pt/2;else if(Rt==it-1&&Et==1)Pt=Ft.y1-Ft.y0,Ft.y0=ye/2-Pt/2,Ft.y1=ye/2+Pt/2;else{var Ze=(0,k.mo)(Ft.sourceLinks,v),$e=(0,k.mo)(Ft.targetLinks,d),He=((Ze&&$e?(Ze+$e)/2:Ze||$e)-y(Ft))*_t;Ft.y0+=He,Ft.y1+=He}})})}function xt(){We.forEach(function(_t){var mt,it,nt,Et=Le,Rt=_t.length;for(_t.sort(h),nt=0;nt<Rt;++nt)(it=Et-(mt=_t[nt]).y0)>0&&(mt.y0+=it,mt.y1+=it),Et=mt.y1+xe;if((it=Et-xe-ye)>0)for(Et=mt.y0-=it,mt.y1-=it,nt=Rt-2;nt>=0;--nt)(it=(mt=_t[nt]).y1+xe-Et)>0&&(mt.y0-=it,mt.y1-=it),Et=mt.y0})}}(Te,Ae,oe),ge(Te);for(var Se=0;Se<4;Se++)ue(Te,ye,oe),se(Te,0,oe),K(Te,Le,ye,oe),ue(Te,ye,oe),se(Te,0,oe);return function(Re,Pe,Ve){var We=Re.nodes,Qe=Re.links,lt=!1,ut=!1;if(Qe.forEach(function(mt){mt.circularLinkType=="top"?lt=!0:mt.circularLinkType=="bottom"&&(ut=!0)}),lt==0||ut==0){var xt=(0,k.SY)(We,function(mt){return mt.y0}),_t=(Ve-Pe)/((0,k.kv)(We,function(mt){return mt.y1})-xt);We.forEach(function(mt){var it=(mt.y1-mt.y0)*_t;mt.y0=(mt.y0-xt)*_t,mt.y1=mt.y0+it}),Qe.forEach(function(mt){mt.y0=(mt.y0-xt)*_t,mt.y1=(mt.y1-xt)*_t,mt.width=mt.width*_t})}}(Te,Le,ye),j(Te,Ee,ye,oe),Te}function ge(Te){Te.nodes.forEach(function(Se){Se.sourceLinks.sort(u),Se.targetLinks.sort(l)}),Te.nodes.forEach(function(Se){var Re=Se.y0,Pe=Re,Ve=Se.y1,We=Ve;Se.sourceLinks.forEach(function(Qe){Qe.circular?(Qe.y0=Ve-Qe.width/2,Ve-=Qe.width):(Qe.y0=Re+Qe.width/2,Re+=Qe.width)}),Se.targetLinks.forEach(function(Qe){Qe.circular?(Qe.y1=We-Qe.width/2,We-=Qe.width):(Qe.y1=Pe+Qe.width/2,Pe+=Qe.width)})})}return Fe.nodeId=function(Te){return arguments.length?(oe=typeof Te=="function"?Te:t(Te),Fe):oe},Fe.nodeAlign=function(Te){return arguments.length?(ve=typeof Te=="function"?Te:t(Te),Fe):ve},Fe.nodeWidth=function(Te){return arguments.length?(le=+Te,Fe):le},Fe.nodePadding=function(Te){return arguments.length?(xe=+Te,Fe):xe},Fe.nodes=function(Te){return arguments.length?(Ce=typeof Te=="function"?Te:t(Te),Fe):Ce},Fe.links=function(Te){return arguments.length?(ke=typeof Te=="function"?Te:t(Te),Fe):ke},Fe.size=function(Te){return arguments.length?(be=Le=0,De=+Te[0],ye=+Te[1],Fe):[De-be,ye-Le]},Fe.extent=function(Te){return arguments.length?(be=+Te[0][0],De=+Te[1][0],Le=+Te[0][1],ye=+Te[1][1],Fe):[[be,Le],[De,ye]]},Fe.iterations=function(Te){return arguments.length?(Ae=+Te,Fe):Ae},Fe.circularLinkGap=function(Te){return arguments.length?(Ee=+Te,Fe):Ee},Fe.nodePaddingRatio=function(Te){return arguments.length?(_e=+Te,Fe):_e},Fe.sortNodes=function(Te){return arguments.length?(ze=Te,Fe):ze},Fe.update=function(Te){return P(Te,oe),ge(Te),Te.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=Se.y0+Se.y1<ye?"top":"bottom",Se.source.circularLinkType=Se.circularLinkType,Se.target.circularLinkType=Se.circularLinkType)}),ue(Te,ye,oe,!1),se(Te,0,oe),j(Te,Ee,ye,oe),Te},Fe}function P(xe,_e){var be=0,Le=0;xe.links.forEach(function(De){De.circular&&(De.source.circularLinkType||De.target.circularLinkType?De.circularLinkType=De.source.circularLinkType?De.source.circularLinkType:De.target.circularLinkType:De.circularLinkType=be<Le?"top":"bottom",De.circularLinkType=="top"?be+=1:Le+=1,xe.nodes.forEach(function(ye){p(ye,_e)!=p(De.source,_e)&&p(ye,_e)!=p(De.target,_e)||(ye.circularLinkType=De.circularLinkType)}))}),xe.links.forEach(function(De){De.circular&&(De.source.circularLinkType==De.target.circularLinkType&&(De.circularLinkType=De.source.circularLinkType),de(De,_e)&&(De.circularLinkType=De.source.circularLinkType))})}function I(xe){var _e=Math.abs(xe.y1-xe.y0),be=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(be/_e)}function R(xe,_e){var be=0;xe.sourceLinks.forEach(function(De){be=De.circular&&!de(De,_e)?be+1:be});var Le=0;return xe.targetLinks.forEach(function(De){Le=De.circular&&!de(De,_e)?Le+1:Le}),be+Le}function H(xe){var _e=xe.source.sourceLinks,be=0;_e.forEach(function(ye){be=ye.circular?be+1:be});var Le=xe.target.targetLinks,De=0;return Le.forEach(function(ye){De=ye.circular?De+1:De}),!(be>1||De>1)}function z(xe,_e,be){return xe.sort(Z),xe.forEach(function(Le,De){var ye,le,oe=0;if(de(Le,be)&&H(Le))Le.circularPathData.verticalBuffer=oe+Le.width/2;else{for(var ve=0;ve<De;ve++)if(ye=xe[De],le=xe[ve],!(ye.source.column<le.target.column||ye.target.column>le.source.column)){var Ce=xe[ve].circularPathData.verticalBuffer+xe[ve].width/2+_e;oe=Ce>oe?Ce:oe}Le.circularPathData.verticalBuffer=oe+Le.width/2}}),xe}function j(xe,_e,be,Le){var De=(0,k.SY)(xe.links,function(ye){return ye.source.y0});xe.links.forEach(function(ye){ye.circular&&(ye.circularPathData={})}),z(xe.links.filter(function(ye){return ye.circularLinkType=="top"}),_e,Le),z(xe.links.filter(function(ye){return ye.circularLinkType=="bottom"}),_e,Le),xe.links.forEach(function(ye){if(ye.circular){if(ye.circularPathData.arcRadius=ye.width+T,ye.circularPathData.leftNodeBuffer=5,ye.circularPathData.rightNodeBuffer=5,ye.circularPathData.sourceWidth=ye.source.x1-ye.source.x0,ye.circularPathData.sourceX=ye.source.x0+ye.circularPathData.sourceWidth,ye.circularPathData.targetX=ye.target.x0,ye.circularPathData.sourceY=ye.y0,ye.circularPathData.targetY=ye.y1,de(ye,Le)&&H(ye))ye.circularPathData.leftSmallArcRadius=T+ye.width/2,ye.circularPathData.leftLargeArcRadius=T+ye.width/2,ye.circularPathData.rightSmallArcRadius=T+ye.width/2,ye.circularPathData.rightLargeArcRadius=T+ye.width/2,ye.circularLinkType=="bottom"?(ye.circularPathData.verticalFullExtent=ye.source.y1+S+ye.circularPathData.verticalBuffer,ye.circularPathData.verticalLeftInnerExtent=ye.circularPathData.verticalFullExtent-ye.circularPathData.leftLargeArcRadius,ye.circularPathData.verticalRightInnerExtent=ye.circularPathData.verticalFullExtent-ye.circularPathData.rightLargeArcRadius):(ye.circularPathData.verticalFullExtent=ye.source.y0-S-ye.circularPathData.verticalBuffer,ye.circularPathData.verticalLeftInnerExtent=ye.circularPathData.verticalFullExtent+ye.circularPathData.leftLargeArcRadius,ye.circularPathData.verticalRightInnerExtent=ye.circularPathData.verticalFullExtent+ye.circularPathData.rightLargeArcRadius);else{var le=ye.source.column,oe=ye.circularLinkType,ve=xe.links.filter(function(Ae){return Ae.source.column==le&&Ae.circularLinkType==oe});ye.circularLinkType=="bottom"?ve.sort(V):ve.sort(F);var Ce=0;ve.forEach(function(Ae,Ee){Ae.circularLinkID==ye.circularLinkID&&(ye.circularPathData.leftSmallArcRadius=T+ye.width/2+Ce,ye.circularPathData.leftLargeArcRadius=T+ye.width/2+Ee*_e+Ce),Ce+=Ae.width}),le=ye.target.column,ve=xe.links.filter(function(Ae){return Ae.target.column==le&&Ae.circularLinkType==oe}),ye.circularLinkType=="bottom"?ve.sort(re):ve.sort(W),Ce=0,ve.forEach(function(Ae,Ee){Ae.circularLinkID==ye.circularLinkID&&(ye.circularPathData.rightSmallArcRadius=T+ye.width/2+Ce,ye.circularPathData.rightLargeArcRadius=T+ye.width/2+Ee*_e+Ce),Ce+=Ae.width}),ye.circularLinkType=="bottom"?(ye.circularPathData.verticalFullExtent=Math.max(be,ye.source.y1,ye.target.y1)+S+ye.circularPathData.verticalBuffer,ye.circularPathData.verticalLeftInnerExtent=ye.circularPathData.verticalFullExtent-ye.circularPathData.leftLargeArcRadius,ye.circularPathData.verticalRightInnerExtent=ye.circularPathData.verticalFullExtent-ye.circularPathData.rightLargeArcRadius):(ye.circularPathData.verticalFullExtent=De-S-ye.circularPathData.verticalBuffer,ye.circularPathData.verticalLeftInnerExtent=ye.circularPathData.verticalFullExtent+ye.circularPathData.leftLargeArcRadius,ye.circularPathData.verticalRightInnerExtent=ye.circularPathData.verticalFullExtent+ye.circularPathData.rightLargeArcRadius)}ye.circularPathData.leftInnerExtent=ye.circularPathData.sourceX+ye.circularPathData.leftNodeBuffer,ye.circularPathData.rightInnerExtent=ye.circularPathData.targetX-ye.circularPathData.rightNodeBuffer,ye.circularPathData.leftFullExtent=ye.circularPathData.sourceX+ye.circularPathData.leftLargeArcRadius+ye.circularPathData.leftNodeBuffer,ye.circularPathData.rightFullExtent=ye.circularPathData.targetX-ye.circularPathData.rightLargeArcRadius-ye.circularPathData.rightNodeBuffer}if(ye.circular)ye.path=function(Ae){return Ae.circularLinkType=="top"?"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY}(ye);else{var ke=(0,o.ak)().source(function(Ae){return[Ae.source.x0+(Ae.source.x1-Ae.source.x0),Ae.y0]}).target(function(Ae){return[Ae.target.x0,Ae.y1]});ye.path=ke(ye)}})}function Z(xe,_e){return ne(xe)==ne(_e)?xe.circularLinkType=="bottom"?V(xe,_e):F(xe,_e):ne(_e)-ne(xe)}function F(xe,_e){return xe.y0-_e.y0}function V(xe,_e){return _e.y0-xe.y0}function W(xe,_e){return xe.y1-_e.y1}function re(xe,_e){return _e.y1-xe.y1}function ne(xe){return xe.target.column-xe.source.column}function te(xe){return xe.target.x0-xe.source.x1}function Q(xe,_e){var be=I(xe),Le=te(_e)/Math.tan(be);return pe(xe)=="up"?xe.y1+Le:xe.y1-Le}function $(xe,_e){var be=I(xe),Le=te(_e)/Math.tan(be);return pe(xe)=="up"?xe.y1-Le:xe.y1+Le}function K(xe,_e,be,Le){xe.links.forEach(function(De){if(!De.circular&&De.target.column-De.source.column>1){var ye=De.source.column+1,le=De.target.column-1,oe=1,ve=le-ye+1;for(oe=1;ye<=le;ye++,oe++)xe.nodes.forEach(function(Ce){if(Ce.column==ye){var ke,Ae=oe/(ve+1),Ee=Math.pow(1-Ae,3),ze=3*Ae*Math.pow(1-Ae,2),Fe=3*Math.pow(Ae,2)*(1-Ae),ge=Math.pow(Ae,3),Te=Ee*De.y0+ze*De.y0+Fe*De.y1+ge*De.y1,Se=Te-De.width/2,Re=Te+De.width/2;Se>Ce.y0&&Se<Ce.y1?(ke=Ce.y1-Se+10,ke=Ce.circularLinkType=="bottom"?ke:-ke,Ce=ae(Ce,ke,_e,be),xe.nodes.forEach(function(Pe){var Ve,We;p(Pe,Le)!=p(Ce,Le)&&Pe.column==Ce.column&&(We=Pe,(Ve=Ce).y0>We.y0&&Ve.y0<We.y1||Ve.y1>We.y0&&Ve.y1<We.y1||Ve.y0<We.y0&&Ve.y1>We.y1)&&ae(Pe,ke,_e,be)})):(Re>Ce.y0&&Re<Ce.y1||Se<Ce.y0&&Re>Ce.y1)&&(ke=Re-Ce.y0+10,Ce=ae(Ce,ke,_e,be),xe.nodes.forEach(function(Pe){p(Pe,Le)!=p(Ce,Le)&&Pe.column==Ce.column&&Pe.y0<Ce.y1&&Pe.y1>Ce.y1&&ae(Pe,ke,_e,be)}))}})}})}function ae(xe,_e,be,Le){return xe.y0+_e>=be&&xe.y1+_e<=Le&&(xe.y0=xe.y0+_e,xe.y1=xe.y1+_e,xe.targetLinks.forEach(function(De){De.y1=De.y1+_e}),xe.sourceLinks.forEach(function(De){De.y0=De.y0+_e})),xe}function ue(xe,_e,be,Le){xe.nodes.forEach(function(De){Le&&De.y+(De.y1-De.y0)>_e&&(De.y=De.y-(De.y+(De.y1-De.y0)-_e));var ye=xe.links.filter(function(ve){return p(ve.source,be)==p(De,be)}),le=ye.length;le>1&&ye.sort(function(ve,Ce){if(!ve.circular&&!Ce.circular){if(ve.target.column==Ce.target.column||!he(ve,Ce))return ve.y1-Ce.y1;if(ve.target.column>Ce.target.column){var ke=$(Ce,ve);return ve.y1-ke}if(Ce.target.column>ve.target.column)return $(ve,Ce)-Ce.y1}return ve.circular&&!Ce.circular?ve.circularLinkType=="top"?-1:1:Ce.circular&&!ve.circular?Ce.circularLinkType=="top"?1:-1:ve.circular&&Ce.circular?ve.circularLinkType===Ce.circularLinkType&&ve.circularLinkType=="top"?ve.target.column===Ce.target.column?ve.target.y1-Ce.target.y1:Ce.target.column-ve.target.column:ve.circularLinkType===Ce.circularLinkType&&ve.circularLinkType=="bottom"?ve.target.column===Ce.target.column?Ce.target.y1-ve.target.y1:ve.target.column-Ce.target.column:ve.circularLinkType=="top"?-1:1:void 0});var oe=De.y0;ye.forEach(function(ve){ve.y0=oe+ve.width/2,oe+=ve.width}),ye.forEach(function(ve,Ce){if(ve.circularLinkType=="bottom"){for(var ke=Ce+1,Ae=0;ke<le;ke++)Ae+=ye[ke].width;ve.y0=De.y1-Ae-ve.width/2}})})}function se(xe,_e,be){xe.nodes.forEach(function(Le){var De=xe.links.filter(function(oe){return p(oe.target,be)==p(Le,be)}),ye=De.length;ye>1&&De.sort(function(oe,ve){if(!oe.circular&&!ve.circular){if(oe.source.column==ve.source.column||!he(oe,ve))return oe.y0-ve.y0;if(ve.source.column<oe.source.column){var Ce=Q(ve,oe);return oe.y0-Ce}if(oe.source.column<ve.source.column)return Q(oe,ve)-ve.y0}return oe.circular&&!ve.circular?oe.circularLinkType=="top"?-1:1:ve.circular&&!oe.circular?ve.circularLinkType=="top"?1:-1:oe.circular&&ve.circular?oe.circularLinkType===ve.circularLinkType&&oe.circularLinkType=="top"?oe.source.column===ve.source.column?oe.source.y1-ve.source.y1:oe.source.column-ve.source.column:oe.circularLinkType===ve.circularLinkType&&oe.circularLinkType=="bottom"?oe.source.column===ve.source.column?oe.source.y1-ve.source.y1:ve.source.column-oe.source.column:oe.circularLinkType=="top"?-1:1:void 0});var le=Le.y0;De.forEach(function(oe){oe.y1=le+oe.width/2,le+=oe.width}),De.forEach(function(oe,ve){if(oe.circularLinkType=="bottom"){for(var Ce=ve+1,ke=0;Ce<ye;Ce++)ke+=De[Ce].width;oe.y1=Le.y1-ke-oe.width/2}})})}function he(xe,_e){return pe(xe)==pe(_e)}function pe(xe){return xe.y0-xe.y1>0?"up":"down"}function de(xe,_e){return p(xe.source,_e)==p(xe.target,_e)}},26800:function(U,C,e){e.r(C),e.d(C,{sankey:function(){return g},sankeyCenter:function(){return s},sankeyJustify:function(){return f},sankeyLeft:function(){return w},sankeyLinkHorizontal:function(){return p},sankeyRight:function(){return b}});var k=e(84706),A=e(34712);function o(S){return S.target.depth}function w(S){return S.depth}function b(S,T){return T-1-S.height}function f(S,T){return S.sourceLinks.length?S.depth:T-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,k.SY)(S.sourceLinks,o)-1:0}function n(S){return function(){return S}}function i(S,T){return t(S.source,T.source)||S.index-T.index}function r(S,T){return t(S.target,T.target)||S.index-T.index}function t(S,T){return S.y0-T.y0}function a(S){return S.value}function l(S){return(S.y0+S.y1)/2}function u(S){return l(S.source)*S.value}function h(S){return l(S.target)*S.value}function c(S){return S.index}function y(S){return S.nodes}function d(S){return S.links}function v(S,T){var E=S.get(T);if(!E)throw new Error("missing: "+T);return E}function g(){var S=0,T=0,E=1,O=1,P=24,I=8,R=c,H=f,z=y,j=d,Z=32;function F(){var W={nodes:z.apply(null,arguments),links:j.apply(null,arguments)};return function(re){re.nodes.forEach(function(te,Q){te.index=Q,te.sourceLinks=[],te.targetLinks=[]});var ne=(0,A.kH)(re.nodes,R);re.links.forEach(function(te,Q){te.index=Q;var $=te.source,K=te.target;typeof $!="object"&&($=te.source=v(ne,$)),typeof K!="object"&&(K=te.target=v(ne,K)),$.sourceLinks.push(te),K.targetLinks.push(te)})}(W),function(re){re.nodes.forEach(function(ne){ne.value=Math.max((0,k.oh)(ne.sourceLinks,a),(0,k.oh)(ne.targetLinks,a))})}(W),function(re){var ne,te,Q;for(ne=re.nodes,te=[],Q=0;ne.length;++Q,ne=te,te=[])ne.forEach(function(K){K.depth=Q,K.sourceLinks.forEach(function(ae){te.indexOf(ae.target)<0&&te.push(ae.target)})});for(ne=re.nodes,te=[],Q=0;ne.length;++Q,ne=te,te=[])ne.forEach(function(K){K.height=Q,K.targetLinks.forEach(function(ae){te.indexOf(ae.source)<0&&te.push(ae.source)})});var $=(E-S-P)/(Q-1);re.nodes.forEach(function(K){K.x1=(K.x0=S+Math.max(0,Math.min(Q-1,Math.floor(H.call(null,K,Q))))*$)+P})}(W),function(re){var ne=(0,A.UJ)().key(function(ue){return ue.x0}).sortKeys(k.XE).entries(re.nodes).map(function(ue){return ue.values});(function(){var ue=(0,k.kv)(ne,function(pe){return pe.length}),se=.6666666666666666*(O-T)/(ue-1);I>se&&(I=se);var he=(0,k.SY)(ne,function(pe){return(O-T-(pe.length-1)*I)/(0,k.oh)(pe,a)});ne.forEach(function(pe){pe.forEach(function(de,xe){de.y1=(de.y0=xe)+de.value*he})}),re.links.forEach(function(pe){pe.width=pe.value*he})})(),ae();for(var te=1,Q=Z;Q>0;--Q)K(te*=.99),ae(),$(te),ae();function $(ue){ne.forEach(function(se){se.forEach(function(he){if(he.targetLinks.length){var pe=((0,k.oh)(he.targetLinks,u)/(0,k.oh)(he.targetLinks,a)-l(he))*ue;he.y0+=pe,he.y1+=pe}})})}function K(ue){ne.slice().reverse().forEach(function(se){se.forEach(function(he){if(he.sourceLinks.length){var pe=((0,k.oh)(he.sourceLinks,h)/(0,k.oh)(he.sourceLinks,a)-l(he))*ue;he.y0+=pe,he.y1+=pe}})})}function ae(){ne.forEach(function(ue){var se,he,pe,de=T,xe=ue.length;for(ue.sort(t),pe=0;pe<xe;++pe)(he=de-(se=ue[pe]).y0)>0&&(se.y0+=he,se.y1+=he),de=se.y1+I;if((he=de-I-O)>0)for(de=se.y0-=he,se.y1-=he,pe=xe-2;pe>=0;--pe)(he=(se=ue[pe]).y1+I-de)>0&&(se.y0-=he,se.y1-=he),de=se.y0})}}(W),V(W),W}function V(W){W.nodes.forEach(function(re){re.sourceLinks.sort(r),re.targetLinks.sort(i)}),W.nodes.forEach(function(re){var ne=re.y0,te=ne;re.sourceLinks.forEach(function(Q){Q.y0=ne+Q.width/2,ne+=Q.width}),re.targetLinks.forEach(function(Q){Q.y1=te+Q.width/2,te+=Q.width})})}return F.update=function(W){return V(W),W},F.nodeId=function(W){return arguments.length?(R=typeof W=="function"?W:n(W),F):R},F.nodeAlign=function(W){return arguments.length?(H=typeof W=="function"?W:n(W),F):H},F.nodeWidth=function(W){return arguments.length?(P=+W,F):P},F.nodePadding=function(W){return arguments.length?(I=+W,F):I},F.nodes=function(W){return arguments.length?(z=typeof W=="function"?W:n(W),F):z},F.links=function(W){return arguments.length?(j=typeof W=="function"?W:n(W),F):j},F.size=function(W){return arguments.length?(S=T=0,E=+W[0],O=+W[1],F):[E-S,O-T]},F.extent=function(W){return arguments.length?(S=+W[0][0],E=+W[1][0],T=+W[0][1],O=+W[1][1],F):[[S,T],[E,O]]},F.iterations=function(W){return arguments.length?(Z=+W,F):Z},F}var x=e(10132);function m(S){return[S.source.x1,S.y0]}function _(S){return[S.target.x0,S.y1]}function p(){return(0,x.ak)().source(m).target(_)}},33428:function(U,C,e){var k,A;(function(){var o={version:"3.8.2"},w=[].slice,b=function(L){return w.call(L)},f=self.document;function s(L){return L&&(L.ownerDocument||L.document||L).documentElement}function n(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(f)try{b(f.documentElement.childNodes)[0].nodeType}catch{b=function(q){for(var ee=q.length,ie=new Array(ee);ee--;)ie[ee]=q[ee];return ie}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,r=i.setAttribute,t=i.setAttributeNS,a=this.CSSStyleDeclaration.prototype,l=a.setProperty;i.setAttribute=function(q,ee){r.call(this,q,ee+"")},i.setAttributeNS=function(q,ee,ie){t.call(this,q,ee,ie+"")},a.setProperty=function(q,ee,ie){l.call(this,q,ee+"",ie)}}function u(L,q){return L<q?-1:L>q?1:L>=q?0:NaN}function h(L){return L===null?NaN:+L}function c(L){return!isNaN(L)}function y(L){return{left:function(q,ee,ie,fe){for(arguments.length<3&&(ie=0),arguments.length<4&&(fe=q.length);ie<fe;){var we=ie+fe>>>1;L(q[we],ee)<0?ie=we+1:fe=we}return ie},right:function(q,ee,ie,fe){for(arguments.length<3&&(ie=0),arguments.length<4&&(fe=q.length);ie<fe;){var we=ie+fe>>>1;L(q[we],ee)>0?fe=we:ie=we+1}return ie}}}o.ascending=u,o.descending=function(L,q){return q<L?-1:q>L?1:q>=L?0:NaN},o.min=function(L,q){var ee,ie,fe=-1,we=L.length;if(arguments.length===1){for(;++fe<we;)if((ie=L[fe])!=null&&ie>=ie){ee=ie;break}for(;++fe<we;)(ie=L[fe])!=null&&ee>ie&&(ee=ie)}else{for(;++fe<we;)if((ie=q.call(L,L[fe],fe))!=null&&ie>=ie){ee=ie;break}for(;++fe<we;)(ie=q.call(L,L[fe],fe))!=null&&ee>ie&&(ee=ie)}return ee},o.max=function(L,q){var ee,ie,fe=-1,we=L.length;if(arguments.length===1){for(;++fe<we;)if((ie=L[fe])!=null&&ie>=ie){ee=ie;break}for(;++fe<we;)(ie=L[fe])!=null&&ie>ee&&(ee=ie)}else{for(;++fe<we;)if((ie=q.call(L,L[fe],fe))!=null&&ie>=ie){ee=ie;break}for(;++fe<we;)(ie=q.call(L,L[fe],fe))!=null&&ie>ee&&(ee=ie)}return ee},o.extent=function(L,q){var ee,ie,fe,we=-1,Oe=L.length;if(arguments.length===1){for(;++we<Oe;)if((ie=L[we])!=null&&ie>=ie){ee=fe=ie;break}for(;++we<Oe;)(ie=L[we])!=null&&(ee>ie&&(ee=ie),fe<ie&&(fe=ie))}else{for(;++we<Oe;)if((ie=q.call(L,L[we],we))!=null&&ie>=ie){ee=fe=ie;break}for(;++we<Oe;)(ie=q.call(L,L[we],we))!=null&&(ee>ie&&(ee=ie),fe<ie&&(fe=ie))}return[ee,fe]},o.sum=function(L,q){var ee,ie=0,fe=L.length,we=-1;if(arguments.length===1)for(;++we<fe;)c(ee=+L[we])&&(ie+=ee);else for(;++we<fe;)c(ee=+q.call(L,L[we],we))&&(ie+=ee);return ie},o.mean=function(L,q){var ee,ie=0,fe=L.length,we=-1,Oe=fe;if(arguments.length===1)for(;++we<fe;)c(ee=h(L[we]))?ie+=ee:--Oe;else for(;++we<fe;)c(ee=h(q.call(L,L[we],we)))?ie+=ee:--Oe;if(Oe)return ie/Oe},o.quantile=function(L,q){var ee=(L.length-1)*q+1,ie=Math.floor(ee),fe=+L[ie-1],we=ee-ie;return we?fe+we*(L[ie]-fe):fe},o.median=function(L,q){var ee,ie=[],fe=L.length,we=-1;if(arguments.length===1)for(;++we<fe;)c(ee=h(L[we]))&&ie.push(ee);else for(;++we<fe;)c(ee=h(q.call(L,L[we],we)))&&ie.push(ee);if(ie.length)return o.quantile(ie.sort(u),.5)},o.variance=function(L,q){var ee,ie,fe=L.length,we=0,Oe=0,Be=-1,Ge=0;if(arguments.length===1)for(;++Be<fe;)c(ee=h(L[Be]))&&(Oe+=(ie=ee-we)*(ee-(we+=ie/++Ge)));else for(;++Be<fe;)c(ee=h(q.call(L,L[Be],Be)))&&(Oe+=(ie=ee-we)*(ee-(we+=ie/++Ge)));if(Ge>1)return Oe/(Ge-1)},o.deviation=function(){var L=o.variance.apply(this,arguments);return L&&Math.sqrt(L)};var d=y(u);function v(L){return L.length}o.bisectLeft=d.left,o.bisect=o.bisectRight=d.right,o.bisector=function(L){return y(L.length===1?function(q,ee){return u(L(q),ee)}:L)},o.shuffle=function(L,q,ee){(we=arguments.length)<3&&(ee=L.length,we<2&&(q=0));for(var ie,fe,we=ee-q;we;)fe=Math.random()*we--|0,ie=L[we+q],L[we+q]=L[fe+q],L[fe+q]=ie;return L},o.permute=function(L,q){for(var ee=q.length,ie=new Array(ee);ee--;)ie[ee]=L[q[ee]];return ie},o.pairs=function(L){for(var q=0,ee=L.length-1,ie=L[0],fe=new Array(ee<0?0:ee);q<ee;)fe[q]=[ie,ie=L[++q]];return fe},o.transpose=function(L){if(!(fe=L.length))return[];for(var q=-1,ee=o.min(L,v),ie=new Array(ee);++q<ee;)for(var fe,we=-1,Oe=ie[q]=new Array(fe);++we<fe;)Oe[we]=L[we][q];return ie},o.zip=function(){return o.transpose(arguments)},o.keys=function(L){var q=[];for(var ee in L)q.push(ee);return q},o.values=function(L){var q=[];for(var ee in L)q.push(L[ee]);return q},o.entries=function(L){var q=[];for(var ee in L)q.push({key:ee,value:L[ee]});return q},o.merge=function(L){for(var q,ee,ie,fe=L.length,we=-1,Oe=0;++we<fe;)Oe+=L[we].length;for(ee=new Array(Oe);--fe>=0;)for(q=(ie=L[fe]).length;--q>=0;)ee[--Oe]=ie[q];return ee};var g=Math.abs;function x(L,q){for(var ee in q)Object.defineProperty(L.prototype,ee,{value:q[ee],enumerable:!1})}function m(){this._=Object.create(null)}o.range=function(L,q,ee){if(arguments.length<3&&(ee=1,arguments.length<2&&(q=L,L=0)),(q-L)/ee==1/0)throw new Error("infinite range");var ie,fe=[],we=function(Be){for(var Ge=1;Be*Ge%1;)Ge*=10;return Ge}(g(ee)),Oe=-1;if(L*=we,q*=we,(ee*=we)<0)for(;(ie=L+ee*++Oe)>q;)fe.push(ie/we);else for(;(ie=L+ee*++Oe)<q;)fe.push(ie/we);return fe},o.map=function(L,q){var ee=new m;if(L instanceof m)L.forEach(function(Be,Ge){ee.set(Be,Ge)});else if(Array.isArray(L)){var ie,fe=-1,we=L.length;if(arguments.length===1)for(;++fe<we;)ee.set(fe,L[fe]);else for(;++fe<we;)ee.set(q.call(L,ie=L[fe],fe),ie)}else for(var Oe in L)ee.set(Oe,L[Oe]);return ee};var _="__proto__",p="\0";function S(L){return(L+="")===_||L[0]===p?p+L:L}function T(L){return(L+="")[0]===p?L.slice(1):L}function E(L){return S(L)in this._}function O(L){return(L=S(L))in this._&&delete this._[L]}function P(){var L=[];for(var q in this._)L.push(T(q));return L}function I(){var L=0;for(var q in this._)++L;return L}function R(){for(var L in this._)return!1;return!0}function H(){this._=Object.create(null)}function z(L){return L}function j(L,q,ee){return function(){var ie=ee.apply(q,arguments);return ie===q?L:ie}}function Z(L,q){if(q in L)return q;q=q.charAt(0).toUpperCase()+q.slice(1);for(var ee=0,ie=F.length;ee<ie;++ee){var fe=F[ee]+q;if(fe in L)return fe}}x(m,{has:E,get:function(L){return this._[S(L)]},set:function(L,q){return this._[S(L)]=q},remove:O,keys:P,values:function(){var L=[];for(var q in this._)L.push(this._[q]);return L},entries:function(){var L=[];for(var q in this._)L.push({key:T(q),value:this._[q]});return L},size:I,empty:R,forEach:function(L){for(var q in this._)L.call(this,T(q),this._[q])}}),o.nest=function(){var L,q,ee={},ie=[],fe=[];function we(Be,Ge,Ye){if(Ye>=ie.length)return q?q.call(ee,Ge):L?Ge.sort(L):Ge;for(var at,pt,vt,kt,Ot=-1,St=Ge.length,jt=ie[Ye++],It=new m;++Ot<St;)(kt=It.get(at=jt(pt=Ge[Ot])))?kt.push(pt):It.set(at,[pt]);return Be?(pt=Be(),vt=function($t,Zt){pt.set($t,we(Be,Zt,Ye))}):(pt={},vt=function($t,Zt){pt[$t]=we(Be,Zt,Ye)}),It.forEach(vt),pt}function Oe(Be,Ge){if(Ge>=ie.length)return Be;var Ye=[],at=fe[Ge++];return Be.forEach(function(pt,vt){Ye.push({key:pt,values:Oe(vt,Ge)})}),at?Ye.sort(function(pt,vt){return at(pt.key,vt.key)}):Ye}return ee.map=function(Be,Ge){return we(Ge,Be,0)},ee.entries=function(Be){return Oe(we(o.map,Be,0),0)},ee.key=function(Be){return ie.push(Be),ee},ee.sortKeys=function(Be){return fe[ie.length-1]=Be,ee},ee.sortValues=function(Be){return L=Be,ee},ee.rollup=function(Be){return q=Be,ee},ee},o.set=function(L){var q=new H;if(L)for(var ee=0,ie=L.length;ee<ie;++ee)q.add(L[ee]);return q},x(H,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:O,values:P,size:I,empty:R,forEach:function(L){for(var q in this._)L.call(this,T(q))}}),o.behavior={},o.rebind=function(L,q){for(var ee,ie=1,fe=arguments.length;++ie<fe;)L[ee=arguments[ie]]=j(L,q,q[ee]);return L};var F=["webkit","ms","moz","Moz","o","O"];function V(){}function W(){}function re(L){var q=[],ee=new m;function ie(){for(var fe,we=q,Oe=-1,Be=we.length;++Oe<Be;)(fe=we[Oe].on)&&fe.apply(this,arguments);return L}return ie.on=function(fe,we){var Oe,Be=ee.get(fe);return arguments.length<2?Be&&Be.on:(Be&&(Be.on=null,q=q.slice(0,Oe=q.indexOf(Be)).concat(q.slice(Oe+1)),ee.remove(fe)),we&&q.push(ee.set(fe,{on:we})),L)},ie}function ne(){o.event.preventDefault()}function te(){for(var L,q=o.event;L=q.sourceEvent;)q=L;return q}function Q(L){for(var q=new W,ee=0,ie=arguments.length;++ee<ie;)q[arguments[ee]]=re(q);return q.of=function(fe,we){return function(Oe){try{var Be=Oe.sourceEvent=o.event;Oe.target=L,o.event=Oe,q[Oe.type].apply(fe,we)}finally{o.event=Be}}},q}o.dispatch=function(){for(var L=new W,q=-1,ee=arguments.length;++q<ee;)L[arguments[q]]=re(L);return L},W.prototype.on=function(L,q){var ee=L.indexOf("."),ie="";if(ee>=0&&(ie=L.slice(ee+1),L=L.slice(0,ee)),L)return arguments.length<2?this[L].on(ie):this[L].on(ie,q);if(arguments.length===2){if(q==null)for(L in this)this.hasOwnProperty(L)&&this[L].on(ie,null);return this}},o.event=null,o.requote=function(L){return L.replace($,"\\$&")};var $=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,K={}.__proto__?function(L,q){L.__proto__=q}:function(L,q){for(var ee in q)L[ee]=q[ee]};function ae(L){return K(L,pe),L}var ue=function(L,q){return q.querySelector(L)},se=function(L,q){return q.querySelectorAll(L)},he=function(L,q){var ee=L.matches||L[Z(L,"matchesSelector")];return he=function(ie,fe){return ee.call(ie,fe)},he(L,q)};typeof Sizzle=="function"&&(ue=function(L,q){return Sizzle(L,q)[0]||null},se=Sizzle,he=Sizzle.matchesSelector),o.selection=function(){return o.select(f.documentElement)};var pe=o.selection.prototype=[];function de(L){return typeof L=="function"?L:function(){return ue(L,this)}}function xe(L){return typeof L=="function"?L:function(){return se(L,this)}}pe.select=function(L){var q,ee,ie,fe,we=[];L=de(L);for(var Oe=-1,Be=this.length;++Oe<Be;){we.push(q=[]),q.parentNode=(ie=this[Oe]).parentNode;for(var Ge=-1,Ye=ie.length;++Ge<Ye;)(fe=ie[Ge])?(q.push(ee=L.call(fe,fe.__data__,Ge,Oe)),ee&&"__data__"in fe&&(ee.__data__=fe.__data__)):q.push(null)}return ae(we)},pe.selectAll=function(L){var q,ee,ie=[];L=xe(L);for(var fe=-1,we=this.length;++fe<we;)for(var Oe=this[fe],Be=-1,Ge=Oe.length;++Be<Ge;)(ee=Oe[Be])&&(ie.push(q=b(L.call(ee,ee.__data__,Be,fe))),q.parentNode=ee);return ae(ie)};var _e="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:_e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(L,q){return L=o.ns.qualify(L),q==null?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:typeof q=="function"?L.local?function(){var ee=q.apply(this,arguments);ee==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,ee)}:function(){var ee=q.apply(this,arguments);ee==null?this.removeAttribute(L):this.setAttribute(L,ee)}:L.local?function(){this.setAttributeNS(L.space,L.local,q)}:function(){this.setAttribute(L,q)}}function De(L){return L.trim().replace(/\s+/g," ")}function ye(L){return new RegExp("(?:^|\\s+)"+o.requote(L)+"(?:\\s+|$)","g")}function le(L){return(L+"").trim().split(/^|\s+/)}function oe(L,q){var ee=(L=le(L).map(ve)).length;return typeof q=="function"?function(){for(var ie=-1,fe=q.apply(this,arguments);++ie<ee;)L[ie](this,fe)}:function(){for(var ie=-1;++ie<ee;)L[ie](this,q)}}function ve(L){var q=ye(L);return function(ee,ie){if(fe=ee.classList)return ie?fe.add(L):fe.remove(L);var fe=ee.getAttribute("class")||"";ie?(q.lastIndex=0,q.test(fe)||ee.setAttribute("class",De(fe+" "+L))):ee.setAttribute("class",De(fe.replace(q," ")))}}function Ce(L,q,ee){return q==null?function(){this.style.removeProperty(L)}:typeof q=="function"?function(){var ie=q.apply(this,arguments);ie==null?this.style.removeProperty(L):this.style.setProperty(L,ie,ee)}:function(){this.style.setProperty(L,q,ee)}}function ke(L,q){return q==null?function(){delete this[L]}:typeof q=="function"?function(){var ee=q.apply(this,arguments);ee==null?delete this[L]:this[L]=ee}:function(){this[L]=q}}function Ae(L){return typeof L=="function"?L:(L=o.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var q=this.ownerDocument,ee=this.namespaceURI;return ee===_e&&q.documentElement.namespaceURI===_e?q.createElement(L):q.createElementNS(ee,L)}}function Ee(){var L=this.parentNode;L&&L.removeChild(this)}function ze(L){return{__data__:L}}function Fe(L){return function(){return he(this,L)}}function ge(L){return arguments.length||(L=u),function(q,ee){return q&&ee?L(q.__data__,ee.__data__):!q-!ee}}function Te(L,q){for(var ee=0,ie=L.length;ee<ie;ee++)for(var fe,we=L[ee],Oe=0,Be=we.length;Oe<Be;Oe++)(fe=we[Oe])&&q(fe,Oe,ee);return L}function Se(L){return K(L,Re),L}o.ns={prefix:be,qualify:function(L){var q=L.indexOf(":"),ee=L;return q>=0&&(ee=L.slice(0,q))!=="xmlns"&&(L=L.slice(q+1)),be.hasOwnProperty(ee)?{space:be[ee],local:L}:L}},pe.attr=function(L,q){if(arguments.length<2){if(typeof L=="string"){var ee=this.node();return(L=o.ns.qualify(L)).local?ee.getAttributeNS(L.space,L.local):ee.getAttribute(L)}for(q in L)this.each(Le(q,L[q]));return this}return this.each(Le(L,q))},pe.classed=function(L,q){if(arguments.length<2){if(typeof L=="string"){var ee=this.node(),ie=(L=le(L)).length,fe=-1;if(q=ee.classList){for(;++fe<ie;)if(!q.contains(L[fe]))return!1}else for(q=ee.getAttribute("class");++fe<ie;)if(!ye(L[fe]).test(q))return!1;return!0}for(q in L)this.each(oe(q,L[q]));return this}return this.each(oe(L,q))},pe.style=function(L,q,ee){var ie=arguments.length;if(ie<3){if(typeof L!="string"){for(ee in ie<2&&(q=""),L)this.each(Ce(ee,L[ee],q));return this}if(ie<2){var fe=this.node();return n(fe).getComputedStyle(fe,null).getPropertyValue(L)}ee=""}return this.each(Ce(L,q,ee))},pe.property=function(L,q){if(arguments.length<2){if(typeof L=="string")return this.node()[L];for(q in L)this.each(ke(q,L[q]));return this}return this.each(ke(L,q))},pe.text=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.textContent=q??""}:L==null?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},pe.html=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.innerHTML=q??""}:L==null?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},pe.append=function(L){return L=Ae(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},pe.insert=function(L,q){return L=Ae(L),q=de(q),this.select(function(){return this.insertBefore(L.apply(this,arguments),q.apply(this,arguments)||null)})},pe.remove=function(){return this.each(Ee)},pe.data=function(L,q){var ee,ie,fe=-1,we=this.length;if(!arguments.length){for(L=new Array(we=(ee=this[0]).length);++fe<we;)(ie=ee[fe])&&(L[fe]=ie.__data__);return L}function Oe(at,pt){var vt,kt,Ot,St=at.length,jt=pt.length,It=Math.min(St,jt),$t=new Array(jt),Zt=new Array(jt),Ht=new Array(St);if(q){var vn,bn=new m,Ln=new Array(St);for(vt=-1;++vt<St;)(kt=at[vt])&&(bn.has(vn=q.call(kt,kt.__data__,vt))?Ht[vt]=kt:bn.set(vn,kt),Ln[vt]=vn);for(vt=-1;++vt<jt;)(kt=bn.get(vn=q.call(pt,Ot=pt[vt],vt)))?kt!==!0&&($t[vt]=kt,kt.__data__=Ot):Zt[vt]=ze(Ot),bn.set(vn,!0);for(vt=-1;++vt<St;)vt in Ln&&bn.get(Ln[vt])!==!0&&(Ht[vt]=at[vt])}else{for(vt=-1;++vt<It;)kt=at[vt],Ot=pt[vt],kt?(kt.__data__=Ot,$t[vt]=kt):Zt[vt]=ze(Ot);for(;vt<jt;++vt)Zt[vt]=ze(pt[vt]);for(;vt<St;++vt)Ht[vt]=at[vt]}Zt.update=$t,Zt.parentNode=$t.parentNode=Ht.parentNode=at.parentNode,Be.push(Zt),Ge.push($t),Ye.push(Ht)}var Be=Se([]),Ge=ae([]),Ye=ae([]);if(typeof L=="function")for(;++fe<we;)Oe(ee=this[fe],L.call(ee,ee.parentNode.__data__,fe));else for(;++fe<we;)Oe(ee=this[fe],L);return Ge.enter=function(){return Be},Ge.exit=function(){return Ye},Ge},pe.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},pe.filter=function(L){var q,ee,ie,fe=[];typeof L!="function"&&(L=Fe(L));for(var we=0,Oe=this.length;we<Oe;we++){fe.push(q=[]),q.parentNode=(ee=this[we]).parentNode;for(var Be=0,Ge=ee.length;Be<Ge;Be++)(ie=ee[Be])&&L.call(ie,ie.__data__,Be,we)&&q.push(ie)}return ae(fe)},pe.order=function(){for(var L=-1,q=this.length;++L<q;)for(var ee,ie=this[L],fe=ie.length-1,we=ie[fe];--fe>=0;)(ee=ie[fe])&&(we&&we!==ee.nextSibling&&we.parentNode.insertBefore(ee,we),we=ee);return this},pe.sort=function(L){L=ge.apply(this,arguments);for(var q=-1,ee=this.length;++q<ee;)this[q].sort(L);return this.order()},pe.each=function(L){return Te(this,function(q,ee,ie){L.call(q,q.__data__,ee,ie)})},pe.call=function(L){var q=b(arguments);return L.apply(q[0]=this,q),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var L=0,q=this.length;L<q;L++)for(var ee=this[L],ie=0,fe=ee.length;ie<fe;ie++){var we=ee[ie];if(we)return we}return null},pe.size=function(){var L=0;return Te(this,function(){++L}),L};var Re=[];function Pe(L,q,ee){var ie="__on"+L,fe=L.indexOf("."),we=We;fe>0&&(L=L.slice(0,fe));var Oe=Ve.get(L);function Be(){var Ge=this[ie];Ge&&(this.removeEventListener(L,Ge,Ge.$),delete this[ie])}return Oe&&(L=Oe,we=Qe),fe?q?function(){var Ge=we(q,b(arguments));Be.call(this),this.addEventListener(L,this[ie]=Ge,Ge.$=ee),Ge._=q}:Be:q?V:function(){var Ge,Ye=new RegExp("^__on([^.]+)"+o.requote(L)+"$");for(var at in this)if(Ge=at.match(Ye)){var pt=this[at];this.removeEventListener(Ge[1],pt,pt.$),delete this[at]}}}o.selection.enter=Se,o.selection.enter.prototype=Re,Re.append=pe.append,Re.empty=pe.empty,Re.node=pe.node,Re.call=pe.call,Re.size=pe.size,Re.select=function(L){for(var q,ee,ie,fe,we,Oe=[],Be=-1,Ge=this.length;++Be<Ge;){ie=(fe=this[Be]).update,Oe.push(q=[]),q.parentNode=fe.parentNode;for(var Ye=-1,at=fe.length;++Ye<at;)(we=fe[Ye])?(q.push(ie[Ye]=ee=L.call(fe.parentNode,we.__data__,Ye,Be)),ee.__data__=we.__data__):q.push(null)}return ae(Oe)},Re.insert=function(L,q){var ee,ie,fe;return arguments.length<2&&(ee=this,q=function(we,Oe,Be){var Ge,Ye=ee[Be].update,at=Ye.length;for(Be!=fe&&(fe=Be,ie=0),Oe>=ie&&(ie=Oe+1);!(Ge=Ye[ie])&&++ie<at;);return Ge}),pe.insert.call(this,L,q)},o.select=function(L){var q;return typeof L=="string"?(q=[ue(L,f)]).parentNode=f.documentElement:(q=[L]).parentNode=s(L),ae([q])},o.selectAll=function(L){var q;return typeof L=="string"?(q=b(se(L,f))).parentNode=f.documentElement:(q=b(L)).parentNode=null,ae([q])},pe.on=function(L,q,ee){var ie=arguments.length;if(ie<3){if(typeof L!="string"){for(ee in ie<2&&(q=!1),L)this.each(Pe(ee,L[ee],q));return this}if(ie<2)return(ie=this.node()["__on"+L])&&ie._;ee=!1}return this.each(Pe(L,q,ee))};var Ve=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function We(L,q){return function(ee){var ie=o.event;o.event=ee,q[0]=this.__data__;try{L.apply(this,q)}finally{o.event=ie}}}function Qe(L,q){var ee=We(L,q);return function(ie){var fe=this,we=ie.relatedTarget;we&&(we===fe||8&we.compareDocumentPosition(fe))||ee.call(fe,ie)}}f&&Ve.forEach(function(L){"on"+L in f&&Ve.remove(L)});var lt,ut=0;function xt(L){var q=".dragsuppress-"+ ++ut,ee="click"+q,ie=o.select(n(L)).on("touchmove"+q,ne).on("dragstart"+q,ne).on("selectstart"+q,ne);if(lt==null&&(lt=!("onselectstart"in L)&&Z(L.style,"userSelect")),lt){var fe=s(L).style,we=fe[lt];fe[lt]="none"}return function(Oe){if(ie.on(q,null),lt&&(fe[lt]=we),Oe){var Be=function(){ie.on(ee,null)};ie.on(ee,function(){ne(),Be()},!0),setTimeout(Be,0)}}}o.mouse=function(L){return mt(L,te())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function mt(L,q){q.changedTouches&&(q=q.changedTouches[0]);var ee=L.ownerSVGElement||L;if(ee.createSVGPoint){var ie=ee.createSVGPoint();if(_t<0){var fe=n(L);if(fe.scrollX||fe.scrollY){var we=(ee=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(we.f||we.e),ee.remove()}}return _t?(ie.x=q.pageX,ie.y=q.pageY):(ie.x=q.clientX,ie.y=q.clientY),[(ie=ie.matrixTransform(L.getScreenCTM().inverse())).x,ie.y]}var Oe=L.getBoundingClientRect();return[q.clientX-Oe.left-L.clientLeft,q.clientY-Oe.top-L.clientTop]}function it(){return o.event.changedTouches[0].identifier}o.touch=function(L,q,ee){if(arguments.length<3&&(ee=q,q=te().changedTouches),q){for(var ie,fe=0,we=q.length;fe<we;++fe)if((ie=q[fe]).identifier===ee)return mt(L,ie)}},o.behavior.drag=function(){var L=Q(fe,"drag","dragstart","dragend"),q=null,ee=we(V,o.mouse,n,"mousemove","mouseup"),ie=we(it,o.touch,z,"touchmove","touchend");function fe(){this.on("mousedown.drag",ee).on("touchstart.drag",ie)}function we(Oe,Be,Ge,Ye,at){return function(){var pt,vt=this,kt=o.event.target.correspondingElement||o.event.target,Ot=vt.parentNode,St=L.of(vt,arguments),jt=0,It=Oe(),$t=".drag"+(It==null?"":"-"+It),Zt=o.select(Ge(kt)).on(Ye+$t,function(){var bn,Ln,Rn=Be(Ot,It);Rn&&(bn=Rn[0]-vn[0],Ln=Rn[1]-vn[1],jt|=bn|Ln,vn=Rn,St({type:"drag",x:Rn[0]+pt[0],y:Rn[1]+pt[1],dx:bn,dy:Ln}))}).on(at+$t,function(){Be(Ot,It)&&(Zt.on(Ye+$t,null).on(at+$t,null),Ht(jt),St({type:"dragend"}))}),Ht=xt(kt),vn=Be(Ot,It);pt=q?[(pt=q.apply(vt,arguments)).x-vn[0],pt.y-vn[1]]:[0,0],St({type:"dragstart"})}}return fe.origin=function(Oe){return arguments.length?(q=Oe,fe):q},o.rebind(fe,L,"on")},o.touches=function(L,q){return arguments.length<2&&(q=te().touches),q?b(q).map(function(ee){var ie=mt(L,ee);return ie.identifier=ee.identifier,ie}):[]};var nt=1e-6,Et=nt*nt,Rt=Math.PI,Ft=2*Rt,Pt=Ft-nt,Ze=Rt/2,$e=Rt/180,He=180/Rt;function Je(L){return L>1?Ze:L<-1?-Ze:Math.asin(L)}function ft(L){return((L=Math.exp(L))+1/L)/2}var ot=Math.SQRT2;o.interpolateZoom=function(L,q){var ee,ie,fe=L[0],we=L[1],Oe=L[2],Be=q[0],Ge=q[1],Ye=q[2],at=Be-fe,pt=Ge-we,vt=at*at+pt*pt;if(vt<Et)ie=Math.log(Ye/Oe)/ot,ee=function($t){return[fe+$t*at,we+$t*pt,Oe*Math.exp(ot*$t*ie)]};else{var kt=Math.sqrt(vt),Ot=(Ye*Ye-Oe*Oe+4*vt)/(2*Oe*2*kt),St=(Ye*Ye-Oe*Oe-4*vt)/(2*Ye*2*kt),jt=Math.log(Math.sqrt(Ot*Ot+1)-Ot),It=Math.log(Math.sqrt(St*St+1)-St);ie=(It-jt)/ot,ee=function($t){var Zt,Ht=$t*ie,vn=ft(jt),bn=Oe/(2*kt)*(vn*(Zt=ot*Ht+jt,((Zt=Math.exp(2*Zt))-1)/(Zt+1))-function(Ln){return((Ln=Math.exp(Ln))-1/Ln)/2}(jt));return[fe+bn*at,we+bn*pt,Oe*vn/ft(ot*Ht+jt)]}}return ee.duration=1e3*ie,ee},o.behavior.zoom=function(){var L,q,ee,ie,fe,we,Oe,Be,Ge,Ye={x:0,y:0,k:1},at=[960,500],pt=st,vt=250,kt=0,Ot="mousedown.zoom",St="mousemove.zoom",jt="mouseup.zoom",It="touchstart.zoom",$t=Q(Zt,"zoomstart","zoom","zoomend");function Zt(nr){nr.on(Ot,Kn).on(Ue+".zoom",wr).on("dblclick.zoom",Or).on(It,fr)}function Ht(nr){return[(nr[0]-Ye.x)/Ye.k,(nr[1]-Ye.y)/Ye.k]}function vn(nr){Ye.k=Math.max(pt[0],Math.min(pt[1],nr))}function bn(nr,cr){cr=function(Sr){return[Sr[0]*Ye.k+Ye.x,Sr[1]*Ye.k+Ye.y]}(cr),Ye.x+=nr[0]-cr[0],Ye.y+=nr[1]-cr[1]}function Ln(nr,cr,Sr,pr){nr.__chart__={x:Ye.x,y:Ye.y,k:Ye.k},vn(Math.pow(2,pr)),bn(q=cr,Sr),nr=o.select(nr),vt>0&&(nr=nr.transition().duration(vt)),nr.call(Zt.event)}function Rn(){Oe&&Oe.domain(we.range().map(function(nr){return(nr-Ye.x)/Ye.k}).map(we.invert)),Ge&&Ge.domain(Be.range().map(function(nr){return(nr-Ye.y)/Ye.k}).map(Be.invert))}function Gn(nr){kt++||nr({type:"zoomstart"})}function or(nr){Rn(),nr({type:"zoom",scale:Ye.k,translate:[Ye.x,Ye.y]})}function hr(nr){--kt||(nr({type:"zoomend"}),q=null)}function Kn(){var nr=this,cr=$t.of(nr,arguments),Sr=0,pr=o.select(n(nr)).on(St,function(){Sr=1,bn(o.mouse(nr),Cr),or(cr)}).on(jt,function(){pr.on(St,null).on(jt,null),Dr(Sr),hr(cr)}),Cr=Ht(o.mouse(nr)),Dr=xt(nr);Xa.call(nr),Gn(cr)}function fr(){var nr,cr=this,Sr=$t.of(cr,arguments),pr={},Cr=0,Dr=".zoom-"+o.event.changedTouches[0].identifier,Gr="touchmove"+Dr,Wr="touchend"+Dr,Xr=[],Qr=o.select(cr),wi=xt(cr);function Ni(){var Ei=o.touches(cr);return nr=Ye.k,Ei.forEach(function(ti){ti.identifier in pr&&(pr[ti.identifier]=Ht(ti))}),Ei}function Ma(){var Ei=o.event.target;o.select(Ei).on(Gr,ea).on(Wr,va),Xr.push(Ei);for(var ti=o.event.changedTouches,Ii=0,di=ti.length;Ii<di;++Ii)pr[ti[Ii].identifier]=null;var ii=Ni(),zi=Date.now();if(ii.length===1){if(zi-fe<500){var ji=ii[0];Ln(cr,ji,pr[ji.identifier],Math.floor(Math.log(Ye.k)/Math.LN2)+1),ne()}fe=zi}else if(ii.length>1){ji=ii[0];var Xi=ii[1],Tl=ji[0]-Xi[0],kl=ji[1]-Xi[1];Cr=Tl*Tl+kl*kl}}function ea(){var Ei,ti,Ii,di,ii=o.touches(cr);Xa.call(cr);for(var zi=0,ji=ii.length;zi<ji;++zi,di=null)if(Ii=ii[zi],di=pr[Ii.identifier]){if(ti)break;Ei=Ii,ti=di}if(di){var Xi=(Xi=Ii[0]-Ei[0])*Xi+(Xi=Ii[1]-Ei[1])*Xi,Tl=Cr&&Math.sqrt(Xi/Cr);Ei=[(Ei[0]+Ii[0])/2,(Ei[1]+Ii[1])/2],ti=[(ti[0]+di[0])/2,(ti[1]+di[1])/2],vn(Tl*nr)}fe=null,bn(Ei,ti),or(Sr)}function va(){if(o.event.touches.length){for(var Ei=o.event.changedTouches,ti=0,Ii=Ei.length;ti<Ii;++ti)delete pr[Ei[ti].identifier];for(var di in pr)return void Ni()}o.selectAll(Xr).on(Dr,null),Qr.on(Ot,Kn).on(It,fr),wi(),hr(Sr)}Ma(),Gn(Sr),Qr.on(Ot,null).on(It,Ma)}function wr(){var nr=$t.of(this,arguments);ie?clearTimeout(ie):(Xa.call(this),L=Ht(q=ee||o.mouse(this)),Gn(nr)),ie=setTimeout(function(){ie=null,hr(nr)},50),ne(),vn(Math.pow(2,.002*je())*Ye.k),bn(q,L),or(nr)}function Or(){var nr=o.mouse(this),cr=Math.log(Ye.k)/Math.LN2;Ln(this,nr,Ht(nr),o.event.shiftKey?Math.ceil(cr)-1:Math.floor(cr)+1)}return Ue||(Ue="onwheel"in f?(je=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(je=function(){return o.event.wheelDelta},"mousewheel"):(je=function(){return-o.event.detail},"MozMousePixelScroll")),Zt.event=function(nr){nr.each(function(){var cr=$t.of(this,arguments),Sr=Ye;qi?o.select(this).transition().each("start.zoom",function(){Ye=this.__chart__||{x:0,y:0,k:1},Gn(cr)}).tween("zoom:zoom",function(){var pr=at[0],Cr=at[1],Dr=q?q[0]:pr/2,Gr=q?q[1]:Cr/2,Wr=o.interpolateZoom([(Dr-Ye.x)/Ye.k,(Gr-Ye.y)/Ye.k,pr/Ye.k],[(Dr-Sr.x)/Sr.k,(Gr-Sr.y)/Sr.k,pr/Sr.k]);return function(Xr){var Qr=Wr(Xr),wi=pr/Qr[2];this.__chart__=Ye={x:Dr-Qr[0]*wi,y:Gr-Qr[1]*wi,k:wi},or(cr)}}).each("interrupt.zoom",function(){hr(cr)}).each("end.zoom",function(){hr(cr)}):(this.__chart__=Ye,Gn(cr),or(cr),hr(cr))})},Zt.translate=function(nr){return arguments.length?(Ye={x:+nr[0],y:+nr[1],k:Ye.k},Rn(),Zt):[Ye.x,Ye.y]},Zt.scale=function(nr){return arguments.length?(Ye={x:Ye.x,y:Ye.y,k:null},vn(+nr),Rn(),Zt):Ye.k},Zt.scaleExtent=function(nr){return arguments.length?(pt=nr==null?st:[+nr[0],+nr[1]],Zt):pt},Zt.center=function(nr){return arguments.length?(ee=nr&&[+nr[0],+nr[1]],Zt):ee},Zt.size=function(nr){return arguments.length?(at=nr&&[+nr[0],+nr[1]],Zt):at},Zt.duration=function(nr){return arguments.length?(vt=+nr,Zt):vt},Zt.x=function(nr){return arguments.length?(Oe=nr,we=nr.copy(),Ye={x:0,y:0,k:1},Zt):Oe},Zt.y=function(nr){return arguments.length?(Ge=nr,Be=nr.copy(),Ye={x:0,y:0,k:1},Zt):Ge},o.rebind(Zt,$t,"on")};var je,Ue,st=[0,1/0];function Ke(){}function gt(L,q,ee){return this instanceof gt?(this.h=+L,this.s=+q,void(this.l=+ee)):arguments.length<2?L instanceof gt?new gt(L.h,L.s,L.l):pn(""+L,wn,gt):new gt(L,q,ee)}o.color=Ke,Ke.prototype.toString=function(){return this.rgb()+""},o.hsl=gt;var yt=gt.prototype=new Ke;function bt(L,q,ee){var ie,fe;function we(Oe){return Math.round(255*function(Be){return Be>360?Be-=360:Be<0&&(Be+=360),Be<60?ie+(fe-ie)*Be/60:Be<180?fe:Be<240?ie+(fe-ie)*(240-Be)/60:ie}(Oe))}return L=isNaN(L)?0:(L%=360)<0?L+360:L,q=isNaN(q)||q<0?0:q>1?1:q,ie=2*(ee=ee<0?0:ee>1?1:ee)-(fe=ee<=.5?ee*(1+q):ee+q-ee*q),new An(we(L+120),we(L),we(L-120))}function dt(L,q,ee){return this instanceof dt?(this.h=+L,this.c=+q,void(this.l=+ee)):arguments.length<2?L instanceof dt?new dt(L.h,L.c,L.l):function(ie,fe,we){return ie>0?new dt(Math.atan2(we,fe)*He,Math.sqrt(fe*fe+we*we),ie):new dt(NaN,NaN,ie)}(L instanceof Ct?L.l:(L=kn((L=o.rgb(L)).r,L.g,L.b)).l,L.a,L.b):new dt(L,q,ee)}yt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new gt(this.h,this.s,this.l/L)},yt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new gt(this.h,this.s,L*this.l)},yt.rgb=function(){return bt(this.h,this.s,this.l)},o.hcl=dt;var Lt=dt.prototype=new Ke;function wt(L,q,ee){return isNaN(L)&&(L=0),isNaN(q)&&(q=0),new Ct(ee,Math.cos(L*=$e)*q,Math.sin(L)*q)}function Ct(L,q,ee){return this instanceof Ct?(this.l=+L,this.a=+q,void(this.b=+ee)):arguments.length<2?L instanceof Ct?new Ct(L.l,L.a,L.b):L instanceof dt?wt(L.h,L.c,L.l):kn((L=An(L)).r,L.g,L.b):new Ct(L,q,ee)}Lt.brighter=function(L){return new dt(this.h,this.c,Math.min(100,this.l+zt*(arguments.length?L:1)))},Lt.darker=function(L){return new dt(this.h,this.c,Math.max(0,this.l-zt*(arguments.length?L:1)))},Lt.rgb=function(){return wt(this.h,this.c,this.l).rgb()},o.lab=Ct;var zt=18,Dt=.95047,Nt=1,Kt=1.08883,un=Ct.prototype=new Ke;function qt(L,q,ee){var ie=(L+16)/116,fe=ie+q/500,we=ie-ee/200;return new An(zn(3.2404542*(fe=Jt(fe)*Dt)-1.5371385*(ie=Jt(ie)*Nt)-.4985314*(we=Jt(we)*Kt)),zn(-.969266*fe+1.8760108*ie+.041556*we),zn(.0556434*fe-.2040259*ie+1.0572252*we))}function Jt(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function Ut(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function zn(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function An(L,q,ee){return this instanceof An?(this.r=~~L,this.g=~~q,void(this.b=~~ee)):arguments.length<2?L instanceof An?new An(L.r,L.g,L.b):pn(""+L,An,bt):new An(L,q,ee)}function mn(L){return new An(L>>16,L>>8&255,255&L)}function tn(L){return mn(L)+""}un.brighter=function(L){return new Ct(Math.min(100,this.l+zt*(arguments.length?L:1)),this.a,this.b)},un.darker=function(L){return new Ct(Math.max(0,this.l-zt*(arguments.length?L:1)),this.a,this.b)},un.rgb=function(){return qt(this.l,this.a,this.b)},o.rgb=An;var fn=An.prototype=new Ke;function rn(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function pn(L,q,ee){var ie,fe,we,Oe=0,Be=0,Ge=0;if(ie=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(fe=ie[2].split(","),ie[1]){case"hsl":return ee(parseFloat(fe[0]),parseFloat(fe[1])/100,parseFloat(fe[2])/100);case"rgb":return q(On(fe[0]),On(fe[1]),On(fe[2]))}return(we=En.get(L))?q(we.r,we.g,we.b):(L==null||L.charAt(0)!=="#"||isNaN(we=parseInt(L.slice(1),16))||(L.length===4?(Oe=(3840&we)>>4,Oe|=Oe>>4,Be=240&we,Be|=Be>>4,Ge=15&we,Ge|=Ge<<4):L.length===7&&(Oe=(16711680&we)>>16,Be=(65280&we)>>8,Ge=255&we)),q(Oe,Be,Ge))}function wn(L,q,ee){var ie,fe,we=Math.min(L/=255,q/=255,ee/=255),Oe=Math.max(L,q,ee),Be=Oe-we,Ge=(Oe+we)/2;return Be?(fe=Ge<.5?Be/(Oe+we):Be/(2-Oe-we),ie=L==Oe?(q-ee)/Be+(q<ee?6:0):q==Oe?(ee-L)/Be+2:(L-q)/Be+4,ie*=60):(ie=NaN,fe=Ge>0&&Ge<1?0:ie),new gt(ie,fe,Ge)}function kn(L,q,ee){var ie=Ut((.4124564*(L=Pn(L))+.3575761*(q=Pn(q))+.1804375*(ee=Pn(ee)))/Dt),fe=Ut((.2126729*L+.7151522*q+.072175*ee)/Nt);return Ct(116*fe-16,500*(ie-fe),200*(fe-Ut((.0193339*L+.119192*q+.9503041*ee)/Kt)))}function Pn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function On(L){var q=parseFloat(L);return L.charAt(L.length-1)==="%"?Math.round(2.55*q):q}fn.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var q=this.r,ee=this.g,ie=this.b,fe=30;return q||ee||ie?(q&&q<fe&&(q=fe),ee&&ee<fe&&(ee=fe),ie&&ie<fe&&(ie=fe),new An(Math.min(255,q/L),Math.min(255,ee/L),Math.min(255,ie/L))):new An(fe,fe,fe)},fn.darker=function(L){return new An((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},fn.hsl=function(){return wn(this.r,this.g,this.b)},fn.toString=function(){return"#"+rn(this.r)+rn(this.g)+rn(this.b)};var En=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Vn(L){return typeof L=="function"?L:function(){return L}}function Fn(L){return function(q,ee,ie){return arguments.length===2&&typeof ee=="function"&&(ie=ee,ee=null),Wn(q,ee,L,ie)}}function Wn(L,q,ee,ie){var fe={},we=o.dispatch("beforesend","progress","load","error"),Oe={},Be=new XMLHttpRequest,Ge=null;function Ye(){var at,pt=Be.status;if(!pt&&function(vt){var kt=vt.responseType;return kt&&kt!=="text"?vt.response:vt.responseText}(Be)||pt>=200&&pt<300||pt===304){try{at=ee.call(fe,Be)}catch(vt){return void we.error.call(fe,vt)}we.load.call(fe,at)}else we.error.call(fe,Be)}return self.XDomainRequest&&!("withCredentials"in Be)&&/^(http(s)?:)?\/\//.test(L)&&(Be=new XDomainRequest),"onload"in Be?Be.onload=Be.onerror=Ye:Be.onreadystatechange=function(){Be.readyState>3&&Ye()},Be.onprogress=function(at){var pt=o.event;o.event=at;try{we.progress.call(fe,Be)}finally{o.event=pt}},fe.header=function(at,pt){return at=(at+"").toLowerCase(),arguments.length<2?Oe[at]:(pt==null?delete Oe[at]:Oe[at]=pt+"",fe)},fe.mimeType=function(at){return arguments.length?(q=at==null?null:at+"",fe):q},fe.responseType=function(at){return arguments.length?(Ge=at,fe):Ge},fe.response=function(at){return ee=at,fe},["get","post"].forEach(function(at){fe[at]=function(){return fe.send.apply(fe,[at].concat(b(arguments)))}}),fe.send=function(at,pt,vt){if(arguments.length===2&&typeof pt=="function"&&(vt=pt,pt=null),Be.open(at,L,!0),q==null||"accept"in Oe||(Oe.accept=q+",*/*"),Be.setRequestHeader)for(var kt in Oe)Be.setRequestHeader(kt,Oe[kt]);return q!=null&&Be.overrideMimeType&&Be.overrideMimeType(q),Ge!=null&&(Be.responseType=Ge),vt!=null&&fe.on("error",vt).on("load",function(Ot){vt(null,Ot)}),we.beforesend.call(fe,Be),Be.send(pt??null),fe},fe.abort=function(){return Be.abort(),fe},o.rebind(fe,we,"on"),ie==null?fe:fe.get(function(at){return at.length===1?function(pt,vt){at(pt==null?vt:null)}:at}(ie))}En.forEach(function(L,q){En.set(L,mn(q))}),o.functor=Vn,o.xhr=Fn(z),o.dsv=function(L,q){var ee=new RegExp('["'+L+`
]`),ie=L.charCodeAt(0);function fe(Ye,at,pt){arguments.length<3&&(pt=at,at=null);var vt=Wn(Ye,q,at==null?we:Oe(at),pt);return vt.row=function(kt){return arguments.length?vt.response((at=kt)==null?we:Oe(kt)):at},vt}function we(Ye){return fe.parse(Ye.responseText)}function Oe(Ye){return function(at){return fe.parse(at.responseText,Ye)}}function Be(Ye){return Ye.map(Ge).join(L)}function Ge(Ye){return ee.test(Ye)?'"'+Ye.replace(/\"/g,'""')+'"':Ye}return fe.parse=function(Ye,at){var pt;return fe.parseRows(Ye,function(vt,kt){if(pt)return pt(vt,kt-1);var Ot=function(St){for(var jt={},It=vt.length,$t=0;$t<It;++$t)jt[vt[$t]]=St[$t];return jt};pt=at?function(St,jt){return at(Ot(St),jt)}:Ot})},fe.parseRows=function(Ye,at){var pt,vt,kt={},Ot={},St=[],jt=Ye.length,It=0,$t=0;function Zt(){if(It>=jt)return Ot;if(vt)return vt=!1,kt;var vn=It;if(Ye.charCodeAt(vn)===34){for(var bn=vn;bn++<jt;)if(Ye.charCodeAt(bn)===34){if(Ye.charCodeAt(bn+1)!==34)break;++bn}return It=bn+2,(Ln=Ye.charCodeAt(bn+1))===13?(vt=!0,Ye.charCodeAt(bn+2)===10&&++It):Ln===10&&(vt=!0),Ye.slice(vn+1,bn).replace(/""/g,'"')}for(;It<jt;){var Ln,Rn=1;if((Ln=Ye.charCodeAt(It++))===10)vt=!0;else if(Ln===13)vt=!0,Ye.charCodeAt(It)===10&&(++It,++Rn);else if(Ln!==ie)continue;return Ye.slice(vn,It-Rn)}return Ye.slice(vn)}for(;(pt=Zt())!==Ot;){for(var Ht=[];pt!==kt&&pt!==Ot;)Ht.push(pt),pt=Zt();at&&(Ht=at(Ht,$t++))==null||St.push(Ht)}return St},fe.format=function(Ye){if(Array.isArray(Ye[0]))return fe.formatRows(Ye);var at=new H,pt=[];return Ye.forEach(function(vt){for(var kt in vt)at.has(kt)||pt.push(at.add(kt))}),[pt.map(Ge).join(L)].concat(Ye.map(function(vt){return pt.map(function(kt){return Ge(vt[kt])}).join(L)})).join(`
`)},fe.formatRows=function(Ye){return Ye.map(Be).join(`
`)},fe},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var rr,ir,Jn,dr,nn=this[Z(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function an(L,q,ee){var ie=arguments.length;ie<2&&(q=0),ie<3&&(ee=Date.now());var fe={c:L,t:ee+q,n:null};return ir?ir.n=fe:rr=fe,ir=fe,Jn||(dr=clearTimeout(dr),Jn=1,nn(In)),fe}function In(){var L=yn(),q=Dn()-L;q>24?(isFinite(q)&&(clearTimeout(dr),dr=setTimeout(In,q)),Jn=0):(Jn=1,nn(In))}function yn(){for(var L=Date.now(),q=rr;q;)L>=q.t&&q.c(L-q.t)&&(q.c=null),q=q.n;return L}function Dn(){for(var L,q=rr,ee=1/0;q;)q.c?(q.t<ee&&(ee=q.t),q=(L=q).n):q=L?L.n=q.n:rr=q.n;return ir=L,ee}function Zn(L){return L[0]}function Hn(L){return L[1]}function Qn(L){for(var q,ee,ie,fe=L.length,we=[0,1],Oe=2,Be=2;Be<fe;Be++){for(;Oe>1&&(q=L[we[Oe-2]],ee=L[we[Oe-1]],ie=L[Be],(ee[0]-q[0])*(ie[1]-q[1])-(ee[1]-q[1])*(ie[0]-q[0])<=0);)--Oe;we[Oe++]=Be}return we.slice(0,Oe)}function mr(L,q){return L[0]-q[0]||L[1]-q[1]}o.timer=function(){an.apply(this,arguments)},o.timer.flush=function(){yn(),Dn()},o.round=function(L,q){return q?Math.round(L*(q=Math.pow(10,q)))/q:Math.round(L)},o.geom={},o.geom.hull=function(L){var q=Zn,ee=Hn;if(arguments.length)return ie(L);function ie(fe){if(fe.length<3)return[];var we,Oe=Vn(q),Be=Vn(ee),Ge=fe.length,Ye=[],at=[];for(we=0;we<Ge;we++)Ye.push([+Oe.call(this,fe[we],we),+Be.call(this,fe[we],we),we]);for(Ye.sort(mr),we=0;we<Ge;we++)at.push([Ye[we][0],-Ye[we][1]]);var pt=Qn(Ye),vt=Qn(at),kt=vt[0]===pt[0],Ot=vt[vt.length-1]===pt[pt.length-1],St=[];for(we=pt.length-1;we>=0;--we)St.push(fe[Ye[pt[we]][2]]);for(we=+kt;we<vt.length-Ot;++we)St.push(fe[Ye[vt[we]][2]]);return St}return ie.x=function(fe){return arguments.length?(q=fe,ie):q},ie.y=function(fe){return arguments.length?(ee=fe,ie):ee},ie},o.geom.polygon=function(L){return K(L,Qt),L};var Qt=o.geom.polygon.prototype=[];function xn(L,q,ee){return(ee[0]-q[0])*(L[1]-q[1])<(ee[1]-q[1])*(L[0]-q[0])}function At(L,q,ee,ie){var fe=L[0],we=ee[0],Oe=q[0]-fe,Be=ie[0]-we,Ge=L[1],Ye=ee[1],at=q[1]-Ge,pt=ie[1]-Ye,vt=(Be*(Ge-Ye)-pt*(fe-we))/(pt*Oe-Be*at);return[fe+vt*Oe,Ge+vt*at]}function Wt(L){var q=L[0],ee=L[L.length-1];return!(q[0]-ee[0]||q[1]-ee[1])}Qt.area=function(){for(var L,q=-1,ee=this.length,ie=this[ee-1],fe=0;++q<ee;)L=ie,ie=this[q],fe+=L[1]*ie[0]-L[0]*ie[1];return .5*fe},Qt.centroid=function(L){var q,ee,ie=-1,fe=this.length,we=0,Oe=0,Be=this[fe-1];for(arguments.length||(L=-1/(6*this.area()));++ie<fe;)q=Be,Be=this[ie],ee=q[0]*Be[1]-Be[0]*q[1],we+=(q[0]+Be[0])*ee,Oe+=(q[1]+Be[1])*ee;return[we*L,Oe*L]},Qt.clip=function(L){for(var q,ee,ie,fe,we,Oe,Be=Wt(L),Ge=-1,Ye=this.length-Wt(this),at=this[Ye-1];++Ge<Ye;){for(q=L.slice(),L.length=0,fe=this[Ge],we=q[(ie=q.length-Be)-1],ee=-1;++ee<ie;)xn(Oe=q[ee],at,fe)?(xn(we,at,fe)||L.push(At(we,Oe,at,fe)),L.push(Oe)):xn(we,at,fe)&&L.push(At(we,Oe,at,fe)),we=Oe;Be&&L.push(L[0]),at=fe}return L};var en,dn,gn,_n,on,Yt=[],Xt=[];function sn(){gi(this),this.edge=this.site=this.circle=null}function hn(L){var q=Yt.pop()||new sn;return q.site=L,q}function Sn(L){gr(L),gn.remove(L),Yt.push(L),gi(L)}function Cn(L){var q=L.circle,ee=q.x,ie=q.cy,fe={x:ee,y:ie},we=L.P,Oe=L.N,Be=[L];Sn(L);for(var Ge=we;Ge.circle&&g(ee-Ge.circle.x)<nt&&g(ie-Ge.circle.cy)<nt;)we=Ge.P,Be.unshift(Ge),Sn(Ge),Ge=we;Be.unshift(Ge),gr(Ge);for(var Ye=Oe;Ye.circle&&g(ee-Ye.circle.x)<nt&&g(ie-Ye.circle.cy)<nt;)Oe=Ye.N,Be.push(Ye),Sn(Ye),Ye=Oe;Be.push(Ye),gr(Ye);var at,pt=Be.length;for(at=1;at<pt;++at)Ye=Be[at],Ge=Be[at-1],_r(Ye.edge,Ge.site,Ye.site,fe);Ge=Be[0],(Ye=Be[pt-1]).edge=ur(Ge.site,Ye.site,null,fe),er(Ge),er(Ye)}function Un(L){for(var q,ee,ie,fe,we=L.x,Oe=L.y,Be=gn._;Be;)if((ie=qn(Be,Oe)-we)>nt)Be=Be.L;else{if(!((fe=we-tr(Be,Oe))>nt)){ie>-nt?(q=Be.P,ee=Be):fe>-nt?(q=Be,ee=Be.N):q=ee=Be;break}if(!Be.R){q=Be;break}Be=Be.R}var Ge=hn(L);if(gn.insert(q,Ge),q||ee){if(q===ee)return gr(q),ee=hn(q.site),gn.insert(Ge,ee),Ge.edge=ee.edge=ur(q.site,Ge.site),er(q),void er(ee);if(ee){gr(q),gr(ee);var Ye=q.site,at=Ye.x,pt=Ye.y,vt=L.x-at,kt=L.y-pt,Ot=ee.site,St=Ot.x-at,jt=Ot.y-pt,It=2*(vt*jt-kt*St),$t=vt*vt+kt*kt,Zt=St*St+jt*jt,Ht={x:(jt*$t-kt*Zt)/It+at,y:(vt*Zt-St*$t)/It+pt};_r(ee.edge,Ye,Ot,Ht),Ge.edge=ur(Ye,L,null,Ht),ee.edge=ur(L,Ot,null,Ht),er(q),er(ee)}else Ge.edge=ur(q.site,Ge.site)}}function qn(L,q){var ee=L.site,ie=ee.x,fe=ee.y,we=fe-q;if(!we)return ie;var Oe=L.P;if(!Oe)return-1/0;var Be=(ee=Oe.site).x,Ge=ee.y,Ye=Ge-q;if(!Ye)return Be;var at=Be-ie,pt=1/we-1/Ye,vt=at/Ye;return pt?(-vt+Math.sqrt(vt*vt-2*pt*(at*at/(-2*Ye)-Ge+Ye/2+fe-we/2)))/pt+ie:(ie+Be)/2}function tr(L,q){var ee=L.N;if(ee)return qn(ee,q);var ie=L.site;return ie.y===q?ie.x:1/0}function Yn(L){this.site=L,this.edges=[]}function sr(L,q){return q.angle-L.angle}function ar(){gi(this),this.x=this.y=this.arc=this.site=this.cy=null}function er(L){var q=L.P,ee=L.N;if(q&&ee){var ie=q.site,fe=L.site,we=ee.site;if(ie!==we){var Oe=fe.x,Be=fe.y,Ge=ie.x-Oe,Ye=ie.y-Be,at=we.x-Oe,pt=2*(Ge*(jt=we.y-Be)-Ye*at);if(!(pt>=-Et)){var vt=Ge*Ge+Ye*Ye,kt=at*at+jt*jt,Ot=(jt*vt-Ye*kt)/pt,St=(Ge*kt-at*vt)/pt,jt=St+Be,It=Xt.pop()||new ar;It.arc=L,It.site=fe,It.x=Ot+Oe,It.y=jt+Math.sqrt(Ot*Ot+St*St),It.cy=jt,L.circle=It;for(var $t=null,Zt=on._;Zt;)if(It.y<Zt.y||It.y===Zt.y&&It.x<=Zt.x){if(!Zt.L){$t=Zt.P;break}Zt=Zt.L}else{if(!Zt.R){$t=Zt;break}Zt=Zt.R}on.insert($t,It),$t||(_n=It)}}}}function gr(L){var q=L.circle;q&&(q.P||(_n=q.N),on.remove(q),Xt.push(q),gi(q),L.circle=null)}function kr(L,q){var ee=L.b;if(ee)return!0;var ie,fe,we=L.a,Oe=q[0][0],Be=q[1][0],Ge=q[0][1],Ye=q[1][1],at=L.l,pt=L.r,vt=at.x,kt=at.y,Ot=pt.x,St=pt.y,jt=(vt+Ot)/2,It=(kt+St)/2;if(St===kt){if(jt<Oe||jt>=Be)return;if(vt>Ot){if(we){if(we.y>=Ye)return}else we={x:jt,y:Ge};ee={x:jt,y:Ye}}else{if(we){if(we.y<Ge)return}else we={x:jt,y:Ye};ee={x:jt,y:Ge}}}else if(fe=It-(ie=(vt-Ot)/(St-kt))*jt,ie<-1||ie>1)if(vt>Ot){if(we){if(we.y>=Ye)return}else we={x:(Ge-fe)/ie,y:Ge};ee={x:(Ye-fe)/ie,y:Ye}}else{if(we){if(we.y<Ge)return}else we={x:(Ye-fe)/ie,y:Ye};ee={x:(Ge-fe)/ie,y:Ge}}else if(kt<St){if(we){if(we.x>=Be)return}else we={x:Oe,y:ie*Oe+fe};ee={x:Be,y:ie*Be+fe}}else{if(we){if(we.x<Oe)return}else we={x:Be,y:ie*Be+fe};ee={x:Oe,y:ie*Oe+fe}}return L.a=we,L.b=ee,!0}function yr(L,q){this.l=L,this.r=q,this.a=this.b=null}function ur(L,q,ee,ie){var fe=new yr(L,q);return en.push(fe),ee&&_r(fe,L,q,ee),ie&&_r(fe,q,L,ie),dn[L.i].edges.push(new Mr(fe,L,q)),dn[q.i].edges.push(new Mr(fe,q,L)),fe}function _r(L,q,ee,ie){L.a||L.b?L.l===ee?L.b=ie:L.a=ie:(L.a=ie,L.l=q,L.r=ee)}function Mr(L,q,ee){var ie=L.a,fe=L.b;this.edge=L,this.site=q,this.angle=ee?Math.atan2(ee.y-q.y,ee.x-q.x):L.l===q?Math.atan2(fe.x-ie.x,ie.y-fe.y):Math.atan2(ie.x-fe.x,fe.y-ie.y)}function Ur(){this._=null}function gi(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function xi(L,q){var ee=q,ie=q.R,fe=ee.U;fe?fe.L===ee?fe.L=ie:fe.R=ie:L._=ie,ie.U=fe,ee.U=ie,ee.R=ie.L,ee.R&&(ee.R.U=ee),ie.L=ee}function ia(L,q){var ee=q,ie=q.L,fe=ee.U;fe?fe.L===ee?fe.L=ie:fe.R=ie:L._=ie,ie.U=fe,ee.U=ie,ee.L=ie.R,ee.L&&(ee.L.U=ee),ie.R=ee}function hi(L){for(;L.L;)L=L.L;return L}function Bi(L,q){var ee,ie,fe,we=L.sort(Nr).pop();for(en=[],dn=new Array(L.length),gn=new Ur,on=new Ur;;)if(fe=_n,we&&(!fe||we.y<fe.y||we.y===fe.y&&we.x<fe.x))we.x===ee&&we.y===ie||(dn[we.i]=new Yn(we),Un(we),ee=we.x,ie=we.y),we=L.pop();else{if(!fe)break;Cn(fe.arc)}q&&(function(Be){for(var Ge,Ye,at,pt,vt,kt=en,Ot=(Ye=Be[0][0],at=Be[0][1],pt=Be[1][0],vt=Be[1][1],function(jt){var It,$t=jt.a,Zt=jt.b,Ht=$t.x,vn=$t.y,bn=0,Ln=1,Rn=Zt.x-Ht,Gn=Zt.y-vn;if(It=Ye-Ht,Rn||!(It>0)){if(It/=Rn,Rn<0){if(It<bn)return;It<Ln&&(Ln=It)}else if(Rn>0){if(It>Ln)return;It>bn&&(bn=It)}if(It=pt-Ht,Rn||!(It<0)){if(It/=Rn,Rn<0){if(It>Ln)return;It>bn&&(bn=It)}else if(Rn>0){if(It<bn)return;It<Ln&&(Ln=It)}if(It=at-vn,Gn||!(It>0)){if(It/=Gn,Gn<0){if(It<bn)return;It<Ln&&(Ln=It)}else if(Gn>0){if(It>Ln)return;It>bn&&(bn=It)}if(It=vt-vn,Gn||!(It<0)){if(It/=Gn,Gn<0){if(It>Ln)return;It>bn&&(bn=It)}else if(Gn>0){if(It<bn)return;It<Ln&&(Ln=It)}return bn>0&&(jt.a={x:Ht+bn*Rn,y:vn+bn*Gn}),Ln<1&&(jt.b={x:Ht+Ln*Rn,y:vn+Ln*Gn}),jt}}}}}),St=kt.length;St--;)(!kr(Ge=kt[St],Be)||!Ot(Ge)||g(Ge.a.x-Ge.b.x)<nt&&g(Ge.a.y-Ge.b.y)<nt)&&(Ge.a=Ge.b=null,kt.splice(St,1))}(q),function(Be){for(var Ge,Ye,at,pt,vt,kt,Ot,St,jt,It,$t=Be[0][0],Zt=Be[1][0],Ht=Be[0][1],vn=Be[1][1],bn=dn,Ln=bn.length;Ln--;)if((vt=bn[Ln])&&vt.prepare())for(St=(Ot=vt.edges).length,kt=0;kt<St;)at=(It=Ot[kt].end()).x,pt=It.y,Ge=(jt=Ot[++kt%St].start()).x,Ye=jt.y,(g(at-Ge)>nt||g(pt-Ye)>nt)&&(Ot.splice(kt,0,new Mr((Rn=vt.site,Gn=It,or=g(at-$t)<nt&&vn-pt>nt?{x:$t,y:g(Ge-$t)<nt?Ye:vn}:g(pt-vn)<nt&&Zt-at>nt?{x:g(Ye-vn)<nt?Ge:Zt,y:vn}:g(at-Zt)<nt&&pt-Ht>nt?{x:Zt,y:g(Ge-Zt)<nt?Ye:Ht}:g(pt-Ht)<nt&&at-$t>nt?{x:g(Ye-Ht)<nt?Ge:$t,y:Ht}:null,hr=void 0,(hr=new yr(Rn,null)).a=Gn,hr.b=or,en.push(hr),hr),vt.site,null)),++St);var Rn,Gn,or,hr}(q));var Oe={cells:dn,edges:en};return gn=on=en=dn=null,Oe}function Nr(L,q){return q.y-L.y||q.x-L.x}Yn.prototype.prepare=function(){for(var L,q=this.edges,ee=q.length;ee--;)(L=q[ee].edge).b&&L.a||q.splice(ee,1);return q.sort(sr),q.length},Mr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ur.prototype={insert:function(L,q){var ee,ie,fe;if(L){if(q.P=L,q.N=L.N,L.N&&(L.N.P=q),L.N=q,L.R){for(L=L.R;L.L;)L=L.L;L.L=q}else L.R=q;ee=L}else this._?(L=hi(this._),q.P=null,q.N=L,L.P=L.L=q,ee=L):(q.P=q.N=null,this._=q,ee=null);for(q.L=q.R=null,q.U=ee,q.C=!0,L=q;ee&&ee.C;)ee===(ie=ee.U).L?(fe=ie.R)&&fe.C?(ee.C=fe.C=!1,ie.C=!0,L=ie):(L===ee.R&&(xi(this,ee),ee=(L=ee).U),ee.C=!1,ie.C=!0,ia(this,ie)):(fe=ie.L)&&fe.C?(ee.C=fe.C=!1,ie.C=!0,L=ie):(L===ee.L&&(ia(this,ee),ee=(L=ee).U),ee.C=!1,ie.C=!0,xi(this,ie)),ee=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var q,ee,ie,fe=L.U,we=L.L,Oe=L.R;if(ee=we?Oe?hi(Oe):we:Oe,fe?fe.L===L?fe.L=ee:fe.R=ee:this._=ee,we&&Oe?(ie=ee.C,ee.C=L.C,ee.L=we,we.U=ee,ee!==Oe?(fe=ee.U,ee.U=L.U,L=ee.R,fe.L=L,ee.R=Oe,Oe.U=ee):(ee.U=fe,fe=ee,L=ee.R)):(ie=L.C,L=ee),L&&(L.U=fe),!ie)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===fe.L){if((q=fe.R).C&&(q.C=!1,fe.C=!0,xi(this,fe),q=fe.R),q.L&&q.L.C||q.R&&q.R.C){q.R&&q.R.C||(q.L.C=!1,q.C=!0,ia(this,q),q=fe.R),q.C=fe.C,fe.C=q.R.C=!1,xi(this,fe),L=this._;break}}else if((q=fe.L).C&&(q.C=!1,fe.C=!0,ia(this,fe),q=fe.L),q.L&&q.L.C||q.R&&q.R.C){q.L&&q.L.C||(q.R.C=!1,q.C=!0,xi(this,q),q=fe.L),q.C=fe.C,fe.C=q.L.C=!1,ia(this,fe),L=this._;break}q.C=!0,L=fe,fe=fe.U}while(!L.C);L&&(L.C=!1)}}},o.geom.voronoi=function(L){var q=Zn,ee=Hn,ie=q,fe=ee,we=Ai;if(L)return Oe(L);function Oe(Ge){var Ye=new Array(Ge.length),at=we[0][0],pt=we[0][1],vt=we[1][0],kt=we[1][1];return Bi(Be(Ge),we).cells.forEach(function(Ot,St){var jt=Ot.edges,It=Ot.site;(Ye[St]=jt.length?jt.map(function($t){var Zt=$t.start();return[Zt.x,Zt.y]}):It.x>=at&&It.x<=vt&&It.y>=pt&&It.y<=kt?[[at,kt],[vt,kt],[vt,pt],[at,pt]]:[]).point=Ge[St]}),Ye}function Be(Ge){return Ge.map(function(Ye,at){return{x:Math.round(ie(Ye,at)/nt)*nt,y:Math.round(fe(Ye,at)/nt)*nt,i:at}})}return Oe.links=function(Ge){return Bi(Be(Ge)).edges.filter(function(Ye){return Ye.l&&Ye.r}).map(function(Ye){return{source:Ge[Ye.l.i],target:Ge[Ye.r.i]}})},Oe.triangles=function(Ge){var Ye=[];return Bi(Be(Ge)).cells.forEach(function(at,pt){for(var vt,kt,Ot,St,jt=at.site,It=at.edges.sort(sr),$t=-1,Zt=It.length,Ht=It[Zt-1].edge,vn=Ht.l===jt?Ht.r:Ht.l;++$t<Zt;)vt=vn,vn=(Ht=It[$t].edge).l===jt?Ht.r:Ht.l,pt<vt.i&&pt<vn.i&&(Ot=vt,St=vn,((kt=jt).x-St.x)*(Ot.y-kt.y)-(kt.x-Ot.x)*(St.y-kt.y)<0)&&Ye.push([Ge[pt],Ge[vt.i],Ge[vn.i]])}),Ye},Oe.x=function(Ge){return arguments.length?(ie=Vn(q=Ge),Oe):q},Oe.y=function(Ge){return arguments.length?(fe=Vn(ee=Ge),Oe):ee},Oe.clipExtent=function(Ge){return arguments.length?(we=Ge??Ai,Oe):we===Ai?null:we},Oe.size=function(Ge){return arguments.length?Oe.clipExtent(Ge&&[[0,0],Ge]):we===Ai?null:we&&we[1]},Oe};var Ai=[[-1e6,-1e6],[1e6,1e6]];function Pa(L){return L.x}function pa(L){return L.y}function Xo(L,q,ee,ie,fe,we){if(!L(q,ee,ie,fe,we)){var Oe=.5*(ee+fe),Be=.5*(ie+we),Ge=q.nodes;Ge[0]&&Xo(L,Ge[0],ee,ie,Oe,Be),Ge[1]&&Xo(L,Ge[1],Oe,ie,fe,Be),Ge[2]&&Xo(L,Ge[2],ee,Be,Oe,we),Ge[3]&&Xo(L,Ge[3],Oe,Be,fe,we)}}function Ko(L,q){L=o.rgb(L),q=o.rgb(q);var ee=L.r,ie=L.g,fe=L.b,we=q.r-ee,Oe=q.g-ie,Be=q.b-fe;return function(Ge){return"#"+rn(Math.round(ee+we*Ge))+rn(Math.round(ie+Oe*Ge))+rn(Math.round(fe+Be*Ge))}}function Co(L,q){var ee,ie={},fe={};for(ee in L)ee in q?ie[ee]=to(L[ee],q[ee]):fe[ee]=L[ee];for(ee in q)ee in L||(fe[ee]=q[ee]);return function(we){for(ee in ie)fe[ee]=ie[ee](we);return fe}}function da(L,q){return L=+L,q=+q,function(ee){return L*(1-ee)+q*ee}}function Po(L,q){var ee,ie,fe,we=ms.lastIndex=Vs.lastIndex=0,Oe=-1,Be=[],Ge=[];for(L+="",q+="";(ee=ms.exec(L))&&(ie=Vs.exec(q));)(fe=ie.index)>we&&(fe=q.slice(we,fe),Be[Oe]?Be[Oe]+=fe:Be[++Oe]=fe),(ee=ee[0])===(ie=ie[0])?Be[Oe]?Be[Oe]+=ie:Be[++Oe]=ie:(Be[++Oe]=null,Ge.push({i:Oe,x:da(ee,ie)})),we=Vs.lastIndex;return we<q.length&&(fe=q.slice(we),Be[Oe]?Be[Oe]+=fe:Be[++Oe]=fe),Be.length<2?Ge[0]?(q=Ge[0].x,function(Ye){return q(Ye)+""}):function(){return q}:(q=Ge.length,function(Ye){for(var at,pt=0;pt<q;++pt)Be[(at=Ge[pt]).i]=at.x(Ye);return Be.join("")})}o.geom.delaunay=function(L){return o.geom.voronoi().triangles(L)},o.geom.quadtree=function(L,q,ee,ie,fe){var we,Oe=Zn,Be=Hn;if(we=arguments.length)return Oe=Pa,Be=pa,we===3&&(fe=ee,ie=q,ee=q=0),Ge(L);function Ge(Ye){var at,pt,vt,kt,Ot,St,jt,It,$t,Zt=Vn(Oe),Ht=Vn(Be);if(q!=null)St=q,jt=ee,It=ie,$t=fe;else if(It=$t=-(St=jt=1/0),pt=[],vt=[],Ot=Ye.length,we)for(kt=0;kt<Ot;++kt)(at=Ye[kt]).x<St&&(St=at.x),at.y<jt&&(jt=at.y),at.x>It&&(It=at.x),at.y>$t&&($t=at.y),pt.push(at.x),vt.push(at.y);else for(kt=0;kt<Ot;++kt){var vn=+Zt(at=Ye[kt],kt),bn=+Ht(at,kt);vn<St&&(St=vn),bn<jt&&(jt=bn),vn>It&&(It=vn),bn>$t&&($t=bn),pt.push(vn),vt.push(bn)}var Ln=It-St,Rn=$t-jt;function Gn(Kn,fr,wr,Or,nr,cr,Sr,pr){if(!isNaN(wr)&&!isNaN(Or))if(Kn.leaf){var Cr=Kn.x,Dr=Kn.y;if(Cr!=null)if(g(Cr-wr)+g(Dr-Or)<.01)or(Kn,fr,wr,Or,nr,cr,Sr,pr);else{var Gr=Kn.point;Kn.x=Kn.y=Kn.point=null,or(Kn,Gr,Cr,Dr,nr,cr,Sr,pr),or(Kn,fr,wr,Or,nr,cr,Sr,pr)}else Kn.x=wr,Kn.y=Or,Kn.point=fr}else or(Kn,fr,wr,Or,nr,cr,Sr,pr)}function or(Kn,fr,wr,Or,nr,cr,Sr,pr){var Cr=.5*(nr+Sr),Dr=.5*(cr+pr),Gr=wr>=Cr,Wr=Or>=Dr,Xr=Wr<<1|Gr;Kn.leaf=!1,Gr?nr=Cr:Sr=Cr,Wr?cr=Dr:pr=Dr,Gn(Kn=Kn.nodes[Xr]||(Kn.nodes[Xr]={leaf:!0,nodes:[],point:null,x:null,y:null}),fr,wr,Or,nr,cr,Sr,pr)}Ln>Rn?$t=jt+Ln:It=St+Rn;var hr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Kn){Gn(hr,Kn,+Zt(Kn,++kt),+Ht(Kn,kt),St,jt,It,$t)}};if(hr.visit=function(Kn){Xo(Kn,hr,St,jt,It,$t)},hr.find=function(Kn){return function(fr,wr,Or,nr,cr,Sr,pr){var Cr,Dr=1/0;return function Gr(Wr,Xr,Qr,wi,Ni){if(!(Xr>Sr||Qr>pr||wi<nr||Ni<cr)){if(Ma=Wr.point){var Ma,ea=wr-Wr.x,va=Or-Wr.y,Ei=ea*ea+va*va;if(Ei<Dr){var ti=Math.sqrt(Dr=Ei);nr=wr-ti,cr=Or-ti,Sr=wr+ti,pr=Or+ti,Cr=Ma}}for(var Ii=Wr.nodes,di=.5*(Xr+wi),ii=.5*(Qr+Ni),zi=(Or>=ii)<<1|wr>=di,ji=zi+4;zi<ji;++zi)if(Wr=Ii[3&zi])switch(3&zi){case 0:Gr(Wr,Xr,Qr,di,ii);break;case 1:Gr(Wr,di,Qr,wi,ii);break;case 2:Gr(Wr,Xr,ii,di,Ni);break;case 3:Gr(Wr,di,ii,wi,Ni)}}}(fr,nr,cr,Sr,pr),Cr}(hr,Kn[0],Kn[1],St,jt,It,$t)},kt=-1,q==null){for(;++kt<Ot;)Gn(hr,Ye[kt],pt[kt],vt[kt],St,jt,It,$t);--kt}else Ye.forEach(hr.add);return pt=vt=Ye=at=null,hr}return Ge.x=function(Ye){return arguments.length?(Oe=Ye,Ge):Oe},Ge.y=function(Ye){return arguments.length?(Be=Ye,Ge):Be},Ge.extent=function(Ye){return arguments.length?(Ye==null?q=ee=ie=fe=null:(q=+Ye[0][0],ee=+Ye[0][1],ie=+Ye[1][0],fe=+Ye[1][1]),Ge):q==null?null:[[q,ee],[ie,fe]]},Ge.size=function(Ye){return arguments.length?(Ye==null?q=ee=ie=fe=null:(q=ee=0,ie=+Ye[0],fe=+Ye[1]),Ge):q==null?null:[ie-q,fe-ee]},Ge},o.interpolateRgb=Ko,o.interpolateObject=Co,o.interpolateNumber=da,o.interpolateString=Po;var ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vs=new RegExp(ms.source,"g");function to(L,q){for(var ee,ie=o.interpolators.length;--ie>=0&&!(ee=o.interpolators[ie](L,q)););return ee}function no(L,q){var ee,ie=[],fe=[],we=L.length,Oe=q.length,Be=Math.min(L.length,q.length);for(ee=0;ee<Be;++ee)ie.push(to(L[ee],q[ee]));for(;ee<we;++ee)fe[ee]=L[ee];for(;ee<Oe;++ee)fe[ee]=q[ee];return function(Ge){for(ee=0;ee<Be;++ee)fe[ee]=ie[ee](Ge);return fe}}o.interpolate=to,o.interpolators=[function(L,q){var ee=typeof q;return(ee==="string"?En.has(q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(q)?Ko:Po:q instanceof Ke?Ko:Array.isArray(q)?no:ee==="object"&&isNaN(q)?Co:da)(L,q)}],o.interpolateArray=no;var Oo=function(){return z},Mi=o.map({linear:Oo,poly:function(L){return function(q){return Math.pow(q,L)}},quad:function(){return po},cubic:function(){return ys},sin:function(){return xs},exp:function(){return $o},circle:function(){return bs},elastic:function(L,q){var ee;return arguments.length<2&&(q=.45),arguments.length?ee=q/Ft*Math.asin(1/L):(L=1,ee=q/4),function(ie){return 1+L*Math.pow(2,-10*ie)*Math.sin((ie-ee)*Ft/q)}},back:function(L){return L||(L=1.70158),function(q){return q*q*((L+1)*q-L)}},bounce:function(){return Do}}),Ji=o.map({in:z,out:Jo,"in-out":Io,"out-in":function(L){return Io(Jo(L))}});function Jo(L){return function(q){return 1-L(1-q)}}function Io(L){return function(q){return .5*(q<.5?L(2*q):2-L(2-2*q))}}function po(L){return L*L}function ys(L){return L*L*L}function zo(L){if(L<=0)return 0;if(L>=1)return 1;var q=L*L,ee=q*L;return 4*(L<.5?ee:3*(L-q)+ee-.75)}function xs(L){return 1-Math.cos(L*Ze)}function $o(L){return Math.pow(2,10*(L-1))}function bs(L){return 1-Math.sqrt(1-L*L)}function Do(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function Eu(L,q){return q-=L,function(ee){return Math.round(L+q*ee)}}function su(L){var q,ee,ie,fe=[L.a,L.b],we=[L.c,L.d],Oe=Xu(fe),Be=Hs(fe,we),Ge=Xu(((q=we)[0]+=(ie=-Be)*(ee=fe)[0],q[1]+=ie*ee[1],q))||0;fe[0]*we[1]<we[0]*fe[1]&&(fe[0]*=-1,fe[1]*=-1,Oe*=-1,Be*=-1),this.rotate=(Oe?Math.atan2(fe[1],fe[0]):Math.atan2(-we[0],we[1]))*He,this.translate=[L.e,L.f],this.scale=[Oe,Ge],this.skew=Ge?Math.atan2(Be,Ge)*He:0}function Hs(L,q){return L[0]*q[0]+L[1]*q[1]}function Xu(L){var q=Math.sqrt(Hs(L,L));return q&&(L[0]/=q,L[1]/=q),q}o.ease=function(L){var q,ee=L.indexOf("-"),ie=ee>=0?L.slice(0,ee):L,fe=ee>=0?L.slice(ee+1):"in";return ie=Mi.get(ie)||Oo,fe=Ji.get(fe)||z,q=fe(ie.apply(null,w.call(arguments,1))),function(we){return we<=0?0:we>=1?1:q(we)}},o.interpolateHcl=function(L,q){L=o.hcl(L),q=o.hcl(q);var ee=L.h,ie=L.c,fe=L.l,we=q.h-ee,Oe=q.c-ie,Be=q.l-fe;return isNaN(Oe)&&(Oe=0,ie=isNaN(ie)?q.c:ie),isNaN(we)?(we=0,ee=isNaN(ee)?q.h:ee):we>180?we-=360:we<-180&&(we+=360),function(Ge){return wt(ee+we*Ge,ie+Oe*Ge,fe+Be*Ge)+""}},o.interpolateHsl=function(L,q){L=o.hsl(L),q=o.hsl(q);var ee=L.h,ie=L.s,fe=L.l,we=q.h-ee,Oe=q.s-ie,Be=q.l-fe;return isNaN(Oe)&&(Oe=0,ie=isNaN(ie)?q.s:ie),isNaN(we)?(we=0,ee=isNaN(ee)?q.h:ee):we>180?we-=360:we<-180&&(we+=360),function(Ge){return bt(ee+we*Ge,ie+Oe*Ge,fe+Be*Ge)+""}},o.interpolateLab=function(L,q){L=o.lab(L),q=o.lab(q);var ee=L.l,ie=L.a,fe=L.b,we=q.l-ee,Oe=q.a-ie,Be=q.b-fe;return function(Ge){return qt(ee+we*Ge,ie+Oe*Ge,fe+Be*Ge)+""}},o.interpolateRound=Eu,o.transform=function(L){var q=f.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(ee){if(ee!=null){q.setAttribute("transform",ee);var ie=q.transform.baseVal.consolidate()}return new su(ie?ie.matrix:Ku)})(L)},su.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ku={a:1,b:0,c:0,d:1,e:0,f:0};function qs(L){return L.length?L.pop()+",":""}function Ju(L,q){var ee=[],ie=[];return L=o.transform(L),q=o.transform(q),function(fe,we,Oe,Be){if(fe[0]!==we[0]||fe[1]!==we[1]){var Ge=Oe.push("translate(",null,",",null,")");Be.push({i:Ge-4,x:da(fe[0],we[0])},{i:Ge-2,x:da(fe[1],we[1])})}else(we[0]||we[1])&&Oe.push("translate("+we+")")}(L.translate,q.translate,ee,ie),function(fe,we,Oe,Be){fe!==we?(fe-we>180?we+=360:we-fe>180&&(fe+=360),Be.push({i:Oe.push(qs(Oe)+"rotate(",null,")")-2,x:da(fe,we)})):we&&Oe.push(qs(Oe)+"rotate("+we+")")}(L.rotate,q.rotate,ee,ie),function(fe,we,Oe,Be){fe!==we?Be.push({i:Oe.push(qs(Oe)+"skewX(",null,")")-2,x:da(fe,we)}):we&&Oe.push(qs(Oe)+"skewX("+we+")")}(L.skew,q.skew,ee,ie),function(fe,we,Oe,Be){if(fe[0]!==we[0]||fe[1]!==we[1]){var Ge=Oe.push(qs(Oe)+"scale(",null,",",null,")");Be.push({i:Ge-4,x:da(fe[0],we[0])},{i:Ge-2,x:da(fe[1],we[1])})}else we[0]===1&&we[1]===1||Oe.push(qs(Oe)+"scale("+we+")")}(L.scale,q.scale,ee,ie),L=q=null,function(fe){for(var we,Oe=-1,Be=ie.length;++Oe<Be;)ee[(we=ie[Oe]).i]=we.x(fe);return ee.join("")}}function Dc(L,q){return q=(q-=L=+L)||1/q,function(ee){return(ee-L)/q}}function Rc(L,q){return q=(q-=L=+L)||1/q,function(ee){return Math.max(0,Math.min(1,(ee-L)/q))}}function Gs(L){for(var q=L.source,ee=L.target,ie=function(Oe,Be){if(Oe===Be)return Oe;for(var Ge=Ro(Oe),Ye=Ro(Be),at=Ge.pop(),pt=Ye.pop(),vt=null;at===pt;)vt=at,at=Ge.pop(),pt=Ye.pop();return vt}(q,ee),fe=[q];q!==ie;)q=q.parent,fe.push(q);for(var we=fe.length;ee!==ie;)fe.splice(we,0,ee),ee=ee.parent;return fe}function Ro(L){for(var q=[],ee=L.parent;ee!=null;)q.push(L),L=ee,ee=ee.parent;return q.push(L),q}function cl(L){L.fixed|=2}function Ws(L){L.fixed&=-7}function Dl(L){L.fixed|=4,L.px=L.x,L.py=L.y}function Ys(L){L.fixed&=-5}function go(L,q,ee){var ie=0,fe=0;if(L.charge=0,!L.leaf)for(var we,Oe=L.nodes,Be=Oe.length,Ge=-1;++Ge<Be;)(we=Oe[Ge])!=null&&(go(we,q,ee),L.charge+=we.charge,ie+=we.charge*we.cx,fe+=we.charge*we.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var Ye=q*ee[L.point.index];L.charge+=L.pointCharge=Ye,ie+=Ye*L.point.x,fe+=Ye*L.point.y}L.cx=ie/L.charge,L.cy=fe/L.charge}o.interpolateTransform=Ju,o.layout={},o.layout.bundle=function(){return function(L){for(var q=[],ee=-1,ie=L.length;++ee<ie;)q.push(Gs(L[ee]));return q}},o.layout.chord=function(){var L,q,ee,ie,fe,we,Oe,Be={},Ge=0;function Ye(){var pt,vt,kt,Ot,St,jt={},It=[],$t=o.range(ie),Zt=[];for(L=[],q=[],pt=0,Ot=-1;++Ot<ie;){for(vt=0,St=-1;++St<ie;)vt+=ee[Ot][St];It.push(vt),Zt.push(o.range(ie)),pt+=vt}for(fe&&$t.sort(function(hr,Kn){return fe(It[hr],It[Kn])}),we&&Zt.forEach(function(hr,Kn){hr.sort(function(fr,wr){return we(ee[Kn][fr],ee[Kn][wr])})}),pt=(Ft-Ge*ie)/pt,vt=0,Ot=-1;++Ot<ie;){for(kt=vt,St=-1;++St<ie;){var Ht=$t[Ot],vn=Zt[Ht][St],bn=ee[Ht][vn],Ln=vt,Rn=vt+=bn*pt;jt[Ht+"-"+vn]={index:Ht,subindex:vn,startAngle:Ln,endAngle:Rn,value:bn}}q[Ht]={index:Ht,startAngle:kt,endAngle:vt,value:It[Ht]},vt+=Ge}for(Ot=-1;++Ot<ie;)for(St=Ot-1;++St<ie;){var Gn=jt[Ot+"-"+St],or=jt[St+"-"+Ot];(Gn.value||or.value)&&L.push(Gn.value<or.value?{source:or,target:Gn}:{source:Gn,target:or})}Oe&&at()}function at(){L.sort(function(pt,vt){return Oe((pt.source.value+pt.target.value)/2,(vt.source.value+vt.target.value)/2)})}return Be.matrix=function(pt){return arguments.length?(ie=(ee=pt)&&ee.length,L=q=null,Be):ee},Be.padding=function(pt){return arguments.length?(Ge=pt,L=q=null,Be):Ge},Be.sortGroups=function(pt){return arguments.length?(fe=pt,L=q=null,Be):fe},Be.sortSubgroups=function(pt){return arguments.length?(we=pt,L=null,Be):we},Be.sortChords=function(pt){return arguments.length?(Oe=pt,L&&at(),Be):Oe},Be.chords=function(){return L||Ye(),L},Be.groups=function(){return q||Ye(),q},Be},o.layout.force=function(){var L,q,ee,ie,fe,we,Oe={},Be=o.dispatch("start","tick","end"),Ge=[1,1],Ye=.9,at=Lu,pt=_s,vt=-30,kt=Qo,Ot=.1,St=.64,jt=[],It=[];function $t(Ht){return function(vn,bn,Ln,Rn){if(vn.point!==Ht){var Gn=vn.cx-Ht.x,or=vn.cy-Ht.y,hr=Rn-bn,Kn=Gn*Gn+or*or;if(hr*hr/St<Kn){if(Kn<kt){var fr=vn.charge/Kn;Ht.px-=Gn*fr,Ht.py-=or*fr}return!0}vn.point&&Kn&&Kn<kt&&(fr=vn.pointCharge/Kn,Ht.px-=Gn*fr,Ht.py-=or*fr)}return!vn.charge}}function Zt(Ht){Ht.px=o.event.x,Ht.py=o.event.y,Oe.resume()}return Oe.tick=function(){if((ee*=.99)<.005)return L=null,Be.end({type:"end",alpha:ee=0}),!0;var Ht,vn,bn,Ln,Rn,Gn,or,hr,Kn,fr=jt.length,wr=It.length;for(vn=0;vn<wr;++vn)Ln=(bn=It[vn]).source,(Gn=(hr=(Rn=bn.target).x-Ln.x)*hr+(Kn=Rn.y-Ln.y)*Kn)&&(hr*=Gn=ee*fe[vn]*((Gn=Math.sqrt(Gn))-ie[vn])/Gn,Kn*=Gn,Rn.x-=hr*(or=Ln.weight+Rn.weight?Ln.weight/(Ln.weight+Rn.weight):.5),Rn.y-=Kn*or,Ln.x+=hr*(or=1-or),Ln.y+=Kn*or);if((or=ee*Ot)&&(hr=Ge[0]/2,Kn=Ge[1]/2,vn=-1,or))for(;++vn<fr;)(bn=jt[vn]).x+=(hr-bn.x)*or,bn.y+=(Kn-bn.y)*or;if(vt)for(go(Ht=o.geom.quadtree(jt),ee,we),vn=-1;++vn<fr;)(bn=jt[vn]).fixed||Ht.visit($t(bn));for(vn=-1;++vn<fr;)(bn=jt[vn]).fixed?(bn.x=bn.px,bn.y=bn.py):(bn.x-=(bn.px-(bn.px=bn.x))*Ye,bn.y-=(bn.py-(bn.py=bn.y))*Ye);Be.tick({type:"tick",alpha:ee})},Oe.nodes=function(Ht){return arguments.length?(jt=Ht,Oe):jt},Oe.links=function(Ht){return arguments.length?(It=Ht,Oe):It},Oe.size=function(Ht){return arguments.length?(Ge=Ht,Oe):Ge},Oe.linkDistance=function(Ht){return arguments.length?(at=typeof Ht=="function"?Ht:+Ht,Oe):at},Oe.distance=Oe.linkDistance,Oe.linkStrength=function(Ht){return arguments.length?(pt=typeof Ht=="function"?Ht:+Ht,Oe):pt},Oe.friction=function(Ht){return arguments.length?(Ye=+Ht,Oe):Ye},Oe.charge=function(Ht){return arguments.length?(vt=typeof Ht=="function"?Ht:+Ht,Oe):vt},Oe.chargeDistance=function(Ht){return arguments.length?(kt=Ht*Ht,Oe):Math.sqrt(kt)},Oe.gravity=function(Ht){return arguments.length?(Ot=+Ht,Oe):Ot},Oe.theta=function(Ht){return arguments.length?(St=Ht*Ht,Oe):Math.sqrt(St)},Oe.alpha=function(Ht){return arguments.length?(Ht=+Ht,ee?Ht>0?ee=Ht:(L.c=null,L.t=NaN,L=null,Be.end({type:"end",alpha:ee=0})):Ht>0&&(Be.start({type:"start",alpha:ee=Ht}),L=an(Oe.tick)),Oe):ee},Oe.start=function(){var Ht,vn,bn,Ln=jt.length,Rn=It.length,Gn=Ge[0],or=Ge[1];for(Ht=0;Ht<Ln;++Ht)(bn=jt[Ht]).index=Ht,bn.weight=0;for(Ht=0;Ht<Rn;++Ht)typeof(bn=It[Ht]).source=="number"&&(bn.source=jt[bn.source]),typeof bn.target=="number"&&(bn.target=jt[bn.target]),++bn.source.weight,++bn.target.weight;for(Ht=0;Ht<Ln;++Ht)bn=jt[Ht],isNaN(bn.x)&&(bn.x=hr("x",Gn)),isNaN(bn.y)&&(bn.y=hr("y",or)),isNaN(bn.px)&&(bn.px=bn.x),isNaN(bn.py)&&(bn.py=bn.y);if(ie=[],typeof at=="function")for(Ht=0;Ht<Rn;++Ht)ie[Ht]=+at.call(this,It[Ht],Ht);else for(Ht=0;Ht<Rn;++Ht)ie[Ht]=at;if(fe=[],typeof pt=="function")for(Ht=0;Ht<Rn;++Ht)fe[Ht]=+pt.call(this,It[Ht],Ht);else for(Ht=0;Ht<Rn;++Ht)fe[Ht]=pt;if(we=[],typeof vt=="function")for(Ht=0;Ht<Ln;++Ht)we[Ht]=+vt.call(this,jt[Ht],Ht);else for(Ht=0;Ht<Ln;++Ht)we[Ht]=vt;function hr(Kn,fr){if(!vn){for(vn=new Array(Ln),cr=0;cr<Ln;++cr)vn[cr]=[];for(cr=0;cr<Rn;++cr){var wr=It[cr];vn[wr.source.index].push(wr.target),vn[wr.target.index].push(wr.source)}}for(var Or,nr=vn[Ht],cr=-1,Sr=nr.length;++cr<Sr;)if(!isNaN(Or=nr[cr][Kn]))return Or;return Math.random()*fr}return Oe.resume()},Oe.resume=function(){return Oe.alpha(.1)},Oe.stop=function(){return Oe.alpha(0)},Oe.drag=function(){if(q||(q=o.behavior.drag().origin(z).on("dragstart.force",cl).on("drag.force",Zt).on("dragend.force",Ws)),!arguments.length)return q;this.on("mouseover.force",Dl).on("mouseout.force",Ys).call(q)},o.rebind(Oe,Be,"on")};var Lu=20,_s=1,Qo=1/0;function es(L,q){return o.rebind(L,q,"sort","children","value"),L.nodes=L,L.links=hl,L}function ws(L,q){for(var ee=[L];(L=ee.pop())!=null;)if(q(L),(fe=L.children)&&(ie=fe.length))for(var ie,fe;--ie>=0;)ee.push(fe[ie])}function Kr(L,q){for(var ee=[L],ie=[];(L=ee.pop())!=null;)if(ie.push(L),(we=L.children)&&(fe=we.length))for(var fe,we,Oe=-1;++Oe<fe;)ee.push(we[Oe]);for(;(L=ie.pop())!=null;)q(L)}function fl(L){return L.children}function Fc(L){return L.value}function lu(L,q){return q.value-L.value}function hl(L){return o.merge(L.map(function(q){return(q.children||[]).map(function(ee){return{source:q,target:ee}})}))}o.layout.hierarchy=function(){var L=lu,q=fl,ee=Fc;function ie(fe){var we,Oe=[fe],Be=[];for(fe.depth=0;(we=Oe.pop())!=null;)if(Be.push(we),(Ye=q.call(ie,we,we.depth))&&(Ge=Ye.length)){for(var Ge,Ye,at;--Ge>=0;)Oe.push(at=Ye[Ge]),at.parent=we,at.depth=we.depth+1;ee&&(we.value=0),we.children=Ye}else ee&&(we.value=+ee.call(ie,we,we.depth)||0),delete we.children;return Kr(fe,function(pt){var vt,kt;L&&(vt=pt.children)&&vt.sort(L),ee&&(kt=pt.parent)&&(kt.value+=pt.value)}),Be}return ie.sort=function(fe){return arguments.length?(L=fe,ie):L},ie.children=function(fe){return arguments.length?(q=fe,ie):q},ie.value=function(fe){return arguments.length?(ee=fe,ie):ee},ie.revalue=function(fe){return ee&&(ws(fe,function(we){we.children&&(we.value=0)}),Kr(fe,function(we){var Oe;we.children||(we.value=+ee.call(ie,we,we.depth)||0),(Oe=we.parent)&&(Oe.value+=we.value)})),fe},ie},o.layout.partition=function(){var L=o.layout.hierarchy(),q=[1,1];function ee(we,Oe,Be,Ge){var Ye=we.children;if(we.x=Oe,we.y=we.depth*Ge,we.dx=Be,we.dy=Ge,Ye&&(at=Ye.length)){var at,pt,vt,kt=-1;for(Be=we.value?Be/we.value:0;++kt<at;)ee(pt=Ye[kt],Oe,vt=pt.value*Be,Ge),Oe+=vt}}function ie(we){var Oe=we.children,Be=0;if(Oe&&(Ge=Oe.length))for(var Ge,Ye=-1;++Ye<Ge;)Be=Math.max(Be,ie(Oe[Ye]));return 1+Be}function fe(we,Oe){var Be=L.call(this,we,Oe);return ee(Be[0],0,q[0],q[1]/ie(Be[0])),Be}return fe.size=function(we){return arguments.length?(q=we,fe):q},es(fe,L)},o.layout.pie=function(){var L=Number,q=$u,ee=0,ie=Ft,fe=0;function we(Oe){var Be,Ge=Oe.length,Ye=Oe.map(function($t,Zt){return+L.call(we,$t,Zt)}),at=+(typeof ee=="function"?ee.apply(this,arguments):ee),pt=(typeof ie=="function"?ie.apply(this,arguments):ie)-at,vt=Math.min(Math.abs(pt)/Ge,+(typeof fe=="function"?fe.apply(this,arguments):fe)),kt=vt*(pt<0?-1:1),Ot=o.sum(Ye),St=Ot?(pt-Ge*kt)/Ot:0,jt=o.range(Ge),It=[];return q!=null&&jt.sort(q===$u?function($t,Zt){return Ye[Zt]-Ye[$t]}:function($t,Zt){return q(Oe[$t],Oe[Zt])}),jt.forEach(function($t){It[$t]={data:Oe[$t],value:Be=Ye[$t],startAngle:at,endAngle:at+=Be*St+kt,padAngle:vt}}),It}return we.value=function(Oe){return arguments.length?(L=Oe,we):L},we.sort=function(Oe){return arguments.length?(q=Oe,we):q},we.startAngle=function(Oe){return arguments.length?(ee=Oe,we):ee},we.endAngle=function(Oe){return arguments.length?(ie=Oe,we):ie},we.padAngle=function(Oe){return arguments.length?(fe=Oe,we):fe},we};var $u={};function Bc(L){return L.x}function uu(L){return L.y}function Nc(L,q,ee){L.y0=q,L.y=ee}o.layout.stack=function(){var L=z,q=ts,ee=vo,ie=Nc,fe=Bc,we=uu;function Oe(Be,Ge){if(!(vt=Be.length))return Be;var Ye=Be.map(function($t,Zt){return L.call(Oe,$t,Zt)}),at=Ye.map(function($t){return $t.map(function(Zt,Ht){return[fe.call(Oe,Zt,Ht),we.call(Oe,Zt,Ht)]})}),pt=q.call(Oe,at,Ge);Ye=o.permute(Ye,pt),at=o.permute(at,pt);var vt,kt,Ot,St,jt=ee.call(Oe,at,Ge),It=Ye[0].length;for(Ot=0;Ot<It;++Ot)for(ie.call(Oe,Ye[0][Ot],St=jt[Ot],at[0][Ot][1]),kt=1;kt<vt;++kt)ie.call(Oe,Ye[kt][Ot],St+=at[kt-1][Ot][1],at[kt][Ot][1]);return Be}return Oe.values=function(Be){return arguments.length?(L=Be,Oe):L},Oe.order=function(Be){return arguments.length?(q=typeof Be=="function"?Be:Ts.get(Be)||ts,Oe):q},Oe.offset=function(Be){return arguments.length?(ee=typeof Be=="function"?Be:Zs.get(Be)||vo,Oe):ee},Oe.x=function(Be){return arguments.length?(fe=Be,Oe):fe},Oe.y=function(Be){return arguments.length?(we=Be,Oe):we},Oe.out=function(Be){return arguments.length?(ie=Be,Oe):ie},Oe};var Ts=o.map({"inside-out":function(L){var q,ee,ie=L.length,fe=L.map(pl),we=L.map(Qu),Oe=o.range(ie).sort(function(pt,vt){return fe[pt]-fe[vt]}),Be=0,Ge=0,Ye=[],at=[];for(q=0;q<ie;++q)ee=Oe[q],Be<Ge?(Be+=we[ee],Ye.push(ee)):(Ge+=we[ee],at.push(ee));return at.reverse().concat(Ye)},reverse:function(L){return o.range(L.length).reverse()},default:ts}),Zs=o.map({silhouette:function(L){var q,ee,ie,fe=L.length,we=L[0].length,Oe=[],Be=0,Ge=[];for(ee=0;ee<we;++ee){for(q=0,ie=0;q<fe;q++)ie+=L[q][ee][1];ie>Be&&(Be=ie),Oe.push(ie)}for(ee=0;ee<we;++ee)Ge[ee]=(Be-Oe[ee])/2;return Ge},wiggle:function(L){var q,ee,ie,fe,we,Oe,Be,Ge,Ye,at=L.length,pt=L[0],vt=pt.length,kt=[];for(kt[0]=Ge=Ye=0,ee=1;ee<vt;++ee){for(q=0,fe=0;q<at;++q)fe+=L[q][ee][1];for(q=0,we=0,Be=pt[ee][0]-pt[ee-1][0];q<at;++q){for(ie=0,Oe=(L[q][ee][1]-L[q][ee-1][1])/(2*Be);ie<q;++ie)Oe+=(L[ie][ee][1]-L[ie][ee-1][1])/Be;we+=Oe*L[q][ee][1]}kt[ee]=Ge-=fe?we/fe*Be:0,Ge<Ye&&(Ye=Ge)}for(ee=0;ee<vt;++ee)kt[ee]-=Ye;return kt},expand:function(L){var q,ee,ie,fe=L.length,we=L[0].length,Oe=1/fe,Be=[];for(ee=0;ee<we;++ee){for(q=0,ie=0;q<fe;q++)ie+=L[q][ee][1];if(ie)for(q=0;q<fe;q++)L[q][ee][1]/=ie;else for(q=0;q<fe;q++)L[q][ee][1]=Oe}for(ee=0;ee<we;++ee)Be[ee]=0;return Be},zero:vo});function ts(L){return o.range(L.length)}function vo(L){for(var q=-1,ee=L[0].length,ie=[];++q<ee;)ie[q]=0;return ie}function pl(L){for(var q,ee=1,ie=0,fe=L[0][1],we=L.length;ee<we;++ee)(q=L[ee][1])>fe&&(ie=ee,fe=q);return ie}function Qu(L){return L.reduce(Rl,0)}function Rl(L,q){return L+q[1]}function cu(L,q){return Ya(L,Math.ceil(Math.log(q.length)/Math.LN2+1))}function Ya(L,q){for(var ee=-1,ie=+L[0],fe=(L[1]-ie)/q,we=[];++ee<=q;)we[ee]=fe*ee+ie;return we}function fu(L){return[o.min(L),o.max(L)]}function ec(L,q){return L.value-q.value}function dl(L,q){var ee=L._pack_next;L._pack_next=q,q._pack_prev=L,q._pack_next=ee,ee._pack_prev=q}function Xs(L,q){L._pack_next=q,q._pack_prev=L}function vl(L,q){var ee=q.x-L.x,ie=q.y-L.y,fe=L.r+q.r;return .999*fe*fe>ee*ee+ie*ie}function Ks(L){if((q=L.children)&&(Ge=q.length)){var q,ee,ie,fe,we,Oe,Be,Ge,Ye=1/0,at=-1/0,pt=1/0,vt=-1/0;if(q.forEach(Js),(ee=q[0]).x=-ee.r,ee.y=0,Zt(ee),Ge>1&&((ie=q[1]).x=ie.r,ie.y=0,Zt(ie),Ge>2))for(li(ee,ie,fe=q[2]),Zt(fe),dl(ee,fe),ee._pack_prev=fe,dl(fe,ie),ie=ee._pack_next,we=3;we<Ge;we++){li(ee,ie,fe=q[we]);var kt=0,Ot=1,St=1;for(Oe=ie._pack_next;Oe!==ie;Oe=Oe._pack_next,Ot++)if(vl(Oe,fe)){kt=1;break}if(kt==1)for(Be=ee._pack_prev;Be!==Oe._pack_prev&&!vl(Be,fe);Be=Be._pack_prev,St++);kt?(Ot<St||Ot==St&&ie.r<ee.r?Xs(ee,ie=Oe):Xs(ee=Be,ie),we--):(dl(ee,fe),ie=fe,Zt(fe))}var jt=(Ye+at)/2,It=(pt+vt)/2,$t=0;for(we=0;we<Ge;we++)(fe=q[we]).x-=jt,fe.y-=It,$t=Math.max($t,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));L.r=$t,q.forEach(Fl)}function Zt(Ht){Ye=Math.min(Ht.x-Ht.r,Ye),at=Math.max(Ht.x+Ht.r,at),pt=Math.min(Ht.y-Ht.r,pt),vt=Math.max(Ht.y+Ht.r,vt)}}function Js(L){L._pack_next=L._pack_prev=L}function Fl(L){delete L._pack_next,delete L._pack_prev}function hu(L,q,ee,ie){var fe=L.children;if(L.x=q+=ie*L.x,L.y=ee+=ie*L.y,L.r*=ie,fe)for(var we=-1,Oe=fe.length;++we<Oe;)hu(fe[we],q,ee,ie)}function li(L,q,ee){var ie=L.r+ee.r,fe=q.x-L.x,we=q.y-L.y;if(ie&&(fe||we)){var Oe=q.r+ee.r,Be=fe*fe+we*we,Ge=.5+((ie*=ie)-(Oe*=Oe))/(2*Be),Ye=Math.sqrt(Math.max(0,2*Oe*(ie+Be)-(ie-=Be)*ie-Oe*Oe))/(2*Be);ee.x=L.x+Ge*fe+Ye*we,ee.y=L.y+Ge*we-Ye*fe}else ee.x=L.x+ie,ee.y=L.y}function ks(L,q){return L.parent==q.parent?1:2}function ga(L){var q=L.children;return q.length?q[0]:L.t}function mo(L){var q,ee=L.children;return(q=ee.length)?ee[q-1]:L.t}function ni(L,q,ee){var ie=ee/(q.i-L.i);q.c-=ie,q.s+=ee,L.c+=ie,q.z+=ee,q.m+=ee}function si(L,q,ee){return L.a.parent===q.parent?L.a:ee}function Za(L){var q=L.children;return q&&q.length?Za(q[0]):L}function ml(L){var q,ee=L.children;return ee&&(q=ee.length)?ml(ee[q-1]):L}function Bl(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function pu(L,q){var ee=L.x+q[3],ie=L.y+q[0],fe=L.dx-q[1]-q[3],we=L.dy-q[0]-q[2];return fe<0&&(ee+=fe/2,fe=0),we<0&&(ie+=we/2,we=0),{x:ee,y:ie,dx:fe,dy:we}}function Nl(L){var q=L[0],ee=L[L.length-1];return q<ee?[q,ee]:[ee,q]}function jl(L){return L.rangeExtent?L.rangeExtent():Nl(L.range())}function ro(L,q,ee,ie){var fe=ee(L[0],L[1]),we=ie(q[0],q[1]);return function(Oe){return we(fe(Oe))}}function As(L,q){var ee,ie=0,fe=L.length-1,we=L[ie],Oe=L[fe];return Oe<we&&(ee=ie,ie=fe,fe=ee,ee=we,we=Oe,Oe=ee),L[ie]=q.floor(we),L[fe]=q.ceil(Oe),L}function Ms(L){return L?{floor:function(q){return Math.floor(q/L)*L},ceil:function(q){return Math.ceil(q/L)*L}}:ka}o.layout.histogram=function(){var L=!0,q=Number,ee=fu,ie=cu;function fe(we,Oe){for(var Be,Ge,Ye=[],at=we.map(q,this),pt=ee.call(this,at,Oe),vt=ie.call(this,pt,at,Oe),kt=(Oe=-1,at.length),Ot=vt.length-1,St=L?1:1/kt;++Oe<Ot;)(Be=Ye[Oe]=[]).dx=vt[Oe+1]-(Be.x=vt[Oe]),Be.y=0;if(Ot>0)for(Oe=-1;++Oe<kt;)(Ge=at[Oe])>=pt[0]&&Ge<=pt[1]&&((Be=Ye[o.bisect(vt,Ge,1,Ot)-1]).y+=St,Be.push(we[Oe]));return Ye}return fe.value=function(we){return arguments.length?(q=we,fe):q},fe.range=function(we){return arguments.length?(ee=Vn(we),fe):ee},fe.bins=function(we){return arguments.length?(ie=typeof we=="number"?function(Oe){return Ya(Oe,we)}:Vn(we),fe):ie},fe.frequency=function(we){return arguments.length?(L=!!we,fe):L},fe},o.layout.pack=function(){var L,q=o.layout.hierarchy().sort(ec),ee=0,ie=[1,1];function fe(we,Oe){var Be=q.call(this,we,Oe),Ge=Be[0],Ye=ie[0],at=ie[1],pt=L==null?Math.sqrt:typeof L=="function"?L:function(){return L};if(Ge.x=Ge.y=0,Kr(Ge,function(kt){kt.r=+pt(kt.value)}),Kr(Ge,Ks),ee){var vt=ee*(L?1:Math.max(2*Ge.r/Ye,2*Ge.r/at))/2;Kr(Ge,function(kt){kt.r+=vt}),Kr(Ge,Ks),Kr(Ge,function(kt){kt.r-=vt})}return hu(Ge,Ye/2,at/2,L?1:1/Math.max(2*Ge.r/Ye,2*Ge.r/at)),Be}return fe.size=function(we){return arguments.length?(ie=we,fe):ie},fe.radius=function(we){return arguments.length?(L=we==null||typeof we=="function"?we:+we,fe):L},fe.padding=function(we){return arguments.length?(ee=+we,fe):ee},es(fe,q)},o.layout.tree=function(){var L=o.layout.hierarchy().sort(null).value(null),q=ks,ee=[1,1],ie=null;function fe(Ge,Ye){var at=L.call(this,Ge,Ye),pt=at[0],vt=function(Zt){for(var Ht,vn={A:null,children:[Zt]},bn=[vn];(Ht=bn.pop())!=null;)for(var Ln,Rn=Ht.children,Gn=0,or=Rn.length;Gn<or;++Gn)bn.push((Rn[Gn]=Ln={_:Rn[Gn],parent:Ht,children:(Ln=Rn[Gn].children)&&Ln.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Gn}).a=Ln);return vn.children[0]}(pt);if(Kr(vt,we),vt.parent.m=-vt.z,ws(vt,Oe),ie)ws(pt,Be);else{var kt=pt,Ot=pt,St=pt;ws(pt,function(Zt){Zt.x<kt.x&&(kt=Zt),Zt.x>Ot.x&&(Ot=Zt),Zt.depth>St.depth&&(St=Zt)});var jt=q(kt,Ot)/2-kt.x,It=ee[0]/(Ot.x+q(Ot,kt)/2+jt),$t=ee[1]/(St.depth||1);ws(pt,function(Zt){Zt.x=(Zt.x+jt)*It,Zt.y=Zt.depth*$t})}return at}function we(Ge){var Ye=Ge.children,at=Ge.parent.children,pt=Ge.i?at[Ge.i-1]:null;if(Ye.length){(function(kt){for(var Ot,St=0,jt=0,It=kt.children,$t=It.length;--$t>=0;)(Ot=It[$t]).z+=St,Ot.m+=St,St+=Ot.s+(jt+=Ot.c)})(Ge);var vt=(Ye[0].z+Ye[Ye.length-1].z)/2;pt?(Ge.z=pt.z+q(Ge._,pt._),Ge.m=Ge.z-vt):Ge.z=vt}else pt&&(Ge.z=pt.z+q(Ge._,pt._));Ge.parent.A=function(kt,Ot,St){if(Ot){for(var jt,It=kt,$t=kt,Zt=Ot,Ht=It.parent.children[0],vn=It.m,bn=$t.m,Ln=Zt.m,Rn=Ht.m;Zt=mo(Zt),It=ga(It),Zt&&It;)Ht=ga(Ht),($t=mo($t)).a=kt,(jt=Zt.z+Ln-It.z-vn+q(Zt._,It._))>0&&(ni(si(Zt,kt,St),kt,jt),vn+=jt,bn+=jt),Ln+=Zt.m,vn+=It.m,Rn+=Ht.m,bn+=$t.m;Zt&&!mo($t)&&($t.t=Zt,$t.m+=Ln-bn),It&&!ga(Ht)&&(Ht.t=It,Ht.m+=vn-Rn,St=kt)}return St}(Ge,pt,Ge.parent.A||at[0])}function Oe(Ge){Ge._.x=Ge.z+Ge.parent.m,Ge.m+=Ge.parent.m}function Be(Ge){Ge.x*=ee[0],Ge.y=Ge.depth*ee[1]}return fe.separation=function(Ge){return arguments.length?(q=Ge,fe):q},fe.size=function(Ge){return arguments.length?(ie=(ee=Ge)==null?Be:null,fe):ie?null:ee},fe.nodeSize=function(Ge){return arguments.length?(ie=(ee=Ge)==null?null:Be,fe):ie?ee:null},es(fe,L)},o.layout.cluster=function(){var L=o.layout.hierarchy().sort(null).value(null),q=ks,ee=[1,1],ie=!1;function fe(we,Oe){var Be,Ge=L.call(this,we,Oe),Ye=Ge[0],at=0;Kr(Ye,function(St){var jt=St.children;jt&&jt.length?(St.x=function(It){return It.reduce(function($t,Zt){return $t+Zt.x},0)/It.length}(jt),St.y=function(It){return 1+o.max(It,function($t){return $t.y})}(jt)):(St.x=Be?at+=q(St,Be):0,St.y=0,Be=St)});var pt=Za(Ye),vt=ml(Ye),kt=pt.x-q(pt,vt)/2,Ot=vt.x+q(vt,pt)/2;return Kr(Ye,ie?function(St){St.x=(St.x-Ye.x)*ee[0],St.y=(Ye.y-St.y)*ee[1]}:function(St){St.x=(St.x-kt)/(Ot-kt)*ee[0],St.y=(1-(Ye.y?St.y/Ye.y:1))*ee[1]}),Ge}return fe.separation=function(we){return arguments.length?(q=we,fe):q},fe.size=function(we){return arguments.length?(ie=(ee=we)==null,fe):ie?null:ee},fe.nodeSize=function(we){return arguments.length?(ie=(ee=we)!=null,fe):ie?ee:null},es(fe,L)},o.layout.treemap=function(){var L,q=o.layout.hierarchy(),ee=Math.round,ie=[1,1],fe=null,we=Bl,Oe=!1,Be="squarify",Ge=.5*(1+Math.sqrt(5));function Ye(St,jt){for(var It,$t,Zt=-1,Ht=St.length;++Zt<Ht;)$t=(It=St[Zt]).value*(jt<0?0:jt),It.area=isNaN($t)||$t<=0?0:$t}function at(St){var jt=St.children;if(jt&&jt.length){var It,$t,Zt,Ht=we(St),vn=[],bn=jt.slice(),Ln=1/0,Rn=Be==="slice"?Ht.dx:Be==="dice"?Ht.dy:Be==="slice-dice"?1&St.depth?Ht.dy:Ht.dx:Math.min(Ht.dx,Ht.dy);for(Ye(bn,Ht.dx*Ht.dy/St.value),vn.area=0;(Zt=bn.length)>0;)vn.push(It=bn[Zt-1]),vn.area+=It.area,Be!=="squarify"||($t=vt(vn,Rn))<=Ln?(bn.pop(),Ln=$t):(vn.area-=vn.pop().area,kt(vn,Rn,Ht,!1),Rn=Math.min(Ht.dx,Ht.dy),vn.length=vn.area=0,Ln=1/0);vn.length&&(kt(vn,Rn,Ht,!0),vn.length=vn.area=0),jt.forEach(at)}}function pt(St){var jt=St.children;if(jt&&jt.length){var It,$t=we(St),Zt=jt.slice(),Ht=[];for(Ye(Zt,$t.dx*$t.dy/St.value),Ht.area=0;It=Zt.pop();)Ht.push(It),Ht.area+=It.area,It.z!=null&&(kt(Ht,It.z?$t.dx:$t.dy,$t,!Zt.length),Ht.length=Ht.area=0);jt.forEach(pt)}}function vt(St,jt){for(var It,$t=St.area,Zt=0,Ht=1/0,vn=-1,bn=St.length;++vn<bn;)(It=St[vn].area)&&(It<Ht&&(Ht=It),It>Zt&&(Zt=It));return jt*=jt,($t*=$t)?Math.max(jt*Zt*Ge/$t,$t/(jt*Ht*Ge)):1/0}function kt(St,jt,It,$t){var Zt,Ht=-1,vn=St.length,bn=It.x,Ln=It.y,Rn=jt?ee(St.area/jt):0;if(jt==It.dx){for(($t||Rn>It.dy)&&(Rn=It.dy);++Ht<vn;)(Zt=St[Ht]).x=bn,Zt.y=Ln,Zt.dy=Rn,bn+=Zt.dx=Math.min(It.x+It.dx-bn,Rn?ee(Zt.area/Rn):0);Zt.z=!0,Zt.dx+=It.x+It.dx-bn,It.y+=Rn,It.dy-=Rn}else{for(($t||Rn>It.dx)&&(Rn=It.dx);++Ht<vn;)(Zt=St[Ht]).x=bn,Zt.y=Ln,Zt.dx=Rn,Ln+=Zt.dy=Math.min(It.y+It.dy-Ln,Rn?ee(Zt.area/Rn):0);Zt.z=!1,Zt.dy+=It.y+It.dy-Ln,It.x+=Rn,It.dx-=Rn}}function Ot(St){var jt=L||q(St),It=jt[0];return It.x=It.y=0,It.value?(It.dx=ie[0],It.dy=ie[1]):It.dx=It.dy=0,L&&q.revalue(It),Ye([It],It.dx*It.dy/It.value),(L?pt:at)(It),Oe&&(L=jt),jt}return Ot.size=function(St){return arguments.length?(ie=St,Ot):ie},Ot.padding=function(St){if(!arguments.length)return fe;function jt($t){return pu($t,St)}var It;return we=(fe=St)==null?Bl:(It=typeof St)=="function"?function($t){var Zt=St.call(Ot,$t,$t.depth);return Zt==null?Bl($t):pu($t,typeof Zt=="number"?[Zt,Zt,Zt,Zt]:Zt)}:(It==="number"&&(St=[St,St,St,St]),jt),Ot},Ot.round=function(St){return arguments.length?(ee=St?Math.round:Number,Ot):ee!=Number},Ot.sticky=function(St){return arguments.length?(Oe=St,L=null,Ot):Oe},Ot.ratio=function(St){return arguments.length?(Ge=St,Ot):Ge},Ot.mode=function(St){return arguments.length?(Be=St+"",Ot):Be},es(Ot,q)},o.random={normal:function(L,q){var ee=arguments.length;return ee<2&&(q=1),ee<1&&(L=0),function(){var ie,fe,we;do we=(ie=2*Math.random()-1)*ie+(fe=2*Math.random()-1)*fe;while(!we||we>1);return L+q*ie*Math.sqrt(-2*Math.log(we)/we)}},logNormal:function(){var L=o.random.normal.apply(o,arguments);return function(){return Math.exp(L())}},bates:function(L){var q=o.random.irwinHall(L);return function(){return q()/L}},irwinHall:function(L){return function(){for(var q=0,ee=0;ee<L;ee++)q+=Math.random();return q}}},o.scale={};var ka={floor:z,ceil:z};function Ul(L,q,ee,ie){var fe=[],we=[],Oe=0,Be=Math.min(L.length,q.length)-1;for(L[Be]<L[0]&&(L=L.slice().reverse(),q=q.slice().reverse());++Oe<=Be;)fe.push(ee(L[Oe-1],L[Oe])),we.push(ie(q[Oe-1],q[Oe]));return function(Ge){var Ye=o.bisect(L,Ge,1,Be)-1;return we[Ye](fe[Ye](Ge))}}function io(L,q,ee,ie){var fe,we;function Oe(){var Ge=Math.min(L.length,q.length)>2?Ul:ro,Ye=ie?Rc:Dc;return fe=Ge(L,q,Ye,ee),we=Ge(q,L,Ye,to),Be}function Be(Ge){return fe(Ge)}return Be.invert=function(Ge){return we(Ge)},Be.domain=function(Ge){return arguments.length?(L=Ge.map(Number),Oe()):L},Be.range=function(Ge){return arguments.length?(q=Ge,Oe()):q},Be.rangeRound=function(Ge){return Be.range(Ge).interpolate(Eu)},Be.clamp=function(Ge){return arguments.length?(ie=Ge,Oe()):ie},Be.interpolate=function(Ge){return arguments.length?(ee=Ge,Oe()):ee},Be.ticks=function(Ge){return oa(L,Ge)},Be.tickFormat=function(Ge,Ye){return d3_scale_linearTickFormat(L,Ge,Ye)},Be.nice=function(Ge){return aa(L,Ge),Oe()},Be.copy=function(){return io(L,q,ee,ie)},Oe()}function $i(L,q){return o.rebind(L,q,"range","rangeRound","interpolate","clamp")}function aa(L,q){return As(L,Ms(vi(L,q)[2])),As(L,Ms(vi(L,q)[2])),L}function vi(L,q){q==null&&(q=10);var ee=Nl(L),ie=ee[1]-ee[0],fe=Math.pow(10,Math.floor(Math.log(ie/q)/Math.LN10)),we=q/ie*fe;return we<=.15?fe*=10:we<=.35?fe*=5:we<=.75&&(fe*=2),ee[0]=Math.ceil(ee[0]/fe)*fe,ee[1]=Math.floor(ee[1]/fe)*fe+.5*fe,ee[2]=fe,ee}function oa(L,q){return o.range.apply(o,vi(L,q))}function Fo(L,q,ee,ie){function fe(Be){return(ee?Math.log(Be<0?0:Be):-Math.log(Be>0?0:-Be))/Math.log(q)}function we(Be){return ee?Math.pow(q,Be):-Math.pow(q,-Be)}function Oe(Be){return L(fe(Be))}return Oe.invert=function(Be){return we(L.invert(Be))},Oe.domain=function(Be){return arguments.length?(ee=Be[0]>=0,L.domain((ie=Be.map(Number)).map(fe)),Oe):ie},Oe.base=function(Be){return arguments.length?(q=+Be,L.domain(ie.map(fe)),Oe):q},Oe.nice=function(){var Be=As(ie.map(fe),ee?Math:$s);return L.domain(Be),ie=Be.map(we),Oe},Oe.ticks=function(){var Be=Nl(ie),Ge=[],Ye=Be[0],at=Be[1],pt=Math.floor(fe(Ye)),vt=Math.ceil(fe(at)),kt=q%1?2:q;if(isFinite(vt-pt)){if(ee){for(;pt<vt;pt++)for(var Ot=1;Ot<kt;Ot++)Ge.push(we(pt)*Ot);Ge.push(we(pt))}else for(Ge.push(we(pt));pt++<vt;)for(Ot=kt-1;Ot>0;Ot--)Ge.push(we(pt)*Ot);for(pt=0;Ge[pt]<Ye;pt++);for(vt=Ge.length;Ge[vt-1]>at;vt--);Ge=Ge.slice(pt,vt)}return Ge},Oe.copy=function(){return Fo(L.copy(),q,ee,ie)},$i(Oe,L)}o.scale.linear=function(){return io([0,1],[0,1],to,!1)},o.scale.log=function(){return Fo(o.scale.linear().domain([0,1]),10,!0,[1,10])};var $s={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function yo(L,q,ee){var ie=Ss(q),fe=Ss(1/q);function we(Oe){return L(ie(Oe))}return we.invert=function(Oe){return fe(L.invert(Oe))},we.domain=function(Oe){return arguments.length?(L.domain((ee=Oe.map(Number)).map(ie)),we):ee},we.ticks=function(Oe){return oa(ee,Oe)},we.tickFormat=function(Oe,Be){return d3_scale_linearTickFormat(ee,Oe,Be)},we.nice=function(Oe){return we.domain(aa(ee,Oe))},we.exponent=function(Oe){return arguments.length?(ie=Ss(q=Oe),fe=Ss(1/q),L.domain(ee.map(ie)),we):q},we.copy=function(){return yo(L.copy(),q,ee)},$i(we,L)}function Ss(L){return function(q){return q<0?-Math.pow(-q,L):Math.pow(q,L)}}function Oa(L,q){var ee,ie,fe;function we(Be){return ie[((ee.get(Be)||(q.t==="range"?ee.set(Be,L.push(Be)):NaN))-1)%ie.length]}function Oe(Be,Ge){return o.range(L.length).map(function(Ye){return Be+Ge*Ye})}return we.domain=function(Be){if(!arguments.length)return L;L=[],ee=new m;for(var Ge,Ye=-1,at=Be.length;++Ye<at;)ee.has(Ge=Be[Ye])||ee.set(Ge,L.push(Ge));return we[q.t].apply(we,q.a)},we.range=function(Be){return arguments.length?(ie=Be,fe=0,q={t:"range",a:arguments},we):ie},we.rangePoints=function(Be,Ge){arguments.length<2&&(Ge=0);var Ye=Be[0],at=Be[1],pt=L.length<2?(Ye=(Ye+at)/2,0):(at-Ye)/(L.length-1+Ge);return ie=Oe(Ye+pt*Ge/2,pt),fe=0,q={t:"rangePoints",a:arguments},we},we.rangeRoundPoints=function(Be,Ge){arguments.length<2&&(Ge=0);var Ye=Be[0],at=Be[1],pt=L.length<2?(Ye=at=Math.round((Ye+at)/2),0):(at-Ye)/(L.length-1+Ge)|0;return ie=Oe(Ye+Math.round(pt*Ge/2+(at-Ye-(L.length-1+Ge)*pt)/2),pt),fe=0,q={t:"rangeRoundPoints",a:arguments},we},we.rangeBands=function(Be,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var at=Be[1]<Be[0],pt=Be[at-0],vt=(Be[1-at]-pt)/(L.length-Ge+2*Ye);return ie=Oe(pt+vt*Ye,vt),at&&ie.reverse(),fe=vt*(1-Ge),q={t:"rangeBands",a:arguments},we},we.rangeRoundBands=function(Be,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var at=Be[1]<Be[0],pt=Be[at-0],vt=Be[1-at],kt=Math.floor((vt-pt)/(L.length-Ge+2*Ye));return ie=Oe(pt+Math.round((vt-pt-(L.length-Ge)*kt)/2),kt),at&&ie.reverse(),fe=Math.round(kt*(1-Ge)),q={t:"rangeRoundBands",a:arguments},we},we.rangeBand=function(){return fe},we.rangeExtent=function(){return Nl(q.a[0])},we.copy=function(){return Oa(L,q)},we.domain(L)}o.scale.pow=function(){return yo(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Oa([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Qs)},o.scale.category20=function(){return o.scale.ordinal().range(ns)},o.scale.category20b=function(){return o.scale.ordinal().range(ao)},o.scale.category20c=function(){return o.scale.ordinal().range(oo)};var Qs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(tn),ns=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(tn),ao=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(tn),oo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(tn);function bi(L,q){var ee;function ie(){var we=0,Oe=q.length;for(ee=[];++we<Oe;)ee[we-1]=o.quantile(L,we/Oe);return fe}function fe(we){if(!isNaN(we=+we))return q[o.bisect(ee,we)]}return fe.domain=function(we){return arguments.length?(L=we.map(h).filter(c).sort(u),ie()):L},fe.range=function(we){return arguments.length?(q=we,ie()):q},fe.quantiles=function(){return ee},fe.invertExtent=function(we){return(we=q.indexOf(we))<0?[NaN,NaN]:[we>0?ee[we-1]:L[0],we<ee.length?ee[we]:L[L.length-1]]},fe.copy=function(){return bi(L,q)},ie()}function xo(L,q,ee){var ie,fe;function we(Be){return ee[Math.max(0,Math.min(fe,Math.floor(ie*(Be-L))))]}function Oe(){return ie=ee.length/(q-L),fe=ee.length-1,we}return we.domain=function(Be){return arguments.length?(L=+Be[0],q=+Be[Be.length-1],Oe()):[L,q]},we.range=function(Be){return arguments.length?(ee=Be,Oe()):ee},we.invertExtent=function(Be){return[Be=(Be=ee.indexOf(Be))<0?NaN:Be/ie+L,Be+1/ie]},we.copy=function(){return xo(L,q,ee)},Oe()}function Lr(L,q){function ee(ie){if(ie<=ie)return q[o.bisect(L,ie)]}return ee.domain=function(ie){return arguments.length?(L=ie,ee):L},ee.range=function(ie){return arguments.length?(q=ie,ee):q},ee.invertExtent=function(ie){return ie=q.indexOf(ie),[L[ie-1],L[ie]]},ee.copy=function(){return Lr(L,q)},ee}function Vl(L){function q(ee){return+ee}return q.invert=q,q.domain=q.range=function(ee){return arguments.length?(L=ee.map(q),q):L},q.ticks=function(ee){return oa(L,ee)},q.tickFormat=function(ee,ie){return d3_scale_linearTickFormat(L,ee,ie)},q.copy=function(){return Vl(L)},q}function Cu(){return 0}o.scale.quantile=function(){return bi([],[])},o.scale.quantize=function(){return xo(0,1,[0,1])},o.scale.threshold=function(){return Lr([.5],[0,1])},o.scale.identity=function(){return Vl([0,1])},o.svg={},o.svg.arc=function(){var L=Ls,q=el,ee=Cu,ie=Es,fe=yl,we=br,Oe=Hl;function Be(){var Ye=Math.max(0,+L.apply(this,arguments)),at=Math.max(0,+q.apply(this,arguments)),pt=fe.apply(this,arguments)-Ze,vt=we.apply(this,arguments)-Ze,kt=Math.abs(vt-pt),Ot=pt>vt?0:1;if(at<Ye&&(St=at,at=Ye,Ye=St),kt>=Pt)return Ge(at,Ot)+(Ye?Ge(Ye,1-Ot):"")+"Z";var St,jt,It,$t,Zt,Ht,vn,bn,Ln,Rn,Gn,or,hr=0,Kn=0,fr=[];if(($t=(+Oe.apply(this,arguments)||0)/2)&&(It=ie===Es?Math.sqrt(Ye*Ye+at*at):+ie.apply(this,arguments),Ot||(Kn*=-1),at&&(Kn=Je(It/at*Math.sin($t))),Ye&&(hr=Je(It/Ye*Math.sin($t)))),at){Zt=at*Math.cos(pt+Kn),Ht=at*Math.sin(pt+Kn),vn=at*Math.cos(vt-Kn),bn=at*Math.sin(vt-Kn);var wr=Math.abs(vt-pt-2*Kn)<=Rt?0:1;if(Kn&&rs(Zt,Ht,vn,bn)===Ot^wr){var Or=(pt+vt)/2;Zt=at*Math.cos(Or),Ht=at*Math.sin(Or),vn=bn=null}}else Zt=Ht=0;if(Ye){Ln=Ye*Math.cos(vt-hr),Rn=Ye*Math.sin(vt-hr),Gn=Ye*Math.cos(pt+hr),or=Ye*Math.sin(pt+hr);var nr=Math.abs(pt-vt+2*hr)<=Rt?0:1;if(hr&&rs(Ln,Rn,Gn,or)===1-Ot^nr){var cr=(pt+vt)/2;Ln=Ye*Math.cos(cr),Rn=Ye*Math.sin(cr),Gn=or=null}}else Ln=Rn=0;if(kt>nt&&(St=Math.min(Math.abs(at-Ye)/2,+ee.apply(this,arguments)))>.001){jt=Ye<at^Ot?0:1;var Sr=St,pr=St;if(kt<Rt){var Cr=Gn==null?[Ln,Rn]:vn==null?[Zt,Ht]:At([Zt,Ht],[Gn,or],[vn,bn],[Ln,Rn]),Dr=Zt-Cr[0],Gr=Ht-Cr[1],Wr=vn-Cr[0],Xr=bn-Cr[1],Qr=1/Math.sin(Math.acos((Dr*Wr+Gr*Xr)/(Math.sqrt(Dr*Dr+Gr*Gr)*Math.sqrt(Wr*Wr+Xr*Xr)))/2),wi=Math.sqrt(Cr[0]*Cr[0]+Cr[1]*Cr[1]);pr=Math.min(St,(Ye-wi)/(Qr-1)),Sr=Math.min(St,(at-wi)/(Qr+1))}if(vn!=null){var Ni=Qi(Gn==null?[Ln,Rn]:[Gn,or],[Zt,Ht],at,Sr,Ot),Ma=Qi([vn,bn],[Ln,Rn],at,Sr,Ot);St===Sr?fr.push("M",Ni[0],"A",Sr,",",Sr," 0 0,",jt," ",Ni[1],"A",at,",",at," 0 ",1-Ot^rs(Ni[1][0],Ni[1][1],Ma[1][0],Ma[1][1]),",",Ot," ",Ma[1],"A",Sr,",",Sr," 0 0,",jt," ",Ma[0]):fr.push("M",Ni[0],"A",Sr,",",Sr," 0 1,",jt," ",Ma[0])}else fr.push("M",Zt,",",Ht);if(Gn!=null){var ea=Qi([Zt,Ht],[Gn,or],Ye,-pr,Ot),va=Qi([Ln,Rn],vn==null?[Zt,Ht]:[vn,bn],Ye,-pr,Ot);St===pr?fr.push("L",va[0],"A",pr,",",pr," 0 0,",jt," ",va[1],"A",Ye,",",Ye," 0 ",Ot^rs(va[1][0],va[1][1],ea[1][0],ea[1][1]),",",1-Ot," ",ea[1],"A",pr,",",pr," 0 0,",jt," ",ea[0]):fr.push("L",va[0],"A",pr,",",pr," 0 0,",jt," ",ea[0])}else fr.push("L",Ln,",",Rn)}else fr.push("M",Zt,",",Ht),vn!=null&&fr.push("A",at,",",at," 0 ",wr,",",Ot," ",vn,",",bn),fr.push("L",Ln,",",Rn),Gn!=null&&fr.push("A",Ye,",",Ye," 0 ",nr,",",1-Ot," ",Gn,",",or);return fr.push("Z"),fr.join("")}function Ge(Ye,at){return"M0,"+Ye+"A"+Ye+","+Ye+" 0 1,"+at+" 0,"+-Ye+"A"+Ye+","+Ye+" 0 1,"+at+" 0,"+Ye}return Be.innerRadius=function(Ye){return arguments.length?(L=Vn(Ye),Be):L},Be.outerRadius=function(Ye){return arguments.length?(q=Vn(Ye),Be):q},Be.cornerRadius=function(Ye){return arguments.length?(ee=Vn(Ye),Be):ee},Be.padRadius=function(Ye){return arguments.length?(ie=Ye==Es?Es:Vn(Ye),Be):ie},Be.startAngle=function(Ye){return arguments.length?(fe=Vn(Ye),Be):fe},Be.endAngle=function(Ye){return arguments.length?(we=Vn(Ye),Be):we},Be.padAngle=function(Ye){return arguments.length?(Oe=Vn(Ye),Be):Oe},Be.centroid=function(){var Ye=(+L.apply(this,arguments)+ +q.apply(this,arguments))/2,at=(+fe.apply(this,arguments)+ +we.apply(this,arguments))/2-Ze;return[Math.cos(at)*Ye,Math.sin(at)*Ye]},Be};var Es="auto";function Ls(L){return L.innerRadius}function el(L){return L.outerRadius}function yl(L){return L.startAngle}function br(L){return L.endAngle}function Hl(L){return L&&L.padAngle}function rs(L,q,ee,ie){return(L-ee)*q-(q-ie)*L>0?0:1}function Qi(L,q,ee,ie,fe){var we=L[0]-q[0],Oe=L[1]-q[1],Be=(fe?ie:-ie)/Math.sqrt(we*we+Oe*Oe),Ge=Be*Oe,Ye=-Be*we,at=L[0]+Ge,pt=L[1]+Ye,vt=q[0]+Ge,kt=q[1]+Ye,Ot=(at+vt)/2,St=(pt+kt)/2,jt=vt-at,It=kt-pt,$t=jt*jt+It*It,Zt=ee-ie,Ht=at*kt-vt*pt,vn=(It<0?-1:1)*Math.sqrt(Math.max(0,Zt*Zt*$t-Ht*Ht)),bn=(Ht*It-jt*vn)/$t,Ln=(-Ht*jt-It*vn)/$t,Rn=(Ht*It+jt*vn)/$t,Gn=(-Ht*jt+It*vn)/$t,or=bn-Ot,hr=Ln-St,Kn=Rn-Ot,fr=Gn-St;return or*or+hr*hr>Kn*Kn+fr*fr&&(bn=Rn,Ln=Gn),[[bn-Ge,Ln-Ye],[bn*ee/Zt,Ln*ee/Zt]]}function Cs(){return!0}function bo(L){var q=Zn,ee=Hn,ie=Cs,fe=Aa,we=fe.key,Oe=.7;function Be(Ge){var Ye,at=[],pt=[],vt=-1,kt=Ge.length,Ot=Vn(q),St=Vn(ee);function jt(){at.push("M",fe(L(pt),Oe))}for(;++vt<kt;)ie.call(this,Ye=Ge[vt],vt)?pt.push([+Ot.call(this,Ye,vt),+St.call(this,Ye,vt)]):pt.length&&(jt(),pt=[]);return pt.length&&jt(),at.length?at.join(""):null}return Be.x=function(Ge){return arguments.length?(q=Ge,Be):q},Be.y=function(Ge){return arguments.length?(ee=Ge,Be):ee},Be.defined=function(Ge){return arguments.length?(ie=Ge,Be):ie},Be.interpolate=function(Ge){return arguments.length?(we=typeof Ge=="function"?fe=Ge:(fe=so.get(Ge)||Aa).key,Be):we},Be.tension=function(Ge){return arguments.length?(Oe=Ge,Be):Oe},Be}o.svg.line=function(){return bo(z)};var so=o.map({linear:Aa,"linear-closed":Bo,step:function(L){for(var q=0,ee=L.length,ie=L[0],fe=[ie[0],",",ie[1]];++q<ee;)fe.push("H",(ie[0]+(ie=L[q])[0])/2,"V",ie[1]);return ee>1&&fe.push("H",ie[0]),fe.join("")},"step-before":lo,"step-after":is,basis:ei,"basis-open":function(L){if(L.length<4)return Aa(L);for(var q,ee=[],ie=-1,fe=L.length,we=[0],Oe=[0];++ie<3;)q=L[ie],we.push(q[0]),Oe.push(q[1]);for(ee.push(sa(za,we)+","+sa(za,Oe)),--ie;++ie<fe;)q=L[ie],we.shift(),we.push(q[0]),Oe.shift(),Oe.push(q[1]),xl(ee,we,Oe);return ee.join("")},"basis-closed":function(L){for(var q,ee,ie=-1,fe=L.length,we=fe+4,Oe=[],Be=[];++ie<4;)ee=L[ie%fe],Oe.push(ee[0]),Be.push(ee[1]);for(q=[sa(za,Oe),",",sa(za,Be)],--ie;++ie<we;)ee=L[ie%fe],Oe.shift(),Oe.push(ee[0]),Be.shift(),Be.push(ee[1]),xl(q,Oe,Be);return q.join("")},bundle:function(L,q){var ee=L.length-1;if(ee)for(var ie,fe,we=L[0][0],Oe=L[0][1],Be=L[ee][0]-we,Ge=L[ee][1]-Oe,Ye=-1;++Ye<=ee;)fe=Ye/ee,(ie=L[Ye])[0]=q*ie[0]+(1-q)*(we+fe*Be),ie[1]=q*ie[1]+(1-q)*(Oe+fe*Ge);return ei(L)},cardinal:function(L,q){return L.length<3?Aa(L):L[0]+ql(L,Ps(L,q))},"cardinal-open":function(L,q){return L.length<4?Aa(L):L[1]+ql(L.slice(1,-1),Ps(L,q))},"cardinal-closed":function(L,q){return L.length<3?Bo(L):L[0]+ql((L.push(L[0]),L),Ps([L[L.length-2]].concat(L,[L[1]]),q))},monotone:function(L){return L.length<3?Aa(L):L[0]+ql(L,function(q){for(var ee,ie,fe,we,Oe=[],Be=function(at){for(var pt=0,vt=at.length-1,kt=[],Ot=at[0],St=at[1],jt=kt[0]=bl(Ot,St);++pt<vt;)kt[pt]=(jt+(jt=bl(Ot=St,St=at[pt+1])))/2;return kt[pt]=jt,kt}(q),Ge=-1,Ye=q.length-1;++Ge<Ye;)ee=bl(q[Ge],q[Ge+1]),g(ee)<nt?Be[Ge]=Be[Ge+1]=0:(we=(ie=Be[Ge]/ee)*ie+(fe=Be[Ge+1]/ee)*fe)>9&&(we=3*ee/Math.sqrt(we),Be[Ge]=we*ie,Be[Ge+1]=we*fe);for(Ge=-1;++Ge<=Ye;)we=(q[Math.min(Ye,Ge+1)][0]-q[Math.max(0,Ge-1)][0])/(6*(1+Be[Ge]*Be[Ge])),Oe.push([we||0,Be[Ge]*we||0]);return Oe}(L))}});function Aa(L){return L.length>1?L.join("L"):L+"Z"}function Bo(L){return L.join("L")+"Z"}function lo(L){for(var q=0,ee=L.length,ie=L[0],fe=[ie[0],",",ie[1]];++q<ee;)fe.push("V",(ie=L[q])[1],"H",ie[0]);return fe.join("")}function is(L){for(var q=0,ee=L.length,ie=L[0],fe=[ie[0],",",ie[1]];++q<ee;)fe.push("H",(ie=L[q])[0],"V",ie[1]);return fe.join("")}function ql(L,q){if(q.length<1||L.length!=q.length&&L.length!=q.length+2)return Aa(L);var ee=L.length!=q.length,ie="",fe=L[0],we=L[1],Oe=q[0],Be=Oe,Ge=1;if(ee&&(ie+="Q"+(we[0]-2*Oe[0]/3)+","+(we[1]-2*Oe[1]/3)+","+we[0]+","+we[1],fe=L[1],Ge=2),q.length>1){Be=q[1],we=L[Ge],Ge++,ie+="C"+(fe[0]+Oe[0])+","+(fe[1]+Oe[1])+","+(we[0]-Be[0])+","+(we[1]-Be[1])+","+we[0]+","+we[1];for(var Ye=2;Ye<q.length;Ye++,Ge++)we=L[Ge],Be=q[Ye],ie+="S"+(we[0]-Be[0])+","+(we[1]-Be[1])+","+we[0]+","+we[1]}if(ee){var at=L[Ge];ie+="Q"+(we[0]+2*Be[0]/3)+","+(we[1]+2*Be[1]/3)+","+at[0]+","+at[1]}return ie}function Ps(L,q){for(var ee,ie=[],fe=(1-q)/2,we=L[0],Oe=L[1],Be=1,Ge=L.length;++Be<Ge;)ee=we,we=Oe,Oe=L[Be],ie.push([fe*(Oe[0]-ee[0]),fe*(Oe[1]-ee[1])]);return ie}function ei(L){if(L.length<3)return Aa(L);var q=1,ee=L.length,ie=L[0],fe=ie[0],we=ie[1],Oe=[fe,fe,fe,(ie=L[1])[0]],Be=[we,we,we,ie[1]],Ge=[fe,",",we,"L",sa(za,Oe),",",sa(za,Be)];for(L.push(L[ee-1]);++q<=ee;)ie=L[q],Oe.shift(),Oe.push(ie[0]),Be.shift(),Be.push(ie[1]),xl(Ge,Oe,Be);return L.pop(),Ge.push("L",ie),Ge.join("")}function sa(L,q){return L[0]*q[0]+L[1]*q[1]+L[2]*q[2]+L[3]*q[3]}so.forEach(function(L,q){q.key=L,q.closed=/-closed$/.test(L)});var Ia=[0,2/3,1/3,0],No=[0,1/3,2/3,0],za=[0,1/6,2/3,1/6];function xl(L,q,ee){L.push("C",sa(Ia,q),",",sa(Ia,ee),",",sa(No,q),",",sa(No,ee),",",sa(za,q),",",sa(za,ee))}function bl(L,q){return(q[1]-L[1])/(q[0]-L[0])}function Da(L){for(var q,ee,ie,fe=-1,we=L.length;++fe<we;)ee=(q=L[fe])[0],ie=q[1]-Ze,q[0]=ee*Math.cos(ie),q[1]=ee*Math.sin(ie);return L}function $r(L){var q=Zn,ee=Zn,ie=0,fe=Hn,we=Cs,Oe=Aa,Be=Oe.key,Ge=Oe,Ye="L",at=.7;function pt(vt){var kt,Ot,St,jt=[],It=[],$t=[],Zt=-1,Ht=vt.length,vn=Vn(q),bn=Vn(ie),Ln=q===ee?function(){return Ot}:Vn(ee),Rn=ie===fe?function(){return St}:Vn(fe);function Gn(){jt.push("M",Oe(L($t),at),Ye,Ge(L(It.reverse()),at),"Z")}for(;++Zt<Ht;)we.call(this,kt=vt[Zt],Zt)?(It.push([Ot=+vn.call(this,kt,Zt),St=+bn.call(this,kt,Zt)]),$t.push([+Ln.call(this,kt,Zt),+Rn.call(this,kt,Zt)])):It.length&&(Gn(),It=[],$t=[]);return It.length&&Gn(),jt.length?jt.join(""):null}return pt.x=function(vt){return arguments.length?(q=ee=vt,pt):ee},pt.x0=function(vt){return arguments.length?(q=vt,pt):q},pt.x1=function(vt){return arguments.length?(ee=vt,pt):ee},pt.y=function(vt){return arguments.length?(ie=fe=vt,pt):fe},pt.y0=function(vt){return arguments.length?(ie=vt,pt):ie},pt.y1=function(vt){return arguments.length?(fe=vt,pt):fe},pt.defined=function(vt){return arguments.length?(we=vt,pt):we},pt.interpolate=function(vt){return arguments.length?(Be=typeof vt=="function"?Oe=vt:(Oe=so.get(vt)||Aa).key,Ge=Oe.reverse||Oe,Ye=Oe.closed?"M":"L",pt):Be},pt.tension=function(vt){return arguments.length?(at=vt,pt):at},pt}function jo(L){return L.source}function tl(L){return L.target}function _o(L){return L.radius}function _l(L){return[L.x,L.y]}function wl(){return 64}function wo(){return"circle"}function _i(L){var q=Math.sqrt(L/Rt);return"M0,"+q+"A"+q+","+q+" 0 1,1 0,"+-q+"A"+q+","+q+" 0 1,1 0,"+q+"Z"}o.svg.line.radial=function(){var L=bo(Da);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},lo.reverse=is,is.reverse=lo,o.svg.area=function(){return $r(z)},o.svg.area.radial=function(){var L=$r(Da);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},o.svg.chord=function(){var L=jo,q=tl,ee=_o,ie=yl,fe=br;function we(Ye,at){var pt,vt,kt=Oe(this,L,Ye,at),Ot=Oe(this,q,Ye,at);return"M"+kt.p0+Be(kt.r,kt.p1,kt.a1-kt.a0)+(vt=Ot,((pt=kt).a0==vt.a0&&pt.a1==vt.a1?Ge(kt.r,kt.p1,kt.r,kt.p0):Ge(kt.r,kt.p1,Ot.r,Ot.p0)+Be(Ot.r,Ot.p1,Ot.a1-Ot.a0)+Ge(Ot.r,Ot.p1,kt.r,kt.p0))+"Z")}function Oe(Ye,at,pt,vt){var kt=at.call(Ye,pt,vt),Ot=ee.call(Ye,kt,vt),St=ie.call(Ye,kt,vt)-Ze,jt=fe.call(Ye,kt,vt)-Ze;return{r:Ot,a0:St,a1:jt,p0:[Ot*Math.cos(St),Ot*Math.sin(St)],p1:[Ot*Math.cos(jt),Ot*Math.sin(jt)]}}function Be(Ye,at,pt){return"A"+Ye+","+Ye+" 0 "+ +(pt>Rt)+",1 "+at}function Ge(Ye,at,pt,vt){return"Q 0,0 "+vt}return we.radius=function(Ye){return arguments.length?(ee=Vn(Ye),we):ee},we.source=function(Ye){return arguments.length?(L=Vn(Ye),we):L},we.target=function(Ye){return arguments.length?(q=Vn(Ye),we):q},we.startAngle=function(Ye){return arguments.length?(ie=Vn(Ye),we):ie},we.endAngle=function(Ye){return arguments.length?(fe=Vn(Ye),we):fe},we},o.svg.diagonal=function(){var L=jo,q=tl,ee=_l;function ie(fe,we){var Oe=L.call(this,fe,we),Be=q.call(this,fe,we),Ge=(Oe.y+Be.y)/2,Ye=[Oe,{x:Oe.x,y:Ge},{x:Be.x,y:Ge},Be];return"M"+(Ye=Ye.map(ee))[0]+"C"+Ye[1]+" "+Ye[2]+" "+Ye[3]}return ie.source=function(fe){return arguments.length?(L=Vn(fe),ie):L},ie.target=function(fe){return arguments.length?(q=Vn(fe),ie):q},ie.projection=function(fe){return arguments.length?(ee=fe,ie):ee},ie},o.svg.diagonal.radial=function(){var L=o.svg.diagonal(),q=_l,ee=L.projection;return L.projection=function(ie){return arguments.length?ee(function(fe){return function(){var we=fe.apply(this,arguments),Oe=we[0],Be=we[1]-Ze;return[Oe*Math.cos(Be),Oe*Math.sin(Be)]}}(q=ie)):q},L},o.svg.symbol=function(){var L=wo,q=wl;function ee(ie,fe){return(nl.get(L.call(this,ie,fe))||_i)(q.call(this,ie,fe))}return ee.type=function(ie){return arguments.length?(L=Vn(ie),ee):L},ee.size=function(ie){return arguments.length?(q=Vn(ie),ee):q},ee};var nl=o.map({circle:_i,cross:function(L){var q=Math.sqrt(L/5)/2;return"M"+-3*q+","+-q+"H"+-q+"V"+-3*q+"H"+q+"V"+-q+"H"+3*q+"V"+q+"H"+q+"V"+3*q+"H"+-q+"V"+q+"H"+-3*q+"Z"},diamond:function(L){var q=Math.sqrt(L/(2*Fr)),ee=q*Fr;return"M0,"+-q+"L"+ee+",0 0,"+q+" "+-ee+",0Z"},square:function(L){var q=Math.sqrt(L)/2;return"M"+-q+","+-q+"L"+q+","+-q+" "+q+","+q+" "+-q+","+q+"Z"},"triangle-down":function(L){var q=Math.sqrt(L/Pr),ee=q*Pr/2;return"M0,"+ee+"L"+q+","+-ee+" "+-q+","+-ee+"Z"},"triangle-up":function(L){var q=Math.sqrt(L/Pr),ee=q*Pr/2;return"M0,"+-ee+"L"+q+","+ee+" "+-q+","+ee+"Z"}});o.svg.symbolTypes=nl.keys();var Pr=Math.sqrt(3),Fr=Math.tan(30*$e);pe.transition=function(L){for(var q,ee,ie=qi||++tc,fe=Si(L),we=[],Oe=Vo||{time:Date.now(),ease:zo,delay:0,duration:250},Be=-1,Ge=this.length;++Be<Ge;){we.push(q=[]);for(var Ye=this[Be],at=-1,pt=Ye.length;++at<pt;)(ee=Ye[at])&&Ua(ee,at,fe,ie,Oe),q.push(ee)}return as(we,fe,ie)},pe.interrupt=function(L){return this.each(L==null?Xa:Uo(Si(L)))};var Xa=Uo(Si());function Uo(L){return function(){var q,ee,ie;(q=this[L])&&(ie=q[ee=q.active])&&(ie.timer.c=null,ie.timer.t=NaN,--q.count?delete q[ee]:delete this[L],q.active+=.5,ie.event&&ie.event.interrupt.call(this,this.__data__,ie.index))}}function as(L,q,ee){return K(L,ui),L.namespace=q,L.id=ee,L}var qi,Vo,ui=[],tc=0;function Ka(L,q,ee,ie){var fe=L.id,we=L.namespace;return Te(L,typeof ee=="function"?function(Oe,Be,Ge){Oe[we][fe].tween.set(q,ie(ee.call(Oe,Oe.__data__,Be,Ge)))}:(ee=ie(ee),function(Oe){Oe[we][fe].tween.set(q,ee)}))}function pi(L){return L==null&&(L=""),function(){this.textContent=L}}function Si(L){return L==null?"__transition__":"__transition_"+L+"__"}function Ua(L,q,ee,ie,fe){var we,Oe,Be,Ge,Ye,at=L[ee]||(L[ee]={active:0,count:0}),pt=at[ie];function vt(Ot){var St=at.active,jt=at[St];for(var It in jt&&(jt.timer.c=null,jt.timer.t=NaN,--at.count,delete at[St],jt.event&&jt.event.interrupt.call(L,L.__data__,jt.index)),at)if(+It<ie){var $t=at[It];$t.timer.c=null,$t.timer.t=NaN,--at.count,delete at[It]}Oe.c=kt,an(function(){return Oe.c&&kt(Ot||1)&&(Oe.c=null,Oe.t=NaN),1},0,we),at.active=ie,pt.event&&pt.event.start.call(L,L.__data__,q),Ye=[],pt.tween.forEach(function(Zt,Ht){(Ht=Ht.call(L,L.__data__,q))&&Ye.push(Ht)}),Ge=pt.ease,Be=pt.duration}function kt(Ot){for(var St=Ot/Be,jt=Ge(St),It=Ye.length;It>0;)Ye[--It].call(L,jt);if(St>=1)return pt.event&&pt.event.end.call(L,L.__data__,q),--at.count?delete at[ie]:delete L[ee],1}pt||(we=fe.time,Oe=an(function(Ot){var St=pt.delay;if(Oe.t=St+we,St<=Ot)return vt(Ot-St);Oe.c=vt},0,we),pt=at[ie]={tween:new m,time:we,timer:Oe,delay:fe.delay,duration:fe.duration,ease:fe.ease,index:q},fe=null,++at.count)}ui.call=pe.call,ui.empty=pe.empty,ui.node=pe.node,ui.size=pe.size,o.transition=function(L,q){return L&&L.transition?qi?L.transition(q):L:o.selection().transition(L)},o.transition.prototype=ui,ui.select=function(L){var q,ee,ie,fe=this.id,we=this.namespace,Oe=[];L=de(L);for(var Be=-1,Ge=this.length;++Be<Ge;){Oe.push(q=[]);for(var Ye=this[Be],at=-1,pt=Ye.length;++at<pt;)(ie=Ye[at])&&(ee=L.call(ie,ie.__data__,at,Be))?("__data__"in ie&&(ee.__data__=ie.__data__),Ua(ee,at,we,fe,ie[we][fe]),q.push(ee)):q.push(null)}return as(Oe,we,fe)},ui.selectAll=function(L){var q,ee,ie,fe,we,Oe=this.id,Be=this.namespace,Ge=[];L=xe(L);for(var Ye=-1,at=this.length;++Ye<at;)for(var pt=this[Ye],vt=-1,kt=pt.length;++vt<kt;)if(ie=pt[vt]){we=ie[Be][Oe],ee=L.call(ie,ie.__data__,vt,Ye),Ge.push(q=[]);for(var Ot=-1,St=ee.length;++Ot<St;)(fe=ee[Ot])&&Ua(fe,Ot,Be,Oe,we),q.push(fe)}return as(Ge,Be,Oe)},ui.filter=function(L){var q,ee,ie=[];typeof L!="function"&&(L=Fe(L));for(var fe=0,we=this.length;fe<we;fe++){ie.push(q=[]);for(var Oe,Be=0,Ge=(Oe=this[fe]).length;Be<Ge;Be++)(ee=Oe[Be])&&L.call(ee,ee.__data__,Be,fe)&&q.push(ee)}return as(ie,this.namespace,this.id)},ui.tween=function(L,q){var ee=this.id,ie=this.namespace;return arguments.length<2?this.node()[ie][ee].tween.get(L):Te(this,q==null?function(fe){fe[ie][ee].tween.remove(L)}:function(fe){fe[ie][ee].tween.set(L,q)})},ui.attr=function(L,q){if(arguments.length<2){for(q in L)this.attr(q,L[q]);return this}var ee=L=="transform"?Ju:to,ie=o.ns.qualify(L);function fe(){this.removeAttribute(ie)}function we(){this.removeAttributeNS(ie.space,ie.local)}return Ka(this,"attr."+L,q,ie.local?function(Oe){return Oe==null?we:(Oe+="",function(){var Be,Ge=this.getAttributeNS(ie.space,ie.local);return Ge!==Oe&&(Be=ee(Ge,Oe),function(Ye){this.setAttributeNS(ie.space,ie.local,Be(Ye))})})}:function(Oe){return Oe==null?fe:(Oe+="",function(){var Be,Ge=this.getAttribute(ie);return Ge!==Oe&&(Be=ee(Ge,Oe),function(Ye){this.setAttribute(ie,Be(Ye))})})})},ui.attrTween=function(L,q){var ee=o.ns.qualify(L);return this.tween("attr."+L,ee.local?function(ie,fe){var we=q.call(this,ie,fe,this.getAttributeNS(ee.space,ee.local));return we&&function(Oe){this.setAttributeNS(ee.space,ee.local,we(Oe))}}:function(ie,fe){var we=q.call(this,ie,fe,this.getAttribute(ee));return we&&function(Oe){this.setAttribute(ee,we(Oe))}})},ui.style=function(L,q,ee){var ie=arguments.length;if(ie<3){if(typeof L!="string"){for(ee in ie<2&&(q=""),L)this.style(ee,L[ee],q);return this}ee=""}function fe(){this.style.removeProperty(L)}return Ka(this,"style."+L,q,function(we){return we==null?fe:(we+="",function(){var Oe,Be=n(this).getComputedStyle(this,null).getPropertyValue(L);return Be!==we&&(Oe=to(Be,we),function(Ge){this.style.setProperty(L,Oe(Ge),ee)})})})},ui.styleTween=function(L,q,ee){return arguments.length<3&&(ee=""),this.tween("style."+L,function(ie,fe){var we=q.call(this,ie,fe,n(this).getComputedStyle(this,null).getPropertyValue(L));return we&&function(Oe){this.style.setProperty(L,we(Oe),ee)}})},ui.text=function(L){return Ka(this,"text",L,pi)},ui.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var q;this[L].count<2&&(q=this.parentNode)&&q.removeChild(this)})},ui.ease=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].ease:(typeof L!="function"&&(L=o.ease.apply(o,arguments)),Te(this,function(ie){ie[ee][q].ease=L}))},ui.delay=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].delay:Te(this,typeof L=="function"?function(ie,fe,we){ie[ee][q].delay=+L.call(ie,ie.__data__,fe,we)}:(L=+L,function(ie){ie[ee][q].delay=L}))},ui.duration=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].duration:Te(this,typeof L=="function"?function(ie,fe,we){ie[ee][q].duration=Math.max(1,L.call(ie,ie.__data__,fe,we))}:(L=Math.max(1,L),function(ie){ie[ee][q].duration=L}))},ui.each=function(L,q){var ee=this.id,ie=this.namespace;if(arguments.length<2){var fe=Vo,we=qi;try{qi=ee,Te(this,function(Oe,Be,Ge){Vo=Oe[ie][ee],L.call(Oe,Oe.__data__,Be,Ge)})}finally{Vo=fe,qi=we}}else Te(this,function(Oe){var Be=Oe[ie][ee];(Be.event||(Be.event=o.dispatch("start","end","interrupt"))).on(L,q)});return this},ui.transition=function(){for(var L,q,ee,ie=this.id,fe=++tc,we=this.namespace,Oe=[],Be=0,Ge=this.length;Be<Ge;Be++){Oe.push(L=[]);for(var Ye,at=0,pt=(Ye=this[Be]).length;at<pt;at++)(q=Ye[at])&&Ua(q,at,we,fe,{time:(ee=q[we][ie]).time,ease:ee.ease,delay:ee.delay+ee.duration,duration:ee.duration}),L.push(q)}return as(Oe,we,fe)},o.svg.axis=function(){var L,q=o.scale.linear(),ee=Os,ie=6,fe=6,we=3,Oe=[10],Be=null;function Ge(Ye){Ye.each(function(){var at,pt=o.select(this),vt=this.__chart__||q,kt=this.__chart__=q.copy(),Ot=Be??(kt.ticks?kt.ticks.apply(kt,Oe):kt.domain()),St=L??(kt.tickFormat?kt.tickFormat.apply(kt,Oe):z),jt=pt.selectAll(".tick").data(Ot,kt),It=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",nt),$t=o.transition(jt.exit()).style("opacity",nt).remove(),Zt=o.transition(jt.order()).style("opacity",1),Ht=Math.max(ie,0)+we,vn=jl(kt),bn=pt.selectAll(".domain").data([0]),Ln=(bn.enter().append("path").attr("class","domain"),o.transition(bn));It.append("line"),It.append("text");var Rn,Gn,or,hr,Kn=It.select("line"),fr=Zt.select("line"),wr=jt.select("text").text(St),Or=It.select("text"),nr=Zt.select("text"),cr=ee==="top"||ee==="left"?-1:1;if(ee==="bottom"||ee==="top"?(at=et,Rn="x",or="y",Gn="x2",hr="y2",wr.attr("dy",cr<0?"0em":".71em").style("text-anchor","middle"),Ln.attr("d","M"+vn[0]+","+cr*fe+"V0H"+vn[1]+"V"+cr*fe)):(at=rt,Rn="y",or="x",Gn="y2",hr="x2",wr.attr("dy",".32em").style("text-anchor",cr<0?"end":"start"),Ln.attr("d","M"+cr*fe+","+vn[0]+"H0V"+vn[1]+"H"+cr*fe)),Kn.attr(hr,cr*ie),Or.attr(or,cr*Ht),fr.attr(Gn,0).attr(hr,cr*ie),nr.attr(Rn,0).attr(or,cr*Ht),kt.rangeBand){var Sr=kt,pr=Sr.rangeBand()/2;vt=kt=function(Cr){return Sr(Cr)+pr}}else vt.rangeBand?vt=kt:$t.call(at,kt,vt);It.call(at,vt,kt),Zt.call(at,kt,kt)})}return Ge.scale=function(Ye){return arguments.length?(q=Ye,Ge):q},Ge.orient=function(Ye){return arguments.length?(ee=Ye in Pu?Ye+"":Os,Ge):ee},Ge.ticks=function(){return arguments.length?(Oe=b(arguments),Ge):Oe},Ge.tickValues=function(Ye){return arguments.length?(Be=Ye,Ge):Be},Ge.tickFormat=function(Ye){return arguments.length?(L=Ye,Ge):L},Ge.tickSize=function(Ye){var at=arguments.length;return at?(ie=+Ye,fe=+arguments[at-1],Ge):ie},Ge.innerTickSize=function(Ye){return arguments.length?(ie=+Ye,Ge):ie},Ge.outerTickSize=function(Ye){return arguments.length?(fe=+Ye,Ge):fe},Ge.tickPadding=function(Ye){return arguments.length?(we=+Ye,Ge):we},Ge.tickSubdivide=function(){return arguments.length&&Ge},Ge};var Os="bottom",Pu={top:1,right:1,bottom:1,left:1};function et(L,q,ee){L.attr("transform",function(ie){var fe=q(ie);return"translate("+(isFinite(fe)?fe:ee(ie))+",0)"})}function rt(L,q,ee){L.attr("transform",function(ie){var fe=q(ie);return"translate(0,"+(isFinite(fe)?fe:ee(ie))+")"})}o.svg.brush=function(){var L,q,ee=Q(at,"brushstart","brush","brushend"),ie=null,fe=null,we=[0,0],Oe=[0,0],Be=!0,Ge=!0,Ye=N[0];function at(St){St.each(function(){var jt=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ot).on("touchstart.brush",Ot),It=jt.selectAll(".background").data([0]);It.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var $t=jt.selectAll(".resize").data(Ye,z);$t.exit().remove(),$t.enter().append("g").attr("class",function(bn){return"resize "+bn}).style("cursor",function(bn){return ct[bn]}).append("rect").attr("x",function(bn){return/[ew]$/.test(bn)?-3:null}).attr("y",function(bn){return/^[ns]/.test(bn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),$t.style("display",at.empty()?"none":null);var Zt,Ht=o.transition(jt),vn=o.transition(It);ie&&(Zt=jl(ie),vn.attr("x",Zt[0]).attr("width",Zt[1]-Zt[0]),vt(Ht)),fe&&(Zt=jl(fe),vn.attr("y",Zt[0]).attr("height",Zt[1]-Zt[0]),kt(Ht)),pt(Ht)})}function pt(St){St.selectAll(".resize").attr("transform",function(jt){return"translate("+we[+/e$/.test(jt)]+","+Oe[+/^s/.test(jt)]+")"})}function vt(St){St.select(".extent").attr("x",we[0]),St.selectAll(".extent,.n>rect,.s>rect").attr("width",we[1]-we[0])}function kt(St){St.select(".extent").attr("y",Oe[0]),St.selectAll(".extent,.e>rect,.w>rect").attr("height",Oe[1]-Oe[0])}function Ot(){var St,jt,It=this,$t=o.select(o.event.target),Zt=ee.of(It,arguments),Ht=o.select(It),vn=$t.datum(),bn=!/^(n|s)$/.test(vn)&&ie,Ln=!/^(e|w)$/.test(vn)&&fe,Rn=$t.classed("extent"),Gn=xt(It),or=o.mouse(It),hr=o.select(n(It)).on("keydown.brush",function(){o.event.keyCode==32&&(Rn||(St=null,or[0]-=we[1],or[1]-=Oe[1],Rn=2),ne())}).on("keyup.brush",function(){o.event.keyCode==32&&Rn==2&&(or[0]+=we[1],or[1]+=Oe[1],Rn=0,ne())});if(o.event.changedTouches?hr.on("touchmove.brush",wr).on("touchend.brush",nr):hr.on("mousemove.brush",wr).on("mouseup.brush",nr),Ht.interrupt().selectAll("*").interrupt(),Rn)or[0]=we[0]-or[0],or[1]=Oe[0]-or[1];else if(vn){var Kn=+/w$/.test(vn),fr=+/^n/.test(vn);jt=[we[1-Kn]-or[0],Oe[1-fr]-or[1]],or[0]=we[Kn],or[1]=Oe[fr]}else o.event.altKey&&(St=or.slice());function wr(){var cr=o.mouse(It),Sr=!1;jt&&(cr[0]+=jt[0],cr[1]+=jt[1]),Rn||(o.event.altKey?(St||(St=[(we[0]+we[1])/2,(Oe[0]+Oe[1])/2]),or[0]=we[+(cr[0]<St[0])],or[1]=Oe[+(cr[1]<St[1])]):St=null),bn&&Or(cr,ie,0)&&(vt(Ht),Sr=!0),Ln&&Or(cr,fe,1)&&(kt(Ht),Sr=!0),Sr&&(pt(Ht),Zt({type:"brush",mode:Rn?"move":"resize"}))}function Or(cr,Sr,pr){var Cr,Dr,Gr=jl(Sr),Wr=Gr[0],Xr=Gr[1],Qr=or[pr],wi=pr?Oe:we,Ni=wi[1]-wi[0];if(Rn&&(Wr-=Qr,Xr-=Ni+Qr),Cr=(pr?Ge:Be)?Math.max(Wr,Math.min(Xr,cr[pr])):cr[pr],Rn?Dr=(Cr+=Qr)+Ni:(St&&(Qr=Math.max(Wr,Math.min(Xr,2*St[pr]-Cr))),Qr<Cr?(Dr=Cr,Cr=Qr):Dr=Qr),wi[0]!=Cr||wi[1]!=Dr)return pr?q=null:L=null,wi[0]=Cr,wi[1]=Dr,!0}function nr(){wr(),Ht.style("pointer-events","all").selectAll(".resize").style("display",at.empty()?"none":null),o.select("body").style("cursor",null),hr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Gn(),Zt({type:"brushend"})}Ht.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",$t.style("cursor")),Zt({type:"brushstart"}),wr()}return at.event=function(St){St.each(function(){var jt=ee.of(this,arguments),It={x:we,y:Oe,i:L,j:q},$t=this.__chart__||It;this.__chart__=It,qi?o.select(this).transition().each("start.brush",function(){L=$t.i,q=$t.j,we=$t.x,Oe=$t.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var Zt=no(we,It.x),Ht=no(Oe,It.y);return L=q=null,function(vn){we=It.x=Zt(vn),Oe=It.y=Ht(vn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=It.i,q=It.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},at.x=function(St){return arguments.length?(Ye=N[!(ie=St)<<1|!fe],at):ie},at.y=function(St){return arguments.length?(Ye=N[!ie<<1|!(fe=St)],at):fe},at.clamp=function(St){return arguments.length?(ie&&fe?(Be=!!St[0],Ge=!!St[1]):ie?Be=!!St:fe&&(Ge=!!St),at):ie&&fe?[Be,Ge]:ie?Be:fe?Ge:null},at.extent=function(St){var jt,It,$t,Zt,Ht;return arguments.length?(ie&&(jt=St[0],It=St[1],fe&&(jt=jt[0],It=It[0]),L=[jt,It],ie.invert&&(jt=ie(jt),It=ie(It)),It<jt&&(Ht=jt,jt=It,It=Ht),jt==we[0]&&It==we[1]||(we=[jt,It])),fe&&($t=St[0],Zt=St[1],ie&&($t=$t[1],Zt=Zt[1]),q=[$t,Zt],fe.invert&&($t=fe($t),Zt=fe(Zt)),Zt<$t&&(Ht=$t,$t=Zt,Zt=Ht),$t==Oe[0]&&Zt==Oe[1]||(Oe=[$t,Zt])),at):(ie&&(L?(jt=L[0],It=L[1]):(jt=we[0],It=we[1],ie.invert&&(jt=ie.invert(jt),It=ie.invert(It)),It<jt&&(Ht=jt,jt=It,It=Ht))),fe&&(q?($t=q[0],Zt=q[1]):($t=Oe[0],Zt=Oe[1],fe.invert&&($t=fe.invert($t),Zt=fe.invert(Zt)),Zt<$t&&(Ht=$t,$t=Zt,Zt=Ht))),ie&&fe?[[jt,$t],[It,Zt]]:ie?[jt,It]:fe&&[$t,Zt])},at.clear=function(){return at.empty()||(we=[0,0],Oe=[0,0],L=q=null),at},at.empty=function(){return!!ie&&we[0]==we[1]||!!fe&&Oe[0]==Oe[1]},o.rebind(at,ee,"on")};var ct={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},N=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Y(L){return JSON.parse(L.responseText)}function G(L){var q=f.createRange();return q.selectNode(f.body),q.createContextualFragment(L.responseText)}o.text=Fn(function(L){return L.responseText}),o.json=function(L,q){return Wn(L,"application/json",Y,q)},o.html=function(L,q){return Wn(L,"text/html",G,q)},o.xml=Fn(function(L){return L.responseXML}),(A=typeof(k=o)=="function"?k.call(C,e,C,U):k)===void 0||(U.exports=A)}).apply(self)},3480:function(U){U.exports=function(){var C,e,k;function A(o,w){if(C)if(e){var b="var sharedChunk = {}; ("+C+")(sharedChunk); ("+e+")(sharedChunk);",f={};C(f),k=w(f),typeof window<"u"&&(k.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=w;else C=w}return A(0,function(o){function w(M,D){return M(D={exports:{}},D.exports),D.exports}var b="1.13.4",f=s;function s(M,D,J,ce){this.cx=3*M,this.bx=3*(J-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ce-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=ce,this.p2x=J,this.p2y=ce}s.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},s.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},s.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},s.prototype.solveCurveX=function(M,D){var J,ce,Me,Ie,qe;for(D===void 0&&(D=1e-6),Me=M,qe=0;qe<8;qe++){if(Ie=this.sampleCurveX(Me)-M,Math.abs(Ie)<D)return Me;var tt=this.sampleCurveDerivativeX(Me);if(Math.abs(tt)<1e-6)break;Me-=Ie/tt}if((Me=M)<(J=0))return J;if(Me>(ce=1))return ce;for(;J<ce;){if(Ie=this.sampleCurveX(Me),Math.abs(Ie-M)<D)return Me;M>Ie?J=Me:ce=Me,Me=.5*(ce-J)+J}return Me},s.prototype.solve=function(M,D){return this.sampleCurveY(this.solveCurveX(M,D))};var n=i;function i(M,D){this.x=M,this.y=D}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(M){return this.clone()._add(M)},sub:function(M){return this.clone()._sub(M)},multByPoint:function(M){return this.clone()._multByPoint(M)},divByPoint:function(M){return this.clone()._divByPoint(M)},mult:function(M){return this.clone()._mult(M)},div:function(M){return this.clone()._div(M)},rotate:function(M){return this.clone()._rotate(M)},rotateAround:function(M,D){return this.clone()._rotateAround(M,D)},matMult:function(M){return this.clone()._matMult(M)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(M){return this.x===M.x&&this.y===M.y},dist:function(M){return Math.sqrt(this.distSqr(M))},distSqr:function(M){var D=M.x-this.x,J=M.y-this.y;return D*D+J*J},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(M){return Math.atan2(this.y-M.y,this.x-M.x)},angleWith:function(M){return this.angleWithSep(M.x,M.y)},angleWithSep:function(M,D){return Math.atan2(this.x*D-this.y*M,this.x*M+this.y*D)},_matMult:function(M){var D=M[0]*this.x+M[1]*this.y,J=M[2]*this.x+M[3]*this.y;return this.x=D,this.y=J,this},_add:function(M){return this.x+=M.x,this.y+=M.y,this},_sub:function(M){return this.x-=M.x,this.y-=M.y,this},_mult:function(M){return this.x*=M,this.y*=M,this},_div:function(M){return this.x/=M,this.y/=M,this},_multByPoint:function(M){return this.x*=M.x,this.y*=M.y,this},_divByPoint:function(M){return this.x/=M.x,this.y/=M.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var M=this.y;return this.y=this.x,this.x=-M,this},_rotate:function(M){var D=Math.cos(M),J=Math.sin(M),ce=D*this.x-J*this.y,Me=J*this.x+D*this.y;return this.x=ce,this.y=Me,this},_rotateAround:function(M,D){var J=Math.cos(M),ce=Math.sin(M),Me=D.x+J*(this.x-D.x)-ce*(this.y-D.y),Ie=D.y+ce*(this.x-D.x)+J*(this.y-D.y);return this.x=Me,this.y=Ie,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(M){return M instanceof i?M:Array.isArray(M)?new i(M[0],M[1]):M};var r=typeof self<"u"?self:{},t=Math.pow(2,53)-1;function a(M,D,J,ce){var Me=new f(M,D,J,ce);return function(Ie){return Me.solve(Ie)}}var l=a(.25,.1,.25,1);function u(M,D,J){return Math.min(J,Math.max(D,M))}function h(M,D,J){var ce=J-D,Me=((M-D)%ce+ce)%ce+D;return Me===D?J:Me}function c(M){for(var D=[],J=arguments.length-1;J-- >0;)D[J]=arguments[J+1];for(var ce=0,Me=D;ce<Me.length;ce+=1){var Ie=Me[ce];for(var qe in Ie)M[qe]=Ie[qe]}return M}var y=1;function d(){return y++}function v(){return function M(D){return D?(D^16*Math.random()>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,M)}()}function g(M){return!!M&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M)}function x(M,D){M.forEach(function(J){D[J]&&(D[J]=D[J].bind(D))})}function m(M,D){return M.indexOf(D,M.length-D.length)!==-1}function _(M,D,J){var ce={};for(var Me in M)ce[Me]=D.call(J||this,M[Me],Me,M);return ce}function p(M,D,J){var ce={};for(var Me in M)D.call(J||this,M[Me],Me,M)&&(ce[Me]=M[Me]);return ce}function S(M){return Array.isArray(M)?M.map(S):typeof M=="object"&&M?_(M,S):M}var T={};function E(M){T[M]||(typeof console<"u"&&console.warn(M),T[M]=!0)}function O(M,D,J){return(J.y-M.y)*(D.x-M.x)>(D.y-M.y)*(J.x-M.x)}function P(M){for(var D=0,J=0,ce=M.length,Me=ce-1,Ie=void 0,qe=void 0;J<ce;Me=J++)Ie=M[J],D+=((qe=M[Me]).x-Ie.x)*(Ie.y+qe.y);return D}function I(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R(M){var D={};if(M.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ce,Me,Ie,qe){var tt=Ie||qe;return D[Me]=!tt||tt.toLowerCase(),""}),D["max-age"]){var J=parseInt(D["max-age"],10);isNaN(J)?delete D["max-age"]:D["max-age"]=J}return D}var H=null;function z(M){if(H==null){var D=M.navigator?M.navigator.userAgent:null;H=!!M.safari||!(!D||!(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return H}function j(M){try{var D=r[M];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}var Z,F,V,W,re=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),ne=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,te=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame,Q={now:re,frame:function(M){var D=ne(M);return{cancel:function(){return te(D)}}},getImageData:function(M,D){D===void 0&&(D=0);var J=r.document.createElement("canvas"),ce=J.getContext("2d");if(!ce)throw new Error("failed to create canvas 2d context");return J.width=M.width,J.height=M.height,ce.drawImage(M,0,0,M.width,M.height),ce.getImageData(-D,-D,M.width+2*D,M.height+2*D)},resolveURL:function(M){return Z||(Z=r.document.createElement("a")),Z.href=M,Z.href},hardwareConcurrency:r.navigator&&r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(F==null&&(F=r.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},$={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},K={supported:!1,testSupport:function(M){!ae&&W&&(ue?se(M):V=M)}},ae=!1,ue=!1;function se(M){var D=M.createTexture();M.bindTexture(M.TEXTURE_2D,D);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,W),M.isContextLost())return;K.supported=!0}catch{}M.deleteTexture(D),ae=!0}r.document&&((W=r.document.createElement("img")).onload=function(){V&&se(V),V=null,ue=!0},W.onerror=function(){ae=!0,V=null},W.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var he="01",pe=function(M,D){this._transformRequestFn=M,this._customAccessToken=D,this._createSkuToken()};function de(M){return M.indexOf("mapbox:")===0}pe.prototype._createSkuToken=function(){var M=function(){for(var D="",J=0;J<10;J++)D+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",he,D].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=M.token,this._skuTokenExpiresAt=M.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(M,D){return this._transformRequestFn&&this._transformRequestFn(M,D)||{url:M}},pe.prototype.normalizeStyleURL=function(M,D){if(!de(M))return M;var J=Le(M);return J.path="/styles/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||D)},pe.prototype.normalizeGlyphsURL=function(M,D){if(!de(M))return M;var J=Le(M);return J.path="/fonts/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||D)},pe.prototype.normalizeSourceURL=function(M,D){if(!de(M))return M;var J=Le(M);return J.path="/v4/"+J.authority+".json",J.params.push("secure"),this._makeAPIURL(J,this._customAccessToken||D)},pe.prototype.normalizeSpriteURL=function(M,D,J,ce){var Me=Le(M);return de(M)?(Me.path="/styles/v1"+Me.path+"/sprite"+D+J,this._makeAPIURL(Me,this._customAccessToken||ce)):(Me.path+=""+D+J,De(Me))},pe.prototype.normalizeTileURL=function(M,D){if(this._isSkuTokenExpired()&&this._createSkuToken(),M&&!de(M))return M;var J=Le(M),ce=Q.devicePixelRatio>=2||D===512?"@2x":"",Me=K.supported?".webp":"$1";J.path=J.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ce+Me),J.path=J.path.replace(/^.+\/v4\//,"/"),J.path="/v4"+J.path;var Ie=this._customAccessToken||function(qe){for(var tt=0,ht=qe;tt<ht.length;tt+=1){var Tt=ht[tt].match(/^access_token=(.*)$/);if(Tt)return Tt[1]}return null}(J.params)||$.ACCESS_TOKEN;return $.REQUIRE_ACCESS_TOKEN&&Ie&&this._skuToken&&J.params.push("sku="+this._skuToken),this._makeAPIURL(J,Ie)},pe.prototype.canonicalizeTileURL=function(M,D){var J=Le(M);if(!J.path.match(/(^\/v4\/)/)||!J.path.match(/\.[\w]+$/))return M;var ce="mapbox://tiles/";ce+=J.path.replace("/v4/","");var Me=J.params;return D&&(Me=Me.filter(function(Ie){return!Ie.match(/^access_token=/)})),Me.length&&(ce+="?"+Me.join("&")),ce},pe.prototype.canonicalizeTileset=function(M,D){for(var J=!!D&&de(D),ce=[],Me=0,Ie=M.tiles||[];Me<Ie.length;Me+=1){var qe=Ie[Me];_e(qe)?ce.push(this.canonicalizeTileURL(qe,J)):ce.push(qe)}return ce},pe.prototype._makeAPIURL=function(M,D){var J="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ce=Le($.API_URL);if(M.protocol=ce.protocol,M.authority=ce.authority,M.protocol==="http"){var Me=M.params.indexOf("secure");Me>=0&&M.params.splice(Me,1)}if(ce.path!=="/"&&(M.path=""+ce.path+M.path),!$.REQUIRE_ACCESS_TOKEN)return De(M);if(!(D=D||$.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+J);if(D[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+J);return M.params=M.params.filter(function(Ie){return Ie.indexOf("access_token")===-1}),M.params.push("access_token="+D),De(M)};var xe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function _e(M){return xe.test(M)}var be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Le(M){var D=M.match(be);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function De(M){var D=M.params.length?"?"+M.params.join("&"):"";return M.protocol+"://"+M.authority+M.path+D}var ye="mapbox.eventData";function le(M){if(!M)return null;var D,J=M.split(".");if(!J||J.length!==3)return null;try{return JSON.parse((D=J[1],decodeURIComponent(r.atob(D).split("").map(function(ce){return"%"+("00"+ce.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var oe=function(M){this.type=M,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};oe.prototype.getStorageKey=function(M){var D,J,ce=le($.ACCESS_TOKEN);return D=ce&&ce.u?(J=ce.u,r.btoa(encodeURIComponent(J).replace(/%([0-9A-F]{2})/g,function(Me,Ie){return String.fromCharCode(+("0x"+Ie))}))):$.ACCESS_TOKEN||"",M?ye+"."+M+":"+D:ye+":"+D},oe.prototype.fetchEventData=function(){var M=j("localStorage"),D=this.getStorageKey(),J=this.getStorageKey("uuid");if(M)try{var ce=r.localStorage.getItem(D);ce&&(this.eventData=JSON.parse(ce));var Me=r.localStorage.getItem(J);Me&&(this.anonId=Me)}catch{E("Unable to read from LocalStorage")}},oe.prototype.saveEventData=function(){var M=j("localStorage"),D=this.getStorageKey(),J=this.getStorageKey("uuid");if(M)try{r.localStorage.setItem(J,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(D,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},oe.prototype.processRequests=function(M){},oe.prototype.postEvent=function(M,D,J,ce){var Me=this;if($.EVENTS_URL){var Ie=Le($.EVENTS_URL);Ie.params.push("access_token="+(ce||$.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(M).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:he,userId:this.anonId},tt=D?c(qe,D):qe,ht={url:De(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([tt])};this.pendingRequest=Pt(ht,function(Tt){Me.pendingRequest=null,J(Tt),Me.saveEventData(),Me.processRequests(ce)})}},oe.prototype.queueRequest=function(M,D){this.queue.push(M),this.processRequests(D)};var ve,Ce,ke=function(M){function D(){M.call(this,"map.load"),this.success={},this.skuToken=""}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(J,ce,Me,Ie){this.skuToken=Me,($.EVENTS_URL&&Ie||$.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(qe){return de(qe)||_e(qe)}))&&this.queueRequest({id:ce,timestamp:Date.now()},Ie)},D.prototype.processRequests=function(J){var ce=this;if(!this.pendingRequest&&this.queue.length!==0){var Me=this.queue.shift(),Ie=Me.id,qe=Me.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=v()),this.postEvent(qe,{skuToken:this.skuToken},function(tt){tt||Ie&&(ce.success[Ie]=!0)},J))}},D}(oe),Ae=function(M){function D(J){M.call(this,"appUserTurnstile"),this._customAccessToken=J}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(J,ce){$.EVENTS_URL&&$.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Me){return de(Me)||_e(Me)})&&this.queueRequest(Date.now(),ce)},D.prototype.processRequests=function(J){var ce=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Me=le($.ACCESS_TOKEN),Ie=Me?Me.u:$.ACCESS_TOKEN,qe=Ie!==this.eventData.tokenU;g(this.anonId)||(this.anonId=v(),qe=!0);var tt=this.queue.shift();if(this.eventData.lastSuccess){var ht=new Date(this.eventData.lastSuccess),Tt=new Date(tt),Mt=(tt-this.eventData.lastSuccess)/864e5;qe=qe||Mt>=1||Mt<-1||ht.getDate()!==Tt.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(tt,{"enabled.telemetry":!1},function(Bt){Bt||(ce.eventData.lastSuccess=tt,ce.eventData.tokenU=Ie)},J)}},D}(oe),Ee=new Ae,ze=Ee.postTurnstileEvent.bind(Ee),Fe=new ke,ge=Fe.postMapLoadEvent.bind(Fe),Te="mapbox-tiles",Se=500,Re=50,Pe=42e4;function Ve(){r.caches&&!ve&&(ve=r.caches.open(Te))}function We(M,D,J){if(Ve(),ve){var ce={status:D.status,statusText:D.statusText,headers:new r.Headers};D.headers.forEach(function(Ie,qe){return ce.headers.set(qe,Ie)});var Me=R(D.headers.get("Cache-Control")||"");Me["no-store"]||(Me["max-age"]&&ce.headers.set("Expires",new Date(J+1e3*Me["max-age"]).toUTCString()),new Date(ce.headers.get("Expires")).getTime()-J<Pe||function(Ie,qe){if(Ce===void 0)try{new Response(new ReadableStream),Ce=!0}catch{Ce=!1}Ce?qe(Ie.body):Ie.blob().then(qe)}(D,function(Ie){var qe=new r.Response(Ie,ce);Ve(),ve&&ve.then(function(tt){return tt.put(Qe(M.url),qe)}).catch(function(tt){return E(tt.message)})}))}}function Qe(M){var D=M.indexOf("?");return D<0?M:M.slice(0,D)}function lt(M,D){if(Ve(),!ve)return D(null);var J=Qe(M.url);ve.then(function(ce){ce.match(J).then(function(Me){var Ie=function(qe){if(!qe)return!1;var tt=new Date(qe.headers.get("Expires")||0),ht=R(qe.headers.get("Cache-Control")||"");return tt>Date.now()&&!ht["no-cache"]}(Me);ce.delete(J),Ie&&ce.put(J,Me.clone()),D(null,Me,Ie)}).catch(D)}).catch(D)}var ut,xt=1/0;function _t(){return ut==null&&(ut=r.OffscreenCanvas&&new r.OffscreenCanvas(1,1).getContext("2d")&&typeof r.createImageBitmap=="function"),ut}var mt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mt);var it=function(M){function D(J,ce,Me){ce===401&&_e(Me)&&(J+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),M.call(this,J),this.status=ce,this.url=Me,this.name=this.constructor.name,this.message=J}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),nt=I()?function(){return self.worker&&self.worker.referrer}:function(){return(r.location.protocol==="blob:"?r.parent:r).location.href};function Et(M,D){var J,ce=new r.AbortController,Me=new r.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:nt(),signal:ce.signal}),Ie=!1,qe=!1,tt=(J=Me.url).indexOf("sku=")>0&&_e(J);M.type==="json"&&Me.headers.set("Accept","application/json");var ht=function(Mt,Bt,Gt){if(!qe){if(Mt&&Mt.message!=="SecurityError"&&E(Mt),Bt&&Gt)return Tt(Bt);var Vt=Date.now();r.fetch(Me).then(function(ln){if(ln.ok){var cn=tt?ln.clone():null;return Tt(ln,cn,Vt)}return D(new it(ln.statusText,ln.status,M.url))}).catch(function(ln){ln.code!==20&&D(new Error(ln.message))})}},Tt=function(Mt,Bt,Gt){(M.type==="arrayBuffer"?Mt.arrayBuffer():M.type==="json"?Mt.json():Mt.text()).then(function(Vt){qe||(Bt&&Gt&&We(Me,Bt,Gt),Ie=!0,D(null,Vt,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(Vt){qe||D(new Error(Vt.message))})};return tt?lt(Me,ht):ht(null,null),{cancel:function(){qe=!0,Ie||ce.abort()}}}var Rt=function(M,D){if(J=M.url,!(/^file:/.test(J)||/^file:/.test(nt())&&!/^\w+:/.test(J))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return Et(M,D);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",M,D,void 0,!0)}var J;return function(ce,Me){var Ie=new r.XMLHttpRequest;for(var qe in Ie.open(ce.method||"GET",ce.url,!0),ce.type==="arrayBuffer"&&(Ie.responseType="arraybuffer"),ce.headers)Ie.setRequestHeader(qe,ce.headers[qe]);return ce.type==="json"&&(Ie.responseType="text",Ie.setRequestHeader("Accept","application/json")),Ie.withCredentials=ce.credentials==="include",Ie.onerror=function(){Me(new Error(Ie.statusText))},Ie.onload=function(){if((Ie.status>=200&&Ie.status<300||Ie.status===0)&&Ie.response!==null){var tt=Ie.response;if(ce.type==="json")try{tt=JSON.parse(Ie.response)}catch(ht){return Me(ht)}Me(null,tt,Ie.getResponseHeader("Cache-Control"),Ie.getResponseHeader("Expires"))}else Me(new it(Ie.statusText,Ie.status,ce.url))},Ie.send(ce.body),{cancel:function(){return Ie.abort()}}}(M,D)},Ft=function(M,D){return Rt(c(M,{type:"arrayBuffer"}),D)},Pt=function(M,D){return Rt(c(M,{method:"POST"}),D)},Ze,$e,He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ze=[],$e=0;var Je=function(M,D){if(K.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*"),$e>=$.MAX_PARALLEL_IMAGE_REQUESTS){var J={requestParameters:M,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ze.push(J),J}$e++;var ce=!1,Me=function(){if(!ce)for(ce=!0,$e--;Ze.length&&$e<$.MAX_PARALLEL_IMAGE_REQUESTS;){var qe=Ze.shift(),tt=qe.requestParameters,ht=qe.callback;qe.cancelled||(qe.cancel=Je(tt,ht).cancel)}},Ie=Ft(M,function(qe,tt,ht,Tt){Me(),qe?D(qe):tt&&(_t()?function(Mt,Bt){var Gt=new r.Blob([new Uint8Array(Mt)],{type:"image/png"});r.createImageBitmap(Gt).then(function(Vt){Bt(null,Vt)}).catch(function(Vt){Bt(new Error("Could not load image because of "+Vt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(tt,D):function(Mt,Bt,Gt,Vt){var ln=new r.Image,cn=r.URL;ln.onload=function(){Bt(null,ln),cn.revokeObjectURL(ln.src),ln.onload=null,r.requestAnimationFrame(function(){ln.src=He})},ln.onerror=function(){return Bt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Mn=new r.Blob([new Uint8Array(Mt)],{type:"image/png"});ln.cacheControl=Gt,ln.expires=Vt,ln.src=Mt.byteLength?cn.createObjectURL(Mn):He}(tt,D,ht,Tt))});return{cancel:function(){Ie.cancel(),Me()}}};function ft(M,D,J){J[M]&&J[M].indexOf(D)!==-1||(J[M]=J[M]||[],J[M].push(D))}function ot(M,D,J){if(J&&J[M]){var ce=J[M].indexOf(D);ce!==-1&&J[M].splice(ce,1)}}var je=function(M,D){D===void 0&&(D={}),c(this,D),this.type=M},Ue=function(M){function D(J,ce){ce===void 0&&(ce={}),M.call(this,"error",c({error:J},ce))}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D}(je),st=function(){};st.prototype.on=function(M,D){return this._listeners=this._listeners||{},ft(M,D,this._listeners),this},st.prototype.off=function(M,D){return ot(M,D,this._listeners),ot(M,D,this._oneTimeListeners),this},st.prototype.once=function(M,D){return this._oneTimeListeners=this._oneTimeListeners||{},ft(M,D,this._oneTimeListeners),this},st.prototype.fire=function(M,D){typeof M=="string"&&(M=new je(M,D||{}));var J=M.type;if(this.listens(J)){M.target=this;for(var ce=0,Me=this._listeners&&this._listeners[J]?this._listeners[J].slice():[];ce<Me.length;ce+=1)Me[ce].call(this,M);for(var Ie=0,qe=this._oneTimeListeners&&this._oneTimeListeners[J]?this._oneTimeListeners[J].slice():[];Ie<qe.length;Ie+=1){var tt=qe[Ie];ot(J,tt,this._oneTimeListeners),tt.call(this,M)}var ht=this._eventedParent;ht&&(c(M,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(M))}else M instanceof Ue&&console.error(M.error);return this},st.prototype.listens=function(M){return this._listeners&&this._listeners[M]&&this._listeners[M].length>0||this._oneTimeListeners&&this._oneTimeListeners[M]&&this._oneTimeListeners[M].length>0||this._eventedParent&&this._eventedParent.listens(M)},st.prototype.setEventedParent=function(M,D){return this._eventedParent=M,this._eventedParentData=D,this};var Ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},gt=function(M,D,J,ce){this.message=(M?M+": ":"")+J,ce&&(this.identifier=ce),D!=null&&D.__line__&&(this.line=D.__line__)};function yt(M){var D=M.key,J=M.value;return J?[new gt(D,J,"constants have been deprecated as of v8")]:[]}function bt(M){for(var D=[],J=arguments.length-1;J-- >0;)D[J]=arguments[J+1];for(var ce=0,Me=D;ce<Me.length;ce+=1){var Ie=Me[ce];for(var qe in Ie)M[qe]=Ie[qe]}return M}function dt(M){return M instanceof Number||M instanceof String||M instanceof Boolean?M.valueOf():M}function Lt(M){if(Array.isArray(M))return M.map(Lt);if(M instanceof Object&&!(M instanceof Number||M instanceof String||M instanceof Boolean)){var D={};for(var J in M)D[J]=Lt(M[J]);return D}return dt(M)}var wt=function(M){function D(J,ce){M.call(this,ce),this.message=ce,this.key=J}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D}(Error),Ct=function(M,D){D===void 0&&(D=[]),this.parent=M,this.bindings={};for(var J=0,ce=D;J<ce.length;J+=1){var Me=ce[J],Ie=Me[0],qe=Me[1];this.bindings[Ie]=qe}};Ct.prototype.concat=function(M){return new Ct(this,M)},Ct.prototype.get=function(M){if(this.bindings[M])return this.bindings[M];if(this.parent)return this.parent.get(M);throw new Error(M+" not found in scope.")},Ct.prototype.has=function(M){return!!this.bindings[M]||!!this.parent&&this.parent.has(M)};var zt={kind:"null"},Dt={kind:"number"},Nt={kind:"string"},Kt={kind:"boolean"},un={kind:"color"},qt={kind:"object"},Jt={kind:"value"},Ut={kind:"collator"},zn={kind:"formatted"},An={kind:"resolvedImage"};function mn(M,D){return{kind:"array",itemType:M,N:D}}function tn(M){if(M.kind==="array"){var D=tn(M.itemType);return typeof M.N=="number"?"array<"+D+", "+M.N+">":M.itemType.kind==="value"?"array":"array<"+D+">"}return M.kind}var fn=[zt,Dt,Nt,Kt,un,zn,qt,mn(Jt),An];function rn(M,D){if(D.kind==="error")return null;if(M.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!rn(M.itemType,D.itemType))&&(typeof M.N!="number"||M.N===D.N))return null}else{if(M.kind===D.kind)return null;if(M.kind==="value"){for(var J=0,ce=fn;J<ce.length;J+=1)if(!rn(ce[J],D))return null}}return"Expected "+tn(M)+" but found "+tn(D)+" instead."}function pn(M,D){return D.some(function(J){return J.kind===M.kind})}function wn(M,D){return D.some(function(J){return J==="null"?M===null:J==="array"?Array.isArray(M):J==="object"?M&&!Array.isArray(M)&&typeof M=="object":J===typeof M})}var kn=w(function(M,D){var J={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ce(ht){return(ht=Math.round(ht))<0?0:ht>255?255:ht}function Me(ht){return ht<0?0:ht>1?1:ht}function Ie(ht){return ht[ht.length-1]==="%"?ce(parseFloat(ht)/100*255):ce(parseInt(ht))}function qe(ht){return ht[ht.length-1]==="%"?Me(parseFloat(ht)/100):Me(parseFloat(ht))}function tt(ht,Tt,Mt){return Mt<0?Mt+=1:Mt>1&&(Mt-=1),6*Mt<1?ht+(Tt-ht)*Mt*6:2*Mt<1?Tt:3*Mt<2?ht+(Tt-ht)*(2/3-Mt)*6:ht}try{D.parseCSSColor=function(ht){var Tt,Mt=ht.replace(/ /g,"").toLowerCase();if(Mt in J)return J[Mt].slice();if(Mt[0]==="#")return Mt.length===4?(Tt=parseInt(Mt.substr(1),16))>=0&&Tt<=4095?[(3840&Tt)>>4|(3840&Tt)>>8,240&Tt|(240&Tt)>>4,15&Tt|(15&Tt)<<4,1]:null:Mt.length===7&&(Tt=parseInt(Mt.substr(1),16))>=0&&Tt<=16777215?[(16711680&Tt)>>16,(65280&Tt)>>8,255&Tt,1]:null;var Bt=Mt.indexOf("("),Gt=Mt.indexOf(")");if(Bt!==-1&&Gt+1===Mt.length){var Vt=Mt.substr(0,Bt),ln=Mt.substr(Bt+1,Gt-(Bt+1)).split(","),cn=1;switch(Vt){case"rgba":if(ln.length!==4)return null;cn=qe(ln.pop());case"rgb":return ln.length!==3?null:[Ie(ln[0]),Ie(ln[1]),Ie(ln[2]),cn];case"hsla":if(ln.length!==4)return null;cn=qe(ln.pop());case"hsl":if(ln.length!==3)return null;var Mn=(parseFloat(ln[0])%360+360)%360/360,Tn=qe(ln[1]),Bn=qe(ln[2]),Nn=Bn<=.5?Bn*(Tn+1):Bn+Tn-Bn*Tn,Xn=2*Bn-Nn;return[ce(255*tt(Xn,Nn,Mn+1/3)),ce(255*tt(Xn,Nn,Mn)),ce(255*tt(Xn,Nn,Mn-1/3)),cn];default:return null}}return null}}catch{}}),Pn=kn.parseCSSColor,On=function(M,D,J,ce){ce===void 0&&(ce=1),this.r=M,this.g=D,this.b=J,this.a=ce};On.parse=function(M){if(M){if(M instanceof On)return M;if(typeof M=="string"){var D=Pn(M);if(D)return new On(D[0]/255*D[3],D[1]/255*D[3],D[2]/255*D[3],D[3])}}},On.prototype.toString=function(){var M=this.toArray(),D=M[0],J=M[1],ce=M[2],Me=M[3];return"rgba("+Math.round(D)+","+Math.round(J)+","+Math.round(ce)+","+Me+")"},On.prototype.toArray=function(){var M=this,D=M.r,J=M.g,ce=M.b,Me=M.a;return Me===0?[0,0,0,0]:[255*D/Me,255*J/Me,255*ce/Me,Me]},On.black=new On(0,0,0,1),On.white=new On(1,1,1,1),On.transparent=new On(0,0,0,0),On.red=new On(1,0,0,1);var En=function(M,D,J){this.sensitivity=M?D?"variant":"case":D?"accent":"base",this.locale=J,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};En.prototype.compare=function(M,D){return this.collator.compare(M,D)},En.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Vn=function(M,D,J,ce,Me){this.text=M,this.image=D,this.scale=J,this.fontStack=ce,this.textColor=Me},Fn=function(M){this.sections=M};Fn.fromString=function(M){return new Fn([new Vn(M,null,null,null,null)])},Fn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(M){return M.text.length!==0||M.image&&M.image.name.length!==0})},Fn.factory=function(M){return M instanceof Fn?M:Fn.fromString(M)},Fn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(M){return M.text}).join("")},Fn.prototype.serialize=function(){for(var M=["format"],D=0,J=this.sections;D<J.length;D+=1){var ce=J[D];if(ce.image)M.push(["image",ce.image.name]);else{M.push(ce.text);var Me={};ce.fontStack&&(Me["text-font"]=["literal",ce.fontStack.split(",")]),ce.scale&&(Me["font-scale"]=ce.scale),ce.textColor&&(Me["text-color"]=["rgba"].concat(ce.textColor.toArray())),M.push(Me)}}return M};var Wn=function(M){this.name=M.name,this.available=M.available};function rr(M,D,J,ce){return typeof M=="number"&&M>=0&&M<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof J=="number"&&J>=0&&J<=255?ce===void 0||typeof ce=="number"&&ce>=0&&ce<=1?null:"Invalid rgba value ["+[M,D,J,ce].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ce=="number"?[M,D,J,ce]:[M,D,J]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ir(M){if(M===null||typeof M=="string"||typeof M=="boolean"||typeof M=="number"||M instanceof On||M instanceof En||M instanceof Fn||M instanceof Wn)return!0;if(Array.isArray(M)){for(var D=0,J=M;D<J.length;D+=1)if(!ir(J[D]))return!1;return!0}if(typeof M=="object"){for(var ce in M)if(!ir(M[ce]))return!1;return!0}return!1}function Jn(M){if(M===null)return zt;if(typeof M=="string")return Nt;if(typeof M=="boolean")return Kt;if(typeof M=="number")return Dt;if(M instanceof On)return un;if(M instanceof En)return Ut;if(M instanceof Fn)return zn;if(M instanceof Wn)return An;if(Array.isArray(M)){for(var D,J=M.length,ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Jn(Me[ce]);if(D){if(D===Ie)continue;D=Jt;break}D=Ie}return mn(D||Jt,J)}return qt}function dr(M){var D=typeof M;return M===null?"":D==="string"||D==="number"||D==="boolean"?String(M):M instanceof On||M instanceof Fn||M instanceof Wn?M.toString():JSON.stringify(M)}Wn.prototype.toString=function(){return this.name},Wn.fromString=function(M){return M?new Wn({name:M,available:!1}):null},Wn.prototype.serialize=function(){return["image",this.name]};var nn=function(M,D){this.type=M,this.value=D};nn.parse=function(M,D){if(M.length!==2)return D.error("'literal' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(!ir(M[1]))return D.error("invalid value");var J=M[1],ce=Jn(J),Me=D.expectedType;return ce.kind!=="array"||ce.N!==0||!Me||Me.kind!=="array"||typeof Me.N=="number"&&Me.N!==0||(ce=Me),new nn(ce,J)},nn.prototype.evaluate=function(){return this.value},nn.prototype.eachChild=function(){},nn.prototype.outputDefined=function(){return!0},nn.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof On?["rgba"].concat(this.value.toArray()):this.value instanceof Fn?this.value.serialize():this.value};var an=function(M){this.name="ExpressionEvaluationError",this.message=M};an.prototype.toJSON=function(){return this.message};var In={string:Nt,number:Dt,boolean:Kt,object:qt},yn=function(M,D){this.type=M,this.args=D};yn.parse=function(M,D){if(M.length<2)return D.error("Expected at least one argument.");var J,ce=1,Me=M[0];if(Me==="array"){var Ie,qe;if(M.length>2){var tt=M[1];if(typeof tt!="string"||!(tt in In)||tt==="object")return D.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=In[tt],ce++}else Ie=Jt;if(M.length>3){if(M[2]!==null&&(typeof M[2]!="number"||M[2]<0||M[2]!==Math.floor(M[2])))return D.error('The length argument to "array" must be a positive integer literal',2);qe=M[2],ce++}J=mn(Ie,qe)}else J=In[Me];for(var ht=[];ce<M.length;ce++){var Tt=D.parse(M[ce],ce,Jt);if(!Tt)return null;ht.push(Tt)}return new yn(J,ht)},yn.prototype.evaluate=function(M){for(var D=0;D<this.args.length;D++){var J=this.args[D].evaluate(M);if(!rn(this.type,Jn(J)))return J;if(D===this.args.length-1)throw new an("Expected value to be of type "+tn(this.type)+", but found "+tn(Jn(J))+" instead.")}return null},yn.prototype.eachChild=function(M){this.args.forEach(M)},yn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},yn.prototype.serialize=function(){var M=this.type,D=[M.kind];if(M.kind==="array"){var J=M.itemType;if(J.kind==="string"||J.kind==="number"||J.kind==="boolean"){D.push(J.kind);var ce=M.N;(typeof ce=="number"||this.args.length>1)&&D.push(ce)}}return D.concat(this.args.map(function(Me){return Me.serialize()}))};var Dn=function(M){this.type=zn,this.sections=M};Dn.parse=function(M,D){if(M.length<2)return D.error("Expected at least one argument.");var J=M[1];if(!Array.isArray(J)&&typeof J=="object")return D.error("First argument must be an image or text section.");for(var ce=[],Me=!1,Ie=1;Ie<=M.length-1;++Ie){var qe=M[Ie];if(Me&&typeof qe=="object"&&!Array.isArray(qe)){Me=!1;var tt=null;if(qe["font-scale"]&&!(tt=D.parse(qe["font-scale"],1,Dt)))return null;var ht=null;if(qe["text-font"]&&!(ht=D.parse(qe["text-font"],1,mn(Nt))))return null;var Tt=null;if(qe["text-color"]&&!(Tt=D.parse(qe["text-color"],1,un)))return null;var Mt=ce[ce.length-1];Mt.scale=tt,Mt.font=ht,Mt.textColor=Tt}else{var Bt=D.parse(M[Ie],1,Jt);if(!Bt)return null;var Gt=Bt.type.kind;if(Gt!=="string"&&Gt!=="value"&&Gt!=="null"&&Gt!=="resolvedImage")return D.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,ce.push({content:Bt,scale:null,font:null,textColor:null})}}return new Dn(ce)},Dn.prototype.evaluate=function(M){return new Fn(this.sections.map(function(D){var J=D.content.evaluate(M);return Jn(J)===An?new Vn("",J,null,null,null):new Vn(dr(J),null,D.scale?D.scale.evaluate(M):null,D.font?D.font.evaluate(M).join(","):null,D.textColor?D.textColor.evaluate(M):null)}))},Dn.prototype.eachChild=function(M){for(var D=0,J=this.sections;D<J.length;D+=1){var ce=J[D];M(ce.content),ce.scale&&M(ce.scale),ce.font&&M(ce.font),ce.textColor&&M(ce.textColor)}},Dn.prototype.outputDefined=function(){return!1},Dn.prototype.serialize=function(){for(var M=["format"],D=0,J=this.sections;D<J.length;D+=1){var ce=J[D];M.push(ce.content.serialize());var Me={};ce.scale&&(Me["font-scale"]=ce.scale.serialize()),ce.font&&(Me["text-font"]=ce.font.serialize()),ce.textColor&&(Me["text-color"]=ce.textColor.serialize()),M.push(Me)}return M};var Zn=function(M){this.type=An,this.input=M};Zn.parse=function(M,D){if(M.length!==2)return D.error("Expected two arguments.");var J=D.parse(M[1],1,Nt);return J?new Zn(J):D.error("No image name provided.")},Zn.prototype.evaluate=function(M){var D=this.input.evaluate(M),J=Wn.fromString(D);return J&&M.availableImages&&(J.available=M.availableImages.indexOf(D)>-1),J},Zn.prototype.eachChild=function(M){M(this.input)},Zn.prototype.outputDefined=function(){return!1},Zn.prototype.serialize=function(){return["image",this.input.serialize()]};var Hn={"to-boolean":Kt,"to-color":un,"to-number":Dt,"to-string":Nt},Qn=function(M,D){this.type=M,this.args=D};Qn.parse=function(M,D){if(M.length<2)return D.error("Expected at least one argument.");var J=M[0];if((J==="to-boolean"||J==="to-string")&&M.length!==2)return D.error("Expected one argument.");for(var ce=Hn[J],Me=[],Ie=1;Ie<M.length;Ie++){var qe=D.parse(M[Ie],Ie,Jt);if(!qe)return null;Me.push(qe)}return new Qn(ce,Me)},Qn.prototype.evaluate=function(M){if(this.type.kind==="boolean")return!!this.args[0].evaluate(M);if(this.type.kind==="color"){for(var D,J,ce=0,Me=this.args;ce<Me.length;ce+=1){if(J=null,(D=Me[ce].evaluate(M))instanceof On)return D;if(typeof D=="string"){var Ie=M.parseColor(D);if(Ie)return Ie}else if(Array.isArray(D)&&!(J=D.length<3||D.length>4?"Invalid rbga value "+JSON.stringify(D)+": expected an array containing either three or four numeric values.":rr(D[0],D[1],D[2],D[3])))return new On(D[0]/255,D[1]/255,D[2]/255,D[3])}throw new an(J||"Could not parse color from value '"+(typeof D=="string"?D:String(JSON.stringify(D)))+"'")}if(this.type.kind==="number"){for(var qe=null,tt=0,ht=this.args;tt<ht.length;tt+=1){if((qe=ht[tt].evaluate(M))===null)return 0;var Tt=Number(qe);if(!isNaN(Tt))return Tt}throw new an("Could not convert "+JSON.stringify(qe)+" to number.")}return this.type.kind==="formatted"?Fn.fromString(dr(this.args[0].evaluate(M))):this.type.kind==="resolvedImage"?Wn.fromString(dr(this.args[0].evaluate(M))):dr(this.args[0].evaluate(M))},Qn.prototype.eachChild=function(M){this.args.forEach(M)},Qn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Qn.prototype.serialize=function(){if(this.type.kind==="formatted")return new Dn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Zn(this.args[0]).serialize();var M=["to-"+this.type.kind];return this.eachChild(function(D){M.push(D.serialize())}),M};var mr=["Unknown","Point","LineString","Polygon"],Qt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Qt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?mr[this.feature.type]:this.feature.type:null},Qt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Qt.prototype.canonicalID=function(){return this.canonical},Qt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qt.prototype.parseColor=function(M){var D=this._parseColorCache[M];return D||(D=this._parseColorCache[M]=On.parse(M)),D};var xn=function(M,D,J,ce){this.name=M,this.type=D,this._evaluate=J,this.args=ce};xn.prototype.evaluate=function(M){return this._evaluate(M,this.args)},xn.prototype.eachChild=function(M){this.args.forEach(M)},xn.prototype.outputDefined=function(){return!1},xn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(M){return M.serialize()}))},xn.parse=function(M,D){var J,ce=M[0],Me=xn.definitions[ce];if(!Me)return D.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Me)?Me[0]:Me.type,qe=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,tt=qe.filter(function(qr){var zr=qr[0];return!Array.isArray(zr)||zr.length===M.length-1}),ht=null,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1){var Bt=Mt[Tt],Gt=Bt[0],Vt=Bt[1];ht=new yr(D.registry,D.path,null,D.scope);for(var ln=[],cn=!1,Mn=1;Mn<M.length;Mn++){var Tn=M[Mn],Bn=Array.isArray(Gt)?Gt[Mn-1]:Gt.type,Nn=ht.parse(Tn,1+ln.length,Bn);if(!Nn){cn=!0;break}ln.push(Nn)}if(!cn)if(Array.isArray(Gt)&&Gt.length!==ln.length)ht.error("Expected "+Gt.length+" arguments, but found "+ln.length+" instead.");else{for(var Xn=0;Xn<ln.length;Xn++){var $n=Array.isArray(Gt)?Gt[Xn]:Gt.type,lr=ln[Xn];ht.concat(Xn+1).checkSubtype($n,lr.type)}if(ht.errors.length===0)return new xn(ce,Ie,Vt,ln)}}if(tt.length===1)(J=D.errors).push.apply(J,ht.errors);else{for(var xr=(tt.length?tt:qe).map(function(qr){return zr=qr[0],Array.isArray(zr)?"("+zr.map(tn).join(", ")+")":"("+tn(zr.type)+"...)";var zr}).join(" | "),vr=[],Ar=1;Ar<M.length;Ar++){var Er=D.parse(M[Ar],1+vr.length);if(!Er)return null;vr.push(tn(Er.type))}D.error("Expected arguments of type "+xr+", but found ("+vr.join(", ")+") instead.")}return null},xn.register=function(M,D){for(var J in xn.definitions=D,D)M[J]=xn};var At=function(M,D,J){this.type=Ut,this.locale=J,this.caseSensitive=M,this.diacriticSensitive=D};At.parse=function(M,D){if(M.length!==2)return D.error("Expected one argument.");var J=M[1];if(typeof J!="object"||Array.isArray(J))return D.error("Collator options argument must be an object.");var ce=D.parse(J["case-sensitive"]!==void 0&&J["case-sensitive"],1,Kt);if(!ce)return null;var Me=D.parse(J["diacritic-sensitive"]!==void 0&&J["diacritic-sensitive"],1,Kt);if(!Me)return null;var Ie=null;return J.locale&&!(Ie=D.parse(J.locale,1,Nt))?null:new At(ce,Me,Ie)},At.prototype.evaluate=function(M){return new En(this.caseSensitive.evaluate(M),this.diacriticSensitive.evaluate(M),this.locale?this.locale.evaluate(M):null)},At.prototype.eachChild=function(M){M(this.caseSensitive),M(this.diacriticSensitive),this.locale&&M(this.locale)},At.prototype.outputDefined=function(){return!1},At.prototype.serialize=function(){var M={};return M["case-sensitive"]=this.caseSensitive.serialize(),M["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(M.locale=this.locale.serialize()),["collator",M]};var Wt=8192;function en(M,D){M[0]=Math.min(M[0],D[0]),M[1]=Math.min(M[1],D[1]),M[2]=Math.max(M[2],D[0]),M[3]=Math.max(M[3],D[1])}function dn(M,D){return!(M[0]<=D[0]||M[2]>=D[2]||M[1]<=D[1]||M[3]>=D[3])}function gn(M,D){var J,ce=(180+M[0])/360,Me=(J=M[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+J*Math.PI/360)))/360),Ie=Math.pow(2,D.z);return[Math.round(ce*Ie*Wt),Math.round(Me*Ie*Wt)]}function _n(M,D,J){return D[1]>M[1]!=J[1]>M[1]&&M[0]<(J[0]-D[0])*(M[1]-D[1])/(J[1]-D[1])+D[0]}function on(M,D){for(var J=!1,ce=0,Me=D.length;ce<Me;ce++)for(var Ie=D[ce],qe=0,tt=Ie.length;qe<tt-1;qe++){if(ht=M,Tt=Ie[qe],Mt=Ie[qe+1],Bt=void 0,Gt=void 0,Vt=void 0,ln=void 0,Bt=ht[0]-Tt[0],Gt=ht[1]-Tt[1],Vt=ht[0]-Mt[0],ln=ht[1]-Mt[1],Bt*ln-Vt*Gt==0&&Bt*Vt<=0&&Gt*ln<=0)return!1;_n(M,Ie[qe],Ie[qe+1])&&(J=!J)}var ht,Tt,Mt,Bt,Gt,Vt,ln;return J}function Yt(M,D){for(var J=0;J<D.length;J++)if(on(M,D[J]))return!0;return!1}function Xt(M,D,J,ce){var Me=M[0]-J[0],Ie=M[1]-J[1],qe=D[0]-J[0],tt=D[1]-J[1],ht=ce[0]-J[0],Tt=ce[1]-J[1],Mt=Me*Tt-ht*Ie,Bt=qe*Tt-ht*tt;return Mt>0&&Bt<0||Mt<0&&Bt>0}function sn(M,D,J){for(var ce=0,Me=J;ce<Me.length;ce+=1)for(var Ie=Me[ce],qe=0;qe<Ie.length-1;++qe)if(tt=M,ht=D,Tt=Ie[qe],Mt=Ie[qe+1],Bt=void 0,Gt=void 0,Vt=void 0,Vt=[ht[0]-tt[0],ht[1]-tt[1]],Bt=[Mt[0]-Tt[0],Mt[1]-Tt[1]],Gt=Vt,Bt[0]*Gt[1]-Bt[1]*Gt[0]!=0&&Xt(tt,ht,Tt,Mt)&&Xt(Tt,Mt,tt,ht))return!0;var tt,ht,Tt,Mt,Bt,Gt,Vt;return!1}function hn(M,D){for(var J=0;J<M.length;++J)if(!on(M[J],D))return!1;for(var ce=0;ce<M.length-1;++ce)if(sn(M[ce],M[ce+1],D))return!1;return!0}function Sn(M,D){for(var J=0;J<D.length;J++)if(hn(M,D[J]))return!0;return!1}function Cn(M,D,J){for(var ce=[],Me=0;Me<M.length;Me++){for(var Ie=[],qe=0;qe<M[Me].length;qe++){var tt=gn(M[Me][qe],J);en(D,tt),Ie.push(tt)}ce.push(Ie)}return ce}function Un(M,D,J){for(var ce=[],Me=0;Me<M.length;Me++){var Ie=Cn(M[Me],D,J);ce.push(Ie)}return ce}function qn(M,D,J,ce){if(M[0]<J[0]||M[0]>J[2]){var Me=.5*ce,Ie=M[0]-J[0]>Me?-ce:J[0]-M[0]>Me?ce:0;Ie===0&&(Ie=M[0]-J[2]>Me?-ce:J[2]-M[0]>Me?ce:0),M[0]+=Ie}en(D,M)}function tr(M,D,J,ce){for(var Me=Math.pow(2,ce.z)*Wt,Ie=[ce.x*Wt,ce.y*Wt],qe=[],tt=0,ht=M;tt<ht.length;tt+=1)for(var Tt=0,Mt=ht[tt];Tt<Mt.length;Tt+=1){var Bt=Mt[Tt],Gt=[Bt.x+Ie[0],Bt.y+Ie[1]];qn(Gt,D,J,Me),qe.push(Gt)}return qe}function Yn(M,D,J,ce){for(var Me=Math.pow(2,ce.z)*Wt,Ie=[ce.x*Wt,ce.y*Wt],qe=[],tt=0,ht=M;tt<ht.length;tt+=1){for(var Tt=[],Mt=0,Bt=ht[tt];Mt<Bt.length;Mt+=1){var Gt=Bt[Mt],Vt=[Gt.x+Ie[0],Gt.y+Ie[1]];en(D,Vt),Tt.push(Vt)}qe.push(Tt)}if(D[2]-D[0]<=Me/2){(Bn=D)[0]=Bn[1]=1/0,Bn[2]=Bn[3]=-1/0;for(var ln=0,cn=qe;ln<cn.length;ln+=1)for(var Mn=0,Tn=cn[ln];Mn<Tn.length;Mn+=1)qn(Tn[Mn],D,J,Me)}var Bn;return qe}var sr=function(M,D){this.type=Kt,this.geojson=M,this.geometries=D};function ar(M){if(M instanceof xn&&(M.name==="get"&&M.args.length===1||M.name==="feature-state"||M.name==="has"&&M.args.length===1||M.name==="properties"||M.name==="geometry-type"||M.name==="id"||/^filter-/.test(M.name))||M instanceof sr)return!1;var D=!0;return M.eachChild(function(J){D&&!ar(J)&&(D=!1)}),D}function er(M){if(M instanceof xn&&M.name==="feature-state")return!1;var D=!0;return M.eachChild(function(J){D&&!er(J)&&(D=!1)}),D}function gr(M,D){if(M instanceof xn&&D.indexOf(M.name)>=0)return!1;var J=!0;return M.eachChild(function(ce){J&&!gr(ce,D)&&(J=!1)}),J}sr.parse=function(M,D){if(M.length!==2)return D.error("'within' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(ir(M[1])){var J=M[1];if(J.type==="FeatureCollection")for(var ce=0;ce<J.features.length;++ce){var Me=J.features[ce].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new sr(J,J.features[ce].geometry)}else if(J.type==="Feature"){var Ie=J.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new sr(J,J.geometry)}else if(J.type==="Polygon"||J.type==="MultiPolygon")return new sr(J,J)}return D.error("'within' expression requires valid geojson object that contains polygon geometry type.")},sr.prototype.evaluate=function(M){if(M.geometry()!=null&&M.canonicalID()!=null){if(M.geometryType()==="Point")return function(D,J){var ce=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Ie=D.canonicalID();if(J.type==="Polygon"){var qe=Cn(J.coordinates,Me,Ie),tt=tr(D.geometry(),ce,Me,Ie);if(!dn(ce,Me))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!on(Tt[ht],qe))return!1}if(J.type==="MultiPolygon"){var Mt=Un(J.coordinates,Me,Ie),Bt=tr(D.geometry(),ce,Me,Ie);if(!dn(ce,Me))return!1;for(var Gt=0,Vt=Bt;Gt<Vt.length;Gt+=1)if(!Yt(Vt[Gt],Mt))return!1}return!0}(M,this.geometries);if(M.geometryType()==="LineString")return function(D,J){var ce=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Ie=D.canonicalID();if(J.type==="Polygon"){var qe=Cn(J.coordinates,Me,Ie),tt=Yn(D.geometry(),ce,Me,Ie);if(!dn(ce,Me))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!hn(Tt[ht],qe))return!1}if(J.type==="MultiPolygon"){var Mt=Un(J.coordinates,Me,Ie),Bt=Yn(D.geometry(),ce,Me,Ie);if(!dn(ce,Me))return!1;for(var Gt=0,Vt=Bt;Gt<Vt.length;Gt+=1)if(!Sn(Vt[Gt],Mt))return!1}return!0}(M,this.geometries)}return!1},sr.prototype.eachChild=function(){},sr.prototype.outputDefined=function(){return!0},sr.prototype.serialize=function(){return["within",this.geojson]};var kr=function(M,D){this.type=D.type,this.name=M,this.boundExpression=D};kr.parse=function(M,D){if(M.length!==2||typeof M[1]!="string")return D.error("'var' expression requires exactly one string literal argument.");var J=M[1];return D.scope.has(J)?new kr(J,D.scope.get(J)):D.error('Unknown variable "'+J+'". Make sure "'+J+'" has been bound in an enclosing "let" expression before using it.',1)},kr.prototype.evaluate=function(M){return this.boundExpression.evaluate(M)},kr.prototype.eachChild=function(){},kr.prototype.outputDefined=function(){return!1},kr.prototype.serialize=function(){return["var",this.name]};var yr=function(M,D,J,ce,Me){D===void 0&&(D=[]),ce===void 0&&(ce=new Ct),Me===void 0&&(Me=[]),this.registry=M,this.path=D,this.key=D.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=ce,this.errors=Me,this.expectedType=J};function ur(M){if(M instanceof kr)return ur(M.boundExpression);if(M instanceof xn&&M.name==="error"||M instanceof At||M instanceof sr)return!1;var D=M instanceof Qn||M instanceof yn,J=!0;return M.eachChild(function(ce){J=D?J&&ur(ce):J&&ce instanceof nn}),!!J&&ar(M)&&gr(M,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function _r(M,D){for(var J,ce,Me=M.length-1,Ie=0,qe=Me,tt=0;Ie<=qe;)if(J=M[tt=Math.floor((Ie+qe)/2)],ce=M[tt+1],J<=D){if(tt===Me||D<ce)return tt;Ie=tt+1}else{if(!(J>D))throw new an("Input is not a number.");qe=tt-1}return 0}yr.prototype.parse=function(M,D,J,ce,Me){return Me===void 0&&(Me={}),D?this.concat(D,J,ce)._parse(M,Me):this._parse(M,Me)},yr.prototype._parse=function(M,D){function J(Tt,Mt,Bt){return Bt==="assert"?new yn(Mt,[Tt]):Bt==="coerce"?new Qn(Mt,[Tt]):Tt}if(M!==null&&typeof M!="string"&&typeof M!="boolean"&&typeof M!="number"||(M=["literal",M]),Array.isArray(M)){if(M.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ce=M[0];if(typeof ce!="string")return this.error("Expression name must be a string, but found "+typeof ce+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[ce];if(Me){var Ie=Me.parse(M,this);if(!Ie)return null;if(this.expectedType){var qe=this.expectedType,tt=Ie.type;if(qe.kind!=="string"&&qe.kind!=="number"&&qe.kind!=="boolean"&&qe.kind!=="object"&&qe.kind!=="array"||tt.kind!=="value")if(qe.kind!=="color"&&qe.kind!=="formatted"&&qe.kind!=="resolvedImage"||tt.kind!=="value"&&tt.kind!=="string"){if(this.checkSubtype(qe,tt))return null}else Ie=J(Ie,qe,D.typeAnnotation||"coerce");else Ie=J(Ie,qe,D.typeAnnotation||"assert")}if(!(Ie instanceof nn)&&Ie.type.kind!=="resolvedImage"&&ur(Ie)){var ht=new Qt;try{Ie=new nn(Ie.type,Ie.evaluate(ht))}catch(Tt){return this.error(Tt.message),null}}return Ie}return this.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0)}return M===void 0?this.error("'undefined' value invalid. Use null instead."):typeof M=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof M+" instead.")},yr.prototype.concat=function(M,D,J){var ce=typeof M=="number"?this.path.concat(M):this.path,Me=J?this.scope.concat(J):this.scope;return new yr(this.registry,ce,D||null,Me,this.errors)},yr.prototype.error=function(M){for(var D=[],J=arguments.length-1;J-- >0;)D[J]=arguments[J+1];var ce=""+this.key+D.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new wt(ce,M))},yr.prototype.checkSubtype=function(M,D){var J=rn(M,D);return J&&this.error(J),J};var Mr=function(M,D,J){this.type=M,this.input=D,this.labels=[],this.outputs=[];for(var ce=0,Me=J;ce<Me.length;ce+=1){var Ie=Me[ce],qe=Ie[0],tt=Ie[1];this.labels.push(qe),this.outputs.push(tt)}};function Ur(M,D,J){return M*(1-J)+D*J}Mr.parse=function(M,D){if(M.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return D.error("Expected an even number of arguments.");var J=D.parse(M[1],1,Dt);if(!J)return null;var ce=[],Me=null;D.expectedType&&D.expectedType.kind!=="value"&&(Me=D.expectedType);for(var Ie=1;Ie<M.length;Ie+=2){var qe=Ie===1?-1/0:M[Ie],tt=M[Ie+1],ht=Ie,Tt=Ie+1;if(typeof qe!="number")return D.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ht);if(ce.length&&ce[ce.length-1][0]>=qe)return D.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ht);var Mt=D.parse(tt,Tt,Me);if(!Mt)return null;Me=Me||Mt.type,ce.push([qe,Mt])}return new Mr(Me,J,ce)},Mr.prototype.evaluate=function(M){var D=this.labels,J=this.outputs;if(D.length===1)return J[0].evaluate(M);var ce=this.input.evaluate(M);if(ce<=D[0])return J[0].evaluate(M);var Me=D.length;return ce>=D[Me-1]?J[Me-1].evaluate(M):J[_r(D,ce)].evaluate(M)},Mr.prototype.eachChild=function(M){M(this.input);for(var D=0,J=this.outputs;D<J.length;D+=1)M(J[D])},Mr.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Mr.prototype.serialize=function(){for(var M=["step",this.input.serialize()],D=0;D<this.labels.length;D++)D>0&&M.push(this.labels[D]),M.push(this.outputs[D].serialize());return M};var gi=Object.freeze({__proto__:null,number:Ur,color:function(M,D,J){return new On(Ur(M.r,D.r,J),Ur(M.g,D.g,J),Ur(M.b,D.b,J),Ur(M.a,D.a,J))},array:function(M,D,J){return M.map(function(ce,Me){return Ur(ce,D[Me],J)})}}),xi=.95047,ia=1,hi=1.08883,Bi=4/29,Nr=6/29,Ai=3*Nr*Nr,Pa=Nr*Nr*Nr,pa=Math.PI/180,Xo=180/Math.PI;function Ko(M){return M>Pa?Math.pow(M,.3333333333333333):M/Ai+Bi}function Co(M){return M>Nr?M*M*M:Ai*(M-Bi)}function da(M){return 255*(M<=.0031308?12.92*M:1.055*Math.pow(M,.4166666666666667)-.055)}function Po(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function ms(M){var D=Po(M.r),J=Po(M.g),ce=Po(M.b),Me=Ko((.4124564*D+.3575761*J+.1804375*ce)/xi),Ie=Ko((.2126729*D+.7151522*J+.072175*ce)/ia);return{l:116*Ie-16,a:500*(Me-Ie),b:200*(Ie-Ko((.0193339*D+.119192*J+.9503041*ce)/hi)),alpha:M.a}}function Vs(M){var D=(M.l+16)/116,J=isNaN(M.a)?D:D+M.a/500,ce=isNaN(M.b)?D:D-M.b/200;return D=ia*Co(D),J=xi*Co(J),ce=hi*Co(ce),new On(da(3.2404542*J-1.5371385*D-.4985314*ce),da(-.969266*J+1.8760108*D+.041556*ce),da(.0556434*J-.2040259*D+1.0572252*ce),M.alpha)}function to(M,D,J){var ce=D-M;return M+J*(ce>180||ce<-180?ce-360*Math.round(ce/360):ce)}var no={forward:ms,reverse:Vs,interpolate:function(M,D,J){return{l:Ur(M.l,D.l,J),a:Ur(M.a,D.a,J),b:Ur(M.b,D.b,J),alpha:Ur(M.alpha,D.alpha,J)}}},Oo={forward:function(M){var D=ms(M),J=D.l,ce=D.a,Me=D.b,Ie=Math.atan2(Me,ce)*Xo;return{h:Ie<0?Ie+360:Ie,c:Math.sqrt(ce*ce+Me*Me),l:J,alpha:M.a}},reverse:function(M){var D=M.h*pa,J=M.c;return Vs({l:M.l,a:Math.cos(D)*J,b:Math.sin(D)*J,alpha:M.alpha})},interpolate:function(M,D,J){return{h:to(M.h,D.h,J),c:Ur(M.c,D.c,J),l:Ur(M.l,D.l,J),alpha:Ur(M.alpha,D.alpha,J)}}},Mi=Object.freeze({__proto__:null,lab:no,hcl:Oo}),Ji=function(M,D,J,ce,Me){this.type=M,this.operator=D,this.interpolation=J,this.input=ce,this.labels=[],this.outputs=[];for(var Ie=0,qe=Me;Ie<qe.length;Ie+=1){var tt=qe[Ie],ht=tt[0],Tt=tt[1];this.labels.push(ht),this.outputs.push(Tt)}};function Jo(M,D,J,ce){var Me=ce-J,Ie=M-J;return Me===0?0:D===1?Ie/Me:(Math.pow(D,Ie)-1)/(Math.pow(D,Me)-1)}Ji.interpolationFactor=function(M,D,J,ce){var Me=0;if(M.name==="exponential")Me=Jo(D,M.base,J,ce);else if(M.name==="linear")Me=Jo(D,1,J,ce);else if(M.name==="cubic-bezier"){var Ie=M.controlPoints;Me=new f(Ie[0],Ie[1],Ie[2],Ie[3]).solve(Jo(D,1,J,ce))}return Me},Ji.parse=function(M,D){var J=M[0],ce=M[1],Me=M[2],Ie=M.slice(3);if(!Array.isArray(ce)||ce.length===0)return D.error("Expected an interpolation type expression.",1);if(ce[0]==="linear")ce={name:"linear"};else if(ce[0]==="exponential"){var qe=ce[1];if(typeof qe!="number")return D.error("Exponential interpolation requires a numeric base.",1,1);ce={name:"exponential",base:qe}}else{if(ce[0]!=="cubic-bezier")return D.error("Unknown interpolation type "+String(ce[0]),1,0);var tt=ce.slice(1);if(tt.length!==4||tt.some(function(Mn){return typeof Mn!="number"||Mn<0||Mn>1}))return D.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ce={name:"cubic-bezier",controlPoints:tt}}if(M.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return D.error("Expected an even number of arguments.");if(!(Me=D.parse(Me,2,Dt)))return null;var ht=[],Tt=null;J==="interpolate-hcl"||J==="interpolate-lab"?Tt=un:D.expectedType&&D.expectedType.kind!=="value"&&(Tt=D.expectedType);for(var Mt=0;Mt<Ie.length;Mt+=2){var Bt=Ie[Mt],Gt=Ie[Mt+1],Vt=Mt+3,ln=Mt+4;if(typeof Bt!="number")return D.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Vt);if(ht.length&&ht[ht.length-1][0]>=Bt)return D.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Vt);var cn=D.parse(Gt,ln,Tt);if(!cn)return null;Tt=Tt||cn.type,ht.push([Bt,cn])}return Tt.kind==="number"||Tt.kind==="color"||Tt.kind==="array"&&Tt.itemType.kind==="number"&&typeof Tt.N=="number"?new Ji(Tt,J,ce,Me,ht):D.error("Type "+tn(Tt)+" is not interpolatable.")},Ji.prototype.evaluate=function(M){var D=this.labels,J=this.outputs;if(D.length===1)return J[0].evaluate(M);var ce=this.input.evaluate(M);if(ce<=D[0])return J[0].evaluate(M);var Me=D.length;if(ce>=D[Me-1])return J[Me-1].evaluate(M);var Ie=_r(D,ce),qe=D[Ie],tt=D[Ie+1],ht=Ji.interpolationFactor(this.interpolation,ce,qe,tt),Tt=J[Ie].evaluate(M),Mt=J[Ie+1].evaluate(M);return this.operator==="interpolate"?gi[this.type.kind.toLowerCase()](Tt,Mt,ht):this.operator==="interpolate-hcl"?Oo.reverse(Oo.interpolate(Oo.forward(Tt),Oo.forward(Mt),ht)):no.reverse(no.interpolate(no.forward(Tt),no.forward(Mt),ht))},Ji.prototype.eachChild=function(M){M(this.input);for(var D=0,J=this.outputs;D<J.length;D+=1)M(J[D])},Ji.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Ji.prototype.serialize=function(){var M;M=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var D=[this.operator,M,this.input.serialize()],J=0;J<this.labels.length;J++)D.push(this.labels[J],this.outputs[J].serialize());return D};var Io=function(M,D){this.type=M,this.args=D};Io.parse=function(M,D){if(M.length<2)return D.error("Expectected at least one argument.");var J=null,ce=D.expectedType;ce&&ce.kind!=="value"&&(J=ce);for(var Me=[],Ie=0,qe=M.slice(1);Ie<qe.length;Ie+=1){var tt=qe[Ie],ht=D.parse(tt,1+Me.length,J,void 0,{typeAnnotation:"omit"});if(!ht)return null;J=J||ht.type,Me.push(ht)}var Tt=ce&&Me.some(function(Mt){return rn(ce,Mt.type)});return new Io(Tt?Jt:J,Me)},Io.prototype.evaluate=function(M){for(var D,J=null,ce=0,Me=0,Ie=this.args;Me<Ie.length&&(ce++,(J=Ie[Me].evaluate(M))&&J instanceof Wn&&!J.available&&(D||(D=J.name),J=null,ce===this.args.length&&(J=D)),J===null);Me+=1);return J},Io.prototype.eachChild=function(M){this.args.forEach(M)},Io.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Io.prototype.serialize=function(){var M=["coalesce"];return this.eachChild(function(D){M.push(D.serialize())}),M};var po=function(M,D){this.type=D.type,this.bindings=[].concat(M),this.result=D};po.prototype.evaluate=function(M){return this.result.evaluate(M)},po.prototype.eachChild=function(M){for(var D=0,J=this.bindings;D<J.length;D+=1)M(J[D][1]);M(this.result)},po.parse=function(M,D){if(M.length<4)return D.error("Expected at least 3 arguments, but found "+(M.length-1)+" instead.");for(var J=[],ce=1;ce<M.length-1;ce+=2){var Me=M[ce];if(typeof Me!="string")return D.error("Expected string, but found "+typeof Me+" instead.",ce);if(/[^a-zA-Z0-9_]/.test(Me))return D.error("Variable names must contain only alphanumeric characters or '_'.",ce);var Ie=D.parse(M[ce+1],ce+1);if(!Ie)return null;J.push([Me,Ie])}var qe=D.parse(M[M.length-1],M.length-1,D.expectedType,J);return qe?new po(J,qe):null},po.prototype.outputDefined=function(){return this.result.outputDefined()},po.prototype.serialize=function(){for(var M=["let"],D=0,J=this.bindings;D<J.length;D+=1){var ce=J[D],Me=ce[0],Ie=ce[1];M.push(Me,Ie.serialize())}return M.push(this.result.serialize()),M};var ys=function(M,D,J){this.type=M,this.index=D,this.input=J};ys.parse=function(M,D){if(M.length!==3)return D.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var J=D.parse(M[1],1,Dt),ce=D.parse(M[2],2,mn(D.expectedType||Jt));if(!J||!ce)return null;var Me=ce.type;return new ys(Me.itemType,J,ce)},ys.prototype.evaluate=function(M){var D=this.index.evaluate(M),J=this.input.evaluate(M);if(D<0)throw new an("Array index out of bounds: "+D+" < 0.");if(D>=J.length)throw new an("Array index out of bounds: "+D+" > "+(J.length-1)+".");if(D!==Math.floor(D))throw new an("Array index must be an integer, but found "+D+" instead.");return J[D]},ys.prototype.eachChild=function(M){M(this.index),M(this.input)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var zo=function(M,D){this.type=Kt,this.needle=M,this.haystack=D};zo.parse=function(M,D){if(M.length!==3)return D.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var J=D.parse(M[1],1,Jt),ce=D.parse(M[2],2,Jt);return J&&ce?pn(J.type,[Kt,Nt,Dt,zt,Jt])?new zo(J,ce):D.error("Expected first argument to be of type boolean, string, number or null, but found "+tn(J.type)+" instead"):null},zo.prototype.evaluate=function(M){var D=this.needle.evaluate(M),J=this.haystack.evaluate(M);if(!J)return!1;if(!wn(D,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+tn(Jn(D))+" instead.");if(!wn(J,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+tn(Jn(J))+" instead.");return J.indexOf(D)>=0},zo.prototype.eachChild=function(M){M(this.needle),M(this.haystack)},zo.prototype.outputDefined=function(){return!0},zo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xs=function(M,D,J){this.type=Dt,this.needle=M,this.haystack=D,this.fromIndex=J};xs.parse=function(M,D){if(M.length<=2||M.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var J=D.parse(M[1],1,Jt),ce=D.parse(M[2],2,Jt);if(!J||!ce)return null;if(!pn(J.type,[Kt,Nt,Dt,zt,Jt]))return D.error("Expected first argument to be of type boolean, string, number or null, but found "+tn(J.type)+" instead");if(M.length===4){var Me=D.parse(M[3],3,Dt);return Me?new xs(J,ce,Me):null}return new xs(J,ce)},xs.prototype.evaluate=function(M){var D=this.needle.evaluate(M),J=this.haystack.evaluate(M);if(!wn(D,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+tn(Jn(D))+" instead.");if(!wn(J,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+tn(Jn(J))+" instead.");if(this.fromIndex){var ce=this.fromIndex.evaluate(M);return J.indexOf(D,ce)}return J.indexOf(D)},xs.prototype.eachChild=function(M){M(this.needle),M(this.haystack),this.fromIndex&&M(this.fromIndex)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var M=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),M]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var $o=function(M,D,J,ce,Me,Ie){this.inputType=M,this.type=D,this.input=J,this.cases=ce,this.outputs=Me,this.otherwise=Ie};$o.parse=function(M,D){if(M.length<5)return D.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if(M.length%2!=1)return D.error("Expected an even number of arguments.");var J,ce;D.expectedType&&D.expectedType.kind!=="value"&&(ce=D.expectedType);for(var Me={},Ie=[],qe=2;qe<M.length-1;qe+=2){var tt=M[qe],ht=M[qe+1];Array.isArray(tt)||(tt=[tt]);var Tt=D.concat(qe);if(tt.length===0)return Tt.error("Expected at least one branch label.");for(var Mt=0,Bt=tt;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];if(typeof Gt!="number"&&typeof Gt!="string")return Tt.error("Branch labels must be numbers or strings.");if(typeof Gt=="number"&&Math.abs(Gt)>Number.MAX_SAFE_INTEGER)return Tt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Gt=="number"&&Math.floor(Gt)!==Gt)return Tt.error("Numeric branch labels must be integer values.");if(J){if(Tt.checkSubtype(J,Jn(Gt)))return null}else J=Jn(Gt);if(Me[String(Gt)]!==void 0)return Tt.error("Branch labels must be unique.");Me[String(Gt)]=Ie.length}var Vt=D.parse(ht,qe,ce);if(!Vt)return null;ce=ce||Vt.type,Ie.push(Vt)}var ln=D.parse(M[1],1,Jt);if(!ln)return null;var cn=D.parse(M[M.length-1],M.length-1,ce);return cn?ln.type.kind!=="value"&&D.concat(1).checkSubtype(J,ln.type)?null:new $o(J,ce,ln,Me,Ie,cn):null},$o.prototype.evaluate=function(M){var D=this.input.evaluate(M);return(Jn(D)===this.inputType&&this.outputs[this.cases[D]]||this.otherwise).evaluate(M)},$o.prototype.eachChild=function(M){M(this.input),this.outputs.forEach(M),M(this.otherwise)},$o.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){for(var M=this,D=["match",this.input.serialize()],J=[],ce={},Me=0,Ie=Object.keys(this.cases).sort();Me<Ie.length;Me+=1){var qe=Ie[Me];(Bt=ce[this.cases[qe]])===void 0?(ce[this.cases[qe]]=J.length,J.push([this.cases[qe],[qe]])):J[Bt][1].push(qe)}for(var tt=function(Vt){return M.inputType.kind==="number"?Number(Vt):Vt},ht=0,Tt=J;ht<Tt.length;ht+=1){var Mt=Tt[ht],Bt=Mt[0],Gt=Mt[1];Gt.length===1?D.push(tt(Gt[0])):D.push(Gt.map(tt)),D.push(this.outputs[outputIndex$1].serialize())}return D.push(this.otherwise.serialize()),D};var bs=function(M,D,J){this.type=M,this.branches=D,this.otherwise=J};bs.parse=function(M,D){if(M.length<4)return D.error("Expected at least 3 arguments, but found only "+(M.length-1)+".");if(M.length%2!=0)return D.error("Expected an odd number of arguments.");var J;D.expectedType&&D.expectedType.kind!=="value"&&(J=D.expectedType);for(var ce=[],Me=1;Me<M.length-1;Me+=2){var Ie=D.parse(M[Me],Me,Kt);if(!Ie)return null;var qe=D.parse(M[Me+1],Me+1,J);if(!qe)return null;ce.push([Ie,qe]),J=J||qe.type}var tt=D.parse(M[M.length-1],M.length-1,J);return tt?new bs(J,ce,tt):null},bs.prototype.evaluate=function(M){for(var D=0,J=this.branches;D<J.length;D+=1){var ce=J[D],Me=ce[0],Ie=ce[1];if(Me.evaluate(M))return Ie.evaluate(M)}return this.otherwise.evaluate(M)},bs.prototype.eachChild=function(M){for(var D=0,J=this.branches;D<J.length;D+=1){var ce=J[D],Me=ce[0],Ie=ce[1];M(Me),M(Ie)}M(this.otherwise)},bs.prototype.outputDefined=function(){return this.branches.every(function(M){return M[0],M[1].outputDefined()})&&this.otherwise.outputDefined()},bs.prototype.serialize=function(){var M=["case"];return this.eachChild(function(D){M.push(D.serialize())}),M};var Do=function(M,D,J,ce){this.type=M,this.input=D,this.beginIndex=J,this.endIndex=ce};function Eu(M,D){return M==="=="||M==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function su(M,D,J,ce){return ce.compare(D,J)===0}function Hs(M,D,J){var ce=M!=="=="&&M!=="!=";return function(){function Me(Ie,qe,tt){this.type=Kt,this.lhs=Ie,this.rhs=qe,this.collator=tt,this.hasUntypedArgument=Ie.type.kind==="value"||qe.type.kind==="value"}return Me.parse=function(Ie,qe){if(Ie.length!==3&&Ie.length!==4)return qe.error("Expected two or three arguments.");var tt=Ie[0],ht=qe.parse(Ie[1],1,Jt);if(!ht)return null;if(!Eu(tt,ht.type))return qe.concat(1).error('"'+tt+`" comparisons are not supported for type '`+tn(ht.type)+"'.");var Tt=qe.parse(Ie[2],2,Jt);if(!Tt)return null;if(!Eu(tt,Tt.type))return qe.concat(2).error('"'+tt+`" comparisons are not supported for type '`+tn(Tt.type)+"'.");if(ht.type.kind!==Tt.type.kind&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return qe.error("Cannot compare types '"+tn(ht.type)+"' and '"+tn(Tt.type)+"'.");ce&&(ht.type.kind==="value"&&Tt.type.kind!=="value"?ht=new yn(Tt.type,[ht]):ht.type.kind!=="value"&&Tt.type.kind==="value"&&(Tt=new yn(ht.type,[Tt])));var Mt=null;if(Ie.length===4){if(ht.type.kind!=="string"&&Tt.type.kind!=="string"&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(!(Mt=qe.parse(Ie[3],3,Ut)))return null}return new Me(ht,Tt,Mt)},Me.prototype.evaluate=function(Ie){var qe=this.lhs.evaluate(Ie),tt=this.rhs.evaluate(Ie);if(ce&&this.hasUntypedArgument){var ht=Jn(qe),Tt=Jn(tt);if(ht.kind!==Tt.kind||ht.kind!=="string"&&ht.kind!=="number")throw new an('Expected arguments for "'+M+'" to be (string, string) or (number, number), but found ('+ht.kind+", "+Tt.kind+") instead.")}if(this.collator&&!ce&&this.hasUntypedArgument){var Mt=Jn(qe),Bt=Jn(tt);if(Mt.kind!=="string"||Bt.kind!=="string")return D(Ie,qe,tt)}return this.collator?J(Ie,qe,tt,this.collator.evaluate(Ie)):D(Ie,qe,tt)},Me.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},Me.prototype.outputDefined=function(){return!0},Me.prototype.serialize=function(){var Ie=[M];return this.eachChild(function(qe){Ie.push(qe.serialize())}),Ie},Me}()}Do.parse=function(M,D){if(M.length<=2||M.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var J=D.parse(M[1],1,Jt),ce=D.parse(M[2],2,Dt);if(!J||!ce)return null;if(!pn(J.type,[mn(Jt),Nt,Jt]))return D.error("Expected first argument to be of type array or string, but found "+tn(J.type)+" instead");if(M.length===4){var Me=D.parse(M[3],3,Dt);return Me?new Do(J.type,J,ce,Me):null}return new Do(J.type,J,ce)},Do.prototype.evaluate=function(M){var D=this.input.evaluate(M),J=this.beginIndex.evaluate(M);if(!wn(D,["string","array"]))throw new an("Expected first argument to be of type array or string, but found "+tn(Jn(D))+" instead.");if(this.endIndex){var ce=this.endIndex.evaluate(M);return D.slice(J,ce)}return D.slice(J)},Do.prototype.eachChild=function(M){M(this.input),M(this.beginIndex),this.endIndex&&M(this.endIndex)},Do.prototype.outputDefined=function(){return!1},Do.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var M=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),M]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Xu=Hs("==",function(M,D,J){return D===J},su),Ku=Hs("!=",function(M,D,J){return D!==J},function(M,D,J,ce){return!su(0,D,J,ce)}),qs=Hs("<",function(M,D,J){return D<J},function(M,D,J,ce){return ce.compare(D,J)<0}),Ju=Hs(">",function(M,D,J){return D>J},function(M,D,J,ce){return ce.compare(D,J)>0}),Dc=Hs("<=",function(M,D,J){return D<=J},function(M,D,J,ce){return ce.compare(D,J)<=0}),Rc=Hs(">=",function(M,D,J){return D>=J},function(M,D,J,ce){return ce.compare(D,J)>=0}),Gs=function(M,D,J,ce,Me){this.type=Nt,this.number=M,this.locale=D,this.currency=J,this.minFractionDigits=ce,this.maxFractionDigits=Me};Gs.parse=function(M,D){if(M.length!==3)return D.error("Expected two arguments.");var J=D.parse(M[1],1,Dt);if(!J)return null;var ce=M[2];if(typeof ce!="object"||Array.isArray(ce))return D.error("NumberFormat options argument must be an object.");var Me=null;if(ce.locale&&!(Me=D.parse(ce.locale,1,Nt)))return null;var Ie=null;if(ce.currency&&!(Ie=D.parse(ce.currency,1,Nt)))return null;var qe=null;if(ce["min-fraction-digits"]&&!(qe=D.parse(ce["min-fraction-digits"],1,Dt)))return null;var tt=null;return ce["max-fraction-digits"]&&!(tt=D.parse(ce["max-fraction-digits"],1,Dt))?null:new Gs(J,Me,Ie,qe,tt)},Gs.prototype.evaluate=function(M){return new Intl.NumberFormat(this.locale?this.locale.evaluate(M):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(M):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(M):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(M):void 0}).format(this.number.evaluate(M))},Gs.prototype.eachChild=function(M){M(this.number),this.locale&&M(this.locale),this.currency&&M(this.currency),this.minFractionDigits&&M(this.minFractionDigits),this.maxFractionDigits&&M(this.maxFractionDigits)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var M={};return this.locale&&(M.locale=this.locale.serialize()),this.currency&&(M.currency=this.currency.serialize()),this.minFractionDigits&&(M["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(M["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),M]};var Ro=function(M){this.type=Dt,this.input=M};Ro.parse=function(M,D){if(M.length!==2)return D.error("Expected 1 argument, but found "+(M.length-1)+" instead.");var J=D.parse(M[1],1);return J?J.type.kind!=="array"&&J.type.kind!=="string"&&J.type.kind!=="value"?D.error("Expected argument of type string or array, but found "+tn(J.type)+" instead."):new Ro(J):null},Ro.prototype.evaluate=function(M){var D=this.input.evaluate(M);if(typeof D=="string"||Array.isArray(D))return D.length;throw new an("Expected value to be of type string or array, but found "+tn(Jn(D))+" instead.")},Ro.prototype.eachChild=function(M){M(this.input)},Ro.prototype.outputDefined=function(){return!1},Ro.prototype.serialize=function(){var M=["length"];return this.eachChild(function(D){M.push(D.serialize())}),M};var cl={"==":Xu,"!=":Ku,">":Ju,"<":qs,">=":Rc,"<=":Dc,array:yn,at:ys,boolean:yn,case:bs,coalesce:Io,collator:At,format:Dn,image:Zn,in:zo,"index-of":xs,interpolate:Ji,"interpolate-hcl":Ji,"interpolate-lab":Ji,length:Ro,let:po,literal:nn,match:$o,number:yn,"number-format":Gs,object:yn,slice:Do,step:Mr,string:yn,"to-boolean":Qn,"to-color":Qn,"to-number":Qn,"to-string":Qn,var:kr,within:sr};function Ws(M,D){var J=D[0],ce=D[1],Me=D[2],Ie=D[3];J=J.evaluate(M),ce=ce.evaluate(M),Me=Me.evaluate(M);var qe=Ie?Ie.evaluate(M):1,tt=rr(J,ce,Me,qe);if(tt)throw new an(tt);return new On(J/255*qe,ce/255*qe,Me/255*qe,qe)}function Dl(M,D){return M in D}function Ys(M,D){var J=D[M];return J===void 0?null:J}function go(M){return{type:M}}function Lu(M){return{result:"success",value:M}}function _s(M){return{result:"error",value:M}}function Qo(M){return M["property-type"]==="data-driven"||M["property-type"]==="cross-faded-data-driven"}function es(M){return!!M.expression&&M.expression.parameters.indexOf("zoom")>-1}function ws(M){return!!M.expression&&M.expression.interpolated}function Kr(M){return M instanceof Number?"number":M instanceof String?"string":M instanceof Boolean?"boolean":Array.isArray(M)?"array":M===null?"null":typeof M}function fl(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)}function Fc(M){return M}function lu(M,D){var J,ce,Me,Ie=D.type==="color",qe=M.stops&&typeof M.stops[0][0]=="object",tt=qe||M.property!==void 0,ht=qe||!tt,Tt=M.type||(ws(D)?"exponential":"interval");if(Ie&&((M=bt({},M)).stops&&(M.stops=M.stops.map(function(vr){return[vr[0],On.parse(vr[1])]})),M.default?M.default=On.parse(M.default):M.default=On.parse(D.default)),M.colorSpace&&M.colorSpace!=="rgb"&&!Mi[M.colorSpace])throw new Error("Unknown color space: "+M.colorSpace);if(Tt==="exponential")J=uu;else if(Tt==="interval")J=Bc;else if(Tt==="categorical"){J=$u,ce=Object.create(null);for(var Mt=0,Bt=M.stops;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];ce[Gt[0]]=Gt[1]}Me=typeof M.stops[0][0]}else{if(Tt!=="identity")throw new Error('Unknown function type "'+Tt+'"');J=Nc}if(qe){for(var Vt={},ln=[],cn=0;cn<M.stops.length;cn++){var Mn=M.stops[cn],Tn=Mn[0].zoom;Vt[Tn]===void 0&&(Vt[Tn]={zoom:Tn,type:M.type,property:M.property,default:M.default,stops:[]},ln.push(Tn)),Vt[Tn].stops.push([Mn[0].value,Mn[1]])}for(var Bn=[],Nn=0,Xn=ln;Nn<Xn.length;Nn+=1){var $n=Xn[Nn];Bn.push([Vt[$n].zoom,lu(Vt[$n],D)])}var lr={name:"linear"};return{kind:"composite",interpolationType:lr,interpolationFactor:Ji.interpolationFactor.bind(void 0,lr),zoomStops:Bn.map(function(vr){return vr[0]}),evaluate:function(vr,Ar){var Er=vr.zoom;return uu({stops:Bn,base:M.base},D,Er).evaluate(Er,Ar)}}}if(ht){var xr=Tt==="exponential"?{name:"exponential",base:M.base!==void 0?M.base:1}:null;return{kind:"camera",interpolationType:xr,interpolationFactor:Ji.interpolationFactor.bind(void 0,xr),zoomStops:M.stops.map(function(vr){return vr[0]}),evaluate:function(vr){var Ar=vr.zoom;return J(M,D,Ar,ce,Me)}}}return{kind:"source",evaluate:function(vr,Ar){var Er=Ar&&Ar.properties?Ar.properties[M.property]:void 0;return Er===void 0?hl(M.default,D.default):J(M,D,Er,ce,Me)}}}function hl(M,D,J){return M!==void 0?M:D!==void 0?D:J!==void 0?J:void 0}function $u(M,D,J,ce,Me){return hl(typeof J===Me?ce[J]:void 0,M.default,D.default)}function Bc(M,D,J){if(Kr(J)!=="number")return hl(M.default,D.default);var ce=M.stops.length;if(ce===1||J<=M.stops[0][0])return M.stops[0][1];if(J>=M.stops[ce-1][0])return M.stops[ce-1][1];var Me=_r(M.stops.map(function(Ie){return Ie[0]}),J);return M.stops[Me][1]}function uu(M,D,J){var ce=M.base!==void 0?M.base:1;if(Kr(J)!=="number")return hl(M.default,D.default);var Me=M.stops.length;if(Me===1||J<=M.stops[0][0])return M.stops[0][1];if(J>=M.stops[Me-1][0])return M.stops[Me-1][1];var Ie=_r(M.stops.map(function(Bt){return Bt[0]}),J),qe=function(Bt,Gt,Vt,ln){var cn=ln-Vt,Mn=Bt-Vt;return cn===0?0:Gt===1?Mn/cn:(Math.pow(Gt,Mn)-1)/(Math.pow(Gt,cn)-1)}(J,ce,M.stops[Ie][0],M.stops[Ie+1][0]),tt=M.stops[Ie][1],ht=M.stops[Ie+1][1],Tt=gi[D.type]||Fc;if(M.colorSpace&&M.colorSpace!=="rgb"){var Mt=Mi[M.colorSpace];Tt=function(Bt,Gt){return Mt.reverse(Mt.interpolate(Mt.forward(Bt),Mt.forward(Gt),qe))}}return typeof tt.evaluate=="function"?{evaluate:function(){for(var Bt=[],Gt=arguments.length;Gt--;)Bt[Gt]=arguments[Gt];var Vt=tt.evaluate.apply(void 0,Bt),ln=ht.evaluate.apply(void 0,Bt);if(Vt!==void 0&&ln!==void 0)return Tt(Vt,ln,qe)}}:Tt(tt,ht,qe)}function Nc(M,D,J){return D.type==="color"?J=On.parse(J):D.type==="formatted"?J=Fn.fromString(J.toString()):D.type==="resolvedImage"?J=Wn.fromString(J.toString()):Kr(J)===D.type||D.type==="enum"&&D.values[J]||(J=void 0),hl(J,M.default,D.default)}xn.register(cl,{error:[{kind:"error"},[Nt],function(M,D){var J=D[0];throw new an(J.evaluate(M))}],typeof:[Nt,[Jt],function(M,D){return tn(Jn(D[0].evaluate(M)))}],"to-rgba":[mn(Dt,4),[un],function(M,D){return D[0].evaluate(M).toArray()}],rgb:[un,[Dt,Dt,Dt],Ws],rgba:[un,[Dt,Dt,Dt,Dt],Ws],has:{type:Kt,overloads:[[[Nt],function(M,D){return Dl(D[0].evaluate(M),M.properties())}],[[Nt,qt],function(M,D){var J=D[0],ce=D[1];return Dl(J.evaluate(M),ce.evaluate(M))}]]},get:{type:Jt,overloads:[[[Nt],function(M,D){return Ys(D[0].evaluate(M),M.properties())}],[[Nt,qt],function(M,D){var J=D[0],ce=D[1];return Ys(J.evaluate(M),ce.evaluate(M))}]]},"feature-state":[Jt,[Nt],function(M,D){return Ys(D[0].evaluate(M),M.featureState||{})}],properties:[qt,[],function(M){return M.properties()}],"geometry-type":[Nt,[],function(M){return M.geometryType()}],id:[Jt,[],function(M){return M.id()}],zoom:[Dt,[],function(M){return M.globals.zoom}],"heatmap-density":[Dt,[],function(M){return M.globals.heatmapDensity||0}],"line-progress":[Dt,[],function(M){return M.globals.lineProgress||0}],accumulated:[Jt,[],function(M){return M.globals.accumulated===void 0?null:M.globals.accumulated}],"+":[Dt,go(Dt),function(M,D){for(var J=0,ce=0,Me=D;ce<Me.length;ce+=1)J+=Me[ce].evaluate(M);return J}],"*":[Dt,go(Dt),function(M,D){for(var J=1,ce=0,Me=D;ce<Me.length;ce+=1)J*=Me[ce].evaluate(M);return J}],"-":{type:Dt,overloads:[[[Dt,Dt],function(M,D){var J=D[0],ce=D[1];return J.evaluate(M)-ce.evaluate(M)}],[[Dt],function(M,D){return-D[0].evaluate(M)}]]},"/":[Dt,[Dt,Dt],function(M,D){var J=D[0],ce=D[1];return J.evaluate(M)/ce.evaluate(M)}],"%":[Dt,[Dt,Dt],function(M,D){var J=D[0],ce=D[1];return J.evaluate(M)%ce.evaluate(M)}],ln2:[Dt,[],function(){return Math.LN2}],pi:[Dt,[],function(){return Math.PI}],e:[Dt,[],function(){return Math.E}],"^":[Dt,[Dt,Dt],function(M,D){var J=D[0],ce=D[1];return Math.pow(J.evaluate(M),ce.evaluate(M))}],sqrt:[Dt,[Dt],function(M,D){var J=D[0];return Math.sqrt(J.evaluate(M))}],log10:[Dt,[Dt],function(M,D){var J=D[0];return Math.log(J.evaluate(M))/Math.LN10}],ln:[Dt,[Dt],function(M,D){var J=D[0];return Math.log(J.evaluate(M))}],log2:[Dt,[Dt],function(M,D){var J=D[0];return Math.log(J.evaluate(M))/Math.LN2}],sin:[Dt,[Dt],function(M,D){var J=D[0];return Math.sin(J.evaluate(M))}],cos:[Dt,[Dt],function(M,D){var J=D[0];return Math.cos(J.evaluate(M))}],tan:[Dt,[Dt],function(M,D){var J=D[0];return Math.tan(J.evaluate(M))}],asin:[Dt,[Dt],function(M,D){var J=D[0];return Math.asin(J.evaluate(M))}],acos:[Dt,[Dt],function(M,D){var J=D[0];return Math.acos(J.evaluate(M))}],atan:[Dt,[Dt],function(M,D){var J=D[0];return Math.atan(J.evaluate(M))}],min:[Dt,go(Dt),function(M,D){return Math.min.apply(Math,D.map(function(J){return J.evaluate(M)}))}],max:[Dt,go(Dt),function(M,D){return Math.max.apply(Math,D.map(function(J){return J.evaluate(M)}))}],abs:[Dt,[Dt],function(M,D){var J=D[0];return Math.abs(J.evaluate(M))}],round:[Dt,[Dt],function(M,D){var J=D[0].evaluate(M);return J<0?-Math.round(-J):Math.round(J)}],floor:[Dt,[Dt],function(M,D){var J=D[0];return Math.floor(J.evaluate(M))}],ceil:[Dt,[Dt],function(M,D){var J=D[0];return Math.ceil(J.evaluate(M))}],"filter-==":[Kt,[Nt,Jt],function(M,D){var J=D[0],ce=D[1];return M.properties()[J.value]===ce.value}],"filter-id-==":[Kt,[Jt],function(M,D){var J=D[0];return M.id()===J.value}],"filter-type-==":[Kt,[Nt],function(M,D){var J=D[0];return M.geometryType()===J.value}],"filter-<":[Kt,[Nt,Jt],function(M,D){var J=D[0],ce=D[1],Me=M.properties()[J.value],Ie=ce.value;return typeof Me==typeof Ie&&Me<Ie}],"filter-id-<":[Kt,[Jt],function(M,D){var J=D[0],ce=M.id(),Me=J.value;return typeof ce==typeof Me&&ce<Me}],"filter->":[Kt,[Nt,Jt],function(M,D){var J=D[0],ce=D[1],Me=M.properties()[J.value],Ie=ce.value;return typeof Me==typeof Ie&&Me>Ie}],"filter-id->":[Kt,[Jt],function(M,D){var J=D[0],ce=M.id(),Me=J.value;return typeof ce==typeof Me&&ce>Me}],"filter-<=":[Kt,[Nt,Jt],function(M,D){var J=D[0],ce=D[1],Me=M.properties()[J.value],Ie=ce.value;return typeof Me==typeof Ie&&Me<=Ie}],"filter-id-<=":[Kt,[Jt],function(M,D){var J=D[0],ce=M.id(),Me=J.value;return typeof ce==typeof Me&&ce<=Me}],"filter->=":[Kt,[Nt,Jt],function(M,D){var J=D[0],ce=D[1],Me=M.properties()[J.value],Ie=ce.value;return typeof Me==typeof Ie&&Me>=Ie}],"filter-id->=":[Kt,[Jt],function(M,D){var J=D[0],ce=M.id(),Me=J.value;return typeof ce==typeof Me&&ce>=Me}],"filter-has":[Kt,[Jt],function(M,D){return D[0].value in M.properties()}],"filter-has-id":[Kt,[],function(M){return M.id()!==null&&M.id()!==void 0}],"filter-type-in":[Kt,[mn(Nt)],function(M,D){return D[0].value.indexOf(M.geometryType())>=0}],"filter-id-in":[Kt,[mn(Jt)],function(M,D){return D[0].value.indexOf(M.id())>=0}],"filter-in-small":[Kt,[Nt,mn(Jt)],function(M,D){var J=D[0];return D[1].value.indexOf(M.properties()[J.value])>=0}],"filter-in-large":[Kt,[Nt,mn(Jt)],function(M,D){var J=D[0],ce=D[1];return function(Me,Ie,qe,tt){for(;qe<=tt;){var ht=qe+tt>>1;if(Ie[ht]===Me)return!0;Ie[ht]>Me?tt=ht-1:qe=ht+1}return!1}(M.properties()[J.value],ce.value,0,ce.value.length-1)}],all:{type:Kt,overloads:[[[Kt,Kt],function(M,D){var J=D[0],ce=D[1];return J.evaluate(M)&&ce.evaluate(M)}],[go(Kt),function(M,D){for(var J=0,ce=D;J<ce.length;J+=1)if(!ce[J].evaluate(M))return!1;return!0}]]},any:{type:Kt,overloads:[[[Kt,Kt],function(M,D){var J=D[0],ce=D[1];return J.evaluate(M)||ce.evaluate(M)}],[go(Kt),function(M,D){for(var J=0,ce=D;J<ce.length;J+=1)if(ce[J].evaluate(M))return!0;return!1}]]},"!":[Kt,[Kt],function(M,D){return!D[0].evaluate(M)}],"is-supported-script":[Kt,[Nt],function(M,D){var J=D[0],ce=M.globals&&M.globals.isSupportedScript;return!ce||ce(J.evaluate(M))}],upcase:[Nt,[Nt],function(M,D){return D[0].evaluate(M).toUpperCase()}],downcase:[Nt,[Nt],function(M,D){return D[0].evaluate(M).toLowerCase()}],concat:[Nt,go(Jt),function(M,D){return D.map(function(J){return dr(J.evaluate(M))}).join("")}],"resolved-locale":[Nt,[Ut],function(M,D){return D[0].evaluate(M).resolvedLocale()}]});var Ts=function(M,D){this.expression=M,this._warningHistory={},this._evaluator=new Qt,this._defaultValue=D?function(J){return J.type==="color"&&fl(J.default)?new On(0,0,0,0):J.type==="color"?On.parse(J.default)||null:J.default===void 0?null:J.default}(D):null,this._enumValues=D&&D.type==="enum"?D.values:null};function Zs(M){return Array.isArray(M)&&M.length>0&&typeof M[0]=="string"&&M[0]in cl}function ts(M,D){var J=new yr(cl,[],D?function(Me){var Ie={color:un,string:Nt,number:Dt,enum:Nt,boolean:Kt,formatted:zn,resolvedImage:An};return Me.type==="array"?mn(Ie[Me.value]||Jt,Me.length):Ie[Me.type]}(D):void 0),ce=J.parse(M,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ce?Lu(new Ts(ce,D)):_s(J.errors)}Ts.prototype.evaluateWithoutErrorHandling=function(M,D,J,ce,Me,Ie){return this._evaluator.globals=M,this._evaluator.feature=D,this._evaluator.featureState=J,this._evaluator.canonical=ce,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},Ts.prototype.evaluate=function(M,D,J,ce,Me,Ie){this._evaluator.globals=M,this._evaluator.feature=D||null,this._evaluator.featureState=J||null,this._evaluator.canonical=ce,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!=qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new an("Expected value to be one of "+Object.keys(this._enumValues).map(function(tt){return JSON.stringify(tt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(tt){return this._warningHistory[tt.message]||(this._warningHistory[tt.message]=!0,typeof console<"u"&&console.warn(tt.message)),this._defaultValue}};var vo=function(M,D){this.kind=M,this._styleExpression=D,this.isStateDependent=M!=="constant"&&!er(D.expression)};vo.prototype.evaluateWithoutErrorHandling=function(M,D,J,ce,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(M,D,J,ce,Me,Ie)},vo.prototype.evaluate=function(M,D,J,ce,Me,Ie){return this._styleExpression.evaluate(M,D,J,ce,Me,Ie)};var pl=function(M,D,J,ce){this.kind=M,this.zoomStops=J,this._styleExpression=D,this.isStateDependent=M!=="camera"&&!er(D.expression),this.interpolationType=ce};function Qu(M,D){if((M=ts(M,D)).result==="error")return M;var J=M.value.expression,ce=ar(J);if(!ce&&!Qo(D))return _s([new wt("","data expressions not supported")]);var Me=gr(J,["zoom"]);if(!Me&&!es(D))return _s([new wt("","zoom expressions not supported")]);var Ie=cu(J);if(!Ie&&!Me)return _s([new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ie instanceof wt)return _s([Ie]);if(Ie instanceof Ji&&!ws(D))return _s([new wt("",'"interpolate" expressions cannot be used with this property')]);if(!Ie)return Lu(new vo(ce?"constant":"source",M.value));var qe=Ie instanceof Ji?Ie.interpolation:void 0;return Lu(new pl(ce?"camera":"composite",M.value,Ie.labels,qe))}pl.prototype.evaluateWithoutErrorHandling=function(M,D,J,ce,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(M,D,J,ce,Me,Ie)},pl.prototype.evaluate=function(M,D,J,ce,Me,Ie){return this._styleExpression.evaluate(M,D,J,ce,Me,Ie)},pl.prototype.interpolationFactor=function(M,D,J){return this.interpolationType?Ji.interpolationFactor(this.interpolationType,M,D,J):0};var Rl=function(M,D){this._parameters=M,this._specification=D,bt(this,lu(this._parameters,this._specification))};function cu(M){var D=null;if(M instanceof po)D=cu(M.result);else if(M instanceof Io)for(var J=0,ce=M.args;J<ce.length;J+=1){var Me=ce[J];if(D=cu(Me))break}else(M instanceof Mr||M instanceof Ji)&&M.input instanceof xn&&M.input.name==="zoom"&&(D=M);return D instanceof wt||M.eachChild(function(Ie){var qe=cu(Ie);qe instanceof wt?D=qe:!D&&qe?D=new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&qe&&D!==qe&&(D=new wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Ya(M){var D=M.key,J=M.value,ce=M.valueSpec||{},Me=M.objectElementValidators||{},Ie=M.style,qe=M.styleSpec,tt=[],ht=Kr(J);if(ht!=="object")return[new gt(D,J,"object expected, "+ht+" found")];for(var Tt in J){var Mt=Tt.split(".")[0],Bt=ce[Mt]||ce["*"],Gt=void 0;if(Me[Mt])Gt=Me[Mt];else if(ce[Mt])Gt=io;else if(Me["*"])Gt=Me["*"];else{if(!ce["*"]){tt.push(new gt(D,J[Tt],'unknown property "'+Tt+'"'));continue}Gt=io}tt=tt.concat(Gt({key:(D&&D+".")+Tt,value:J[Tt],valueSpec:Bt,style:Ie,styleSpec:qe,object:J,objectKey:Tt},J))}for(var Vt in ce)Me[Vt]||ce[Vt].required&&ce[Vt].default===void 0&&J[Vt]===void 0&&tt.push(new gt(D,J,'missing required property "'+Vt+'"'));return tt}function fu(M){var D=M.value,J=M.valueSpec,ce=M.style,Me=M.styleSpec,Ie=M.key,qe=M.arrayElementValidator||io;if(Kr(D)!=="array")return[new gt(Ie,D,"array expected, "+Kr(D)+" found")];if(J.length&&D.length!==J.length)return[new gt(Ie,D,"array length "+J.length+" expected, length "+D.length+" found")];if(J["min-length"]&&D.length<J["min-length"])return[new gt(Ie,D,"array length at least "+J["min-length"]+" expected, length "+D.length+" found")];var tt={type:J.value,values:J.values};Me.$version<7&&(tt.function=J.function),Kr(J.value)==="object"&&(tt=J.value);for(var ht=[],Tt=0;Tt<D.length;Tt++)ht=ht.concat(qe({array:D,arrayIndex:Tt,value:D[Tt],valueSpec:tt,style:ce,styleSpec:Me,key:Ie+"["+Tt+"]"}));return ht}function ec(M){var D=M.key,J=M.value,ce=M.valueSpec,Me=Kr(J);return Me==="number"&&J!=J&&(Me="NaN"),Me!=="number"?[new gt(D,J,"number expected, "+Me+" found")]:"minimum"in ce&&J<ce.minimum?[new gt(D,J,J+" is less than the minimum value "+ce.minimum)]:"maximum"in ce&&J>ce.maximum?[new gt(D,J,J+" is greater than the maximum value "+ce.maximum)]:[]}function dl(M){var D,J,ce,Me=M.valueSpec,Ie=dt(M.value.type),qe={},tt=Ie!=="categorical"&&M.value.property===void 0,ht=!tt,Tt=Kr(M.value.stops)==="array"&&Kr(M.value.stops[0])==="array"&&Kr(M.value.stops[0][0])==="object",Mt=Ya({key:M.key,value:M.value,valueSpec:M.styleSpec.function,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{stops:function(Vt){if(Ie==="identity")return[new gt(Vt.key,Vt.value,'identity function may not have a "stops" property')];var ln=[],cn=Vt.value;return ln=ln.concat(fu({key:Vt.key,value:cn,valueSpec:Vt.valueSpec,style:Vt.style,styleSpec:Vt.styleSpec,arrayElementValidator:Bt})),Kr(cn)==="array"&&cn.length===0&&ln.push(new gt(Vt.key,cn,"array must have at least one stop")),ln},default:function(Vt){return io({key:Vt.key,value:Vt.value,valueSpec:Me,style:Vt.style,styleSpec:Vt.styleSpec})}}});return Ie==="identity"&&tt&&Mt.push(new gt(M.key,M.value,'missing required property "property"')),Ie==="identity"||M.value.stops||Mt.push(new gt(M.key,M.value,'missing required property "stops"')),Ie==="exponential"&&M.valueSpec.expression&&!ws(M.valueSpec)&&Mt.push(new gt(M.key,M.value,"exponential functions not supported")),M.styleSpec.$version>=8&&(ht&&!Qo(M.valueSpec)?Mt.push(new gt(M.key,M.value,"property functions not supported")):tt&&!es(M.valueSpec)&&Mt.push(new gt(M.key,M.value,"zoom functions not supported"))),Ie!=="categorical"&&!Tt||M.value.property!==void 0||Mt.push(new gt(M.key,M.value,'"property" property is required')),Mt;function Bt(Vt){var ln=[],cn=Vt.value,Mn=Vt.key;if(Kr(cn)!=="array")return[new gt(Mn,cn,"array expected, "+Kr(cn)+" found")];if(cn.length!==2)return[new gt(Mn,cn,"array length 2 expected, length "+cn.length+" found")];if(Tt){if(Kr(cn[0])!=="object")return[new gt(Mn,cn,"object expected, "+Kr(cn[0])+" found")];if(cn[0].zoom===void 0)return[new gt(Mn,cn,"object stop key must have zoom")];if(cn[0].value===void 0)return[new gt(Mn,cn,"object stop key must have value")];if(ce&&ce>dt(cn[0].zoom))return[new gt(Mn,cn[0].zoom,"stop zoom values must appear in ascending order")];dt(cn[0].zoom)!==ce&&(ce=dt(cn[0].zoom),J=void 0,qe={}),ln=ln.concat(Ya({key:Mn+"[0]",value:cn[0],valueSpec:{zoom:{}},style:Vt.style,styleSpec:Vt.styleSpec,objectElementValidators:{zoom:ec,value:Gt}}))}else ln=ln.concat(Gt({key:Mn+"[0]",value:cn[0],valueSpec:{},style:Vt.style,styleSpec:Vt.styleSpec},cn));return Zs(Lt(cn[1]))?ln.concat([new gt(Mn+"[1]",cn[1],"expressions are not allowed in function stops.")]):ln.concat(io({key:Mn+"[1]",value:cn[1],valueSpec:Me,style:Vt.style,styleSpec:Vt.styleSpec}))}function Gt(Vt,ln){var cn=Kr(Vt.value),Mn=dt(Vt.value),Tn=Vt.value!==null?Vt.value:ln;if(D){if(cn!==D)return[new gt(Vt.key,Tn,cn+" stop domain type must match previous stop domain type "+D)]}else D=cn;if(cn!=="number"&&cn!=="string"&&cn!=="boolean")return[new gt(Vt.key,Tn,"stop domain value must be a number, string, or boolean")];if(cn!=="number"&&Ie!=="categorical"){var Bn="number expected, "+cn+" found";return Qo(Me)&&Ie===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gt(Vt.key,Tn,Bn)]}return Ie!=="categorical"||cn!=="number"||isFinite(Mn)&&Math.floor(Mn)===Mn?Ie!=="categorical"&&cn==="number"&&J!==void 0&&Mn<J?[new gt(Vt.key,Tn,"stop domain values must appear in ascending order")]:(J=Mn,Ie==="categorical"&&Mn in qe?[new gt(Vt.key,Tn,"stop domain values must be unique")]:(qe[Mn]=!0,[])):[new gt(Vt.key,Tn,"integer expected, found "+Mn)]}}function Xs(M){var D=(M.expressionContext==="property"?Qu:ts)(Lt(M.value),M.valueSpec);if(D.result==="error")return D.value.map(function(ce){return new gt(""+M.key+ce.key,M.value,ce.message)});var J=D.value.expression||D.value._styleExpression.expression;if(M.expressionContext==="property"&&M.propertyKey==="text-font"&&!J.outputDefined())return[new gt(M.key,M.value,'Invalid data expression for "'+M.propertyKey+'". Output values must be contained as literals within the expression.')];if(M.expressionContext==="property"&&M.propertyType==="layout"&&!er(J))return[new gt(M.key,M.value,'"feature-state" data expressions are not supported with layout properties.')];if(M.expressionContext==="filter"&&!er(J))return[new gt(M.key,M.value,'"feature-state" data expressions are not supported with filters.')];if(M.expressionContext&&M.expressionContext.indexOf("cluster")===0){if(!gr(J,["zoom","feature-state"]))return[new gt(M.key,M.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(M.expressionContext==="cluster-initial"&&!ar(J))return[new gt(M.key,M.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vl(M){var D=M.key,J=M.value,ce=M.valueSpec,Me=[];return Array.isArray(ce.values)?ce.values.indexOf(dt(J))===-1&&Me.push(new gt(D,J,"expected one of ["+ce.values.join(", ")+"], "+JSON.stringify(J)+" found")):Object.keys(ce.values).indexOf(dt(J))===-1&&Me.push(new gt(D,J,"expected one of ["+Object.keys(ce.values).join(", ")+"], "+JSON.stringify(J)+" found")),Me}function Ks(M){if(M===!0||M===!1)return!0;if(!Array.isArray(M)||M.length===0)return!1;switch(M[0]){case"has":return M.length>=2&&M[1]!=="$id"&&M[1]!=="$type";case"in":return M.length>=3&&(typeof M[1]!="string"||Array.isArray(M[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return M.length!==3||Array.isArray(M[1])||Array.isArray(M[2]);case"any":case"all":for(var D=0,J=M.slice(1);D<J.length;D+=1){var ce=J[D];if(!Ks(ce)&&typeof ce!="boolean")return!1}return!0;default:return!0}}Rl.deserialize=function(M){return new Rl(M._parameters,M._specification)},Rl.serialize=function(M){return{_parameters:M._parameters,_specification:M._specification}};var Js={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fl(M){if(M==null)return{filter:function(){return!0},needGeometry:!1};Ks(M)||(M=ks(M));var D=ts(M,Js);if(D.result==="error")throw new Error(D.value.map(function(J){return J.key+": "+J.message}).join(", "));return{filter:function(J,ce,Me){return D.value.evaluate(J,ce,{},Me)},needGeometry:li(M)}}function hu(M,D){return M<D?-1:M>D?1:0}function li(M){if(!Array.isArray(M))return!1;if(M[0]==="within")return!0;for(var D=1;D<M.length;D++)if(li(M[D]))return!0;return!1}function ks(M){if(!M)return!0;var D,J=M[0];return M.length<=1?J!=="any":J==="=="?ga(M[1],M[2],"=="):J==="!="?si(ga(M[1],M[2],"==")):J==="<"||J===">"||J==="<="||J===">="?ga(M[1],M[2],J):J==="any"?(D=M.slice(1),["any"].concat(D.map(ks))):J==="all"?["all"].concat(M.slice(1).map(ks)):J==="none"?["all"].concat(M.slice(1).map(ks).map(si)):J==="in"?mo(M[1],M.slice(2)):J==="!in"?si(mo(M[1],M.slice(2))):J==="has"?ni(M[1]):J==="!has"?si(ni(M[1])):J!=="within"||M}function ga(M,D,J){switch(M){case"$type":return["filter-type-"+J,D];case"$id":return["filter-id-"+J,D];default:return["filter-"+J,M,D]}}function mo(M,D){if(D.length===0)return!1;switch(M){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(J){return typeof J!=typeof D[0]})?["filter-in-large",M,["literal",D.sort(hu)]]:["filter-in-small",M,["literal",D]]}}function ni(M){switch(M){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",M]}}function si(M){return["!",M]}function Za(M){return Ks(Lt(M.value))?Xs(bt({},M,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ml(M)}function ml(M){var D=M.value,J=M.key;if(Kr(D)!=="array")return[new gt(J,D,"array expected, "+Kr(D)+" found")];var ce,Me=M.styleSpec,Ie=[];if(D.length<1)return[new gt(J,D,"filter array must have at least 1 element")];switch(Ie=Ie.concat(vl({key:J+"[0]",value:D[0],valueSpec:Me.filter_operator,style:M.style,styleSpec:M.styleSpec})),dt(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&dt(D[1])==="$type"&&Ie.push(new gt(J,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Ie.push(new gt(J,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ce=Kr(D[1]))!=="string"&&Ie.push(new gt(J+"[1]",D[1],"string expected, "+ce+" found"));for(var qe=2;qe<D.length;qe++)ce=Kr(D[qe]),dt(D[1])==="$type"?Ie=Ie.concat(vl({key:J+"["+qe+"]",value:D[qe],valueSpec:Me.geometry_type,style:M.style,styleSpec:M.styleSpec})):ce!=="string"&&ce!=="number"&&ce!=="boolean"&&Ie.push(new gt(J+"["+qe+"]",D[qe],"string, number, or boolean expected, "+ce+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<D.length;tt++)Ie=Ie.concat(ml({key:J+"["+tt+"]",value:D[tt],style:M.style,styleSpec:M.styleSpec}));break;case"has":case"!has":ce=Kr(D[1]),D.length!==2?Ie.push(new gt(J,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ce!=="string"&&Ie.push(new gt(J+"[1]",D[1],"string expected, "+ce+" found"));break;case"within":ce=Kr(D[1]),D.length!==2?Ie.push(new gt(J,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ce!=="object"&&Ie.push(new gt(J+"[1]",D[1],"object expected, "+ce+" found"))}return Ie}function Bl(M,D){var J=M.key,ce=M.style,Me=M.styleSpec,Ie=M.value,qe=M.objectKey,tt=Me[D+"_"+M.layerType];if(!tt)return[];var ht=qe.match(/^(.*)-transition$/);if(D==="paint"&&ht&&tt[ht[1]]&&tt[ht[1]].transition)return io({key:J,value:Ie,valueSpec:Me.transition,style:ce,styleSpec:Me});var Tt,Mt=M.valueSpec||tt[qe];if(!Mt)return[new gt(J,Ie,'unknown property "'+qe+'"')];if(Kr(Ie)==="string"&&Qo(Mt)&&!Mt.tokens&&(Tt=/^{([^}]+)}$/.exec(Ie)))return[new gt(J,Ie,'"'+qe+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Tt[1])+" }`.")];var Bt=[];return M.layerType==="symbol"&&(qe==="text-field"&&ce&&!ce.glyphs&&Bt.push(new gt(J,Ie,'use of "text-field" requires a style "glyphs" property')),qe==="text-font"&&fl(Lt(Ie))&&dt(Ie.type)==="identity"&&Bt.push(new gt(J,Ie,'"text-font" does not support identity functions'))),Bt.concat(io({key:M.key,value:Ie,valueSpec:Mt,style:ce,styleSpec:Me,expressionContext:"property",propertyType:D,propertyKey:qe}))}function pu(M){return Bl(M,"paint")}function Nl(M){return Bl(M,"layout")}function jl(M){var D=[],J=M.value,ce=M.key,Me=M.style,Ie=M.styleSpec;J.type||J.ref||D.push(new gt(ce,J,'either "type" or "ref" is required'));var qe,tt=dt(J.type),ht=dt(J.ref);if(J.id)for(var Tt=dt(J.id),Mt=0;Mt<M.arrayIndex;Mt++){var Bt=Me.layers[Mt];dt(Bt.id)===Tt&&D.push(new gt(ce,J.id,'duplicate layer id "'+J.id+'", previously used at line '+Bt.id.__line__))}if("ref"in J)["type","source","source-layer","filter","layout"].forEach(function(ln){ln in J&&D.push(new gt(ce,J[ln],'"'+ln+'" is prohibited for ref layers'))}),Me.layers.forEach(function(ln){dt(ln.id)===ht&&(qe=ln)}),qe?qe.ref?D.push(new gt(ce,J.ref,"ref cannot reference another ref layer")):tt=dt(qe.type):D.push(new gt(ce,J.ref,'ref layer "'+ht+'" not found'));else if(tt!=="background")if(J.source){var Gt=Me.sources&&Me.sources[J.source],Vt=Gt&&dt(Gt.type);Gt?Vt==="vector"&&tt==="raster"?D.push(new gt(ce,J.source,'layer "'+J.id+'" requires a raster source')):Vt==="raster"&&tt!=="raster"?D.push(new gt(ce,J.source,'layer "'+J.id+'" requires a vector source')):Vt!=="vector"||J["source-layer"]?Vt==="raster-dem"&&tt!=="hillshade"?D.push(new gt(ce,J.source,"raster-dem source can only be used with layer type 'hillshade'.")):tt!=="line"||!J.paint||!J.paint["line-gradient"]||Vt==="geojson"&&Gt.lineMetrics||D.push(new gt(ce,J,'layer "'+J.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new gt(ce,J,'layer "'+J.id+'" must specify a "source-layer"')):D.push(new gt(ce,J.source,'source "'+J.source+'" not found'))}else D.push(new gt(ce,J,'missing required property "source"'));return D=D.concat(Ya({key:ce,value:J,valueSpec:Ie.layer,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return io({key:ce+".type",value:J.type,valueSpec:Ie.layer.type,style:M.style,styleSpec:M.styleSpec,object:J,objectKey:"type"})},filter:Za,layout:function(ln){return Ya({layer:J,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(cn){return Nl(bt({layerType:tt},cn))}}})},paint:function(ln){return Ya({layer:J,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(cn){return pu(bt({layerType:tt},cn))}}})}}})),D}function ro(M){var D=M.value,J=M.key,ce=Kr(D);return ce!=="string"?[new gt(J,D,"string expected, "+ce+" found")]:[]}var As={promoteId:function(M){var D=M.key,J=M.value;if(Kr(J)==="string")return ro({key:D,value:J});var ce=[];for(var Me in J)ce.push.apply(ce,ro({key:D+"."+Me,value:J[Me]}));return ce}};function Ms(M){var D=M.value,J=M.key,ce=M.styleSpec,Me=M.style;if(!D.type)return[new gt(J,D,'"type" is required')];var Ie,qe=dt(D.type);switch(qe){case"vector":case"raster":case"raster-dem":return Ya({key:J,value:D,valueSpec:ce["source_"+qe.replace("-","_")],style:M.style,styleSpec:ce,objectElementValidators:As});case"geojson":if(Ie=Ya({key:J,value:D,valueSpec:ce.source_geojson,style:Me,styleSpec:ce,objectElementValidators:As}),D.cluster)for(var tt in D.clusterProperties){var ht=D.clusterProperties[tt],Tt=ht[0],Mt=ht[1],Bt=typeof Tt=="string"?[Tt,["accumulated"],["get",tt]]:Tt;Ie.push.apply(Ie,Xs({key:J+"."+tt+".map",value:Mt,expressionContext:"cluster-map"})),Ie.push.apply(Ie,Xs({key:J+"."+tt+".reduce",value:Bt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return Ya({key:J,value:D,valueSpec:ce.source_video,style:Me,styleSpec:ce});case"image":return Ya({key:J,value:D,valueSpec:ce.source_image,style:Me,styleSpec:ce});case"canvas":return[new gt(J,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vl({key:J+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Me,styleSpec:ce})}}function ka(M){var D=M.value,J=M.styleSpec,ce=J.light,Me=M.style,Ie=[],qe=Kr(D);if(D===void 0)return Ie;if(qe!=="object")return Ie.concat([new gt("light",D,"object expected, "+qe+" found")]);for(var tt in D){var ht=tt.match(/^(.*)-transition$/);Ie=ht&&ce[ht[1]]&&ce[ht[1]].transition?Ie.concat(io({key:tt,value:D[tt],valueSpec:J.transition,style:Me,styleSpec:J})):ce[tt]?Ie.concat(io({key:tt,value:D[tt],valueSpec:ce[tt],style:Me,styleSpec:J})):Ie.concat([new gt(tt,D[tt],'unknown property "'+tt+'"')])}return Ie}var Ul={"*":function(){return[]},array:fu,boolean:function(M){var D=M.value,J=M.key,ce=Kr(D);return ce!=="boolean"?[new gt(J,D,"boolean expected, "+ce+" found")]:[]},number:ec,color:function(M){var D=M.key,J=M.value,ce=Kr(J);return ce!=="string"?[new gt(D,J,"color expected, "+ce+" found")]:Pn(J)===null?[new gt(D,J,'color expected, "'+J+'" found')]:[]},constants:yt,enum:vl,filter:Za,function:dl,layer:jl,object:Ya,source:Ms,light:ka,string:ro,formatted:function(M){return ro(M).length===0?[]:Xs(M)},resolvedImage:function(M){return ro(M).length===0?[]:Xs(M)}};function io(M){var D=M.value,J=M.valueSpec,ce=M.styleSpec;return J.expression&&fl(dt(D))?dl(M):J.expression&&Zs(Lt(D))?Xs(M):J.type&&Ul[J.type]?Ul[J.type](M):Ya(bt({},M,{valueSpec:J.type?ce[J.type]:J}))}function $i(M){var D=M.value,J=M.key,ce=ro(M);return ce.length||(D.indexOf("{fontstack}")===-1&&ce.push(new gt(J,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ce.push(new gt(J,D,'"glyphs" url must include a "{range}" token'))),ce}function aa(M,D){D===void 0&&(D=Ke);var J=[];return J=J.concat(io({key:"",value:M,valueSpec:D.$root,styleSpec:D,style:M,objectElementValidators:{glyphs:$i,"*":function(){return[]}}})),M.constants&&(J=J.concat(yt({key:"constants",value:M.constants,style:M,styleSpec:D}))),vi(J)}function vi(M){return[].concat(M).sort(function(D,J){return D.line-J.line})}function oa(M){return function(){for(var D=[],J=arguments.length;J--;)D[J]=arguments[J];return vi(M.apply(this,D))}}aa.source=oa(Ms),aa.light=oa(ka),aa.layer=oa(jl),aa.filter=oa(Za),aa.paintProperty=oa(pu),aa.layoutProperty=oa(Nl);var Fo=aa,$s=Fo.light,yo=Fo.paintProperty,Ss=Fo.layoutProperty;function Oa(M,D){var J=!1;if(D&&D.length)for(var ce=0,Me=D;ce<Me.length;ce+=1){var Ie=Me[ce];M.fire(new Ue(new Error(Ie.message))),J=!0}return J}var Qs=ao,ns=3;function ao(M,D,J){var ce=this.cells=[];if(M instanceof ArrayBuffer){this.arrayBuffer=M;var Me=new Int32Array(this.arrayBuffer);M=Me[0],D=Me[1],J=Me[2],this.d=D+2*J;for(var Ie=0;Ie<this.d*this.d;Ie++){var qe=Me[ns+Ie],tt=Me[ns+Ie+1];ce.push(qe===tt?null:Me.subarray(qe,tt))}var ht=Me[ns+ce.length],Tt=Me[ns+ce.length+1];this.keys=Me.subarray(ht,Tt),this.bboxes=Me.subarray(Tt),this.insert=this._insertReadonly}else{this.d=D+2*J;for(var Mt=0;Mt<this.d*this.d;Mt++)ce.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=M,this.padding=J,this.scale=D/M,this.uid=0;var Bt=J/D*M;this.min=-Bt,this.max=M+Bt}ao.prototype.insert=function(M,D,J,ce,Me){this._forEachCell(D,J,ce,Me,this._insertCell,this.uid++),this.keys.push(M),this.bboxes.push(D),this.bboxes.push(J),this.bboxes.push(ce),this.bboxes.push(Me)},ao.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ao.prototype._insertCell=function(M,D,J,ce,Me,Ie){this.cells[Me].push(Ie)},ao.prototype.query=function(M,D,J,ce,Me){var Ie=this.min,qe=this.max;if(M<=Ie&&D<=Ie&&qe<=J&&qe<=ce&&!Me)return Array.prototype.slice.call(this.keys);var tt=[];return this._forEachCell(M,D,J,ce,this._queryCell,tt,{},Me),tt},ao.prototype._queryCell=function(M,D,J,ce,Me,Ie,qe,tt){var ht=this.cells[Me];if(ht!==null)for(var Tt=this.keys,Mt=this.bboxes,Bt=0;Bt<ht.length;Bt++){var Gt=ht[Bt];if(qe[Gt]===void 0){var Vt=4*Gt;(tt?tt(Mt[Vt+0],Mt[Vt+1],Mt[Vt+2],Mt[Vt+3]):M<=Mt[Vt+2]&&D<=Mt[Vt+3]&&J>=Mt[Vt+0]&&ce>=Mt[Vt+1])?(qe[Gt]=!0,Ie.push(Tt[Gt])):qe[Gt]=!1}}},ao.prototype._forEachCell=function(M,D,J,ce,Me,Ie,qe,tt){for(var ht=this._convertToCellCoord(M),Tt=this._convertToCellCoord(D),Mt=this._convertToCellCoord(J),Bt=this._convertToCellCoord(ce),Gt=ht;Gt<=Mt;Gt++)for(var Vt=Tt;Vt<=Bt;Vt++){var ln=this.d*Vt+Gt;if((!tt||tt(this._convertFromCellCoord(Gt),this._convertFromCellCoord(Vt),this._convertFromCellCoord(Gt+1),this._convertFromCellCoord(Vt+1)))&&Me.call(this,M,D,J,ce,ln,Ie,qe,tt))return}},ao.prototype._convertFromCellCoord=function(M){return(M-this.padding)/this.scale},ao.prototype._convertToCellCoord=function(M){return Math.max(0,Math.min(this.d-1,Math.floor(M*this.scale)+this.padding))},ao.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var M=this.cells,D=ns+this.cells.length+1+1,J=0,ce=0;ce<this.cells.length;ce++)J+=this.cells[ce].length;var Me=new Int32Array(D+J+this.keys.length+this.bboxes.length);Me[0]=this.extent,Me[1]=this.n,Me[2]=this.padding;for(var Ie=D,qe=0;qe<M.length;qe++){var tt=M[qe];Me[ns+qe]=Ie,Me.set(tt,Ie),Ie+=tt.length}return Me[ns+M.length]=Ie,Me.set(this.keys,Ie),Ie+=this.keys.length,Me[ns+M.length+1]=Ie,Me.set(this.bboxes,Ie),Ie+=this.bboxes.length,Me.buffer};var oo=r.ImageData,bi=r.ImageBitmap,xo={};function Lr(M,D,J){J===void 0&&(J={}),Object.defineProperty(D,"_classRegistryKey",{value:M,writeable:!1}),xo[M]={klass:D,omit:J.omit||[],shallow:J.shallow||[]}}for(var Vl in Lr("Object",Object),Qs.serialize=function(M,D){var J=M.toArrayBuffer();return D&&D.push(J),{buffer:J}},Qs.deserialize=function(M){return new Qs(M.buffer)},Lr("Grid",Qs),Lr("Color",On),Lr("Error",Error),Lr("ResolvedImage",Wn),Lr("StylePropertyFunction",Rl),Lr("StyleExpression",Ts,{omit:["_evaluator"]}),Lr("ZoomDependentExpression",pl),Lr("ZoomConstantExpression",vo),Lr("CompoundExpression",xn,{omit:["_evaluate"]}),cl)cl[Vl]._classRegistryKey||Lr("Expression_"+Vl,cl[Vl]);function Cu(M){return M&&typeof ArrayBuffer<"u"&&(M instanceof ArrayBuffer||M.constructor&&M.constructor.name==="ArrayBuffer")}function Es(M){return bi&&M instanceof bi}function Ls(M,D){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp)return M;if(Cu(M)||Es(M))return D&&D.push(M),M;if(ArrayBuffer.isView(M)){var J=M;return D&&D.push(J.buffer),J}if(M instanceof oo)return D&&D.push(M.data.buffer),M;if(Array.isArray(M)){for(var ce=[],Me=0,Ie=M;Me<Ie.length;Me+=1){var qe=Ie[Me];ce.push(Ls(qe,D))}return ce}if(typeof M=="object"){var tt=M.constructor,ht=tt._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Tt=tt.serialize?tt.serialize(M,D):{};if(!tt.serialize){for(var Mt in M)if(M.hasOwnProperty(Mt)&&!(xo[ht].omit.indexOf(Mt)>=0)){var Bt=M[Mt];Tt[Mt]=xo[ht].shallow.indexOf(Mt)>=0?Bt:Ls(Bt,D)}M instanceof Error&&(Tt.message=M.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(Tt.$name=ht),Tt}throw new Error("can't serialize object of type "+typeof M)}function el(M){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp||Cu(M)||Es(M)||ArrayBuffer.isView(M)||M instanceof oo)return M;if(Array.isArray(M))return M.map(el);if(typeof M=="object"){var D=M.$name||"Object",J=xo[D].klass;if(!J)throw new Error("can't deserialize unregistered class "+D);if(J.deserialize)return J.deserialize(M);for(var ce=Object.create(J.prototype),Me=0,Ie=Object.keys(M);Me<Ie.length;Me+=1){var qe=Ie[Me];if(qe!=="$name"){var tt=M[qe];ce[qe]=xo[D].shallow.indexOf(qe)>=0?tt:el(tt)}}return ce}throw new Error("can't deserialize object of type "+typeof M)}var yl=function(){this.first=!0};yl.prototype.update=function(M,D){var J=Math.floor(M);return this.first?(this.first=!1,this.lastIntegerZoom=J,this.lastIntegerZoomTime=0,this.lastZoom=M,this.lastFloorZoom=J,!0):(this.lastFloorZoom>J?(this.lastIntegerZoom=J+1,this.lastIntegerZoomTime=D):this.lastFloorZoom<J&&(this.lastIntegerZoom=J,this.lastIntegerZoomTime=D),M!==this.lastZoom&&(this.lastZoom=M,this.lastFloorZoom=J,!0))};var br={"Latin-1 Supplement":function(M){return M>=128&&M<=255},Arabic:function(M){return M>=1536&&M<=1791},"Arabic Supplement":function(M){return M>=1872&&M<=1919},"Arabic Extended-A":function(M){return M>=2208&&M<=2303},"Hangul Jamo":function(M){return M>=4352&&M<=4607},"Unified Canadian Aboriginal Syllabics":function(M){return M>=5120&&M<=5759},Khmer:function(M){return M>=6016&&M<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(M){return M>=6320&&M<=6399},"General Punctuation":function(M){return M>=8192&&M<=8303},"Letterlike Symbols":function(M){return M>=8448&&M<=8527},"Number Forms":function(M){return M>=8528&&M<=8591},"Miscellaneous Technical":function(M){return M>=8960&&M<=9215},"Control Pictures":function(M){return M>=9216&&M<=9279},"Optical Character Recognition":function(M){return M>=9280&&M<=9311},"Enclosed Alphanumerics":function(M){return M>=9312&&M<=9471},"Geometric Shapes":function(M){return M>=9632&&M<=9727},"Miscellaneous Symbols":function(M){return M>=9728&&M<=9983},"Miscellaneous Symbols and Arrows":function(M){return M>=11008&&M<=11263},"CJK Radicals Supplement":function(M){return M>=11904&&M<=12031},"Kangxi Radicals":function(M){return M>=12032&&M<=12255},"Ideographic Description Characters":function(M){return M>=12272&&M<=12287},"CJK Symbols and Punctuation":function(M){return M>=12288&&M<=12351},Hiragana:function(M){return M>=12352&&M<=12447},Katakana:function(M){return M>=12448&&M<=12543},Bopomofo:function(M){return M>=12544&&M<=12591},"Hangul Compatibility Jamo":function(M){return M>=12592&&M<=12687},Kanbun:function(M){return M>=12688&&M<=12703},"Bopomofo Extended":function(M){return M>=12704&&M<=12735},"CJK Strokes":function(M){return M>=12736&&M<=12783},"Katakana Phonetic Extensions":function(M){return M>=12784&&M<=12799},"Enclosed CJK Letters and Months":function(M){return M>=12800&&M<=13055},"CJK Compatibility":function(M){return M>=13056&&M<=13311},"CJK Unified Ideographs Extension A":function(M){return M>=13312&&M<=19903},"Yijing Hexagram Symbols":function(M){return M>=19904&&M<=19967},"CJK Unified Ideographs":function(M){return M>=19968&&M<=40959},"Yi Syllables":function(M){return M>=40960&&M<=42127},"Yi Radicals":function(M){return M>=42128&&M<=42191},"Hangul Jamo Extended-A":function(M){return M>=43360&&M<=43391},"Hangul Syllables":function(M){return M>=44032&&M<=55215},"Hangul Jamo Extended-B":function(M){return M>=55216&&M<=55295},"Private Use Area":function(M){return M>=57344&&M<=63743},"CJK Compatibility Ideographs":function(M){return M>=63744&&M<=64255},"Arabic Presentation Forms-A":function(M){return M>=64336&&M<=65023},"Vertical Forms":function(M){return M>=65040&&M<=65055},"CJK Compatibility Forms":function(M){return M>=65072&&M<=65103},"Small Form Variants":function(M){return M>=65104&&M<=65135},"Arabic Presentation Forms-B":function(M){return M>=65136&&M<=65279},"Halfwidth and Fullwidth Forms":function(M){return M>=65280&&M<=65519}};function Hl(M){for(var D=0,J=M;D<J.length;D+=1)if(rs(J[D].charCodeAt(0)))return!0;return!1}function rs(M){return!(M!==746&&M!==747&&(M<4352||!(br["Bopomofo Extended"](M)||br.Bopomofo(M)||br["CJK Compatibility Forms"](M)&&!(M>=65097&&M<=65103)||br["CJK Compatibility Ideographs"](M)||br["CJK Compatibility"](M)||br["CJK Radicals Supplement"](M)||br["CJK Strokes"](M)||!(!br["CJK Symbols and Punctuation"](M)||M>=12296&&M<=12305||M>=12308&&M<=12319||M===12336)||br["CJK Unified Ideographs Extension A"](M)||br["CJK Unified Ideographs"](M)||br["Enclosed CJK Letters and Months"](M)||br["Hangul Compatibility Jamo"](M)||br["Hangul Jamo Extended-A"](M)||br["Hangul Jamo Extended-B"](M)||br["Hangul Jamo"](M)||br["Hangul Syllables"](M)||br.Hiragana(M)||br["Ideographic Description Characters"](M)||br.Kanbun(M)||br["Kangxi Radicals"](M)||br["Katakana Phonetic Extensions"](M)||br.Katakana(M)&&M!==12540||!(!br["Halfwidth and Fullwidth Forms"](M)||M===65288||M===65289||M===65293||M>=65306&&M<=65310||M===65339||M===65341||M===65343||M>=65371&&M<=65503||M===65507||M>=65512&&M<=65519)||!(!br["Small Form Variants"](M)||M>=65112&&M<=65118||M>=65123&&M<=65126)||br["Unified Canadian Aboriginal Syllabics"](M)||br["Unified Canadian Aboriginal Syllabics Extended"](M)||br["Vertical Forms"](M)||br["Yijing Hexagram Symbols"](M)||br["Yi Syllables"](M)||br["Yi Radicals"](M))))}function Qi(M){return!(rs(M)||function(D){return!!(br["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||br["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||br["Letterlike Symbols"](D)||br["Number Forms"](D)||br["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||br["Control Pictures"](D)&&D!==9251||br["Optical Character Recognition"](D)||br["Enclosed Alphanumerics"](D)||br["Geometric Shapes"](D)||br["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||br["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||br["CJK Symbols and Punctuation"](D)||br.Katakana(D)||br["Private Use Area"](D)||br["CJK Compatibility Forms"](D)||br["Small Form Variants"](D)||br["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}(M))}function Cs(M){return br.Arabic(M)||br["Arabic Supplement"](M)||br["Arabic Extended-A"](M)||br["Arabic Presentation Forms-A"](M)||br["Arabic Presentation Forms-B"](M)}function bo(M){return M>=1424&&M<=2303||br["Arabic Presentation Forms-A"](M)||br["Arabic Presentation Forms-B"](M)}function so(M,D){return!(!D&&bo(M)||M>=2304&&M<=3583||M>=3840&&M<=4255||br.Khmer(M))}function Aa(M){for(var D=0,J=M;D<J.length;D+=1)if(bo(J[D].charCodeAt(0)))return!0;return!1}var Bo="deferred",lo="loading",is="loaded",ql="error",Ps=null,ei="unavailable",sa=null,Ia=function(M){M&&typeof M=="string"&&M.indexOf("NetworkError")>-1&&(ei=ql),Ps&&Ps(M)};function No(){za.fire(new je("pluginStateChange",{pluginStatus:ei,pluginURL:sa}))}var za=new st,xl=function(){return ei},bl=function(){if(ei!==Bo||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ei=lo,No(),sa&&Ft({url:sa},function(M){M?Ia(M):(ei=is,No())})},Da={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ei===is||Da.applyArabicShaping!=null},isLoading:function(){return ei===lo},setState:function(M){ei=M.pluginStatus,sa=M.pluginURL},isParsed:function(){return Da.applyArabicShaping!=null&&Da.processBidirectionalText!=null&&Da.processStyledBidirectionalText!=null},getPluginURL:function(){return sa}},$r=function(M,D){this.zoom=M,D?(this.now=D.now,this.fadeDuration=D.fadeDuration,this.zoomHistory=D.zoomHistory,this.transition=D.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new yl,this.transition={})};$r.prototype.isSupportedScript=function(M){return function(D,J){for(var ce=0,Me=D;ce<Me.length;ce+=1)if(!so(Me[ce].charCodeAt(0),J))return!1;return!0}(M,Da.isLoaded())},$r.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},$r.prototype.getCrossfadeParameters=function(){var M=this.zoom,D=M-Math.floor(M),J=this.crossFadingFactor();return M>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:D+(1-D)*J}:{fromScale:.5,toScale:1,t:1-(1-J)*D}};var jo=function(M,D){this.property=M,this.value=D,this.expression=function(J,ce){if(fl(J))return new Rl(J,ce);if(Zs(J)){var Me=Qu(J,ce);if(Me.result==="error")throw new Error(Me.value.map(function(qe){return qe.key+": "+qe.message}).join(", "));return Me.value}var Ie=J;return typeof J=="string"&&ce.type==="color"&&(Ie=On.parse(J)),{kind:"constant",evaluate:function(){return Ie}}}(D===void 0?M.specification.default:D,M.specification)};jo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},jo.prototype.possiblyEvaluate=function(M,D,J){return this.property.possiblyEvaluate(this,M,D,J)};var tl=function(M){this.property=M,this.value=new jo(M,void 0)};tl.prototype.transitioned=function(M,D){return new _l(this.property,this.value,D,c({},M.transition,this.transition),M.now)},tl.prototype.untransitioned=function(){return new _l(this.property,this.value,null,{},0)};var _o=function(M){this._properties=M,this._values=Object.create(M.defaultTransitionablePropertyValues)};_o.prototype.getValue=function(M){return S(this._values[M].value.value)},_o.prototype.setValue=function(M,D){this._values.hasOwnProperty(M)||(this._values[M]=new tl(this._values[M].property)),this._values[M].value=new jo(this._values[M].property,D===null?void 0:S(D))},_o.prototype.getTransition=function(M){return S(this._values[M].transition)},_o.prototype.setTransition=function(M,D){this._values.hasOwnProperty(M)||(this._values[M]=new tl(this._values[M].property)),this._values[M].transition=S(D)||void 0},_o.prototype.serialize=function(){for(var M={},D=0,J=Object.keys(this._values);D<J.length;D+=1){var ce=J[D],Me=this.getValue(ce);Me!==void 0&&(M[ce]=Me);var Ie=this.getTransition(ce);Ie!==void 0&&(M[ce+"-transition"]=Ie)}return M},_o.prototype.transitioned=function(M,D){for(var J=new wl(this._properties),ce=0,Me=Object.keys(this._values);ce<Me.length;ce+=1){var Ie=Me[ce];J._values[Ie]=this._values[Ie].transitioned(M,D._values[Ie])}return J},_o.prototype.untransitioned=function(){for(var M=new wl(this._properties),D=0,J=Object.keys(this._values);D<J.length;D+=1){var ce=J[D];M._values[ce]=this._values[ce].untransitioned()}return M};var _l=function(M,D,J,ce,Me){this.property=M,this.value=D,this.begin=Me+ce.delay||0,this.end=this.begin+ce.duration||0,M.specification.transition&&(ce.delay||ce.duration)&&(this.prior=J)};_l.prototype.possiblyEvaluate=function(M,D,J){var ce=M.now||0,Me=this.value.possiblyEvaluate(M,D,J),Ie=this.prior;if(Ie){if(ce>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(ce<this.begin)return Ie.possiblyEvaluate(M,D,J);var qe=(ce-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(M,D,J),Me,function(tt){if(tt<=0)return 0;if(tt>=1)return 1;var ht=tt*tt,Tt=ht*tt;return 4*(tt<.5?Tt:3*(tt-ht)+Tt-.75)}(qe))}return Me};var wl=function(M){this._properties=M,this._values=Object.create(M.defaultTransitioningPropertyValues)};wl.prototype.possiblyEvaluate=function(M,D,J){for(var ce=new nl(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var qe=Ie[Me];ce._values[qe]=this._values[qe].possiblyEvaluate(M,D,J)}return ce},wl.prototype.hasTransition=function(){for(var M=0,D=Object.keys(this._values);M<D.length;M+=1){var J=D[M];if(this._values[J].prior)return!0}return!1};var wo=function(M){this._properties=M,this._values=Object.create(M.defaultPropertyValues)};wo.prototype.getValue=function(M){return S(this._values[M].value)},wo.prototype.setValue=function(M,D){this._values[M]=new jo(this._values[M].property,D===null?void 0:S(D))},wo.prototype.serialize=function(){for(var M={},D=0,J=Object.keys(this._values);D<J.length;D+=1){var ce=J[D],Me=this.getValue(ce);Me!==void 0&&(M[ce]=Me)}return M},wo.prototype.possiblyEvaluate=function(M,D,J){for(var ce=new nl(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var qe=Ie[Me];ce._values[qe]=this._values[qe].possiblyEvaluate(M,D,J)}return ce};var _i=function(M,D,J){this.property=M,this.value=D,this.parameters=J};_i.prototype.isConstant=function(){return this.value.kind==="constant"},_i.prototype.constantOr=function(M){return this.value.kind==="constant"?this.value.value:M},_i.prototype.evaluate=function(M,D,J,ce){return this.property.evaluate(this.value,this.parameters,M,D,J,ce)};var nl=function(M){this._properties=M,this._values=Object.create(M.defaultPossiblyEvaluatedValues)};nl.prototype.get=function(M){return this._values[M]};var Pr=function(M){this.specification=M};Pr.prototype.possiblyEvaluate=function(M,D){return M.expression.evaluate(D)},Pr.prototype.interpolate=function(M,D,J){var ce=gi[this.specification.type];return ce?ce(M,D,J):M};var Fr=function(M,D){this.specification=M,this.overrides=D};Fr.prototype.possiblyEvaluate=function(M,D,J,ce){return M.expression.kind==="constant"||M.expression.kind==="camera"?new _i(this,{kind:"constant",value:M.expression.evaluate(D,null,{},J,ce)},D):new _i(this,M.expression,D)},Fr.prototype.interpolate=function(M,D,J){if(M.value.kind!=="constant"||D.value.kind!=="constant")return M;if(M.value.value===void 0||D.value.value===void 0)return new _i(this,{kind:"constant",value:void 0},M.parameters);var ce=gi[this.specification.type];return ce?new _i(this,{kind:"constant",value:ce(M.value.value,D.value.value,J)},M.parameters):M},Fr.prototype.evaluate=function(M,D,J,ce,Me,Ie){return M.kind==="constant"?M.value:M.evaluate(D,J,ce,Me,Ie)};var Xa=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(J,ce,Me,Ie){if(J.value===void 0)return new _i(this,{kind:"constant",value:void 0},ce);if(J.expression.kind==="constant"){var qe=J.expression.evaluate(ce,null,{},Me,Ie),tt=J.property.specification.type==="resolvedImage"&&typeof qe!="string"?qe.name:qe,ht=this._calculate(tt,tt,tt,ce);return new _i(this,{kind:"constant",value:ht},ce)}if(J.expression.kind==="camera"){var Tt=this._calculate(J.expression.evaluate({zoom:ce.zoom-1}),J.expression.evaluate({zoom:ce.zoom}),J.expression.evaluate({zoom:ce.zoom+1}),ce);return new _i(this,{kind:"constant",value:Tt},ce)}return new _i(this,J.expression,ce)},D.prototype.evaluate=function(J,ce,Me,Ie,qe,tt){if(J.kind==="source"){var ht=J.evaluate(ce,Me,Ie,qe,tt);return this._calculate(ht,ht,ht,ce)}return J.kind==="composite"?this._calculate(J.evaluate({zoom:Math.floor(ce.zoom)-1},Me,Ie),J.evaluate({zoom:Math.floor(ce.zoom)},Me,Ie),J.evaluate({zoom:Math.floor(ce.zoom)+1},Me,Ie),ce):J.value},D.prototype._calculate=function(J,ce,Me,Ie){return Ie.zoom>Ie.zoomHistory.lastIntegerZoom?{from:J,to:ce}:{from:Me,to:ce}},D.prototype.interpolate=function(J){return J},D}(Fr),Uo=function(M){this.specification=M};Uo.prototype.possiblyEvaluate=function(M,D,J,ce){if(M.value!==void 0){if(M.expression.kind==="constant"){var Me=M.expression.evaluate(D,null,{},J,ce);return this._calculate(Me,Me,Me,D)}return this._calculate(M.expression.evaluate(new $r(Math.floor(D.zoom-1),D)),M.expression.evaluate(new $r(Math.floor(D.zoom),D)),M.expression.evaluate(new $r(Math.floor(D.zoom+1),D)),D)}},Uo.prototype._calculate=function(M,D,J,ce){return ce.zoom>ce.zoomHistory.lastIntegerZoom?{from:M,to:D}:{from:J,to:D}},Uo.prototype.interpolate=function(M){return M};var as=function(M){this.specification=M};as.prototype.possiblyEvaluate=function(M,D,J,ce){return!!M.expression.evaluate(D,null,{},J,ce)},as.prototype.interpolate=function(){return!1};var qi=function(M){for(var D in this.properties=M,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],M){var J=M[D];J.specification.overridable&&this.overridableProperties.push(D);var ce=this.defaultPropertyValues[D]=new jo(J,void 0),Me=this.defaultTransitionablePropertyValues[D]=new tl(J);this.defaultTransitioningPropertyValues[D]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[D]=ce.possiblyEvaluate({})}};Lr("DataDrivenProperty",Fr),Lr("DataConstantProperty",Pr),Lr("CrossFadedDataDrivenProperty",Xa),Lr("CrossFadedProperty",Uo),Lr("ColorRampProperty",as);var Vo="-transition",ui=function(M){function D(J,ce){if(M.call(this),this.id=J.id,this.type=J.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},J.type!=="custom"&&(this.metadata=J.metadata,this.minzoom=J.minzoom,this.maxzoom=J.maxzoom,J.type!=="background"&&(this.source=J.source,this.sourceLayer=J["source-layer"],this.filter=J.filter),ce.layout&&(this._unevaluatedLayout=new wo(ce.layout)),ce.paint)){for(var Me in this._transitionablePaint=new _o(ce.paint),J.paint)this.setPaintProperty(Me,J.paint[Me],{validate:!1});for(var Ie in J.layout)this.setLayoutProperty(Ie,J.layout[Ie],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new nl(ce.paint)}}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(J){return J==="visibility"?this.visibility:this._unevaluatedLayout.getValue(J)},D.prototype.setLayoutProperty=function(J,ce,Me){if(Me===void 0&&(Me={}),ce!=null){var Ie="layers."+this.id+".layout."+J;if(this._validate(Ss,Ie,J,ce,Me))return}J!=="visibility"?this._unevaluatedLayout.setValue(J,ce):this.visibility=ce},D.prototype.getPaintProperty=function(J){return m(J,Vo)?this._transitionablePaint.getTransition(J.slice(0,-11)):this._transitionablePaint.getValue(J)},D.prototype.setPaintProperty=function(J,ce,Me){if(Me===void 0&&(Me={}),ce!=null){var Ie="layers."+this.id+".paint."+J;if(this._validate(yo,Ie,J,ce,Me))return!1}if(m(J,Vo))return this._transitionablePaint.setTransition(J.slice(0,-11),ce||void 0),!1;var qe=this._transitionablePaint._values[J],tt=qe.property.specification["property-type"]==="cross-faded-data-driven",ht=qe.value.isDataDriven(),Tt=qe.value;this._transitionablePaint.setValue(J,ce),this._handleSpecialPaintPropertyUpdate(J);var Mt=this._transitionablePaint._values[J].value;return Mt.isDataDriven()||ht||tt||this._handleOverridablePaintPropertyUpdate(J,Tt,Mt)},D.prototype._handleSpecialPaintPropertyUpdate=function(J){},D.prototype._handleOverridablePaintPropertyUpdate=function(J,ce,Me){return!1},D.prototype.isHidden=function(J){return!!(this.minzoom&&J<this.minzoom)||!!(this.maxzoom&&J>=this.maxzoom)||this.visibility==="none"},D.prototype.updateTransitions=function(J){this._transitioningPaint=this._transitionablePaint.transitioned(J,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(J,ce){J.getCrossfadeParameters&&(this._crossfadeParameters=J.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(J,void 0,ce)),this.paint=this._transitioningPaint.possiblyEvaluate(J,void 0,ce)},D.prototype.serialize=function(){var J={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(J.layout=J.layout||{},J.layout.visibility=this.visibility),p(J,function(ce,Me){return!(ce===void 0||Me==="layout"&&!Object.keys(ce).length||Me==="paint"&&!Object.keys(ce).length)})},D.prototype._validate=function(J,ce,Me,Ie,qe){return qe===void 0&&(qe={}),(!qe||qe.validate!==!1)&&Oa(this,J.call(Fo,{key:ce,layerType:this.type,objectKey:Me,value:Ie,styleSpec:Ke,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var J in this.paint._values){var ce=this.paint.get(J);if(ce instanceof _i&&Qo(ce.property.specification)&&(ce.value.kind==="source"||ce.value.kind==="composite")&&ce.value.isStateDependent)return!0}return!1},D}(st),tc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ka=function(M,D){this._structArray=M,this._pos1=D*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},pi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(M,D){D===void 0&&(D=1);var J=0,ce=0;return{members:M.map(function(Me){var Ie,qe=(Ie=Me.type,tc[Ie].BYTES_PER_ELEMENT),tt=J=Ua(J,Math.max(D,qe)),ht=Me.components||1;return ce=Math.max(ce,qe),J+=qe*ht,{name:Me.name,type:Me.type,components:ht,offset:tt}}),size:Ua(J,Math.max(ce,D)),alignment:D}}function Ua(M,D){return Math.ceil(M/D)*D}pi.serialize=function(M,D){return M._trim(),D&&(M.isTransferred=!0,D.push(M.arrayBuffer)),{length:M.length,arrayBuffer:M.arrayBuffer}},pi.deserialize=function(M){var D=Object.create(this.prototype);return D.arrayBuffer=M.arrayBuffer,D.length=M.length,D.capacity=M.arrayBuffer.byteLength/D.bytesPerElement,D._refreshViews(),D},pi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},pi.prototype.clear=function(){this.length=0},pi.prototype.resize=function(M){this.reserve(M),this.length=M},pi.prototype.reserve=function(M){if(M>this.capacity){this.capacity=Math.max(M,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var D=this.uint8;this._refreshViews(),D&&this.uint8.set(D)}},pi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Os=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,J,ce)},D.prototype.emplace=function(J,ce,Me){var Ie=2*J;return this.int16[Ie+0]=ce,this.int16[Ie+1]=Me,J},D}(pi);Os.prototype.bytesPerElement=4,Lr("StructArrayLayout2i4",Os);var Pu=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie){var qe=this.length;return this.resize(qe+1),this.emplace(qe,J,ce,Me,Ie)},D.prototype.emplace=function(J,ce,Me,Ie,qe){var tt=4*J;return this.int16[tt+0]=ce,this.int16[tt+1]=Me,this.int16[tt+2]=Ie,this.int16[tt+3]=qe,J},D}(pi);Pu.prototype.bytesPerElement=8,Lr("StructArrayLayout4i8",Pu);var et=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,J,ce,Me,Ie,qe,tt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht){var Tt=6*J;return this.int16[Tt+0]=ce,this.int16[Tt+1]=Me,this.int16[Tt+2]=Ie,this.int16[Tt+3]=qe,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,J},D}(pi);et.prototype.bytesPerElement=12,Lr("StructArrayLayout2i4i12",et);var rt=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,J,ce,Me,Ie,qe,tt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht){var Tt=4*J,Mt=8*J;return this.int16[Tt+0]=ce,this.int16[Tt+1]=Me,this.uint8[Mt+4]=Ie,this.uint8[Mt+5]=qe,this.uint8[Mt+6]=tt,this.uint8[Mt+7]=ht,J},D}(pi);rt.prototype.bytesPerElement=8,Lr("StructArrayLayout2i4ub8",rt);var ct=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,J,ce)},D.prototype.emplace=function(J,ce,Me){var Ie=2*J;return this.float32[Ie+0]=ce,this.float32[Ie+1]=Me,J},D}(pi);ct.prototype.bytesPerElement=8,Lr("StructArrayLayout2f8",ct);var N=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt){var Vt=10*J;return this.uint16[Vt+0]=ce,this.uint16[Vt+1]=Me,this.uint16[Vt+2]=Ie,this.uint16[Vt+3]=qe,this.uint16[Vt+4]=tt,this.uint16[Vt+5]=ht,this.uint16[Vt+6]=Tt,this.uint16[Vt+7]=Mt,this.uint16[Vt+8]=Bt,this.uint16[Vt+9]=Gt,J},D}(pi);N.prototype.bytesPerElement=20,Lr("StructArrayLayout10ui20",N);var Y=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt){var ln=this.length;return this.resize(ln+1),this.emplace(ln,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln){var cn=12*J;return this.int16[cn+0]=ce,this.int16[cn+1]=Me,this.int16[cn+2]=Ie,this.int16[cn+3]=qe,this.uint16[cn+4]=tt,this.uint16[cn+5]=ht,this.uint16[cn+6]=Tt,this.uint16[cn+7]=Mt,this.int16[cn+8]=Bt,this.int16[cn+9]=Gt,this.int16[cn+10]=Vt,this.int16[cn+11]=ln,J},D}(pi);Y.prototype.bytesPerElement=24,Lr("StructArrayLayout4i4ui4i24",Y);var G=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,J,ce,Me)},D.prototype.emplace=function(J,ce,Me,Ie){var qe=3*J;return this.float32[qe+0]=ce,this.float32[qe+1]=Me,this.float32[qe+2]=Ie,J},D}(pi);G.prototype.bytesPerElement=12,Lr("StructArrayLayout3f12",G);var L=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J){var ce=this.length;return this.resize(ce+1),this.emplace(ce,J)},D.prototype.emplace=function(J,ce){var Me=1*J;return this.uint32[Me+0]=ce,J},D}(pi);L.prototype.bytesPerElement=4,Lr("StructArrayLayout1ul4",L);var q=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,J,ce,Me,Ie,qe,tt,ht,Tt,Mt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt){var Gt=10*J,Vt=5*J;return this.int16[Gt+0]=ce,this.int16[Gt+1]=Me,this.int16[Gt+2]=Ie,this.int16[Gt+3]=qe,this.int16[Gt+4]=tt,this.int16[Gt+5]=ht,this.uint32[Vt+3]=Tt,this.uint16[Gt+8]=Mt,this.uint16[Gt+9]=Bt,J},D}(pi);q.prototype.bytesPerElement=20,Lr("StructArrayLayout6i1ul2ui20",q);var ee=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,J,ce,Me,Ie,qe,tt)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht){var Tt=6*J;return this.int16[Tt+0]=ce,this.int16[Tt+1]=Me,this.int16[Tt+2]=Ie,this.int16[Tt+3]=qe,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,J},D}(pi);ee.prototype.bytesPerElement=12,Lr("StructArrayLayout2i2i2i12",ee);var ie=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe){var tt=this.length;return this.resize(tt+1),this.emplace(tt,J,ce,Me,Ie,qe)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt){var ht=4*J,Tt=8*J;return this.float32[ht+0]=ce,this.float32[ht+1]=Me,this.float32[ht+2]=Ie,this.int16[Tt+6]=qe,this.int16[Tt+7]=tt,J},D}(pi);ie.prototype.bytesPerElement=16,Lr("StructArrayLayout2f1f2i16",ie);var fe=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie){var qe=this.length;return this.resize(qe+1),this.emplace(qe,J,ce,Me,Ie)},D.prototype.emplace=function(J,ce,Me,Ie,qe){var tt=12*J,ht=3*J;return this.uint8[tt+0]=ce,this.uint8[tt+1]=Me,this.float32[ht+1]=Ie,this.float32[ht+2]=qe,J},D}(pi);fe.prototype.bytesPerElement=12,Lr("StructArrayLayout2ub2f12",fe);var we=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,J,ce,Me)},D.prototype.emplace=function(J,ce,Me,Ie){var qe=3*J;return this.uint16[qe+0]=ce,this.uint16[qe+1]=Me,this.uint16[qe+2]=Ie,J},D}(pi);we.prototype.bytesPerElement=6,Lr("StructArrayLayout3ui6",we);var Oe=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn){var Nn=this.length;return this.resize(Nn+1),this.emplace(Nn,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn,Nn){var Xn=24*J,$n=12*J,lr=48*J;return this.int16[Xn+0]=ce,this.int16[Xn+1]=Me,this.uint16[Xn+2]=Ie,this.uint16[Xn+3]=qe,this.uint32[$n+2]=tt,this.uint32[$n+3]=ht,this.uint32[$n+4]=Tt,this.uint16[Xn+10]=Mt,this.uint16[Xn+11]=Bt,this.uint16[Xn+12]=Gt,this.float32[$n+7]=Vt,this.float32[$n+8]=ln,this.uint8[lr+36]=cn,this.uint8[lr+37]=Mn,this.uint8[lr+38]=Tn,this.uint32[$n+10]=Bn,this.int16[Xn+22]=Nn,J},D}(pi);Oe.prototype.bytesPerElement=48,Lr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Oe);var Be=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn,Nn,Xn,$n,lr,xr,vr,Ar,Er,qr,zr,Hr){var Rr=this.length;return this.resize(Rr+1),this.emplace(Rr,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn,Nn,Xn,$n,lr,xr,vr,Ar,Er,qr,zr,Hr)},D.prototype.emplace=function(J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Bn,Nn,Xn,$n,lr,xr,vr,Ar,Er,qr,zr,Hr,Rr){var Ir=34*J,ri=17*J;return this.int16[Ir+0]=ce,this.int16[Ir+1]=Me,this.int16[Ir+2]=Ie,this.int16[Ir+3]=qe,this.int16[Ir+4]=tt,this.int16[Ir+5]=ht,this.int16[Ir+6]=Tt,this.int16[Ir+7]=Mt,this.uint16[Ir+8]=Bt,this.uint16[Ir+9]=Gt,this.uint16[Ir+10]=Vt,this.uint16[Ir+11]=ln,this.uint16[Ir+12]=cn,this.uint16[Ir+13]=Mn,this.uint16[Ir+14]=Tn,this.uint16[Ir+15]=Bn,this.uint16[Ir+16]=Nn,this.uint16[Ir+17]=Xn,this.uint16[Ir+18]=$n,this.uint16[Ir+19]=lr,this.uint16[Ir+20]=xr,this.uint16[Ir+21]=vr,this.uint16[Ir+22]=Ar,this.uint32[ri+12]=Er,this.float32[ri+13]=qr,this.float32[ri+14]=zr,this.float32[ri+15]=Hr,this.float32[ri+16]=Rr,J},D}(pi);Be.prototype.bytesPerElement=68,Lr("StructArrayLayout8i15ui1ul4f68",Be);var Ge=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J){var ce=this.length;return this.resize(ce+1),this.emplace(ce,J)},D.prototype.emplace=function(J,ce){var Me=1*J;return this.float32[Me+0]=ce,J},D}(pi);Ge.prototype.bytesPerElement=4,Lr("StructArrayLayout1f4",Ge);var Ye=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,J,ce,Me)},D.prototype.emplace=function(J,ce,Me,Ie){var qe=3*J;return this.int16[qe+0]=ce,this.int16[qe+1]=Me,this.int16[qe+2]=Ie,J},D}(pi);Ye.prototype.bytesPerElement=6,Lr("StructArrayLayout3i6",Ye);var at=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,J,ce,Me)},D.prototype.emplace=function(J,ce,Me,Ie){var qe=2*J,tt=4*J;return this.uint32[qe+0]=ce,this.uint16[tt+2]=Me,this.uint16[tt+3]=Ie,J},D}(pi);at.prototype.bytesPerElement=8,Lr("StructArrayLayout1ul2ui8",at);var pt=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,J,ce)},D.prototype.emplace=function(J,ce,Me){var Ie=2*J;return this.uint16[Ie+0]=ce,this.uint16[Ie+1]=Me,J},D}(pi);pt.prototype.bytesPerElement=4,Lr("StructArrayLayout2ui4",pt);var vt=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J){var ce=this.length;return this.resize(ce+1),this.emplace(ce,J)},D.prototype.emplace=function(J,ce){var Me=1*J;return this.uint16[Me+0]=ce,J},D}(pi);vt.prototype.bytesPerElement=2,Lr("StructArrayLayout1ui2",vt);var kt=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(J,ce,Me,Ie){var qe=this.length;return this.resize(qe+1),this.emplace(qe,J,ce,Me,Ie)},D.prototype.emplace=function(J,ce,Me,Ie,qe){var tt=4*J;return this.float32[tt+0]=ce,this.float32[tt+1]=Me,this.float32[tt+2]=Ie,this.float32[tt+3]=qe,J},D}(pi);kt.prototype.bytesPerElement=16,Lr("StructArrayLayout4f16",kt);var Ot=function(M){function D(){M.apply(this,arguments)}M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D;var J={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return J.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},J.x1.get=function(){return this._structArray.int16[this._pos2+2]},J.y1.get=function(){return this._structArray.int16[this._pos2+3]},J.x2.get=function(){return this._structArray.int16[this._pos2+4]},J.y2.get=function(){return this._structArray.int16[this._pos2+5]},J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.anchorPoint.get=function(){return new n(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,J),D}(Ka);Ot.prototype.size=20;var St=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.get=function(J){return new Ot(this,J)},D}(q);Lr("CollisionBoxArray",St);var jt=function(M){function D(){M.apply(this,arguments)}M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},J.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},J.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},J.segment.get=function(){return this._structArray.uint16[this._pos2+10]},J.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},J.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},J.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},J.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},J.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},J.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},J.placedOrientation.set=function(ce){this._structArray.uint8[this._pos1+37]=ce},J.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},J.hidden.set=function(ce){this._structArray.uint8[this._pos1+38]=ce},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},J.crossTileID.set=function(ce){this._structArray.uint32[this._pos4+10]=ce},J.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,J),D}(Ka);jt.prototype.size=48;var It=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.get=function(J){return new jt(this,J)},D}(Oe);Lr("PlacedSymbolArray",It);var $t=function(M){function D(){M.apply(this,arguments)}M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},J.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},J.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},J.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},J.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},J.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},J.key.get=function(){return this._structArray.uint16[this._pos2+8]},J.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},J.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},J.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},J.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},J.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},J.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},J.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},J.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},J.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},J.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},J.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},J.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},J.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},J.crossTileID.set=function(ce){this._structArray.uint32[this._pos4+12]=ce},J.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},J.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},J.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},J.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,J),D}(Ka);$t.prototype.size=68;var Zt=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.get=function(J){return new $t(this,J)},D}(Be);Lr("SymbolInstanceArray",Zt);var Ht=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(J){return this.float32[1*J+0]},D}(Ge);Lr("GlyphOffsetArray",Ht);var vn=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.getx=function(J){return this.int16[3*J+0]},D.prototype.gety=function(J){return this.int16[3*J+1]},D.prototype.gettileUnitDistanceFromAnchor=function(J){return this.int16[3*J+2]},D}(Ye);Lr("SymbolLineVertexArray",vn);var bn=function(M){function D(){M.apply(this,arguments)}M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D;var J={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,J),D}(Ka);bn.prototype.size=8;var Ln=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.get=function(J){return new bn(this,J)},D}(at);Lr("FeatureIndexArray",Ln);var Rn=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,Gn=function(M){M===void 0&&(M=[]),this.segments=M};function or(M,D){return 256*(M=u(Math.floor(M),0,255))+u(Math.floor(D),0,255)}Gn.prototype.prepareSegment=function(M,D,J,ce){var Me=this.segments[this.segments.length-1];return M>Gn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Gn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+M),(!Me||Me.vertexLength+M>Gn.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==ce)&&(Me={vertexOffset:D.length,primitiveOffset:J.length,vertexLength:0,primitiveLength:0},ce!==void 0&&(Me.sortKey=ce),this.segments.push(Me)),Me},Gn.prototype.get=function(){return this.segments},Gn.prototype.destroy=function(){for(var M=0,D=this.segments;M<D.length;M+=1){var J=D[M];for(var ce in J.vaos)J.vaos[ce].destroy()}},Gn.simpleSegment=function(M,D,J,ce){return new Gn([{vertexOffset:M,primitiveOffset:D,vertexLength:J,primitiveLength:ce,vaos:{},sortKey:0}])},Gn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Lr("SegmentVector",Gn);var hr=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Kn=w(function(M){M.exports=function(D,J){var ce,Me,Ie,qe,tt,ht,Tt,Mt;for(ce=3&D.length,Me=D.length-ce,Ie=J,tt=3432918353,ht=461845907,Mt=0;Mt<Me;)Tt=255&D.charCodeAt(Mt)|(255&D.charCodeAt(++Mt))<<8|(255&D.charCodeAt(++Mt))<<16|(255&D.charCodeAt(++Mt))<<24,++Mt,Ie=27492+(65535&(qe=5*(65535&(Ie=(Ie^=Tt=(65535&(Tt=(Tt=(65535&Tt)*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295)<<13|Ie>>>19))+((5*(Ie>>>16)&65535)<<16)&4294967295))+((58964+(qe>>>16)&65535)<<16);switch(Tt=0,ce){case 3:Tt^=(255&D.charCodeAt(Mt+2))<<16;case 2:Tt^=(255&D.charCodeAt(Mt+1))<<8;case 1:Ie^=Tt=(65535&(Tt=(Tt=(65535&(Tt^=255&D.charCodeAt(Mt)))*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295}return Ie^=D.length,Ie=2246822507*(65535&(Ie^=Ie>>>16))+((2246822507*(Ie>>>16)&65535)<<16)&4294967295,Ie=3266489909*(65535&(Ie^=Ie>>>13))+((3266489909*(Ie>>>16)&65535)<<16)&4294967295,(Ie^=Ie>>>16)>>>0}}),fr=w(function(M){M.exports=function(D,J){for(var ce,Me=D.length,Ie=J^Me,qe=0;Me>=4;)ce=1540483477*(65535&(ce=255&D.charCodeAt(qe)|(255&D.charCodeAt(++qe))<<8|(255&D.charCodeAt(++qe))<<16|(255&D.charCodeAt(++qe))<<24))+((1540483477*(ce>>>16)&65535)<<16),Ie=1540483477*(65535&Ie)+((1540483477*(Ie>>>16)&65535)<<16)^(ce=1540483477*(65535&(ce^=ce>>>24))+((1540483477*(ce>>>16)&65535)<<16)),Me-=4,++qe;switch(Me){case 3:Ie^=(255&D.charCodeAt(qe+2))<<16;case 2:Ie^=(255&D.charCodeAt(qe+1))<<8;case 1:Ie=1540483477*(65535&(Ie^=255&D.charCodeAt(qe)))+((1540483477*(Ie>>>16)&65535)<<16)}return Ie=1540483477*(65535&(Ie^=Ie>>>13))+((1540483477*(Ie>>>16)&65535)<<16),(Ie^=Ie>>>15)>>>0}}),wr=Kn,Or=Kn,nr=fr;wr.murmur3=Or,wr.murmur2=nr;var cr=function(){this.ids=[],this.positions=[],this.indexed=!1};cr.prototype.add=function(M,D,J,ce){this.ids.push(pr(M)),this.positions.push(D,J,ce)},cr.prototype.getPositions=function(M){for(var D=pr(M),J=0,ce=this.ids.length-1;J<ce;){var Me=J+ce>>1;this.ids[Me]>=D?ce=Me:J=Me+1}for(var Ie=[];this.ids[J]===D;){var qe=this.positions[3*J],tt=this.positions[3*J+1],ht=this.positions[3*J+2];Ie.push({index:qe,start:tt,end:ht}),J++}return Ie},cr.serialize=function(M,D){var J=new Float64Array(M.ids),ce=new Uint32Array(M.positions);return Cr(J,ce,0,J.length-1),D&&D.push(J.buffer,ce.buffer),{ids:J,positions:ce}},cr.deserialize=function(M){var D=new cr;return D.ids=M.ids,D.positions=M.positions,D.indexed=!0,D};var Sr=Math.pow(2,53)-1;function pr(M){var D=+M;return!isNaN(D)&&D<=Sr?D:wr(String(M))}function Cr(M,D,J,ce){for(;J<ce;){for(var Me=M[J+ce>>1],Ie=J-1,qe=ce+1;;){do Ie++;while(M[Ie]<Me);do qe--;while(M[qe]>Me);if(Ie>=qe)break;Dr(M,Ie,qe),Dr(D,3*Ie,3*qe),Dr(D,3*Ie+1,3*qe+1),Dr(D,3*Ie+2,3*qe+2)}qe-J<ce-qe?(Cr(M,D,J,qe),J=qe+1):(Cr(M,D,qe+1,ce),ce=qe)}}function Dr(M,D,J){var ce=M[D];M[D]=M[J],M[J]=ce}Lr("FeaturePositionMap",cr);var Gr=function(M,D){this.gl=M.gl,this.location=D},Wr=function(M){function D(J,ce){M.call(this,J,ce),this.current=0}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1i(this.location,J))},D}(Gr),Xr=function(M){function D(J,ce){M.call(this,J,ce),this.current=0}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1f(this.location,J))},D}(Gr),Qr=function(M){function D(J,ce){M.call(this,J,ce),this.current=[0,0]}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]||(this.current=J,this.gl.uniform2f(this.location,J[0],J[1]))},D}(Gr),wi=function(M){function D(J,ce){M.call(this,J,ce),this.current=[0,0,0]}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]||(this.current=J,this.gl.uniform3f(this.location,J[0],J[1],J[2]))},D}(Gr),Ni=function(M){function D(J,ce){M.call(this,J,ce),this.current=[0,0,0,0]}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]&&J[3]===this.current[3]||(this.current=J,this.gl.uniform4f(this.location,J[0],J[1],J[2],J[3]))},D}(Gr),Ma=function(M){function D(J,ce){M.call(this,J,ce),this.current=On.transparent}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){J.r===this.current.r&&J.g===this.current.g&&J.b===this.current.b&&J.a===this.current.a||(this.current=J,this.gl.uniform4f(this.location,J.r,J.g,J.b,J.a))},D}(Gr),ea=new Float32Array(16),va=function(M){function D(J,ce){M.call(this,J,ce),this.current=ea}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.set=function(J){if(J[12]!==this.current[12]||J[0]!==this.current[0])return this.current=J,void this.gl.uniformMatrix4fv(this.location,!1,J);for(var ce=1;ce<16;ce++)if(J[ce]!==this.current[ce]){this.current=J,this.gl.uniformMatrix4fv(this.location,!1,J);break}},D}(Gr);function Ei(M){return[or(255*M.r,255*M.g),or(255*M.b,255*M.a)]}var ti=function(M,D,J){this.value=M,this.uniformNames=D.map(function(ce){return"u_"+ce}),this.type=J};ti.prototype.setUniform=function(M,D,J){M.set(J.constantOr(this.value))},ti.prototype.getBinding=function(M,D,J){return this.type==="color"?new Ma(M,D):new Xr(M,D)};var Ii=function(M,D){this.uniformNames=D.map(function(J){return"u_"+J}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ii.prototype.setConstantPatternPositions=function(M,D){this.pixelRatioFrom=D.pixelRatio,this.pixelRatioTo=M.pixelRatio,this.patternFrom=D.tlbr,this.patternTo=M.tlbr},Ii.prototype.setUniform=function(M,D,J,ce){var Me=ce==="u_pattern_to"?this.patternTo:ce==="u_pattern_from"?this.patternFrom:ce==="u_pixel_ratio_to"?this.pixelRatioTo:ce==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&M.set(Me)},Ii.prototype.getBinding=function(M,D,J){return J.substr(0,9)==="u_pattern"?new Ni(M,D):new Xr(M,D)};var di=function(M,D,J,ce){this.expression=M,this.type=J,this.maxValue=0,this.paintVertexAttributes=D.map(function(Me){return{name:"a_"+Me,type:"Float32",components:J==="color"?2:1,offset:0}}),this.paintVertexArray=new ce};di.prototype.populatePaintArray=function(M,D,J,ce,Me){var Ie=this.paintVertexArray.length,qe=this.expression.evaluate(new $r(0),D,{},ce,[],Me);this.paintVertexArray.resize(M),this._setPaintValue(Ie,M,qe)},di.prototype.updatePaintArray=function(M,D,J,ce){var Me=this.expression.evaluate({zoom:0},J,ce);this._setPaintValue(M,D,Me)},di.prototype._setPaintValue=function(M,D,J){if(this.type==="color")for(var ce=Ei(J),Me=M;Me<D;Me++)this.paintVertexArray.emplace(Me,ce[0],ce[1]);else{for(var Ie=M;Ie<D;Ie++)this.paintVertexArray.emplace(Ie,J);this.maxValue=Math.max(this.maxValue,Math.abs(J))}},di.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},di.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ii=function(M,D,J,ce,Me,Ie){this.expression=M,this.uniformNames=D.map(function(qe){return"u_"+qe+"_t"}),this.type=J,this.useIntegerZoom=ce,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=D.map(function(qe){return{name:"a_"+qe,type:"Float32",components:J==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ii.prototype.populatePaintArray=function(M,D,J,ce,Me){var Ie=this.expression.evaluate(new $r(this.zoom),D,{},ce,[],Me),qe=this.expression.evaluate(new $r(this.zoom+1),D,{},ce,[],Me),tt=this.paintVertexArray.length;this.paintVertexArray.resize(M),this._setPaintValue(tt,M,Ie,qe)},ii.prototype.updatePaintArray=function(M,D,J,ce){var Me=this.expression.evaluate({zoom:this.zoom},J,ce),Ie=this.expression.evaluate({zoom:this.zoom+1},J,ce);this._setPaintValue(M,D,Me,Ie)},ii.prototype._setPaintValue=function(M,D,J,ce){if(this.type==="color")for(var Me=Ei(J),Ie=Ei(ce),qe=M;qe<D;qe++)this.paintVertexArray.emplace(qe,Me[0],Me[1],Ie[0],Ie[1]);else{for(var tt=M;tt<D;tt++)this.paintVertexArray.emplace(tt,J,ce);this.maxValue=Math.max(this.maxValue,Math.abs(J),Math.abs(ce))}},ii.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ii.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ii.prototype.setUniform=function(M,D){var J=this.useIntegerZoom?Math.floor(D.zoom):D.zoom,ce=u(this.expression.interpolationFactor(J,this.zoom,this.zoom+1),0,1);M.set(ce)},ii.prototype.getBinding=function(M,D,J){return new Xr(M,D)};var zi=function(M,D,J,ce,Me,Ie){this.expression=M,this.type=D,this.useIntegerZoom=J,this.zoom=ce,this.layerId=Ie,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};zi.prototype.populatePaintArray=function(M,D,J){var ce=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(M),this.zoomOutPaintVertexArray.resize(M),this._setPaintValues(ce,M,D.patterns&&D.patterns[this.layerId],J)},zi.prototype.updatePaintArray=function(M,D,J,ce,Me){this._setPaintValues(M,D,J.patterns&&J.patterns[this.layerId],Me)},zi.prototype._setPaintValues=function(M,D,J,ce){if(ce&&J){var Me=J.min,Ie=J.mid,qe=J.max,tt=ce[Me],ht=ce[Ie],Tt=ce[qe];if(tt&&ht&&Tt)for(var Mt=M;Mt<D;Mt++)this.zoomInPaintVertexArray.emplace(Mt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],tt.tl[0],tt.tl[1],tt.br[0],tt.br[1],ht.pixelRatio,tt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Mt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ht.pixelRatio,Tt.pixelRatio)}},zi.prototype.upload=function(M){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=M.createVertexBuffer(this.zoomInPaintVertexArray,hr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=M.createVertexBuffer(this.zoomOutPaintVertexArray,hr.members,this.expression.isStateDependent))},zi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ji=function(M,D,J){this.binders={},this._buffers=[];var ce=[];for(var Me in M.paint._values)if(J(Me)){var Ie=M.paint.get(Me);if(Ie instanceof _i&&Qo(Ie.property.specification)){var qe=Tl(Me,M.type),tt=Ie.value,ht=Ie.property.specification.type,Tt=Ie.property.useIntegerZoom,Mt=Ie.property.specification["property-type"],Bt=Mt==="cross-faded"||Mt==="cross-faded-data-driven";if(tt.kind==="constant")this.binders[Me]=Bt?new Ii(tt.value,qe):new ti(tt.value,qe,ht),ce.push("/u_"+Me);else if(tt.kind==="source"||Bt){var Gt=kl(Me,ht,"source");this.binders[Me]=Bt?new zi(tt,ht,Tt,D,Gt,M.id):new di(tt,qe,ht,Gt),ce.push("/a_"+Me)}else{var Vt=kl(Me,ht,"composite");this.binders[Me]=new ii(tt,qe,ht,Tt,D,Vt),ce.push("/z_"+Me)}}}this.cacheKey=ce.sort().join("")};ji.prototype.getMaxValue=function(M){var D=this.binders[M];return D instanceof di||D instanceof ii?D.maxValue:0},ji.prototype.populatePaintArrays=function(M,D,J,ce,Me){for(var Ie in this.binders){var qe=this.binders[Ie];(qe instanceof di||qe instanceof ii||qe instanceof zi)&&qe.populatePaintArray(M,D,J,ce,Me)}},ji.prototype.setConstantPatternPositions=function(M,D){for(var J in this.binders){var ce=this.binders[J];ce instanceof Ii&&ce.setConstantPatternPositions(M,D)}},ji.prototype.updatePaintArrays=function(M,D,J,ce,Me){var Ie=!1;for(var qe in M)for(var tt=0,ht=D.getPositions(qe);tt<ht.length;tt+=1){var Tt=ht[tt],Mt=J.feature(Tt.index);for(var Bt in this.binders){var Gt=this.binders[Bt];if((Gt instanceof di||Gt instanceof ii||Gt instanceof zi)&&Gt.expression.isStateDependent===!0){var Vt=ce.paint.get(Bt);Gt.expression=Vt.value,Gt.updatePaintArray(Tt.start,Tt.end,Mt,M[qe],Me),Ie=!0}}}return Ie},ji.prototype.defines=function(){var M=[];for(var D in this.binders){var J=this.binders[D];(J instanceof ti||J instanceof Ii)&&M.push.apply(M,J.uniformNames.map(function(ce){return"#define HAS_UNIFORM_"+ce}))}return M},ji.prototype.getBinderAttributes=function(){var M=[];for(var D in this.binders){var J=this.binders[D];if(J instanceof di||J instanceof ii)for(var ce=0;ce<J.paintVertexAttributes.length;ce++)M.push(J.paintVertexAttributes[ce].name);else if(J instanceof zi)for(var Me=0;Me<hr.members.length;Me++)M.push(hr.members[Me].name)}return M},ji.prototype.getBinderUniforms=function(){var M=[];for(var D in this.binders){var J=this.binders[D];if(J instanceof ti||J instanceof Ii||J instanceof ii)for(var ce=0,Me=J.uniformNames;ce<Me.length;ce+=1){var Ie=Me[ce];M.push(Ie)}}return M},ji.prototype.getPaintVertexBuffers=function(){return this._buffers},ji.prototype.getUniforms=function(M,D){var J=[];for(var ce in this.binders){var Me=this.binders[ce];if(Me instanceof ti||Me instanceof Ii||Me instanceof ii)for(var Ie=0,qe=Me.uniformNames;Ie<qe.length;Ie+=1){var tt=qe[Ie];if(D[tt]){var ht=Me.getBinding(M,D[tt],tt);J.push({name:tt,property:ce,binding:ht})}}}return J},ji.prototype.setUniforms=function(M,D,J,ce){for(var Me=0,Ie=D;Me<Ie.length;Me+=1){var qe=Ie[Me],tt=qe.name,ht=qe.property,Tt=qe.binding;this.binders[ht].setUniform(Tt,ce,J.get(ht),tt)}},ji.prototype.updatePaintBuffers=function(M){for(var D in this._buffers=[],this.binders){var J=this.binders[D];if(M&&J instanceof zi){var ce=M.fromScale===2?J.zoomInPaintVertexBuffer:J.zoomOutPaintVertexBuffer;ce&&this._buffers.push(ce)}else(J instanceof di||J instanceof ii)&&J.paintVertexBuffer&&this._buffers.push(J.paintVertexBuffer)}},ji.prototype.upload=function(M){for(var D in this.binders){var J=this.binders[D];(J instanceof di||J instanceof ii||J instanceof zi)&&J.upload(M)}this.updatePaintBuffers()},ji.prototype.destroy=function(){for(var M in this.binders){var D=this.binders[M];(D instanceof di||D instanceof ii||D instanceof zi)&&D.destroy()}};var Xi=function(M,D,J){J===void 0&&(J=function(){return!0}),this.programConfigurations={};for(var ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce];this.programConfigurations[Ie.id]=new ji(Ie,D,J)}this.needsUpload=!1,this._featureMap=new cr,this._bufferOffset=0};function Tl(M,D){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[M]||[M.replace(D+"-","").replace(/-/g,"_")]}function kl(M,D,J){var ce={color:{source:ct,composite:kt},number:{source:Ge,composite:ct}},Me=function(Ie){return{"line-pattern":{source:N,composite:N},"fill-pattern":{source:N,composite:N},"fill-extrusion-pattern":{source:N,composite:N}}[Ie]}(M);return Me&&Me[J]||ce[D][J]}Xi.prototype.populatePaintArrays=function(M,D,J,ce,Me,Ie){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(M,D,ce,Me,Ie);D.id!==void 0&&this._featureMap.add(D.id,J,this._bufferOffset,M),this._bufferOffset=M,this.needsUpload=!0},Xi.prototype.updatePaintArrays=function(M,D,J,ce){for(var Me=0,Ie=J;Me<Ie.length;Me+=1){var qe=Ie[Me];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(M,this._featureMap,D,qe,ce)||this.needsUpload}},Xi.prototype.get=function(M){return this.programConfigurations[M]},Xi.prototype.upload=function(M){if(this.needsUpload){for(var D in this.programConfigurations)this.programConfigurations[D].upload(M);this.needsUpload=!1}},Xi.prototype.destroy=function(){for(var M in this.programConfigurations)this.programConfigurations[M].destroy()},Lr("ConstantBinder",ti),Lr("CrossFadedConstantBinder",Ii),Lr("SourceExpressionBinder",di),Lr("CrossFadedCompositeBinder",zi),Lr("CompositeExpressionBinder",ii),Lr("ProgramConfiguration",ji,{omit:["_buffers"]}),Lr("ProgramConfigurationSet",Xi);var ai=8192,du=Math.pow(2,14)-1,Gl=-du-1;function os(M){for(var D=ai/M.extent,J=M.loadGeometry(),ce=0;ce<J.length;ce++)for(var Me=J[ce],Ie=0;Ie<Me.length;Ie++){var qe=Me[Ie],tt=Math.round(qe.x*D),ht=Math.round(qe.y*D);qe.x=u(tt,Gl,du),qe.y=u(ht,Gl,du),(tt<qe.x||tt>qe.x+1||ht<qe.y||ht>qe.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return J}function Di(M,D){return{type:M.type,id:M.id,properties:M.properties,geometry:D?os(M):[]}}function Ja(M,D,J,ce,Me){M.emplaceBack(2*D+(ce+1)/2,2*J+(Me+1)/2)}var la=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new Os,this.indexArray=new we,this.segments=new Gn,this.programConfigurations=new Xi(M.layers,M.zoom),this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function jc(M,D){for(var J=0;J<M.length;J++)if(gu(D,M[J]))return!0;for(var ce=0;ce<D.length;ce++)if(gu(M,D[ce]))return!0;return!!nc(M,D)}function ag(M,D,J){return!!gu(M,D)||!!rc(D,M,J)}function td(M,D){if(M.length===1)return rd(D,M[0]);for(var J=0;J<D.length;J++)for(var ce=D[J],Me=0;Me<ce.length;Me++)if(gu(M,ce[Me]))return!0;for(var Ie=0;Ie<M.length;Ie++)if(rd(D,M[Ie]))return!0;for(var qe=0;qe<D.length;qe++)if(nc(M,D[qe]))return!0;return!1}function og(M,D,J){if(M.length>1){if(nc(M,D))return!0;for(var ce=0;ce<D.length;ce++)if(rc(D[ce],M,J))return!0}for(var Me=0;Me<M.length;Me++)if(rc(M[Me],D,J))return!0;return!1}function nc(M,D){if(M.length===0||D.length===0)return!1;for(var J=0;J<M.length-1;J++)for(var ce=M[J],Me=M[J+1],Ie=0;Ie<D.length-1;Ie++)if(sg(ce,Me,D[Ie],D[Ie+1]))return!0;return!1}function sg(M,D,J,ce){return O(M,J,ce)!==O(D,J,ce)&&O(M,D,J)!==O(M,D,ce)}function rc(M,D,J){var ce=J*J;if(D.length===1)return M.distSqr(D[0])<ce;for(var Me=1;Me<D.length;Me++)if(nd(M,D[Me-1],D[Me])<ce)return!0;return!1}function nd(M,D,J){var ce=D.distSqr(J);if(ce===0)return M.distSqr(D);var Me=((M.x-D.x)*(J.x-D.x)+(M.y-D.y)*(J.y-D.y))/ce;return Me<0?M.distSqr(D):Me>1?M.distSqr(J):M.distSqr(J.sub(D)._mult(Me)._add(D))}function rd(M,D){for(var J,ce,Me,Ie=!1,qe=0;qe<M.length;qe++)for(var tt=0,ht=(J=M[qe]).length-1;tt<J.length;ht=tt++)ce=J[tt],Me=J[ht],ce.y>D.y!=Me.y>D.y&&D.x<(Me.x-ce.x)*(D.y-ce.y)/(Me.y-ce.y)+ce.x&&(Ie=!Ie);return Ie}function gu(M,D){for(var J=!1,ce=0,Me=M.length-1;ce<M.length;Me=ce++){var Ie=M[ce],qe=M[Me];Ie.y>D.y!=qe.y>D.y&&D.x<(qe.x-Ie.x)*(D.y-Ie.y)/(qe.y-Ie.y)+Ie.x&&(J=!J)}return J}function e3(M,D,J){var ce=J[0],Me=J[2];if(M.x<ce.x&&D.x<ce.x||M.x>Me.x&&D.x>Me.x||M.y<ce.y&&D.y<ce.y||M.y>Me.y&&D.y>Me.y)return!1;var Ie=O(M,D,J[0]);return Ie!==O(M,D,J[1])||Ie!==O(M,D,J[2])||Ie!==O(M,D,J[3])}function Ph(M,D,J){var ce=D.paint.get(M).value;return ce.kind==="constant"?ce.value:J.programConfigurations.get(D.id).getMaxValue(M)}function id(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function ad(M,D,J,ce,Me){if(!D[0]&&!D[1])return M;var Ie=n.convert(D)._mult(Me);J==="viewport"&&Ie._rotate(-ce);for(var qe=[],tt=0;tt<M.length;tt++){var ht=M[tt];qe.push(ht.sub(Ie))}return qe}la.prototype.populate=function(M,D,J){var ce=this.layers[0],Me=[],Ie=null;ce.type==="circle"&&(Ie=ce.layout.get("circle-sort-key"));for(var qe=0,tt=M;qe<tt.length;qe+=1){var ht=tt[qe],Tt=ht.feature,Mt=ht.id,Bt=ht.index,Gt=ht.sourceLayerIndex,Vt=this.layers[0]._featureFilter.needGeometry,ln=Di(Tt,Vt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),ln,J)){var cn=Ie?Ie.evaluate(ln,{},J):void 0,Mn={id:Mt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:Gt,index:Bt,geometry:Vt?ln.geometry:os(Tt),patterns:{},sortKey:cn};Me.push(Mn)}}Ie&&Me.sort(function(Ar,Er){return Ar.sortKey-Er.sortKey});for(var Tn=0,Bn=Me;Tn<Bn.length;Tn+=1){var Nn=Bn[Tn],Xn=Nn,$n=Xn.geometry,lr=Xn.index,xr=Xn.sourceLayerIndex,vr=M[lr].feature;this.addFeature(Nn,$n,lr,J),D.featureIndex.insert(vr,$n,lr,xr,this.index)}},la.prototype.update=function(M,D,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,D,this.stateDependentLayers,J)},la.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},la.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},la.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Rn),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},la.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},la.prototype.addFeature=function(M,D,J,ce){for(var Me=0,Ie=D;Me<Ie.length;Me+=1)for(var qe=0,tt=Ie[Me];qe<tt.length;qe+=1){var ht=tt[qe],Tt=ht.x,Mt=ht.y;if(!(Tt<0||Tt>=ai||Mt<0||Mt>=ai)){var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,M.sortKey),Gt=Bt.vertexLength;Ja(this.layoutVertexArray,Tt,Mt,-1,-1),Ja(this.layoutVertexArray,Tt,Mt,1,-1),Ja(this.layoutVertexArray,Tt,Mt,1,1),Ja(this.layoutVertexArray,Tt,Mt,-1,1),this.indexArray.emplaceBack(Gt,Gt+1,Gt+2),this.indexArray.emplaceBack(Gt,Gt+3,Gt+2),Bt.vertexLength+=4,Bt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,J,{},ce)},Lr("CircleBucket",la,{omit:["layers"]});var t3=new qi({"circle-sort-key":new Fr(Ke.layout_circle["circle-sort-key"])}),n3={paint:new qi({"circle-radius":new Fr(Ke.paint_circle["circle-radius"]),"circle-color":new Fr(Ke.paint_circle["circle-color"]),"circle-blur":new Fr(Ke.paint_circle["circle-blur"]),"circle-opacity":new Fr(Ke.paint_circle["circle-opacity"]),"circle-translate":new Pr(Ke.paint_circle["circle-translate"]),"circle-translate-anchor":new Pr(Ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Pr(Ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Pr(Ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Fr(Ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Fr(Ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Fr(Ke.paint_circle["circle-stroke-opacity"])}),layout:t3},Is=typeof Float32Array<"u"?Float32Array:Array;function lg(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function wm(M,D,J){var ce=D[0],Me=D[1],Ie=D[2],qe=D[3],tt=D[4],ht=D[5],Tt=D[6],Mt=D[7],Bt=D[8],Gt=D[9],Vt=D[10],ln=D[11],cn=D[12],Mn=D[13],Tn=D[14],Bn=D[15],Nn=J[0],Xn=J[1],$n=J[2],lr=J[3];return M[0]=Nn*ce+Xn*tt+$n*Bt+lr*cn,M[1]=Nn*Me+Xn*ht+$n*Gt+lr*Mn,M[2]=Nn*Ie+Xn*Tt+$n*Vt+lr*Tn,M[3]=Nn*qe+Xn*Mt+$n*ln+lr*Bn,Nn=J[4],Xn=J[5],$n=J[6],lr=J[7],M[4]=Nn*ce+Xn*tt+$n*Bt+lr*cn,M[5]=Nn*Me+Xn*ht+$n*Gt+lr*Mn,M[6]=Nn*Ie+Xn*Tt+$n*Vt+lr*Tn,M[7]=Nn*qe+Xn*Mt+$n*ln+lr*Bn,Nn=J[8],Xn=J[9],$n=J[10],lr=J[11],M[8]=Nn*ce+Xn*tt+$n*Bt+lr*cn,M[9]=Nn*Me+Xn*ht+$n*Gt+lr*Mn,M[10]=Nn*Ie+Xn*Tt+$n*Vt+lr*Tn,M[11]=Nn*qe+Xn*Mt+$n*ln+lr*Bn,Nn=J[12],Xn=J[13],$n=J[14],lr=J[15],M[12]=Nn*ce+Xn*tt+$n*Bt+lr*cn,M[13]=Nn*Me+Xn*ht+$n*Gt+lr*Mn,M[14]=Nn*Ie+Xn*Tt+$n*Vt+lr*Tn,M[15]=Nn*qe+Xn*Mt+$n*ln+lr*Bn,M}Math.hypot||(Math.hypot=function(){for(var M=arguments,D=0,J=arguments.length;J--;)D+=M[J]*M[J];return Math.sqrt(D)});var r3=wm,od,i3=function(M,D,J){return M[0]=D[0]-J[0],M[1]=D[1]-J[1],M[2]=D[2]-J[2],M};function sd(M,D,J){var ce=D[0],Me=D[1],Ie=D[2],qe=D[3];return M[0]=J[0]*ce+J[4]*Me+J[8]*Ie+J[12]*qe,M[1]=J[1]*ce+J[5]*Me+J[9]*Ie+J[13]*qe,M[2]=J[2]*ce+J[6]*Me+J[10]*Ie+J[14]*qe,M[3]=J[3]*ce+J[7]*Me+J[11]*Ie+J[15]*qe,M}od=new Is(3),Is!=Float32Array&&(od[0]=0,od[1]=0,od[2]=0),function(){var M=new Is(4);Is!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0)}();var a3=function(M){var D=M[0],J=M[1];return D*D+J*J},o3=(function(){var M=new Is(2);Is!=Float32Array&&(M[0]=0,M[1]=0)}(),function(M){function D(J){M.call(this,J,n3)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(J){return new la(J)},D.prototype.queryRadius=function(J){var ce=J;return Ph("circle-radius",this,ce)+Ph("circle-stroke-width",this,ce)+id(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(J,ce,Me,Ie,qe,tt,ht,Tt){for(var Mt=ad(J,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),tt.angle,ht),Bt=this.paint.get("circle-radius").evaluate(ce,Me)+this.paint.get("circle-stroke-width").evaluate(ce,Me),Gt=this.paint.get("circle-pitch-alignment")==="map",Vt=Gt?Mt:function(xr,vr){return xr.map(function(Ar){return Tm(Ar,vr)})}(Mt,Tt),ln=Gt?Bt*ht:Bt,cn=0,Mn=Ie;cn<Mn.length;cn+=1)for(var Tn=0,Bn=Mn[cn];Tn<Bn.length;Tn+=1){var Nn=Bn[Tn],Xn=Gt?Nn:Tm(Nn,Tt),$n=ln,lr=sd([],[Nn.x,Nn.y,0,1],Tt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?$n*=lr[3]/tt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&($n*=tt.cameraToCenterDistance/lr[3]),ag(Vt,Xn,$n))return!0}return!1},D}(ui));function Tm(M,D){var J=sd([],[M.x,M.y,0,1],D);return new n(J[0]/J[3],J[1]/J[3])}var km=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D}(la);function ug(M,D,J,ce){var Me=D.width,Ie=D.height;if(ce){if(ce instanceof Uint8ClampedArray)ce=new Uint8Array(ce.buffer);else if(ce.length!==Me*Ie*J)throw new RangeError("mismatched image size")}else ce=new Uint8Array(Me*Ie*J);return M.width=Me,M.height=Ie,M.data=ce,M}function Am(M,D,J){var ce=D.width,Me=D.height;if(ce!==M.width||Me!==M.height){var Ie=ug({},{width:ce,height:Me},J);cg(M,Ie,{x:0,y:0},{x:0,y:0},{width:Math.min(M.width,ce),height:Math.min(M.height,Me)},J),M.width=ce,M.height=Me,M.data=Ie.data}}function cg(M,D,J,ce,Me,Ie){if(Me.width===0||Me.height===0)return D;if(Me.width>M.width||Me.height>M.height||J.x>M.width-Me.width||J.y>M.height-Me.height)throw new RangeError("out of range source coordinates for image copy");if(Me.width>D.width||Me.height>D.height||ce.x>D.width-Me.width||ce.y>D.height-Me.height)throw new RangeError("out of range destination coordinates for image copy");for(var qe=M.data,tt=D.data,ht=0;ht<Me.height;ht++)for(var Tt=((J.y+ht)*M.width+J.x)*Ie,Mt=((ce.y+ht)*D.width+ce.x)*Ie,Bt=0;Bt<Me.width*Ie;Bt++)tt[Mt+Bt]=qe[Tt+Bt];return D}Lr("HeatmapBucket",km,{omit:["layers"]});var Uc=function(M,D){ug(this,M,1,D)};Uc.prototype.resize=function(M){Am(this,M,1)},Uc.prototype.clone=function(){return new Uc({width:this.width,height:this.height},new Uint8Array(this.data))},Uc.copy=function(M,D,J,ce,Me){cg(M,D,J,ce,Me,1)};var Ho=function(M,D){ug(this,M,4,D)};Ho.prototype.resize=function(M){Am(this,M,4)},Ho.prototype.replace=function(M,D){D?this.data.set(M):M instanceof Uint8ClampedArray?this.data=new Uint8Array(M.buffer):this.data=M},Ho.prototype.clone=function(){return new Ho({width:this.width,height:this.height},new Uint8Array(this.data))},Ho.copy=function(M,D,J,ce,Me){cg(M,D,J,ce,Me,4)},Lr("AlphaImage",Uc),Lr("RGBAImage",Ho);var s3={paint:new qi({"heatmap-radius":new Fr(Ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Fr(Ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Pr(Ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new as(Ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Pr(Ke.paint_heatmap["heatmap-opacity"])})};function Mm(M){var D={},J=M.resolution||256,ce=M.clips?M.clips.length:1,Me=M.image||new Ho({width:J,height:ce}),Ie=function(ln,cn,Mn){D[M.evaluationKey]=Mn;var Tn=M.expression.evaluate(D);Me.data[ln+cn+0]=Math.floor(255*Tn.r/Tn.a),Me.data[ln+cn+1]=Math.floor(255*Tn.g/Tn.a),Me.data[ln+cn+2]=Math.floor(255*Tn.b/Tn.a),Me.data[ln+cn+3]=Math.floor(255*Tn.a)};if(M.clips)for(var qe=0,tt=0;qe<ce;++qe,tt+=4*J)for(var ht=0,Tt=0;ht<J;ht++,Tt+=4){var Mt=ht/(J-1),Bt=M.clips[qe];Ie(tt,Tt,Bt.start*(1-Mt)+Bt.end*Mt)}else for(var Gt=0,Vt=0;Gt<J;Gt++,Vt+=4)Ie(0,Vt,Gt/(J-1));return Me}var l3=function(M){function D(J){M.call(this,J,s3),this._updateColorRamp()}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(J){return new km(J)},D.prototype._handleSpecialPaintPropertyUpdate=function(J){J==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var J=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Mm({expression:J,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(ui),u3={paint:new qi({"hillshade-illumination-direction":new Pr(Ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Pr(Ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Pr(Ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Pr(Ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Pr(Ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Pr(Ke.paint_hillshade["hillshade-accent-color"])})},c3=function(M){function D(J){M.call(this,J,u3)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(ui),f3=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,fg=ld,h3=ld;function ld(M,D,J){J=J||2;var ce,Me,Ie,qe,tt,ht,Tt,Mt=D&&D.length,Bt=Mt?D[0]*J:M.length,Gt=Sm(M,0,Bt,J,!0),Vt=[];if(!Gt||Gt.next===Gt.prev)return Vt;if(Mt&&(Gt=function(cn,Mn,Tn,Bn){var Nn,Xn,$n,lr=[];for(Nn=0,Xn=Mn.length;Nn<Xn;Nn++)($n=Sm(cn,Mn[Nn]*Bn,Nn<Xn-1?Mn[Nn+1]*Bn:cn.length,Bn,!1))===$n.next&&($n.steiner=!0),lr.push(b3($n));for(lr.sort(m3),Nn=0;Nn<lr.length;Nn++)y3(lr[Nn],Tn),Tn=ic(Tn,Tn.next);return Tn}(M,D,Gt,J)),M.length>80*J){ce=Ie=M[0],Me=qe=M[1];for(var ln=J;ln<Bt;ln+=J)(tt=M[ln])<ce&&(ce=tt),(ht=M[ln+1])<Me&&(Me=ht),tt>Ie&&(Ie=tt),ht>qe&&(qe=ht);Tt=(Tt=Math.max(Ie-ce,qe-Me))!==0?1/Tt:0}return Oh(Gt,Vt,J,ce,Me,Tt),Vt}function Sm(M,D,J,ce,Me){var Ie,qe;if(Me===dg(M,D,J,ce)>0)for(Ie=D;Ie<J;Ie+=ce)qe=Cm(Ie,M[Ie],M[Ie+1],qe);else for(Ie=J-ce;Ie>=D;Ie-=ce)qe=Cm(Ie,M[Ie],M[Ie+1],qe);return qe&&ud(qe,qe.next)&&(zh(qe),qe=qe.next),qe}function ic(M,D){if(!M)return M;D||(D=M);var J,ce=M;do if(J=!1,ce.steiner||!ud(ce,ce.next)&&ma(ce.prev,ce,ce.next)!==0)ce=ce.next;else{if(zh(ce),(ce=D=ce.prev)===ce.next)break;J=!0}while(J||ce!==D);return D}function Oh(M,D,J,ce,Me,Ie,qe){if(M){!qe&&Ie&&function(Mt,Bt,Gt,Vt){var ln=Mt;do ln.z===null&&(ln.z=hg(ln.x,ln.y,Bt,Gt,Vt)),ln.prevZ=ln.prev,ln.nextZ=ln.next,ln=ln.next;while(ln!==Mt);ln.prevZ.nextZ=null,ln.prevZ=null,function(cn){var Mn,Tn,Bn,Nn,Xn,$n,lr,xr,vr=1;do{for(Tn=cn,cn=null,Xn=null,$n=0;Tn;){for($n++,Bn=Tn,lr=0,Mn=0;Mn<vr&&(lr++,Bn=Bn.nextZ);Mn++);for(xr=vr;lr>0||xr>0&&Bn;)lr!==0&&(xr===0||!Bn||Tn.z<=Bn.z)?(Nn=Tn,Tn=Tn.nextZ,lr--):(Nn=Bn,Bn=Bn.nextZ,xr--),Xn?Xn.nextZ=Nn:cn=Nn,Nn.prevZ=Xn,Xn=Nn;Tn=Bn}Xn.nextZ=null,vr*=2}while($n>1)}(ln)}(M,ce,Me,Ie);for(var tt,ht,Tt=M;M.prev!==M.next;)if(tt=M.prev,ht=M.next,Ie?d3(M,ce,Me,Ie):p3(M))D.push(tt.i/J),D.push(M.i/J),D.push(ht.i/J),zh(M),M=ht.next,Tt=ht.next;else if((M=ht)===Tt){qe?qe===1?Oh(M=g3(ic(M),D,J),D,J,ce,Me,Ie,2):qe===2&&v3(M,D,J,ce,Me,Ie):Oh(ic(M),D,J,ce,Me,Ie,1);break}}}function p3(M){var D=M.prev,J=M,ce=M.next;if(ma(D,J,ce)>=0)return!1;for(var Me=M.next.next;Me!==M.prev;){if(xf(D.x,D.y,J.x,J.y,ce.x,ce.y,Me.x,Me.y)&&ma(Me.prev,Me,Me.next)>=0)return!1;Me=Me.next}return!0}function d3(M,D,J,ce){var Me=M.prev,Ie=M,qe=M.next;if(ma(Me,Ie,qe)>=0)return!1;for(var tt=Me.x<Ie.x?Me.x<qe.x?Me.x:qe.x:Ie.x<qe.x?Ie.x:qe.x,ht=Me.y<Ie.y?Me.y<qe.y?Me.y:qe.y:Ie.y<qe.y?Ie.y:qe.y,Tt=Me.x>Ie.x?Me.x>qe.x?Me.x:qe.x:Ie.x>qe.x?Ie.x:qe.x,Mt=Me.y>Ie.y?Me.y>qe.y?Me.y:qe.y:Ie.y>qe.y?Ie.y:qe.y,Bt=hg(tt,ht,D,J,ce),Gt=hg(Tt,Mt,D,J,ce),Vt=M.prevZ,ln=M.nextZ;Vt&&Vt.z>=Bt&&ln&&ln.z<=Gt;){if(Vt!==M.prev&&Vt!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,qe.x,qe.y,Vt.x,Vt.y)&&ma(Vt.prev,Vt,Vt.next)>=0||(Vt=Vt.prevZ,ln!==M.prev&&ln!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,qe.x,qe.y,ln.x,ln.y)&&ma(ln.prev,ln,ln.next)>=0))return!1;ln=ln.nextZ}for(;Vt&&Vt.z>=Bt;){if(Vt!==M.prev&&Vt!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,qe.x,qe.y,Vt.x,Vt.y)&&ma(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.prevZ}for(;ln&&ln.z<=Gt;){if(ln!==M.prev&&ln!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,qe.x,qe.y,ln.x,ln.y)&&ma(ln.prev,ln,ln.next)>=0)return!1;ln=ln.nextZ}return!0}function g3(M,D,J){var ce=M;do{var Me=ce.prev,Ie=ce.next.next;!ud(Me,Ie)&&Em(Me,ce,ce.next,Ie)&&Ih(Me,Ie)&&Ih(Ie,Me)&&(D.push(Me.i/J),D.push(ce.i/J),D.push(Ie.i/J),zh(ce),zh(ce.next),ce=M=Ie),ce=ce.next}while(ce!==M);return ic(ce)}function v3(M,D,J,ce,Me,Ie){var qe=M;do{for(var tt=qe.next.next;tt!==qe.prev;){if(qe.i!==tt.i&&_3(qe,tt)){var ht=Lm(qe,tt);return qe=ic(qe,qe.next),ht=ic(ht,ht.next),Oh(qe,D,J,ce,Me,Ie),void Oh(ht,D,J,ce,Me,Ie)}tt=tt.next}qe=qe.next}while(qe!==M)}function m3(M,D){return M.x-D.x}function y3(M,D){if(D=function(ce,Me){var Ie,qe=Me,tt=ce.x,ht=ce.y,Tt=-1/0;do{if(ht<=qe.y&&ht>=qe.next.y&&qe.next.y!==qe.y){var Mt=qe.x+(ht-qe.y)*(qe.next.x-qe.x)/(qe.next.y-qe.y);if(Mt<=tt&&Mt>Tt){if(Tt=Mt,Mt===tt){if(ht===qe.y)return qe;if(ht===qe.next.y)return qe.next}Ie=qe.x<qe.next.x?qe:qe.next}}qe=qe.next}while(qe!==Me);if(!Ie)return null;if(tt===Tt)return Ie;var Bt,Gt=Ie,Vt=Ie.x,ln=Ie.y,cn=1/0;qe=Ie;do tt>=qe.x&&qe.x>=Vt&&tt!==qe.x&&xf(ht<ln?tt:Tt,ht,Vt,ln,ht<ln?Tt:tt,ht,qe.x,qe.y)&&(Bt=Math.abs(ht-qe.y)/(tt-qe.x),Ih(qe,ce)&&(Bt<cn||Bt===cn&&(qe.x>Ie.x||qe.x===Ie.x&&x3(Ie,qe)))&&(Ie=qe,cn=Bt)),qe=qe.next;while(qe!==Gt);return Ie}(M,D)){var J=Lm(D,M);ic(D,D.next),ic(J,J.next)}}function x3(M,D){return ma(M.prev,M,D.prev)<0&&ma(D.next,M,M.next)<0}function hg(M,D,J,ce,Me){return(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-J)*Me)|M<<8))|M<<4))|M<<2))|M<<1))|(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-ce)*Me)|D<<8))|D<<4))|D<<2))|D<<1))<<1}function b3(M){var D=M,J=M;do(D.x<J.x||D.x===J.x&&D.y<J.y)&&(J=D),D=D.next;while(D!==M);return J}function xf(M,D,J,ce,Me,Ie,qe,tt){return(Me-qe)*(D-tt)-(M-qe)*(Ie-tt)>=0&&(M-qe)*(ce-tt)-(J-qe)*(D-tt)>=0&&(J-qe)*(Ie-tt)-(Me-qe)*(ce-tt)>=0}function _3(M,D){return M.next.i!==D.i&&M.prev.i!==D.i&&!function(J,ce){var Me=J;do{if(Me.i!==J.i&&Me.next.i!==J.i&&Me.i!==ce.i&&Me.next.i!==ce.i&&Em(Me,Me.next,J,ce))return!0;Me=Me.next}while(Me!==J);return!1}(M,D)&&(Ih(M,D)&&Ih(D,M)&&function(J,ce){var Me=J,Ie=!1,qe=(J.x+ce.x)/2,tt=(J.y+ce.y)/2;do Me.y>tt!=Me.next.y>tt&&Me.next.y!==Me.y&&qe<(Me.next.x-Me.x)*(tt-Me.y)/(Me.next.y-Me.y)+Me.x&&(Ie=!Ie),Me=Me.next;while(Me!==J);return Ie}(M,D)&&(ma(M.prev,M,D.prev)||ma(M,D.prev,D))||ud(M,D)&&ma(M.prev,M,M.next)>0&&ma(D.prev,D,D.next)>0)}function ma(M,D,J){return(D.y-M.y)*(J.x-D.x)-(D.x-M.x)*(J.y-D.y)}function ud(M,D){return M.x===D.x&&M.y===D.y}function Em(M,D,J,ce){var Me=fd(ma(M,D,J)),Ie=fd(ma(M,D,ce)),qe=fd(ma(J,ce,M)),tt=fd(ma(J,ce,D));return Me!==Ie&&qe!==tt||!(Me!==0||!cd(M,J,D))||!(Ie!==0||!cd(M,ce,D))||!(qe!==0||!cd(J,M,ce))||!(tt!==0||!cd(J,D,ce))}function cd(M,D,J){return D.x<=Math.max(M.x,J.x)&&D.x>=Math.min(M.x,J.x)&&D.y<=Math.max(M.y,J.y)&&D.y>=Math.min(M.y,J.y)}function fd(M){return M>0?1:M<0?-1:0}function Ih(M,D){return ma(M.prev,M,M.next)<0?ma(M,D,M.next)>=0&&ma(M,M.prev,D)>=0:ma(M,D,M.prev)<0||ma(M,M.next,D)<0}function Lm(M,D){var J=new pg(M.i,M.x,M.y),ce=new pg(D.i,D.x,D.y),Me=M.next,Ie=D.prev;return M.next=D,D.prev=M,J.next=Me,Me.prev=J,ce.next=J,J.prev=ce,Ie.next=ce,ce.prev=Ie,ce}function Cm(M,D,J,ce){var Me=new pg(M,D,J);return ce?(Me.next=ce.next,Me.prev=ce,ce.next.prev=Me,ce.next=Me):(Me.prev=Me,Me.next=Me),Me}function zh(M){M.next.prev=M.prev,M.prev.next=M.next,M.prevZ&&(M.prevZ.nextZ=M.nextZ),M.nextZ&&(M.nextZ.prevZ=M.prevZ)}function pg(M,D,J){this.i=M,this.x=D,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function dg(M,D,J,ce){for(var Me=0,Ie=D,qe=J-ce;Ie<J;Ie+=ce)Me+=(M[qe]-M[Ie])*(M[Ie+1]+M[qe+1]),qe=Ie;return Me}function w3(M,D,J,ce,Me){Pm(M,D,J,ce||M.length-1,Me||T3)}function Pm(M,D,J,ce,Me){for(;ce>J;){if(ce-J>600){var Ie=ce-J+1,qe=D-J+1,tt=Math.log(Ie),ht=.5*Math.exp(2*tt/3),Tt=.5*Math.sqrt(tt*ht*(Ie-ht)/Ie)*(qe-Ie/2<0?-1:1);Pm(M,D,Math.max(J,Math.floor(D-qe*ht/Ie+Tt)),Math.min(ce,Math.floor(D+(Ie-qe)*ht/Ie+Tt)),Me)}var Mt=M[D],Bt=J,Gt=ce;for(Dh(M,J,D),Me(M[ce],Mt)>0&&Dh(M,J,ce);Bt<Gt;){for(Dh(M,Bt,Gt),Bt++,Gt--;Me(M[Bt],Mt)<0;)Bt++;for(;Me(M[Gt],Mt)>0;)Gt--}Me(M[J],Mt)===0?Dh(M,J,Gt):Dh(M,++Gt,ce),Gt<=D&&(J=Gt+1),D<=Gt&&(ce=Gt-1)}}function Dh(M,D,J){var ce=M[D];M[D]=M[J],M[J]=ce}function T3(M,D){return M<D?-1:M>D?1:0}function gg(M,D){var J=M.length;if(J<=1)return[M];for(var ce,Me,Ie=[],qe=0;qe<J;qe++){var tt=P(M[qe]);tt!==0&&(M[qe].area=Math.abs(tt),Me===void 0&&(Me=tt<0),Me===tt<0?(ce&&Ie.push(ce),ce=[M[qe]]):ce.push(M[qe]))}if(ce&&Ie.push(ce),D>1)for(var ht=0;ht<Ie.length;ht++)Ie[ht].length<=D||(w3(Ie[ht],D,1,Ie[ht].length-1,k3),Ie[ht]=Ie[ht].slice(0,D));return Ie}function k3(M,D){return D.area-M.area}function vg(M,D,J){for(var ce=J.patternDependencies,Me=!1,Ie=0,qe=D;Ie<qe.length;Ie+=1){var tt=qe[Ie].paint.get(M+"-pattern");tt.isConstant()||(Me=!0);var ht=tt.constantOr(null);ht&&(Me=!0,ce[ht.to]=!0,ce[ht.from]=!0)}return Me}function mg(M,D,J,ce,Me){for(var Ie=Me.patternDependencies,qe=0,tt=D;qe<tt.length;qe+=1){var ht=tt[qe],Tt=ht.paint.get(M+"-pattern").value;if(Tt.kind!=="constant"){var Mt=Tt.evaluate({zoom:ce-1},J,{},Me.availableImages),Bt=Tt.evaluate({zoom:ce},J,{},Me.availableImages),Gt=Tt.evaluate({zoom:ce+1},J,{},Me.availableImages);Mt=Mt&&Mt.name?Mt.name:Mt,Bt=Bt&&Bt.name?Bt.name:Bt,Gt=Gt&&Gt.name?Gt.name:Gt,Ie[Mt]=!0,Ie[Bt]=!0,Ie[Gt]=!0,J.patterns[ht.id]={min:Mt,mid:Bt,max:Gt}}}return J}ld.deviation=function(M,D,J,ce){var Me=D&&D.length,Ie=Me?D[0]*J:M.length,qe=Math.abs(dg(M,0,Ie,J));if(Me)for(var tt=0,ht=D.length;tt<ht;tt++){var Tt=D[tt]*J,Mt=tt<ht-1?D[tt+1]*J:M.length;qe-=Math.abs(dg(M,Tt,Mt,J))}var Bt=0;for(tt=0;tt<ce.length;tt+=3){var Gt=ce[tt]*J,Vt=ce[tt+1]*J,ln=ce[tt+2]*J;Bt+=Math.abs((M[Gt]-M[ln])*(M[Vt+1]-M[Gt+1])-(M[Gt]-M[Vt])*(M[ln+1]-M[Gt+1]))}return qe===0&&Bt===0?0:Math.abs((Bt-qe)/qe)},ld.flatten=function(M){for(var D=M[0][0].length,J={vertices:[],holes:[],dimensions:D},ce=0,Me=0;Me<M.length;Me++){for(var Ie=0;Ie<M[Me].length;Ie++)for(var qe=0;qe<D;qe++)J.vertices.push(M[Me][Ie][qe]);Me>0&&(ce+=M[Me-1].length,J.holes.push(ce))}return J},fg.default=h3;var Wl=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Os,this.indexArray=new we,this.indexArray2=new pt,this.programConfigurations=new Xi(M.layers,M.zoom),this.segments=new Gn,this.segments2=new Gn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};Wl.prototype.populate=function(M,D,J){this.hasPattern=vg("fill",this.layers,D);for(var ce=this.layers[0].layout.get("fill-sort-key"),Me=[],Ie=0,qe=M;Ie<qe.length;Ie+=1){var tt=qe[Ie],ht=tt.feature,Tt=tt.id,Mt=tt.index,Bt=tt.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Vt=Di(ht,Gt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Vt,J)){var ln=ce?ce.evaluate(Vt,{},J,D.availableImages):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Mt,geometry:Gt?Vt.geometry:os(ht),patterns:{},sortKey:ln};Me.push(cn)}}ce&&Me.sort(function(Ar,Er){return Ar.sortKey-Er.sortKey});for(var Mn=0,Tn=Me;Mn<Tn.length;Mn+=1){var Bn=Tn[Mn],Nn=Bn,Xn=Nn.geometry,$n=Nn.index,lr=Nn.sourceLayerIndex;if(this.hasPattern){var xr=mg("fill",this.layers,Bn,this.zoom,D);this.patternFeatures.push(xr)}else this.addFeature(Bn,Xn,$n,J,{});var vr=M[$n].feature;D.featureIndex.insert(vr,Xn,$n,lr,this.index)}},Wl.prototype.update=function(M,D,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,D,this.stateDependentLayers,J)},Wl.prototype.addFeatures=function(M,D,J){for(var ce=0,Me=this.patternFeatures;ce<Me.length;ce+=1){var Ie=Me[ce];this.addFeature(Ie,Ie.geometry,Ie.index,D,J)}},Wl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Wl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wl.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,f3),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.indexBuffer2=M.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(M),this.uploaded=!0},Wl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Wl.prototype.addFeature=function(M,D,J,ce,Me){for(var Ie=0,qe=gg(D,500);Ie<qe.length;Ie+=1){for(var tt=qe[Ie],ht=0,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1)ht+=Mt[Tt].length;for(var Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray),Gt=Bt.vertexLength,Vt=[],ln=[],cn=0,Mn=tt;cn<Mn.length;cn+=1){var Tn=Mn[cn];if(Tn.length!==0){Tn!==tt[0]&&ln.push(Vt.length/2);var Bn=this.segments2.prepareSegment(Tn.length,this.layoutVertexArray,this.indexArray2),Nn=Bn.vertexLength;this.layoutVertexArray.emplaceBack(Tn[0].x,Tn[0].y),this.indexArray2.emplaceBack(Nn+Tn.length-1,Nn),Vt.push(Tn[0].x),Vt.push(Tn[0].y);for(var Xn=1;Xn<Tn.length;Xn++)this.layoutVertexArray.emplaceBack(Tn[Xn].x,Tn[Xn].y),this.indexArray2.emplaceBack(Nn+Xn-1,Nn+Xn),Vt.push(Tn[Xn].x),Vt.push(Tn[Xn].y);Bn.vertexLength+=Tn.length,Bn.primitiveLength+=Tn.length}}for(var $n=fg(Vt,ln),lr=0;lr<$n.length;lr+=3)this.indexArray.emplaceBack(Gt+$n[lr],Gt+$n[lr+1],Gt+$n[lr+2]);Bt.vertexLength+=ht,Bt.primitiveLength+=$n.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,J,Me,ce)},Lr("FillBucket",Wl,{omit:["layers","patternFeatures"]});var A3=new qi({"fill-sort-key":new Fr(Ke.layout_fill["fill-sort-key"])}),M3={paint:new qi({"fill-antialias":new Pr(Ke.paint_fill["fill-antialias"]),"fill-opacity":new Fr(Ke.paint_fill["fill-opacity"]),"fill-color":new Fr(Ke.paint_fill["fill-color"]),"fill-outline-color":new Fr(Ke.paint_fill["fill-outline-color"]),"fill-translate":new Pr(Ke.paint_fill["fill-translate"]),"fill-translate-anchor":new Pr(Ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xa(Ke.paint_fill["fill-pattern"])}),layout:A3},S3=function(M){function D(J){M.call(this,J,M3)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(J,ce){M.prototype.recalculate.call(this,J,ce);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(J){return new Wl(J)},D.prototype.queryRadius=function(){return id(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(J,ce,Me,Ie,qe,tt,ht){return td(ad(J,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),tt.angle,ht),Ie)},D.prototype.isTileClipped=function(){return!0},D}(ui),E3=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Om=bf;function bf(M,D,J,ce,Me){this.properties={},this.extent=J,this.type=0,this._pbf=M,this._geometry=-1,this._keys=ce,this._values=Me,M.readFields(L3,this,D)}function L3(M,D,J){M==1?D.id=J.readVarint():M==2?function(ce,Me){for(var Ie=ce.readVarint()+ce.pos;ce.pos<Ie;){var qe=Me._keys[ce.readVarint()],tt=Me._values[ce.readVarint()];Me.properties[qe]=tt}}(J,D):M==3?D.type=J.readVarint():M==4&&(D._geometry=J.pos)}function C3(M){for(var D,J,ce=0,Me=0,Ie=M.length,qe=Ie-1;Me<Ie;qe=Me++)D=M[Me],ce+=((J=M[qe]).x-D.x)*(D.y+J.y);return ce}bf.types=["Unknown","Point","LineString","Polygon"],bf.prototype.loadGeometry=function(){var M=this._pbf;M.pos=this._geometry;for(var D,J=M.readVarint()+M.pos,ce=1,Me=0,Ie=0,qe=0,tt=[];M.pos<J;){if(Me<=0){var ht=M.readVarint();ce=7&ht,Me=ht>>3}if(Me--,ce===1||ce===2)Ie+=M.readSVarint(),qe+=M.readSVarint(),ce===1&&(D&&tt.push(D),D=[]),D.push(new n(Ie,qe));else{if(ce!==7)throw new Error("unknown command "+ce);D&&D.push(D[0].clone())}}return D&&tt.push(D),tt},bf.prototype.bbox=function(){var M=this._pbf;M.pos=this._geometry;for(var D=M.readVarint()+M.pos,J=1,ce=0,Me=0,Ie=0,qe=1/0,tt=-1/0,ht=1/0,Tt=-1/0;M.pos<D;){if(ce<=0){var Mt=M.readVarint();J=7&Mt,ce=Mt>>3}if(ce--,J===1||J===2)(Me+=M.readSVarint())<qe&&(qe=Me),Me>tt&&(tt=Me),(Ie+=M.readSVarint())<ht&&(ht=Ie),Ie>Tt&&(Tt=Ie);else if(J!==7)throw new Error("unknown command "+J)}return[qe,ht,tt,Tt]},bf.prototype.toGeoJSON=function(M,D,J){var ce,Me,Ie=this.extent*Math.pow(2,J),qe=this.extent*M,tt=this.extent*D,ht=this.loadGeometry(),Tt=bf.types[this.type];function Mt(Vt){for(var ln=0;ln<Vt.length;ln++){var cn=Vt[ln],Mn=180-360*(cn.y+tt)/Ie;Vt[ln]=[360*(cn.x+qe)/Ie-180,360/Math.PI*Math.atan(Math.exp(Mn*Math.PI/180))-90]}}switch(this.type){case 1:var Bt=[];for(ce=0;ce<ht.length;ce++)Bt[ce]=ht[ce][0];Mt(ht=Bt);break;case 2:for(ce=0;ce<ht.length;ce++)Mt(ht[ce]);break;case 3:for(ht=function(Vt){var ln=Vt.length;if(ln<=1)return[Vt];for(var cn,Mn,Tn=[],Bn=0;Bn<ln;Bn++){var Nn=C3(Vt[Bn]);Nn!==0&&(Mn===void 0&&(Mn=Nn<0),Mn===Nn<0?(cn&&Tn.push(cn),cn=[Vt[Bn]]):cn.push(Vt[Bn]))}return cn&&Tn.push(cn),Tn}(ht),ce=0;ce<ht.length;ce++)for(Me=0;Me<ht[ce].length;Me++)Mt(ht[ce][Me])}ht.length===1?ht=ht[0]:Tt="Multi"+Tt;var Gt={type:"Feature",geometry:{type:Tt,coordinates:ht},properties:this.properties};return"id"in this&&(Gt.id=this.id),Gt};var Im=zm;function zm(M,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=M,this._keys=[],this._values=[],this._features=[],M.readFields(P3,this,D),this.length=this._features.length}function P3(M,D,J){M===15?D.version=J.readVarint():M===1?D.name=J.readString():M===5?D.extent=J.readVarint():M===2?D._features.push(J.pos):M===3?D._keys.push(J.readString()):M===4&&D._values.push(function(ce){for(var Me=null,Ie=ce.readVarint()+ce.pos;ce.pos<Ie;){var qe=ce.readVarint()>>3;Me=qe===1?ce.readString():qe===2?ce.readFloat():qe===3?ce.readDouble():qe===4?ce.readVarint64():qe===5?ce.readVarint():qe===6?ce.readSVarint():qe===7?ce.readBoolean():null}return Me}(J))}function O3(M,D,J){if(M===3){var ce=new Im(J,J.readVarint()+J.pos);ce.length&&(D[ce.name]=ce)}}zm.prototype.feature=function(M){if(M<0||M>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[M];var D=this._pbf.readVarint()+this._pbf.pos;return new Om(this._pbf,D,this.extent,this._keys,this._values)};var _f={VectorTile:function(M,D){this.layers=M.readFields(O3,{},D)},VectorTileFeature:Om,VectorTileLayer:Im},I3=_f.VectorTileFeature.types,yg=Math.pow(2,13);function Rh(M,D,J,ce,Me,Ie,qe,tt){M.emplaceBack(D,J,2*Math.floor(ce*yg)+qe,Me*yg*2,Ie*yg*2,Math.round(tt))}var Yl=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new et,this.indexArray=new we,this.programConfigurations=new Xi(M.layers,M.zoom),this.segments=new Gn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function z3(M,D){return M.x===D.x&&(M.x<0||M.x>ai)||M.y===D.y&&(M.y<0||M.y>ai)}Yl.prototype.populate=function(M,D,J){this.features=[],this.hasPattern=vg("fill-extrusion",this.layers,D);for(var ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce],qe=Ie.feature,tt=Ie.id,ht=Ie.index,Tt=Ie.sourceLayerIndex,Mt=this.layers[0]._featureFilter.needGeometry,Bt=Di(qe,Mt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Bt,J)){var Gt={id:tt,sourceLayerIndex:Tt,index:ht,geometry:Mt?Bt.geometry:os(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(mg("fill-extrusion",this.layers,Gt,this.zoom,D)):this.addFeature(Gt,Gt.geometry,ht,J,{}),D.featureIndex.insert(qe,Gt.geometry,ht,Tt,this.index,!0)}}},Yl.prototype.addFeatures=function(M,D,J){for(var ce=0,Me=this.features;ce<Me.length;ce+=1){var Ie=Me[ce],qe=Ie.geometry;this.addFeature(Ie,qe,Ie.index,D,J)}},Yl.prototype.update=function(M,D,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,D,this.stateDependentLayers,J)},Yl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Yl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Yl.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,E3),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Yl.prototype.addFeature=function(M,D,J,ce,Me){for(var Ie=0,qe=gg(D,500);Ie<qe.length;Ie+=1){for(var tt=qe[Ie],ht=0,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1)ht+=Mt[Tt].length;for(var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Gt=0,Vt=tt;Gt<Vt.length;Gt+=1){var ln=Vt[Gt];if(ln.length!==0&&!((ri=ln).every(function(Yr){return Yr.x<0})||ri.every(function(Yr){return Yr.x>ai})||ri.every(function(Yr){return Yr.y<0})||ri.every(function(Yr){return Yr.y>ai})))for(var cn=0,Mn=0;Mn<ln.length;Mn++){var Tn=ln[Mn];if(Mn>=1){var Bn=ln[Mn-1];if(!z3(Tn,Bn)){Bt.vertexLength+4>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Nn=Tn.sub(Bn)._perp()._unit(),Xn=Bn.dist(Tn);cn+Xn>32768&&(cn=0),Rh(this.layoutVertexArray,Tn.x,Tn.y,Nn.x,Nn.y,0,0,cn),Rh(this.layoutVertexArray,Tn.x,Tn.y,Nn.x,Nn.y,0,1,cn),cn+=Xn,Rh(this.layoutVertexArray,Bn.x,Bn.y,Nn.x,Nn.y,0,0,cn),Rh(this.layoutVertexArray,Bn.x,Bn.y,Nn.x,Nn.y,0,1,cn);var $n=Bt.vertexLength;this.indexArray.emplaceBack($n,$n+2,$n+1),this.indexArray.emplaceBack($n+1,$n+2,$n+3),Bt.vertexLength+=4,Bt.primitiveLength+=2}}}}if(Bt.vertexLength+ht>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray)),I3[M.type]==="Polygon"){for(var lr=[],xr=[],vr=Bt.vertexLength,Ar=0,Er=tt;Ar<Er.length;Ar+=1){var qr=Er[Ar];if(qr.length!==0){qr!==tt[0]&&xr.push(lr.length/2);for(var zr=0;zr<qr.length;zr++){var Hr=qr[zr];Rh(this.layoutVertexArray,Hr.x,Hr.y,0,0,1,1,0),lr.push(Hr.x),lr.push(Hr.y)}}}for(var Rr=fg(lr,xr),Ir=0;Ir<Rr.length;Ir+=3)this.indexArray.emplaceBack(vr+Rr[Ir],vr+Rr[Ir+2],vr+Rr[Ir+1]);Bt.primitiveLength+=Rr.length/3,Bt.vertexLength+=ht}}var ri;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,J,Me,ce)},Lr("FillExtrusionBucket",Yl,{omit:["layers","features"]});var D3={paint:new qi({"fill-extrusion-opacity":new Pr(Ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Fr(Ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Pr(Ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Pr(Ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xa(Ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Fr(Ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Fr(Ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Pr(Ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},R3=function(M){function D(J){M.call(this,J,D3)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(J){return new Yl(J)},D.prototype.queryRadius=function(){return id(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(J,ce,Me,Ie,qe,tt,ht,Tt){var Mt=ad(J,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),tt.angle,ht),Bt=this.paint.get("fill-extrusion-height").evaluate(ce,Me),Gt=this.paint.get("fill-extrusion-base").evaluate(ce,Me),Vt=function(cn,Mn,Tn,Bn){for(var Nn=[],Xn=0,$n=cn;Xn<$n.length;Xn+=1){var lr=$n[Xn],xr=[lr.x,lr.y,Bn,1];sd(xr,xr,Mn),Nn.push(new n(xr[0]/xr[3],xr[1]/xr[3]))}return Nn}(Mt,Tt,0,0),ln=function(cn,Mn,Tn,Bn){for(var Nn=[],Xn=[],$n=Bn[8]*Mn,lr=Bn[9]*Mn,xr=Bn[10]*Mn,vr=Bn[11]*Mn,Ar=Bn[8]*Tn,Er=Bn[9]*Tn,qr=Bn[10]*Tn,zr=Bn[11]*Tn,Hr=0,Rr=cn;Hr<Rr.length;Hr+=1){for(var Ir=[],ri=[],Yr=0,Pi=Rr[Hr];Yr<Pi.length;Yr+=1){var Vr=Pi[Yr],ki=Vr.x,Fi=Vr.y,Ui=Bn[0]*ki+Bn[4]*Fi+Bn[12],Vi=Bn[1]*ki+Bn[5]*Fi+Bn[13],Oi=Bn[2]*ki+Bn[6]*Fi+Bn[14],ba=Bn[3]*ki+Bn[7]*Fi+Bn[15],Zi=Oi+xr,Fa=ba+vr,$a=Ui+Ar,Ha=Vi+Er,ko=Oi+qr,qa=ba+zr,Sa=new n((Ui+$n)/Fa,(Vi+lr)/Fa);Sa.z=Zi/Fa,Ir.push(Sa);var Ga=new n($a/qa,Ha/qa);Ga.z=ko/qa,ri.push(Ga)}Nn.push(Ir),Xn.push(ri)}return[Nn,Xn]}(Ie,Gt,Bt,Tt);return function(cn,Mn,Tn){var Bn=1/0;td(Tn,Mn)&&(Bn=Dm(Tn,Mn[0]));for(var Nn=0;Nn<Mn.length;Nn++)for(var Xn=Mn[Nn],$n=cn[Nn],lr=0;lr<Xn.length-1;lr++){var xr=Xn[lr],vr=Xn[lr+1],Ar=$n[lr],Er=[xr,vr,$n[lr+1],Ar,xr];jc(Tn,Er)&&(Bn=Math.min(Bn,Dm(Tn,Er)))}return Bn!==1/0&&Bn}(ln[0],ln[1],Vt)},D}(ui);function Fh(M,D){return M.x*D.x+M.y*D.y}function Dm(M,D){if(M.length===1){for(var J,ce=0,Me=D[ce++];!J||Me.equals(J);)if(!(J=D[ce++]))return 1/0;for(;ce<D.length;ce++){var Ie=D[ce],qe=M[0],tt=J.sub(Me),ht=Ie.sub(Me),Tt=qe.sub(Me),Mt=Fh(tt,tt),Bt=Fh(tt,ht),Gt=Fh(ht,ht),Vt=Fh(Tt,tt),ln=Fh(Tt,ht),cn=Mt*Gt-Bt*Bt,Mn=(Gt*Vt-Bt*ln)/cn,Tn=(Mt*ln-Bt*Vt)/cn,Bn=1-Mn-Tn,Nn=Me.z*Bn+J.z*Mn+Ie.z*Tn;if(isFinite(Nn))return Nn}return 1/0}for(var Xn=1/0,$n=0,lr=D;$n<lr.length;$n+=1){var xr=lr[$n];Xn=Math.min(Xn,xr.z)}return Xn}var F3=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,B3=Si([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,N3=_f.VectorTileFeature.types,j3=Math.cos(Math.PI/180*37.5),Rm=Math.pow(2,14)/.5,To=function(M){var D=this;this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(J){return J.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(J){D.gradients[J.id]={}}),this.layoutVertexArray=new rt,this.layoutVertexArray2=new ct,this.indexArray=new we,this.programConfigurations=new Xi(M.layers,M.zoom),this.segments=new Gn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(J){return J.isStateDependent()}).map(function(J){return J.id})};To.prototype.populate=function(M,D,J){this.hasPattern=vg("line",this.layers,D);for(var ce=this.layers[0].layout.get("line-sort-key"),Me=[],Ie=0,qe=M;Ie<qe.length;Ie+=1){var tt=qe[Ie],ht=tt.feature,Tt=tt.id,Mt=tt.index,Bt=tt.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Vt=Di(ht,Gt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Vt,J)){var ln=ce?ce.evaluate(Vt,{},J):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Mt,geometry:Gt?Vt.geometry:os(ht),patterns:{},sortKey:ln};Me.push(cn)}}ce&&Me.sort(function(Ar,Er){return Ar.sortKey-Er.sortKey});for(var Mn=0,Tn=Me;Mn<Tn.length;Mn+=1){var Bn=Tn[Mn],Nn=Bn,Xn=Nn.geometry,$n=Nn.index,lr=Nn.sourceLayerIndex;if(this.hasPattern){var xr=mg("line",this.layers,Bn,this.zoom,D);this.patternFeatures.push(xr)}else this.addFeature(Bn,Xn,$n,J,{});var vr=M[$n].feature;D.featureIndex.insert(vr,Xn,$n,lr,this.index)}},To.prototype.update=function(M,D,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,D,this.stateDependentLayers,J)},To.prototype.addFeatures=function(M,D,J){for(var ce=0,Me=this.patternFeatures;ce<Me.length;ce+=1){var Ie=Me[ce];this.addFeature(Ie,Ie.geometry,Ie.index,D,J)}},To.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},To.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},To.prototype.upload=function(M){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=M.createVertexBuffer(this.layoutVertexArray2,B3)),this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,F3),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},To.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},To.prototype.lineFeatureClips=function(M){if(M.properties&&M.properties.hasOwnProperty("mapbox_clip_start")&&M.properties.hasOwnProperty("mapbox_clip_end"))return{start:+M.properties.mapbox_clip_start,end:+M.properties.mapbox_clip_end}},To.prototype.addFeature=function(M,D,J,ce,Me){var Ie=this.layers[0].layout,qe=Ie.get("line-join").evaluate(M,{}),tt=Ie.get("line-cap"),ht=Ie.get("line-miter-limit"),Tt=Ie.get("line-round-limit");this.lineClips=this.lineFeatureClips(M);for(var Mt=0,Bt=D;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];this.addLine(Gt,M,qe,tt,ht,Tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,J,Me,ce)},To.prototype.addLine=function(M,D,J,ce,Me,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<M.length-1;qe++)this.totalDistance+=M[qe].dist(M[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var tt=N3[D.type]==="Polygon",ht=M.length;ht>=2&&M[ht-1].equals(M[ht-2]);)ht--;for(var Tt=0;Tt<ht-1&&M[Tt].equals(M[Tt+1]);)Tt++;if(!(ht<(tt?3:2))){J==="bevel"&&(Me=1.05);var Mt,Bt=this.overscaling<=16?15*ai/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*ht,this.layoutVertexArray,this.indexArray),Vt=void 0,ln=void 0,cn=void 0,Mn=void 0;this.e1=this.e2=-1,tt&&(Mt=M[ht-2],Mn=M[Tt].sub(Mt)._unit()._perp());for(var Tn=Tt;Tn<ht;Tn++)if(!(ln=Tn===ht-1?tt?M[Tt+1]:void 0:M[Tn+1])||!M[Tn].equals(ln)){Mn&&(cn=Mn),Mt&&(Vt=Mt),Mt=M[Tn],Mn=ln?ln.sub(Mt)._unit()._perp():cn;var Bn=(cn=cn||Mn).add(Mn);Bn.x===0&&Bn.y===0||Bn._unit();var Nn=cn.x*Mn.x+cn.y*Mn.y,Xn=Bn.x*Mn.x+Bn.y*Mn.y,$n=Xn!==0?1/Xn:1/0,lr=2*Math.sqrt(2-2*Xn),xr=Xn<j3&&Vt&&ln,vr=cn.x*Mn.y-cn.y*Mn.x>0;if(xr&&Tn>Tt){var Ar=Mt.dist(Vt);if(Ar>2*Bt){var Er=Mt.sub(Mt.sub(Vt)._mult(Bt/Ar)._round());this.updateDistance(Vt,Er),this.addCurrentVertex(Er,cn,0,0,Gt),Vt=Er}}var qr=Vt&&ln,zr=qr?J:tt?"butt":ce;if(qr&&zr==="round"&&($n<Ie?zr="miter":$n<=2&&(zr="fakeround")),zr==="miter"&&$n>Me&&(zr="bevel"),zr==="bevel"&&($n>2&&(zr="flipbevel"),$n<Me&&(zr="miter")),Vt&&this.updateDistance(Vt,Mt),zr==="miter")Bn._mult($n),this.addCurrentVertex(Mt,Bn,0,0,Gt);else if(zr==="flipbevel"){if($n>100)Bn=Mn.mult(-1);else{var Hr=$n*cn.add(Mn).mag()/cn.sub(Mn).mag();Bn._perp()._mult(Hr*(vr?-1:1))}this.addCurrentVertex(Mt,Bn,0,0,Gt),this.addCurrentVertex(Mt,Bn.mult(-1),0,0,Gt)}else if(zr==="bevel"||zr==="fakeround"){var Rr=-Math.sqrt($n*$n-1),Ir=vr?Rr:0,ri=vr?0:Rr;if(Vt&&this.addCurrentVertex(Mt,cn,Ir,ri,Gt),zr==="fakeround")for(var Yr=Math.round(180*lr/Math.PI/20),Pi=1;Pi<Yr;Pi++){var Vr=Pi/Yr;if(Vr!==.5){var ki=Vr-.5;Vr+=Vr*ki*(Vr-1)*((1.0904+Nn*(Nn*(3.55645-1.43519*Nn)-3.2452))*ki*ki+(.848013+Nn*(.215638*Nn-1.06021)))}var Fi=Mn.sub(cn)._mult(Vr)._add(cn)._unit()._mult(vr?-1:1);this.addHalfVertex(Mt,Fi.x,Fi.y,!1,vr,0,Gt)}ln&&this.addCurrentVertex(Mt,Mn,-Ir,-ri,Gt)}else if(zr==="butt")this.addCurrentVertex(Mt,Bn,0,0,Gt);else if(zr==="square"){var Ui=Vt?1:-1;this.addCurrentVertex(Mt,Bn,Ui,Ui,Gt)}else zr==="round"&&(Vt&&(this.addCurrentVertex(Mt,cn,0,0,Gt),this.addCurrentVertex(Mt,cn,1,1,Gt,!0)),ln&&(this.addCurrentVertex(Mt,Mn,-1,-1,Gt,!0),this.addCurrentVertex(Mt,Mn,0,0,Gt)));if(xr&&Tn<ht-1){var Vi=Mt.dist(ln);if(Vi>2*Bt){var Oi=Mt.add(ln.sub(Mt)._mult(Bt/Vi)._round());this.updateDistance(Mt,Oi),this.addCurrentVertex(Oi,Mn,0,0,Gt),Mt=Oi}}}}},To.prototype.addCurrentVertex=function(M,D,J,ce,Me,Ie){Ie===void 0&&(Ie=!1);var qe=D.x+D.y*J,tt=D.y-D.x*J,ht=-D.x+D.y*ce,Tt=-D.y-D.x*ce;this.addHalfVertex(M,qe,tt,Ie,!1,J,Me),this.addHalfVertex(M,ht,Tt,Ie,!0,-ce,Me),this.distance>Rm/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(M,D,J,ce,Me,Ie))},To.prototype.addHalfVertex=function(M,D,J,ce,Me,Ie,qe){var tt=M.x,ht=M.y,Tt=.5*(this.lineClips?this.scaledDistance*(Rm-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((tt<<1)+(ce?1:0),(ht<<1)+(Me?1:0),Math.round(63*D)+128,Math.round(63*J)+128,1+(Ie===0?0:Ie<0?-1:1)|(63&Tt)<<2,Tt>>6),this.lineClips){var Mt=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(Mt,this.lineClipsArray.length)}var Bt=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Bt),qe.primitiveLength++),Me?this.e2=Bt:this.e1=Bt},To.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},To.prototype.updateDistance=function(M,D){this.distance+=M.dist(D),this.updateScaledDistance()},Lr("LineBucket",To,{omit:["layers","patternFeatures"]});var U3=new qi({"line-cap":new Pr(Ke.layout_line["line-cap"]),"line-join":new Fr(Ke.layout_line["line-join"]),"line-miter-limit":new Pr(Ke.layout_line["line-miter-limit"]),"line-round-limit":new Pr(Ke.layout_line["line-round-limit"]),"line-sort-key":new Fr(Ke.layout_line["line-sort-key"])}),Fm={paint:new qi({"line-opacity":new Fr(Ke.paint_line["line-opacity"]),"line-color":new Fr(Ke.paint_line["line-color"]),"line-translate":new Pr(Ke.paint_line["line-translate"]),"line-translate-anchor":new Pr(Ke.paint_line["line-translate-anchor"]),"line-width":new Fr(Ke.paint_line["line-width"]),"line-gap-width":new Fr(Ke.paint_line["line-gap-width"]),"line-offset":new Fr(Ke.paint_line["line-offset"]),"line-blur":new Fr(Ke.paint_line["line-blur"]),"line-dasharray":new Uo(Ke.paint_line["line-dasharray"]),"line-pattern":new Xa(Ke.paint_line["line-pattern"]),"line-gradient":new as(Ke.paint_line["line-gradient"])}),layout:U3},V3=function(M){function D(){M.apply(this,arguments)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(J,ce){return ce=new $r(Math.floor(ce.zoom),{now:ce.now,fadeDuration:ce.fadeDuration,zoomHistory:ce.zoomHistory,transition:ce.transition}),M.prototype.possiblyEvaluate.call(this,J,ce)},D.prototype.evaluate=function(J,ce,Me,Ie){return ce=c({},ce,{zoom:Math.floor(ce.zoom)}),M.prototype.evaluate.call(this,J,ce,Me,Ie)},D}(Fr),Bm=new V3(Fm.paint.properties["line-width"].specification);Bm.useIntegerZoom=!0;var H3=function(M){function D(J){M.call(this,J,Fm),this.gradientVersion=0}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(J){if(J==="line-gradient"){var ce=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ce._styleExpression.expression instanceof Mr,this.gradientVersion=(this.gradientVersion+1)%t}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(J,ce){M.prototype.recalculate.call(this,J,ce),this.paint._values["line-floorwidth"]=Bm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,J)},D.prototype.createBucket=function(J){return new To(J)},D.prototype.queryRadius=function(J){var ce=J,Me=Nm(Ph("line-width",this,ce),Ph("line-gap-width",this,ce)),Ie=Ph("line-offset",this,ce);return Me/2+Math.abs(Ie)+id(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(J,ce,Me,Ie,qe,tt,ht){var Tt=ad(J,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),tt.angle,ht),Mt=ht/2*Nm(this.paint.get("line-width").evaluate(ce,Me),this.paint.get("line-gap-width").evaluate(ce,Me)),Bt=this.paint.get("line-offset").evaluate(ce,Me);return Bt&&(Ie=function(Gt,Vt){for(var ln=[],cn=new n(0,0),Mn=0;Mn<Gt.length;Mn++){for(var Tn=Gt[Mn],Bn=[],Nn=0;Nn<Tn.length;Nn++){var Xn=Tn[Nn-1],$n=Tn[Nn],lr=Tn[Nn+1],xr=Nn===0?cn:$n.sub(Xn)._unit()._perp(),vr=Nn===Tn.length-1?cn:lr.sub($n)._unit()._perp(),Ar=xr._add(vr)._unit(),Er=Ar.x*vr.x+Ar.y*vr.y;Ar._mult(1/Er),Bn.push(Ar._mult(Vt)._add($n))}ln.push(Bn)}return ln}(Ie,Bt*ht)),function(Gt,Vt,ln){for(var cn=0;cn<Vt.length;cn++){var Mn=Vt[cn];if(Gt.length>=3){for(var Tn=0;Tn<Mn.length;Tn++)if(gu(Gt,Mn[Tn]))return!0}if(og(Gt,Mn,ln))return!0}return!1}(Tt,Ie,Mt)},D.prototype.isTileClipped=function(){return!0},D}(ui);function Nm(M,D){return D>0?D+2*M:M}var q3=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),G3=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),W3=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),jm=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Y3=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Z3(M,D,J){return M.sections.forEach(function(ce){ce.text=function(Me,Ie,qe){var tt=Ie.layout.get("text-transform").evaluate(qe,{});return tt==="uppercase"?Me=Me.toLocaleUpperCase():tt==="lowercase"&&(Me=Me.toLocaleLowerCase()),Da.applyArabicShaping&&(Me=Da.applyArabicShaping(Me)),Me}(ce.text,D,J)}),M}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Bh={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Va=24,Um=function(M,D,J,ce,Me){var Ie,qe,tt=8*Me-ce-1,ht=(1<<tt)-1,Tt=ht>>1,Mt=-7,Bt=Me-1,Gt=-1,Vt=M[D+Bt];for(Bt+=Gt,Ie=Vt&(1<<-Mt)-1,Vt>>=-Mt,Mt+=tt;Mt>0;Ie=256*Ie+M[D+Bt],Bt+=Gt,Mt-=8);for(qe=Ie&(1<<-Mt)-1,Ie>>=-Mt,Mt+=ce;Mt>0;qe=256*qe+M[D+Bt],Bt+=Gt,Mt-=8);if(Ie===0)Ie=1-Tt;else{if(Ie===ht)return qe?NaN:1/0*(Vt?-1:1);qe+=Math.pow(2,ce),Ie-=Tt}return(Vt?-1:1)*qe*Math.pow(2,Ie-ce)},Vm=function(M,D,J,ce,Me,Ie){var qe,tt,ht,Tt=8*Ie-Me-1,Mt=(1<<Tt)-1,Bt=Mt>>1,Gt=Me===23?Math.pow(2,-24)-Math.pow(2,-77):0,Vt=0,ln=1,cn=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(tt=isNaN(D)?1:0,qe=Mt):(qe=Math.floor(Math.log(D)/Math.LN2),D*(ht=Math.pow(2,-qe))<1&&(qe--,ht*=2),(D+=qe+Bt>=1?Gt/ht:Gt*Math.pow(2,1-Bt))*ht>=2&&(qe++,ht/=2),qe+Bt>=Mt?(tt=0,qe=Mt):qe+Bt>=1?(tt=(D*ht-1)*Math.pow(2,Me),qe+=Bt):(tt=D*Math.pow(2,Bt-1)*Math.pow(2,Me),qe=0));Me>=8;M[J+Vt]=255&tt,Vt+=ln,tt/=256,Me-=8);for(qe=qe<<Me|tt,Tt+=Me;Tt>0;M[J+Vt]=255&qe,Vt+=ln,qe/=256,Tt-=8);M[J+Vt-ln]|=128*cn},hd=Ri;function Ri(M){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(M)?M:new Uint8Array(M||0),this.pos=0,this.type=0,this.length=this.buf.length}Ri.Varint=0,Ri.Fixed64=1,Ri.Bytes=2,Ri.Fixed32=5;var xg=4294967296,Hm=1/xg,qm=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ou(M){return M.type===Ri.Bytes?M.readVarint()+M.pos:M.pos+1}function wf(M,D,J){return J?4294967296*D+(M>>>0):4294967296*(D>>>0)+(M>>>0)}function Gm(M,D,J){var ce=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(7*Math.LN2));J.realloc(ce);for(var Me=J.pos-1;Me>=M;Me--)J.buf[Me+ce]=J.buf[Me]}function X3(M,D){for(var J=0;J<M.length;J++)D.writeVarint(M[J])}function K3(M,D){for(var J=0;J<M.length;J++)D.writeSVarint(M[J])}function J3(M,D){for(var J=0;J<M.length;J++)D.writeFloat(M[J])}function $3(M,D){for(var J=0;J<M.length;J++)D.writeDouble(M[J])}function Q3(M,D){for(var J=0;J<M.length;J++)D.writeBoolean(M[J])}function ew(M,D){for(var J=0;J<M.length;J++)D.writeFixed32(M[J])}function tw(M,D){for(var J=0;J<M.length;J++)D.writeSFixed32(M[J])}function nw(M,D){for(var J=0;J<M.length;J++)D.writeFixed64(M[J])}function rw(M,D){for(var J=0;J<M.length;J++)D.writeSFixed64(M[J])}function pd(M,D){return(M[D]|M[D+1]<<8|M[D+2]<<16)+16777216*M[D+3]}function Tf(M,D,J){M[J]=D,M[J+1]=D>>>8,M[J+2]=D>>>16,M[J+3]=D>>>24}function Wm(M,D){return(M[D]|M[D+1]<<8|M[D+2]<<16)+(M[D+3]<<24)}Ri.prototype={destroy:function(){this.buf=null},readFields:function(M,D,J){for(J=J||this.length;this.pos<J;){var ce=this.readVarint(),Me=ce>>3,Ie=this.pos;this.type=7&ce,M(Me,D,this),this.pos===Ie&&this.skip(ce)}return D},readMessage:function(M,D){return this.readFields(M,D,this.readVarint()+this.pos)},readFixed32:function(){var M=pd(this.buf,this.pos);return this.pos+=4,M},readSFixed32:function(){var M=Wm(this.buf,this.pos);return this.pos+=4,M},readFixed64:function(){var M=pd(this.buf,this.pos)+pd(this.buf,this.pos+4)*xg;return this.pos+=8,M},readSFixed64:function(){var M=pd(this.buf,this.pos)+Wm(this.buf,this.pos+4)*xg;return this.pos+=8,M},readFloat:function(){var M=Um(this.buf,this.pos,!0,23,4);return this.pos+=4,M},readDouble:function(){var M=Um(this.buf,this.pos,!0,52,8);return this.pos+=8,M},readVarint:function(M){var D,J,ce=this.buf;return D=127&(J=ce[this.pos++]),J<128?D:(D|=(127&(J=ce[this.pos++]))<<7,J<128?D:(D|=(127&(J=ce[this.pos++]))<<14,J<128?D:(D|=(127&(J=ce[this.pos++]))<<21,J<128?D:function(Me,Ie,qe){var tt,ht,Tt=qe.buf;if(tt=(112&(ht=Tt[qe.pos++]))>>4,ht<128||(tt|=(127&(ht=Tt[qe.pos++]))<<3,ht<128)||(tt|=(127&(ht=Tt[qe.pos++]))<<10,ht<128)||(tt|=(127&(ht=Tt[qe.pos++]))<<17,ht<128)||(tt|=(127&(ht=Tt[qe.pos++]))<<24,ht<128)||(tt|=(1&(ht=Tt[qe.pos++]))<<31,ht<128))return wf(Me,tt,Ie);throw new Error("Expected varint not more than 10 bytes")}(D|=(15&(J=ce[this.pos]))<<28,M,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var M=this.readVarint();return M%2==1?(M+1)/-2:M/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var M=this.readVarint()+this.pos,D=this.pos;return this.pos=M,M-D>=12&&qm?function(J,ce,Me){return qm.decode(J.subarray(ce,Me))}(this.buf,D,M):function(J,ce,Me){for(var Ie="",qe=ce;qe<Me;){var tt,ht,Tt,Mt=J[qe],Bt=null,Gt=Mt>239?4:Mt>223?3:Mt>191?2:1;if(qe+Gt>Me)break;Gt===1?Mt<128&&(Bt=Mt):Gt===2?(192&(tt=J[qe+1]))==128&&(Bt=(31&Mt)<<6|63&tt)<=127&&(Bt=null):Gt===3?(tt=J[qe+1],ht=J[qe+2],(192&tt)==128&&(192&ht)==128&&((Bt=(15&Mt)<<12|(63&tt)<<6|63&ht)<=2047||Bt>=55296&&Bt<=57343)&&(Bt=null)):Gt===4&&(tt=J[qe+1],ht=J[qe+2],Tt=J[qe+3],(192&tt)==128&&(192&ht)==128&&(192&Tt)==128&&((Bt=(15&Mt)<<18|(63&tt)<<12|(63&ht)<<6|63&Tt)<=65535||Bt>=1114112)&&(Bt=null)),Bt===null?(Bt=65533,Gt=1):Bt>65535&&(Bt-=65536,Ie+=String.fromCharCode(Bt>>>10&1023|55296),Bt=56320|1023&Bt),Ie+=String.fromCharCode(Bt),qe+=Gt}return Ie}(this.buf,D,M)},readBytes:function(){var M=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,M);return this.pos=M,D},readPackedVarint:function(M,D){if(this.type!==Ri.Bytes)return M.push(this.readVarint(D));var J=Ou(this);for(M=M||[];this.pos<J;)M.push(this.readVarint(D));return M},readPackedSVarint:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSVarint());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readSVarint());return M},readPackedBoolean:function(M){if(this.type!==Ri.Bytes)return M.push(this.readBoolean());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readBoolean());return M},readPackedFloat:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFloat());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readFloat());return M},readPackedDouble:function(M){if(this.type!==Ri.Bytes)return M.push(this.readDouble());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readDouble());return M},readPackedFixed32:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFixed32());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readFixed32());return M},readPackedSFixed32:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSFixed32());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readSFixed32());return M},readPackedFixed64:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFixed64());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readFixed64());return M},readPackedSFixed64:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSFixed64());var D=Ou(this);for(M=M||[];this.pos<D;)M.push(this.readSFixed64());return M},skip:function(M){var D=7&M;if(D===Ri.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ri.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ri.Fixed32)this.pos+=4;else{if(D!==Ri.Fixed64)throw new Error("Unimplemented type: "+D);this.pos+=8}},writeTag:function(M,D){this.writeVarint(M<<3|D)},realloc:function(M){for(var D=this.length||16;D<this.pos+M;)D*=2;if(D!==this.length){var J=new Uint8Array(D);J.set(this.buf),this.buf=J,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(M){this.realloc(4),Tf(this.buf,M,this.pos),this.pos+=4},writeSFixed32:function(M){this.realloc(4),Tf(this.buf,M,this.pos),this.pos+=4},writeFixed64:function(M){this.realloc(8),Tf(this.buf,-1&M,this.pos),Tf(this.buf,Math.floor(M*Hm),this.pos+4),this.pos+=8},writeSFixed64:function(M){this.realloc(8),Tf(this.buf,-1&M,this.pos),Tf(this.buf,Math.floor(M*Hm),this.pos+4),this.pos+=8},writeVarint:function(M){(M=+M||0)>268435455||M<0?function(D,J){var ce,Me;if(D>=0?(ce=D%4294967296|0,Me=D/4294967296|0):(Me=~(-D/4294967296),4294967295^(ce=~(-D%4294967296))?ce=ce+1|0:(ce=0,Me=Me+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");J.realloc(10),function(Ie,qe,tt){tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos]=127&Ie}(ce,0,J),function(Ie,qe){var tt=(7&Ie)<<4;qe.buf[qe.pos++]|=tt|((Ie>>>=3)?128:0),Ie&&(qe.buf[qe.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(qe.buf[qe.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(qe.buf[qe.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(qe.buf[qe.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(qe.buf[qe.pos++]=127&Ie)))))}(Me,J)}(M,this):(this.realloc(4),this.buf[this.pos++]=127&M|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=M>>>7&127))))},writeSVarint:function(M){this.writeVarint(M<0?2*-M-1:2*M)},writeBoolean:function(M){this.writeVarint(!!M)},writeString:function(M){M=String(M),this.realloc(4*M.length),this.pos++;var D=this.pos;this.pos=function(ce,Me,Ie){for(var qe,tt,ht=0;ht<Me.length;ht++){if((qe=Me.charCodeAt(ht))>55295&&qe<57344){if(!tt){qe>56319||ht+1===Me.length?(ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189):tt=qe;continue}if(qe<56320){ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189,tt=qe;continue}qe=tt-55296<<10|qe-56320|65536,tt=null}else tt&&(ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189,tt=null);qe<128?ce[Ie++]=qe:(qe<2048?ce[Ie++]=qe>>6|192:(qe<65536?ce[Ie++]=qe>>12|224:(ce[Ie++]=qe>>18|240,ce[Ie++]=qe>>12&63|128),ce[Ie++]=qe>>6&63|128),ce[Ie++]=63&qe|128)}return Ie}(this.buf,M,this.pos);var J=this.pos-D;J>=128&&Gm(D,J,this),this.pos=D-1,this.writeVarint(J),this.pos+=J},writeFloat:function(M){this.realloc(4),Vm(this.buf,M,this.pos,!0,23,4),this.pos+=4},writeDouble:function(M){this.realloc(8),Vm(this.buf,M,this.pos,!0,52,8),this.pos+=8},writeBytes:function(M){var D=M.length;this.writeVarint(D),this.realloc(D);for(var J=0;J<D;J++)this.buf[this.pos++]=M[J]},writeRawMessage:function(M,D){this.pos++;var J=this.pos;M(D,this);var ce=this.pos-J;ce>=128&&Gm(J,ce,this),this.pos=J-1,this.writeVarint(ce),this.pos+=ce},writeMessage:function(M,D,J){this.writeTag(M,Ri.Bytes),this.writeRawMessage(D,J)},writePackedVarint:function(M,D){D.length&&this.writeMessage(M,X3,D)},writePackedSVarint:function(M,D){D.length&&this.writeMessage(M,K3,D)},writePackedBoolean:function(M,D){D.length&&this.writeMessage(M,Q3,D)},writePackedFloat:function(M,D){D.length&&this.writeMessage(M,J3,D)},writePackedDouble:function(M,D){D.length&&this.writeMessage(M,$3,D)},writePackedFixed32:function(M,D){D.length&&this.writeMessage(M,ew,D)},writePackedSFixed32:function(M,D){D.length&&this.writeMessage(M,tw,D)},writePackedFixed64:function(M,D){D.length&&this.writeMessage(M,nw,D)},writePackedSFixed64:function(M,D){D.length&&this.writeMessage(M,rw,D)},writeBytesField:function(M,D){this.writeTag(M,Ri.Bytes),this.writeBytes(D)},writeFixed32Field:function(M,D){this.writeTag(M,Ri.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(M,D){this.writeTag(M,Ri.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(M,D){this.writeTag(M,Ri.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(M,D){this.writeTag(M,Ri.Fixed64),this.writeSFixed64(D)},writeVarintField:function(M,D){this.writeTag(M,Ri.Varint),this.writeVarint(D)},writeSVarintField:function(M,D){this.writeTag(M,Ri.Varint),this.writeSVarint(D)},writeStringField:function(M,D){this.writeTag(M,Ri.Bytes),this.writeString(D)},writeFloatField:function(M,D){this.writeTag(M,Ri.Fixed32),this.writeFloat(D)},writeDoubleField:function(M,D){this.writeTag(M,Ri.Fixed64),this.writeDouble(D)},writeBooleanField:function(M,D){this.writeVarintField(M,!!D)}};var bg=3;function iw(M,D,J){M===1&&J.readMessage(aw,D)}function aw(M,D,J){if(M===3){var ce=J.readMessage(ow,{}),Me=ce.id,Ie=ce.bitmap,qe=ce.width,tt=ce.height,ht=ce.left,Tt=ce.top,Mt=ce.advance;D.push({id:Me,bitmap:new Uc({width:qe+2*bg,height:tt+2*bg},Ie),metrics:{width:qe,height:tt,left:ht,top:Tt,advance:Mt}})}}function ow(M,D,J){M===1?D.id=J.readVarint():M===2?D.bitmap=J.readBytes():M===3?D.width=J.readVarint():M===4?D.height=J.readVarint():M===5?D.left=J.readSVarint():M===6?D.top=J.readSVarint():M===7&&(D.advance=J.readVarint())}var Ym=bg;function Zm(M){for(var D=0,J=0,ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce];D+=Ie.w*Ie.h,J=Math.max(J,Ie.w)}M.sort(function(cn,Mn){return Mn.h-cn.h});for(var qe=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),J),h:1/0}],tt=0,ht=0,Tt=0,Mt=M;Tt<Mt.length;Tt+=1)for(var Bt=Mt[Tt],Gt=qe.length-1;Gt>=0;Gt--){var Vt=qe[Gt];if(!(Bt.w>Vt.w||Bt.h>Vt.h)){if(Bt.x=Vt.x,Bt.y=Vt.y,ht=Math.max(ht,Bt.y+Bt.h),tt=Math.max(tt,Bt.x+Bt.w),Bt.w===Vt.w&&Bt.h===Vt.h){var ln=qe.pop();Gt<qe.length&&(qe[Gt]=ln)}else Bt.h===Vt.h?(Vt.x+=Bt.w,Vt.w-=Bt.w):Bt.w===Vt.w?(Vt.y+=Bt.h,Vt.h-=Bt.h):(qe.push({x:Vt.x+Bt.w,y:Vt.y,w:Vt.w-Bt.w,h:Bt.h}),Vt.y+=Bt.h,Vt.h-=Bt.h);break}}return{w:tt,h:ht,fill:D/(tt*ht)||0}}var ss=1,dd=function(M,D){var J=D.pixelRatio,ce=D.version,Me=D.stretchX,Ie=D.stretchY,qe=D.content;this.paddedRect=M,this.pixelRatio=J,this.stretchX=Me,this.stretchY=Ie,this.content=qe,this.version=ce},Nh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Nh.tl.get=function(){return[this.paddedRect.x+ss,this.paddedRect.y+ss]},Nh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ss,this.paddedRect.y+this.paddedRect.h-ss]},Nh.tlbr.get=function(){return this.tl.concat(this.br)},Nh.displaySize.get=function(){return[(this.paddedRect.w-2*ss)/this.pixelRatio,(this.paddedRect.h-2*ss)/this.pixelRatio]},Object.defineProperties(dd.prototype,Nh);var jh=function(M,D){var J={},ce={};this.haveRenderCallbacks=[];var Me=[];this.addImages(M,J,Me),this.addImages(D,ce,Me);var Ie=Zm(Me),qe=Ie.w,tt=Ie.h,ht=new Ho({width:qe||1,height:tt||1});for(var Tt in M){var Mt=M[Tt],Bt=J[Tt].paddedRect;Ho.copy(Mt.data,ht,{x:0,y:0},{x:Bt.x+ss,y:Bt.y+ss},Mt.data)}for(var Gt in D){var Vt=D[Gt],ln=ce[Gt].paddedRect,cn=ln.x+ss,Mn=ln.y+ss,Tn=Vt.data.width,Bn=Vt.data.height;Ho.copy(Vt.data,ht,{x:0,y:0},{x:cn,y:Mn},Vt.data),Ho.copy(Vt.data,ht,{x:0,y:Bn-1},{x:cn,y:Mn-1},{width:Tn,height:1}),Ho.copy(Vt.data,ht,{x:0,y:0},{x:cn,y:Mn+Bn},{width:Tn,height:1}),Ho.copy(Vt.data,ht,{x:Tn-1,y:0},{x:cn-1,y:Mn},{width:1,height:Bn}),Ho.copy(Vt.data,ht,{x:0,y:0},{x:cn+Tn,y:Mn},{width:1,height:Bn})}this.image=ht,this.iconPositions=J,this.patternPositions=ce};jh.prototype.addImages=function(M,D,J){for(var ce in M){var Me=M[ce],Ie={x:0,y:0,w:Me.data.width+2*ss,h:Me.data.height+2*ss};J.push(Ie),D[ce]=new dd(Ie,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(ce)}},jh.prototype.patchUpdatedImages=function(M,D){for(var J in M.dispatchRenderCallbacks(this.haveRenderCallbacks),M.updatedImages)this.patchUpdatedImage(this.iconPositions[J],M.getImage(J),D),this.patchUpdatedImage(this.patternPositions[J],M.getImage(J),D)},jh.prototype.patchUpdatedImage=function(M,D,J){if(M&&D&&M.version!==D.version){M.version=D.version;var ce=M.tl,Me=ce[0],Ie=ce[1];J.update(D.data,void 0,{x:Me,y:Ie})}},Lr("ImagePosition",dd),Lr("ImageAtlas",jh);var zs={horizontal:1,vertical:2,horizontalOnly:3},Uh=-17,kf=function(){this.scale=1,this.fontStack="",this.imageName=null};kf.forText=function(M,D){var J=new kf;return J.scale=M||1,J.fontStack=D,J},kf.forImage=function(M){var D=new kf;return D.imageName=M,D};var uo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function gd(M,D,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn){var Mn,Tn=uo.fromFeature(M,Me);Bt===zs.vertical&&Tn.verticalizePunctuation();var Bn=Da.processBidirectionalText,Nn=Da.processStyledBidirectionalText;if(Bn&&Tn.sections.length===1){Mn=[];for(var Xn=0,$n=Bn(Tn.toString(),_g(Tn,Tt,Ie,D,ce,Vt,ln));Xn<$n.length;Xn+=1){var lr=$n[Xn],xr=new uo;xr.text=lr,xr.sections=Tn.sections;for(var vr=0;vr<lr.length;vr++)xr.sectionIndex.push(0);Mn.push(xr)}}else if(Nn){Mn=[];for(var Ar=0,Er=Nn(Tn.text,Tn.sectionIndex,_g(Tn,Tt,Ie,D,ce,Vt,ln));Ar<Er.length;Ar+=1){var qr=Er[Ar],zr=new uo;zr.text=qr[0],zr.sectionIndex=qr[1],zr.sections=Tn.sections,Mn.push(zr)}}else Mn=function(Ir,ri){for(var Yr=[],Pi=Ir.text,Vr=0,ki=0,Fi=ri;ki<Fi.length;ki+=1){var Ui=Fi[ki];Yr.push(Ir.substring(Vr,Ui)),Vr=Ui}return Vr<Pi.length&&Yr.push(Ir.substring(Vr,Pi.length)),Yr}(Tn,_g(Tn,Tt,Ie,D,ce,Vt,ln));var Hr=[],Rr={positionedLines:Hr,text:Tn.toString(),top:Mt[1],bottom:Mt[1],left:Mt[0],right:Mt[0],writingMode:Bt,iconsInText:!1,verticalizable:!1};return function(Ir,ri,Yr,Pi,Vr,ki,Fi,Ui,Vi,Oi,ba,Zi){for(var Fa=0,$a=Uh,Ha=0,ko=0,qa=Ui==="right"?1:Ui==="left"?0:.5,Sa=0,Ga=0,Ba=Vr;Ga<Ba.length;Ga+=1){var Ea=Ba[Ga];Ea.trim();var Zr=Ea.getMaxScale(),oi=(Zr-1)*Va,ta={positionedGlyphs:[],lineOffset:0};Ir.positionedLines[Sa]=ta;var Li=ta.positionedGlyphs,Ki=0;if(Ea.length()){for(var Wi=0;Wi<Ea.length();Wi++){var ci=Ea.getSection(Wi),na=Ea.getSectionIndex(Wi),Ao=Ea.getCharCode(Wi),us=0,co=null,Xl=null,Du=null,Na=Va,Kl=!(Vi===zs.horizontal||!ba&&!rs(Ao)||ba&&(vd[Ao]||Cs(Ao)));if(ci.imageName){var Al=Pi[ci.imageName];if(!Al)continue;Du=ci.imageName,Ir.iconsInText=Ir.iconsInText||!0,Xl=Al.paddedRect;var Ml=Al.displaySize;ci.scale=ci.scale*Va/Zi,co={width:Ml[0],height:Ml[1],left:ss,top:-Ym,advance:Kl?Ml[1]:Ml[0]},us=oi+(Va-Ml[1]*ci.scale),Na=co.advance;var Gc=Kl?Ml[0]*ci.scale-Va*Zr:Ml[1]*ci.scale-Va*Zr;Gc>0&&Gc>Ki&&(Ki=Gc)}else{var Ad=Yr[ci.fontStack],Wc=Ad&&Ad[Ao];if(Wc&&Wc.rect)Xl=Wc.rect,co=Wc.metrics;else{var Md=ri[ci.fontStack],Gh=Md&&Md[Ao];if(!Gh)continue;co=Gh.metrics}us=(Zr-ci.scale)*Va}Kl?(Ir.verticalizable=!0,Li.push({glyph:Ao,imageName:Du,x:Fa,y:$a+us,vertical:Kl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:na,metrics:co,rect:Xl}),Fa+=Na*ci.scale+Oi):(Li.push({glyph:Ao,imageName:Du,x:Fa,y:$a+us,vertical:Kl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:na,metrics:co,rect:Xl}),Fa+=co.advance*ci.scale+Oi)}if(Li.length!==0){var Pg=Fa-Oi;Ha=Math.max(Pg,Ha),lw(Li,0,Li.length-1,qa,Ki)}Fa=0;var Sd=ki*Zr+Ki;ta.lineOffset=Math.max(Ki,oi),$a+=Sd,ko=Math.max(Sd,ko),++Sa}else $a+=ki,++Sa}var zf=$a-Uh,Ed=wg(Fi),Ld=Ed.horizontalAlign,Wh=Ed.verticalAlign;(function(Og,Yh,Yc,Df,Cd,Pd,Rf,Od,Id){var Zh=(Yh-Yc)*Cd,Xh=0;Xh=Pd!==Rf?-Od*Df-Uh:(-Df*Id+.5)*Rf;for(var Zc=0,Kh=Og;Zc<Kh.length;Zc+=1)for(var Xc=0,Jh=Kh[Zc].positionedGlyphs;Xc<Jh.length;Xc+=1){var $h=Jh[Xc];$h.x+=Zh,$h.y+=Xh}})(Ir.positionedLines,qa,Ld,Wh,Ha,ko,ki,zf,Vr.length),Ir.top+=-Wh*zf,Ir.bottom=Ir.top+zf,Ir.left+=-Ld*Ha,Ir.right=Ir.left+Ha}(Rr,D,J,ce,Mn,qe,tt,ht,Bt,Tt,Gt,cn),!function(Ir){for(var ri=0,Yr=Ir;ri<Yr.length;ri+=1)if(Yr[ri].positionedGlyphs.length!==0)return!1;return!0}(Hr)&&Rr}uo.fromFeature=function(M,D){for(var J=new uo,ce=0;ce<M.sections.length;ce++){var Me=M.sections[ce];Me.image?J.addImageSection(Me):J.addTextSection(Me,D)}return J},uo.prototype.length=function(){return this.text.length},uo.prototype.getSection=function(M){return this.sections[this.sectionIndex[M]]},uo.prototype.getSectionIndex=function(M){return this.sectionIndex[M]},uo.prototype.getCharCode=function(M){return this.text.charCodeAt(M)},uo.prototype.verticalizePunctuation=function(){this.text=function(M){for(var D="",J=0;J<M.length;J++){var ce=M.charCodeAt(J+1)||null,Me=M.charCodeAt(J-1)||null;ce&&Qi(ce)&&!Bh[M[J+1]]||Me&&Qi(Me)&&!Bh[M[J-1]]||!Bh[M[J]]?D+=M[J]:D+=Bh[M[J]]}return D}(this.text)},uo.prototype.trim=function(){for(var M=0,D=0;D<this.text.length&&vd[this.text.charCodeAt(D)];D++)M++;for(var J=this.text.length,ce=this.text.length-1;ce>=0&&ce>=M&&vd[this.text.charCodeAt(ce)];ce--)J--;this.text=this.text.substring(M,J),this.sectionIndex=this.sectionIndex.slice(M,J)},uo.prototype.substring=function(M,D){var J=new uo;return J.text=this.text.substring(M,D),J.sectionIndex=this.sectionIndex.slice(M,D),J.sections=this.sections,J},uo.prototype.toString=function(){return this.text},uo.prototype.getMaxScale=function(){var M=this;return this.sectionIndex.reduce(function(D,J){return Math.max(D,M.sections[J].scale)},0)},uo.prototype.addTextSection=function(M,D){this.text+=M.text,this.sections.push(kf.forText(M.scale,M.fontStack||D));for(var J=this.sections.length-1,ce=0;ce<M.text.length;++ce)this.sectionIndex.push(J)},uo.prototype.addImageSection=function(M){var D=M.image?M.image.name:"";if(D.length!==0){var J=this.getNextImageSectionCharCode();J?(this.text+=String.fromCharCode(J),this.sections.push(kf.forImage(D)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},uo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var vd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ls={};function Xm(M,D,J,ce,Me,Ie){if(D.imageName){var qe=ce[D.imageName];return qe?qe.displaySize[0]*D.scale*Va/Ie+Me:0}var tt=J[D.fontStack],ht=tt&&tt[M];return ht?ht.metrics.advance*D.scale+Me:0}function Km(M,D,J,ce){var Me=Math.pow(M-D,2);return ce?M<D?Me/2:2*Me:Me+Math.abs(J)*J}function sw(M,D,J){var ce=0;return M===10&&(ce-=1e4),J&&(ce+=150),M!==40&&M!==65288||(ce+=50),D!==41&&D!==65289||(ce+=50),ce}function Jm(M,D,J,ce,Me,Ie){for(var qe=null,tt=Km(D,J,Me,Ie),ht=0,Tt=ce;ht<Tt.length;ht+=1){var Mt=Tt[ht],Bt=Km(D-Mt.x,J,Me,Ie)+Mt.badness;Bt<=tt&&(qe=Mt,tt=Bt)}return{index:M,x:D,priorBreak:qe,badness:tt}}function $m(M){return M?$m(M.priorBreak).concat(M.index):[]}function _g(M,D,J,ce,Me,Ie,qe){if(Ie!=="point")return[];if(!M)return[];for(var tt=[],ht=function(Mn,Tn,Bn,Nn,Xn,$n){for(var lr=0,xr=0;xr<Mn.length();xr++){var vr=Mn.getSection(xr);lr+=Xm(Mn.getCharCode(xr),vr,Nn,Xn,Tn,$n)}return lr/Math.max(1,Math.ceil(lr/Bn))}(M,D,J,ce,Me,qe),Tt=M.text.indexOf("​")>=0,Mt=0,Bt=0;Bt<M.length();Bt++){var Gt=M.getSection(Bt),Vt=M.getCharCode(Bt);if(vd[Vt]||(Mt+=Xm(Vt,Gt,ce,Me,D,qe)),Bt<M.length()-1){var ln=!((cn=Vt)<11904||!(br["Bopomofo Extended"](cn)||br.Bopomofo(cn)||br["CJK Compatibility Forms"](cn)||br["CJK Compatibility Ideographs"](cn)||br["CJK Compatibility"](cn)||br["CJK Radicals Supplement"](cn)||br["CJK Strokes"](cn)||br["CJK Symbols and Punctuation"](cn)||br["CJK Unified Ideographs Extension A"](cn)||br["CJK Unified Ideographs"](cn)||br["Enclosed CJK Letters and Months"](cn)||br["Halfwidth and Fullwidth Forms"](cn)||br.Hiragana(cn)||br["Ideographic Description Characters"](cn)||br["Kangxi Radicals"](cn)||br["Katakana Phonetic Extensions"](cn)||br.Katakana(cn)||br["Vertical Forms"](cn)||br["Yi Radicals"](cn)||br["Yi Syllables"](cn)));(ls[Vt]||ln||Gt.imageName)&&tt.push(Jm(Bt+1,Mt,ht,tt,sw(Vt,M.getCharCode(Bt+1),ln&&Tt),!1))}}var cn;return $m(Jm(M.length(),Mt,ht,tt,0,!0))}function wg(M){var D=.5,J=.5;switch(M){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0}switch(M){case"bottom":case"bottom-right":case"bottom-left":J=1;break;case"top":case"top-right":case"top-left":J=0}return{horizontalAlign:D,verticalAlign:J}}function lw(M,D,J,ce,Me){if(ce||Me)for(var Ie=M[J],qe=Ie.metrics.advance*Ie.scale,tt=(M[J].x+qe)*ce,ht=D;ht<=J;ht++)M[ht].x-=tt,M[ht].y+=Me}function Qm(M,D,J,ce,Me,Ie){var qe,tt=M.image;if(tt.content){var ht=tt.content,Tt=tt.pixelRatio||1;qe=[ht[0]/Tt,ht[1]/Tt,tt.displaySize[0]-ht[2]/Tt,tt.displaySize[1]-ht[3]/Tt]}var Mt,Bt,Gt,Vt,ln=D.left*Ie,cn=D.right*Ie;J==="width"||J==="both"?(Vt=Me[0]+ln-ce[3],Bt=Me[0]+cn+ce[1]):Bt=(Vt=Me[0]+(ln+cn-tt.displaySize[0])/2)+tt.displaySize[0];var Mn=D.top*Ie,Tn=D.bottom*Ie;return J==="height"||J==="both"?(Mt=Me[1]+Mn-ce[0],Gt=Me[1]+Tn+ce[2]):Gt=(Mt=Me[1]+(Mn+Tn-tt.displaySize[1])/2)+tt.displaySize[1],{image:tt,top:Mt,right:Bt,bottom:Gt,left:Vt,collisionPadding:qe}}ls[10]=!0,ls[32]=!0,ls[38]=!0,ls[40]=!0,ls[41]=!0,ls[43]=!0,ls[45]=!0,ls[47]=!0,ls[173]=!0,ls[183]=!0,ls[8203]=!0,ls[8208]=!0,ls[8211]=!0,ls[8231]=!0;var Af=function(M){function D(J,ce,Me,Ie){M.call(this,J,ce),this.angle=Me,Ie!==void 0&&(this.segment=Ie)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(n);Lr("Anchor",Af);var Zl=128;function Tg(M,D){var J=D.expression;if(J.kind==="constant")return{kind:"constant",layoutSize:J.evaluate(new $r(M+1))};if(J.kind==="source")return{kind:"source"};for(var ce=J.zoomStops,Me=J.interpolationType,Ie=0;Ie<ce.length&&ce[Ie]<=M;)Ie++;for(var qe=Ie=Math.max(0,Ie-1);qe<ce.length&&ce[qe]<M+1;)qe++;qe=Math.min(ce.length-1,qe);var tt=ce[Ie],ht=ce[qe];return J.kind==="composite"?{kind:"composite",minZoom:tt,maxZoom:ht,interpolationType:Me}:{kind:"camera",minZoom:tt,maxZoom:ht,minSize:J.evaluate(new $r(tt)),maxSize:J.evaluate(new $r(ht)),interpolationType:Me}}function ey(M,D,J){var ce=D.uSize,Me=D.uSizeT,Ie=J.lowerSize,qe=J.upperSize;return M.kind==="source"?Ie/Zl:M.kind==="composite"?Ur(Ie/Zl,qe/Zl,Me):ce}function ty(M,D){var J=0,ce=0;if(M.kind==="constant")ce=M.layoutSize;else if(M.kind!=="source"){var Me=M.interpolationType,Ie=M.minZoom,qe=M.maxZoom,tt=Me?u(Ji.interpolationFactor(Me,D,Ie,qe),0,1):0;M.kind==="camera"?ce=Ur(M.minSize,M.maxSize,tt):J=tt}return{uSizeT:J,uSize:ce}}var uw=Object.freeze({__proto__:null,getSizeData:Tg,evaluateSizeForFeature:ey,evaluateSizeForZoom:ty,SIZE_PACK_FACTOR:Zl});function ny(M,D,J,ce,Me){if(D.segment===void 0)return!0;for(var Ie=D,qe=D.segment+1,tt=0;tt>-J/2;){if(--qe<0)return!1;tt-=M[qe].dist(Ie),Ie=M[qe]}tt+=M[qe].dist(M[qe+1]),qe++;for(var ht=[],Tt=0;tt<J/2;){var Mt=M[qe-1],Bt=M[qe],Gt=M[qe+1];if(!Gt)return!1;var Vt=Mt.angleTo(Bt)-Bt.angleTo(Gt);for(Vt=Math.abs((Vt+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:tt,angleDelta:Vt}),Tt+=Vt;tt-ht[0].distance>ce;)Tt-=ht.shift().angleDelta;if(Tt>Me)return!1;qe++,tt+=Bt.dist(Gt)}return!0}function ry(M){for(var D=0,J=0;J<M.length-1;J++)D+=M[J].dist(M[J+1]);return D}function iy(M,D,J){return M?.6*D*J:0}function ay(M,D){return Math.max(M?M.right-M.left:0,D?D.right-D.left:0)}function cw(M,D,J,ce,Me,Ie){for(var qe=iy(J,Me,Ie),tt=ay(J,ce)*Ie,ht=0,Tt=ry(M)/2,Mt=0;Mt<M.length-1;Mt++){var Bt=M[Mt],Gt=M[Mt+1],Vt=Bt.dist(Gt);if(ht+Vt>Tt){var ln=(Tt-ht)/Vt,cn=Ur(Bt.x,Gt.x,ln),Mn=Ur(Bt.y,Gt.y,ln),Tn=new Af(cn,Mn,Gt.angleTo(Bt),Mt);return Tn._round(),!qe||ny(M,Tn,tt,qe,D)?Tn:void 0}ht+=Vt}}function fw(M,D,J,ce,Me,Ie,qe,tt,ht){var Tt=iy(ce,Ie,qe),Mt=ay(ce,Me),Bt=Mt*qe,Gt=M[0].x===0||M[0].x===ht||M[0].y===0||M[0].y===ht;return D-Bt<D/4&&(D=Bt+D/4),oy(M,Gt?D/2*tt%D:(Mt/2+2*Ie)*qe*tt%D,D,Tt,J,Bt,Gt,!1,ht)}function oy(M,D,J,ce,Me,Ie,qe,tt,ht){for(var Tt=Ie/2,Mt=ry(M),Bt=0,Gt=D-J,Vt=[],ln=0;ln<M.length-1;ln++){for(var cn=M[ln],Mn=M[ln+1],Tn=cn.dist(Mn),Bn=Mn.angleTo(cn);Gt+J<Bt+Tn;){var Nn=((Gt+=J)-Bt)/Tn,Xn=Ur(cn.x,Mn.x,Nn),$n=Ur(cn.y,Mn.y,Nn);if(Xn>=0&&Xn<ht&&$n>=0&&$n<ht&&Gt-Tt>=0&&Gt+Tt<=Mt){var lr=new Af(Xn,$n,Bn,ln);lr._round(),ce&&!ny(M,lr,Ie,ce,Me)||Vt.push(lr)}}Bt+=Tn}return tt||Vt.length||qe||(Vt=oy(M,Bt/2,J,ce,Me,Ie,qe,!0,ht)),Vt}function sy(M,D,J,ce,Me){for(var Ie=[],qe=0;qe<M.length;qe++)for(var tt=M[qe],ht=void 0,Tt=0;Tt<tt.length-1;Tt++){var Mt=tt[Tt],Bt=tt[Tt+1];Mt.x<D&&Bt.x<D||(Mt.x<D?Mt=new n(D,Mt.y+(Bt.y-Mt.y)*((D-Mt.x)/(Bt.x-Mt.x)))._round():Bt.x<D&&(Bt=new n(D,Mt.y+(Bt.y-Mt.y)*((D-Mt.x)/(Bt.x-Mt.x)))._round()),Mt.y<J&&Bt.y<J||(Mt.y<J?Mt=new n(Mt.x+(Bt.x-Mt.x)*((J-Mt.y)/(Bt.y-Mt.y)),J)._round():Bt.y<J&&(Bt=new n(Mt.x+(Bt.x-Mt.x)*((J-Mt.y)/(Bt.y-Mt.y)),J)._round()),Mt.x>=ce&&Bt.x>=ce||(Mt.x>=ce?Mt=new n(ce,Mt.y+(Bt.y-Mt.y)*((ce-Mt.x)/(Bt.x-Mt.x)))._round():Bt.x>=ce&&(Bt=new n(ce,Mt.y+(Bt.y-Mt.y)*((ce-Mt.x)/(Bt.x-Mt.x)))._round()),Mt.y>=Me&&Bt.y>=Me||(Mt.y>=Me?Mt=new n(Mt.x+(Bt.x-Mt.x)*((Me-Mt.y)/(Bt.y-Mt.y)),Me)._round():Bt.y>=Me&&(Bt=new n(Mt.x+(Bt.x-Mt.x)*((Me-Mt.y)/(Bt.y-Mt.y)),Me)._round()),ht&&Mt.equals(ht[ht.length-1])||(ht=[Mt],Ie.push(ht)),ht.push(Bt)))))}return Ie}var Mf=ss;function ly(M,D,J,ce){var Me=[],Ie=M.image,qe=Ie.pixelRatio,tt=Ie.paddedRect.w-2*Mf,ht=Ie.paddedRect.h-2*Mf,Tt=M.right-M.left,Mt=M.bottom-M.top,Bt=Ie.stretchX||[[0,tt]],Gt=Ie.stretchY||[[0,ht]],Vt=function(ki,Fi){return ki+Fi[1]-Fi[0]},ln=Bt.reduce(Vt,0),cn=Gt.reduce(Vt,0),Mn=tt-ln,Tn=ht-cn,Bn=0,Nn=ln,Xn=0,$n=cn,lr=0,xr=Mn,vr=0,Ar=Tn;if(Ie.content&&ce){var Er=Ie.content;Bn=md(Bt,0,Er[0]),Xn=md(Gt,0,Er[1]),Nn=md(Bt,Er[0],Er[2]),$n=md(Gt,Er[1],Er[3]),lr=Er[0]-Bn,vr=Er[1]-Xn,xr=Er[2]-Er[0]-Nn,Ar=Er[3]-Er[1]-$n}var qr=function(ki,Fi,Ui,Vi){var Oi=yd(ki.stretch-Bn,Nn,Tt,M.left),ba=xd(ki.fixed-lr,xr,ki.stretch,ln),Zi=yd(Fi.stretch-Xn,$n,Mt,M.top),Fa=xd(Fi.fixed-vr,Ar,Fi.stretch,cn),$a=yd(Ui.stretch-Bn,Nn,Tt,M.left),Ha=xd(Ui.fixed-lr,xr,Ui.stretch,ln),ko=yd(Vi.stretch-Xn,$n,Mt,M.top),qa=xd(Vi.fixed-vr,Ar,Vi.stretch,cn),Sa=new n(Oi,Zi),Ga=new n($a,Zi),Ba=new n($a,ko),Ea=new n(Oi,ko),Zr=new n(ba/qe,Fa/qe),oi=new n(Ha/qe,qa/qe),ta=D*Math.PI/180;if(ta){var Li=Math.sin(ta),Ki=Math.cos(ta),Wi=[Ki,-Li,Li,Ki];Sa._matMult(Wi),Ga._matMult(Wi),Ea._matMult(Wi),Ba._matMult(Wi)}var ci=ki.stretch+ki.fixed,na=Ui.stretch+Ui.fixed,Ao=Fi.stretch+Fi.fixed,us=Vi.stretch+Vi.fixed;return{tl:Sa,tr:Ga,bl:Ea,br:Ba,tex:{x:Ie.paddedRect.x+Mf+ci,y:Ie.paddedRect.y+Mf+Ao,w:na-ci,h:us-Ao},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Zr,pixelOffsetBR:oi,minFontScaleX:xr/qe/Tt,minFontScaleY:Ar/qe/Mt,isSDF:J}};if(ce&&(Ie.stretchX||Ie.stretchY))for(var zr=uy(Bt,Mn,ln),Hr=uy(Gt,Tn,cn),Rr=0;Rr<zr.length-1;Rr++)for(var Ir=zr[Rr],ri=zr[Rr+1],Yr=0;Yr<Hr.length-1;Yr++){var Pi=Hr[Yr],Vr=Hr[Yr+1];Me.push(qr(Ir,Pi,ri,Vr))}else Me.push(qr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:tt+1},{fixed:0,stretch:ht+1}));return Me}function md(M,D,J){for(var ce=0,Me=0,Ie=M;Me<Ie.length;Me+=1){var qe=Ie[Me];ce+=Math.max(D,Math.min(J,qe[1]))-Math.max(D,Math.min(J,qe[0]))}return ce}function uy(M,D,J){for(var ce=[{fixed:-Mf,stretch:0}],Me=0,Ie=M;Me<Ie.length;Me+=1){var qe=Ie[Me],tt=qe[0],ht=qe[1],Tt=ce[ce.length-1];ce.push({fixed:tt-Tt.stretch,stretch:Tt.stretch}),ce.push({fixed:tt-Tt.stretch,stretch:Tt.stretch+(ht-tt)})}return ce.push({fixed:D+Mf,stretch:J}),ce}function yd(M,D,J,ce){return M/D*J+ce}function xd(M,D,J,ce){return M-D*J/ce}var bd=function(M,D,J,ce,Me,Ie,qe,tt,ht,Tt){if(this.boxStartIndex=M.length,ht){var Mt=Ie.top,Bt=Ie.bottom,Gt=Ie.collisionPadding;Gt&&(Mt-=Gt[1],Bt+=Gt[3]);var Vt=Bt-Mt;Vt>0&&(Vt=Math.max(10,Vt),this.circleDiameter=Vt)}else{var ln=Ie.top*qe-tt,cn=Ie.bottom*qe+tt,Mn=Ie.left*qe-tt,Tn=Ie.right*qe+tt,Bn=Ie.collisionPadding;if(Bn&&(Mn-=Bn[0]*qe,ln-=Bn[1]*qe,Tn+=Bn[2]*qe,cn+=Bn[3]*qe),Tt){var Nn=new n(Mn,ln),Xn=new n(Tn,ln),$n=new n(Mn,cn),lr=new n(Tn,cn),xr=Tt*Math.PI/180;Nn._rotate(xr),Xn._rotate(xr),$n._rotate(xr),lr._rotate(xr),Mn=Math.min(Nn.x,Xn.x,$n.x,lr.x),Tn=Math.max(Nn.x,Xn.x,$n.x,lr.x),ln=Math.min(Nn.y,Xn.y,$n.y,lr.y),cn=Math.max(Nn.y,Xn.y,$n.y,lr.y)}M.emplaceBack(D.x,D.y,Mn,ln,Tn,cn,J,ce,Me)}this.boxEndIndex=M.length},Sf=function(M,D){if(M===void 0&&(M=[]),D===void 0&&(D=hw),this.data=M,this.length=this.data.length,this.compare=D,this.length>0)for(var J=(this.length>>1)-1;J>=0;J--)this._down(J)};function hw(M,D){return M<D?-1:M>D?1:0}function pw(M,D,J){J===void 0&&(J=!1);for(var ce=1/0,Me=1/0,Ie=-1/0,qe=-1/0,tt=M[0],ht=0;ht<tt.length;ht++){var Tt=tt[ht];(!ht||Tt.x<ce)&&(ce=Tt.x),(!ht||Tt.y<Me)&&(Me=Tt.y),(!ht||Tt.x>Ie)&&(Ie=Tt.x),(!ht||Tt.y>qe)&&(qe=Tt.y)}var Mt=Ie-ce,Bt=qe-Me,Gt=Math.min(Mt,Bt),Vt=Gt/2,ln=new Sf([],dw);if(Gt===0)return new n(ce,Me);for(var cn=ce;cn<Ie;cn+=Gt)for(var Mn=Me;Mn<qe;Mn+=Gt)ln.push(new Ef(cn+Vt,Mn+Vt,Vt,M));for(var Tn=function(Xn){for(var $n=0,lr=0,xr=0,vr=Xn[0],Ar=0,Er=vr.length,qr=Er-1;Ar<Er;qr=Ar++){var zr=vr[Ar],Hr=vr[qr],Rr=zr.x*Hr.y-Hr.x*zr.y;lr+=(zr.x+Hr.x)*Rr,xr+=(zr.y+Hr.y)*Rr,$n+=3*Rr}return new Ef(lr/$n,xr/$n,0,Xn)}(M),Bn=ln.length;ln.length;){var Nn=ln.pop();(Nn.d>Tn.d||!Tn.d)&&(Tn=Nn,J&&console.log("found best %d after %d probes",Math.round(1e4*Nn.d)/1e4,Bn)),Nn.max-Tn.d<=D||(Vt=Nn.h/2,ln.push(new Ef(Nn.p.x-Vt,Nn.p.y-Vt,Vt,M)),ln.push(new Ef(Nn.p.x+Vt,Nn.p.y-Vt,Vt,M)),ln.push(new Ef(Nn.p.x-Vt,Nn.p.y+Vt,Vt,M)),ln.push(new Ef(Nn.p.x+Vt,Nn.p.y+Vt,Vt,M)),Bn+=4)}return J&&(console.log("num probes: "+Bn),console.log("best distance: "+Tn.d)),Tn.p}function dw(M,D){return D.max-M.max}function Ef(M,D,J,ce){this.p=new n(M,D),this.h=J,this.d=function(Me,Ie){for(var qe=!1,tt=1/0,ht=0;ht<Ie.length;ht++)for(var Tt=Ie[ht],Mt=0,Bt=Tt.length,Gt=Bt-1;Mt<Bt;Gt=Mt++){var Vt=Tt[Mt],ln=Tt[Gt];Vt.y>Me.y!=ln.y>Me.y&&Me.x<(ln.x-Vt.x)*(Me.y-Vt.y)/(ln.y-Vt.y)+Vt.x&&(qe=!qe),tt=Math.min(tt,nd(Me,Vt,ln))}return(qe?1:-1)*Math.sqrt(tt)}(this.p,ce),this.max=this.d+this.h*Math.SQRT2}Sf.prototype.push=function(M){this.data.push(M),this.length++,this._up(this.length-1)},Sf.prototype.pop=function(){if(this.length!==0){var M=this.data[0],D=this.data.pop();return this.length--,this.length>0&&(this.data[0]=D,this._down(0)),M}},Sf.prototype.peek=function(){return this.data[0]},Sf.prototype._up=function(M){for(var D=this.data,J=this.compare,ce=D[M];M>0;){var Me=M-1>>1,Ie=D[Me];if(J(ce,Ie)>=0)break;D[M]=Ie,M=Me}D[M]=ce},Sf.prototype._down=function(M){for(var D=this.data,J=this.compare,ce=this.length>>1,Me=D[M];M<ce;){var Ie=1+(M<<1),qe=D[Ie],tt=Ie+1;if(tt<this.length&&J(D[tt],qe)<0&&(Ie=tt,qe=D[tt]),J(qe,Me)>=0)break;D[M]=qe,M=Ie}D[M]=Me};var Lf=7,kg=Number.POSITIVE_INFINITY;function cy(M,D){return D[1]!==kg?function(J,ce,Me){var Ie=0,qe=0;switch(ce=Math.abs(ce),Me=Math.abs(Me),J){case"top-right":case"top-left":case"top":qe=Me-Lf;break;case"bottom-right":case"bottom-left":case"bottom":qe=-Me+Lf}switch(J){case"top-right":case"bottom-right":case"right":Ie=-ce;break;case"top-left":case"bottom-left":case"left":Ie=ce}return[Ie,qe]}(M,D[0],D[1]):function(J,ce){var Me=0,Ie=0;ce<0&&(ce=0);var qe=ce/Math.sqrt(2);switch(J){case"top-right":case"top-left":Ie=qe-Lf;break;case"bottom-right":case"bottom-left":Ie=-qe+Lf;break;case"bottom":Ie=-ce+Lf;break;case"top":Ie=ce-Lf}switch(J){case"top-right":case"bottom-right":Me=-qe;break;case"top-left":case"bottom-left":Me=qe;break;case"left":Me=ce;break;case"right":Me=-ce}return[Me,Ie]}(M,D[0])}function Ag(M){switch(M){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Vh=255,ac=Vh*Zl;function fy(M,D,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln){var cn=function(Xn,$n,lr,xr,vr,Ar,Er,qr){for(var zr=xr.layout.get("text-rotate").evaluate(Ar,{})*Math.PI/180,Hr=[],Rr=0,Ir=$n.positionedLines;Rr<Ir.length;Rr+=1)for(var ri=Ir[Rr],Yr=0,Pi=ri.positionedGlyphs;Yr<Pi.length;Yr+=1){var Vr=Pi[Yr];if(Vr.rect){var ki=Vr.rect||{},Fi=Ym+1,Ui=!0,Vi=1,Oi=0,ba=(vr||qr)&&Vr.vertical,Zi=Vr.metrics.advance*Vr.scale/2;if(qr&&$n.verticalizable){var Fa=(Vr.scale-1)*Va,$a=(Va-Vr.metrics.width*Vr.scale)/2;Oi=ri.lineOffset/2-(Vr.imageName?-$a:Fa)}if(Vr.imageName){var Ha=Er[Vr.imageName];Ui=Ha.sdf,Vi=Ha.pixelRatio,Fi=ss/Vi}var ko=vr?[Vr.x+Zi,Vr.y]:[0,0],qa=vr?[0,0]:[Vr.x+Zi+lr[0],Vr.y+lr[1]-Oi],Sa=[0,0];ba&&(Sa=qa,qa=[0,0]);var Ga=(Vr.metrics.left-Fi)*Vr.scale-Zi+qa[0],Ba=(-Vr.metrics.top-Fi)*Vr.scale+qa[1],Ea=Ga+ki.w*Vr.scale/Vi,Zr=Ba+ki.h*Vr.scale/Vi,oi=new n(Ga,Ba),ta=new n(Ea,Ba),Li=new n(Ga,Zr),Ki=new n(Ea,Zr);if(ba){var Wi=new n(-Zi,Zi-Uh),ci=-Math.PI/2,na=Va/2-Zi,Ao=Vr.imageName?na:0,us=new n(5-Uh-na,-Ao),co=new(Function.prototype.bind.apply(n,[null].concat(Sa)));oi._rotateAround(ci,Wi)._add(us)._add(co),ta._rotateAround(ci,Wi)._add(us)._add(co),Li._rotateAround(ci,Wi)._add(us)._add(co),Ki._rotateAround(ci,Wi)._add(us)._add(co)}if(zr){var Xl=Math.sin(zr),Du=Math.cos(zr),Na=[Du,-Xl,Xl,Du];oi._matMult(Na),ta._matMult(Na),Li._matMult(Na),Ki._matMult(Na)}var Kl=new n(0,0),Al=new n(0,0);Hr.push({tl:oi,tr:ta,bl:Li,br:Ki,tex:ki,writingMode:$n.writingMode,glyphOffset:ko,sectionIndex:Vr.sectionIndex,isSDF:Ui,pixelOffsetTL:Kl,pixelOffsetBR:Al,minFontScaleX:0,minFontScaleY:0})}}return Hr}(0,J,tt,Me,Ie,qe,ce,M.allowVerticalPlacement),Mn=M.textSizeData,Tn=null;Mn.kind==="source"?(Tn=[Zl*Me.layout.get("text-size").evaluate(qe,{})])[0]>ac&&E(M.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'):Mn.kind==="composite"&&((Tn=[Zl*Vt.compositeTextSizes[0].evaluate(qe,{},ln),Zl*Vt.compositeTextSizes[1].evaluate(qe,{},ln)])[0]>ac||Tn[1]>ac)&&E(M.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'),M.addSymbols(M.text,cn,Tn,tt,Ie,qe,Tt,D,ht.lineStartIndex,ht.lineLength,Gt,ln);for(var Bn=0,Nn=Mt;Bn<Nn.length;Bn+=1)Bt[Nn[Bn]]=M.text.placedSymbolArray.length-1;return 4*cn.length}function hy(M){for(var D in M)return M[D];return null}function gw(M,D,J,ce){var Me=M.compareText;if(D in Me){for(var Ie=Me[D],qe=Ie.length-1;qe>=0;qe--)if(ce.dist(Ie[qe])<J)return!0}else Me[D]=[];return Me[D].push(ce),!1}var vw=_f.VectorTileFeature.types,mw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function _d(M,D,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt){var Vt=tt?Math.min(ac,Math.round(tt[0])):0,ln=tt?Math.min(ac,Math.round(tt[1])):0;M.emplaceBack(D,J,Math.round(32*ce),Math.round(32*Me),Ie,qe,(Vt<<1)+(ht?1:0),ln,16*Tt,16*Mt,256*Bt,256*Gt)}function Mg(M,D,J){M.emplaceBack(D.x,D.y,J),M.emplaceBack(D.x,D.y,J),M.emplaceBack(D.x,D.y,J),M.emplaceBack(D.x,D.y,J)}function yw(M){for(var D=0,J=M.sections;D<J.length;D+=1)if(Aa(J[D].text))return!0;return!1}var Cf=function(M){this.layoutVertexArray=new Y,this.indexArray=new we,this.programConfigurations=M,this.segments=new Gn,this.dynamicLayoutVertexArray=new G,this.opacityVertexArray=new L,this.placedSymbolArray=new It};Cf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Cf.prototype.upload=function(M,D,J,ce){this.isEmpty()||(J&&(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,q3.members),this.indexBuffer=M.createIndexBuffer(this.indexArray,D),this.dynamicLayoutVertexBuffer=M.createVertexBuffer(this.dynamicLayoutVertexArray,G3.members,!0),this.opacityVertexBuffer=M.createVertexBuffer(this.opacityVertexArray,mw,!0),this.opacityVertexBuffer.itemSize=1),(J||ce)&&this.programConfigurations.upload(M))},Cf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Lr("SymbolBuffers",Cf);var Hh=function(M,D,J){this.layoutVertexArray=new M,this.layoutAttributes=D,this.indexArray=new J,this.segments=new Gn,this.collisionVertexArray=new fe};Hh.prototype.upload=function(M){this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=M.createVertexBuffer(this.collisionVertexArray,W3.members,!0)},Hh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Lr("CollisionBuffers",Hh);var Ti=function(M){this.collisionBoxArray=M.collisionBoxArray,this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(qe){return qe.id}),this.index=M.index,this.pixelRatio=M.pixelRatio,this.sourceLayerIndex=M.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=lg([]),this.placementViewportMatrix=lg([]);var D=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Tg(this.zoom,D["text-size"]),this.iconSizeData=Tg(this.zoom,D["icon-size"]);var J=this.layers[0].layout,ce=J.get("symbol-sort-key"),Me=J.get("symbol-z-order");this.canOverlap=J.get("text-allow-overlap")||J.get("icon-allow-overlap")||J.get("text-ignore-placement")||J.get("icon-ignore-placement"),this.sortFeaturesByKey=Me!=="viewport-y"&&ce.constantOr(1)!==void 0;var Ie=Me==="viewport-y"||Me==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ie&&this.canOverlap,J.get("symbol-placement")==="point"&&(this.writingModes=J.get("text-writing-mode").map(function(qe){return zs[qe]})),this.stateDependentLayerIds=this.layers.filter(function(qe){return qe.isStateDependent()}).map(function(qe){return qe.id}),this.sourceID=M.sourceID};Ti.prototype.createArrays=function(){this.text=new Cf(new Xi(this.layers,this.zoom,function(M){return/^text/.test(M)})),this.icon=new Cf(new Xi(this.layers,this.zoom,function(M){return/^icon/.test(M)})),this.glyphOffsetArray=new Ht,this.lineVertexArray=new vn,this.symbolInstances=new Zt},Ti.prototype.calculateGlyphDependencies=function(M,D,J,ce,Me){for(var Ie=0;Ie<M.length;Ie++)if(D[M.charCodeAt(Ie)]=!0,(J||ce)&&Me){var qe=Bh[M.charAt(Ie)];qe&&(D[qe.charCodeAt(0)]=!0)}},Ti.prototype.populate=function(M,D,J){var ce=this.layers[0],Me=ce.layout,Ie=Me.get("text-font"),qe=Me.get("text-field"),tt=Me.get("icon-image"),ht=(qe.value.kind!=="constant"||qe.value.value instanceof Fn&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Tt=tt.value.kind!=="constant"||!!tt.value.value||Object.keys(tt.parameters).length>0,Mt=Me.get("symbol-sort-key");if(this.features=[],ht||Tt){for(var Bt=D.iconDependencies,Gt=D.glyphDependencies,Vt=D.availableImages,ln=new $r(this.zoom),cn=0,Mn=M;cn<Mn.length;cn+=1){var Tn=Mn[cn],Bn=Tn.feature,Nn=Tn.id,Xn=Tn.index,$n=Tn.sourceLayerIndex,lr=ce._featureFilter.needGeometry,xr=Di(Bn,lr);if(ce._featureFilter.filter(ln,xr,J)){lr||(xr.geometry=os(Bn));var vr=void 0;if(ht){var Ar=ce.getValueAndResolveTokens("text-field",xr,J,Vt),Er=Fn.factory(Ar);yw(Er)&&(this.hasRTLText=!0),(!this.hasRTLText||xl()==="unavailable"||this.hasRTLText&&Da.isParsed())&&(vr=Z3(Er,ce,xr))}var qr=void 0;if(Tt){var zr=ce.getValueAndResolveTokens("icon-image",xr,J,Vt);qr=zr instanceof Wn?zr:Wn.fromString(zr)}if(vr||qr){var Hr=this.sortFeaturesByKey?Mt.evaluate(xr,{},J):void 0,Rr={id:Nn,text:vr,icon:qr,index:Xn,sourceLayerIndex:$n,geometry:xr.geometry,properties:Bn.properties,type:vw[Bn.type],sortKey:Hr};if(this.features.push(Rr),qr&&(Bt[qr.name]=!0),vr){var Ir=Ie.evaluate(xr,{},J).join(","),ri=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(zs.vertical)>=0;for(var Yr=0,Pi=vr.sections;Yr<Pi.length;Yr+=1){var Vr=Pi[Yr];if(Vr.image)Bt[Vr.image.name]=!0;else{var ki=Hl(vr.toString()),Fi=Vr.fontStack||Ir,Ui=Gt[Fi]=Gt[Fi]||{};this.calculateGlyphDependencies(Vr.text,Ui,ri,this.allowVerticalPlacement,ki)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=function(Vi){var Oi={},ba={},Zi=[],Fa=0;function $a(Ki){Zi.push(Vi[Ki]),Fa++}function Ha(Ki,Wi,ci){var na=ba[Ki];return delete ba[Ki],ba[Wi]=na,Zi[na].geometry[0].pop(),Zi[na].geometry[0]=Zi[na].geometry[0].concat(ci[0]),na}function ko(Ki,Wi,ci){var na=Oi[Wi];return delete Oi[Wi],Oi[Ki]=na,Zi[na].geometry[0].shift(),Zi[na].geometry[0]=ci[0].concat(Zi[na].geometry[0]),na}function qa(Ki,Wi,ci){var na=ci?Wi[0][Wi[0].length-1]:Wi[0][0];return Ki+":"+na.x+":"+na.y}for(var Sa=0;Sa<Vi.length;Sa++){var Ga=Vi[Sa],Ba=Ga.geometry,Ea=Ga.text?Ga.text.toString():null;if(Ea){var Zr=qa(Ea,Ba),oi=qa(Ea,Ba,!0);if(Zr in ba&&oi in Oi&&ba[Zr]!==Oi[oi]){var ta=ko(Zr,oi,Ba),Li=Ha(Zr,oi,Zi[ta].geometry);delete Oi[Zr],delete ba[oi],ba[qa(Ea,Zi[Li].geometry,!0)]=Li,Zi[ta].geometry=null}else Zr in ba?Ha(Zr,oi,Ba):oi in Oi?ko(Zr,oi,Ba):($a(Sa),Oi[Zr]=Fa-1,ba[oi]=Fa-1)}else $a(Sa)}return Zi.filter(function(Ki){return Ki.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,Oi){return Vi.sortKey-Oi.sortKey})}},Ti.prototype.update=function(M,D,J){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(M,D,this.layers,J),this.icon.programConfigurations.updatePaintArrays(M,D,this.layers,J))},Ti.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ti.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ti.prototype.upload=function(M){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(M),this.iconCollisionBox.upload(M)),this.text.upload(M,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(M,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ti.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ti.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ti.prototype.addToLineVertexArray=function(M,D){var J=this.lineVertexArray.length;if(M.segment!==void 0){for(var ce=M.dist(D[M.segment+1]),Me=M.dist(D[M.segment]),Ie={},qe=M.segment+1;qe<D.length;qe++)Ie[qe]={x:D[qe].x,y:D[qe].y,tileUnitDistanceFromAnchor:ce},qe<D.length-1&&(ce+=D[qe+1].dist(D[qe]));for(var tt=M.segment||0;tt>=0;tt--)Ie[tt]={x:D[tt].x,y:D[tt].y,tileUnitDistanceFromAnchor:Me},tt>0&&(Me+=D[tt-1].dist(D[tt]));for(var ht=0;ht<D.length;ht++){var Tt=Ie[ht];this.lineVertexArray.emplaceBack(Tt.x,Tt.y,Tt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:J,lineLength:this.lineVertexArray.length-J}},Ti.prototype.addSymbols=function(M,D,J,ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt){for(var Gt=M.indexArray,Vt=M.layoutVertexArray,ln=M.segments.prepareSegment(4*D.length,Vt,Gt,this.canOverlap?Ie.sortKey:void 0),cn=this.glyphOffsetArray.length,Mn=ln.vertexLength,Tn=this.allowVerticalPlacement&&qe===zs.vertical?Math.PI/2:0,Bn=Ie.text&&Ie.text.sections,Nn=0;Nn<D.length;Nn++){var Xn=D[Nn],$n=Xn.tl,lr=Xn.tr,xr=Xn.bl,vr=Xn.br,Ar=Xn.tex,Er=Xn.pixelOffsetTL,qr=Xn.pixelOffsetBR,zr=Xn.minFontScaleX,Hr=Xn.minFontScaleY,Rr=Xn.glyphOffset,Ir=Xn.isSDF,ri=Xn.sectionIndex,Yr=ln.vertexLength,Pi=Rr[1];_d(Vt,tt.x,tt.y,$n.x,Pi+$n.y,Ar.x,Ar.y,J,Ir,Er.x,Er.y,zr,Hr),_d(Vt,tt.x,tt.y,lr.x,Pi+lr.y,Ar.x+Ar.w,Ar.y,J,Ir,qr.x,Er.y,zr,Hr),_d(Vt,tt.x,tt.y,xr.x,Pi+xr.y,Ar.x,Ar.y+Ar.h,J,Ir,Er.x,qr.y,zr,Hr),_d(Vt,tt.x,tt.y,vr.x,Pi+vr.y,Ar.x+Ar.w,Ar.y+Ar.h,J,Ir,qr.x,qr.y,zr,Hr),Mg(M.dynamicLayoutVertexArray,tt,Tn),Gt.emplaceBack(Yr,Yr+1,Yr+2),Gt.emplaceBack(Yr+1,Yr+2,Yr+3),ln.vertexLength+=4,ln.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Rr[0]),Nn!==D.length-1&&ri===D[Nn+1].sectionIndex||M.programConfigurations.populatePaintArrays(Vt.length,Ie,Ie.index,{},Bt,Bn&&Bn[ri])}M.placedSymbolArray.emplaceBack(tt.x,tt.y,cn,this.glyphOffsetArray.length-cn,Mn,ht,Tt,tt.segment,J?J[0]:0,J?J[1]:0,ce[0],ce[1],qe,0,!1,0,Mt)},Ti.prototype._addCollisionDebugVertex=function(M,D,J,ce,Me,Ie){return D.emplaceBack(0,0),M.emplaceBack(J.x,J.y,ce,Me,Math.round(Ie.x),Math.round(Ie.y))},Ti.prototype.addCollisionDebugVertices=function(M,D,J,ce,Me,Ie,qe){var tt=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),ht=tt.vertexLength,Tt=Me.layoutVertexArray,Mt=Me.collisionVertexArray,Bt=qe.anchorX,Gt=qe.anchorY;this._addCollisionDebugVertex(Tt,Mt,Ie,Bt,Gt,new n(M,D)),this._addCollisionDebugVertex(Tt,Mt,Ie,Bt,Gt,new n(J,D)),this._addCollisionDebugVertex(Tt,Mt,Ie,Bt,Gt,new n(J,ce)),this._addCollisionDebugVertex(Tt,Mt,Ie,Bt,Gt,new n(M,ce)),tt.vertexLength+=4;var Vt=Me.indexArray;Vt.emplaceBack(ht,ht+1),Vt.emplaceBack(ht+1,ht+2),Vt.emplaceBack(ht+2,ht+3),Vt.emplaceBack(ht+3,ht),tt.primitiveLength+=4},Ti.prototype.addDebugCollisionBoxes=function(M,D,J,ce){for(var Me=M;Me<D;Me++){var Ie=this.collisionBoxArray.get(Me),qe=Ie.x1,tt=Ie.y1,ht=Ie.x2,Tt=Ie.y2;this.addCollisionDebugVertices(qe,tt,ht,Tt,ce?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,J)}},Ti.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hh(ee,jm.members,pt),this.iconCollisionBox=new Hh(ee,jm.members,pt);for(var M=0;M<this.symbolInstances.length;M++){var D=this.symbolInstances.get(M);this.addDebugCollisionBoxes(D.textBoxStartIndex,D.textBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.verticalTextBoxStartIndex,D.verticalTextBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.iconBoxStartIndex,D.iconBoxEndIndex,D,!1),this.addDebugCollisionBoxes(D.verticalIconBoxStartIndex,D.verticalIconBoxEndIndex,D,!1)}},Ti.prototype._deserializeCollisionBoxesForSymbol=function(M,D,J,ce,Me,Ie,qe,tt,ht){for(var Tt={},Mt=D;Mt<J;Mt++){var Bt=M.get(Mt);Tt.textBox={x1:Bt.x1,y1:Bt.y1,x2:Bt.x2,y2:Bt.y2,anchorPointX:Bt.anchorPointX,anchorPointY:Bt.anchorPointY},Tt.textFeatureIndex=Bt.featureIndex;break}for(var Gt=ce;Gt<Me;Gt++){var Vt=M.get(Gt);Tt.verticalTextBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},Tt.verticalTextFeatureIndex=Vt.featureIndex;break}for(var ln=Ie;ln<qe;ln++){var cn=M.get(ln);Tt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},Tt.iconFeatureIndex=cn.featureIndex;break}for(var Mn=tt;Mn<ht;Mn++){var Tn=M.get(Mn);Tt.verticalIconBox={x1:Tn.x1,y1:Tn.y1,x2:Tn.x2,y2:Tn.y2,anchorPointX:Tn.anchorPointX,anchorPointY:Tn.anchorPointY},Tt.verticalIconFeatureIndex=Tn.featureIndex;break}return Tt},Ti.prototype.deserializeCollisionBoxes=function(M){this.collisionArrays=[];for(var D=0;D<this.symbolInstances.length;D++){var J=this.symbolInstances.get(D);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(M,J.textBoxStartIndex,J.textBoxEndIndex,J.verticalTextBoxStartIndex,J.verticalTextBoxEndIndex,J.iconBoxStartIndex,J.iconBoxEndIndex,J.verticalIconBoxStartIndex,J.verticalIconBoxEndIndex))}},Ti.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ti.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ti.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ti.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ti.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ti.prototype.addIndicesForPlacedSymbol=function(M,D){for(var J=M.placedSymbolArray.get(D),ce=J.vertexStartIndex+4*J.numGlyphs,Me=J.vertexStartIndex;Me<ce;Me+=4)M.indexArray.emplaceBack(Me,Me+1,Me+2),M.indexArray.emplaceBack(Me+1,Me+2,Me+3)},Ti.prototype.getSortedSymbolIndexes=function(M){if(this.sortedAngle===M&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var D=Math.sin(M),J=Math.cos(M),ce=[],Me=[],Ie=[],qe=0;qe<this.symbolInstances.length;++qe){Ie.push(qe);var tt=this.symbolInstances.get(qe);ce.push(0|Math.round(D*tt.anchorX+J*tt.anchorY)),Me.push(tt.featureIndex)}return Ie.sort(function(ht,Tt){return ce[ht]-ce[Tt]||Me[Tt]-Me[ht]}),Ie},Ti.prototype.addToSortKeyRanges=function(M,D){var J=this.sortKeyRanges[this.sortKeyRanges.length-1];J&&J.sortKey===D?J.symbolInstanceEnd=M+1:this.sortKeyRanges.push({sortKey:D,symbolInstanceStart:M,symbolInstanceEnd:M+1})},Ti.prototype.sortFeatures=function(M){var D=this;if(this.sortFeaturesByY&&this.sortedAngle!==M&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(M),this.sortedAngle=M,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var J=0,ce=this.symbolInstanceIndexes;J<ce.length;J+=1){var Me=ce[J],Ie=this.symbolInstances.get(Me);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(qe,tt,ht){qe>=0&&ht.indexOf(qe)===tt&&D.addIndicesForPlacedSymbol(D.text,qe)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Lr("SymbolBucket",Ti,{omit:["layers","collisionBoxArray","features","compareText"]}),Ti.MAX_GLYPHS=65535,Ti.addDynamicAttributes=Mg;var xw=new qi({"symbol-placement":new Pr(Ke.layout_symbol["symbol-placement"]),"symbol-spacing":new Pr(Ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Pr(Ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Fr(Ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Pr(Ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Pr(Ke.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Pr(Ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new Pr(Ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Pr(Ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new Fr(Ke.layout_symbol["icon-size"]),"icon-text-fit":new Pr(Ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Pr(Ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new Fr(Ke.layout_symbol["icon-image"]),"icon-rotate":new Fr(Ke.layout_symbol["icon-rotate"]),"icon-padding":new Pr(Ke.layout_symbol["icon-padding"]),"icon-keep-upright":new Pr(Ke.layout_symbol["icon-keep-upright"]),"icon-offset":new Fr(Ke.layout_symbol["icon-offset"]),"icon-anchor":new Fr(Ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Pr(Ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Pr(Ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Pr(Ke.layout_symbol["text-rotation-alignment"]),"text-field":new Fr(Ke.layout_symbol["text-field"]),"text-font":new Fr(Ke.layout_symbol["text-font"]),"text-size":new Fr(Ke.layout_symbol["text-size"]),"text-max-width":new Fr(Ke.layout_symbol["text-max-width"]),"text-line-height":new Pr(Ke.layout_symbol["text-line-height"]),"text-letter-spacing":new Fr(Ke.layout_symbol["text-letter-spacing"]),"text-justify":new Fr(Ke.layout_symbol["text-justify"]),"text-radial-offset":new Fr(Ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Pr(Ke.layout_symbol["text-variable-anchor"]),"text-anchor":new Fr(Ke.layout_symbol["text-anchor"]),"text-max-angle":new Pr(Ke.layout_symbol["text-max-angle"]),"text-writing-mode":new Pr(Ke.layout_symbol["text-writing-mode"]),"text-rotate":new Fr(Ke.layout_symbol["text-rotate"]),"text-padding":new Pr(Ke.layout_symbol["text-padding"]),"text-keep-upright":new Pr(Ke.layout_symbol["text-keep-upright"]),"text-transform":new Fr(Ke.layout_symbol["text-transform"]),"text-offset":new Fr(Ke.layout_symbol["text-offset"]),"text-allow-overlap":new Pr(Ke.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Pr(Ke.layout_symbol["text-ignore-placement"]),"text-optional":new Pr(Ke.layout_symbol["text-optional"])}),Sg={paint:new qi({"icon-opacity":new Fr(Ke.paint_symbol["icon-opacity"]),"icon-color":new Fr(Ke.paint_symbol["icon-color"]),"icon-halo-color":new Fr(Ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new Fr(Ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Fr(Ke.paint_symbol["icon-halo-blur"]),"icon-translate":new Pr(Ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new Pr(Ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new Fr(Ke.paint_symbol["text-opacity"]),"text-color":new Fr(Ke.paint_symbol["text-color"],{runtimeType:un,getOverride:function(M){return M.textColor},hasOverride:function(M){return!!M.textColor}}),"text-halo-color":new Fr(Ke.paint_symbol["text-halo-color"]),"text-halo-width":new Fr(Ke.paint_symbol["text-halo-width"]),"text-halo-blur":new Fr(Ke.paint_symbol["text-halo-blur"]),"text-translate":new Pr(Ke.paint_symbol["text-translate"]),"text-translate-anchor":new Pr(Ke.paint_symbol["text-translate-anchor"])}),layout:xw},Pf=function(M){this.type=M.property.overrides?M.property.overrides.runtimeType:zt,this.defaultValue=M};Pf.prototype.evaluate=function(M){if(M.formattedSection){var D=this.defaultValue.property.overrides;if(D&&D.hasOverride(M.formattedSection))return D.getOverride(M.formattedSection)}return M.feature&&M.featureState?this.defaultValue.evaluate(M.feature,M.featureState):this.defaultValue.property.specification.default},Pf.prototype.eachChild=function(M){this.defaultValue.isConstant()||M(this.defaultValue.value._styleExpression.expression)},Pf.prototype.outputDefined=function(){return!1},Pf.prototype.serialize=function(){return null},Lr("FormatSectionOverride",Pf,{omit:["defaultValue"]});var bw=function(M){function D(J){M.call(this,J,Sg)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(J,ce){if(M.prototype.recalculate.call(this,J,ce),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var Ie=[],qe=0,tt=Me;qe<tt.length;qe+=1){var ht=tt[qe];Ie.indexOf(ht)<0&&Ie.push(ht)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(J,ce,Me,Ie){var qe=this.layout.get(J).evaluate(ce,{},Me,Ie),tt=this._unevaluatedLayout._values[J];return tt.isDataDriven()||Zs(tt.value)||!qe?qe:function(ht,Tt){return Tt.replace(/{([^{}]+)}/g,function(Mt,Bt){return Bt in ht?String(ht[Bt]):""})}(ce.properties,qe)},D.prototype.createBucket=function(J){return new Ti(J)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var J=0,ce=Sg.paint.overridableProperties;J<ce.length;J+=1){var Me=ce[J];if(D.hasPaintOverride(this.layout,Me)){var Ie,qe=this.paint.get(Me),tt=new Pf(qe),ht=new Ts(tt,qe.property.specification);Ie=qe.value.kind==="constant"||qe.value.kind==="source"?new vo("source",ht):new pl("composite",ht,qe.value.zoomStops,qe.value._interpolationType),this.paint._values[Me]=new _i(qe.property,Ie,qe.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(J,ce,Me){return!(!this.layout||ce.isDataDriven()||Me.isDataDriven())&&D.hasPaintOverride(this.layout,J)},D.hasPaintOverride=function(J,ce){var Me=J.get("text-field"),Ie=Sg.paint.properties[ce],qe=!1,tt=function(Mt){for(var Bt=0,Gt=Mt;Bt<Gt.length;Bt+=1){var Vt=Gt[Bt];if(Ie.overrides&&Ie.overrides.hasOverride(Vt))return void(qe=!0)}};if(Me.value.kind==="constant"&&Me.value.value instanceof Fn)tt(Me.value.value.sections);else if(Me.value.kind==="source"){var ht=function(Mt){if(!qe)if(Mt instanceof nn&&Jn(Mt.value)===zn){var Bt=Mt.value;tt(Bt.sections)}else Mt instanceof Dn?tt(Mt.sections):Mt.eachChild(ht)},Tt=Me.value;Tt._styleExpression&&ht(Tt._styleExpression.expression)}return qe},D}(ui),_w={paint:new qi({"background-color":new Pr(Ke.paint_background["background-color"]),"background-pattern":new Uo(Ke.paint_background["background-pattern"]),"background-opacity":new Pr(Ke.paint_background["background-opacity"])})},ww=function(M){function D(J){M.call(this,J,_w)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D}(ui),Tw={paint:new qi({"raster-opacity":new Pr(Ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new Pr(Ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Pr(Ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Pr(Ke.paint_raster["raster-brightness-max"]),"raster-saturation":new Pr(Ke.paint_raster["raster-saturation"]),"raster-contrast":new Pr(Ke.paint_raster["raster-contrast"]),"raster-resampling":new Pr(Ke.paint_raster["raster-resampling"]),"raster-fade-duration":new Pr(Ke.paint_raster["raster-fade-duration"])})},kw=function(M){function D(J){M.call(this,J,Tw)}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D}(ui),Aw=function(M){function D(J){M.call(this,J,{}),this.implementation=J}return M&&(D.__proto__=M),D.prototype=Object.create(M&&M.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(J){this.implementation.onAdd&&this.implementation.onAdd(J,J.painter.context.gl)},D.prototype.onRemove=function(J){this.implementation.onRemove&&this.implementation.onRemove(J,J.painter.context.gl)},D}(ui),Mw={circle:o3,heatmap:l3,hillshade:c3,fill:S3,"fill-extrusion":R3,line:H3,symbol:bw,background:ww,raster:kw},py=r.HTMLImageElement,dy=r.HTMLCanvasElement,gy=r.HTMLVideoElement,vy=r.ImageData,wd=r.ImageBitmap,Vc=function(M,D,J,ce){this.context=M,this.format=J,this.texture=M.gl.createTexture(),this.update(D,ce)};Vc.prototype.update=function(M,D,J){var ce=M.width,Me=M.height,Ie=!(this.size&&this.size[0]===ce&&this.size[1]===Me||J),qe=this.context,tt=qe.gl;if(this.useMipmap=!!(D&&D.useMipmap),tt.bindTexture(tt.TEXTURE_2D,this.texture),qe.pixelStoreUnpackFlipY.set(!1),qe.pixelStoreUnpack.set(1),qe.pixelStoreUnpackPremultiplyAlpha.set(this.format===tt.RGBA&&(!D||D.premultiply!==!1)),Ie)this.size=[ce,Me],M instanceof py||M instanceof dy||M instanceof gy||M instanceof vy||wd&&M instanceof wd?tt.texImage2D(tt.TEXTURE_2D,0,this.format,this.format,tt.UNSIGNED_BYTE,M):tt.texImage2D(tt.TEXTURE_2D,0,this.format,ce,Me,0,this.format,tt.UNSIGNED_BYTE,M.data);else{var ht=J||{x:0,y:0},Tt=ht.x,Mt=ht.y;M instanceof py||M instanceof dy||M instanceof gy||M instanceof vy||wd&&M instanceof wd?tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,Mt,tt.RGBA,tt.UNSIGNED_BYTE,M):tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,Mt,ce,Me,tt.RGBA,tt.UNSIGNED_BYTE,M.data)}this.useMipmap&&this.isSizePowerOfTwo()&&tt.generateMipmap(tt.TEXTURE_2D)},Vc.prototype.bind=function(M,D,J){var ce=this.context.gl;ce.bindTexture(ce.TEXTURE_2D,this.texture),J!==ce.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(J=ce.LINEAR),M!==this.filter&&(ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,M),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,J||M),this.filter=M),D!==this.wrap&&(ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,D),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,D),this.wrap=D)},Vc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Vc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Eg=function(M){var D=this;this._callback=M,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){D._triggered=!1,D._callback()})};Eg.prototype.trigger=function(){var M=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){M._triggered=!1,M._callback()},0))},Eg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Of=function(M,D,J){this.target=M,this.parent=D,this.mapId=J,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},x(["receive","process"],this),this.invoker=new Eg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?M:r};function my(M,D,J){var ce=2*Math.PI*6378137/256/Math.pow(2,J);return[M*ce-2*Math.PI*6378137/2,D*ce-2*Math.PI*6378137/2]}Of.prototype.send=function(M,D,J,ce,Me){var Ie=this;Me===void 0&&(Me=!1);var qe=Math.round(1e18*Math.random()).toString(36).substring(0,10);J&&(this.callbacks[qe]=J);var tt=z(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:M,hasCallback:!!J,targetMapId:ce,mustQueue:Me,sourceMapId:this.mapId,data:Ls(D,tt)},tt),{cancel:function(){J&&delete Ie.callbacks[qe],Ie.target.postMessage({id:qe,type:"<cancel>",targetMapId:ce,sourceMapId:Ie.mapId})}}},Of.prototype.receive=function(M){var D=M.data,J=D.id;if(J&&(!D.targetMapId||this.mapId===D.targetMapId))if(D.type==="<cancel>"){delete this.tasks[J];var ce=this.cancelCallbacks[J];delete this.cancelCallbacks[J],ce&&ce()}else I()||D.mustQueue?(this.tasks[J]=D,this.taskQueue.push(J),this.invoker.trigger()):this.processTask(J,D)},Of.prototype.process=function(){if(this.taskQueue.length){var M=this.taskQueue.shift(),D=this.tasks[M];delete this.tasks[M],this.taskQueue.length&&this.invoker.trigger(),D&&this.processTask(M,D)}},Of.prototype.processTask=function(M,D){var J=this;if(D.type==="<response>"){var ce=this.callbacks[M];delete this.callbacks[M],ce&&(D.error?ce(el(D.error)):ce(null,el(D.data)))}else{var Me=!1,Ie=z(this.globalScope)?void 0:[],qe=D.hasCallback?function(Mt,Bt){Me=!0,delete J.cancelCallbacks[M],J.target.postMessage({id:M,type:"<response>",sourceMapId:J.mapId,error:Mt?Ls(Mt):null,data:Ls(Bt,Ie)},Ie)}:function(Mt){Me=!0},tt=null,ht=el(D.data);if(this.parent[D.type])tt=this.parent[D.type](D.sourceMapId,ht,qe);else if(this.parent.getWorkerSource){var Tt=D.type.split(".");tt=this.parent.getWorkerSource(D.sourceMapId,Tt[0],ht.source)[Tt[1]](ht,qe)}else qe(new Error("Could not find function "+D.type));!Me&&tt&&tt.cancel&&(this.cancelCallbacks[M]=tt.cancel)}},Of.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ya=function(M,D){M&&(D?this.setSouthWest(M).setNorthEast(D):M.length===4?this.setSouthWest([M[0],M[1]]).setNorthEast([M[2],M[3]]):this.setSouthWest(M[0]).setNorthEast(M[1]))};ya.prototype.setNorthEast=function(M){return this._ne=M instanceof Gi?new Gi(M.lng,M.lat):Gi.convert(M),this},ya.prototype.setSouthWest=function(M){return this._sw=M instanceof Gi?new Gi(M.lng,M.lat):Gi.convert(M),this},ya.prototype.extend=function(M){var D,J,ce=this._sw,Me=this._ne;if(M instanceof Gi)D=M,J=M;else{if(!(M instanceof ya)){if(Array.isArray(M)){if(M.length===4||M.every(Array.isArray)){var Ie=M;return this.extend(ya.convert(Ie))}var qe=M;return this.extend(Gi.convert(qe))}return this}if(D=M._sw,J=M._ne,!D||!J)return this}return ce||Me?(ce.lng=Math.min(D.lng,ce.lng),ce.lat=Math.min(D.lat,ce.lat),Me.lng=Math.max(J.lng,Me.lng),Me.lat=Math.max(J.lat,Me.lat)):(this._sw=new Gi(D.lng,D.lat),this._ne=new Gi(J.lng,J.lat)),this},ya.prototype.getCenter=function(){return new Gi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ya.prototype.getSouthWest=function(){return this._sw},ya.prototype.getNorthEast=function(){return this._ne},ya.prototype.getNorthWest=function(){return new Gi(this.getWest(),this.getNorth())},ya.prototype.getSouthEast=function(){return new Gi(this.getEast(),this.getSouth())},ya.prototype.getWest=function(){return this._sw.lng},ya.prototype.getSouth=function(){return this._sw.lat},ya.prototype.getEast=function(){return this._ne.lng},ya.prototype.getNorth=function(){return this._ne.lat},ya.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ya.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ya.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ya.prototype.contains=function(M){var D=Gi.convert(M),J=D.lng,ce=D.lat,Me=this._sw.lat<=ce&&ce<=this._ne.lat,Ie=this._sw.lng<=J&&J<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=J&&J>=this._ne.lng),Me&&Ie},ya.convert=function(M){return!M||M instanceof ya?M:new ya(M)};var yy=63710088e-1,Gi=function(M,D){if(isNaN(M)||isNaN(D))throw new Error("Invalid LngLat object: ("+M+", "+D+")");if(this.lng=+M,this.lat=+D,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Gi.prototype.wrap=function(){return new Gi(h(this.lng,-180,180),this.lat)},Gi.prototype.toArray=function(){return[this.lng,this.lat]},Gi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Gi.prototype.distanceTo=function(M){var D=Math.PI/180,J=this.lat*D,ce=M.lat*D,Me=Math.sin(J)*Math.sin(ce)+Math.cos(J)*Math.cos(ce)*Math.cos((M.lng-this.lng)*D);return yy*Math.acos(Math.min(Me,1))},Gi.prototype.toBounds=function(M){M===void 0&&(M=0);var D=360*M/40075017,J=D/Math.cos(Math.PI/180*this.lat);return new ya(new Gi(this.lng-J,this.lat-D),new Gi(this.lng+J,this.lat+D))},Gi.convert=function(M){if(M instanceof Gi)return M;if(Array.isArray(M)&&(M.length===2||M.length===3))return new Gi(Number(M[0]),Number(M[1]));if(!Array.isArray(M)&&typeof M=="object"&&M!==null)return new Gi(Number("lng"in M?M.lng:M.lon),Number(M.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var xy=2*Math.PI*yy;function by(M){return xy*Math.cos(M*Math.PI/180)}function _y(M){return(180+M)/360}function wy(M){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+M*Math.PI/360)))/360}function Ty(M,D){return M/by(D)}function Lg(M){var D=180-360*M;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}var Hc=function(M,D,J){J===void 0&&(J=0),this.x=+M,this.y=+D,this.z=+J};Hc.fromLngLat=function(M,D){D===void 0&&(D=0);var J=Gi.convert(M);return new Hc(_y(J.lng),wy(J.lat),Ty(D,J.lat))},Hc.prototype.toLngLat=function(){return new Gi(360*this.x-180,Lg(this.y))},Hc.prototype.toAltitude=function(){return M=this.z,D=this.y,M*by(Lg(D));var M,D},Hc.prototype.meterInMercatorCoordinateUnits=function(){return 1/xy*(M=Lg(this.y),1/Math.cos(M*Math.PI/180));var M};var qc=function(M,D,J){this.z=M,this.x=D,this.y=J,this.key=qh(0,M,M,D,J)};qc.prototype.equals=function(M){return this.z===M.z&&this.x===M.x&&this.y===M.y},qc.prototype.url=function(M,D){var J,ce,Me,Ie,qe,tt=(J=this.x,ce=this.y,Me=this.z,Ie=my(256*J,256*(ce=Math.pow(2,Me)-ce-1),Me),qe=my(256*(J+1),256*(ce+1),Me),Ie[0]+","+Ie[1]+","+qe[0]+","+qe[1]),ht=function(Tt,Mt,Bt){for(var Gt,Vt="",ln=Tt;ln>0;ln--)Vt+=(Mt&(Gt=1<<ln-1)?1:0)+(Bt&Gt?2:0);return Vt}(this.z,this.x,this.y);return M[(this.x+this.y)%M.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(D==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ht).replace("{bbox-epsg-3857}",tt)},qc.prototype.getTilePoint=function(M){var D=Math.pow(2,this.z);return new n((M.x*D-this.x)*ai,(M.y*D-this.y)*ai)},qc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ky=function(M,D){this.wrap=M,this.canonical=D,this.key=qh(M,D.z,D.z,D.x,D.y)},xa=function(M,D,J,ce,Me){this.overscaledZ=M,this.wrap=D,this.canonical=new qc(J,+ce,+Me),this.key=qh(D,M,J,ce,Me)};function qh(M,D,J,ce,Me){(M*=2)<0&&(M=-1*M-1);var Ie=1<<J;return(Ie*Ie*M+Ie*Me+ce).toString(36)+J.toString(36)+D.toString(36)}xa.prototype.equals=function(M){return this.overscaledZ===M.overscaledZ&&this.wrap===M.wrap&&this.canonical.equals(M.canonical)},xa.prototype.scaledTo=function(M){var D=this.canonical.z-M;return M>this.canonical.z?new xa(M,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xa(M,this.wrap,M,this.canonical.x>>D,this.canonical.y>>D)},xa.prototype.calculateScaledKey=function(M,D){var J=this.canonical.z-M;return M>this.canonical.z?qh(this.wrap*+D,M,this.canonical.z,this.canonical.x,this.canonical.y):qh(this.wrap*+D,M,M,this.canonical.x>>J,this.canonical.y>>J)},xa.prototype.isChildOf=function(M){if(M.wrap!==this.wrap)return!1;var D=this.canonical.z-M.canonical.z;return M.overscaledZ===0||M.overscaledZ<this.overscaledZ&&M.canonical.x===this.canonical.x>>D&&M.canonical.y===this.canonical.y>>D},xa.prototype.children=function(M){if(this.overscaledZ>=M)return[new xa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var D=this.canonical.z+1,J=2*this.canonical.x,ce=2*this.canonical.y;return[new xa(D,this.wrap,D,J,ce),new xa(D,this.wrap,D,J+1,ce),new xa(D,this.wrap,D,J,ce+1),new xa(D,this.wrap,D,J+1,ce+1)]},xa.prototype.isLessThan=function(M){return this.wrap<M.wrap||!(this.wrap>M.wrap)&&(this.overscaledZ<M.overscaledZ||!(this.overscaledZ>M.overscaledZ)&&(this.canonical.x<M.canonical.x||!(this.canonical.x>M.canonical.x)&&this.canonical.y<M.canonical.y))},xa.prototype.wrapped=function(){return new xa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},xa.prototype.unwrapTo=function(M){return new xa(this.overscaledZ,M,this.canonical.z,this.canonical.x,this.canonical.y)},xa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},xa.prototype.toUnwrapped=function(){return new ky(this.wrap,this.canonical)},xa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},xa.prototype.getTilePoint=function(M){return this.canonical.getTilePoint(new Hc(M.x-this.wrap,M.y))},Lr("CanonicalTileID",qc),Lr("OverscaledTileID",xa,{omit:["posMatrix"]});var Iu=function(M,D,J){if(this.uid=M,D.height!==D.width)throw new RangeError("DEM tiles must be square");if(J&&J!=="mapbox"&&J!=="terrarium")return E('"'+J+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=D.height;var ce=this.dim=D.height-2;this.data=new Uint32Array(D.data.buffer),this.encoding=J||"mapbox";for(var Me=0;Me<ce;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(ce,Me)]=this.data[this._idx(ce-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,ce)]=this.data[this._idx(Me,ce-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ce,-1)]=this.data[this._idx(ce-1,0)],this.data[this._idx(-1,ce)]=this.data[this._idx(0,ce-1)],this.data[this._idx(ce,ce)]=this.data[this._idx(ce-1,ce-1)]};Iu.prototype.get=function(M,D){var J=new Uint8Array(this.data.buffer),ce=4*this._idx(M,D);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(J[ce],J[ce+1],J[ce+2])},Iu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Iu.prototype._idx=function(M,D){if(M<-1||M>=this.dim+1||D<-1||D>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(D+1)*this.stride+(M+1)},Iu.prototype._unpackMapbox=function(M,D,J){return(256*M*256+256*D+J)/10-1e4},Iu.prototype._unpackTerrarium=function(M,D,J){return 256*M+D+J/256-32768},Iu.prototype.getPixels=function(){return new Ho({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Iu.prototype.backfillBorder=function(M,D,J){if(this.dim!==M.dim)throw new Error("dem dimension mismatch");var ce=D*this.dim,Me=D*this.dim+this.dim,Ie=J*this.dim,qe=J*this.dim+this.dim;switch(D){case-1:ce=Me-1;break;case 1:Me=ce+1}switch(J){case-1:Ie=qe-1;break;case 1:qe=Ie+1}for(var tt=-D*this.dim,ht=-J*this.dim,Tt=Ie;Tt<qe;Tt++)for(var Mt=ce;Mt<Me;Mt++)this.data[this._idx(Mt,Tt)]=M.data[this._idx(Mt+tt,Tt+ht)]},Lr("DEMData",Iu);var Td=function(M){this._stringToNumber={},this._numberToString=[];for(var D=0;D<M.length;D++){var J=M[D];this._stringToNumber[J]=D,this._numberToString[D]=J}};Td.prototype.encode=function(M){return this._stringToNumber[M]},Td.prototype.decode=function(M){return this._numberToString[M]};var kd=function(M,D,J,ce,Me){this.type="Feature",this._vectorTileFeature=M,M._z=D,M._x=J,M._y=ce,this.properties=M.properties,this.id=Me},Cg={geometry:{configurable:!0}};Cg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Cg.geometry.set=function(M){this._geometry=M},kd.prototype.toJSON=function(){var M={geometry:this.geometry};for(var D in this)D!=="_geometry"&&D!=="_vectorTileFeature"&&(M[D]=this[D]);return M},Object.defineProperties(kd.prototype,Cg);var If=function(){this.state={},this.stateChanges={},this.deletedStates={}};If.prototype.updateState=function(M,D,J){var ce=String(D);if(this.stateChanges[M]=this.stateChanges[M]||{},this.stateChanges[M][ce]=this.stateChanges[M][ce]||{},c(this.stateChanges[M][ce],J),this.deletedStates[M]===null)for(var Me in this.deletedStates[M]={},this.state[M])Me!==ce&&(this.deletedStates[M][Me]=null);else if(this.deletedStates[M]&&this.deletedStates[M][ce]===null)for(var Ie in this.deletedStates[M][ce]={},this.state[M][ce])J[Ie]||(this.deletedStates[M][ce][Ie]=null);else for(var qe in J)this.deletedStates[M]&&this.deletedStates[M][ce]&&this.deletedStates[M][ce][qe]===null&&delete this.deletedStates[M][ce][qe]},If.prototype.removeFeatureState=function(M,D,J){if(this.deletedStates[M]!==null){var ce=String(D);if(this.deletedStates[M]=this.deletedStates[M]||{},J&&D!==void 0)this.deletedStates[M][ce]!==null&&(this.deletedStates[M][ce]=this.deletedStates[M][ce]||{},this.deletedStates[M][ce][J]=null);else if(D!==void 0)if(this.stateChanges[M]&&this.stateChanges[M][ce])for(J in this.deletedStates[M][ce]={},this.stateChanges[M][ce])this.deletedStates[M][ce][J]=null;else this.deletedStates[M][ce]=null;else this.deletedStates[M]=null}},If.prototype.getState=function(M,D){var J=String(D),ce=this.state[M]||{},Me=this.stateChanges[M]||{},Ie=c({},ce[J],Me[J]);if(this.deletedStates[M]===null)return{};if(this.deletedStates[M]){var qe=this.deletedStates[M][D];if(qe===null)return{};for(var tt in qe)delete Ie[tt]}return Ie},If.prototype.initializeTileState=function(M,D){M.setFeatureState(this.state,D)},If.prototype.coalesceChanges=function(M,D){var J={};for(var ce in this.stateChanges){this.state[ce]=this.state[ce]||{};var Me={};for(var Ie in this.stateChanges[ce])this.state[ce][Ie]||(this.state[ce][Ie]={}),c(this.state[ce][Ie],this.stateChanges[ce][Ie]),Me[Ie]=this.state[ce][Ie];J[ce]=Me}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var tt={};if(this.deletedStates[qe]===null)for(var ht in this.state[qe])tt[ht]={},this.state[qe][ht]={};else for(var Tt in this.deletedStates[qe]){if(this.deletedStates[qe][Tt]===null)this.state[qe][Tt]={};else for(var Mt=0,Bt=Object.keys(this.deletedStates[qe][Tt]);Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];delete this.state[qe][Tt][Gt]}tt[Tt]=this.state[qe][Tt]}J[qe]=J[qe]||{},c(J[qe],tt)}if(this.stateChanges={},this.deletedStates={},Object.keys(J).length!==0)for(var Vt in M)M[Vt].setFeatureState(J,D)};var zu=function(M,D){this.tileID=M,this.x=M.canonical.x,this.y=M.canonical.y,this.z=M.canonical.z,this.grid=new Qs(ai,16,0),this.grid3D=new Qs(ai,16,0),this.featureIndexArray=new Ln,this.promoteId=D};function Ay(M,D,J,ce,Me){return _(M,function(Ie,qe){var tt=D instanceof nl?D.get(qe):null;return tt&&tt.evaluate?tt.evaluate(J,ce,Me):tt})}function My(M){for(var D=1/0,J=1/0,ce=-1/0,Me=-1/0,Ie=0,qe=M;Ie<qe.length;Ie+=1){var tt=qe[Ie];D=Math.min(D,tt.x),J=Math.min(J,tt.y),ce=Math.max(ce,tt.x),Me=Math.max(Me,tt.y)}return{minX:D,minY:J,maxX:ce,maxY:Me}}function Sw(M,D){return D-M}zu.prototype.insert=function(M,D,J,ce,Me,Ie){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(J,ce,Me);for(var tt=Ie?this.grid3D:this.grid,ht=0;ht<D.length;ht++){for(var Tt=D[ht],Mt=[1/0,1/0,-1/0,-1/0],Bt=0;Bt<Tt.length;Bt++){var Gt=Tt[Bt];Mt[0]=Math.min(Mt[0],Gt.x),Mt[1]=Math.min(Mt[1],Gt.y),Mt[2]=Math.max(Mt[2],Gt.x),Mt[3]=Math.max(Mt[3],Gt.y)}Mt[0]<ai&&Mt[1]<ai&&Mt[2]>=0&&Mt[3]>=0&&tt.insert(qe,Mt[0],Mt[1],Mt[2],Mt[3])}},zu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _f.VectorTile(new hd(this.rawTileData)).layers,this.sourceLayerCoder=new Td(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zu.prototype.query=function(M,D,J,ce){var Me=this;this.loadVTLayers();for(var Ie=M.params||{},qe=ai/M.tileSize/M.scale,tt=Fl(Ie.filter),ht=M.queryGeometry,Tt=M.queryPadding*qe,Mt=My(ht),Bt=this.grid.query(Mt.minX-Tt,Mt.minY-Tt,Mt.maxX+Tt,Mt.maxY+Tt),Gt=My(M.cameraQueryGeometry),Vt=0,ln=this.grid3D.query(Gt.minX-Tt,Gt.minY-Tt,Gt.maxX+Tt,Gt.maxY+Tt,function(Xn,$n,lr,xr){return function(vr,Ar,Er,qr,zr){for(var Hr=0,Rr=vr;Hr<Rr.length;Hr+=1){var Ir=Rr[Hr];if(Ar<=Ir.x&&Er<=Ir.y&&qr>=Ir.x&&zr>=Ir.y)return!0}var ri=[new n(Ar,Er),new n(Ar,zr),new n(qr,zr),new n(qr,Er)];if(vr.length>2){for(var Yr=0,Pi=ri;Yr<Pi.length;Yr+=1)if(gu(vr,Pi[Yr]))return!0}for(var Vr=0;Vr<vr.length-1;Vr++)if(e3(vr[Vr],vr[Vr+1],ri))return!0;return!1}(M.cameraQueryGeometry,Xn-Tt,$n-Tt,lr+Tt,xr+Tt)});Vt<ln.length;Vt+=1){var cn=ln[Vt];Bt.push(cn)}Bt.sort(Sw);for(var Mn,Tn={},Bn=function(Xn){var $n=Bt[Xn];if($n!==Mn){Mn=$n;var lr=Me.featureIndexArray.get($n),xr=null;Me.loadMatchingFeature(Tn,lr.bucketIndex,lr.sourceLayerIndex,lr.featureIndex,tt,Ie.layers,Ie.availableImages,D,J,ce,function(vr,Ar,Er){return xr||(xr=os(vr)),Ar.queryIntersectsFeature(ht,vr,Er,xr,Me.z,M.transform,qe,M.pixelPosMatrix)})}},Nn=0;Nn<Bt.length;Nn++)Bn(Nn);return Tn},zu.prototype.loadMatchingFeature=function(M,D,J,ce,Me,Ie,qe,tt,ht,Tt,Mt){var Bt=this.bucketLayerIDs[D];if(!Ie||function(vr,Ar){for(var Er=0;Er<vr.length;Er++)if(Ar.indexOf(vr[Er])>=0)return!0;return!1}(Ie,Bt)){var Gt=this.sourceLayerCoder.decode(J),Vt=this.vtLayers[Gt].feature(ce);if(Me.needGeometry){var ln=Di(Vt,!0);if(!Me.filter(new $r(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!Me.filter(new $r(this.tileID.overscaledZ),Vt))return;for(var cn=this.getId(Vt,Gt),Mn=0;Mn<Bt.length;Mn++){var Tn=Bt[Mn];if(!(Ie&&Ie.indexOf(Tn)<0)){var Bn=tt[Tn];if(Bn){var Nn={};cn!==void 0&&Tt&&(Nn=Tt.getState(Bn.sourceLayer||"_geojsonTileLayer",cn));var Xn=c({},ht[Tn]);Xn.paint=Ay(Xn.paint,Bn.paint,Vt,Nn,qe),Xn.layout=Ay(Xn.layout,Bn.layout,Vt,Nn,qe);var $n=!Mt||Mt(Vt,Bn,Nn);if($n){var lr=new kd(Vt,this.z,this.x,this.y,cn);lr.layer=Xn;var xr=M[Tn];xr===void 0&&(xr=M[Tn]=[]),xr.push({featureIndex:ce,feature:lr,intersectionZ:$n})}}}}}},zu.prototype.lookupSymbolFeatures=function(M,D,J,ce,Me,Ie,qe,tt){var ht={};this.loadVTLayers();for(var Tt=Fl(Me),Mt=0,Bt=M;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];this.loadMatchingFeature(ht,J,ce,Gt,Tt,Ie,qe,tt,D)}return ht},zu.prototype.hasLayer=function(M){for(var D=0,J=this.bucketLayerIDs;D<J.length;D+=1)for(var ce=0,Me=J[D];ce<Me.length;ce+=1)if(M===Me[ce])return!0;return!1},zu.prototype.getId=function(M,D){var J=M.id;if(this.promoteId){var ce=typeof this.promoteId=="string"?this.promoteId:this.promoteId[D];typeof(J=M.properties[ce])=="boolean"&&(J=Number(J))}return J},Lr("FeatureIndex",zu,{omit:["rawTileData","sourceLayerCoder"]});var Ra=function(M,D){this.tileID=M,this.uid=d(),this.uses=0,this.tileSize=D,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ra.prototype.registerFadeDuration=function(M){var D=M+this.timeAdded;D<Q.now()||this.fadeEndTime&&D<this.fadeEndTime||(this.fadeEndTime=D)},Ra.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ra.prototype.loadVectorData=function(M,D,J){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",M){for(var ce in M.featureIndex&&(this.latestFeatureIndex=M.featureIndex,M.rawTileData?(this.latestRawTileData=M.rawTileData,this.latestFeatureIndex.rawTileData=M.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=M.collisionBoxArray,this.buckets=function(Tt,Mt){var Bt={};if(!Mt)return Bt;for(var Gt=function(){var cn=ln[Vt],Mn=cn.layerIds.map(function(Xn){return Mt.getLayer(Xn)}).filter(Boolean);if(Mn.length!==0){cn.layers=Mn,cn.stateDependentLayerIds&&(cn.stateDependentLayers=cn.stateDependentLayerIds.map(function(Xn){return Mn.filter(function($n){return $n.id===Xn})[0]}));for(var Tn=0,Bn=Mn;Tn<Bn.length;Tn+=1){var Nn=Bn[Tn];Bt[Nn.id]=cn}}},Vt=0,ln=Tt;Vt<ln.length;Vt+=1)Gt();return Bt}(M.buckets,D.style),this.hasSymbolBuckets=!1,this.buckets){var Me=this.buckets[ce];if(Me instanceof Ti){if(this.hasSymbolBuckets=!0,!J)break;Me.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var qe=this.buckets[Ie];if(qe instanceof Ti&&qe.hasRTLText){this.hasRTLText=!0,Da.isLoading()||Da.isLoaded()||xl()!=="deferred"||bl();break}}for(var tt in this.queryPadding=0,this.buckets){var ht=this.buckets[tt];this.queryPadding=Math.max(this.queryPadding,D.style.getLayer(tt).queryRadius(ht))}M.imageAtlas&&(this.imageAtlas=M.imageAtlas),M.glyphAtlasImage&&(this.glyphAtlasImage=M.glyphAtlasImage)}else this.collisionBoxArray=new St},Ra.prototype.unloadVectorData=function(){for(var M in this.buckets)this.buckets[M].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ra.prototype.getBucket=function(M){return this.buckets[M.id]},Ra.prototype.upload=function(M){for(var D in this.buckets){var J=this.buckets[D];J.uploadPending()&&J.upload(M)}var ce=M.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Vc(M,this.imageAtlas.image,ce.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Vc(M,this.glyphAtlasImage,ce.ALPHA),this.glyphAtlasImage=null)},Ra.prototype.prepare=function(M){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(M,this.imageAtlasTexture)},Ra.prototype.queryRenderedFeatures=function(M,D,J,ce,Me,Ie,qe,tt,ht,Tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ce,cameraQueryGeometry:Me,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Tt,transform:tt,params:qe,queryPadding:this.queryPadding*ht},M,D,J):{}},Ra.prototype.querySourceFeatures=function(M,D){var J=this.latestFeatureIndex;if(J&&J.rawTileData){var ce=J.loadVTLayers(),Me=D?D.sourceLayer:"",Ie=ce._geojsonTileLayer||ce[Me];if(Ie)for(var qe=Fl(D&&D.filter),tt=this.tileID.canonical,ht=tt.z,Tt=tt.x,Mt=tt.y,Bt={z:ht,x:Tt,y:Mt},Gt=0;Gt<Ie.length;Gt++){var Vt=Ie.feature(Gt);if(qe.needGeometry){var ln=Di(Vt,!0);if(!qe.filter(new $r(this.tileID.overscaledZ),ln,this.tileID.canonical))continue}else if(!qe.filter(new $r(this.tileID.overscaledZ),Vt))continue;var cn=J.getId(Vt,Me),Mn=new kd(Vt,ht,Tt,Mt,cn);Mn.tile=Bt,M.push(Mn)}}},Ra.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ra.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ra.prototype.setExpiryData=function(M){var D=this.expirationTime;if(M.cacheControl){var J=R(M.cacheControl);J["max-age"]&&(this.expirationTime=Date.now()+1e3*J["max-age"])}else M.expires&&(this.expirationTime=new Date(M.expires).getTime());if(this.expirationTime){var ce=Date.now(),Me=!1;if(this.expirationTime>ce)Me=!1;else if(D)if(this.expirationTime<D)Me=!0;else{var Ie=this.expirationTime-D;Ie?this.expirationTime=ce+Math.max(Ie,3e4):Me=!0}else Me=!0;Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ra.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ra.prototype.setFeatureState=function(M,D){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(M).length!==0){var J=this.latestFeatureIndex.loadVTLayers();for(var ce in this.buckets)if(D.style.hasLayer(ce)){var Me=this.buckets[ce],Ie=Me.layers[0].sourceLayer||"_geojsonTileLayer",qe=J[Ie],tt=M[Ie];if(qe&&tt&&Object.keys(tt).length!==0){Me.update(tt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ht=D&&D.style&&D.style.getLayer(ce);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(Me)))}}}},Ra.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ra.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Q.now()},Ra.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ra.prototype.setHoldDuration=function(M){this.symbolFadeHoldUntil=Q.now()+M},Ra.prototype.setDependencies=function(M,D){for(var J={},ce=0,Me=D;ce<Me.length;ce+=1)J[Me[ce]]=!0;this.dependencies[M]=J},Ra.prototype.hasDependency=function(M,D){for(var J=0,ce=M;J<ce.length;J+=1){var Me=ce[J],Ie=this.dependencies[Me];if(Ie){for(var qe=0,tt=D;qe<tt.length;qe+=1)if(Ie[tt[qe]])return!0}}return!1};var oc=r.performance,Sy=function(M){this._marks={start:[M.url,"start"].join("#"),end:[M.url,"end"].join("#"),measure:M.url.toString()},oc.mark(this._marks.start)};Sy.prototype.finish=function(){oc.mark(this._marks.end);var M=oc.getEntriesByName(this._marks.measure);return M.length===0&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),M=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),M},o.Actor=Of,o.AlphaImage=Uc,o.CanonicalTileID=qc,o.CollisionBoxArray=St,o.Color=On,o.DEMData=Iu,o.DataConstantProperty=Pr,o.DictionaryCoder=Td,o.EXTENT=ai,o.ErrorEvent=Ue,o.EvaluationParameters=$r,o.Event=je,o.Evented=st,o.FeatureIndex=zu,o.FillBucket=Wl,o.FillExtrusionBucket=Yl,o.ImageAtlas=jh,o.ImagePosition=dd,o.LineBucket=To,o.LngLat=Gi,o.LngLatBounds=ya,o.MercatorCoordinate=Hc,o.ONE_EM=Va,o.OverscaledTileID=xa,o.Point=n,o.Point$1=n,o.Properties=qi,o.Protobuf=hd,o.RGBAImage=Ho,o.RequestManager=pe,o.RequestPerformance=Sy,o.ResourceType=mt,o.SegmentVector=Gn,o.SourceFeatureState=If,o.StructArrayLayout1ui2=vt,o.StructArrayLayout2f1f2i16=ie,o.StructArrayLayout2i4=Os,o.StructArrayLayout3ui6=we,o.StructArrayLayout4i8=Pu,o.SymbolBucket=Ti,o.Texture=Vc,o.Tile=Ra,o.Transitionable=_o,o.Uniform1f=Xr,o.Uniform1i=Wr,o.Uniform2f=Qr,o.Uniform3f=wi,o.Uniform4f=Ni,o.UniformColor=Ma,o.UniformMatrix4f=va,o.UnwrappedTileID=ky,o.ValidationError=gt,o.WritingMode=zs,o.ZoomHistory=yl,o.add=function(M,D,J){return M[0]=D[0]+J[0],M[1]=D[1]+J[1],M[2]=D[2]+J[2],M},o.addDynamicAttributes=Mg,o.asyncAll=function(M,D,J){if(!M.length)return J(null,[]);var ce=M.length,Me=new Array(M.length),Ie=null;M.forEach(function(qe,tt){D(qe,function(ht,Tt){ht&&(Ie=ht),Me[tt]=Tt,--ce==0&&J(Ie,Me)})})},o.bezier=a,o.bindAll=x,o.browser=Q,o.cacheEntryPossiblyAdded=function(M){++xt>Re&&(M.getActor().send("enforceCacheSizeLimit",Se),xt=0)},o.clamp=u,o.clearTileCache=function(M){var D=r.caches.delete(Te);M&&D.catch(M).then(function(){return M()})},o.clipLine=sy,o.clone=function(M){var D=new Is(16);return D[0]=M[0],D[1]=M[1],D[2]=M[2],D[3]=M[3],D[4]=M[4],D[5]=M[5],D[6]=M[6],D[7]=M[7],D[8]=M[8],D[9]=M[9],D[10]=M[10],D[11]=M[11],D[12]=M[12],D[13]=M[13],D[14]=M[14],D[15]=M[15],D},o.clone$1=S,o.clone$2=function(M){var D=new Is(3);return D[0]=M[0],D[1]=M[1],D[2]=M[2],D},o.collisionCircleLayout=Y3,o.config=$,o.create=function(){var M=new Is(16);return Is!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=0,M[12]=0,M[13]=0,M[14]=0),M[0]=1,M[5]=1,M[10]=1,M[15]=1,M},o.create$1=function(){var M=new Is(9);return Is!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[5]=0,M[6]=0,M[7]=0),M[0]=1,M[4]=1,M[8]=1,M},o.create$2=function(){var M=new Is(4);return Is!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M},o.createCommonjsModule=w,o.createExpression=ts,o.createLayout=Si,o.createStyleLayer=function(M){return M.type==="custom"?new Aw(M):new Mw[M.type](M)},o.cross=function(M,D,J){var ce=D[0],Me=D[1],Ie=D[2],qe=J[0],tt=J[1],ht=J[2];return M[0]=Me*ht-Ie*tt,M[1]=Ie*qe-ce*ht,M[2]=ce*tt-Me*qe,M},o.deepEqual=function M(D,J){if(Array.isArray(D)){if(!Array.isArray(J)||D.length!==J.length)return!1;for(var ce=0;ce<D.length;ce++)if(!M(D[ce],J[ce]))return!1;return!0}if(typeof D=="object"&&D!==null&&J!==null){if(typeof J!="object"||Object.keys(D).length!==Object.keys(J).length)return!1;for(var Me in D)if(!M(D[Me],J[Me]))return!1;return!0}return D===J},o.dot=function(M,D){return M[0]*D[0]+M[1]*D[1]+M[2]*D[2]},o.dot$1=function(M,D){return M[0]*D[0]+M[1]*D[1]+M[2]*D[2]+M[3]*D[3]},o.ease=l,o.emitValidationErrors=Oa,o.endsWith=m,o.enforceCacheSizeLimit=function(M){Ve(),ve&&ve.then(function(D){D.keys().then(function(J){for(var ce=0;ce<J.length-M;ce++)D.delete(J[ce])})})},o.evaluateSizeForFeature=ey,o.evaluateSizeForZoom=ty,o.evaluateVariableOffset=cy,o.evented=za,o.extend=c,o.featureFilter=Fl,o.filterObject=p,o.fromRotation=function(M,D){var J=Math.sin(D),ce=Math.cos(D);return M[0]=ce,M[1]=J,M[2]=0,M[3]=-J,M[4]=ce,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M},o.getAnchorAlignment=wg,o.getAnchorJustification=Ag,o.getArrayBuffer=Ft,o.getImage=Je,o.getJSON=function(M,D){return Rt(c(M,{type:"json"}),D)},o.getRTLTextPluginStatus=xl,o.getReferrer=nt,o.getVideo=function(M,D){var J,ce,Me=r.document.createElement("video");Me.muted=!0,Me.onloadstart=function(){D(null,Me)};for(var Ie=0;Ie<M.length;Ie++){var qe=r.document.createElement("source");J=M[Ie],ce=void 0,(ce=r.document.createElement("a")).href=J,ce.protocol===r.document.location.protocol&&ce.host===r.document.location.host||(Me.crossOrigin="Anonymous"),qe.src=M[Ie],Me.appendChild(qe)}return{cancel:function(){}}},o.identity=lg,o.invert=function(M,D){var J=D[0],ce=D[1],Me=D[2],Ie=D[3],qe=D[4],tt=D[5],ht=D[6],Tt=D[7],Mt=D[8],Bt=D[9],Gt=D[10],Vt=D[11],ln=D[12],cn=D[13],Mn=D[14],Tn=D[15],Bn=J*tt-ce*qe,Nn=J*ht-Me*qe,Xn=J*Tt-Ie*qe,$n=ce*ht-Me*tt,lr=ce*Tt-Ie*tt,xr=Me*Tt-Ie*ht,vr=Mt*cn-Bt*ln,Ar=Mt*Mn-Gt*ln,Er=Mt*Tn-Vt*ln,qr=Bt*Mn-Gt*cn,zr=Bt*Tn-Vt*cn,Hr=Gt*Tn-Vt*Mn,Rr=Bn*Hr-Nn*zr+Xn*qr+$n*Er-lr*Ar+xr*vr;return Rr?(Rr=1/Rr,M[0]=(tt*Hr-ht*zr+Tt*qr)*Rr,M[1]=(Me*zr-ce*Hr-Ie*qr)*Rr,M[2]=(cn*xr-Mn*lr+Tn*$n)*Rr,M[3]=(Gt*lr-Bt*xr-Vt*$n)*Rr,M[4]=(ht*Er-qe*Hr-Tt*Ar)*Rr,M[5]=(J*Hr-Me*Er+Ie*Ar)*Rr,M[6]=(Mn*Xn-ln*xr-Tn*Nn)*Rr,M[7]=(Mt*xr-Gt*Xn+Vt*Nn)*Rr,M[8]=(qe*zr-tt*Er+Tt*vr)*Rr,M[9]=(ce*Er-J*zr-Ie*vr)*Rr,M[10]=(ln*lr-cn*Xn+Tn*Bn)*Rr,M[11]=(Bt*Xn-Mt*lr-Vt*Bn)*Rr,M[12]=(tt*Ar-qe*qr-ht*vr)*Rr,M[13]=(J*qr-ce*Ar+Me*vr)*Rr,M[14]=(cn*Nn-ln*$n-Mn*Bn)*Rr,M[15]=(Mt*$n-Bt*Nn+Gt*Bn)*Rr,M):null},o.isChar=br,o.isMapboxURL=de,o.keysDifference=function(M,D){var J=[];for(var ce in M)ce in D||J.push(ce);return J},o.makeRequest=Rt,o.mapObject=_,o.mercatorXfromLng=_y,o.mercatorYfromLat=wy,o.mercatorZfromAltitude=Ty,o.mul=r3,o.multiply=wm,o.mvt=_f,o.nextPowerOfTwo=function(M){return M<=1?1:Math.pow(2,Math.ceil(Math.log(M)/Math.LN2))},o.normalize=function(M,D){var J=D[0],ce=D[1],Me=D[2],Ie=J*J+ce*ce+Me*Me;return Ie>0&&(Ie=1/Math.sqrt(Ie)),M[0]=D[0]*Ie,M[1]=D[1]*Ie,M[2]=D[2]*Ie,M},o.number=Ur,o.offscreenCanvasSupported=_t,o.ortho=function(M,D,J,ce,Me,Ie,qe){var tt=1/(D-J),ht=1/(ce-Me),Tt=1/(Ie-qe);return M[0]=-2*tt,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*ht,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*Tt,M[11]=0,M[12]=(D+J)*tt,M[13]=(Me+ce)*ht,M[14]=(qe+Ie)*Tt,M[15]=1,M},o.parseGlyphPBF=function(M){return new hd(M).readFields(iw,[])},o.pbf=hd,o.performSymbolLayout=function(M,D,J,ce,Me,Ie,qe){M.createArrays();var tt=512*M.overscaling;M.tilePixelRatio=ai/tt,M.compareText={},M.iconsNeedLinear=!1;var ht=M.layers[0].layout,Tt=M.layers[0]._unevaluatedLayout._values,Mt={};if(M.textSizeData.kind==="composite"){var Bt=M.textSizeData,Gt=Bt.minZoom,Vt=Bt.maxZoom;Mt.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new $r(Gt),qe),Tt["text-size"].possiblyEvaluate(new $r(Vt),qe)]}if(M.iconSizeData.kind==="composite"){var ln=M.iconSizeData,cn=ln.minZoom,Mn=ln.maxZoom;Mt.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new $r(cn),qe),Tt["icon-size"].possiblyEvaluate(new $r(Mn),qe)]}Mt.layoutTextSize=Tt["text-size"].possiblyEvaluate(new $r(M.zoom+1),qe),Mt.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new $r(M.zoom+1),qe),Mt.textMaxSize=Tt["text-size"].possiblyEvaluate(new $r(18));for(var Tn=ht.get("text-line-height")*Va,Bn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",Nn=ht.get("text-keep-upright"),Xn=ht.get("text-size"),$n=function(){var vr=xr[lr],Ar=ht.get("text-font").evaluate(vr,{},qe).join(","),Er=Xn.evaluate(vr,{},qe),qr=Mt.layoutTextSize.evaluate(vr,{},qe),zr=Mt.layoutIconSize.evaluate(vr,{},qe),Hr={horizontal:{},vertical:void 0},Rr=vr.text,Ir=[0,0];if(Rr){var ri=Rr.toString(),Yr=ht.get("text-letter-spacing").evaluate(vr,{},qe)*Va,Pi=function(Zr){for(var oi=0,ta=Zr;oi<ta.length;oi+=1)if(Li=ta[oi].charCodeAt(0),br.Arabic(Li)||br["Arabic Supplement"](Li)||br["Arabic Extended-A"](Li)||br["Arabic Presentation Forms-A"](Li)||br["Arabic Presentation Forms-B"](Li))return!1;var Li;return!0}(ri)?Yr:0,Vr=ht.get("text-anchor").evaluate(vr,{},qe),ki=ht.get("text-variable-anchor");if(!ki){var Fi=ht.get("text-radial-offset").evaluate(vr,{},qe);Ir=Fi?cy(Vr,[Fi*Va,kg]):ht.get("text-offset").evaluate(vr,{},qe).map(function(Zr){return Zr*Va})}var Ui=Bn?"center":ht.get("text-justify").evaluate(vr,{},qe),Vi=ht.get("symbol-placement"),Oi=Vi==="point"?ht.get("text-max-width").evaluate(vr,{},qe)*Va:0,ba=function(){M.allowVerticalPlacement&&Hl(ri)&&(Hr.vertical=gd(Rr,D,J,Me,Ar,Oi,Tn,Vr,"left",Pi,Ir,zs.vertical,!0,Vi,qr,Er))};if(!Bn&&ki){for(var Zi=Ui==="auto"?ki.map(function(Zr){return Ag(Zr)}):[Ui],Fa=!1,$a=0;$a<Zi.length;$a++){var Ha=Zi[$a];if(!Hr.horizontal[Ha])if(Fa)Hr.horizontal[Ha]=Hr.horizontal[0];else{var ko=gd(Rr,D,J,Me,Ar,Oi,Tn,"center",Ha,Pi,Ir,zs.horizontal,!1,Vi,qr,Er);ko&&(Hr.horizontal[Ha]=ko,Fa=ko.positionedLines.length===1)}}ba()}else{Ui==="auto"&&(Ui=Ag(Vr));var qa=gd(Rr,D,J,Me,Ar,Oi,Tn,Vr,Ui,Pi,Ir,zs.horizontal,!1,Vi,qr,Er);qa&&(Hr.horizontal[Ui]=qa),ba(),Hl(ri)&&Bn&&Nn&&(Hr.vertical=gd(Rr,D,J,Me,Ar,Oi,Tn,Vr,Ui,Pi,Ir,zs.vertical,!1,Vi,qr,Er))}}var Sa=void 0,Ga=!1;if(vr.icon&&vr.icon.name){var Ba=ce[vr.icon.name];Ba&&(Sa=function(Zr,oi,ta){var Li=wg(ta),Ki=Li.horizontalAlign,Wi=Li.verticalAlign,ci=oi[0],na=oi[1],Ao=ci-Zr.displaySize[0]*Ki,us=Ao+Zr.displaySize[0],co=na-Zr.displaySize[1]*Wi;return{image:Zr,top:co,bottom:co+Zr.displaySize[1],left:Ao,right:us}}(Me[vr.icon.name],ht.get("icon-offset").evaluate(vr,{},qe),ht.get("icon-anchor").evaluate(vr,{},qe)),Ga=Ba.sdf,M.sdfIcons===void 0?M.sdfIcons=Ba.sdf:M.sdfIcons!==Ba.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ba.pixelRatio!==M.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(M.iconsNeedLinear=!0))}var Ea=hy(Hr.horizontal)||Hr.vertical;M.iconsInText=!!Ea&&Ea.iconsInText,(Ea||Sa)&&function(Zr,oi,ta,Li,Ki,Wi,ci,na,Ao,us,co){var Xl=Wi.textMaxSize.evaluate(oi,{});Xl===void 0&&(Xl=ci);var Du,Na=Zr.layers[0].layout,Kl=Na.get("icon-offset").evaluate(oi,{},co),Al=hy(ta.horizontal),Ml=24,Gc=ci/Ml,Ad=Zr.tilePixelRatio*Gc,Wc=Zr.tilePixelRatio*Xl/Ml,Md=Zr.tilePixelRatio*na,Gh=Zr.tilePixelRatio*Na.get("symbol-spacing"),Pg=Na.get("text-padding")*Zr.tilePixelRatio,Sd=Na.get("icon-padding")*Zr.tilePixelRatio,zf=Na.get("text-max-angle")/180*Math.PI,Ed=Na.get("text-rotation-alignment")==="map"&&Na.get("symbol-placement")!=="point",Ld=Na.get("icon-rotation-alignment")==="map"&&Na.get("symbol-placement")!=="point",Wh=Na.get("symbol-placement"),Og=Gh/2,Yh=Na.get("icon-text-fit");Li&&Yh!=="none"&&(Zr.allowVerticalPlacement&&ta.vertical&&(Du=Qm(Li,ta.vertical,Yh,Na.get("icon-text-fit-padding"),Kl,Gc)),Al&&(Li=Qm(Li,Al,Yh,Na.get("icon-text-fit-padding"),Kl,Gc)));var Yc=function(Ew,Qh){Qh.x<0||Qh.x>=ai||Qh.y<0||Qh.y>=ai||function(ua,Jl,Lw,sc,Bg,Oy,zd,vu,Dd,ep,Rd,Fd,Ng,Iy,tp,zy,Dy,Ry,Fy,By,Ds,Bd,Ny,mu,Cw){var jy,Kc,Ff,Bf,Nf,jf=ua.addToLineVertexArray(Jl,Lw),Uy=0,Vy=0,Hy=0,qy=0,jg=-1,Ug=-1,Ru={},Gy=wr(""),Vg=0,Hg=0;if(vu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Vg=(jy=vu.layout.get("text-offset").evaluate(Ds,{},mu).map(function(rp){return rp*Va}))[0],Hg=jy[1]):(Vg=vu.layout.get("text-radial-offset").evaluate(Ds,{},mu)*Va,Hg=kg),ua.allowVerticalPlacement&&sc.vertical){var Wy=vu.layout.get("text-rotate").evaluate(Ds,{},mu)+90,Pw=sc.vertical;Bf=new bd(Dd,Jl,ep,Rd,Fd,Pw,Ng,Iy,tp,Wy),zd&&(Nf=new bd(Dd,Jl,ep,Rd,Fd,zd,Dy,Ry,tp,Wy))}if(Bg){var qg=vu.layout.get("icon-rotate").evaluate(Ds,{}),Yy=vu.layout.get("icon-text-fit")!=="none",Zy=ly(Bg,qg,Ny,Yy),Gg=zd?ly(zd,qg,Ny,Yy):void 0;Ff=new bd(Dd,Jl,ep,Rd,Fd,Bg,Dy,Ry,!1,qg),Uy=4*Zy.length;var Xy=ua.iconSizeData,np=null;Xy.kind==="source"?(np=[Zl*vu.layout.get("icon-size").evaluate(Ds,{})])[0]>ac&&E(ua.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'):Xy.kind==="composite"&&((np=[Zl*Bd.compositeIconSizes[0].evaluate(Ds,{},mu),Zl*Bd.compositeIconSizes[1].evaluate(Ds,{},mu)])[0]>ac||np[1]>ac)&&E(ua.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'),ua.addSymbols(ua.icon,Zy,np,By,Fy,Ds,!1,Jl,jf.lineStartIndex,jf.lineLength,-1,mu),jg=ua.icon.placedSymbolArray.length-1,Gg&&(Vy=4*Gg.length,ua.addSymbols(ua.icon,Gg,np,By,Fy,Ds,zs.vertical,Jl,jf.lineStartIndex,jf.lineLength,-1,mu),Ug=ua.icon.placedSymbolArray.length-1)}for(var Ky in sc.horizontal){var Nd=sc.horizontal[Ky];if(!Kc){Gy=wr(Nd.text);var Ow=vu.layout.get("text-rotate").evaluate(Ds,{},mu);Kc=new bd(Dd,Jl,ep,Rd,Fd,Nd,Ng,Iy,tp,Ow)}var Jy=Nd.positionedLines.length===1;if(Hy+=fy(ua,Jl,Nd,Oy,vu,tp,Ds,zy,jf,sc.vertical?zs.horizontal:zs.horizontalOnly,Jy?Object.keys(sc.horizontal):[Ky],Ru,jg,Bd,mu),Jy)break}sc.vertical&&(qy+=fy(ua,Jl,sc.vertical,Oy,vu,tp,Ds,zy,jf,zs.vertical,["vertical"],Ru,Ug,Bd,mu));var Iw=Kc?Kc.boxStartIndex:ua.collisionBoxArray.length,zw=Kc?Kc.boxEndIndex:ua.collisionBoxArray.length,Dw=Bf?Bf.boxStartIndex:ua.collisionBoxArray.length,Rw=Bf?Bf.boxEndIndex:ua.collisionBoxArray.length,Fw=Ff?Ff.boxStartIndex:ua.collisionBoxArray.length,Bw=Ff?Ff.boxEndIndex:ua.collisionBoxArray.length,Nw=Nf?Nf.boxStartIndex:ua.collisionBoxArray.length,jw=Nf?Nf.boxEndIndex:ua.collisionBoxArray.length,yu=-1,jd=function(rp,Qy){return rp&&rp.circleDiameter?Math.max(rp.circleDiameter,Qy):Qy};yu=jd(Kc,yu),yu=jd(Bf,yu),yu=jd(Ff,yu);var $y=(yu=jd(Nf,yu))>-1?1:0;$y&&(yu*=Cw/Va),ua.glyphOffsetArray.length>=Ti.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ds.sortKey!==void 0&&ua.addToSortKeyRanges(ua.symbolInstances.length,Ds.sortKey),ua.symbolInstances.emplaceBack(Jl.x,Jl.y,Ru.right>=0?Ru.right:-1,Ru.center>=0?Ru.center:-1,Ru.left>=0?Ru.left:-1,Ru.vertical||-1,jg,Ug,Gy,Iw,zw,Dw,Rw,Fw,Bw,Nw,jw,ep,Hy,qy,Uy,Vy,$y,0,Ng,Vg,Hg,yu)}(Zr,Qh,Ew,ta,Li,Ki,Du,Zr.layers[0],Zr.collisionBoxArray,oi.index,oi.sourceLayerIndex,Zr.index,Ad,Pg,Ed,Ao,Md,Sd,Ld,Kl,oi,Wi,us,co,ci)};if(Wh==="line")for(var Df=0,Cd=sy(oi.geometry,0,0,ai,ai);Df<Cd.length;Df+=1)for(var Pd=Cd[Df],Rf=0,Od=fw(Pd,Gh,zf,ta.vertical||Al,Li,Ml,Wc,Zr.overscaling,ai);Rf<Od.length;Rf+=1){var Id=Od[Rf];Al&&gw(Zr,Al.text,Og,Id)||Yc(Pd,Id)}else if(Wh==="line-center")for(var Zh=0,Xh=oi.geometry;Zh<Xh.length;Zh+=1){var Zc=Xh[Zh];if(Zc.length>1){var Kh=cw(Zc,zf,ta.vertical||Al,Li,Ml,Wc);Kh&&Yc(Zc,Kh)}}else if(oi.type==="Polygon")for(var Xc=0,Jh=gg(oi.geometry,0);Xc<Jh.length;Xc+=1){var $h=Jh[Xc],Ey=pw($h,16);Yc($h[0],new Af(Ey.x,Ey.y,0))}else if(oi.type==="LineString")for(var Ig=0,Ly=oi.geometry;Ig<Ly.length;Ig+=1){var zg=Ly[Ig];Yc(zg,new Af(zg[0].x,zg[0].y,0))}else if(oi.type==="Point")for(var Dg=0,Cy=oi.geometry;Dg<Cy.length;Dg+=1)for(var Rg=0,Py=Cy[Dg];Rg<Py.length;Rg+=1){var Fg=Py[Rg];Yc([Fg],new Af(Fg.x,Fg.y,0))}}(M,vr,Hr,Sa,ce,Mt,qr,zr,Ir,Ga,qe)},lr=0,xr=M.features;lr<xr.length;lr+=1)$n();Ie&&M.generateCollisionDebugBuffers()},o.perspective=function(M,D,J,ce,Me){var Ie,qe=1/Math.tan(D/2);return M[0]=qe/J,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=qe,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,Me!=null&&Me!==1/0?(Ie=1/(ce-Me),M[10]=(Me+ce)*Ie,M[14]=2*Me*ce*Ie):(M[10]=-1,M[14]=-2*ce),M},o.pick=function(M,D){for(var J={},ce=0;ce<D.length;ce++){var Me=D[ce];Me in M&&(J[Me]=M[Me])}return J},o.plugin=Da,o.polygonIntersectsPolygon=jc,o.postMapLoadEvent=ge,o.postTurnstileEvent=ze,o.potpack=Zm,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=Lr,o.registerForPluginStateChange=function(M){return M({pluginStatus:ei,pluginURL:sa}),za.on("pluginStateChange",M),M},o.renderColorRamp=Mm,o.rotate=function(M,D,J){var ce=D[0],Me=D[1],Ie=D[2],qe=D[3],tt=Math.sin(J),ht=Math.cos(J);return M[0]=ce*ht+Ie*tt,M[1]=Me*ht+qe*tt,M[2]=ce*-tt+Ie*ht,M[3]=Me*-tt+qe*ht,M},o.rotateX=function(M,D,J){var ce=Math.sin(J),Me=Math.cos(J),Ie=D[4],qe=D[5],tt=D[6],ht=D[7],Tt=D[8],Mt=D[9],Bt=D[10],Gt=D[11];return D!==M&&(M[0]=D[0],M[1]=D[1],M[2]=D[2],M[3]=D[3],M[12]=D[12],M[13]=D[13],M[14]=D[14],M[15]=D[15]),M[4]=Ie*Me+Tt*ce,M[5]=qe*Me+Mt*ce,M[6]=tt*Me+Bt*ce,M[7]=ht*Me+Gt*ce,M[8]=Tt*Me-Ie*ce,M[9]=Mt*Me-qe*ce,M[10]=Bt*Me-tt*ce,M[11]=Gt*Me-ht*ce,M},o.rotateZ=function(M,D,J){var ce=Math.sin(J),Me=Math.cos(J),Ie=D[0],qe=D[1],tt=D[2],ht=D[3],Tt=D[4],Mt=D[5],Bt=D[6],Gt=D[7];return D!==M&&(M[8]=D[8],M[9]=D[9],M[10]=D[10],M[11]=D[11],M[12]=D[12],M[13]=D[13],M[14]=D[14],M[15]=D[15]),M[0]=Ie*Me+Tt*ce,M[1]=qe*Me+Mt*ce,M[2]=tt*Me+Bt*ce,M[3]=ht*Me+Gt*ce,M[4]=Tt*Me-Ie*ce,M[5]=Mt*Me-qe*ce,M[6]=Bt*Me-tt*ce,M[7]=Gt*Me-ht*ce,M},o.scale=function(M,D,J){var ce=J[0],Me=J[1],Ie=J[2];return M[0]=D[0]*ce,M[1]=D[1]*ce,M[2]=D[2]*ce,M[3]=D[3]*ce,M[4]=D[4]*Me,M[5]=D[5]*Me,M[6]=D[6]*Me,M[7]=D[7]*Me,M[8]=D[8]*Ie,M[9]=D[9]*Ie,M[10]=D[10]*Ie,M[11]=D[11]*Ie,M[12]=D[12],M[13]=D[13],M[14]=D[14],M[15]=D[15],M},o.scale$1=function(M,D,J){return M[0]=D[0]*J,M[1]=D[1]*J,M[2]=D[2]*J,M[3]=D[3]*J,M},o.scale$2=function(M,D,J){return M[0]=D[0]*J,M[1]=D[1]*J,M[2]=D[2]*J,M},o.setCacheLimits=function(M,D){Se=M,Re=D},o.setRTLTextPlugin=function(M,D,J){if(J===void 0&&(J=!1),ei===Bo||ei===lo||ei===is)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=Q.resolveURL(M),ei=Bo,Ps=D,No(),J||bl()},o.sphericalToCartesian=function(M){var D=M[0],J=M[1],ce=M[2];return J+=90,J*=Math.PI/180,ce*=Math.PI/180,{x:D*Math.cos(J)*Math.sin(ce),y:D*Math.sin(J)*Math.sin(ce),z:D*Math.cos(ce)}},o.sqrLen=a3,o.styleSpec=Ke,o.sub=i3,o.symbolSize=uw,o.transformMat3=function(M,D,J){var ce=D[0],Me=D[1],Ie=D[2];return M[0]=ce*J[0]+Me*J[3]+Ie*J[6],M[1]=ce*J[1]+Me*J[4]+Ie*J[7],M[2]=ce*J[2]+Me*J[5]+Ie*J[8],M},o.transformMat4=sd,o.translate=function(M,D,J){var ce,Me,Ie,qe,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn=J[0],Mn=J[1],Tn=J[2];return D===M?(M[12]=D[0]*cn+D[4]*Mn+D[8]*Tn+D[12],M[13]=D[1]*cn+D[5]*Mn+D[9]*Tn+D[13],M[14]=D[2]*cn+D[6]*Mn+D[10]*Tn+D[14],M[15]=D[3]*cn+D[7]*Mn+D[11]*Tn+D[15]):(ce=D[0],Me=D[1],Ie=D[2],qe=D[3],tt=D[4],ht=D[5],Tt=D[6],Mt=D[7],Bt=D[8],Gt=D[9],Vt=D[10],ln=D[11],M[0]=ce,M[1]=Me,M[2]=Ie,M[3]=qe,M[4]=tt,M[5]=ht,M[6]=Tt,M[7]=Mt,M[8]=Bt,M[9]=Gt,M[10]=Vt,M[11]=ln,M[12]=ce*cn+tt*Mn+Bt*Tn+D[12],M[13]=Me*cn+ht*Mn+Gt*Tn+D[13],M[14]=Ie*cn+Tt*Mn+Vt*Tn+D[14],M[15]=qe*cn+Mt*Mn+ln*Tn+D[15]),M},o.triggerPluginCompletionEvent=Ia,o.uniqueId=d,o.validateCustomStyleLayer=function(M){var D=[],J=M.id;return J===void 0&&D.push({message:"layers."+J+': missing required property "id"'}),M.render===void 0&&D.push({message:"layers."+J+': missing required method "render"'}),M.renderingMode&&M.renderingMode!=="2d"&&M.renderingMode!=="3d"&&D.push({message:"layers."+J+': property "renderingMode" must be either "2d" or "3d"'}),D},o.validateLight=$s,o.validateStyle=Fo,o.values=function(M){var D=[];for(var J in M)D.push(M[J]);return D},o.vectorTile=_f,o.version=b,o.warnOnce=E,o.webpSupported=K,o.window=r,o.wrap=h}),A(0,function(o){function w(Ze){var $e=typeof Ze;if($e==="number"||$e==="boolean"||$e==="string"||Ze==null)return JSON.stringify(Ze);if(Array.isArray(Ze)){for(var He="[",Je=0,ft=Ze;Je<ft.length;Je+=1)He+=w(ft[Je])+",";return He+"]"}for(var ot=Object.keys(Ze).sort(),je="{",Ue=0;Ue<ot.length;Ue++)je+=JSON.stringify(ot[Ue])+":"+w(Ze[ot[Ue]])+",";return je+"}"}function b(Ze){for(var $e="",He=0,Je=o.refProperties;He<Je.length;He+=1)$e+="/"+w(Ze[Je[He]]);return $e}var f=function(Ze){this.keyCache={},Ze&&this.replace(Ze)};f.prototype.replace=function(Ze){this._layerConfigs={},this._layers={},this.update(Ze,[])},f.prototype.update=function(Ze,$e){for(var He=this,Je=0,ft=Ze;Je<ft.length;Je+=1){var ot=ft[Je];this._layerConfigs[ot.id]=ot;var je=this._layers[ot.id]=o.createStyleLayer(ot);je._featureFilter=o.featureFilter(je.filter),this.keyCache[ot.id]&&delete this.keyCache[ot.id]}for(var Ue=0,st=$e;Ue<st.length;Ue+=1){var Ke=st[Ue];delete this.keyCache[Ke],delete this._layerConfigs[Ke],delete this._layers[Ke]}this.familiesBySource={};for(var gt=0,yt=function(Dt,Nt){for(var Kt={},un=0;un<Dt.length;un++){var qt=Nt&&Nt[Dt[un].id]||b(Dt[un]);Nt&&(Nt[Dt[un].id]=qt);var Jt=Kt[qt];Jt||(Jt=Kt[qt]=[]),Jt.push(Dt[un])}var Ut=[];for(var zn in Kt)Ut.push(Kt[zn]);return Ut}(o.values(this._layerConfigs),this.keyCache);gt<yt.length;gt+=1){var bt=yt[gt].map(function(Dt){return He._layers[Dt.id]}),dt=bt[0];if(dt.visibility!=="none"){var Lt=dt.source||"",wt=this.familiesBySource[Lt];wt||(wt=this.familiesBySource[Lt]={});var Ct=dt.sourceLayer||"_geojsonTileLayer",zt=wt[Ct];zt||(zt=wt[Ct]=[]),zt.push(bt)}}};var s=function(Ze){var $e={},He=[];for(var Je in Ze){var ft=Ze[Je],ot=$e[Je]={};for(var je in ft){var Ue=ft[+je];if(Ue&&Ue.bitmap.width!==0&&Ue.bitmap.height!==0){var st={x:0,y:0,w:Ue.bitmap.width+2,h:Ue.bitmap.height+2};He.push(st),ot[je]={rect:st,metrics:Ue.metrics}}}}var Ke=o.potpack(He),gt=Ke.w,yt=Ke.h,bt=new o.AlphaImage({width:gt||1,height:yt||1});for(var dt in Ze){var Lt=Ze[dt];for(var wt in Lt){var Ct=Lt[+wt];if(Ct&&Ct.bitmap.width!==0&&Ct.bitmap.height!==0){var zt=$e[dt][wt].rect;o.AlphaImage.copy(Ct.bitmap,bt,{x:0,y:0},{x:zt.x+1,y:zt.y+1},Ct.bitmap)}}}this.image=bt,this.positions=$e};o.register("GlyphAtlas",s);var n=function(Ze){this.tileID=new o.OverscaledTileID(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),this.uid=Ze.uid,this.zoom=Ze.zoom,this.pixelRatio=Ze.pixelRatio,this.tileSize=Ze.tileSize,this.source=Ze.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ze.showCollisionBoxes,this.collectResourceTiming=!!Ze.collectResourceTiming,this.returnDependencies=!!Ze.returnDependencies,this.promoteId=Ze.promoteId};function i(Ze,$e,He){for(var Je=new o.EvaluationParameters($e),ft=0,ot=Ze;ft<ot.length;ft+=1)ot[ft].recalculate(Je,He)}function r(Ze,$e){var He=o.getArrayBuffer(Ze.request,function(Je,ft,ot,je){Je?$e(Je):ft&&$e(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(ft)),rawData:ft,cacheControl:ot,expires:je})});return function(){He.cancel(),$e()}}n.prototype.parse=function(Ze,$e,He,Je,ft){var ot=this;this.status="parsing",this.data=Ze,this.collisionBoxArray=new o.CollisionBoxArray;var je=new o.DictionaryCoder(Object.keys(Ze.layers).sort()),Ue=new o.FeatureIndex(this.tileID,this.promoteId);Ue.bucketLayerIDs=[];var st,Ke,gt,yt,bt={},dt={featureIndex:Ue,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:He},Lt=$e.familiesBySource[this.source];for(var wt in Lt){var Ct=Ze.layers[wt];if(Ct){Ct.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+wt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=je.encode(wt),Dt=[],Nt=0;Nt<Ct.length;Nt++){var Kt=Ct.feature(Nt),un=Ue.getId(Kt,wt);Dt.push({feature:Kt,id:un,index:Nt,sourceLayerIndex:zt})}for(var qt=0,Jt=Lt[wt];qt<Jt.length;qt+=1){var Ut=Jt[qt],zn=Ut[0];zn.minzoom&&this.zoom<Math.floor(zn.minzoom)||zn.maxzoom&&this.zoom>=zn.maxzoom||zn.visibility!=="none"&&(i(Ut,this.zoom,He),(bt[zn.id]=zn.createBucket({index:Ue.bucketLayerIDs.length,layers:Ut,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source})).populate(Dt,dt,this.tileID.canonical),Ue.bucketLayerIDs.push(Ut.map(function(rn){return rn.id})))}}}var An=o.mapObject(dt.glyphDependencies,function(rn){return Object.keys(rn).map(Number)});Object.keys(An).length?Je.send("getGlyphs",{uid:this.uid,stacks:An},function(rn,pn){st||(st=rn,Ke=pn,fn.call(ot))}):Ke={};var mn=Object.keys(dt.iconDependencies);mn.length?Je.send("getImages",{icons:mn,source:this.source,tileID:this.tileID,type:"icons"},function(rn,pn){st||(st=rn,gt=pn,fn.call(ot))}):gt={};var tn=Object.keys(dt.patternDependencies);function fn(){if(st)return ft(st);if(Ke&&gt&&yt){var rn=new s(Ke),pn=new o.ImageAtlas(gt,yt);for(var wn in bt){var kn=bt[wn];kn instanceof o.SymbolBucket?(i(kn.layers,this.zoom,He),o.performSymbolLayout(kn,Ke,rn.positions,gt,pn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):kn.hasPattern&&(kn instanceof o.LineBucket||kn instanceof o.FillBucket||kn instanceof o.FillExtrusionBucket)&&(i(kn.layers,this.zoom,He),kn.addFeatures(dt,this.tileID.canonical,pn.patternPositions))}this.status="done",ft(null,{buckets:o.values(bt).filter(function(Pn){return!Pn.isEmpty()}),featureIndex:Ue,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:rn.image,imageAtlas:pn,glyphMap:this.returnDependencies?Ke:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?rn.positions:null})}}tn.length?Je.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"patterns"},function(rn,pn){st||(st=rn,yt=pn,fn.call(ot))}):yt={},fn.call(this)};var t=function(Ze,$e,He,Je){this.actor=Ze,this.layerIndex=$e,this.availableImages=He,this.loadVectorData=Je||r,this.loading={},this.loaded={}};t.prototype.loadTile=function(Ze,$e){var He=this,Je=Ze.uid;this.loading||(this.loading={});var ft=!!(Ze&&Ze.request&&Ze.request.collectResourceTiming)&&new o.RequestPerformance(Ze.request),ot=this.loading[Je]=new n(Ze);ot.abort=this.loadVectorData(Ze,function(je,Ue){if(delete He.loading[Je],je||!Ue)return ot.status="done",He.loaded[Je]=ot,$e(je);var st=Ue.rawData,Ke={};Ue.expires&&(Ke.expires=Ue.expires),Ue.cacheControl&&(Ke.cacheControl=Ue.cacheControl);var gt={};if(ft){var yt=ft.finish();yt&&(gt.resourceTiming=JSON.parse(JSON.stringify(yt)))}ot.vectorTile=Ue.vectorTile,ot.parse(Ue.vectorTile,He.layerIndex,He.availableImages,He.actor,function(bt,dt){if(bt||!dt)return $e(bt);$e(null,o.extend({rawTileData:st.slice(0)},dt,Ke,gt))}),He.loaded=He.loaded||{},He.loaded[Je]=ot})},t.prototype.reloadTile=function(Ze,$e){var He=this,Je=this.loaded,ft=Ze.uid,ot=this;if(Je&&Je[ft]){var je=Je[ft];je.showCollisionBoxes=Ze.showCollisionBoxes;var Ue=function(st,Ke){var gt=je.reloadCallback;gt&&(delete je.reloadCallback,je.parse(je.vectorTile,ot.layerIndex,He.availableImages,ot.actor,gt)),$e(st,Ke)};je.status==="parsing"?je.reloadCallback=Ue:je.status==="done"&&(je.vectorTile?je.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,Ue):Ue())}},t.prototype.abortTile=function(Ze,$e){var He=this.loading,Je=Ze.uid;He&&He[Je]&&He[Je].abort&&(He[Je].abort(),delete He[Je]),$e()},t.prototype.removeTile=function(Ze,$e){var He=this.loaded,Je=Ze.uid;He&&He[Je]&&delete He[Je],$e()};var a=o.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(Ze,$e){var He=Ze.uid,Je=Ze.encoding,ft=Ze.rawImageData,ot=a&&ft instanceof a?this.getImageData(ft):ft,je=new o.DEMData(He,ot,Je);this.loaded=this.loaded||{},this.loaded[He]=je,$e(null,je)},l.prototype.getImageData=function(Ze){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ze.width,Ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ze.width,this.offscreenCanvas.height=Ze.height,this.offscreenCanvasContext.drawImage(Ze,0,0,Ze.width,Ze.height);var $e=this.offscreenCanvasContext.getImageData(-1,-1,Ze.width+2,Ze.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:$e.width,height:$e.height},$e.data)},l.prototype.removeTile=function(Ze){var $e=this.loaded,He=Ze.uid;$e&&$e[He]&&delete $e[He]};var u=function Ze($e,He){var Je,ft=$e&&$e.type;if(ft==="FeatureCollection")for(Je=0;Je<$e.features.length;Je++)Ze($e.features[Je],He);else if(ft==="GeometryCollection")for(Je=0;Je<$e.geometries.length;Je++)Ze($e.geometries[Je],He);else if(ft==="Feature")Ze($e.geometry,He);else if(ft==="Polygon")h($e.coordinates,He);else if(ft==="MultiPolygon")for(Je=0;Je<$e.coordinates.length;Je++)h($e.coordinates[Je],He);return $e};function h(Ze,$e){if(Ze.length!==0){c(Ze[0],$e);for(var He=1;He<Ze.length;He++)c(Ze[He],!$e)}}function c(Ze,$e){for(var He=0,Je=0,ft=Ze.length,ot=ft-1;Je<ft;ot=Je++)He+=(Ze[Je][0]-Ze[ot][0])*(Ze[ot][1]+Ze[Je][1]);He>=0!=!!$e&&Ze.reverse()}var y=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(Ze){this._feature=Ze,this.extent=o.EXTENT,this.type=Ze.type,this.properties=Ze.tags,"id"in Ze&&!isNaN(Ze.id)&&(this.id=parseInt(Ze.id,10))};d.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Ze=[],$e=0,He=this._feature.geometry;$e<He.length;$e+=1){var Je=He[$e];Ze.push([new o.Point$1(Je[0],Je[1])])}return Ze}for(var ft=[],ot=0,je=this._feature.geometry;ot<je.length;ot+=1){for(var Ue=[],st=0,Ke=je[ot];st<Ke.length;st+=1){var gt=Ke[st];Ue.push(new o.Point$1(gt[0],gt[1]))}ft.push(Ue)}return ft},d.prototype.toGeoJSON=function(Ze,$e,He){return y.call(this,Ze,$e,He)};var v=function(Ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=Ze.length,this._features=Ze};v.prototype.feature=function(Ze){return new d(this._features[Ze])};var g=o.vectorTile.VectorTileFeature,x=m;function m(Ze,$e){this.options=$e||{},this.features=Ze,this.length=Ze.length}function _(Ze,$e){this.id=typeof Ze.id=="number"?Ze.id:void 0,this.type=Ze.type,this.rawGeometry=Ze.type===1?[Ze.geometry]:Ze.geometry,this.properties=Ze.tags,this.extent=$e||4096}m.prototype.feature=function(Ze){return new _(this.features[Ze],this.options.extent)},_.prototype.loadGeometry=function(){var Ze=this.rawGeometry;this.geometry=[];for(var $e=0;$e<Ze.length;$e++){for(var He=Ze[$e],Je=[],ft=0;ft<He.length;ft++)Je.push(new o.Point$1(He[ft][0],He[ft][1]));this.geometry.push(Je)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ze=this.geometry,$e=1/0,He=-1/0,Je=1/0,ft=-1/0,ot=0;ot<Ze.length;ot++)for(var je=Ze[ot],Ue=0;Ue<je.length;Ue++){var st=je[Ue];$e=Math.min($e,st.x),He=Math.max(He,st.x),Je=Math.min(Je,st.y),ft=Math.max(ft,st.y)}return[$e,Je,He,ft]},_.prototype.toGeoJSON=g.prototype.toGeoJSON;var p=O,S=O,T=function(Ze,$e){$e=$e||{};var He={};for(var Je in Ze)He[Je]=new x(Ze[Je].features,$e),He[Je].name=Je,He[Je].version=$e.version,He[Je].extent=$e.extent;return O({layers:He})},E=x;function O(Ze){var $e=new o.pbf;return function(He,Je){for(var ft in He.layers)Je.writeMessage(3,P,He.layers[ft])}(Ze,$e),$e.finish()}function P(Ze,$e){var He;$e.writeVarintField(15,Ze.version||1),$e.writeStringField(1,Ze.name||""),$e.writeVarintField(5,Ze.extent||4096);var Je={keys:[],values:[],keycache:{},valuecache:{}};for(He=0;He<Ze.length;He++)Je.feature=Ze.feature(He),$e.writeMessage(2,I,Je);var ft=Je.keys;for(He=0;He<ft.length;He++)$e.writeStringField(3,ft[He]);var ot=Je.values;for(He=0;He<ot.length;He++)$e.writeMessage(4,Z,ot[He])}function I(Ze,$e){var He=Ze.feature;He.id!==void 0&&$e.writeVarintField(1,He.id),$e.writeMessage(2,R,Ze),$e.writeVarintField(3,He.type),$e.writeMessage(4,j,He)}function R(Ze,$e){var He=Ze.feature,Je=Ze.keys,ft=Ze.values,ot=Ze.keycache,je=Ze.valuecache;for(var Ue in He.properties){var st=ot[Ue];st===void 0&&(Je.push(Ue),st=Je.length-1,ot[Ue]=st),$e.writeVarint(st);var Ke=He.properties[Ue],gt=typeof Ke;gt!=="string"&&gt!=="boolean"&&gt!=="number"&&(Ke=JSON.stringify(Ke));var yt=gt+":"+Ke,bt=je[yt];bt===void 0&&(ft.push(Ke),bt=ft.length-1,je[yt]=bt),$e.writeVarint(bt)}}function H(Ze,$e){return($e<<3)+(7&Ze)}function z(Ze){return Ze<<1^Ze>>31}function j(Ze,$e){for(var He=Ze.loadGeometry(),Je=Ze.type,ft=0,ot=0,je=He.length,Ue=0;Ue<je;Ue++){var st=He[Ue],Ke=1;Je===1&&(Ke=st.length),$e.writeVarint(H(1,Ke));for(var gt=Je===3?st.length-1:st.length,yt=0;yt<gt;yt++){yt===1&&Je!==1&&$e.writeVarint(H(2,gt-1));var bt=st[yt].x-ft,dt=st[yt].y-ot;$e.writeVarint(z(bt)),$e.writeVarint(z(dt)),ft+=bt,ot+=dt}Je===3&&$e.writeVarint(H(7,1))}}function Z(Ze,$e){var He=typeof Ze;He==="string"?$e.writeStringField(1,Ze):He==="boolean"?$e.writeBooleanField(7,Ze):He==="number"&&(Ze%1!=0?$e.writeDoubleField(3,Ze):Ze<0?$e.writeSVarintField(6,Ze):$e.writeVarintField(5,Ze))}function F(Ze,$e,He,Je,ft,ot){if(!(ft-Je<=He)){var je=Je+ft>>1;V(Ze,$e,je,Je,ft,ot%2),F(Ze,$e,He,Je,je-1,ot+1),F(Ze,$e,He,je+1,ft,ot+1)}}function V(Ze,$e,He,Je,ft,ot){for(;ft>Je;){if(ft-Je>600){var je=ft-Je+1,Ue=He-Je+1,st=Math.log(je),Ke=.5*Math.exp(2*st/3),gt=.5*Math.sqrt(st*Ke*(je-Ke)/je)*(Ue-je/2<0?-1:1);V(Ze,$e,He,Math.max(Je,Math.floor(He-Ue*Ke/je+gt)),Math.min(ft,Math.floor(He+(je-Ue)*Ke/je+gt)),ot)}var yt=$e[2*He+ot],bt=Je,dt=ft;for(W(Ze,$e,Je,He),$e[2*ft+ot]>yt&&W(Ze,$e,Je,ft);bt<dt;){for(W(Ze,$e,bt,dt),bt++,dt--;$e[2*bt+ot]<yt;)bt++;for(;$e[2*dt+ot]>yt;)dt--}$e[2*Je+ot]===yt?W(Ze,$e,Je,dt):W(Ze,$e,++dt,ft),dt<=He&&(Je=dt+1),He<=dt&&(ft=dt-1)}}function W(Ze,$e,He,Je){re(Ze,He,Je),re($e,2*He,2*Je),re($e,2*He+1,2*Je+1)}function re(Ze,$e,He){var Je=Ze[$e];Ze[$e]=Ze[He],Ze[He]=Je}function ne(Ze,$e,He,Je){var ft=Ze-He,ot=$e-Je;return ft*ft+ot*ot}p.fromVectorTileJs=S,p.fromGeojsonVt=T,p.GeoJSONWrapper=E;var te=function(Ze){return Ze[0]},Q=function(Ze){return Ze[1]},$=function(Ze,$e,He,Je,ft){$e===void 0&&($e=te),He===void 0&&(He=Q),Je===void 0&&(Je=64),ft===void 0&&(ft=Float64Array),this.nodeSize=Je,this.points=Ze;for(var ot=Ze.length<65536?Uint16Array:Uint32Array,je=this.ids=new ot(Ze.length),Ue=this.coords=new ft(2*Ze.length),st=0;st<Ze.length;st++)je[st]=st,Ue[2*st]=$e(Ze[st]),Ue[2*st+1]=He(Ze[st]);F(je,Ue,Je,0,je.length-1,0)};$.prototype.range=function(Ze,$e,He,Je){return function(ft,ot,je,Ue,st,Ke,gt){for(var yt,bt,dt=[0,ft.length-1,0],Lt=[];dt.length;){var wt=dt.pop(),Ct=dt.pop(),zt=dt.pop();if(Ct-zt<=gt)for(var Dt=zt;Dt<=Ct;Dt++)yt=ot[2*Dt],bt=ot[2*Dt+1],yt>=je&&yt<=st&&bt>=Ue&&bt<=Ke&&Lt.push(ft[Dt]);else{var Nt=Math.floor((zt+Ct)/2);yt=ot[2*Nt],bt=ot[2*Nt+1],yt>=je&&yt<=st&&bt>=Ue&&bt<=Ke&&Lt.push(ft[Nt]);var Kt=(wt+1)%2;(wt===0?je<=yt:Ue<=bt)&&(dt.push(zt),dt.push(Nt-1),dt.push(Kt)),(wt===0?st>=yt:Ke>=bt)&&(dt.push(Nt+1),dt.push(Ct),dt.push(Kt))}}return Lt}(this.ids,this.coords,Ze,$e,He,Je,this.nodeSize)},$.prototype.within=function(Ze,$e,He){return function(Je,ft,ot,je,Ue,st){for(var Ke=[0,Je.length-1,0],gt=[],yt=Ue*Ue;Ke.length;){var bt=Ke.pop(),dt=Ke.pop(),Lt=Ke.pop();if(dt-Lt<=st)for(var wt=Lt;wt<=dt;wt++)ne(ft[2*wt],ft[2*wt+1],ot,je)<=yt&&gt.push(Je[wt]);else{var Ct=Math.floor((Lt+dt)/2),zt=ft[2*Ct],Dt=ft[2*Ct+1];ne(zt,Dt,ot,je)<=yt&&gt.push(Je[Ct]);var Nt=(bt+1)%2;(bt===0?ot-Ue<=zt:je-Ue<=Dt)&&(Ke.push(Lt),Ke.push(Ct-1),Ke.push(Nt)),(bt===0?ot+Ue>=zt:je+Ue>=Dt)&&(Ke.push(Ct+1),Ke.push(dt),Ke.push(Nt))}}return gt}(this.ids,this.coords,Ze,$e,He,this.nodeSize)};var K={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ze){return Ze}},ae=function(Ze){this.options=_e(Object.create(K),Ze),this.trees=new Array(this.options.maxZoom+1)};function ue(Ze,$e,He,Je,ft){return{x:Ze,y:$e,zoom:1/0,id:He,parentId:-1,numPoints:Je,properties:ft}}function se(Ze,$e){var He=Ze.geometry.coordinates,Je=He[0],ft=He[1];return{x:de(Je),y:xe(ft),zoom:1/0,index:$e,parentId:-1}}function he(Ze){return{type:"Feature",id:Ze.id,properties:pe(Ze),geometry:{type:"Point",coordinates:[(Je=Ze.x,360*(Je-.5)),($e=Ze.y,He=(180-360*$e)*Math.PI/180,360*Math.atan(Math.exp(He))/Math.PI-90)]}};var $e,He,Je}function pe(Ze){var $e=Ze.numPoints,He=$e>=1e4?Math.round($e/1e3)+"k":$e>=1e3?Math.round($e/100)/10+"k":$e;return _e(_e({},Ze.properties),{cluster:!0,cluster_id:Ze.id,point_count:$e,point_count_abbreviated:He})}function de(Ze){return Ze/360+.5}function xe(Ze){var $e=Math.sin(Ze*Math.PI/180),He=.5-.25*Math.log((1+$e)/(1-$e))/Math.PI;return He<0?0:He>1?1:He}function _e(Ze,$e){for(var He in $e)Ze[He]=$e[He];return Ze}function be(Ze){return Ze.x}function Le(Ze){return Ze.y}function De(Ze,$e,He,Je){for(var ft,ot=Je,je=He-$e>>1,Ue=He-$e,st=Ze[$e],Ke=Ze[$e+1],gt=Ze[He],yt=Ze[He+1],bt=$e+3;bt<He;bt+=3){var dt=ye(Ze[bt],Ze[bt+1],st,Ke,gt,yt);if(dt>ot)ft=bt,ot=dt;else if(dt===ot){var Lt=Math.abs(bt-je);Lt<Ue&&(ft=bt,Ue=Lt)}}ot>Je&&(ft-$e>3&&De(Ze,$e,ft,Je),Ze[ft+2]=ot,He-ft>3&&De(Ze,ft,He,Je))}function ye(Ze,$e,He,Je,ft,ot){var je=ft-He,Ue=ot-Je;if(je!==0||Ue!==0){var st=((Ze-He)*je+($e-Je)*Ue)/(je*je+Ue*Ue);st>1?(He=ft,Je=ot):st>0&&(He+=je*st,Je+=Ue*st)}return(je=Ze-He)*je+(Ue=$e-Je)*Ue}function le(Ze,$e,He,Je){var ft={id:Ze===void 0?null:Ze,type:$e,geometry:He,tags:Je,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ot){var je=ot.geometry,Ue=ot.type;if(Ue==="Point"||Ue==="MultiPoint"||Ue==="LineString")oe(ot,je);else if(Ue==="Polygon"||Ue==="MultiLineString")for(var st=0;st<je.length;st++)oe(ot,je[st]);else if(Ue==="MultiPolygon")for(st=0;st<je.length;st++)for(var Ke=0;Ke<je[st].length;Ke++)oe(ot,je[st][Ke])}(ft),ft}function oe(Ze,$e){for(var He=0;He<$e.length;He+=3)Ze.minX=Math.min(Ze.minX,$e[He]),Ze.minY=Math.min(Ze.minY,$e[He+1]),Ze.maxX=Math.max(Ze.maxX,$e[He]),Ze.maxY=Math.max(Ze.maxY,$e[He+1])}function ve(Ze,$e,He,Je){if($e.geometry){var ft=$e.geometry.coordinates,ot=$e.geometry.type,je=Math.pow(He.tolerance/((1<<He.maxZoom)*He.extent),2),Ue=[],st=$e.id;if(He.promoteId?st=$e.properties[He.promoteId]:He.generateId&&(st=Je||0),ot==="Point")Ce(ft,Ue);else if(ot==="MultiPoint")for(var Ke=0;Ke<ft.length;Ke++)Ce(ft[Ke],Ue);else if(ot==="LineString")ke(ft,Ue,je,!1);else if(ot==="MultiLineString"){if(He.lineMetrics){for(Ke=0;Ke<ft.length;Ke++)Ue=[],ke(ft[Ke],Ue,je,!1),Ze.push(le(st,"LineString",Ue,$e.properties));return}Ae(ft,Ue,je,!1)}else if(ot==="Polygon")Ae(ft,Ue,je,!0);else{if(ot!=="MultiPolygon"){if(ot==="GeometryCollection"){for(Ke=0;Ke<$e.geometry.geometries.length;Ke++)ve(Ze,{id:st,geometry:$e.geometry.geometries[Ke],properties:$e.properties},He,Je);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ke=0;Ke<ft.length;Ke++){var gt=[];Ae(ft[Ke],gt,je,!0),Ue.push(gt)}}Ze.push(le(st,ot,Ue,$e.properties))}}function Ce(Ze,$e){$e.push(Ee(Ze[0])),$e.push(ze(Ze[1])),$e.push(0)}function ke(Ze,$e,He,Je){for(var ft,ot,je=0,Ue=0;Ue<Ze.length;Ue++){var st=Ee(Ze[Ue][0]),Ke=ze(Ze[Ue][1]);$e.push(st),$e.push(Ke),$e.push(0),Ue>0&&(je+=Je?(ft*Ke-st*ot)/2:Math.sqrt(Math.pow(st-ft,2)+Math.pow(Ke-ot,2))),ft=st,ot=Ke}var gt=$e.length-3;$e[2]=1,De($e,0,gt,He),$e[gt+2]=1,$e.size=Math.abs(je),$e.start=0,$e.end=$e.size}function Ae(Ze,$e,He,Je){for(var ft=0;ft<Ze.length;ft++){var ot=[];ke(Ze[ft],ot,He,Je),$e.push(ot)}}function Ee(Ze){return Ze/360+.5}function ze(Ze){var $e=Math.sin(Ze*Math.PI/180),He=.5-.25*Math.log((1+$e)/(1-$e))/Math.PI;return He<0?0:He>1?1:He}function Fe(Ze,$e,He,Je,ft,ot,je,Ue){if(Je/=$e,ot>=(He/=$e)&&je<Je)return Ze;if(je<He||ot>=Je)return null;for(var st=[],Ke=0;Ke<Ze.length;Ke++){var gt=Ze[Ke],yt=gt.geometry,bt=gt.type,dt=ft===0?gt.minX:gt.minY,Lt=ft===0?gt.maxX:gt.maxY;if(dt>=He&&Lt<Je)st.push(gt);else if(!(Lt<He||dt>=Je)){var wt=[];if(bt==="Point"||bt==="MultiPoint")ge(yt,wt,He,Je,ft);else if(bt==="LineString")Te(yt,wt,He,Je,ft,!1,Ue.lineMetrics);else if(bt==="MultiLineString")Re(yt,wt,He,Je,ft,!1);else if(bt==="Polygon")Re(yt,wt,He,Je,ft,!0);else if(bt==="MultiPolygon")for(var Ct=0;Ct<yt.length;Ct++){var zt=[];Re(yt[Ct],zt,He,Je,ft,!0),zt.length&&wt.push(zt)}if(wt.length){if(Ue.lineMetrics&&bt==="LineString"){for(Ct=0;Ct<wt.length;Ct++)st.push(le(gt.id,bt,wt[Ct],gt.tags));continue}bt!=="LineString"&&bt!=="MultiLineString"||(wt.length===1?(bt="LineString",wt=wt[0]):bt="MultiLineString"),bt!=="Point"&&bt!=="MultiPoint"||(bt=wt.length===3?"Point":"MultiPoint"),st.push(le(gt.id,bt,wt,gt.tags))}}}return st.length?st:null}function ge(Ze,$e,He,Je,ft){for(var ot=0;ot<Ze.length;ot+=3){var je=Ze[ot+ft];je>=He&&je<=Je&&($e.push(Ze[ot]),$e.push(Ze[ot+1]),$e.push(Ze[ot+2]))}}function Te(Ze,$e,He,Je,ft,ot,je){for(var Ue,st,Ke=Se(Ze),gt=ft===0?Ve:We,yt=Ze.start,bt=0;bt<Ze.length-3;bt+=3){var dt=Ze[bt],Lt=Ze[bt+1],wt=Ze[bt+2],Ct=Ze[bt+3],zt=Ze[bt+4],Dt=ft===0?dt:Lt,Nt=ft===0?Ct:zt,Kt=!1;je&&(Ue=Math.sqrt(Math.pow(dt-Ct,2)+Math.pow(Lt-zt,2))),Dt<He?Nt>He&&(st=gt(Ke,dt,Lt,Ct,zt,He),je&&(Ke.start=yt+Ue*st)):Dt>Je?Nt<Je&&(st=gt(Ke,dt,Lt,Ct,zt,Je),je&&(Ke.start=yt+Ue*st)):Pe(Ke,dt,Lt,wt),Nt<He&&Dt>=He&&(st=gt(Ke,dt,Lt,Ct,zt,He),Kt=!0),Nt>Je&&Dt<=Je&&(st=gt(Ke,dt,Lt,Ct,zt,Je),Kt=!0),!ot&&Kt&&(je&&(Ke.end=yt+Ue*st),$e.push(Ke),Ke=Se(Ze)),je&&(yt+=Ue)}var un=Ze.length-3;dt=Ze[un],Lt=Ze[un+1],wt=Ze[un+2],(Dt=ft===0?dt:Lt)>=He&&Dt<=Je&&Pe(Ke,dt,Lt,wt),un=Ke.length-3,ot&&un>=3&&(Ke[un]!==Ke[0]||Ke[un+1]!==Ke[1])&&Pe(Ke,Ke[0],Ke[1],Ke[2]),Ke.length&&$e.push(Ke)}function Se(Ze){var $e=[];return $e.size=Ze.size,$e.start=Ze.start,$e.end=Ze.end,$e}function Re(Ze,$e,He,Je,ft,ot){for(var je=0;je<Ze.length;je++)Te(Ze[je],$e,He,Je,ft,ot,!1)}function Pe(Ze,$e,He,Je){Ze.push($e),Ze.push(He),Ze.push(Je)}function Ve(Ze,$e,He,Je,ft,ot){var je=(ot-$e)/(Je-$e);return Ze.push(ot),Ze.push(He+(ft-He)*je),Ze.push(1),je}function We(Ze,$e,He,Je,ft,ot){var je=(ot-He)/(ft-He);return Ze.push($e+(Je-$e)*je),Ze.push(ot),Ze.push(1),je}function Qe(Ze,$e){for(var He=[],Je=0;Je<Ze.length;Je++){var ft,ot=Ze[Je],je=ot.type;if(je==="Point"||je==="MultiPoint"||je==="LineString")ft=lt(ot.geometry,$e);else if(je==="MultiLineString"||je==="Polygon"){ft=[];for(var Ue=0;Ue<ot.geometry.length;Ue++)ft.push(lt(ot.geometry[Ue],$e))}else if(je==="MultiPolygon")for(ft=[],Ue=0;Ue<ot.geometry.length;Ue++){for(var st=[],Ke=0;Ke<ot.geometry[Ue].length;Ke++)st.push(lt(ot.geometry[Ue][Ke],$e));ft.push(st)}He.push(le(ot.id,je,ft,ot.tags))}return He}function lt(Ze,$e){var He=[];He.size=Ze.size,Ze.start!==void 0&&(He.start=Ze.start,He.end=Ze.end);for(var Je=0;Je<Ze.length;Je+=3)He.push(Ze[Je]+$e,Ze[Je+1],Ze[Je+2]);return He}function ut(Ze,$e){if(Ze.transformed)return Ze;var He,Je,ft,ot=1<<Ze.z,je=Ze.x,Ue=Ze.y;for(He=0;He<Ze.features.length;He++){var st=Ze.features[He],Ke=st.geometry,gt=st.type;if(st.geometry=[],gt===1)for(Je=0;Je<Ke.length;Je+=2)st.geometry.push(xt(Ke[Je],Ke[Je+1],$e,ot,je,Ue));else for(Je=0;Je<Ke.length;Je++){var yt=[];for(ft=0;ft<Ke[Je].length;ft+=2)yt.push(xt(Ke[Je][ft],Ke[Je][ft+1],$e,ot,je,Ue));st.geometry.push(yt)}}return Ze.transformed=!0,Ze}function xt(Ze,$e,He,Je,ft,ot){return[Math.round(He*(Ze*Je-ft)),Math.round(He*($e*Je-ot))]}function _t(Ze,$e,He,Je,ft){for(var ot=$e===ft.maxZoom?0:ft.tolerance/((1<<$e)*ft.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:He,y:Je,z:$e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ue=0;Ue<Ze.length;Ue++){je.numFeatures++,mt(je,Ze[Ue],ot,ft);var st=Ze[Ue].minX,Ke=Ze[Ue].minY,gt=Ze[Ue].maxX,yt=Ze[Ue].maxY;st<je.minX&&(je.minX=st),Ke<je.minY&&(je.minY=Ke),gt>je.maxX&&(je.maxX=gt),yt>je.maxY&&(je.maxY=yt)}return je}function mt(Ze,$e,He,Je){var ft=$e.geometry,ot=$e.type,je=[];if(ot==="Point"||ot==="MultiPoint")for(var Ue=0;Ue<ft.length;Ue+=3)je.push(ft[Ue]),je.push(ft[Ue+1]),Ze.numPoints++,Ze.numSimplified++;else if(ot==="LineString")it(je,ft,Ze,He,!1,!1);else if(ot==="MultiLineString"||ot==="Polygon")for(Ue=0;Ue<ft.length;Ue++)it(je,ft[Ue],Ze,He,ot==="Polygon",Ue===0);else if(ot==="MultiPolygon")for(var st=0;st<ft.length;st++){var Ke=ft[st];for(Ue=0;Ue<Ke.length;Ue++)it(je,Ke[Ue],Ze,He,!0,Ue===0)}if(je.length){var gt=$e.tags||null;if(ot==="LineString"&&Je.lineMetrics){for(var yt in gt={},$e.tags)gt[yt]=$e.tags[yt];gt.mapbox_clip_start=ft.start/ft.size,gt.mapbox_clip_end=ft.end/ft.size}var bt={geometry:je,type:ot==="Polygon"||ot==="MultiPolygon"?3:ot==="LineString"||ot==="MultiLineString"?2:1,tags:gt};$e.id!==null&&(bt.id=$e.id),Ze.features.push(bt)}}function it(Ze,$e,He,Je,ft,ot){var je=Je*Je;if(Je>0&&$e.size<(ft?je:Je))He.numPoints+=$e.length/3;else{for(var Ue=[],st=0;st<$e.length;st+=3)(Je===0||$e[st+2]>je)&&(He.numSimplified++,Ue.push($e[st]),Ue.push($e[st+1])),He.numPoints++;ft&&function(Ke,gt){for(var yt=0,bt=0,dt=Ke.length,Lt=dt-2;bt<dt;Lt=bt,bt+=2)yt+=(Ke[bt]-Ke[Lt])*(Ke[bt+1]+Ke[Lt+1]);if(yt>0===gt)for(bt=0,dt=Ke.length;bt<dt/2;bt+=2){var wt=Ke[bt],Ct=Ke[bt+1];Ke[bt]=Ke[dt-2-bt],Ke[bt+1]=Ke[dt-1-bt],Ke[dt-2-bt]=wt,Ke[dt-1-bt]=Ct}}(Ue,ot),Ze.push(Ue)}}function nt(Ze,$e){var He=($e=this.options=function(ft,ot){for(var je in ot)ft[je]=ot[je];return ft}(Object.create(this.options),$e)).debug;if(He&&console.time("preprocess data"),$e.maxZoom<0||$e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($e.promoteId&&$e.generateId)throw new Error("promoteId and generateId cannot be used together.");var Je=function(ft,ot){var je=[];if(ft.type==="FeatureCollection")for(var Ue=0;Ue<ft.features.length;Ue++)ve(je,ft.features[Ue],ot,Ue);else ft.type==="Feature"?ve(je,ft,ot):ve(je,{geometry:ft},ot);return je}(Ze,$e);this.tiles={},this.tileCoords=[],He&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$e.indexMaxZoom,$e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Je=function(ft,ot){var je=ot.buffer/ot.extent,Ue=ft,st=Fe(ft,1,-1-je,je,0,-1,2,ot),Ke=Fe(ft,1,1-je,2+je,0,-1,2,ot);return(st||Ke)&&(Ue=Fe(ft,1,-je,1+je,0,-1,2,ot)||[],st&&(Ue=Qe(st,1).concat(Ue)),Ke&&(Ue=Ue.concat(Qe(Ke,-1)))),Ue}(Je,$e)).length&&this.splitTile(Je,0,0,0),He&&(Je.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Et(Ze,$e,He){return 32*((1<<Ze)*He+$e)+Ze}function Rt(Ze,$e){var He=Ze.tileID.canonical;if(!this._geoJSONIndex)return $e(null,null);var Je=this._geoJSONIndex.getTile(He.z,He.x,He.y);if(!Je)return $e(null,null);var ft=new v(Je.features),ot=p(ft);ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),$e(null,{vectorTile:ft,rawData:ot.buffer})}ae.prototype.load=function(Ze){var $e=this.options,He=$e.log,Je=$e.minZoom,ft=$e.maxZoom,ot=$e.nodeSize;He&&console.time("total time");var je="prepare "+Ze.length+" points";He&&console.time(je),this.points=Ze;for(var Ue=[],st=0;st<Ze.length;st++)Ze[st].geometry&&Ue.push(se(Ze[st],st));this.trees[ft+1]=new $(Ue,be,Le,ot,Float32Array),He&&console.timeEnd(je);for(var Ke=ft;Ke>=Je;Ke--){var gt=+Date.now();Ue=this._cluster(Ue,Ke),this.trees[Ke]=new $(Ue,be,Le,ot,Float32Array),He&&console.log("z%d: %d clusters in %dms",Ke,Ue.length,+Date.now()-gt)}return He&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(Ze,$e){var He=((Ze[0]+180)%360+360)%360-180,Je=Math.max(-90,Math.min(90,Ze[1])),ft=Ze[2]===180?180:((Ze[2]+180)%360+360)%360-180,ot=Math.max(-90,Math.min(90,Ze[3]));if(Ze[2]-Ze[0]>=360)He=-180,ft=180;else if(He>ft){var je=this.getClusters([He,Je,180,ot],$e),Ue=this.getClusters([-180,Je,ft,ot],$e);return je.concat(Ue)}for(var st=this.trees[this._limitZoom($e)],Ke=[],gt=0,yt=st.range(de(He),xe(ot),de(ft),xe(Je));gt<yt.length;gt+=1){var bt=yt[gt],dt=st.points[bt];Ke.push(dt.numPoints?he(dt):this.points[dt.index])}return Ke},ae.prototype.getChildren=function(Ze){var $e=this._getOriginId(Ze),He=this._getOriginZoom(Ze),Je="No cluster with the specified id.",ft=this.trees[He];if(!ft)throw new Error(Je);var ot=ft.points[$e];if(!ot)throw new Error(Je);for(var je=this.options.radius/(this.options.extent*Math.pow(2,He-1)),Ue=[],st=0,Ke=ft.within(ot.x,ot.y,je);st<Ke.length;st+=1){var gt=Ke[st],yt=ft.points[gt];yt.parentId===Ze&&Ue.push(yt.numPoints?he(yt):this.points[yt.index])}if(Ue.length===0)throw new Error(Je);return Ue},ae.prototype.getLeaves=function(Ze,$e,He){$e=$e||10,He=He||0;var Je=[];return this._appendLeaves(Je,Ze,$e,He,0),Je},ae.prototype.getTile=function(Ze,$e,He){var Je=this.trees[this._limitZoom(Ze)],ft=Math.pow(2,Ze),ot=this.options,je=ot.extent,Ue=ot.radius/je,st=(He-Ue)/ft,Ke=(He+1+Ue)/ft,gt={features:[]};return this._addTileFeatures(Je.range(($e-Ue)/ft,st,($e+1+Ue)/ft,Ke),Je.points,$e,He,ft,gt),$e===0&&this._addTileFeatures(Je.range(1-Ue/ft,st,1,Ke),Je.points,ft,He,ft,gt),$e===ft-1&&this._addTileFeatures(Je.range(0,st,Ue/ft,Ke),Je.points,-1,He,ft,gt),gt.features.length?gt:null},ae.prototype.getClusterExpansionZoom=function(Ze){for(var $e=this._getOriginZoom(Ze)-1;$e<=this.options.maxZoom;){var He=this.getChildren(Ze);if($e++,He.length!==1)break;Ze=He[0].properties.cluster_id}return $e},ae.prototype._appendLeaves=function(Ze,$e,He,Je,ft){for(var ot=0,je=this.getChildren($e);ot<je.length;ot+=1){var Ue=je[ot],st=Ue.properties;if(st&&st.cluster?ft+st.point_count<=Je?ft+=st.point_count:ft=this._appendLeaves(Ze,st.cluster_id,He,Je,ft):ft<Je?ft++:Ze.push(Ue),Ze.length===He)break}return ft},ae.prototype._addTileFeatures=function(Ze,$e,He,Je,ft,ot){for(var je=0,Ue=Ze;je<Ue.length;je+=1){var st=$e[Ue[je]],Ke=st.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(st.x*ft-He)),Math.round(this.options.extent*(st.y*ft-Je))]],tags:Ke?pe(st):this.points[st.index].properties},yt=void 0;Ke?yt=st.id:this.options.generateId?yt=st.index:this.points[st.index].id&&(yt=this.points[st.index].id),yt!==void 0&&(gt.id=yt),ot.features.push(gt)}},ae.prototype._limitZoom=function(Ze){return Math.max(this.options.minZoom,Math.min(+Ze,this.options.maxZoom+1))},ae.prototype._cluster=function(Ze,$e){for(var He=[],Je=this.options,ft=Je.radius,ot=Je.extent,je=Je.reduce,Ue=Je.minPoints,st=ft/(ot*Math.pow(2,$e)),Ke=0;Ke<Ze.length;Ke++){var gt=Ze[Ke];if(!(gt.zoom<=$e)){gt.zoom=$e;for(var yt=this.trees[$e+1],bt=yt.within(gt.x,gt.y,st),dt=gt.numPoints||1,Lt=dt,wt=0,Ct=bt;wt<Ct.length;wt+=1){var zt=Ct[wt],Dt=yt.points[zt];Dt.zoom>$e&&(Lt+=Dt.numPoints||1)}if(Lt>=Ue){for(var Nt=gt.x*dt,Kt=gt.y*dt,un=je&&dt>1?this._map(gt,!0):null,qt=(Ke<<5)+($e+1)+this.points.length,Jt=0,Ut=bt;Jt<Ut.length;Jt+=1){var zn=Ut[Jt],An=yt.points[zn];if(!(An.zoom<=$e)){An.zoom=$e;var mn=An.numPoints||1;Nt+=An.x*mn,Kt+=An.y*mn,An.parentId=qt,je&&(un||(un=this._map(gt,!0)),je(un,this._map(An)))}}gt.parentId=qt,He.push(ue(Nt/Lt,Kt/Lt,qt,Lt,un))}else if(He.push(gt),Lt>1)for(var tn=0,fn=bt;tn<fn.length;tn+=1){var rn=fn[tn],pn=yt.points[rn];pn.zoom<=$e||(pn.zoom=$e,He.push(pn))}}}return He},ae.prototype._getOriginId=function(Ze){return Ze-this.points.length>>5},ae.prototype._getOriginZoom=function(Ze){return(Ze-this.points.length)%32},ae.prototype._map=function(Ze,$e){if(Ze.numPoints)return $e?_e({},Ze.properties):Ze.properties;var He=this.points[Ze.index].properties,Je=this.options.map(He);return $e&&Je===He?_e({},Je):Je},nt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},nt.prototype.splitTile=function(Ze,$e,He,Je,ft,ot,je){for(var Ue=[Ze,$e,He,Je],st=this.options,Ke=st.debug;Ue.length;){Je=Ue.pop(),He=Ue.pop(),$e=Ue.pop(),Ze=Ue.pop();var gt=1<<$e,yt=Et($e,He,Je),bt=this.tiles[yt];if(!bt&&(Ke>1&&console.time("creation"),bt=this.tiles[yt]=_t(Ze,$e,He,Je,st),this.tileCoords.push({z:$e,x:He,y:Je}),Ke)){Ke>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$e,He,Je,bt.numFeatures,bt.numPoints,bt.numSimplified),console.timeEnd("creation"));var dt="z"+$e;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(bt.source=Ze,ft){if($e===st.maxZoom||$e===ft)continue;var Lt=1<<ft-$e;if(He!==Math.floor(ot/Lt)||Je!==Math.floor(je/Lt))continue}else if($e===st.indexMaxZoom||bt.numPoints<=st.indexMaxPoints)continue;if(bt.source=null,Ze.length!==0){Ke>1&&console.time("clipping");var wt,Ct,zt,Dt,Nt,Kt,un=.5*st.buffer/st.extent,qt=.5-un,Jt=.5+un,Ut=1+un;wt=Ct=zt=Dt=null,Nt=Fe(Ze,gt,He-un,He+Jt,0,bt.minX,bt.maxX,st),Kt=Fe(Ze,gt,He+qt,He+Ut,0,bt.minX,bt.maxX,st),Ze=null,Nt&&(wt=Fe(Nt,gt,Je-un,Je+Jt,1,bt.minY,bt.maxY,st),Ct=Fe(Nt,gt,Je+qt,Je+Ut,1,bt.minY,bt.maxY,st),Nt=null),Kt&&(zt=Fe(Kt,gt,Je-un,Je+Jt,1,bt.minY,bt.maxY,st),Dt=Fe(Kt,gt,Je+qt,Je+Ut,1,bt.minY,bt.maxY,st),Kt=null),Ke>1&&console.timeEnd("clipping"),Ue.push(wt||[],$e+1,2*He,2*Je),Ue.push(Ct||[],$e+1,2*He,2*Je+1),Ue.push(zt||[],$e+1,2*He+1,2*Je),Ue.push(Dt||[],$e+1,2*He+1,2*Je+1)}}},nt.prototype.getTile=function(Ze,$e,He){var Je=this.options,ft=Je.extent,ot=Je.debug;if(Ze<0||Ze>24)return null;var je=1<<Ze,Ue=Et(Ze,$e=($e%je+je)%je,He);if(this.tiles[Ue])return ut(this.tiles[Ue],ft);ot>1&&console.log("drilling down to z%d-%d-%d",Ze,$e,He);for(var st,Ke=Ze,gt=$e,yt=He;!st&&Ke>0;)Ke--,gt=Math.floor(gt/2),yt=Math.floor(yt/2),st=this.tiles[Et(Ke,gt,yt)];return st&&st.source?(ot>1&&console.log("found parent tile z%d-%d-%d",Ke,gt,yt),ot>1&&console.time("drilling down"),this.splitTile(st.source,Ke,gt,yt,Ze,$e,He),ot>1&&console.timeEnd("drilling down"),this.tiles[Ue]?ut(this.tiles[Ue],ft):null):null};var Ft=function(Ze){function $e(He,Je,ft,ot){Ze.call(this,He,Je,ft,Rt),ot&&(this.loadGeoJSON=ot)}return Ze&&($e.__proto__=Ze),$e.prototype=Object.create(Ze&&Ze.prototype),$e.prototype.constructor=$e,$e.prototype.loadData=function(He,Je){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Je,this._pendingLoadDataParams=He,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},$e.prototype._loadData=function(){var He=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Je=this._pendingCallback,ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ot=!!(ft&&ft.request&&ft.request.collectResourceTiming)&&new o.RequestPerformance(ft.request);this.loadGeoJSON(ft,function(je,Ue){if(je||!Ue)return Je(je);if(typeof Ue!="object")return Je(new Error("Input data given to '"+ft.source+"' is not a valid GeoJSON object."));u(Ue,!0);try{if(ft.filter){var st=o.createExpression(ft.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(st.result==="error")throw new Error(st.value.map(function(bt){return bt.key+": "+bt.message}).join(", "));var Ke=Ue.features.filter(function(bt){return st.value.evaluate({zoom:0},bt)});Ue={type:"FeatureCollection",features:Ke}}He._geoJSONIndex=ft.cluster?new ae(function(bt){var dt=bt.superclusterOptions,Lt=bt.clusterProperties;if(!Lt||!dt)return dt;for(var wt={},Ct={},zt={accumulated:null,zoom:0},Dt={properties:null},Nt=Object.keys(Lt),Kt=0,un=Nt;Kt<un.length;Kt+=1){var qt=un[Kt],Jt=Lt[qt],Ut=Jt[0],zn=Jt[1],An=o.createExpression(zn),mn=o.createExpression(typeof Ut=="string"?[Ut,["accumulated"],["get",qt]]:Ut);wt[qt]=An.value,Ct[qt]=mn.value}return dt.map=function(tn){Dt.properties=tn;for(var fn={},rn=0,pn=Nt;rn<pn.length;rn+=1){var wn=pn[rn];fn[wn]=wt[wn].evaluate(zt,Dt)}return fn},dt.reduce=function(tn,fn){Dt.properties=fn;for(var rn=0,pn=Nt;rn<pn.length;rn+=1){var wn=pn[rn];zt.accumulated=tn[wn],tn[wn]=Ct[wn].evaluate(zt,Dt)}},dt}(ft)).load(Ue.features):function(bt,dt){return new nt(bt,dt)}(Ue,ft.geojsonVtOptions)}catch(bt){return Je(bt)}He.loaded={};var gt={};if(ot){var yt=ot.finish();yt&&(gt.resourceTiming={},gt.resourceTiming[ft.source]=JSON.parse(JSON.stringify(yt)))}Je(null,gt)})}},$e.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},$e.prototype.reloadTile=function(He,Je){var ft=this.loaded,ot=He.uid;return ft&&ft[ot]?Ze.prototype.reloadTile.call(this,He,Je):this.loadTile(He,Je)},$e.prototype.loadGeoJSON=function(He,Je){if(He.request)o.getJSON(He.request,Je);else{if(typeof He.data!="string")return Je(new Error("Input data given to '"+He.source+"' is not a valid GeoJSON object."));try{return Je(null,JSON.parse(He.data))}catch{return Je(new Error("Input data given to '"+He.source+"' is not a valid GeoJSON object."))}}},$e.prototype.removeSource=function(He,Je){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Je()},$e.prototype.getClusterExpansionZoom=function(He,Je){try{Je(null,this._geoJSONIndex.getClusterExpansionZoom(He.clusterId))}catch(ft){Je(ft)}},$e.prototype.getClusterChildren=function(He,Je){try{Je(null,this._geoJSONIndex.getChildren(He.clusterId))}catch(ft){Je(ft)}},$e.prototype.getClusterLeaves=function(He,Je){try{Je(null,this._geoJSONIndex.getLeaves(He.clusterId,He.limit,He.offset))}catch(ft){Je(ft)}},$e}(t),Pt=function(Ze){var $e=this;this.self=Ze,this.actor=new o.Actor(Ze,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:t,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(He,Je){if($e.workerSourceTypes[He])throw new Error('Worker source with name "'+He+'" already registered.');$e.workerSourceTypes[He]=Je},this.self.registerRTLTextPlugin=function(He){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=He.applyArabicShaping,o.plugin.processBidirectionalText=He.processBidirectionalText,o.plugin.processStyledBidirectionalText=He.processStyledBidirectionalText}};return Pt.prototype.setReferrer=function(Ze,$e){this.referrer=$e},Pt.prototype.setImages=function(Ze,$e,He){for(var Je in this.availableImages[Ze]=$e,this.workerSources[Ze]){var ft=this.workerSources[Ze][Je];for(var ot in ft)ft[ot].availableImages=$e}He()},Pt.prototype.setLayers=function(Ze,$e,He){this.getLayerIndex(Ze).replace($e),He()},Pt.prototype.updateLayers=function(Ze,$e,He){this.getLayerIndex(Ze).update($e.layers,$e.removedIds),He()},Pt.prototype.loadTile=function(Ze,$e,He){this.getWorkerSource(Ze,$e.type,$e.source).loadTile($e,He)},Pt.prototype.loadDEMTile=function(Ze,$e,He){this.getDEMWorkerSource(Ze,$e.source).loadTile($e,He)},Pt.prototype.reloadTile=function(Ze,$e,He){this.getWorkerSource(Ze,$e.type,$e.source).reloadTile($e,He)},Pt.prototype.abortTile=function(Ze,$e,He){this.getWorkerSource(Ze,$e.type,$e.source).abortTile($e,He)},Pt.prototype.removeTile=function(Ze,$e,He){this.getWorkerSource(Ze,$e.type,$e.source).removeTile($e,He)},Pt.prototype.removeDEMTile=function(Ze,$e){this.getDEMWorkerSource(Ze,$e.source).removeTile($e)},Pt.prototype.removeSource=function(Ze,$e,He){if(this.workerSources[Ze]&&this.workerSources[Ze][$e.type]&&this.workerSources[Ze][$e.type][$e.source]){var Je=this.workerSources[Ze][$e.type][$e.source];delete this.workerSources[Ze][$e.type][$e.source],Je.removeSource!==void 0?Je.removeSource($e,He):He()}},Pt.prototype.loadWorkerSource=function(Ze,$e,He){try{this.self.importScripts($e.url),He()}catch(Je){He(Je.toString())}},Pt.prototype.syncRTLPluginState=function(Ze,$e,He){try{o.plugin.setState($e);var Je=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Je!=null){this.self.importScripts(Je);var ft=o.plugin.isParsed();He(ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+Je),ft)}}catch(ot){He(ot.toString())}},Pt.prototype.getAvailableImages=function(Ze){var $e=this.availableImages[Ze];return $e||($e=[]),$e},Pt.prototype.getLayerIndex=function(Ze){var $e=this.layerIndexes[Ze];return $e||($e=this.layerIndexes[Ze]=new f),$e},Pt.prototype.getWorkerSource=function(Ze,$e,He){var Je=this;if(this.workerSources[Ze]||(this.workerSources[Ze]={}),this.workerSources[Ze][$e]||(this.workerSources[Ze][$e]={}),!this.workerSources[Ze][$e][He]){var ft={send:function(ot,je,Ue){Je.actor.send(ot,je,Ue,Ze)}};this.workerSources[Ze][$e][He]=new this.workerSourceTypes[$e](ft,this.getLayerIndex(Ze),this.getAvailableImages(Ze))}return this.workerSources[Ze][$e][He]},Pt.prototype.getDEMWorkerSource=function(Ze,$e){return this.demWorkerSources[Ze]||(this.demWorkerSources[Ze]={}),this.demWorkerSources[Ze][$e]||(this.demWorkerSources[Ze][$e]=new l),this.demWorkerSources[Ze][$e]},Pt.prototype.enforceCacheSizeLimit=function(Ze,$e){o.enforceCacheSizeLimit($e)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Pt(self)),Pt}),A(0,function(o){var w=o.createCommonjsModule(function(N){function Y(q){return!G(q)}function G(q){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ie,fe,we=new Blob([""],{type:"text/javascript"}),Oe=URL.createObjectURL(we);try{fe=new Worker(Oe),ie=!0}catch{ie=!1}return fe&&fe.terminate(),URL.revokeObjectURL(Oe),ie}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ie=document.createElement("canvas");ie.width=ie.height=1;var fe=ie.getContext("2d");if(!fe)return!1;var we=fe.getImageData(0,0,1,1);return we&&we.width===ie.width}()?(ee=q&&q.failIfMajorPerformanceCaveat,L[ee]===void 0&&(L[ee]=function(ie){var fe=function(Oe){var Be=document.createElement("canvas"),Ge=Object.create(Y.webGLContextAttributes);return Ge.failIfMajorPerformanceCaveat=Oe,Be.probablySupportsContext?Be.probablySupportsContext("webgl",Ge)||Be.probablySupportsContext("experimental-webgl",Ge):Be.supportsContext?Be.supportsContext("webgl",Ge)||Be.supportsContext("experimental-webgl",Ge):Be.getContext("webgl",Ge)||Be.getContext("experimental-webgl",Ge)}(ie);if(!fe)return!1;var we=fe.createShader(fe.VERTEX_SHADER);return!(!we||fe.isContextLost())&&(fe.shaderSource(we,"void main() {}"),fe.compileShader(we),fe.getShaderParameter(we,fe.COMPILE_STATUS)===!0)}(ee)),L[ee]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ee}N.exports?N.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=G);var L={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(N,Y,G){var L=o.window.document.createElement(N);return Y!==void 0&&(L.className=Y),G&&G.appendChild(L),L},createNS:function(N,Y){return o.window.document.createElementNS(N,Y)}},f=o.window.document&&o.window.document.documentElement.style;function s(N){if(!f)return N[0];for(var Y=0;Y<N.length;Y++)if(N[Y]in f)return N[Y];return N[0]}var n,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){f&&i&&(n=f[i],f[i]="none")},b.enableDrag=function(){f&&i&&(f[i]=n)};var r=s(["transform","WebkitTransform"]);b.setTransform=function(N,Y){N.style[r]=Y};var t=!1;try{var a=Object.defineProperty({},"passive",{get:function(){t=!0}});o.window.addEventListener("test",a,a),o.window.removeEventListener("test",a,a)}catch{t=!1}b.addEventListener=function(N,Y,G,L){L===void 0&&(L={}),"passive"in L&&t?N.addEventListener(Y,G,L):N.addEventListener(Y,G,L.capture)},b.removeEventListener=function(N,Y,G,L){L===void 0&&(L={}),"passive"in L&&t?N.removeEventListener(Y,G,L):N.removeEventListener(Y,G,L.capture)};var l=function(N){N.preventDefault(),N.stopPropagation(),o.window.removeEventListener("click",l,!0)};function u(N){var Y=N.userImage;return!!(Y&&Y.render&&Y.render())&&(N.data.replace(new Uint8Array(Y.data.buffer)),!0)}b.suppressClick=function(){o.window.addEventListener("click",l,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(N,Y){var G=N.getBoundingClientRect();return new o.Point(Y.clientX-G.left-N.clientLeft,Y.clientY-G.top-N.clientTop)},b.touchPos=function(N,Y){for(var G=N.getBoundingClientRect(),L=[],q=0;q<Y.length;q++)L.push(new o.Point(Y[q].clientX-G.left-N.clientLeft,Y[q].clientY-G.top-N.clientTop));return L},b.mouseButton=function(N){return o.window.InstallTrigger!==void 0&&N.button===2&&N.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:N.button},b.remove=function(N){N.parentNode&&N.parentNode.removeChild(N)};var h=function(N){function Y(){N.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var L=0,q=this.requestors;L<q.length;L+=1){var ee=q[L],ie=ee.ids,fe=ee.callback;this._notify(ie,fe)}this.requestors=[]}},Y.prototype.getImage=function(G){return this.images[G]},Y.prototype.addImage=function(G,L){this._validate(G,L)&&(this.images[G]=L)},Y.prototype._validate=function(G,L){var q=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),q=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),q=!1),this._validateContent(L.content,L)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),q=!1),q},Y.prototype._validateStretch=function(G,L){if(!G)return!0;for(var q=0,ee=0,ie=G;ee<ie.length;ee+=1){var fe=ie[ee];if(fe[0]<q||fe[1]<fe[0]||L<fe[1])return!1;q=fe[1]}return!0},Y.prototype._validateContent=function(G,L){return!(G&&(G.length!==4||G[0]<0||L.data.width<G[0]||G[1]<0||L.data.height<G[1]||G[2]<0||L.data.width<G[2]||G[3]<0||L.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},Y.prototype.updateImage=function(G,L){var q=this.images[G];L.version=q.version+1,this.images[G]=L,this.updatedImages[G]=!0},Y.prototype.removeImage=function(G){var L=this.images[G];delete this.images[G],delete this.patterns[G],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(G,L){var q=!0;if(!this.isLoaded())for(var ee=0,ie=G;ee<ie.length;ee+=1){var fe=ie[ee];this.images[fe]||(q=!1)}this.isLoaded()||q?this._notify(G,L):this.requestors.push({ids:G,callback:L})},Y.prototype._notify=function(G,L){for(var q={},ee=0,ie=G;ee<ie.length;ee+=1){var fe=ie[ee];this.images[fe]||this.fire(new o.Event("styleimagemissing",{id:fe}));var we=this.images[fe];we?q[fe]={data:we.data.clone(),pixelRatio:we.pixelRatio,sdf:we.sdf,version:we.version,stretchX:we.stretchX,stretchY:we.stretchY,content:we.content,hasRenderCallback:!!(we.userImage&&we.userImage.render)}:o.warnOnce('Image "'+fe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,q)},Y.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},Y.prototype.getPattern=function(G){var L=this.patterns[G],q=this.getImage(G);if(!q)return null;if(L&&L.position.version===q.version)return L.position;if(L)L.position.version=q.version;else{var ee={w:q.data.width+2,h:q.data.height+2,x:0,y:0},ie=new o.ImagePosition(ee,q);this.patterns[G]={bin:ee,position:ie}}return this._updatePatternAtlas(),this.patterns[G].position},Y.prototype.bind=function(G){var L=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(G,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var G=[];for(var L in this.patterns)G.push(this.patterns[L].bin);var q=o.potpack(G),ee=q.w,ie=q.h,fe=this.atlasImage;for(var we in fe.resize({width:ee||1,height:ie||1}),this.patterns){var Oe=this.patterns[we].bin,Be=Oe.x+1,Ge=Oe.y+1,Ye=this.images[we].data,at=Ye.width,pt=Ye.height;o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be,y:Ge},{width:at,height:pt}),o.RGBAImage.copy(Ye,fe,{x:0,y:pt-1},{x:Be,y:Ge-1},{width:at,height:1}),o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be,y:Ge+pt},{width:at,height:1}),o.RGBAImage.copy(Ye,fe,{x:at-1,y:0},{x:Be-1,y:Ge},{width:1,height:pt}),o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be+at,y:Ge},{width:1,height:pt})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(G){for(var L=0,q=G;L<q.length;L+=1){var ee=q[L];if(!this.callbackDispatchedThisFrame[ee]){this.callbackDispatchedThisFrame[ee]=!0;var ie=this.images[ee];u(ie)&&this.updateImage(ee,ie)}}},Y}(o.Evented),c=v,y=v,d=1e20;function v(N,Y,G,L,q,ee){this.fontSize=N||24,this.buffer=Y===void 0?3:Y,this.cutoff=L||.25,this.fontFamily=q||"sans-serif",this.fontWeight=ee||"normal",this.radius=G||8;var ie=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ie,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ie*ie),this.gridInner=new Float64Array(ie*ie),this.f=new Float64Array(ie),this.d=new Float64Array(ie),this.z=new Float64Array(ie+1),this.v=new Int16Array(ie),this.middle=Math.round(ie/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(N,Y,G,L,q,ee,ie){for(var fe=0;fe<Y;fe++){for(var we=0;we<G;we++)L[we]=N[we*Y+fe];for(x(L,q,ee,ie,G),we=0;we<G;we++)N[we*Y+fe]=q[we]}for(we=0;we<G;we++){for(fe=0;fe<Y;fe++)L[fe]=N[we*Y+fe];for(x(L,q,ee,ie,Y),fe=0;fe<Y;fe++)N[we*Y+fe]=Math.sqrt(q[fe])}}function x(N,Y,G,L,q){G[0]=0,L[0]=-d,L[1]=+d;for(var ee=1,ie=0;ee<q;ee++){for(var fe=(N[ee]+ee*ee-(N[G[ie]]+G[ie]*G[ie]))/(2*ee-2*G[ie]);fe<=L[ie];)ie--,fe=(N[ee]+ee*ee-(N[G[ie]]+G[ie]*G[ie]))/(2*ee-2*G[ie]);G[++ie]=ee,L[ie]=fe,L[ie+1]=+d}for(ee=0,ie=0;ee<q;ee++){for(;L[ie+1]<ee;)ie++;Y[ee]=(ee-G[ie])*(ee-G[ie])+N[G[ie]]}}v.prototype.draw=function(N){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(N,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var q=Y.data[4*L+3]/255;this.gridOuter[L]=q===1?0:q===0?d:Math.pow(Math.max(0,.5-q),2),this.gridInner[L]=q===1?d:q===0?0:Math.pow(Math.max(0,q-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var ee=this.gridOuter[L]-this.gridInner[L];G[L]=Math.max(0,Math.min(255,Math.round(255-255*(ee/this.radius+this.cutoff))))}return G},c.default=y;var m=function(N,Y){this.requestManager=N,this.localIdeographFontFamily=Y,this.entries={}};m.prototype.setURL=function(N){this.url=N},m.prototype.getGlyphs=function(N,Y){var G=this,L=[];for(var q in N)for(var ee=0,ie=N[q];ee<ie.length;ee+=1){var fe=ie[ee];L.push({stack:q,id:fe})}o.asyncAll(L,function(we,Oe){var Be=we.stack,Ge=we.id,Ye=G.entries[Be];Ye||(Ye=G.entries[Be]={glyphs:{},requests:{},ranges:{}});var at=Ye.glyphs[Ge];if(at===void 0){if(at=G._tinySDF(Ye,Be,Ge))return Ye.glyphs[Ge]=at,void Oe(null,{stack:Be,id:Ge,glyph:at});var pt=Math.floor(Ge/256);if(256*pt>65535)Oe(new Error("glyphs > 65535 not supported"));else if(Ye.ranges[pt])Oe(null,{stack:Be,id:Ge,glyph:at});else{var vt=Ye.requests[pt];vt||(vt=Ye.requests[pt]=[],m.loadGlyphRange(Be,pt,G.url,G.requestManager,function(kt,Ot){if(Ot){for(var St in Ot)G._doesCharSupportLocalGlyph(+St)||(Ye.glyphs[+St]=Ot[+St]);Ye.ranges[pt]=!0}for(var jt=0,It=vt;jt<It.length;jt+=1)(0,It[jt])(kt,Ot);delete Ye.requests[pt]})),vt.push(function(kt,Ot){kt?Oe(kt):Ot&&Oe(null,{stack:Be,id:Ge,glyph:Ot[Ge]||null})})}}else Oe(null,{stack:Be,id:Ge,glyph:at})},function(we,Oe){if(we)Y(we);else if(Oe){for(var Be={},Ge=0,Ye=Oe;Ge<Ye.length;Ge+=1){var at=Ye[Ge],pt=at.stack,vt=at.id,kt=at.glyph;(Be[pt]||(Be[pt]={}))[vt]=kt&&{id:kt.id,bitmap:kt.bitmap.clone(),metrics:kt.metrics}}Y(null,Be)}})},m.prototype._doesCharSupportLocalGlyph=function(N){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](N)||o.isChar["Hangul Syllables"](N)||o.isChar.Hiragana(N)||o.isChar.Katakana(N))},m.prototype._tinySDF=function(N,Y,G){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(G)){var q=N.tinySDF;if(!q){var ee="400";/bold/i.test(Y)?ee="900":/medium/i.test(Y)?ee="500":/light/i.test(Y)&&(ee="200"),q=N.tinySDF=new m.TinySDF(24,3,8,.25,L,ee)}return{id:G,bitmap:new o.AlphaImage({width:30,height:30},q.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(N,Y,G,L,q){var ee=256*Y,ie=ee+255,fe=L.transformRequest(L.normalizeGlyphsURL(G).replace("{fontstack}",N).replace("{range}",ee+"-"+ie),o.ResourceType.Glyphs);o.getArrayBuffer(fe,function(we,Oe){if(we)q(we);else if(Oe){for(var Be={},Ge=0,Ye=o.parseGlyphPBF(Oe);Ge<Ye.length;Ge+=1){var at=Ye[Ge];Be[at.id]=at}q(null,Be)}})},m.TinySDF=c;var _=function(){this.specification=o.styleSpec.light.position};_.prototype.possiblyEvaluate=function(N,Y){return o.sphericalToCartesian(N.expression.evaluate(Y))},_.prototype.interpolate=function(N,Y,G){return{x:o.number(N.x,Y.x,G),y:o.number(N.y,Y.y,G),z:o.number(N.z,Y.z,G)}};var p=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new _,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),S="-transition",T=function(N){function Y(G){N.call(this),this._transitionable=new o.Transitionable(p),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(G,L){if(L===void 0&&(L={}),!this._validate(o.validateLight,G,L))for(var q in G){var ee=G[q];o.endsWith(q,S)?this._transitionable.setTransition(q.slice(0,-11),ee):this._transitionable.setValue(q,ee)}},Y.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},Y.prototype._validate=function(G,L,q){return(!q||q.validate!==!1)&&o.emitValidationErrors(this,G.call(o.validateStyle,o.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},Y}(o.Evented),E=function(N,Y){this.width=N,this.height=Y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(N,Y){var G=N.join(",")+String(Y);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(N,Y)),this.dashEntry[G]},E.prototype.getDashRanges=function(N,Y,G){var L=[],q=N.length%2==1?-N[N.length-1]*G:0,ee=N[0]*G,ie=!0;L.push({left:q,right:ee,isDash:ie,zeroLength:N[0]===0});for(var fe=N[0],we=1;we<N.length;we++){ie=!ie;var Oe=N[we];q=fe*G,ee=(fe+=Oe)*G,L.push({left:q,right:ee,isDash:ie,zeroLength:Oe===0})}return L},E.prototype.addRoundDash=function(N,Y,G){for(var L=Y/2,q=-G;q<=G;q++)for(var ee=this.nextRow+G+q,ie=this.width*ee,fe=0,we=N[fe],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=N[++fe]);var Be=Math.abs(Oe-we.left),Ge=Math.abs(Oe-we.right),Ye=Math.min(Be,Ge),at=void 0,pt=q/G*(L+1);if(we.isDash){var vt=L-Math.abs(pt);at=Math.sqrt(Ye*Ye+vt*vt)}else at=L-Math.sqrt(Ye*Ye+pt*pt);this.data[ie+Oe]=Math.max(0,Math.min(255,at+128))}},E.prototype.addRegularDash=function(N){for(var Y=N.length-1;Y>=0;--Y){var G=N[Y],L=N[Y+1];G.zeroLength?N.splice(Y,1):L&&L.isDash===G.isDash&&(L.left=G.left,N.splice(Y,1))}var q=N[0],ee=N[N.length-1];q.isDash===ee.isDash&&(q.left=ee.left-this.width,ee.right=q.right+this.width);for(var ie=this.width*this.nextRow,fe=0,we=N[fe],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=N[++fe]);var Be=Math.abs(Oe-we.left),Ge=Math.abs(Oe-we.right),Ye=Math.min(Be,Ge),at=we.isDash?Ye:-Ye;this.data[ie+Oe]=Math.max(0,Math.min(255,at+128))}},E.prototype.addDash=function(N,Y){var G=Y?7:0,L=2*G+1;if(this.nextRow+L>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var q=0,ee=0;ee<N.length;ee++)q+=N[ee];if(q!==0){var ie=this.width/q,fe=this.getDashRanges(N,this.width,ie);Y?this.addRoundDash(fe,ie,G):this.addRegularDash(fe)}var we={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:q};return this.nextRow+=L,this.dirty=!0,we},E.prototype.bind=function(N){var Y=N.gl;this.texture?(Y.bindTexture(Y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,this.width,this.height,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.width,this.height,0,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))};var O=function N(Y,G){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var L=this.workerPool.acquire(this.id),q=0;q<L.length;q++){var ee=L[q],ie=new N.Actor(ee,G,this.id);ie.name="Worker "+q,this.actors.push(ie)}};function P(N,Y,G){var L=function(q,ee){if(q)return G(q);if(ee){var ie=o.pick(o.extend(ee,N),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ee.vector_layers&&(ie.vectorLayers=ee.vector_layers,ie.vectorLayerIds=ie.vectorLayers.map(function(fe){return fe.id})),ie.tiles=Y.canonicalizeTileset(ie,N.url),G(null,ie)}};return N.url?o.getJSON(Y.transformRequest(Y.normalizeSourceURL(N.url),o.ResourceType.Source),L):o.browser.frame(function(){return L(null,N)})}O.prototype.broadcast=function(N,Y,G){G=G||function(){},o.asyncAll(this.actors,function(L,q){L.send(N,Y,q)},G)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(N){N.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=o.Actor;var I=function(N,Y,G){this.bounds=o.LngLatBounds.convert(this.validateBounds(N)),this.minzoom=Y||0,this.maxzoom=G||24};I.prototype.validateBounds=function(N){return Array.isArray(N)&&N.length===4?[Math.max(-180,N[0]),Math.max(-90,N[1]),Math.min(180,N[2]),Math.min(90,N[3])]:[-180,-90,180,90]},I.prototype.contains=function(N){var Y=Math.pow(2,N.z),G=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*Y),L=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*Y),q=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*Y),ee=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*Y);return N.x>=G&&N.x<q&&N.y>=L&&N.y<ee};var R=function(N){function Y(G,L,q,ee){if(N.call(this),this.id=G,this.dispatcher=q,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(L,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ee)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,q){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new o.ErrorEvent(L)):q&&(o.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),o.postTurnstileEvent(q.tiles,G.map._requestManager._customAccessToken),o.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setSourceProperty=function(G){this._tileJSONRequest&&this._tileJSONRequest.cancel(),G(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},Y.prototype.setTiles=function(G){var L=this;return this.setSourceProperty(function(){L._options.tiles=G}),this},Y.prototype.setUrl=function(G){var L=this;return this.setSourceProperty(function(){L.url=G,L._options.url=G}),this},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return o.extend({},this._options)},Y.prototype.loadTile=function(G,L){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),ee={request:this.map._requestManager.transformRequest(q,o.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ie(fe,we){return delete G.request,G.aborted?L(null):fe&&fe.status!==404?L(fe):(we&&we.resourceTiming&&(G.resourceTiming=we.resourceTiming),this.map._refreshExpiredTiles&&we&&G.setExpiryData(we),G.loadVectorData(we,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}ee.request.collectResourceTiming=this._collectResourceTiming,G.actor&&G.state!=="expired"?G.state==="loading"?G.reloadCallback=L:G.request=G.actor.send("reloadTile",ee,ie.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",ee,ie.bind(this)))},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),H=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.dispatcher=q,this.setEventedParent(ee),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},L),o.extend(this,o.pick(L,["url","scheme","tileSize"]))}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,q){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new o.ErrorEvent(L)):q&&(o.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),o.postTurnstileEvent(q.tiles),o.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return o.extend({},this._options)},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.loadTile=function(G,L){var q=this,ee=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=o.getImage(this.map._requestManager.transformRequest(ee,o.ResourceType.Tile),function(ie,fe){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ie)G.state="errored",L(ie);else if(fe){q.map._refreshExpiredTiles&&G.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var we=q.map.painter.context,Oe=we.gl;G.texture=q.map.painter.getTileTexture(fe.width),G.texture?G.texture.update(fe,{useMipmap:!0}):(G.texture=new o.Texture(we,fe,Oe.RGBA,{useMipmap:!0}),G.texture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),we.extTextureFilterAnisotropic&&Oe.texParameterf(Oe.TEXTURE_2D,we.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,we.extTextureFilterAnisotropicMax)),G.state="loaded",o.cacheEntryPossiblyAdded(q.dispatcher),L(null)}})},Y.prototype.abortTile=function(G,L){G.request&&(G.request.cancel(),delete G.request),L()},Y.prototype.unloadTile=function(G,L){G.texture&&this.map.painter.saveTileTexture(G.texture),L()},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),z=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(G,L){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ee(ie,fe){ie&&(G.state="errored",L(ie)),fe&&(G.dem=fe,G.needsHillshadePrepare=!0,G.state="loaded",L(null))}G.request=o.getImage(this.map._requestManager.transformRequest(q,o.ResourceType.Tile),(function(ie,fe){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ie)G.state="errored",L(ie);else if(fe){this.map._refreshExpiredTiles&&G.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var we=o.window.ImageBitmap&&fe instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?fe:o.browser.getImageData(fe,1),Oe={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:we,encoding:this.encoding};G.actor&&G.state!=="expired"||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",Oe,ee.bind(this)))}}).bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},Y.prototype._getNeighboringTiles=function(G){var L=G.canonical,q=Math.pow(2,L.z),ee=(L.x-1+q)%q,ie=L.x===0?G.wrap-1:G.wrap,fe=(L.x+1+q)%q,we=L.x+1===q?G.wrap+1:G.wrap,Oe={};return Oe[new o.OverscaledTileID(G.overscaledZ,ie,L.z,ee,L.y).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y).key]={backfilled:!1},L.y>0&&(Oe[new o.OverscaledTileID(G.overscaledZ,ie,L.z,ee,L.y-1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y-1).key]={backfilled:!1}),L.y+1<q&&(Oe[new o.OverscaledTileID(G.overscaledZ,ie,L.z,ee,L.y+1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y+1).key]={backfilled:!1}),Oe},Y.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},Y}(H),j=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=q.getActor(),this.setEventedParent(ee),this._data=L.data,this._options=o.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],L.maxzoom!==void 0&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var ie=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(L.buffer!==void 0?L.buffer:128)*ie,tolerance:(L.tolerance!==void 0?L.tolerance:.375)*ie,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:L.clusterMaxZoom!==void 0?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:o.EXTENT,radius:(L.clusterRadius||50)*ie,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)G.fire(new o.ErrorEvent(L));else{var q={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(q.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new o.Event("data",q))}})},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setData=function(G){var L=this;return this._data=G,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(q){if(q)L.fire(new o.ErrorEvent(q));else{var ee={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&(ee.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new o.Event("data",ee))}}),this},Y.prototype.getClusterExpansionZoom=function(G,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterChildren=function(G,L){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterLeaves=function(G,L,q,ee){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:L,offset:q},ee),this},Y.prototype._updateWorkerData=function(G){var L=this;this._loaded=!1;var q=o.extend({},this.workerOptions),ee=this._data;typeof ee=="string"?(q.request=this.map._requestManager.transformRequest(o.browser.resolveURL(ee),o.ResourceType.Source),q.request.collectResourceTiming=this._collectResourceTiming):q.data=JSON.stringify(ee),this.actor.send(this.type+".loadData",q,function(ie,fe){L._removed||fe&&fe.abandoned||(L._loaded=!0,fe&&fe.resourceTiming&&fe.resourceTiming[L.id]&&(L._resourceTiming=fe.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:q.source},null),G(ie))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(G,L){var q=this,ee=G.actor?"reloadTile":"loadTile";G.actor=this.actor;var ie={type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};G.request=this.actor.send(ee,ie,function(fe,we){return delete G.request,G.unloadVectorData(),G.aborted?L(null):fe?L(fe):(G.loadVectorData(we,q.map.painter,ee==="reloadTile"),L(null))})},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},Y.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),Z=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.dispatcher=q,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ee),this.options=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(G,L){var q=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(ee,ie){q._loaded=!0,ee?q.fire(new o.ErrorEvent(ee)):ie&&(q.image=ie,G&&(q.coordinates=G),L&&L(),q._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(G){var L=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){L.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setCoordinates=function(G){var L=this;this.coordinates=G;var q=G.map(o.MercatorCoordinate.fromLngLat);this.tileID=function(ie){for(var fe=1/0,we=1/0,Oe=-1/0,Be=-1/0,Ge=0,Ye=ie;Ge<Ye.length;Ge+=1){var at=Ye[Ge];fe=Math.min(fe,at.x),we=Math.min(we,at.y),Oe=Math.max(Oe,at.x),Be=Math.max(Be,at.y)}var pt=Oe-fe,vt=Be-we,kt=Math.max(pt,vt),Ot=Math.max(0,Math.floor(-Math.log(kt)/Math.LN2)),St=Math.pow(2,Ot);return new o.CanonicalTileID(Ot,Math.floor((fe+Oe)/2*St),Math.floor((we+Be)/2*St))}(q),this.minzoom=this.maxzoom=this.tileID.z;var ee=q.map(function(ie){return L.tileID.getTilePoint(ie)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(ee[0].x,ee[0].y,0,0),this._boundsArray.emplaceBack(ee[1].x,ee[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(ee[3].x,ee[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(ee[2].x,ee[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var G=this.map.painter.context,L=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(G,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[q];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},Y.prototype.loadTile=function(G,L){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},L(null)):(G.state="errored",L(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),V=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),this.roundZoom=!0,this.type="video",this.options=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1;var L=this.options;this.urls=[];for(var q=0,ee=L.urls;q<ee.length;q+=1){var ie=ee[q];this.urls.push(this.map._requestManager.transformRequest(ie,o.ResourceType.Source).url)}o.getVideo(this.urls,function(fe,we){G._loaded=!0,fe?G.fire(new o.ErrorEvent(fe)):we&&(G.video=we,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(G){if(this.video){var L=this.video.seekable;G<L.start(0)||G>L.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=G}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var G=this.map.painter.context,L=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(G,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[q];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(F),W=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),L.coordinates?Array.isArray(L.coordinates)&&L.coordinates.length===4&&!L.coordinates.some(function(ie){return!Array.isArray(ie)||ie.length!==2||ie.some(function(fe){return typeof fe!="number"})})||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'missing required property "coordinates"'))),L.animate&&typeof L.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),L.canvas?typeof L.canvas=="string"||L.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=L,this.animate=L.animate===void 0||L.animate}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var L=this.map.painter.context,q=L.gl;for(var ee in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(L,this.canvas,q.RGBA,{premultiply:!0}),this.tiles){var ie=this.tiles[ee];ie.state!=="loaded"&&(ie.state="loaded",ie.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var G=0,L=[this.canvas.width,this.canvas.height];G<L.length;G+=1){var q=L[G];if(isNaN(q)||q<=0)return!0}return!1},Y}(F),re={vector:R,raster:H,"raster-dem":z,geojson:j,video:V,image:F,canvas:W};function ne(N,Y){var G=o.identity([]);return o.translate(G,G,[1,1,0]),o.scale(G,G,[.5*N.width,.5*N.height,1]),o.multiply(G,G,N.calculatePosMatrix(Y.toUnwrapped()))}function te(N,Y,G,L,q,ee){var ie=function(vt,kt,Ot){if(vt)for(var St=0,jt=vt;St<jt.length;St+=1){var It=kt[jt[St]];if(It&&It.source===Ot&&It.type==="fill-extrusion")return!0}else for(var $t in kt){var Zt=kt[$t];if(Zt.source===Ot&&Zt.type==="fill-extrusion")return!0}return!1}(q&&q.layers,Y,N.id),fe=ee.maxPitchScaleFactor(),we=N.tilesIn(L,fe,ie);we.sort(Q);for(var Oe=[],Be=0,Ge=we;Be<Ge.length;Be+=1){var Ye=Ge[Be];Oe.push({wrappedTileID:Ye.tileID.wrapped().key,queryResults:Ye.tile.queryRenderedFeatures(Y,G,N._state,Ye.queryGeometry,Ye.cameraQueryGeometry,Ye.scale,q,ee,fe,ne(N.transform,Ye.tileID))})}var at=function(vt){for(var kt={},Ot={},St=0,jt=vt;St<jt.length;St+=1){var It=jt[St],$t=It.queryResults,Zt=It.wrappedTileID,Ht=Ot[Zt]=Ot[Zt]||{};for(var vn in $t)for(var bn=$t[vn],Ln=Ht[vn]=Ht[vn]||{},Rn=kt[vn]=kt[vn]||[],Gn=0,or=bn;Gn<or.length;Gn+=1){var hr=or[Gn];Ln[hr.featureIndex]||(Ln[hr.featureIndex]=!0,Rn.push(hr))}}return kt}(Oe);for(var pt in at)at[pt].forEach(function(vt){var kt=vt.feature,Ot=N.getFeatureState(kt.layer["source-layer"],kt.id);kt.source=kt.layer.source,kt.layer["source-layer"]&&(kt.sourceLayer=kt.layer["source-layer"]),kt.state=Ot});return at}function Q(N,Y){var G=N.tileID,L=Y.tileID;return G.overscaledZ-L.overscaledZ||G.canonical.y-L.canonical.y||G.wrap-L.wrap||G.canonical.x-L.canonical.x}var $=function(N,Y){this.max=N,this.onRemove=Y,this.reset()};$.prototype.reset=function(){for(var N in this.data)for(var Y=0,G=this.data[N];Y<G.length;Y+=1){var L=G[Y];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},$.prototype.add=function(N,Y,G){var L=this,q=N.wrapped().key;this.data[q]===void 0&&(this.data[q]=[]);var ee={value:Y,timeout:void 0};if(G!==void 0&&(ee.timeout=setTimeout(function(){L.remove(N,ee)},G)),this.data[q].push(ee),this.order.push(q),this.order.length>this.max){var ie=this._getAndRemoveByKey(this.order[0]);ie&&this.onRemove(ie)}return this},$.prototype.has=function(N){return N.wrapped().key in this.data},$.prototype.getAndRemove=function(N){return this.has(N)?this._getAndRemoveByKey(N.wrapped().key):null},$.prototype._getAndRemoveByKey=function(N){var Y=this.data[N].shift();return Y.timeout&&clearTimeout(Y.timeout),this.data[N].length===0&&delete this.data[N],this.order.splice(this.order.indexOf(N),1),Y.value},$.prototype.getByKey=function(N){var Y=this.data[N];return Y?Y[0].value:null},$.prototype.get=function(N){return this.has(N)?this.data[N.wrapped().key][0].value:null},$.prototype.remove=function(N,Y){if(!this.has(N))return this;var G=N.wrapped().key,L=Y===void 0?0:this.data[G].indexOf(Y),q=this.data[G][L];return this.data[G].splice(L,1),q.timeout&&clearTimeout(q.timeout),this.data[G].length===0&&delete this.data[G],this.onRemove(q.value),this.order.splice(this.order.indexOf(G),1),this},$.prototype.setMaxSize=function(N){for(this.max=N;this.order.length>this.max;){var Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this},$.prototype.filter=function(N){var Y=[];for(var G in this.data)for(var L=0,q=this.data[G];L<q.length;L+=1){var ee=q[L];N(ee.value)||Y.push(ee)}for(var ie=0,fe=Y;ie<fe.length;ie+=1){var we=fe[ie];this.remove(we.value.tileID,we)}};var K=function(N,Y,G){this.context=N;var L=N.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),N.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};K.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},K.prototype.updateData=function(N){var Y=this.context.gl;this.context.unbindVAO(),this.bind(),Y.bufferSubData(Y.ELEMENT_ARRAY_BUFFER,0,N.arrayBuffer)},K.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ue=function(N,Y,G,L){this.length=Y.length,this.attributes=G,this.itemSize=Y.bytesPerElement,this.dynamicDraw=L,this.context=N;var q=N.gl;this.buffer=q.createBuffer(),N.bindVertexBuffer.set(this.buffer),q.bufferData(q.ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?q.DYNAMIC_DRAW:q.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ue.prototype.updateData=function(N){var Y=this.context.gl;this.bind(),Y.bufferSubData(Y.ARRAY_BUFFER,0,N.arrayBuffer)},ue.prototype.enableAttributes=function(N,Y){for(var G=0;G<this.attributes.length;G++){var L=this.attributes[G],q=Y.attributes[L.name];q!==void 0&&N.enableVertexAttribArray(q)}},ue.prototype.setVertexAttribPointers=function(N,Y,G){for(var L=0;L<this.attributes.length;L++){var q=this.attributes[L],ee=Y.attributes[q.name];ee!==void 0&&N.vertexAttribPointer(ee,q.components,N[ae[q.type]],!1,this.itemSize,q.offset+this.itemSize*(G||0))}},ue.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var se=function(N){this.gl=N.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};se.prototype.get=function(){return this.current},se.prototype.set=function(N){},se.prototype.getDefault=function(){return this.default},se.prototype.setDefault=function(){this.set(this.default)};var he=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return o.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(se),pe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},Y}(se),de=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},Y}(se),xe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(se),_e=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},Y}(se),be=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},Y}(se),Le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(G){var L=this.current;(G.func!==L.func||G.ref!==L.ref||G.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},Y}(se),De=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},Y}(se),ye=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=G,this.dirty=!1}},Y}(se),le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(se),oe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=G,this.dirty=!1}},Y}(se),ve=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},Y}(se),Ce=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.BLEND):L.disable(L.BLEND),this.current=G,this.dirty=!1}},Y}(se),ke=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(se),Ae=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return o.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(se),Ee=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},Y}(se),ze=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=G,this.dirty=!1}},Y}(se),Fe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},Y}(se),ge=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},Y}(se),Te=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},Y}(se),Se=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},Y}(se),Re=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(se),Pe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},Y}(se),Ve=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(se),We=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,G),this.current=G,this.dirty=!1}},Y}(se),Qe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},Y}(se),lt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},Y}(se),ut=function(N){function Y(G){N.call(this,G),this.vao=G.extVertexArrayObject}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},Y}(se),xt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},Y}(se),_t=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},Y}(se),mt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},Y}(se),it=function(N){function Y(G,L){N.call(this,G),this.context=G,this.parent=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y}(se),nt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},Y}(it),Et=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(it),Rt=function(N,Y,G,L){this.context=N,this.width=Y,this.height=G;var q=N.gl,ee=this.framebuffer=q.createFramebuffer();this.colorAttachment=new nt(N,ee),L&&(this.depthAttachment=new Et(N,ee))};Rt.prototype.destroy=function(){var N=this.context.gl,Y=this.colorAttachment.get();if(Y&&N.deleteTexture(Y),this.depthAttachment){var G=this.depthAttachment.get();G&&N.deleteRenderbuffer(G)}N.deleteFramebuffer(this.framebuffer)};var Ft=function(N,Y,G){this.func=N,this.mask=Y,this.range=G};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Pt=7680,Ze=function(N,Y,G,L,q,ee){this.test=N,this.ref=Y,this.mask=G,this.fail=L,this.depthFail=q,this.pass=ee};Ze.disabled=new Ze({func:519,mask:0},0,0,Pt,Pt,Pt);var $e=function(N,Y,G){this.blendFunction=N,this.blendColor=Y,this.mask=G};$e.Replace=[1,0],$e.disabled=new $e($e.Replace,o.Color.transparent,[!1,!1,!1,!1]),$e.unblended=new $e($e.Replace,o.Color.transparent,[!0,!0,!0,!0]),$e.alphaBlended=new $e([1,771],o.Color.transparent,[!0,!0,!0,!0]);var He=function(N,Y,G){this.enable=N,this.mode=Y,this.frontFace=G};He.disabled=new He(!1,1029,2305),He.backCCW=new He(!0,1029,2305);var Je=function(N){this.gl=N,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new he(this),this.clearDepth=new pe(this),this.clearStencil=new de(this),this.colorMask=new xe(this),this.depthMask=new _e(this),this.stencilMask=new be(this),this.stencilFunc=new Le(this),this.stencilOp=new De(this),this.stencilTest=new ye(this),this.depthRange=new le(this),this.depthTest=new oe(this),this.depthFunc=new ve(this),this.blend=new Ce(this),this.blendFunc=new ke(this),this.blendColor=new Ae(this),this.blendEquation=new Ee(this),this.cullFace=new ze(this),this.cullFaceSide=new Fe(this),this.frontFace=new ge(this),this.program=new Te(this),this.activeTexture=new Se(this),this.viewport=new Re(this),this.bindFramebuffer=new Pe(this),this.bindRenderbuffer=new Ve(this),this.bindTexture=new We(this),this.bindVertexBuffer=new Qe(this),this.bindElementBuffer=new lt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ut(this),this.pixelStoreUnpack=new xt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new mt(this),this.extTextureFilterAnisotropic=N.getExtension("EXT_texture_filter_anisotropic")||N.getExtension("MOZ_EXT_texture_filter_anisotropic")||N.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=N.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=N.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(N.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=N.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=N.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)};Je.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Je.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Je.prototype.createIndexBuffer=function(N,Y){return new K(this,N,Y)},Je.prototype.createVertexBuffer=function(N,Y,G){return new ue(this,N,Y,G)},Je.prototype.createRenderbuffer=function(N,Y,G){var L=this.gl,q=L.createRenderbuffer();return this.bindRenderbuffer.set(q),L.renderbufferStorage(L.RENDERBUFFER,N,Y,G),this.bindRenderbuffer.set(null),q},Je.prototype.createFramebuffer=function(N,Y,G){return new Rt(this,N,Y,G)},Je.prototype.clear=function(N){var Y=N.color,G=N.depth,L=this.gl,q=0;Y&&(q|=L.COLOR_BUFFER_BIT,this.clearColor.set(Y),this.colorMask.set([!0,!0,!0,!0])),G!==void 0&&(q|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),L.clear(q)},Je.prototype.setCullFace=function(N){N.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(N.mode),this.frontFace.set(N.frontFace))},Je.prototype.setDepthMode=function(N){N.func!==this.gl.ALWAYS||N.mask?(this.depthTest.set(!0),this.depthFunc.set(N.func),this.depthMask.set(N.mask),this.depthRange.set(N.range)):this.depthTest.set(!1)},Je.prototype.setStencilMode=function(N){N.test.func!==this.gl.ALWAYS||N.mask?(this.stencilTest.set(!0),this.stencilMask.set(N.mask),this.stencilOp.set([N.fail,N.depthFail,N.pass]),this.stencilFunc.set({func:N.test.func,ref:N.ref,mask:N.test.mask})):this.stencilTest.set(!1)},Je.prototype.setColorMode=function(N){o.deepEqual(N.blendFunction,$e.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(N.blendFunction),this.blendColor.set(N.blendColor)),this.colorMask.set(N.mask)},Je.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ft=function(N){function Y(G,L,q){var ee=this;N.call(this),this.id=G,this.dispatcher=q,this.on("data",function(ie){ie.dataType==="source"&&ie.sourceDataType==="metadata"&&(ee._sourceLoaded=!0),ee._sourceLoaded&&!ee._paused&&ie.dataType==="source"&&ie.sourceDataType==="content"&&(ee.reload(),ee.transform&&ee.update(ee.transform))}),this.on("error",function(){ee._sourceErrored=!0}),this._source=function(ie,fe,we,Oe){var Be=new re[fe.type](ie,fe,we,Oe);if(Be.id!==ie)throw new Error("Expected Source id to be "+ie+" instead of "+Be.id);return o.bindAll(["load","abort","unload","serialize","prepare"],Be),Be}(G,L,q,this),this._tiles={},this._cache=new $(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},Y.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var L=this._tiles[G];if(L.state!=="loaded"&&L.state!=="errored")return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(G,L){return this._source.loadTile(G,L)},Y.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},Y.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(G){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var q=this._tiles[L];q.upload(G),q.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return o.values(this._tiles).map(function(G){return G.tileID}).sort(ot).map(function(G){return G.key})},Y.prototype.getRenderableIds=function(G){var L=this,q=[];for(var ee in this._tiles)this._isIdRenderable(ee,G)&&q.push(this._tiles[ee]);return G?q.sort(function(ie,fe){var we=ie.tileID,Oe=fe.tileID,Be=new o.Point(we.canonical.x,we.canonical.y)._rotate(L.transform.angle),Ge=new o.Point(Oe.canonical.x,Oe.canonical.y)._rotate(L.transform.angle);return we.overscaledZ-Oe.overscaledZ||Ge.y-Be.y||Ge.x-Be.x}).map(function(ie){return ie.tileID.key}):q.map(function(ie){return ie.tileID}).sort(ot).map(function(ie){return ie.key})},Y.prototype.hasRenderableParent=function(G){var L=this.findLoadedParent(G,0);return!!L&&this._isIdRenderable(L.tileID.key)},Y.prototype._isIdRenderable=function(G,L){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(L||!this._tiles[G].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)this._tiles[G].state!=="errored"&&this._reloadTile(G,"reloading")},Y.prototype._reloadTile=function(G,L){var q=this._tiles[G];q&&(q.state!=="loading"&&(q.state=L),this._loadTile(q,this._tileLoaded.bind(this,q,G,L)))},Y.prototype._tileLoaded=function(G,L,q,ee){if(ee)return G.state="errored",void(ee.status!==404?this._source.fire(new o.ErrorEvent(ee,{tile:G})):this.update(this.transform));G.timeAdded=o.browser.now(),q==="expired"&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(L,G),this.getSource().type==="raster-dem"&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},Y.prototype._backfillDEM=function(G){for(var L=this.getRenderableIds(),q=0;q<L.length;q++){var ee=L[q];if(G.neighboringTiles&&G.neighboringTiles[ee]){var ie=this.getTileByID(ee);fe(G,ie),fe(ie,G)}}function fe(we,Oe){we.needsHillshadePrepare=!0;var Be=Oe.tileID.canonical.x-we.tileID.canonical.x,Ge=Oe.tileID.canonical.y-we.tileID.canonical.y,Ye=Math.pow(2,we.tileID.canonical.z),at=Oe.tileID.key;Be===0&&Ge===0||Math.abs(Ge)>1||(Math.abs(Be)>1&&(Math.abs(Be+Ye)===1?Be+=Ye:Math.abs(Be-Ye)===1&&(Be-=Ye)),Oe.dem&&we.dem&&(we.dem.backfillBorder(Oe.dem,Be,Ge),we.neighboringTiles&&we.neighboringTiles[at]&&(we.neighboringTiles[at].backfilled=!0)))}},Y.prototype.getTile=function(G){return this.getTileByID(G.key)},Y.prototype.getTileByID=function(G){return this._tiles[G]},Y.prototype._retainLoadedChildren=function(G,L,q,ee){for(var ie in this._tiles){var fe=this._tiles[ie];if(!(ee[ie]||!fe.hasData()||fe.tileID.overscaledZ<=L||fe.tileID.overscaledZ>q)){for(var we=fe.tileID;fe&&fe.tileID.overscaledZ>L+1;){var Oe=fe.tileID.scaledTo(fe.tileID.overscaledZ-1);(fe=this._tiles[Oe.key])&&fe.hasData()&&(we=Oe)}for(var Be=we;Be.overscaledZ>L;)if(G[(Be=Be.scaledTo(Be.overscaledZ-1)).key]){ee[we.key]=we;break}}}},Y.prototype.findLoadedParent=function(G,L){if(G.key in this._loadedParentTiles){var q=this._loadedParentTiles[G.key];return q&&q.tileID.overscaledZ>=L?q:null}for(var ee=G.overscaledZ-1;ee>=L;ee--){var ie=G.scaledTo(ee),fe=this._getLoadedTile(ie);if(fe)return fe}},Y.prototype._getLoadedTile=function(G){var L=this._tiles[G.key];return L&&L.hasData()?L:this._cache.getByKey(G.wrapped().key)},Y.prototype.updateCacheSize=function(G){var L=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),q=Math.floor(5*L),ee=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,q):q;this._cache.setMaxSize(ee)},Y.prototype.handleWrapJump=function(G){var L=(G-(this._prevLng===void 0?G:this._prevLng))/360,q=Math.round(L);if(this._prevLng=G,q){var ee={};for(var ie in this._tiles){var fe=this._tiles[ie];fe.tileID=fe.tileID.unwrapTo(fe.tileID.wrap+q),ee[fe.tileID.key]=fe}for(var we in this._tiles=ee,this._timers)clearTimeout(this._timers[we]),delete this._timers[we];for(var Oe in this._tiles){var Be=this._tiles[Oe];this._setTileReloadTimer(Oe,Be)}}},Y.prototype.update=function(G){var L=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var q;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?q=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ht){return new o.OverscaledTileID(Ht.canonical.z,Ht.wrap,Ht.canonical.z,Ht.canonical.x,Ht.canonical.y)}):(q=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(q=q.filter(function(Ht){return L._source.hasTile(Ht)}))):q=[];var ee=G.coveringZoomLevel(this._source),ie=Math.max(ee-Y.maxOverzooming,this._source.minzoom),fe=Math.max(ee+Y.maxUnderzooming,this._source.minzoom),we=this._updateRetainedTiles(q,ee);if(je(this._source.type)){for(var Oe={},Be={},Ge=0,Ye=Object.keys(we);Ge<Ye.length;Ge+=1){var at=Ye[Ge],pt=we[at],vt=this._tiles[at];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=o.browser.now())){var kt=this.findLoadedParent(pt,ie);kt&&(this._addTile(kt.tileID),Oe[kt.tileID.key]=kt.tileID),Be[at]=pt}}for(var Ot in this._retainLoadedChildren(Be,ee,fe,we),Oe)we[Ot]||(this._coveredTiles[Ot]=!0,we[Ot]=Oe[Ot])}for(var St in we)this._tiles[St].clearFadeHold();for(var jt=0,It=o.keysDifference(this._tiles,we);jt<It.length;jt+=1){var $t=It[jt],Zt=this._tiles[$t];Zt.hasSymbolBuckets&&!Zt.holdingForFade()?Zt.setHoldDuration(this.map._fadeDuration):Zt.hasSymbolBuckets&&!Zt.symbolFadeFinished()||this._removeTile($t)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},Y.prototype._updateRetainedTiles=function(G,L){for(var q={},ee={},ie=Math.max(L-Y.maxOverzooming,this._source.minzoom),fe=Math.max(L+Y.maxUnderzooming,this._source.minzoom),we={},Oe=0,Be=G;Oe<Be.length;Oe+=1){var Ge=Be[Oe],Ye=this._addTile(Ge);q[Ge.key]=Ge,Ye.hasData()||L<this._source.maxzoom&&(we[Ge.key]=Ge)}this._retainLoadedChildren(we,L,fe,q);for(var at=0,pt=G;at<pt.length;at+=1){var vt=pt[at],kt=this._tiles[vt.key];if(!kt.hasData()){if(L+1>this._source.maxzoom){var Ot=vt.children(this._source.maxzoom)[0],St=this.getTile(Ot);if(St&&St.hasData()){q[Ot.key]=Ot;continue}}else{var jt=vt.children(this._source.maxzoom);if(q[jt[0].key]&&q[jt[1].key]&&q[jt[2].key]&&q[jt[3].key])continue}for(var It=kt.wasRequested(),$t=vt.overscaledZ-1;$t>=ie;--$t){var Zt=vt.scaledTo($t);if(ee[Zt.key]||(ee[Zt.key]=!0,!(kt=this.getTile(Zt))&&It&&(kt=this._addTile(Zt)),kt&&(q[Zt.key]=Zt,It=kt.wasRequested(),kt.hasData())))break}}}return q},Y.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var L=[],q=void 0,ee=this._tiles[G].tileID;ee.overscaledZ>0;){if(ee.key in this._loadedParentTiles){q=this._loadedParentTiles[ee.key];break}L.push(ee.key);var ie=ee.scaledTo(ee.overscaledZ-1);if(q=this._getLoadedTile(ie))break;ee=ie}for(var fe=0,we=L;fe<we.length;fe+=1){var Oe=we[fe];this._loadedParentTiles[Oe]=q}}},Y.prototype._addTile=function(G){var L=this._tiles[G.key];if(L)return L;(L=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,L),L.tileID=G,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,L)));var q=!!L;return q||(L=new o.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,G.key,L.state))),L?(L.uses++,this._tiles[G.key]=L,q||this._source.fire(new o.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},Y.prototype._setTileReloadTimer=function(G,L){var q=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var ee=L.getExpiryTimeout();ee&&(this._timers[G]=setTimeout(function(){q._reloadTile(G,"expired"),delete q._timers[G]},ee))},Y.prototype._removeTile=function(G){var L=this._tiles[G];L&&(L.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),L.uses>0||(L.hasData()&&L.state!=="reloading"?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},Y.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},Y.prototype.tilesIn=function(G,L,q){var ee=this,ie=[],fe=this.transform;if(!fe)return ie;for(var we=q?fe.getCameraQueryGeometry(G):G,Oe=G.map(function($t){return fe.pointCoordinate($t)}),Be=we.map(function($t){return fe.pointCoordinate($t)}),Ge=this.getIds(),Ye=1/0,at=1/0,pt=-1/0,vt=-1/0,kt=0,Ot=Be;kt<Ot.length;kt+=1){var St=Ot[kt];Ye=Math.min(Ye,St.x),at=Math.min(at,St.y),pt=Math.max(pt,St.x),vt=Math.max(vt,St.y)}for(var jt=function($t){var Zt=ee._tiles[Ge[$t]];if(!Zt.holdingForFade()){var Ht=Zt.tileID,vn=Math.pow(2,fe.zoom-Zt.tileID.overscaledZ),bn=L*Zt.queryPadding*o.EXTENT/Zt.tileSize/vn,Ln=[Ht.getTilePoint(new o.MercatorCoordinate(Ye,at)),Ht.getTilePoint(new o.MercatorCoordinate(pt,vt))];if(Ln[0].x-bn<o.EXTENT&&Ln[0].y-bn<o.EXTENT&&Ln[1].x+bn>=0&&Ln[1].y+bn>=0){var Rn=Oe.map(function(or){return Ht.getTilePoint(or)}),Gn=Be.map(function(or){return Ht.getTilePoint(or)});ie.push({tile:Zt,tileID:Ht,queryGeometry:Rn,cameraQueryGeometry:Gn,scale:vn})}}},It=0;It<Ge.length;It++)jt(It);return ie},Y.prototype.getVisibleCoordinates=function(G){for(var L=this,q=this.getRenderableIds(G).map(function(we){return L._tiles[we].tileID}),ee=0,ie=q;ee<ie.length;ee+=1){var fe=ie[ee];fe.posMatrix=this.transform.calculatePosMatrix(fe.toUnwrapped())}return q},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var G in this._tiles){var L=this._tiles[G];if(L.fadeEndTime!==void 0&&L.fadeEndTime>=o.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(G,L,q){G=G||"_geojsonTileLayer",this._state.updateState(G,L,q)},Y.prototype.removeFeatureState=function(G,L,q){G=G||"_geojsonTileLayer",this._state.removeFeatureState(G,L,q)},Y.prototype.getFeatureState=function(G,L){return G=G||"_geojsonTileLayer",this._state.getState(G,L)},Y.prototype.setDependencies=function(G,L,q){var ee=this._tiles[G];ee&&ee.setDependencies(L,q)},Y.prototype.reloadTilesForDependencies=function(G,L){for(var q in this._tiles)this._tiles[q].hasDependency(G,L)&&this._reloadTile(q,"reloading");this._cache.filter(function(ee){return!ee.hasDependency(G,L)})},Y}(o.Evented);function ot(N,Y){var G=Math.abs(2*N.wrap)-+(N.wrap<0),L=Math.abs(2*Y.wrap)-+(Y.wrap<0);return N.overscaledZ-Y.overscaledZ||L-G||Y.canonical.y-N.canonical.y||Y.canonical.x-N.canonical.x}function je(N){return N==="raster"||N==="image"||N==="video"}function Ue(){return new o.window.Worker(ct.workerUrl)}ft.maxOverzooming=10,ft.maxUnderzooming=3;var st="mapboxgl_preloaded_worker_pool",Ke=function(){this.active={}};Ke.prototype.acquire=function(N){if(!this.workers)for(this.workers=[];this.workers.length<Ke.workerCount;)this.workers.push(new Ue);return this.active[N]=!0,this.workers.slice()},Ke.prototype.release=function(N){delete this.active[N],this.numActive()===0&&(this.workers.forEach(function(Y){Y.terminate()}),this.workers=null)},Ke.prototype.isPreloaded=function(){return!!this.active[st]},Ke.prototype.numActive=function(){return Object.keys(this.active).length};var gt,yt=Math.floor(o.browser.hardwareConcurrency/2);function bt(){return gt||(gt=new Ke),gt}function dt(N,Y){var G={};for(var L in N)L!=="ref"&&(G[L]=N[L]);return o.refProperties.forEach(function(q){q in Y&&(G[q]=Y[q])}),G}function Lt(N){N=N.slice();for(var Y=Object.create(null),G=0;G<N.length;G++)Y[N[G].id]=N[G];for(var L=0;L<N.length;L++)"ref"in N[L]&&(N[L]=dt(N[L],Y[N[L].ref]));return N}Ke.workerCount=Math.max(Math.min(yt,6),1);var wt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ct(N,Y,G){G.push({command:wt.addSource,args:[N,Y[N]]})}function zt(N,Y,G){Y.push({command:wt.removeSource,args:[N]}),G[N]=!0}function Dt(N,Y,G,L){zt(N,G,L),Ct(N,Y,G)}function Nt(N,Y,G){var L;for(L in N[G])if(N[G].hasOwnProperty(L)&&L!=="data"&&!o.deepEqual(N[G][L],Y[G][L]))return!1;for(L in Y[G])if(Y[G].hasOwnProperty(L)&&L!=="data"&&!o.deepEqual(N[G][L],Y[G][L]))return!1;return!0}function Kt(N,Y,G,L,q,ee){var ie;for(ie in Y=Y||{},N=N||{})N.hasOwnProperty(ie)&&(o.deepEqual(N[ie],Y[ie])||G.push({command:ee,args:[L,ie,Y[ie],q]}));for(ie in Y)Y.hasOwnProperty(ie)&&!N.hasOwnProperty(ie)&&(o.deepEqual(N[ie],Y[ie])||G.push({command:ee,args:[L,ie,Y[ie],q]}))}function un(N){return N.id}function qt(N,Y){return N[Y.id]=Y,N}function Jt(N,Y){if(!N)return[{command:wt.setStyle,args:[Y]}];var G=[];try{if(!o.deepEqual(N.version,Y.version))return[{command:wt.setStyle,args:[Y]}];o.deepEqual(N.center,Y.center)||G.push({command:wt.setCenter,args:[Y.center]}),o.deepEqual(N.zoom,Y.zoom)||G.push({command:wt.setZoom,args:[Y.zoom]}),o.deepEqual(N.bearing,Y.bearing)||G.push({command:wt.setBearing,args:[Y.bearing]}),o.deepEqual(N.pitch,Y.pitch)||G.push({command:wt.setPitch,args:[Y.pitch]}),o.deepEqual(N.sprite,Y.sprite)||G.push({command:wt.setSprite,args:[Y.sprite]}),o.deepEqual(N.glyphs,Y.glyphs)||G.push({command:wt.setGlyphs,args:[Y.glyphs]}),o.deepEqual(N.transition,Y.transition)||G.push({command:wt.setTransition,args:[Y.transition]}),o.deepEqual(N.light,Y.light)||G.push({command:wt.setLight,args:[Y.light]});var L={},q=[];(function(ie,fe,we,Oe){var Be;for(Be in fe=fe||{},ie=ie||{})ie.hasOwnProperty(Be)&&(fe.hasOwnProperty(Be)||zt(Be,we,Oe));for(Be in fe)fe.hasOwnProperty(Be)&&(ie.hasOwnProperty(Be)?o.deepEqual(ie[Be],fe[Be])||(ie[Be].type==="geojson"&&fe[Be].type==="geojson"&&Nt(ie,fe,Be)?we.push({command:wt.setGeoJSONSourceData,args:[Be,fe[Be].data]}):Dt(Be,fe,we,Oe)):Ct(Be,fe,we))})(N.sources,Y.sources,q,L);var ee=[];N.layers&&N.layers.forEach(function(ie){L[ie.source]?G.push({command:wt.removeLayer,args:[ie.id]}):ee.push(ie)}),G=G.concat(q),function(ie,fe,we){fe=fe||[];var Oe,Be,Ge,Ye,at,pt,vt,kt=(ie=ie||[]).map(un),Ot=fe.map(un),St=ie.reduce(qt,{}),jt=fe.reduce(qt,{}),It=kt.slice(),$t=Object.create(null);for(Oe=0,Be=0;Oe<kt.length;Oe++)Ge=kt[Oe],jt.hasOwnProperty(Ge)?Be++:(we.push({command:wt.removeLayer,args:[Ge]}),It.splice(It.indexOf(Ge,Be),1));for(Oe=0,Be=0;Oe<Ot.length;Oe++)Ge=Ot[Ot.length-1-Oe],It[It.length-1-Oe]!==Ge&&(St.hasOwnProperty(Ge)?(we.push({command:wt.removeLayer,args:[Ge]}),It.splice(It.lastIndexOf(Ge,It.length-Be),1)):Be++,pt=It[It.length-Oe],we.push({command:wt.addLayer,args:[jt[Ge],pt]}),It.splice(It.length-Oe,0,Ge),$t[Ge]=!0);for(Oe=0;Oe<Ot.length;Oe++)if(Ye=St[Ge=Ot[Oe]],at=jt[Ge],!$t[Ge]&&!o.deepEqual(Ye,at))if(o.deepEqual(Ye.source,at.source)&&o.deepEqual(Ye["source-layer"],at["source-layer"])&&o.deepEqual(Ye.type,at.type)){for(vt in Kt(Ye.layout,at.layout,we,Ge,null,wt.setLayoutProperty),Kt(Ye.paint,at.paint,we,Ge,null,wt.setPaintProperty),o.deepEqual(Ye.filter,at.filter)||we.push({command:wt.setFilter,args:[Ge,at.filter]}),o.deepEqual(Ye.minzoom,at.minzoom)&&o.deepEqual(Ye.maxzoom,at.maxzoom)||we.push({command:wt.setLayerZoomRange,args:[Ge,at.minzoom,at.maxzoom]}),Ye)Ye.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Kt(Ye[vt],at[vt],we,Ge,vt.slice(6),wt.setPaintProperty):o.deepEqual(Ye[vt],at[vt])||we.push({command:wt.setLayerProperty,args:[Ge,vt,at[vt]]}));for(vt in at)at.hasOwnProperty(vt)&&!Ye.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Kt(Ye[vt],at[vt],we,Ge,vt.slice(6),wt.setPaintProperty):o.deepEqual(Ye[vt],at[vt])||we.push({command:wt.setLayerProperty,args:[Ge,vt,at[vt]]}))}else we.push({command:wt.removeLayer,args:[Ge]}),pt=It[It.lastIndexOf(Ge)+1],we.push({command:wt.addLayer,args:[at,pt]})}(ee,Y.layers,G)}catch(ie){console.warn("Unable to compute style diff:",ie),G=[{command:wt.setStyle,args:[Y]}]}return G}var Ut=function(N,Y){this.reset(N,Y)};Ut.prototype.reset=function(N,Y){this.points=N||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Y||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ut.prototype.lerp=function(N){if(this.points.length===1)return this.points[0];N=o.clamp(N,0,1);for(var Y=1,G=this._distances[Y],L=N*this.paddedLength+this.padding;G<L&&Y<this._distances.length;)G=this._distances[++Y];var q=Y-1,ee=this._distances[q],ie=G-ee,fe=ie>0?(L-ee)/ie:0;return this.points[q].mult(1-fe).add(this.points[Y].mult(fe))};var zn=function(N,Y,G){var L=this.boxCells=[],q=this.circleCells=[];this.xCellCount=Math.ceil(N/G),this.yCellCount=Math.ceil(Y/G);for(var ee=0;ee<this.xCellCount*this.yCellCount;ee++)L.push([]),q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=N,this.height=Y,this.xScale=this.xCellCount/N,this.yScale=this.yCellCount/Y,this.boxUid=0,this.circleUid=0};function An(N,Y,G,L,q){var ee=o.create();return Y?(o.scale(ee,ee,[1/q,1/q,1]),G||o.rotateZ(ee,ee,L.angle)):o.multiply(ee,L.labelPlaneMatrix,N),ee}function mn(N,Y,G,L,q){if(Y){var ee=o.clone(N);return o.scale(ee,ee,[q,q,1]),G||o.rotateZ(ee,ee,-L.angle),ee}return L.glCoordMatrix}function tn(N,Y){var G=[N.x,N.y,0,1];Wn(G,G,Y);var L=G[3];return{point:new o.Point(G[0]/L,G[1]/L),signedDistanceFromCamera:L}}function fn(N,Y){return .5+N/Y*.5}function rn(N,Y){var G=N[0]/N[3],L=N[1]/N[3];return G>=-Y[0]&&G<=Y[0]&&L>=-Y[1]&&L<=Y[1]}function pn(N,Y,G,L,q,ee,ie,fe){var we=L?N.textSizeData:N.iconSizeData,Oe=o.evaluateSizeForZoom(we,G.transform.zoom),Be=[256/G.width*2+1,256/G.height*2+1],Ge=L?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;Ge.clear();for(var Ye=N.lineVertexArray,at=L?N.text.placedSymbolArray:N.icon.placedSymbolArray,pt=G.transform.width/G.transform.height,vt=!1,kt=0;kt<at.length;kt++){var Ot=at.get(kt);if(Ot.hidden||Ot.writingMode===o.WritingMode.vertical&&!vt)Fn(Ot.numGlyphs,Ge);else{vt=!1;var St=[Ot.anchorX,Ot.anchorY,0,1];if(o.transformMat4(St,St,Y),rn(St,Be)){var jt=St[3],It=fn(G.transform.cameraToCenterDistance,jt),$t=o.evaluateSizeForFeature(we,Oe,Ot),Zt=ie?$t/It:$t*It,Ht=new o.Point(Ot.anchorX,Ot.anchorY),vn=tn(Ht,q).point,bn={},Ln=Pn(Ot,Zt,!1,fe,Y,q,ee,N.glyphOffsetArray,Ye,Ge,vn,Ht,bn,pt);vt=Ln.useVertical,(Ln.notEnoughRoom||vt||Ln.needsFlipping&&Pn(Ot,Zt,!0,fe,Y,q,ee,N.glyphOffsetArray,Ye,Ge,vn,Ht,bn,pt).notEnoughRoom)&&Fn(Ot.numGlyphs,Ge)}else Fn(Ot.numGlyphs,Ge)}}L?N.text.dynamicLayoutVertexBuffer.updateData(Ge):N.icon.dynamicLayoutVertexBuffer.updateData(Ge)}function wn(N,Y,G,L,q,ee,ie,fe,we,Oe,Be){var Ge=fe.glyphStartIndex+fe.numGlyphs,Ye=fe.lineStartIndex,at=fe.lineStartIndex+fe.lineLength,pt=Y.getoffsetX(fe.glyphStartIndex),vt=Y.getoffsetX(Ge-1),kt=En(N*pt,G,L,q,ee,ie,fe.segment,Ye,at,we,Oe,Be);if(!kt)return null;var Ot=En(N*vt,G,L,q,ee,ie,fe.segment,Ye,at,we,Oe,Be);return Ot?{first:kt,last:Ot}:null}function kn(N,Y,G,L){return N===o.WritingMode.horizontal&&Math.abs(G.y-Y.y)>Math.abs(G.x-Y.x)*L?{useVertical:!0}:(N===o.WritingMode.vertical?Y.y<G.y:Y.x>G.x)?{needsFlipping:!0}:null}function Pn(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge,Ye,at){var pt,vt=Y/24,kt=N.lineOffsetX*vt,Ot=N.lineOffsetY*vt;if(N.numGlyphs>1){var St=N.glyphStartIndex+N.numGlyphs,jt=N.lineStartIndex,It=N.lineStartIndex+N.lineLength,$t=wn(vt,fe,kt,Ot,G,Be,Ge,N,we,ee,Ye);if(!$t)return{notEnoughRoom:!0};var Zt=tn($t.first.point,ie).point,Ht=tn($t.last.point,ie).point;if(L&&!G){var vn=kn(N.writingMode,Zt,Ht,at);if(vn)return vn}pt=[$t.first];for(var bn=N.glyphStartIndex+1;bn<St-1;bn++)pt.push(En(vt*fe.getoffsetX(bn),kt,Ot,G,Be,Ge,N.segment,jt,It,we,ee,Ye));pt.push($t.last)}else{if(L&&!G){var Ln=tn(Ge,q).point,Rn=N.lineStartIndex+N.segment+1,Gn=new o.Point(we.getx(Rn),we.gety(Rn)),or=tn(Gn,q),hr=or.signedDistanceFromCamera>0?or.point:On(Ge,Gn,Ln,1,q),Kn=kn(N.writingMode,Ln,hr,at);if(Kn)return Kn}var fr=En(vt*fe.getoffsetX(N.glyphStartIndex),kt,Ot,G,Be,Ge,N.segment,N.lineStartIndex,N.lineStartIndex+N.lineLength,we,ee,Ye);if(!fr)return{notEnoughRoom:!0};pt=[fr]}for(var wr=0,Or=pt;wr<Or.length;wr+=1){var nr=Or[wr];o.addDynamicAttributes(Oe,nr.point,nr.angle)}return{}}function On(N,Y,G,L,q){var ee=tn(N.add(N.sub(Y)._unit()),q).point,ie=G.sub(ee);return G.add(ie._mult(L/ie.mag()))}function En(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge){var Ye=L?N-Y:N+Y,at=Ye>0?1:-1,pt=0;L&&(at*=-1,pt=Math.PI),at<0&&(pt+=Math.PI);for(var vt=at>0?fe+ie:fe+ie+1,kt=q,Ot=q,St=0,jt=0,It=Math.abs(Ye),$t=[];St+jt<=It;){if((vt+=at)<fe||vt>=we)return null;if(Ot=kt,$t.push(kt),(kt=Ge[vt])===void 0){var Zt=new o.Point(Oe.getx(vt),Oe.gety(vt)),Ht=tn(Zt,Be);if(Ht.signedDistanceFromCamera>0)kt=Ge[vt]=Ht.point;else{var vn=vt-at;kt=On(St===0?ee:new o.Point(Oe.getx(vn),Oe.gety(vn)),Zt,Ot,It-St+1,Be)}}St+=jt,jt=Ot.dist(kt)}var bn=(It-St)/jt,Ln=kt.sub(Ot),Rn=Ln.mult(bn)._add(Ot);Rn._add(Ln._unit()._perp()._mult(G*at));var Gn=pt+Math.atan2(kt.y-Ot.y,kt.x-Ot.x);return $t.push(Rn),{point:Rn,angle:Gn,path:$t}}zn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},zn.prototype.insert=function(N,Y,G,L,q){this._forEachCell(Y,G,L,q,this._insertBoxCell,this.boxUid++),this.boxKeys.push(N),this.bboxes.push(Y),this.bboxes.push(G),this.bboxes.push(L),this.bboxes.push(q)},zn.prototype.insertCircle=function(N,Y,G,L){this._forEachCell(Y-L,G-L,Y+L,G+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(N),this.circles.push(Y),this.circles.push(G),this.circles.push(L)},zn.prototype._insertBoxCell=function(N,Y,G,L,q,ee){this.boxCells[q].push(ee)},zn.prototype._insertCircleCell=function(N,Y,G,L,q,ee){this.circleCells[q].push(ee)},zn.prototype._query=function(N,Y,G,L,q,ee){if(G<0||N>this.width||L<0||Y>this.height)return!q&&[];var ie=[];if(N<=0&&Y<=0&&this.width<=G&&this.height<=L){if(q)return!0;for(var fe=0;fe<this.boxKeys.length;fe++)ie.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(var we=0;we<this.circleKeys.length;we++){var Oe=this.circles[3*we],Be=this.circles[3*we+1],Ge=this.circles[3*we+2];ie.push({key:this.circleKeys[we],x1:Oe-Ge,y1:Be-Ge,x2:Oe+Ge,y2:Be+Ge})}return ee?ie.filter(ee):ie}var Ye={hitTest:q,seenUids:{box:{},circle:{}}};return this._forEachCell(N,Y,G,L,this._queryCell,ie,Ye,ee),q?ie.length>0:ie},zn.prototype._queryCircle=function(N,Y,G,L,q){var ee=N-G,ie=N+G,fe=Y-G,we=Y+G;if(ie<0||ee>this.width||we<0||fe>this.height)return!L&&[];var Oe=[],Be={hitTest:L,circle:{x:N,y:Y,radius:G},seenUids:{box:{},circle:{}}};return this._forEachCell(ee,fe,ie,we,this._queryCellCircle,Oe,Be,q),L?Oe.length>0:Oe},zn.prototype.query=function(N,Y,G,L,q){return this._query(N,Y,G,L,!1,q)},zn.prototype.hitTest=function(N,Y,G,L,q){return this._query(N,Y,G,L,!0,q)},zn.prototype.hitTestCircle=function(N,Y,G,L){return this._queryCircle(N,Y,G,!0,L)},zn.prototype._queryCell=function(N,Y,G,L,q,ee,ie,fe){var we=ie.seenUids,Oe=this.boxCells[q];if(Oe!==null)for(var Be=this.bboxes,Ge=0,Ye=Oe;Ge<Ye.length;Ge+=1){var at=Ye[Ge];if(!we.box[at]){we.box[at]=!0;var pt=4*at;if(N<=Be[pt+2]&&Y<=Be[pt+3]&&G>=Be[pt+0]&&L>=Be[pt+1]&&(!fe||fe(this.boxKeys[at]))){if(ie.hitTest)return ee.push(!0),!0;ee.push({key:this.boxKeys[at],x1:Be[pt],y1:Be[pt+1],x2:Be[pt+2],y2:Be[pt+3]})}}}var vt=this.circleCells[q];if(vt!==null)for(var kt=this.circles,Ot=0,St=vt;Ot<St.length;Ot+=1){var jt=St[Ot];if(!we.circle[jt]){we.circle[jt]=!0;var It=3*jt;if(this._circleAndRectCollide(kt[It],kt[It+1],kt[It+2],N,Y,G,L)&&(!fe||fe(this.circleKeys[jt]))){if(ie.hitTest)return ee.push(!0),!0;var $t=kt[It],Zt=kt[It+1],Ht=kt[It+2];ee.push({key:this.circleKeys[jt],x1:$t-Ht,y1:Zt-Ht,x2:$t+Ht,y2:Zt+Ht})}}}},zn.prototype._queryCellCircle=function(N,Y,G,L,q,ee,ie,fe){var we=ie.circle,Oe=ie.seenUids,Be=this.boxCells[q];if(Be!==null)for(var Ge=this.bboxes,Ye=0,at=Be;Ye<at.length;Ye+=1){var pt=at[Ye];if(!Oe.box[pt]){Oe.box[pt]=!0;var vt=4*pt;if(this._circleAndRectCollide(we.x,we.y,we.radius,Ge[vt+0],Ge[vt+1],Ge[vt+2],Ge[vt+3])&&(!fe||fe(this.boxKeys[pt])))return ee.push(!0),!0}}var kt=this.circleCells[q];if(kt!==null)for(var Ot=this.circles,St=0,jt=kt;St<jt.length;St+=1){var It=jt[St];if(!Oe.circle[It]){Oe.circle[It]=!0;var $t=3*It;if(this._circlesCollide(Ot[$t],Ot[$t+1],Ot[$t+2],we.x,we.y,we.radius)&&(!fe||fe(this.circleKeys[It])))return ee.push(!0),!0}}},zn.prototype._forEachCell=function(N,Y,G,L,q,ee,ie,fe){for(var we=this._convertToXCellCoord(N),Oe=this._convertToYCellCoord(Y),Be=this._convertToXCellCoord(G),Ge=this._convertToYCellCoord(L),Ye=we;Ye<=Be;Ye++)for(var at=Oe;at<=Ge;at++){var pt=this.xCellCount*at+Ye;if(q.call(this,N,Y,G,L,pt,ee,ie,fe))return}},zn.prototype._convertToXCellCoord=function(N){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(N*this.xScale)))},zn.prototype._convertToYCellCoord=function(N){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(N*this.yScale)))},zn.prototype._circlesCollide=function(N,Y,G,L,q,ee){var ie=L-N,fe=q-Y,we=G+ee;return we*we>ie*ie+fe*fe},zn.prototype._circleAndRectCollide=function(N,Y,G,L,q,ee,ie){var fe=(ee-L)/2,we=Math.abs(N-(L+fe));if(we>fe+G)return!1;var Oe=(ie-q)/2,Be=Math.abs(Y-(q+Oe));if(Be>Oe+G)return!1;if(we<=fe||Be<=Oe)return!0;var Ge=we-fe,Ye=Be-Oe;return Ge*Ge+Ye*Ye<=G*G};var Vn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Fn(N,Y){for(var G=0;G<N;G++){var L=Y.length;Y.resize(L+4),Y.float32.set(Vn,3*L)}}function Wn(N,Y,G){var L=Y[0],q=Y[1];return N[0]=G[0]*L+G[4]*q+G[12],N[1]=G[1]*L+G[5]*q+G[13],N[3]=G[3]*L+G[7]*q+G[15],N}var rr=100,ir=function(N,Y,G){Y===void 0&&(Y=new zn(N.width+200,N.height+200,25)),G===void 0&&(G=new zn(N.width+200,N.height+200,25)),this.transform=N,this.grid=Y,this.ignoredGrid=G,this.pitchfactor=Math.cos(N._pitch)*N.cameraToCenterDistance,this.screenRightBoundary=N.width+rr,this.screenBottomBoundary=N.height+rr,this.gridRightBoundary=N.width+200,this.gridBottomBoundary=N.height+200};function Jn(N,Y,G){return Y*(o.EXTENT/(N.tileSize*Math.pow(2,G-N.tileID.overscaledZ)))}ir.prototype.placeCollisionBox=function(N,Y,G,L,q){var ee=this.projectAndGetPerspectiveRatio(L,N.anchorPointX,N.anchorPointY),ie=G*ee.perspectiveRatio,fe=N.x1*ie+ee.point.x,we=N.y1*ie+ee.point.y,Oe=N.x2*ie+ee.point.x,Be=N.y2*ie+ee.point.y;return!this.isInsideGrid(fe,we,Oe,Be)||!Y&&this.grid.hitTest(fe,we,Oe,Be,q)?{box:[],offscreen:!1}:{box:[fe,we,Oe,Be],offscreen:this.isOffscreen(fe,we,Oe,Be)}},ir.prototype.placeCollisionCircles=function(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge,Ye){var at=[],pt=new o.Point(Y.anchorX,Y.anchorY),vt=tn(pt,ee),kt=fn(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Ot=(Oe?q/kt:q*kt)/o.ONE_EM,St=tn(pt,ie).point,jt=wn(Ot,L,Y.lineOffsetX*Ot,Y.lineOffsetY*Ot,!1,St,pt,Y,G,ie,{}),It=!1,$t=!1,Zt=!0;if(jt){for(var Ht=.5*Ge*kt+Ye,vn=new o.Point(-100,-100),bn=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),Ln=new Ut,Rn=jt.first,Gn=jt.last,or=[],hr=Rn.path.length-1;hr>=1;hr--)or.push(Rn.path[hr]);for(var Kn=1;Kn<Gn.path.length;Kn++)or.push(Gn.path[Kn]);var fr=2.5*Ht;if(fe){var wr=or.map(function(ti){return tn(ti,fe)});or=wr.some(function(ti){return ti.signedDistanceFromCamera<=0})?[]:wr.map(function(ti){return ti.point})}var Or=[];if(or.length>0){for(var nr=or[0].clone(),cr=or[0].clone(),Sr=1;Sr<or.length;Sr++)nr.x=Math.min(nr.x,or[Sr].x),nr.y=Math.min(nr.y,or[Sr].y),cr.x=Math.max(cr.x,or[Sr].x),cr.y=Math.max(cr.y,or[Sr].y);Or=nr.x>=vn.x&&cr.x<=bn.x&&nr.y>=vn.y&&cr.y<=bn.y?[or]:cr.x<vn.x||nr.x>bn.x||cr.y<vn.y||nr.y>bn.y?[]:o.clipLine([or],vn.x,vn.y,bn.x,bn.y)}for(var pr=0,Cr=Or;pr<Cr.length;pr+=1){var Dr=Cr[pr];Ln.reset(Dr,.25*Ht);var Gr;Gr=Ln.length<=.5*Ht?1:Math.ceil(Ln.paddedLength/fr)+1;for(var Wr=0;Wr<Gr;Wr++){var Xr=Wr/Math.max(Gr-1,1),Qr=Ln.lerp(Xr),wi=Qr.x+rr,Ni=Qr.y+rr;at.push(wi,Ni,Ht,0);var Ma=wi-Ht,ea=Ni-Ht,va=wi+Ht,Ei=Ni+Ht;if(Zt=Zt&&this.isOffscreen(Ma,ea,va,Ei),$t=$t||this.isInsideGrid(Ma,ea,va,Ei),!N&&this.grid.hitTestCircle(wi,Ni,Ht,Be)&&(It=!0,!we))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!we&&It||!$t?[]:at,offscreen:Zt,collisionDetected:It}},ir.prototype.queryRenderedSymbols=function(N){if(N.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var Y=[],G=1/0,L=1/0,q=-1/0,ee=-1/0,ie=0,fe=N;ie<fe.length;ie+=1){var we=fe[ie],Oe=new o.Point(we.x+rr,we.y+rr);G=Math.min(G,Oe.x),L=Math.min(L,Oe.y),q=Math.max(q,Oe.x),ee=Math.max(ee,Oe.y),Y.push(Oe)}for(var Be={},Ge={},Ye=0,at=this.grid.query(G,L,q,ee).concat(this.ignoredGrid.query(G,L,q,ee));Ye<at.length;Ye+=1){var pt=at[Ye],vt=pt.key;if(Be[vt.bucketInstanceId]===void 0&&(Be[vt.bucketInstanceId]={}),!Be[vt.bucketInstanceId][vt.featureIndex]){var kt=[new o.Point(pt.x1,pt.y1),new o.Point(pt.x2,pt.y1),new o.Point(pt.x2,pt.y2),new o.Point(pt.x1,pt.y2)];o.polygonIntersectsPolygon(Y,kt)&&(Be[vt.bucketInstanceId][vt.featureIndex]=!0,Ge[vt.bucketInstanceId]===void 0&&(Ge[vt.bucketInstanceId]=[]),Ge[vt.bucketInstanceId].push(vt.featureIndex))}}return Ge},ir.prototype.insertCollisionBox=function(N,Y,G,L,q){var ee={bucketInstanceId:G,featureIndex:L,collisionGroupID:q};(Y?this.ignoredGrid:this.grid).insert(ee,N[0],N[1],N[2],N[3])},ir.prototype.insertCollisionCircles=function(N,Y,G,L,q){for(var ee=Y?this.ignoredGrid:this.grid,ie={bucketInstanceId:G,featureIndex:L,collisionGroupID:q},fe=0;fe<N.length;fe+=4)ee.insertCircle(ie,N[fe],N[fe+1],N[fe+2])},ir.prototype.projectAndGetPerspectiveRatio=function(N,Y,G){var L=[Y,G,0,1];return Wn(L,L,N),{point:new o.Point((L[0]/L[3]+1)/2*this.transform.width+rr,(-L[1]/L[3]+1)/2*this.transform.height+rr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},ir.prototype.isOffscreen=function(N,Y,G,L){return G<rr||N>=this.screenRightBoundary||L<rr||Y>this.screenBottomBoundary},ir.prototype.isInsideGrid=function(N,Y,G,L){return G>=0&&N<this.gridRightBoundary&&L>=0&&Y<this.gridBottomBoundary},ir.prototype.getViewportMatrix=function(){var N=o.identity([]);return o.translate(N,N,[-100,-100,0]),N};var dr=function(N,Y,G,L){this.opacity=N?Math.max(0,Math.min(1,N.opacity+(N.placed?Y:-Y))):L&&G?1:0,this.placed=G};dr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var nn=function(N,Y,G,L,q){this.text=new dr(N?N.text:null,Y,G,q),this.icon=new dr(N?N.icon:null,Y,L,q)};nn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var an=function(N,Y,G){this.text=N,this.icon=Y,this.skipFade=G},In=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},yn=function(N,Y,G,L,q){this.bucketInstanceId=N,this.featureIndex=Y,this.sourceLayerIndex=G,this.bucketIndex=L,this.tileID=q},Dn=function(N){this.crossSourceCollisions=N,this.maxGroupID=0,this.collisionGroups={}};function Zn(N,Y,G,L,q){var ee=o.getAnchorAlignment(N),ie=-(ee.horizontalAlign-.5)*Y,fe=-(ee.verticalAlign-.5)*G,we=o.evaluateVariableOffset(N,L);return new o.Point(ie+we[0]*q,fe+we[1]*q)}function Hn(N,Y,G,L,q,ee){var ie=N.x1,fe=N.x2,we=N.y1,Oe=N.y2,Be=N.anchorPointX,Ge=N.anchorPointY,Ye=new o.Point(Y,G);return L&&Ye._rotate(q?ee:-ee),{x1:ie+Ye.x,y1:we+Ye.y,x2:fe+Ye.x,y2:Oe+Ye.y,anchorPointX:Be,anchorPointY:Ge}}Dn.prototype.get=function(N){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[N]){var Y=++this.maxGroupID;this.collisionGroups[N]={ID:Y,predicate:function(G){return G.collisionGroupID===Y}}}return this.collisionGroups[N]};var Qn=function(N,Y,G,L){this.transform=N.clone(),this.collisionIndex=new ir(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Y,this.retainedQueryData={},this.collisionGroups=new Dn(G),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function mr(N,Y,G,L,q){N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0)}Qn.prototype.getBucketParts=function(N,Y,G,L){var q=G.getBucket(Y),ee=G.latestFeatureIndex;if(q&&ee&&Y.id===q.layerIds[0]){var ie=G.collisionBoxArray,fe=q.layers[0].layout,we=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),Oe=G.tileSize/o.EXTENT,Be=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),Ge=fe.get("text-pitch-alignment")==="map",Ye=fe.get("text-rotation-alignment")==="map",at=Jn(G,1,this.transform.zoom),pt=An(Be,Ge,Ye,this.transform,at),vt=null;if(Ge){var kt=mn(Be,Ge,Ye,this.transform,at);vt=o.multiply([],this.transform.labelPlaneMatrix,kt)}this.retainedQueryData[q.bucketInstanceId]=new yn(q.bucketInstanceId,ee,q.sourceLayerIndex,q.index,G.tileID);var Ot={bucket:q,layout:fe,posMatrix:Be,textLabelPlaneMatrix:pt,labelToScreenMatrix:vt,scale:we,textPixelRatio:Oe,holdingForFade:G.holdingForFade(),collisionBoxArray:ie,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(q.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(q.sourceID)};if(L)for(var St=0,jt=q.sortKeyRanges;St<jt.length;St+=1){var It=jt[St],$t=It.sortKey,Zt=It.symbolInstanceStart,Ht=It.symbolInstanceEnd;N.push({sortKey:$t,symbolInstanceStart:Zt,symbolInstanceEnd:Ht,parameters:Ot})}else N.push({symbolInstanceStart:0,symbolInstanceEnd:q.symbolInstances.length,parameters:Ot})}},Qn.prototype.attemptAnchorPlacement=function(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge,Ye,at,pt){var vt,kt=[Ge.textOffset0,Ge.textOffset1],Ot=Zn(N,G,L,kt,q),St=this.collisionIndex.placeCollisionBox(Hn(Y,Ot.x,Ot.y,ee,ie,this.transform.angle),Be,fe,we,Oe.predicate);if(!pt||this.collisionIndex.placeCollisionBox(Hn(pt,Ot.x,Ot.y,ee,ie,this.transform.angle),Be,fe,we,Oe.predicate).box.length!==0)return St.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ge.crossTileID]&&this.prevPlacement.placements[Ge.crossTileID]&&this.prevPlacement.placements[Ge.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[Ge.crossTileID].anchor),this.variableOffsets[Ge.crossTileID]={textOffset:kt,width:G,height:L,anchor:N,textBoxScale:q,prevAnchor:vt},this.markUsedJustification(Ye,N,Ge,at),Ye.allowVerticalPlacement&&(this.markUsedOrientation(Ye,at,Ge),this.placedOrientations[Ge.crossTileID]=at),{shift:Ot,placedGlyphBoxes:St}):void 0},Qn.prototype.placeLayerBucketPart=function(N,Y,G){var L=this,q=N.parameters,ee=q.bucket,ie=q.layout,fe=q.posMatrix,we=q.textLabelPlaneMatrix,Oe=q.labelToScreenMatrix,Be=q.textPixelRatio,Ge=q.holdingForFade,Ye=q.collisionBoxArray,at=q.partiallyEvaluatedTextSize,pt=q.collisionGroup,vt=ie.get("text-optional"),kt=ie.get("icon-optional"),Ot=ie.get("text-allow-overlap"),St=ie.get("icon-allow-overlap"),jt=ie.get("text-rotation-alignment")==="map",It=ie.get("text-pitch-alignment")==="map",$t=ie.get("icon-text-fit")!=="none",Zt=ie.get("symbol-z-order")==="viewport-y",Ht=Ot&&(St||!ee.hasIconData()||kt),vn=St&&(Ot||!ee.hasTextData()||vt);!ee.collisionArrays&&Ye&&ee.deserializeCollisionBoxes(Ye);var bn=function(Kn,fr){if(!Y[Kn.crossTileID])if(Ge)L.placements[Kn.crossTileID]=new an(!1,!1,!1);else{var wr,Or=!1,nr=!1,cr=!0,Sr=null,pr={box:null,offscreen:null},Cr={box:null,offscreen:null},Dr=null,Gr=null,Wr=0,Xr=0,Qr=0;fr.textFeatureIndex?Wr=fr.textFeatureIndex:Kn.useRuntimeCollisionCircles&&(Wr=Kn.featureIndex),fr.verticalTextFeatureIndex&&(Xr=fr.verticalTextFeatureIndex);var wi=fr.textBox;if(wi){var Ni=function(Di){var Ja=o.WritingMode.horizontal;if(ee.allowVerticalPlacement&&!Di&&L.prevPlacement){var la=L.prevPlacement.placedOrientations[Kn.crossTileID];la&&(L.placedOrientations[Kn.crossTileID]=la,Ja=la,L.markUsedOrientation(ee,Ja,Kn))}return Ja},Ma=function(Di,Ja){if(ee.allowVerticalPlacement&&Kn.numVerticalGlyphVertices>0&&fr.verticalTextBox)for(var la=0,jc=ee.writingModes;la<jc.length&&(jc[la]===o.WritingMode.vertical?(pr=Ja(),Cr=pr):pr=Di(),!(pr&&pr.box&&pr.box.length));la+=1);else pr=Di()};if(ie.get("text-variable-anchor")){var ea=ie.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Kn.crossTileID]){var va=L.prevPlacement.variableOffsets[Kn.crossTileID];ea.indexOf(va.anchor)>0&&(ea=ea.filter(function(Di){return Di!==va.anchor})).unshift(va.anchor)}var Ei=function(Di,Ja,la){for(var jc=Di.x2-Di.x1,ag=Di.y2-Di.y1,td=Kn.textBoxScale,og=$t&&!St?Ja:null,nc={box:[],offscreen:!1},sg=Ot?2*ea.length:ea.length,rc=0;rc<sg;++rc){var nd=ea[rc%ea.length],rd=rc>=ea.length,gu=L.attemptAnchorPlacement(nd,Di,jc,ag,td,jt,It,Be,fe,pt,rd,Kn,ee,la,og);if(gu&&(nc=gu.placedGlyphBoxes)&&nc.box&&nc.box.length){Or=!0,Sr=gu.shift;break}}return nc};Ma(function(){return Ei(wi,fr.iconBox,o.WritingMode.horizontal)},function(){var Di=fr.verticalTextBox,Ja=pr&&pr.box&&pr.box.length;return ee.allowVerticalPlacement&&!Ja&&Kn.numVerticalGlyphVertices>0&&Di?Ei(Di,fr.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),pr&&(Or=pr.box,cr=pr.offscreen);var ti=Ni(pr&&pr.box);if(!Or&&L.prevPlacement){var Ii=L.prevPlacement.variableOffsets[Kn.crossTileID];Ii&&(L.variableOffsets[Kn.crossTileID]=Ii,L.markUsedJustification(ee,Ii.anchor,Kn,ti))}}else{var di=function(Di,Ja){var la=L.collisionIndex.placeCollisionBox(Di,Ot,Be,fe,pt.predicate);return la&&la.box&&la.box.length&&(L.markUsedOrientation(ee,Ja,Kn),L.placedOrientations[Kn.crossTileID]=Ja),la};Ma(function(){return di(wi,o.WritingMode.horizontal)},function(){var Di=fr.verticalTextBox;return ee.allowVerticalPlacement&&Kn.numVerticalGlyphVertices>0&&Di?di(Di,o.WritingMode.vertical):{box:null,offscreen:null}}),Ni(pr&&pr.box&&pr.box.length)}}if(Or=(wr=pr)&&wr.box&&wr.box.length>0,cr=wr&&wr.offscreen,Kn.useRuntimeCollisionCircles){var ii=ee.text.placedSymbolArray.get(Kn.centerJustifiedTextSymbolIndex),zi=o.evaluateSizeForFeature(ee.textSizeData,at,ii),ji=ie.get("text-padding"),Xi=Kn.collisionCircleDiameter;Dr=L.collisionIndex.placeCollisionCircles(Ot,ii,ee.lineVertexArray,ee.glyphOffsetArray,zi,fe,we,Oe,G,It,pt.predicate,Xi,ji),Or=Ot||Dr.circles.length>0&&!Dr.collisionDetected,cr=cr&&Dr.offscreen}if(fr.iconFeatureIndex&&(Qr=fr.iconFeatureIndex),fr.iconBox){var Tl=function(Di){var Ja=$t&&Sr?Hn(Di,Sr.x,Sr.y,jt,It,L.transform.angle):Di;return L.collisionIndex.placeCollisionBox(Ja,St,Be,fe,pt.predicate)};nr=Cr&&Cr.box&&Cr.box.length&&fr.verticalIconBox?(Gr=Tl(fr.verticalIconBox)).box.length>0:(Gr=Tl(fr.iconBox)).box.length>0,cr=cr&&Gr.offscreen}var kl=vt||Kn.numHorizontalGlyphVertices===0&&Kn.numVerticalGlyphVertices===0,ai=kt||Kn.numIconVertices===0;if(kl||ai?ai?kl||(nr=nr&&Or):Or=nr&&Or:nr=Or=nr&&Or,Or&&wr&&wr.box&&(Cr&&Cr.box&&Xr?L.collisionIndex.insertCollisionBox(wr.box,ie.get("text-ignore-placement"),ee.bucketInstanceId,Xr,pt.ID):L.collisionIndex.insertCollisionBox(wr.box,ie.get("text-ignore-placement"),ee.bucketInstanceId,Wr,pt.ID)),nr&&Gr&&L.collisionIndex.insertCollisionBox(Gr.box,ie.get("icon-ignore-placement"),ee.bucketInstanceId,Qr,pt.ID),Dr&&(Or&&L.collisionIndex.insertCollisionCircles(Dr.circles,ie.get("text-ignore-placement"),ee.bucketInstanceId,Wr,pt.ID),G)){var du=ee.bucketInstanceId,Gl=L.collisionCircleArrays[du];Gl===void 0&&(Gl=L.collisionCircleArrays[du]=new In);for(var os=0;os<Dr.circles.length;os+=4)Gl.circles.push(Dr.circles[os+0]),Gl.circles.push(Dr.circles[os+1]),Gl.circles.push(Dr.circles[os+2]),Gl.circles.push(Dr.collisionDetected?1:0)}L.placements[Kn.crossTileID]=new an(Or||Ht,nr||vn,cr||ee.justReloaded),Y[Kn.crossTileID]=!0}};if(Zt)for(var Ln=ee.getSortedSymbolIndexes(this.transform.angle),Rn=Ln.length-1;Rn>=0;--Rn){var Gn=Ln[Rn];bn(ee.symbolInstances.get(Gn),ee.collisionArrays[Gn])}else for(var or=N.symbolInstanceStart;or<N.symbolInstanceEnd;or++)bn(ee.symbolInstances.get(or),ee.collisionArrays[or]);if(G&&ee.bucketInstanceId in this.collisionCircleArrays){var hr=this.collisionCircleArrays[ee.bucketInstanceId];o.invert(hr.invProjMatrix,fe),hr.viewportMatrix=this.collisionIndex.getViewportMatrix()}ee.justReloaded=!1},Qn.prototype.markUsedJustification=function(N,Y,G,L){var q,ee={left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex};q=L===o.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:ee[o.getAnchorJustification(Y)];for(var ie=0,fe=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];ie<fe.length;ie+=1){var we=fe[ie];we>=0&&(N.text.placedSymbolArray.get(we).crossTileID=q>=0&&we!==q?0:G.crossTileID)}},Qn.prototype.markUsedOrientation=function(N,Y,G){for(var L=Y===o.WritingMode.horizontal||Y===o.WritingMode.horizontalOnly?Y:0,q=Y===o.WritingMode.vertical?Y:0,ee=0,ie=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];ee<ie.length;ee+=1){var fe=ie[ee];N.text.placedSymbolArray.get(fe).placedOrientation=L}G.verticalPlacedTextSymbolIndex&&(N.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=q)},Qn.prototype.commit=function(N){this.commitTime=N,this.zoomAtLastRecencyCheck=this.transform.zoom;var Y=this.prevPlacement,G=!1;this.prevZoomAdjustment=Y?Y.zoomAdjustment(this.transform.zoom):0;var L=Y?Y.symbolFadeChange(N):1,q=Y?Y.opacities:{},ee=Y?Y.variableOffsets:{},ie=Y?Y.placedOrientations:{};for(var fe in this.placements){var we=this.placements[fe],Oe=q[fe];Oe?(this.opacities[fe]=new nn(Oe,L,we.text,we.icon),G=G||we.text!==Oe.text.placed||we.icon!==Oe.icon.placed):(this.opacities[fe]=new nn(null,L,we.text,we.icon,we.skipFade),G=G||we.text||we.icon)}for(var Be in q){var Ge=q[Be];if(!this.opacities[Be]){var Ye=new nn(Ge,L,!1,!1);Ye.isHidden()||(this.opacities[Be]=Ye,G=G||Ge.text.placed||Ge.icon.placed)}}for(var at in ee)this.variableOffsets[at]||!this.opacities[at]||this.opacities[at].isHidden()||(this.variableOffsets[at]=ee[at]);for(var pt in ie)this.placedOrientations[pt]||!this.opacities[pt]||this.opacities[pt].isHidden()||(this.placedOrientations[pt]=ie[pt]);G?this.lastPlacementChangeTime=N:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=Y?Y.lastPlacementChangeTime:N)},Qn.prototype.updateLayerOpacities=function(N,Y){for(var G={},L=0,q=Y;L<q.length;L+=1){var ee=q[L],ie=ee.getBucket(N);ie&&ee.latestFeatureIndex&&N.id===ie.layerIds[0]&&this.updateBucketOpacities(ie,G,ee.collisionBoxArray)}},Qn.prototype.updateBucketOpacities=function(N,Y,G){var L=this;N.hasTextData()&&N.text.opacityVertexArray.clear(),N.hasIconData()&&N.icon.opacityVertexArray.clear(),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexArray.clear(),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexArray.clear();var q=N.layers[0].layout,ee=new nn(null,0,!1,!1,!0),ie=q.get("text-allow-overlap"),fe=q.get("icon-allow-overlap"),we=q.get("text-variable-anchor"),Oe=q.get("text-rotation-alignment")==="map",Be=q.get("text-pitch-alignment")==="map",Ge=q.get("icon-text-fit")!=="none",Ye=new nn(null,0,ie&&(fe||!N.hasIconData()||q.get("icon-optional")),fe&&(ie||!N.hasTextData()||q.get("text-optional")),!0);!N.collisionArrays&&G&&(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData())&&N.deserializeCollisionBoxes(G);for(var at=function(Ot,St,jt){for(var It=0;It<St/4;It++)Ot.opacityVertexArray.emplaceBack(jt)},pt=function(Ot){var St=N.symbolInstances.get(Ot),jt=St.numHorizontalGlyphVertices,It=St.numVerticalGlyphVertices,$t=St.crossTileID,Zt=Y[$t],Ht=L.opacities[$t];Zt?Ht=ee:Ht||(Ht=Ye,L.opacities[$t]=Ht),Y[$t]=!0;var vn=jt>0||It>0,bn=St.numIconVertices>0,Ln=L.placedOrientations[St.crossTileID],Rn=Ln===o.WritingMode.vertical,Gn=Ln===o.WritingMode.horizontal||Ln===o.WritingMode.horizontalOnly;if(vn){var or=_n(Ht.text),hr=Rn?on:or;at(N.text,jt,hr);var Kn=Gn?on:or;at(N.text,It,Kn);var fr=Ht.text.isHidden();[St.rightJustifiedTextSymbolIndex,St.centerJustifiedTextSymbolIndex,St.leftJustifiedTextSymbolIndex].forEach(function(Qr){Qr>=0&&(N.text.placedSymbolArray.get(Qr).hidden=fr||Rn?1:0)}),St.verticalPlacedTextSymbolIndex>=0&&(N.text.placedSymbolArray.get(St.verticalPlacedTextSymbolIndex).hidden=fr||Gn?1:0);var wr=L.variableOffsets[St.crossTileID];wr&&L.markUsedJustification(N,wr.anchor,St,Ln);var Or=L.placedOrientations[St.crossTileID];Or&&(L.markUsedJustification(N,"left",St,Or),L.markUsedOrientation(N,Or,St))}if(bn){var nr=_n(Ht.icon),cr=!(Ge&&St.verticalPlacedIconSymbolIndex&&Rn);if(St.placedIconSymbolIndex>=0){var Sr=cr?nr:on;at(N.icon,St.numIconVertices,Sr),N.icon.placedSymbolArray.get(St.placedIconSymbolIndex).hidden=Ht.icon.isHidden()}if(St.verticalPlacedIconSymbolIndex>=0){var pr=cr?on:nr;at(N.icon,St.numVerticalIconVertices,pr),N.icon.placedSymbolArray.get(St.verticalPlacedIconSymbolIndex).hidden=Ht.icon.isHidden()}}if(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData()){var Cr=N.collisionArrays[Ot];if(Cr){var Dr=new o.Point(0,0);if(Cr.textBox||Cr.verticalTextBox){var Gr=!0;if(we){var Wr=L.variableOffsets[$t];Wr?(Dr=Zn(Wr.anchor,Wr.width,Wr.height,Wr.textOffset,Wr.textBoxScale),Oe&&Dr._rotate(Be?L.transform.angle:-L.transform.angle)):Gr=!1}Cr.textBox&&mr(N.textCollisionBox.collisionVertexArray,Ht.text.placed,!Gr||Rn,Dr.x,Dr.y),Cr.verticalTextBox&&mr(N.textCollisionBox.collisionVertexArray,Ht.text.placed,!Gr||Gn,Dr.x,Dr.y)}var Xr=!!(!Gn&&Cr.verticalIconBox);Cr.iconBox&&mr(N.iconCollisionBox.collisionVertexArray,Ht.icon.placed,Xr,Ge?Dr.x:0,Ge?Dr.y:0),Cr.verticalIconBox&&mr(N.iconCollisionBox.collisionVertexArray,Ht.icon.placed,!Xr,Ge?Dr.x:0,Ge?Dr.y:0)}}},vt=0;vt<N.symbolInstances.length;vt++)pt(vt);if(N.sortFeatures(this.transform.angle),this.retainedQueryData[N.bucketInstanceId]&&(this.retainedQueryData[N.bucketInstanceId].featureSortOrder=N.featureSortOrder),N.hasTextData()&&N.text.opacityVertexBuffer&&N.text.opacityVertexBuffer.updateData(N.text.opacityVertexArray),N.hasIconData()&&N.icon.opacityVertexBuffer&&N.icon.opacityVertexBuffer.updateData(N.icon.opacityVertexArray),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexBuffer&&N.iconCollisionBox.collisionVertexBuffer.updateData(N.iconCollisionBox.collisionVertexArray),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexBuffer&&N.textCollisionBox.collisionVertexBuffer.updateData(N.textCollisionBox.collisionVertexArray),N.bucketInstanceId in this.collisionCircleArrays){var kt=this.collisionCircleArrays[N.bucketInstanceId];N.placementInvProjMatrix=kt.invProjMatrix,N.placementViewportMatrix=kt.viewportMatrix,N.collisionCircleArray=kt.circles,delete this.collisionCircleArrays[N.bucketInstanceId]}},Qn.prototype.symbolFadeChange=function(N){return this.fadeDuration===0?1:(N-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Qn.prototype.zoomAdjustment=function(N){return Math.max(0,(this.transform.zoom-N)/1.5)},Qn.prototype.hasTransitions=function(N){return this.stale||N-this.lastPlacementChangeTime<this.fadeDuration},Qn.prototype.stillRecent=function(N,Y){var G=this.zoomAtLastRecencyCheck===Y?1-this.zoomAdjustment(Y):1;return this.zoomAtLastRecencyCheck=Y,this.commitTime+this.fadeDuration*G>N},Qn.prototype.setStale=function(){this.stale=!0};var Qt=Math.pow(2,25),xn=Math.pow(2,24),At=Math.pow(2,17),Wt=Math.pow(2,16),en=Math.pow(2,9),dn=Math.pow(2,8),gn=Math.pow(2,1);function _n(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;var Y=N.placed?1:0,G=Math.floor(127*N.opacity);return G*Qt+Y*xn+G*At+Y*Wt+G*en+Y*dn+G*gn+Y}var on=0,Yt=function(N){this._sortAcrossTiles=N.layout.get("symbol-z-order")!=="viewport-y"&&N.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Yt.prototype.continuePlacement=function(N,Y,G,L,q){for(var ee=this._bucketParts;this._currentTileIndex<N.length;){var ie=N[this._currentTileIndex];if(Y.getBucketParts(ee,L,ie,this._sortAcrossTiles),this._currentTileIndex++,q())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ee.sort(function(we,Oe){return we.sortKey-Oe.sortKey}));this._currentPartIndex<ee.length;){var fe=ee[this._currentPartIndex];if(Y.placeLayerBucketPart(fe,this._seenCrossTileIDs,G),this._currentPartIndex++,q())return!0}return!1};var Xt=function(N,Y,G,L,q,ee,ie){this.placement=new Qn(N,q,ee,ie),this._currentPlacementIndex=Y.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=L,this._done=!1};Xt.prototype.isDone=function(){return this._done},Xt.prototype.continuePlacement=function(N,Y,G){for(var L=this,q=o.browser.now(),ee=function(){var we=o.browser.now()-q;return!L._forceFullPlacement&&we>2};this._currentPlacementIndex>=0;){var ie=Y[N[this._currentPlacementIndex]],fe=this.placement.collisionIndex.transform.zoom;if(ie.type==="symbol"&&(!ie.minzoom||ie.minzoom<=fe)&&(!ie.maxzoom||ie.maxzoom>fe)){if(this._inProgressLayer||(this._inProgressLayer=new Yt(ie)),this._inProgressLayer.continuePlacement(G[ie.source],this.placement,this._showCollisionBoxes,ie,ee))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xt.prototype.commit=function(N){return this.placement.commit(N),this.placement};var sn=512/o.EXTENT/2,hn=function(N,Y,G){this.tileID=N,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var L=0;L<Y.length;L++){var q=Y.get(L),ee=q.key;this.indexedSymbolInstances[ee]||(this.indexedSymbolInstances[ee]=[]),this.indexedSymbolInstances[ee].push({crossTileID:q.crossTileID,coord:this.getScaledCoordinates(q,N)})}};hn.prototype.getScaledCoordinates=function(N,Y){var G=Y.canonical.z-this.tileID.canonical.z,L=sn/Math.pow(2,G);return{x:Math.floor((Y.canonical.x*o.EXTENT+N.anchorX)*L),y:Math.floor((Y.canonical.y*o.EXTENT+N.anchorY)*L)}},hn.prototype.findMatches=function(N,Y,G){for(var L=this.tileID.canonical.z<Y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Y.canonical.z),q=0;q<N.length;q++){var ee=N.get(q);if(!ee.crossTileID){var ie=this.indexedSymbolInstances[ee.key];if(ie)for(var fe=this.getScaledCoordinates(ee,Y),we=0,Oe=ie;we<Oe.length;we+=1){var Be=Oe[we];if(Math.abs(Be.coord.x-fe.x)<=L&&Math.abs(Be.coord.y-fe.y)<=L&&!G[Be.crossTileID]){G[Be.crossTileID]=!0,ee.crossTileID=Be.crossTileID;break}}}}};var Sn=function(){this.maxCrossTileID=0};Sn.prototype.generate=function(){return++this.maxCrossTileID};var Cn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Cn.prototype.handleWrapJump=function(N){var Y=Math.round((N-this.lng)/360);if(Y!==0)for(var G in this.indexes){var L=this.indexes[G],q={};for(var ee in L){var ie=L[ee];ie.tileID=ie.tileID.unwrapTo(ie.tileID.wrap+Y),q[ie.tileID.key]=ie}this.indexes[G]=q}this.lng=N},Cn.prototype.addBucket=function(N,Y,G){if(this.indexes[N.overscaledZ]&&this.indexes[N.overscaledZ][N.key]){if(this.indexes[N.overscaledZ][N.key].bucketInstanceId===Y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(N.overscaledZ,this.indexes[N.overscaledZ][N.key])}for(var L=0;L<Y.symbolInstances.length;L++)Y.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[N.overscaledZ]||(this.usedCrossTileIDs[N.overscaledZ]={});var q=this.usedCrossTileIDs[N.overscaledZ];for(var ee in this.indexes){var ie=this.indexes[ee];if(Number(ee)>N.overscaledZ)for(var fe in ie){var we=ie[fe];we.tileID.isChildOf(N)&&we.findMatches(Y.symbolInstances,N,q)}else{var Oe=ie[N.scaledTo(Number(ee)).key];Oe&&Oe.findMatches(Y.symbolInstances,N,q)}}for(var Be=0;Be<Y.symbolInstances.length;Be++){var Ge=Y.symbolInstances.get(Be);Ge.crossTileID||(Ge.crossTileID=G.generate(),q[Ge.crossTileID]=!0)}return this.indexes[N.overscaledZ]===void 0&&(this.indexes[N.overscaledZ]={}),this.indexes[N.overscaledZ][N.key]=new hn(N,Y.symbolInstances,Y.bucketInstanceId),!0},Cn.prototype.removeBucketCrossTileIDs=function(N,Y){for(var G in Y.indexedSymbolInstances)for(var L=0,q=Y.indexedSymbolInstances[G];L<q.length;L+=1){var ee=q[L];delete this.usedCrossTileIDs[N][ee.crossTileID]}},Cn.prototype.removeStaleBuckets=function(N){var Y=!1;for(var G in this.indexes){var L=this.indexes[G];for(var q in L)N[L[q].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,L[q]),delete L[q],Y=!0)}return Y};var Un=function(){this.layerIndexes={},this.crossTileIDs=new Sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Un.prototype.addLayer=function(N,Y,G){var L=this.layerIndexes[N.id];L===void 0&&(L=this.layerIndexes[N.id]=new Cn);var q=!1,ee={};L.handleWrapJump(G);for(var ie=0,fe=Y;ie<fe.length;ie+=1){var we=fe[ie],Oe=we.getBucket(N);Oe&&N.id===Oe.layerIds[0]&&(Oe.bucketInstanceId||(Oe.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(we.tileID,Oe,this.crossTileIDs)&&(q=!0),ee[Oe.bucketInstanceId]=!0)}return L.removeStaleBuckets(ee)&&(q=!0),q},Un.prototype.pruneUnusedLayers=function(N){var Y={};for(var G in N.forEach(function(L){Y[L]=!0}),this.layerIndexes)Y[G]||delete this.layerIndexes[G]};var qn=function(N,Y){return o.emitValidationErrors(N,Y&&Y.filter(function(G){return G.identifier!=="source.canvas"}))},tr=o.pick(wt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Yn=o.pick(wt,["setCenter","setZoom","setBearing","setPitch"]),sr=function(){var N={},Y=o.styleSpec.$version;for(var G in o.styleSpec.$root){var L=o.styleSpec.$root[G];if(L.required){var q;(q=G==="version"?Y:L.type==="array"?[]:{})!=null&&(N[G]=q)}}return N}(),ar=function(N){function Y(G,L){var q=this;L===void 0&&(L={}),N.call(this),this.map=G,this.dispatcher=new O(bt(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new m(G._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Un,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var ee=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(ie){var fe={pluginStatus:ie.pluginStatus,pluginURL:ie.pluginURL};ee.dispatcher.broadcast("syncRTLPluginState",fe,function(we,Oe){if(o.triggerPluginCompletionEvent(we),Oe&&Oe.every(function(Ge){return Ge}))for(var Be in ee.sourceCaches)ee.sourceCaches[Be].reload()})}),this.on("data",function(ie){if(ie.dataType==="source"&&ie.sourceDataType==="metadata"){var fe=q.sourceCaches[ie.sourceId];if(fe){var we=fe.getSource();if(we&&we.vectorLayerIds)for(var Oe in q._layers){var Be=q._layers[Oe];Be.source===we.id&&q._validateLayer(Be)}}}})}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.loadURL=function(G,L){var q=this;L===void 0&&(L={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var ee=typeof L.validate=="boolean"?L.validate:!o.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,L.accessToken);var ie=this.map._requestManager.transformRequest(G,o.ResourceType.Style);this._request=o.getJSON(ie,function(fe,we){q._request=null,fe?q.fire(new o.ErrorEvent(fe)):we&&q._load(we,ee)})},Y.prototype.loadJSON=function(G,L){var q=this;L===void 0&&(L={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){q._request=null,q._load(G,L.validate!==!1)})},Y.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(sr,!1)},Y.prototype._load=function(G,L){if(!L||!qn(this,o.validateStyle(G))){for(var q in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(q,G.sources[q],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var ee=Lt(this.stylesheet.layers);this._order=ee.map(function(Oe){return Oe.id}),this._layers={},this._serializedLayers={};for(var ie=0,fe=ee;ie<fe.length;ie+=1){var we=fe[ie];(we=o.createStyleLayer(we)).setEventedParent(this,{layer:{id:we.id}}),this._layers[we.id]=we,this._serializedLayers[we.id]=we.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},Y.prototype._loadSprite=function(G){var L=this;this._spriteRequest=function(q,ee,ie){var fe,we,Oe,Be=o.browser.devicePixelRatio>1?"@2x":"",Ge=o.getJSON(ee.transformRequest(ee.normalizeSpriteURL(q,Be,".json"),o.ResourceType.SpriteJSON),function(pt,vt){Ge=null,Oe||(Oe=pt,fe=vt,at())}),Ye=o.getImage(ee.transformRequest(ee.normalizeSpriteURL(q,Be,".png"),o.ResourceType.SpriteImage),function(pt,vt){Ye=null,Oe||(Oe=pt,we=vt,at())});function at(){if(Oe)ie(Oe);else if(fe&&we){var pt=o.browser.getImageData(we),vt={};for(var kt in fe){var Ot=fe[kt],St=Ot.width,jt=Ot.height,It=Ot.x,$t=Ot.y,Zt=Ot.sdf,Ht=Ot.pixelRatio,vn=Ot.stretchX,bn=Ot.stretchY,Ln=Ot.content,Rn=new o.RGBAImage({width:St,height:jt});o.RGBAImage.copy(pt,Rn,{x:It,y:$t},{x:0,y:0},{width:St,height:jt}),vt[kt]={data:Rn,pixelRatio:Ht,sdf:Zt,stretchX:vn,stretchY:bn,content:Ln}}ie(null,vt)}}return{cancel:function(){Ge&&(Ge.cancel(),Ge=null),Ye&&(Ye.cancel(),Ye=null)}}}(G,this.map._requestManager,function(q,ee){if(L._spriteRequest=null,q)L.fire(new o.ErrorEvent(q));else if(ee)for(var ie in ee)L.imageManager.addImage(ie,ee[ie]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new o.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(G){var L=this.sourceCaches[G.source];if(L){var q=G.sourceLayer;if(q){var ee=L.getSource();(ee.type==="geojson"||ee.vectorLayerIds&&ee.vectorLayerIds.indexOf(q)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+q+'" does not exist on source "'+ee.id+'" as specified by style layer "'+G.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(G){for(var L=[],q=0,ee=G;q<ee.length;q+=1){var ie=ee[q],fe=this._layers[ie];fe.type!=="custom"&&L.push(fe.serialize())}return L},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(G){if(this._loaded){var L=this._changed;if(this._changed){var q=Object.keys(this._updatedLayers),ee=Object.keys(this._removedLayers);for(var ie in(q.length||ee.length)&&this._updateWorkerLayers(q,ee),this._updatedSources){var fe=this._updatedSources[ie];fe==="reload"?this._reloadSource(ie):fe==="clear"&&this._clearSource(ie)}for(var we in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[we].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}var Oe={};for(var Be in this.sourceCaches){var Ge=this.sourceCaches[Be];Oe[Be]=Ge.used,Ge.used=!1}for(var Ye=0,at=this._order;Ye<at.length;Ye+=1){var pt=at[Ye],vt=this._layers[pt];vt.recalculate(G,this._availableImages),!vt.isHidden(G.zoom)&&vt.source&&(this.sourceCaches[vt.source].used=!0)}for(var kt in Oe){var Ot=this.sourceCaches[kt];Oe[kt]!==Ot.used&&Ot.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:kt}))}this.light.recalculate(G),this.z=G.zoom,L&&this.fire(new o.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(G,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:L})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(G){var L=this;if(this._checkLoaded(),qn(this,o.validateStyle(G)))return!1;(G=o.clone$1(G)).layers=Lt(G.layers);var q=Jt(this.serialize(),G).filter(function(ie){return!(ie.command in Yn)});if(q.length===0)return!1;var ee=q.filter(function(ie){return!(ie.command in tr)});if(ee.length>0)throw new Error("Unimplemented: "+ee.map(function(ie){return ie.command}).join(", ")+".");return q.forEach(function(ie){ie.command!=="setTransition"&&L[ie.command].apply(L,ie.args)}),this.stylesheet=G,!0},Y.prototype.addImage=function(G,L){if(this.getImage(G))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,L),this._afterImageUpdated(G)},Y.prototype.updateImage=function(G,L){this.imageManager.updateImage(G,L)},Y.prototype.getImage=function(G){return this.imageManager.getImage(G)},Y.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._afterImageUpdated(G)},Y.prototype._afterImageUpdated=function(G){this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(G,L,q){var ee=this;if(q===void 0&&(q={}),this._checkLoaded(),this.sourceCaches[G]!==void 0)throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(o.validateStyle.source,"sources."+G,L,null,q))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var ie=this.sourceCaches[G]=new ft(G,L,this.dispatcher);ie.style=this,ie.setEventedParent(this,function(){return{isSourceLoaded:ee.loaded(),source:ie.serialize(),sourceId:G}}),ie.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(G){if(this._checkLoaded(),this.sourceCaches[G]===void 0)throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===G)return this.fire(new o.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+L+'" is using it.')));var q=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],q.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),q.setEventedParent(null),q.clearTiles(),q.onRemove&&q.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(G,L){this._checkLoaded(),this.sourceCaches[G].getSource().setData(L),this._changed=!0},Y.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},Y.prototype.addLayer=function(G,L,q){q===void 0&&(q={}),this._checkLoaded();var ee=G.id;if(this.getLayer(ee))this.fire(new o.ErrorEvent(new Error('Layer with id "'+ee+'" already exists on this map')));else{var ie;if(G.type==="custom"){if(qn(this,o.validateCustomStyleLayer(G)))return;ie=o.createStyleLayer(G)}else{if(typeof G.source=="object"&&(this.addSource(ee,G.source),G=o.clone$1(G),G=o.extend(G,{source:ee})),this._validate(o.validateStyle.layer,"layers."+ee,G,{arrayIndex:-1},q))return;ie=o.createStyleLayer(G),this._validateLayer(ie),ie.setEventedParent(this,{layer:{id:ee}}),this._serializedLayers[ie.id]=ie.serialize()}var fe=L?this._order.indexOf(L):this._order.length;if(L&&fe===-1)this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(fe,0,ee),this._layerOrderChanged=!0,this._layers[ee]=ie,this._removedLayers[ee]&&ie.source&&ie.type!=="custom"){var we=this._removedLayers[ee];delete this._removedLayers[ee],we.type!==ie.type?this._updatedSources[ie.source]="clear":(this._updatedSources[ie.source]="reload",this.sourceCaches[ie.source].pause())}this._updateLayer(ie),ie.onAdd&&ie.onAdd(this.map)}}},Y.prototype.moveLayer=function(G,L){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==L){var q=this._order.indexOf(G);this._order.splice(q,1);var ee=L?this._order.indexOf(L):this._order.length;L&&ee===-1?this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice(ee,0,G),this._layerOrderChanged=!0)}}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function(G){this._checkLoaded();var L=this._layers[G];if(L){L.setEventedParent(null);var q=this._order.indexOf(G);this._order.splice(q,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=L,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],L.onRemove&&L.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function(G){return this._layers[G]},Y.prototype.hasLayer=function(G){return G in this._layers},Y.prototype.setLayerZoomRange=function(G,L,q){this._checkLoaded();var ee=this.getLayer(G);ee?ee.minzoom===L&&ee.maxzoom===q||(L!=null&&(ee.minzoom=L),q!=null&&(ee.maxzoom=q),this._updateLayer(ee)):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function(G,L,q){q===void 0&&(q={}),this._checkLoaded();var ee=this.getLayer(G);if(ee){if(!o.deepEqual(ee.filter,L))return L==null?(ee.filter=void 0,void this._updateLayer(ee)):void(this._validate(o.validateStyle.filter,"layers."+ee.id+".filter",L,null,q)||(ee.filter=o.clone$1(L),this._updateLayer(ee)))}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function(G){return o.clone$1(this.getLayer(G).filter)},Y.prototype.setLayoutProperty=function(G,L,q,ee){ee===void 0&&(ee={}),this._checkLoaded();var ie=this.getLayer(G);ie?o.deepEqual(ie.getLayoutProperty(L),q)||(ie.setLayoutProperty(L,q,ee),this._updateLayer(ie)):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function(G,L){var q=this.getLayer(G);if(q)return q.getLayoutProperty(L);this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function(G,L,q,ee){ee===void 0&&(ee={}),this._checkLoaded();var ie=this.getLayer(G);ie?o.deepEqual(ie.getPaintProperty(L),q)||(ie.setPaintProperty(L,q,ee)&&this._updateLayer(ie),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function(G,L){return this.getLayer(G).getPaintProperty(L)},Y.prototype.setFeatureState=function(G,L){this._checkLoaded();var q=G.source,ee=G.sourceLayer,ie=this.sourceCaches[q];if(ie!==void 0){var fe=ie.getSource().type;fe==="geojson"&&ee?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):fe!=="vector"||ee?(G.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),ie.setFeatureState(ee,G.id,L)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function(G,L){this._checkLoaded();var q=G.source,ee=this.sourceCaches[q];if(ee!==void 0){var ie=ee.getSource().type,fe=ie==="vector"?G.sourceLayer:void 0;ie!=="vector"||fe?L&&typeof G.id!="string"&&typeof G.id!="number"?this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ee.removeFeatureState(fe,G.id,L):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function(G){this._checkLoaded();var L=G.source,q=G.sourceLayer,ee=this.sourceCaches[L];if(ee!==void 0){if(ee.getSource().type!=="vector"||q)return G.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),ee.getFeatureState(q,G.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return G!==void 0})},Y.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&this.sourceCaches[G.source].getSource().type!=="raster"&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(G){for(var L=this,q=function(Ln){return L._layers[Ln].type==="fill-extrusion"},ee={},ie=[],fe=this._order.length-1;fe>=0;fe--){var we=this._order[fe];if(q(we)){ee[we]=fe;for(var Oe=0,Be=G;Oe<Be.length;Oe+=1){var Ge=Be[Oe][we];if(Ge)for(var Ye=0,at=Ge;Ye<at.length;Ye+=1){var pt=at[Ye];ie.push(pt)}}}}ie.sort(function(Ln,Rn){return Rn.intersectionZ-Ln.intersectionZ});for(var vt=[],kt=this._order.length-1;kt>=0;kt--){var Ot=this._order[kt];if(q(Ot))for(var St=ie.length-1;St>=0;St--){var jt=ie[St].feature;if(ee[jt.layer.id]<kt)break;vt.push(jt),ie.pop()}else for(var It=0,$t=G;It<$t.length;It+=1){var Zt=$t[It][Ot];if(Zt)for(var Ht=0,vn=Zt;Ht<vn.length;Ht+=1){var bn=vn[Ht];vt.push(bn.feature)}}}return vt},Y.prototype.queryRenderedFeatures=function(G,L,q){L&&L.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var ee={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ie=0,fe=L.layers;ie<fe.length;ie+=1){var we=fe[ie],Oe=this._layers[we];if(!Oe)return this.fire(new o.ErrorEvent(new Error("The layer '"+we+"' does not exist in the map's style and cannot be queried for features."))),[];ee[Oe.source]=!0}}var Be=[];for(var Ge in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!ee[Ge]||Be.push(te(this.sourceCaches[Ge],this._layers,this._serializedLayers,G,L,q));return this.placement&&Be.push(function(Ye,at,pt,vt,kt,Ot,St){for(var jt={},It=Ot.queryRenderedSymbols(vt),$t=[],Zt=0,Ht=Object.keys(It).map(Number);Zt<Ht.length;Zt+=1){var vn=Ht[Zt];$t.push(St[vn])}$t.sort(Q);for(var bn=function(){var hr=Rn[Ln],Kn=hr.featureIndex.lookupSymbolFeatures(It[hr.bucketInstanceId],at,hr.bucketIndex,hr.sourceLayerIndex,kt.filter,kt.layers,kt.availableImages,Ye);for(var fr in Kn){var wr=jt[fr]=jt[fr]||[],Or=Kn[fr];Or.sort(function(pr,Cr){var Dr=hr.featureSortOrder;if(Dr){var Gr=Dr.indexOf(pr.featureIndex);return Dr.indexOf(Cr.featureIndex)-Gr}return Cr.featureIndex-pr.featureIndex});for(var nr=0,cr=Or;nr<cr.length;nr+=1){var Sr=cr[nr];wr.push(Sr)}}},Ln=0,Rn=$t;Ln<Rn.length;Ln+=1)bn();var Gn=function(hr){jt[hr].forEach(function(Kn){var fr=Kn.feature,wr=Ye[hr],Or=pt[wr.source].getFeatureState(fr.layer["source-layer"],fr.id);fr.source=fr.layer.source,fr.layer["source-layer"]&&(fr.sourceLayer=fr.layer["source-layer"]),fr.state=Or})};for(var or in jt)Gn(or);return jt}(this._layers,this._serializedLayers,this.sourceCaches,G,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Be)},Y.prototype.querySourceFeatures=function(G,L){L&&L.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var q=this.sourceCaches[G];return q?function(ee,ie){for(var fe=ee.getRenderableIds().map(function(at){return ee.getTileByID(at)}),we=[],Oe={},Be=0;Be<fe.length;Be++){var Ge=fe[Be],Ye=Ge.tileID.canonical.key;Oe[Ye]||(Oe[Ye]=!0,Ge.querySourceFeatures(we,ie))}return we}(q,L):[]},Y.prototype.addSourceType=function(G,L,q){return Y.getSourceType(G)?q(new Error('A source type called "'+G+'" already exists.')):(Y.setSourceType(G,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:L.workerSourceURL},q):q(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(G,L){L===void 0&&(L={}),this._checkLoaded();var q=this.light.getLight(),ee=!1;for(var ie in G)if(!o.deepEqual(G[ie],q[ie])){ee=!0;break}if(ee){var fe={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,L),this.light.updateTransitions(fe)}},Y.prototype._validate=function(G,L,q,ee,ie){return ie===void 0&&(ie={}),(!ie||ie.validate!==!1)&&qn(this,G.call(o.validateStyle,o.extend({key:L,style:this.serialize(),value:q,styleSpec:o.styleSpec},ee)))},Y.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},Y.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},Y.prototype._updateSources=function(G){for(var L in this.sourceCaches)this.sourceCaches[L].update(G)},Y.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},Y.prototype._updatePlacement=function(G,L,q,ee,ie){ie===void 0&&(ie=!1);for(var fe=!1,we=!1,Oe={},Be=0,Ge=this._order;Be<Ge.length;Be+=1){var Ye=Ge[Be],at=this._layers[Ye];if(at.type==="symbol"){if(!Oe[at.source]){var pt=this.sourceCaches[at.source];Oe[at.source]=pt.getRenderableIds(!0).map(function(It){return pt.getTileByID(It)}).sort(function(It,$t){return $t.tileID.overscaledZ-It.tileID.overscaledZ||(It.tileID.isLessThan($t.tileID)?-1:1)})}var vt=this.crossTileSymbolIndex.addLayer(at,Oe[at.source],G.center.lng);fe=fe||vt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ie=ie||this._layerOrderChanged||q===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),G.zoom))&&(this.pauseablePlacement=new Xt(G,this._order,ie,L,q,ee,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),we=!0),fe&&this.pauseablePlacement.placement.setStale()),we||fe)for(var kt=0,Ot=this._order;kt<Ot.length;kt+=1){var St=Ot[kt],jt=this._layers[St];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,Oe[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},Y.prototype.getImages=function(G,L,q){this.imageManager.getImages(L.icons,q),this._updateTilesForChangedImages();var ee=this.sourceCaches[L.source];ee&&ee.setDependencies(L.tileID.key,L.type,L.icons)},Y.prototype.getGlyphs=function(G,L,q){this.glyphManager.getGlyphs(L.stacks,q)},Y.prototype.getResource=function(G,L,q){return o.makeRequest(L,q)},Y}(o.Evented);ar.getSourceType=function(N){return re[N]},ar.setSourceType=function(N,Y){re[N]=Y},ar.registerForPluginStateChange=o.registerForPluginStateChange;var er=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),gr=Mi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),kr=Mi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),yr=Mi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ur=Mi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),_r=Mi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Mr=Mi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Ur=Mi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),gi=Mi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),xi=Mi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),ia=Mi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),hi=Mi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Bi=Mi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Nr=Mi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ai=Mi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Pa=Mi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),pa=Mi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Xo=Mi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ko=Mi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Co=Mi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),da=Mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Po=Mi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),ms=Mi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Vs=Mi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),to=Mi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),no=Mi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Oo=Mi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Mi(N,Y){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=Y.match(/attribute ([\w]+) ([\w]+)/g),q=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ee=Y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ie=ee?ee.concat(q):q,fe={};return{fragmentSource:N=N.replace(G,function(we,Oe,Be,Ge,Ye){return fe[Ye]=!0,Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
varying `+Be+" "+Ge+" "+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`}),vertexSource:Y=Y.replace(G,function(we,Oe,Be,Ge,Ye){var at=Ge==="float"?"vec2":"vec4",pt=Ye.match(/color/)?"color":at;return fe[Ye]?Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
uniform lowp float u_`+Ye+`_t;
attribute `+Be+" "+at+" a_"+Ye+`;
varying `+Be+" "+Ge+" "+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Ye+" = a_"+Ye+`;
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Ye+" = unpack_mix_"+pt+"(a_"+Ye+", u_"+Ye+`_t);
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
uniform lowp float u_`+Ye+`_t;
attribute `+Be+" "+at+" a_"+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = a_"+Ye+`;
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = unpack_mix_"+pt+"(a_"+Ye+", u_"+Ye+`_t);
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`}),staticAttributes:L,staticUniforms:ie}}var Ji=Object.freeze({__proto__:null,prelude:gr,background:kr,backgroundPattern:yr,circle:ur,clippingMask:_r,heatmap:Mr,heatmapTexture:Ur,collisionBox:gi,collisionCircle:xi,debug:ia,fill:hi,fillOutline:Bi,fillOutlinePattern:Nr,fillPattern:Ai,fillExtrusion:Pa,fillExtrusionPattern:pa,hillshadePrepare:Xo,hillshade:Ko,line:Co,lineGradient:da,linePattern:Po,lineSDF:ms,raster:Vs,symbolIcon:to,symbolSDF:no,symbolTextAndIcon:Oo}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Io(N){for(var Y=[],G=0;G<N.length;G++)if(N[G]!==null){var L=N[G].split(" ");Y.push(L.pop())}return Y}Jo.prototype.bind=function(N,Y,G,L,q,ee,ie,fe){this.context=N;for(var we=this.boundPaintVertexBuffers.length!==L.length,Oe=0;!we&&Oe<L.length;Oe++)this.boundPaintVertexBuffers[Oe]!==L[Oe]&&(we=!0);var Be=!this.vao||this.boundProgram!==Y||this.boundLayoutVertexBuffer!==G||we||this.boundIndexBuffer!==q||this.boundVertexOffset!==ee||this.boundDynamicVertexBuffer!==ie||this.boundDynamicVertexBuffer2!==fe;!N.extVertexArrayObject||Be?this.freshBind(Y,G,L,q,ee,ie,fe):(N.bindVertexArrayOES.set(this.vao),ie&&ie.bind(),q&&q.dynamicDraw&&q.bind(),fe&&fe.bind())},Jo.prototype.freshBind=function(N,Y,G,L,q,ee,ie){var fe,we=N.numAttributes,Oe=this.context,Be=Oe.gl;if(Oe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Oe.extVertexArrayObject.createVertexArrayOES(),Oe.bindVertexArrayOES.set(this.vao),fe=0,this.boundProgram=N,this.boundLayoutVertexBuffer=Y,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=L,this.boundVertexOffset=q,this.boundDynamicVertexBuffer=ee,this.boundDynamicVertexBuffer2=ie;else{fe=Oe.currentNumAttributes||0;for(var Ge=we;Ge<fe;Ge++)Be.disableVertexAttribArray(Ge)}Y.enableAttributes(Be,N);for(var Ye=0,at=G;Ye<at.length;Ye+=1)at[Ye].enableAttributes(Be,N);ee&&ee.enableAttributes(Be,N),ie&&ie.enableAttributes(Be,N),Y.bind(),Y.setVertexAttribPointers(Be,N,q);for(var pt=0,vt=G;pt<vt.length;pt+=1){var kt=vt[pt];kt.bind(),kt.setVertexAttribPointers(Be,N,q)}ee&&(ee.bind(),ee.setVertexAttribPointers(Be,N,q)),L&&L.bind(),ie&&(ie.bind(),ie.setVertexAttribPointers(Be,N,q)),Oe.currentNumAttributes=we},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var po=function(N,Y,G,L,q,ee){var ie=N.gl;this.program=ie.createProgram();for(var fe=Io(G.staticAttributes),we=L?L.getBinderAttributes():[],Oe=fe.concat(we),Be=G.staticUniforms?Io(G.staticUniforms):[],Ge=L?L.getBinderUniforms():[],Ye=[],at=0,pt=Be.concat(Ge);at<pt.length;at+=1){var vt=pt[at];Ye.indexOf(vt)<0&&Ye.push(vt)}var kt=L?L.defines():[];ee&&kt.push("#define OVERDRAW_INSPECTOR;");var Ot=kt.concat(gr.fragmentSource,G.fragmentSource).join(`
`),St=kt.concat(gr.vertexSource,G.vertexSource).join(`
`),jt=ie.createShader(ie.FRAGMENT_SHADER);if(ie.isContextLost())this.failedToCreate=!0;else{ie.shaderSource(jt,Ot),ie.compileShader(jt),ie.attachShader(this.program,jt);var It=ie.createShader(ie.VERTEX_SHADER);if(ie.isContextLost())this.failedToCreate=!0;else{ie.shaderSource(It,St),ie.compileShader(It),ie.attachShader(this.program,It),this.attributes={};var $t={};this.numAttributes=Oe.length;for(var Zt=0;Zt<this.numAttributes;Zt++)Oe[Zt]&&(ie.bindAttribLocation(this.program,Zt,Oe[Zt]),this.attributes[Oe[Zt]]=Zt);ie.linkProgram(this.program),ie.deleteShader(It),ie.deleteShader(jt);for(var Ht=0;Ht<Ye.length;Ht++){var vn=Ye[Ht];if(vn&&!$t[vn]){var bn=ie.getUniformLocation(this.program,vn);bn&&($t[vn]=bn)}}this.fixedUniforms=q(N,$t),this.binderUniforms=L?L.getUniforms(N,$t):[]}}};function ys(N,Y,G){var L=1/Jn(G,1,Y.transform.tileZoom),q=Math.pow(2,G.tileID.overscaledZ),ee=G.tileSize*Math.pow(2,Y.transform.tileZoom)/q,ie=ee*(G.tileID.canonical.x+G.tileID.wrap*q),fe=ee*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[L,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[ie>>16,fe>>16],u_pixel_coord_lower:[65535&ie,65535&fe]}}po.prototype.draw=function(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge,Ye,at,pt,vt){var kt,Ot=N.gl;if(!this.failedToCreate){for(var St in N.program.set(this.program),N.setDepthMode(G),N.setStencilMode(L),N.setColorMode(q),N.setCullFace(ee),this.fixedUniforms)this.fixedUniforms[St].set(ie[St]);at&&at.setUniforms(N,this.binderUniforms,Ge,{zoom:Ye});for(var jt=(kt={},kt[Ot.LINES]=2,kt[Ot.TRIANGLES]=3,kt[Ot.LINE_STRIP]=1,kt)[Y],It=0,$t=Be.get();It<$t.length;It+=1){var Zt=$t[It],Ht=Zt.vaos||(Zt.vaos={});(Ht[fe]||(Ht[fe]=new Jo)).bind(N,this,we,at?at.getPaintVertexBuffers():[],Oe,Zt.vertexOffset,pt,vt),Ot.drawElements(Y,Zt.primitiveLength*jt,Ot.UNSIGNED_SHORT,Zt.primitiveOffset*jt*2)}}};var zo=function(N,Y,G,L){var q=Y.style.light,ee=q.properties.get("position"),ie=[ee.x,ee.y,ee.z],fe=o.create$1();q.properties.get("anchor")==="viewport"&&o.fromRotation(fe,-Y.transform.angle),o.transformMat3(ie,ie,fe);var we=q.properties.get("color");return{u_matrix:N,u_lightpos:ie,u_lightintensity:q.properties.get("intensity"),u_lightcolor:[we.r,we.g,we.b],u_vertical_gradient:+G,u_opacity:L}},xs=function(N,Y,G,L,q,ee,ie){return o.extend(zo(N,Y,G,L),ys(ee,Y,ie),{u_height_factor:-Math.pow(2,q.overscaledZ)/ie.tileSize/8})},$o=function(N){return{u_matrix:N}},bs=function(N,Y,G,L){return o.extend($o(N),ys(G,Y,L))},Do=function(N,Y){return{u_matrix:N,u_world:Y}},Eu=function(N,Y,G,L,q){return o.extend(bs(N,Y,G,L),{u_world:q})},su=function(N,Y,G,L){var q,ee,ie=N.transform;if(L.paint.get("circle-pitch-alignment")==="map"){var fe=Jn(G,1,ie.zoom);q=!0,ee=[fe,fe]}else q=!1,ee=ie.pixelsToGLUnits;return{u_camera_to_center_distance:ie.cameraToCenterDistance,u_scale_with_map:+(L.paint.get("circle-pitch-scale")==="map"),u_matrix:N.translatePosMatrix(Y.posMatrix,G,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+q,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:ee}},Hs=function(N,Y,G){var L=Jn(G,1,Y.zoom),q=Math.pow(2,Y.zoom-G.tileID.overscaledZ),ee=G.tileID.overscaleFactor();return{u_matrix:N,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[Y.pixelsToGLUnits[0]/(L*q),Y.pixelsToGLUnits[1]/(L*q)],u_overscale_factor:ee}},Xu=function(N,Y,G){return{u_matrix:N,u_inv_matrix:Y,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},Ku=function(N,Y,G){return G===void 0&&(G=1),{u_matrix:N,u_color:Y,u_overlay:0,u_overlay_scale:G}},qs=function(N){return{u_matrix:N}},Ju=function(N,Y,G,L){return{u_matrix:N,u_extrude_scale:Jn(Y,1,G),u_intensity:L}},Dc=function(N,Y,G,L){var q=o.create();o.ortho(q,0,N.width,N.height,0,0,1);var ee=N.context.gl;return{u_matrix:q,u_world:[ee.drawingBufferWidth,ee.drawingBufferHeight],u_image:G,u_color_ramp:L,u_opacity:Y.paint.get("heatmap-opacity")}},Rc=function(N,Y,G){var L=G.paint.get("hillshade-shadow-color"),q=G.paint.get("hillshade-highlight-color"),ee=G.paint.get("hillshade-accent-color"),ie=G.paint.get("hillshade-illumination-direction")*(Math.PI/180);G.paint.get("hillshade-illumination-anchor")==="viewport"&&(ie-=N.transform.angle);var fe,we,Oe,Be=!N.options.moving;return{u_matrix:N.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),Be),u_image:0,u_latrange:(fe=Y.tileID,we=Math.pow(2,fe.canonical.z),Oe=fe.canonical.y,[new o.MercatorCoordinate(0,Oe/we).toLngLat().lat,new o.MercatorCoordinate(0,(Oe+1)/we).toLngLat().lat]),u_light:[G.paint.get("hillshade-exaggeration"),ie],u_shadow:L,u_highlight:q,u_accent:ee}},Gs=function(N,Y){var G=Y.stride,L=o.create();return o.ortho(L,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(L,L,[0,-o.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[G,G],u_zoom:N.overscaledZ,u_unpack:Y.getUnpackVector()}},Ro=function(N,Y,G){var L=N.transform;return{u_matrix:go(N,Y,G),u_ratio:1/Jn(Y,1,L.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},cl=function(N,Y,G,L){return o.extend(Ro(N,Y,G),{u_image:0,u_image_height:L})},Ws=function(N,Y,G,L){var q=N.transform,ee=Ys(Y,q);return{u_matrix:go(N,Y,G),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/Jn(Y,1,q.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[ee,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},Dl=function(N,Y,G,L,q){var ee=N.transform,ie=N.lineAtlas,fe=Ys(Y,ee),we=G.layout.get("line-cap")==="round",Oe=ie.getDash(L.from,we),Be=ie.getDash(L.to,we),Ge=Oe.width*q.fromScale,Ye=Be.width*q.toScale;return o.extend(Ro(N,Y,G),{u_patternscale_a:[fe/Ge,-Oe.height/2],u_patternscale_b:[fe/Ye,-Be.height/2],u_sdfgamma:ie.width/(256*Math.min(Ge,Ye)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Oe.y,u_tex_y_b:Be.y,u_mix:q.t})};function Ys(N,Y){return 1/Jn(N,1,Y.tileZoom)}function go(N,Y,G){return N.translatePosMatrix(Y.tileID.posMatrix,Y,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var Lu=function(N,Y,G,L,q){return{u_matrix:N,u_tl_parent:Y,u_scale_parent:G,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:q.paint.get("raster-brightness-min"),u_brightness_high:q.paint.get("raster-brightness-max"),u_saturation_factor:(ie=q.paint.get("raster-saturation"),ie>0?1-1/(1.001-ie):-ie),u_contrast_factor:(ee=q.paint.get("raster-contrast"),ee>0?1/(1-ee):1+ee),u_spin_weights:_s(q.paint.get("raster-hue-rotate"))};var ee,ie};function _s(N){N*=Math.PI/180;var Y=Math.sin(N),G=Math.cos(N);return[(2*G+1)/3,(-Math.sqrt(3)*Y-G+1)/3,(Math.sqrt(3)*Y-G+1)/3]}var Qo,es=function(N,Y,G,L,q,ee,ie,fe,we,Oe){var Be=q.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:Be.cameraToCenterDistance,u_pitch:Be.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:Be.width/Be.height,u_fade_change:q.options.fadeDuration?q.symbolFadeChange:1,u_matrix:ee,u_label_plane_matrix:ie,u_coord_matrix:fe,u_is_text:+we,u_pitch_with_map:+L,u_texsize:Oe,u_texture:0}},ws=function(N,Y,G,L,q,ee,ie,fe,we,Oe,Be){var Ge=q.transform;return o.extend(es(N,Y,G,L,q,ee,ie,fe,we,Oe),{u_gamma_scale:L?Math.cos(Ge._pitch)*Ge.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+Be})},Kr=function(N,Y,G,L,q,ee,ie,fe,we,Oe){return o.extend(ws(N,Y,G,L,q,ee,ie,fe,!0,we,!0),{u_texsize_icon:Oe,u_texture_icon:1})},fl=function(N,Y,G){return{u_matrix:N,u_opacity:Y,u_color:G}},Fc=function(N,Y,G,L,q,ee){return o.extend(function(ie,fe,we,Oe){var Be=we.imageManager.getPattern(ie.from.toString()),Ge=we.imageManager.getPattern(ie.to.toString()),Ye=we.imageManager.getPixelSize(),at=Ye.width,pt=Ye.height,vt=Math.pow(2,Oe.tileID.overscaledZ),kt=Oe.tileSize*Math.pow(2,we.transform.tileZoom)/vt,Ot=kt*(Oe.tileID.canonical.x+Oe.tileID.wrap*vt),St=kt*Oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Be.tl,u_pattern_br_a:Be.br,u_pattern_tl_b:Ge.tl,u_pattern_br_b:Ge.br,u_texsize:[at,pt],u_mix:fe.t,u_pattern_size_a:Be.displaySize,u_pattern_size_b:Ge.displaySize,u_scale_a:fe.fromScale,u_scale_b:fe.toScale,u_tile_units_to_pixels:1/Jn(Oe,1,we.transform.tileZoom),u_pixel_coord_upper:[Ot>>16,St>>16],u_pixel_coord_lower:[65535&Ot,65535&St]}}(L,ee,G,q),{u_matrix:N,u_opacity:Y})},lu={fillExtrusion:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new o.Uniform3f(N,Y.u_lightpos),u_lightintensity:new o.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new o.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new o.Uniform1f(N,Y.u_vertical_gradient),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},fillExtrusionPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new o.Uniform3f(N,Y.u_lightpos),u_lightintensity:new o.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new o.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new o.Uniform1f(N,Y.u_vertical_gradient),u_height_factor:new o.Uniform1f(N,Y.u_height_factor),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},fill:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},fillPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},fillOutline:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world)}},fillOutlinePattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},circle:function(N,Y){return{u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(N,Y.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(N,Y.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},collisionBox:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(N,Y.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(N,Y.u_extrude_scale),u_overscale_factor:new o.Uniform1f(N,Y.u_overscale_factor)}},collisionCircle:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_inv_matrix:new o.UniformMatrix4f(N,Y.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(N,Y.u_viewport_size)}},debug:function(N,Y){return{u_color:new o.UniformColor(N,Y.u_color),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_overlay:new o.Uniform1i(N,Y.u_overlay),u_overlay_scale:new o.Uniform1f(N,Y.u_overlay_scale)}},clippingMask:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},heatmap:function(N,Y){return{u_extrude_scale:new o.Uniform1f(N,Y.u_extrude_scale),u_intensity:new o.Uniform1f(N,Y.u_intensity),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},heatmapTexture:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world),u_image:new o.Uniform1i(N,Y.u_image),u_color_ramp:new o.Uniform1i(N,Y.u_color_ramp),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},hillshade:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_latrange:new o.Uniform2f(N,Y.u_latrange),u_light:new o.Uniform2f(N,Y.u_light),u_shadow:new o.UniformColor(N,Y.u_shadow),u_highlight:new o.UniformColor(N,Y.u_highlight),u_accent:new o.UniformColor(N,Y.u_accent)}},hillshadePrepare:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_dimension:new o.Uniform2f(N,Y.u_dimension),u_zoom:new o.Uniform1f(N,Y.u_zoom),u_unpack:new o.Uniform4f(N,Y.u_unpack)}},line:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels)}},lineGradient:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_image:new o.Uniform1i(N,Y.u_image),u_image_height:new o.Uniform1f(N,Y.u_image_height)}},linePattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_image:new o.Uniform1i(N,Y.u_image),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},lineSDF:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(N,Y.u_patternscale_a),u_patternscale_b:new o.Uniform2f(N,Y.u_patternscale_b),u_sdfgamma:new o.Uniform1f(N,Y.u_sdfgamma),u_image:new o.Uniform1i(N,Y.u_image),u_tex_y_a:new o.Uniform1f(N,Y.u_tex_y_a),u_tex_y_b:new o.Uniform1f(N,Y.u_tex_y_b),u_mix:new o.Uniform1f(N,Y.u_mix)}},raster:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_tl_parent:new o.Uniform2f(N,Y.u_tl_parent),u_scale_parent:new o.Uniform1f(N,Y.u_scale_parent),u_buffer_scale:new o.Uniform1f(N,Y.u_buffer_scale),u_fade_t:new o.Uniform1f(N,Y.u_fade_t),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_image0:new o.Uniform1i(N,Y.u_image0),u_image1:new o.Uniform1i(N,Y.u_image1),u_brightness_low:new o.Uniform1f(N,Y.u_brightness_low),u_brightness_high:new o.Uniform1f(N,Y.u_brightness_high),u_saturation_factor:new o.Uniform1f(N,Y.u_saturation_factor),u_contrast_factor:new o.Uniform1f(N,Y.u_contrast_factor),u_spin_weights:new o.Uniform3f(N,Y.u_spin_weights)}},symbolIcon:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texture:new o.Uniform1i(N,Y.u_texture)}},symbolSDF:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texture:new o.Uniform1i(N,Y.u_texture),u_gamma_scale:new o.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(N,Y.u_is_halo)}},symbolTextAndIcon:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texsize_icon:new o.Uniform2f(N,Y.u_texsize_icon),u_texture:new o.Uniform1i(N,Y.u_texture),u_texture_icon:new o.Uniform1i(N,Y.u_texture_icon),u_gamma_scale:new o.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(N,Y.u_is_halo)}},background:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_color:new o.UniformColor(N,Y.u_color)}},backgroundPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_image:new o.Uniform1i(N,Y.u_image),u_pattern_tl_a:new o.Uniform2f(N,Y.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(N,Y.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(N,Y.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(N,Y.u_pattern_br_b),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_mix:new o.Uniform1f(N,Y.u_mix),u_pattern_size_a:new o.Uniform2f(N,Y.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(N,Y.u_pattern_size_b),u_scale_a:new o.Uniform1f(N,Y.u_scale_a),u_scale_b:new o.Uniform1f(N,Y.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(N,Y.u_tile_units_to_pixels)}}};function hl(N,Y,G,L,q,ee,ie){for(var fe=N.context,we=fe.gl,Oe=N.useProgram("collisionBox"),Be=[],Ge=0,Ye=0,at=0;at<L.length;at++){var pt=L[at],vt=Y.getTile(pt),kt=vt.getBucket(G);if(kt){var Ot=pt.posMatrix;q[0]===0&&q[1]===0||(Ot=N.translatePosMatrix(pt.posMatrix,vt,q,ee));var St=ie?kt.textCollisionBox:kt.iconCollisionBox,jt=kt.collisionCircleArray;if(jt.length>0){var It=o.create(),$t=Ot;o.mul(It,kt.placementInvProjMatrix,N.transform.glCoordMatrix),o.mul(It,It,kt.placementViewportMatrix),Be.push({circleArray:jt,circleOffset:Ye,transform:$t,invTransform:It}),Ye=Ge+=jt.length/4}St&&Oe.draw(fe,we.LINES,Ft.disabled,Ze.disabled,N.colorModeForRenderPass(),He.disabled,Hs(Ot,N.transform,vt),G.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,null,N.transform.zoom,null,null,St.collisionVertexBuffer)}}if(ie&&Be.length){var Zt=N.useProgram("collisionCircle"),Ht=new o.StructArrayLayout2f1f2i16;Ht.resize(4*Ge),Ht._trim();for(var vn=0,bn=0,Ln=Be;bn<Ln.length;bn+=1)for(var Rn=Ln[bn],Gn=0;Gn<Rn.circleArray.length/4;Gn++){var or=4*Gn,hr=Rn.circleArray[or+0],Kn=Rn.circleArray[or+1],fr=Rn.circleArray[or+2],wr=Rn.circleArray[or+3];Ht.emplace(vn++,hr,Kn,fr,wr,0),Ht.emplace(vn++,hr,Kn,fr,wr,1),Ht.emplace(vn++,hr,Kn,fr,wr,2),Ht.emplace(vn++,hr,Kn,fr,wr,3)}(!Qo||Qo.length<2*Ge)&&(Qo=function(Dr){var Gr=2*Dr,Wr=new o.StructArrayLayout3ui6;Wr.resize(Gr),Wr._trim();for(var Xr=0;Xr<Gr;Xr++){var Qr=6*Xr;Wr.uint16[Qr+0]=4*Xr+0,Wr.uint16[Qr+1]=4*Xr+1,Wr.uint16[Qr+2]=4*Xr+2,Wr.uint16[Qr+3]=4*Xr+2,Wr.uint16[Qr+4]=4*Xr+3,Wr.uint16[Qr+5]=4*Xr+0}return Wr}(Ge));for(var Or=fe.createIndexBuffer(Qo,!0),nr=fe.createVertexBuffer(Ht,o.collisionCircleLayout.members,!0),cr=0,Sr=Be;cr<Sr.length;cr+=1){var pr=Sr[cr],Cr=Xu(pr.transform,pr.invTransform,N.transform);Zt.draw(fe,we.TRIANGLES,Ft.disabled,Ze.disabled,N.colorModeForRenderPass(),He.disabled,Cr,G.id,nr,Or,o.SegmentVector.simpleSegment(0,2*pr.circleOffset,pr.circleArray.length,pr.circleArray.length/2),null,N.transform.zoom,null,null,null)}nr.destroy(),Or.destroy()}}var $u=o.identity(new Float32Array(16));function Bc(N,Y,G,L,q,ee){var ie=o.getAnchorAlignment(N),fe=-(ie.horizontalAlign-.5)*Y,we=-(ie.verticalAlign-.5)*G,Oe=o.evaluateVariableOffset(N,L);return new o.Point((fe/q+Oe[0])*ee,(we/q+Oe[1])*ee)}function uu(N,Y,G,L,q,ee,ie,fe,we,Oe,Be){var Ge=N.text.placedSymbolArray,Ye=N.text.dynamicLayoutVertexArray,at=N.icon.dynamicLayoutVertexArray,pt={};Ye.clear();for(var vt=0;vt<Ge.length;vt++){var kt=Ge.get(vt),Ot=N.allowVerticalPlacement&&!kt.placedOrientation,St=kt.hidden||!kt.crossTileID||Ot?null:L[kt.crossTileID];if(St){var jt=new o.Point(kt.anchorX,kt.anchorY),It=tn(jt,G?fe:ie),$t=fn(ee.cameraToCenterDistance,It.signedDistanceFromCamera),Zt=q.evaluateSizeForFeature(N.textSizeData,Oe,kt)*$t/o.ONE_EM;G&&(Zt*=N.tilePixelRatio/we);for(var Ht=St.width,vn=St.height,bn=Bc(St.anchor,Ht,vn,St.textOffset,St.textBoxScale,Zt),Ln=G?tn(jt.add(bn),ie).point:It.point.add(Y?bn.rotate(-ee.angle):bn),Rn=N.allowVerticalPlacement&&kt.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Gn=0;Gn<kt.numGlyphs;Gn++)o.addDynamicAttributes(Ye,Ln,Rn);Be&&kt.associatedIconIndex>=0&&(pt[kt.associatedIconIndex]={shiftedAnchor:Ln,angle:Rn})}else Fn(kt.numGlyphs,Ye)}if(Be){at.clear();for(var or=N.icon.placedSymbolArray,hr=0;hr<or.length;hr++){var Kn=or.get(hr);if(Kn.hidden)Fn(Kn.numGlyphs,at);else{var fr=pt[hr];if(fr)for(var wr=0;wr<Kn.numGlyphs;wr++)o.addDynamicAttributes(at,fr.shiftedAnchor,fr.angle);else Fn(Kn.numGlyphs,at)}}N.icon.dynamicLayoutVertexBuffer.updateData(at)}N.text.dynamicLayoutVertexBuffer.updateData(Ye)}function Nc(N,Y,G){return G.iconsInText&&Y?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function Ts(N,Y,G,L,q,ee,ie,fe,we,Oe,Be,Ge){for(var Ye=N.context,at=Ye.gl,pt=N.transform,vt=fe==="map",kt=we==="map",Ot=vt&&G.layout.get("symbol-placement")!=="point",St=vt&&!kt&&!Ot,jt=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,It=!1,$t=N.depthModeForSublayer(0,Ft.ReadOnly),Zt=G.layout.get("text-variable-anchor"),Ht=[],vn=0,bn=L;vn<bn.length;vn+=1){var Ln=bn[vn],Rn=Y.getTile(Ln),Gn=Rn.getBucket(G);if(Gn){var or=q?Gn.text:Gn.icon;if(or&&or.segments.get().length){var hr=or.programConfigurations.get(G.id),Kn=q||Gn.sdfIcons,fr=q?Gn.textSizeData:Gn.iconSizeData,wr=kt||pt.pitch!==0,Or=N.useProgram(Nc(Kn,q,Gn),hr),nr=o.evaluateSizeForZoom(fr,pt.zoom),cr=void 0,Sr=[0,0],pr=void 0,Cr=void 0,Dr=null,Gr=void 0;if(q){if(pr=Rn.glyphAtlasTexture,Cr=at.LINEAR,cr=Rn.glyphAtlasTexture.size,Gn.iconsInText){Sr=Rn.imageAtlasTexture.size,Dr=Rn.imageAtlasTexture;var Wr=fr.kind==="composite"||fr.kind==="camera";Gr=wr||N.options.rotating||N.options.zooming||Wr?at.LINEAR:at.NEAREST}}else{var Xr=G.layout.get("icon-size").constantOr(0)!==1||Gn.iconsNeedLinear;pr=Rn.imageAtlasTexture,Cr=Kn||N.options.rotating||N.options.zooming||Xr||wr?at.LINEAR:at.NEAREST,cr=Rn.imageAtlasTexture.size}var Qr=Jn(Rn,1,N.transform.zoom),wi=An(Ln.posMatrix,kt,vt,N.transform,Qr),Ni=mn(Ln.posMatrix,kt,vt,N.transform,Qr),Ma=Zt&&Gn.hasTextData(),ea=G.layout.get("icon-text-fit")!=="none"&&Ma&&Gn.hasIconData();Ot&&pn(Gn,Ln.posMatrix,N,q,wi,Ni,kt,Oe);var va=N.translatePosMatrix(Ln.posMatrix,Rn,ee,ie),Ei=Ot||q&&Zt||ea?$u:wi,ti=N.translatePosMatrix(Ni,Rn,ee,ie,!0),Ii=Kn&&G.paint.get(q?"text-halo-width":"icon-halo-width").constantOr(1)!==0,di={program:Or,buffers:or,uniformValues:Kn?Gn.iconsInText?Kr(fr.kind,nr,St,kt,N,va,Ei,ti,cr,Sr):ws(fr.kind,nr,St,kt,N,va,Ei,ti,q,cr,!0):es(fr.kind,nr,St,kt,N,va,Ei,ti,q,cr),atlasTexture:pr,atlasTextureIcon:Dr,atlasInterpolation:Cr,atlasInterpolationIcon:Gr,isSDF:Kn,hasHalo:Ii};if(jt&&Gn.canOverlap){It=!0;for(var ii=0,zi=or.segments.get();ii<zi.length;ii+=1){var ji=zi[ii];Ht.push({segments:new o.SegmentVector([ji]),sortKey:ji.sortKey,state:di})}}else Ht.push({segments:or.segments,sortKey:0,state:di})}}}It&&Ht.sort(function(Gl,os){return Gl.sortKey-os.sortKey});for(var Xi=0,Tl=Ht;Xi<Tl.length;Xi+=1){var kl=Tl[Xi],ai=kl.state;if(Ye.activeTexture.set(at.TEXTURE0),ai.atlasTexture.bind(ai.atlasInterpolation,at.CLAMP_TO_EDGE),ai.atlasTextureIcon&&(Ye.activeTexture.set(at.TEXTURE1),ai.atlasTextureIcon&&ai.atlasTextureIcon.bind(ai.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),ai.isSDF){var du=ai.uniformValues;ai.hasHalo&&(du.u_is_halo=1,Zs(ai.buffers,kl.segments,G,N,ai.program,$t,Be,Ge,du)),du.u_is_halo=0}Zs(ai.buffers,kl.segments,G,N,ai.program,$t,Be,Ge,ai.uniformValues)}}function Zs(N,Y,G,L,q,ee,ie,fe,we){var Oe=L.context,Be=Oe.gl;q.draw(Oe,Be.TRIANGLES,ee,ie,fe,He.disabled,we,G.id,N.layoutVertexBuffer,N.indexBuffer,Y,G.paint,L.transform.zoom,N.programConfigurations.get(G.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function ts(N,Y,G,L,q,ee,ie){var fe,we,Oe,Be,Ge,Ye=N.context.gl,at=G.paint.get("fill-pattern"),pt=at&&at.constantOr(1),vt=G.getCrossfadeParameters();ie?(we=pt&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fe=Ye.LINES):(we=pt?"fillPattern":"fill",fe=Ye.TRIANGLES);for(var kt=0,Ot=L;kt<Ot.length;kt+=1){var St=Ot[kt],jt=Y.getTile(St);if(!pt||jt.patternsLoaded()){var It=jt.getBucket(G);if(It){var $t=It.programConfigurations.get(G.id),Zt=N.useProgram(we,$t);pt&&(N.context.activeTexture.set(Ye.TEXTURE0),jt.imageAtlasTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE),$t.updatePaintBuffers(vt));var Ht=at.constantOr(null);if(Ht&&jt.imageAtlas){var vn=jt.imageAtlas,bn=vn.patternPositions[Ht.to.toString()],Ln=vn.patternPositions[Ht.from.toString()];bn&&Ln&&$t.setConstantPatternPositions(bn,Ln)}var Rn=N.translatePosMatrix(St.posMatrix,jt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(ie){Be=It.indexBuffer2,Ge=It.segments2;var Gn=[Ye.drawingBufferWidth,Ye.drawingBufferHeight];Oe=we==="fillOutlinePattern"&&pt?Eu(Rn,N,vt,jt,Gn):Do(Rn,Gn)}else Be=It.indexBuffer,Ge=It.segments,Oe=pt?bs(Rn,N,vt,jt):$o(Rn);Zt.draw(N.context,fe,q,N.stencilModeForClipping(St),ee,He.disabled,Oe,G.id,It.layoutVertexBuffer,Be,Ge,G.paint,N.transform.zoom,$t)}}}}function vo(N,Y,G,L,q,ee,ie){for(var fe=N.context,we=fe.gl,Oe=G.paint.get("fill-extrusion-pattern"),Be=Oe.constantOr(1),Ge=G.getCrossfadeParameters(),Ye=G.paint.get("fill-extrusion-opacity"),at=0,pt=L;at<pt.length;at+=1){var vt=pt[at],kt=Y.getTile(vt),Ot=kt.getBucket(G);if(Ot){var St=Ot.programConfigurations.get(G.id),jt=N.useProgram(Be?"fillExtrusionPattern":"fillExtrusion",St);Be&&(N.context.activeTexture.set(we.TEXTURE0),kt.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),St.updatePaintBuffers(Ge));var It=Oe.constantOr(null);if(It&&kt.imageAtlas){var $t=kt.imageAtlas,Zt=$t.patternPositions[It.to.toString()],Ht=$t.patternPositions[It.from.toString()];Zt&&Ht&&St.setConstantPatternPositions(Zt,Ht)}var vn=N.translatePosMatrix(vt.posMatrix,kt,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),bn=G.paint.get("fill-extrusion-vertical-gradient"),Ln=Be?xs(vn,N,bn,Ye,vt,Ge,kt):zo(vn,N,bn,Ye);jt.draw(fe,fe.gl.TRIANGLES,q,ee,ie,He.backCCW,Ln,G.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,G.paint,N.transform.zoom,St)}}}function pl(N,Y,G,L,q,ee){var ie=N.context,fe=ie.gl,we=Y.fbo;if(we){var Oe=N.useProgram("hillshade");ie.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,we.colorAttachment.get());var Be=Rc(N,Y,G);Oe.draw(ie,fe.TRIANGLES,L,q,ee,He.disabled,Be,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}}function Qu(N,Y,G,L,q,ee){var ie=N.context,fe=ie.gl,we=Y.dem;if(we&&we.data){var Oe=we.dim,Be=we.stride,Ge=we.getPixels();if(ie.activeTexture.set(fe.TEXTURE1),ie.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||N.getTileTexture(Be),Y.demTexture){var Ye=Y.demTexture;Ye.update(Ge,{premultiply:!1}),Ye.bind(fe.NEAREST,fe.CLAMP_TO_EDGE)}else Y.demTexture=new o.Texture(ie,Ge,fe.RGBA,{premultiply:!1}),Y.demTexture.bind(fe.NEAREST,fe.CLAMP_TO_EDGE);ie.activeTexture.set(fe.TEXTURE0);var at=Y.fbo;if(!at){var pt=new o.Texture(ie,{width:Oe,height:Oe,data:null},fe.RGBA);pt.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),(at=Y.fbo=ie.createFramebuffer(Oe,Oe,!0)).colorAttachment.set(pt.texture)}ie.bindFramebuffer.set(at.framebuffer),ie.viewport.set([0,0,Oe,Oe]),N.useProgram("hillshadePrepare").draw(ie,fe.TRIANGLES,L,q,ee,He.disabled,Gs(Y.tileID,we),G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function Rl(N,Y,G,L,q){var ee=L.paint.get("raster-fade-duration");if(ee>0){var ie=o.browser.now(),fe=(ie-N.timeAdded)/ee,we=Y?(ie-Y.timeAdded)/ee:-1,Oe=G.getSource(),Be=q.coveringZoomLevel({tileSize:Oe.tileSize,roundZoom:Oe.roundZoom}),Ge=!Y||Math.abs(Y.tileID.overscaledZ-Be)>Math.abs(N.tileID.overscaledZ-Be),Ye=Ge&&N.refreshedUponExpiration?1:o.clamp(Ge?fe:1-we,0,1);return N.refreshedUponExpiration&&fe>=1&&(N.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-Ye}:{opacity:Ye,mix:0}}return{opacity:1,mix:0}}var cu=new o.Color(1,0,0,1),Ya=new o.Color(0,1,0,1),fu=new o.Color(0,0,1,1),ec=new o.Color(1,0,1,1),dl=new o.Color(0,1,1,1);function Xs(N){var Y=N.transform.padding;vl(N,N.transform.height-(Y.top||0),3,cu),vl(N,Y.bottom||0,3,Ya),Ks(N,Y.left||0,3,fu),Ks(N,N.transform.width-(Y.right||0),3,ec);var G=N.transform.centerPoint;(function(L,q,ee,ie){var fe=20,we=2;Js(L,q-we/2,ee-fe/2,we,fe,ie),Js(L,q-fe/2,ee-we/2,fe,we,ie)})(N,G.x,N.transform.height-G.y,dl)}function vl(N,Y,G,L){Js(N,0,Y+G/2,N.transform.width,G,L)}function Ks(N,Y,G,L){Js(N,Y-G/2,0,G,N.transform.height,L)}function Js(N,Y,G,L,q,ee){var ie=N.context,fe=ie.gl;fe.enable(fe.SCISSOR_TEST),fe.scissor(Y*o.browser.devicePixelRatio,G*o.browser.devicePixelRatio,L*o.browser.devicePixelRatio,q*o.browser.devicePixelRatio),ie.clear({color:ee}),fe.disable(fe.SCISSOR_TEST)}function Fl(N,Y,G){var L=N.context,q=L.gl,ee=G.posMatrix,ie=N.useProgram("debug"),fe=Ft.disabled,we=Ze.disabled,Oe=N.colorModeForRenderPass(),Be="$debug";L.activeTexture.set(q.TEXTURE0),N.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ie.draw(L,q.LINE_STRIP,fe,we,Oe,He.disabled,Ku(ee,o.Color.red),Be,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments);var Ge=Y.getTileByID(G.key).latestRawTileData,Ye=Ge&&Ge.byteLength||0,at=Math.floor(Ye/1024),pt=Y.getTile(G).tileSize,vt=512/Math.min(pt,512)*(G.overscaledZ/N.transform.zoom)*.5,kt=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(kt+=" => "+G.overscaledZ),function(Ot,St){Ot.initDebugOverlayCanvas();var jt=Ot.debugOverlayCanvas,It=Ot.context.gl,$t=Ot.debugOverlayCanvas.getContext("2d");$t.clearRect(0,0,jt.width,jt.height),$t.shadowColor="white",$t.shadowBlur=2,$t.lineWidth=1.5,$t.strokeStyle="white",$t.textBaseline="top",$t.font="bold 36px Open Sans, sans-serif",$t.fillText(St,5,5),$t.strokeText(St,5,5),Ot.debugOverlayTexture.update(jt),Ot.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(N,kt+" "+at+"kb"),ie.draw(L,q.TRIANGLES,fe,we,$e.alphaBlended,He.disabled,Ku(ee,o.Color.transparent,vt),Be,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments)}var hu={symbol:function(N,Y,G,L,q){if(N.renderPass==="translucent"){var ee=Ze.disabled,ie=N.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(fe,we,Oe,Be,Ge,Ye,at){for(var pt=we.transform,vt=Ge==="map",kt=Ye==="map",Ot=0,St=fe;Ot<St.length;Ot+=1){var jt=St[Ot],It=Be.getTile(jt),$t=It.getBucket(Oe);if($t&&$t.text&&$t.text.segments.get().length){var Zt=$t.textSizeData,Ht=o.evaluateSizeForZoom(Zt,pt.zoom),vn=Jn(It,1,we.transform.zoom),bn=An(jt.posMatrix,kt,vt,we.transform,vn),Ln=Oe.layout.get("icon-text-fit")!=="none"&&$t.hasIconData();if(Ht){var Rn=Math.pow(2,pt.zoom-It.tileID.overscaledZ);uu($t,vt,kt,at,o.symbolSize,pt,bn,jt.posMatrix,Rn,Ht,Ln)}}}}(L,N,G,Y,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),q),G.paint.get("icon-opacity").constantOr(1)!==0&&Ts(N,Y,G,L,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),ee,ie),G.paint.get("text-opacity").constantOr(1)!==0&&Ts(N,Y,G,L,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),ee,ie),Y.map.showCollisionBoxes&&(hl(N,Y,G,L,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),hl(N,Y,G,L,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(N,Y,G,L){if(N.renderPass==="translucent"){var q=G.paint.get("circle-opacity"),ee=G.paint.get("circle-stroke-width"),ie=G.paint.get("circle-stroke-opacity"),fe=G.layout.get("circle-sort-key").constantOr(1)!==void 0;if(q.constantOr(1)!==0||ee.constantOr(1)!==0&&ie.constantOr(1)!==0){for(var we=N.context,Oe=we.gl,Be=N.depthModeForSublayer(0,Ft.ReadOnly),Ge=Ze.disabled,Ye=N.colorModeForRenderPass(),at=[],pt=0;pt<L.length;pt++){var vt=L[pt],kt=Y.getTile(vt),Ot=kt.getBucket(G);if(Ot){var St=Ot.programConfigurations.get(G.id),jt={programConfiguration:St,program:N.useProgram("circle",St),layoutVertexBuffer:Ot.layoutVertexBuffer,indexBuffer:Ot.indexBuffer,uniformValues:su(N,vt,kt,G)};if(fe)for(var It=0,$t=Ot.segments.get();It<$t.length;It+=1){var Zt=$t[It];at.push({segments:new o.SegmentVector([Zt]),sortKey:Zt.sortKey,state:jt})}else at.push({segments:Ot.segments,sortKey:0,state:jt})}}fe&&at.sort(function(wr,Or){return wr.sortKey-Or.sortKey});for(var Ht=0,vn=at;Ht<vn.length;Ht+=1){var bn=vn[Ht],Ln=bn.state,Rn=Ln.programConfiguration,Gn=Ln.program,or=Ln.layoutVertexBuffer,hr=Ln.indexBuffer,Kn=Ln.uniformValues,fr=bn.segments;Gn.draw(we,Oe.TRIANGLES,Be,Ge,Ye,He.disabled,Kn,G.id,or,hr,fr,G.paint,N.transform.zoom,Rn)}}}},heatmap:function(N,Y,G,L){if(G.paint.get("heatmap-opacity")!==0)if(N.renderPass==="offscreen"){var q=N.context,ee=q.gl,ie=Ze.disabled,fe=new $e([ee.ONE,ee.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(vt,kt,Ot){var St=vt.gl;vt.activeTexture.set(St.TEXTURE1),vt.viewport.set([0,0,kt.width/4,kt.height/4]);var jt=Ot.heatmapFbo;if(jt)St.bindTexture(St.TEXTURE_2D,jt.colorAttachment.get()),vt.bindFramebuffer.set(jt.framebuffer);else{var It=St.createTexture();St.bindTexture(St.TEXTURE_2D,It),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_S,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_T,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MIN_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MAG_FILTER,St.LINEAR),jt=Ot.heatmapFbo=vt.createFramebuffer(kt.width/4,kt.height/4,!1),function($t,Zt,Ht,vn){var bn=$t.gl,Ln=$t.extRenderToTextureHalfFloat?$t.extTextureHalfFloat.HALF_FLOAT_OES:bn.UNSIGNED_BYTE;bn.texImage2D(bn.TEXTURE_2D,0,bn.RGBA,Zt.width/4,Zt.height/4,0,bn.RGBA,Ln,null),vn.colorAttachment.set(Ht)}(vt,kt,It,jt)}})(q,N,G),q.clear({color:o.Color.transparent});for(var we=0;we<L.length;we++){var Oe=L[we];if(!Y.hasRenderableParent(Oe)){var Be=Y.getTile(Oe),Ge=Be.getBucket(G);if(Ge){var Ye=Ge.programConfigurations.get(G.id),at=N.useProgram("heatmap",Ye),pt=N.transform.zoom;at.draw(q,ee.TRIANGLES,Ft.disabled,ie,fe,He.disabled,Ju(Oe.posMatrix,Be,pt,G.paint.get("heatmap-intensity")),G.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,G.paint,N.transform.zoom,Ye)}}}q.viewport.set([0,0,N.width,N.height])}else N.renderPass==="translucent"&&(N.context.setColorMode(N.colorModeForRenderPass()),function(vt,kt){var Ot=vt.context,St=Ot.gl,jt=kt.heatmapFbo;if(jt){Ot.activeTexture.set(St.TEXTURE0),St.bindTexture(St.TEXTURE_2D,jt.colorAttachment.get()),Ot.activeTexture.set(St.TEXTURE1);var It=kt.colorRampTexture;It||(It=kt.colorRampTexture=new o.Texture(Ot,kt.colorRamp,St.RGBA)),It.bind(St.LINEAR,St.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(Ot,St.TRIANGLES,Ft.disabled,Ze.disabled,vt.colorModeForRenderPass(),He.disabled,Dc(vt,kt,0,1),kt.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,kt.paint,vt.transform.zoom)}}(N,G))},line:function(N,Y,G,L){if(N.renderPass==="translucent"){var q=G.paint.get("line-opacity"),ee=G.paint.get("line-width");if(q.constantOr(1)!==0&&ee.constantOr(1)!==0)for(var ie=N.depthModeForSublayer(0,Ft.ReadOnly),fe=N.colorModeForRenderPass(),we=G.paint.get("line-dasharray"),Oe=G.paint.get("line-pattern"),Be=Oe.constantOr(1),Ge=G.paint.get("line-gradient"),Ye=G.getCrossfadeParameters(),at=Be?"linePattern":we?"lineSDF":Ge?"lineGradient":"line",pt=N.context,vt=pt.gl,kt=!0,Ot=0,St=L;Ot<St.length;Ot+=1){var jt=St[Ot],It=Y.getTile(jt);if(!Be||It.patternsLoaded()){var $t=It.getBucket(G);if($t){var Zt=$t.programConfigurations.get(G.id),Ht=N.context.program.get(),vn=N.useProgram(at,Zt),bn=kt||vn.program!==Ht,Ln=Oe.constantOr(null);if(Ln&&It.imageAtlas){var Rn=It.imageAtlas,Gn=Rn.patternPositions[Ln.to.toString()],or=Rn.patternPositions[Ln.from.toString()];Gn&&or&&Zt.setConstantPatternPositions(Gn,or)}var hr=Be?Ws(N,It,G,Ye):we?Dl(N,It,G,we,Ye):Ge?cl(N,It,G,$t.lineClipsArray.length):Ro(N,It,G);if(Be)pt.activeTexture.set(vt.TEXTURE0),It.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Zt.updatePaintBuffers(Ye);else if(we&&(bn||N.lineAtlas.dirty))pt.activeTexture.set(vt.TEXTURE0),N.lineAtlas.bind(pt);else if(Ge){var Kn=$t.gradients[G.id],fr=Kn.texture;if(G.gradientVersion!==Kn.version){var wr=256;if(G.stepInterpolant){var Or=Y.getSource().maxzoom,nr=jt.canonical.z===Or?Math.ceil(1<<N.transform.maxZoom-jt.canonical.z):1,cr=$t.maxLineLength/o.EXTENT*1024*nr;wr=o.clamp(o.nextPowerOfTwo(cr),256,pt.maxTextureSize)}Kn.gradient=o.renderColorRamp({expression:G.gradientExpression(),evaluationKey:"lineProgress",resolution:wr,image:Kn.gradient||void 0,clips:$t.lineClipsArray}),Kn.texture?Kn.texture.update(Kn.gradient):Kn.texture=new o.Texture(pt,Kn.gradient,vt.RGBA),Kn.version=G.gradientVersion,fr=Kn.texture}pt.activeTexture.set(vt.TEXTURE0),fr.bind(G.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}vn.draw(pt,vt.TRIANGLES,ie,N.stencilModeForClipping(jt),fe,He.disabled,hr,G.id,$t.layoutVertexBuffer,$t.indexBuffer,$t.segments,G.paint,N.transform.zoom,Zt,$t.layoutVertexBuffer2),kt=!1}}}}},fill:function(N,Y,G,L){var q=G.paint.get("fill-color"),ee=G.paint.get("fill-opacity");if(ee.constantOr(1)!==0){var ie=N.colorModeForRenderPass(),fe=G.paint.get("fill-pattern"),we=N.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&q.constantOr(o.Color.transparent).a===1&&ee.constantOr(0)===1?"opaque":"translucent";if(N.renderPass===we){var Oe=N.depthModeForSublayer(1,N.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);ts(N,Y,G,L,Oe,ie,!1)}if(N.renderPass==="translucent"&&G.paint.get("fill-antialias")){var Be=N.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);ts(N,Y,G,L,Be,ie,!0)}}},"fill-extrusion":function(N,Y,G,L){var q=G.paint.get("fill-extrusion-opacity");if(q!==0&&N.renderPass==="translucent"){var ee=new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D);if(q!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))vo(N,Y,G,L,ee,Ze.disabled,$e.disabled),vo(N,Y,G,L,ee,N.stencilModeFor3D(),N.colorModeForRenderPass());else{var ie=N.colorModeForRenderPass();vo(N,Y,G,L,ee,Ze.disabled,ie)}}},hillshade:function(N,Y,G,L){if(N.renderPass==="offscreen"||N.renderPass==="translucent"){for(var q=N.context,ee=N.depthModeForSublayer(0,Ft.ReadOnly),ie=N.colorModeForRenderPass(),fe=N.renderPass==="translucent"?N.stencilConfigForOverlap(L):[{},L],we=fe[0],Oe=0,Be=fe[1];Oe<Be.length;Oe+=1){var Ge=Be[Oe],Ye=Y.getTile(Ge);Ye.needsHillshadePrepare&&N.renderPass==="offscreen"?Qu(N,Ye,G,ee,Ze.disabled,ie):N.renderPass==="translucent"&&pl(N,Ye,G,ee,we[Ge.overscaledZ],ie)}q.viewport.set([0,0,N.width,N.height])}},raster:function(N,Y,G,L){if(N.renderPass==="translucent"&&G.paint.get("raster-opacity")!==0&&L.length)for(var q=N.context,ee=q.gl,ie=Y.getSource(),fe=N.useProgram("raster"),we=N.colorModeForRenderPass(),Oe=ie instanceof F?[{},L]:N.stencilConfigForOverlap(L),Be=Oe[0],Ge=Oe[1],Ye=Ge[Ge.length-1].overscaledZ,at=!N.options.moving,pt=0,vt=Ge;pt<vt.length;pt+=1){var kt=vt[pt],Ot=N.depthModeForSublayer(kt.overscaledZ-Ye,G.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,ee.LESS),St=Y.getTile(kt),jt=N.transform.calculatePosMatrix(kt.toUnwrapped(),at);St.registerFadeDuration(G.paint.get("raster-fade-duration"));var It=Y.findLoadedParent(kt,0),$t=Rl(St,It,Y,G,N.transform),Zt=void 0,Ht=void 0,vn=G.paint.get("raster-resampling")==="nearest"?ee.NEAREST:ee.LINEAR;q.activeTexture.set(ee.TEXTURE0),St.texture.bind(vn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(ee.TEXTURE1),It?(It.texture.bind(vn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),Zt=Math.pow(2,It.tileID.overscaledZ-St.tileID.overscaledZ),Ht=[St.tileID.canonical.x*Zt%1,St.tileID.canonical.y*Zt%1]):St.texture.bind(vn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST);var bn=Lu(jt,Ht||[0,0],Zt||1,$t,G);ie instanceof F?fe.draw(q,ee.TRIANGLES,Ot,Ze.disabled,we,He.disabled,bn,G.id,ie.boundsBuffer,N.quadTriangleIndexBuffer,ie.boundsSegments):fe.draw(q,ee.TRIANGLES,Ot,Be[kt.overscaledZ],we,He.disabled,bn,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}},background:function(N,Y,G){var L=G.paint.get("background-color"),q=G.paint.get("background-opacity");if(q!==0){var ee=N.context,ie=ee.gl,fe=N.transform,we=fe.tileSize,Oe=G.paint.get("background-pattern");if(!N.isPatternMissing(Oe)){var Be=!Oe&&L.a===1&&q===1&&N.opaquePassEnabledForLayer()?"opaque":"translucent";if(N.renderPass===Be){var Ge=Ze.disabled,Ye=N.depthModeForSublayer(0,Be==="opaque"?Ft.ReadWrite:Ft.ReadOnly),at=N.colorModeForRenderPass(),pt=N.useProgram(Oe?"backgroundPattern":"background"),vt=fe.coveringTiles({tileSize:we});Oe&&(ee.activeTexture.set(ie.TEXTURE0),N.imageManager.bind(N.context));for(var kt=G.getCrossfadeParameters(),Ot=0,St=vt;Ot<St.length;Ot+=1){var jt=St[Ot],It=N.transform.calculatePosMatrix(jt.toUnwrapped()),$t=Oe?Fc(It,q,N,Oe,{tileID:jt,tileSize:we},kt):fl(It,q,L);pt.draw(ee,ie.TRIANGLES,Ye,Ge,at,He.disabled,$t,G.id,N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}}}},debug:function(N,Y,G){for(var L=0;L<G.length;L++)Fl(N,Y,G[L])},custom:function(N,Y,G){var L=N.context,q=G.implementation;if(N.renderPass==="offscreen"){var ee=q.prerender;ee&&(N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),ee.call(q,L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState())}else if(N.renderPass==="translucent"){N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),L.setStencilMode(Ze.disabled);var ie=q.renderingMode==="3d"?new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D):N.depthModeForSublayer(0,Ft.ReadOnly);L.setDepthMode(ie),q.render(L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState(),L.bindFramebuffer.set(null)}}},li=function(N,Y){this.context=new Je(N),this.transform=Y,this._tileTextures={},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Un,this.gpuTimers={}};li.prototype.resize=function(N,Y){if(this.width=N*o.browser.devicePixelRatio,this.height=Y*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,L=this.style._order;G<L.length;G+=1){var q=L[G];this.style._layers[q].resize()}},li.prototype.setup=function(){var N=this.context,Y=new o.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(o.EXTENT,0),Y.emplaceBack(0,o.EXTENT),Y.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=N.createVertexBuffer(Y,er.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var G=new o.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(o.EXTENT,0),G.emplaceBack(0,o.EXTENT),G.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=N.createVertexBuffer(G,er.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var L=new o.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(o.EXTENT,0,o.EXTENT,0),L.emplaceBack(0,o.EXTENT,0,o.EXTENT),L.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=N.createVertexBuffer(L,Z.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var q=new o.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(1,0),q.emplaceBack(0,1),q.emplaceBack(1,1),this.viewportBuffer=N.createVertexBuffer(q,er.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var ee=new o.StructArrayLayout1ui2;ee.emplaceBack(0),ee.emplaceBack(1),ee.emplaceBack(3),ee.emplaceBack(2),ee.emplaceBack(0),this.tileBorderIndexBuffer=N.createIndexBuffer(ee);var ie=new o.StructArrayLayout3ui6;ie.emplaceBack(0,1,2),ie.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=N.createIndexBuffer(ie),this.emptyTexture=new o.Texture(N,{width:1,height:1,data:new Uint8Array([0,0,0,0])},N.gl.RGBA);var fe=this.context.gl;this.stencilClearMode=new Ze({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO)},li.prototype.clearStencil=function(){var N=this.context,Y=N.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=o.create();o.ortho(G,0,this.width,this.height,0,0,1),o.scale(G,G,[Y.drawingBufferWidth,Y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(N,Y.TRIANGLES,Ft.disabled,this.stencilClearMode,$e.disabled,He.disabled,qs(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},li.prototype._renderTileClippingMasks=function(N,Y){if(this.currentStencilSource!==N.source&&N.isTileClipped()&&Y&&Y.length){this.currentStencilSource=N.source;var G=this.context,L=G.gl;this.nextStencilID+Y.length>256&&this.clearStencil(),G.setColorMode($e.disabled),G.setDepthMode(Ft.disabled);var q=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ee=0,ie=Y;ee<ie.length;ee+=1){var fe=ie[ee],we=this._tileClippingMaskIDs[fe.key]=this.nextStencilID++;q.draw(G,L.TRIANGLES,Ft.disabled,new Ze({func:L.ALWAYS,mask:0},we,255,L.KEEP,L.KEEP,L.REPLACE),$e.disabled,He.disabled,qs(fe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},li.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var N=this.nextStencilID++,Y=this.context.gl;return new Ze({func:Y.NOTEQUAL,mask:255},N,255,Y.KEEP,Y.KEEP,Y.REPLACE)},li.prototype.stencilModeForClipping=function(N){var Y=this.context.gl;return new Ze({func:Y.EQUAL,mask:255},this._tileClippingMaskIDs[N.key],0,Y.KEEP,Y.KEEP,Y.REPLACE)},li.prototype.stencilConfigForOverlap=function(N){var Y,G=this.context.gl,L=N.sort(function(we,Oe){return Oe.overscaledZ-we.overscaledZ}),q=L[L.length-1].overscaledZ,ee=L[0].overscaledZ-q+1;if(ee>1){this.currentStencilSource=void 0,this.nextStencilID+ee>256&&this.clearStencil();for(var ie={},fe=0;fe<ee;fe++)ie[fe+q]=new Ze({func:G.GEQUAL,mask:255},fe+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=ee,[ie,L]}return[(Y={},Y[q]=Ze.disabled,Y),L]},li.prototype.colorModeForRenderPass=function(){var N=this.context.gl;if(this._showOverdrawInspector){var Y=.125;return new $e([N.CONSTANT_COLOR,N.ONE],new o.Color(Y,Y,Y,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?$e.unblended:$e.alphaBlended},li.prototype.depthModeForSublayer=function(N,Y,G){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+N)*this.depthEpsilon;return new Ft(G||this.context.gl.LEQUAL,Y,[L,L])},li.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},li.prototype.render=function(N,Y){var G=this;this.style=N,this.options=Y,this.lineAtlas=N.lineAtlas,this.imageManager=N.imageManager,this.glyphManager=N.glyphManager,this.symbolFadeChange=N.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var L=this.style._order,q=this.style.sourceCaches;for(var ee in q){var ie=q[ee];ie.used&&ie.prepare(this.context)}var fe,we,Oe={},Be={},Ge={};for(var Ye in q){var at=q[Ye];Oe[Ye]=at.getVisibleCoordinates(),Be[Ye]=Oe[Ye].slice().reverse(),Ge[Ye]=at.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var pt=0;pt<L.length;pt++){var vt=L[pt];if(this.style._layers[vt].is3D()){this.opaquePassCutoff=pt;break}}this.renderPass="offscreen";for(var kt=0,Ot=L;kt<Ot.length;kt+=1){var St=Ot[kt],jt=this.style._layers[St];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var It=Be[jt.source];(jt.type==="custom"||It.length)&&this.renderLayer(this,q[jt.source],jt,It)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Y.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(N._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var $t=this.style._layers[L[this.currentLayer]],Zt=q[$t.source],Ht=Oe[$t.source];this._renderTileClippingMasks($t,Ht),this.renderLayer(this,Zt,$t,Ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var vn=this.style._layers[L[this.currentLayer]],bn=q[vn.source],Ln=(vn.type==="symbol"?Ge:Be)[vn.source];this._renderTileClippingMasks(vn,Oe[vn.source]),this.renderLayer(this,bn,vn,Ln)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(Rn){Rn.source&&!Rn.isHidden(G.transform.zoom)&&(Rn.source!==(we&&we.id)&&(we=G.style.sourceCaches[Rn.source]),(!fe||fe.getSource().maxzoom<we.getSource().maxzoom)&&(fe=we))}),fe&&hu.debug(this,fe,fe.getVisibleCoordinates())),this.options.showPadding&&Xs(this),this.context.setDefault()},li.prototype.renderLayer=function(N,Y,G,L){G.isHidden(this.transform.zoom)||(G.type==="background"||G.type==="custom"||L.length)&&(this.id=G.id,this.gpuTimingStart(G),hu[G.type](N,Y,G,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},li.prototype.gpuTimingStart=function(N){if(this.options.gpuTiming){var Y=this.context.extTimerQuery,G=this.gpuTimers[N.id];G||(G=this.gpuTimers[N.id]={calls:0,cpuTime:0,query:Y.createQueryEXT()}),G.calls++,Y.beginQueryEXT(Y.TIME_ELAPSED_EXT,G.query)}},li.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var N=this.context.extTimerQuery;N.endQueryEXT(N.TIME_ELAPSED_EXT)}},li.prototype.collectGpuTimers=function(){var N=this.gpuTimers;return this.gpuTimers={},N},li.prototype.queryGpuTimers=function(N){var Y={};for(var G in N){var L=N[G],q=this.context.extTimerQuery,ee=q.getQueryObjectEXT(L.query,q.QUERY_RESULT_EXT)/1e6;q.deleteQueryEXT(L.query),Y[G]=ee}return Y},li.prototype.translatePosMatrix=function(N,Y,G,L,q){if(!G[0]&&!G[1])return N;var ee=q?L==="map"?this.transform.angle:0:L==="viewport"?-this.transform.angle:0;if(ee){var ie=Math.sin(ee),fe=Math.cos(ee);G=[G[0]*fe-G[1]*ie,G[0]*ie+G[1]*fe]}var we=[q?G[0]:Jn(Y,G[0],this.transform.zoom),q?G[1]:Jn(Y,G[1],this.transform.zoom),0],Oe=new Float32Array(16);return o.translate(Oe,N,we),Oe},li.prototype.saveTileTexture=function(N){var Y=this._tileTextures[N.size[0]];Y?Y.push(N):this._tileTextures[N.size[0]]=[N]},li.prototype.getTileTexture=function(N){var Y=this._tileTextures[N];return Y&&Y.length>0?Y.pop():null},li.prototype.isPatternMissing=function(N){if(!N)return!1;if(!N.from||!N.to)return!0;var Y=this.imageManager.getPattern(N.from.toString()),G=this.imageManager.getPattern(N.to.toString());return!Y||!G},li.prototype.useProgram=function(N,Y){this.cache=this.cache||{};var G=""+N+(Y?Y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new po(this.context,N,Ji[N],Y,lu[N],this._showOverdrawInspector)),this.cache[G]},li.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},li.prototype.setBaseState=function(){var N=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(N.FUNC_ADD)},li.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var N=this.context.gl;this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,N.RGBA)}},li.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ks=function(N,Y){this.points=N,this.planes=Y};ks.fromInvProjectionMatrix=function(N,Y,G){var L=Math.pow(2,G),q=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ie){return o.transformMat4([],ie,N)}).map(function(ie){return o.scale$1([],ie,1/ie[3]/Y*L)}),ee=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ie){var fe=o.sub([],q[ie[0]],q[ie[1]]),we=o.sub([],q[ie[2]],q[ie[1]]),Oe=o.normalize([],o.cross([],fe,we)),Be=-o.dot(Oe,q[ie[1]]);return Oe.concat(Be)});return new ks(q,ee)};var ga=function(N,Y){this.min=N,this.max=Y,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};ga.prototype.quadrant=function(N){for(var Y=[N%2==0,N<2],G=o.clone$2(this.min),L=o.clone$2(this.max),q=0;q<Y.length;q++)G[q]=Y[q]?this.min[q]:this.center[q],L[q]=Y[q]?this.center[q]:this.max[q];return L[2]=this.max[2],new ga(G,L)},ga.prototype.distanceX=function(N){return Math.max(Math.min(this.max[0],N[0]),this.min[0])-N[0]},ga.prototype.distanceY=function(N){return Math.max(Math.min(this.max[1],N[1]),this.min[1])-N[1]},ga.prototype.intersects=function(N){for(var Y=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,L=0;L<N.planes.length;L++){for(var q=N.planes[L],ee=0,ie=0;ie<Y.length;ie++)ee+=o.dot$1(q,Y[ie])>=0;if(ee===0)return 0;ee!==Y.length&&(G=!1)}if(G)return 2;for(var fe=0;fe<3;fe++){for(var we=Number.MAX_VALUE,Oe=-Number.MAX_VALUE,Be=0;Be<N.points.length;Be++){var Ge=N.points[Be][fe]-this.min[fe];we=Math.min(we,Ge),Oe=Math.max(Oe,Ge)}if(Oe<0||we>this.max[fe]-this.min[fe])return 0}return 1};var mo=function(N,Y,G,L){if(N===void 0&&(N=0),Y===void 0&&(Y=0),G===void 0&&(G=0),L===void 0&&(L=0),isNaN(N)||N<0||isNaN(Y)||Y<0||isNaN(G)||G<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=N,this.bottom=Y,this.left=G,this.right=L};mo.prototype.interpolate=function(N,Y,G){return Y.top!=null&&N.top!=null&&(this.top=o.number(N.top,Y.top,G)),Y.bottom!=null&&N.bottom!=null&&(this.bottom=o.number(N.bottom,Y.bottom,G)),Y.left!=null&&N.left!=null&&(this.left=o.number(N.left,Y.left,G)),Y.right!=null&&N.right!=null&&(this.right=o.number(N.right,Y.right,G)),this},mo.prototype.getCenter=function(N,Y){var G=o.clamp((this.left+N-this.right)/2,0,N),L=o.clamp((this.top+Y-this.bottom)/2,0,Y);return new o.Point(G,L)},mo.prototype.equals=function(N){return this.top===N.top&&this.bottom===N.bottom&&this.left===N.left&&this.right===N.right},mo.prototype.clone=function(){return new mo(this.top,this.bottom,this.left,this.right)},mo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ni=function(N,Y,G,L,q){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=q===void 0||q,this._minZoom=N||0,this._maxZoom=Y||22,this._minPitch=G??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new mo,this._posMatrixCache={},this._alignedPosMatrixCache={}},si={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ni.prototype.clone=function(){var N=new ni(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return N.tileSize=this.tileSize,N.latRange=this.latRange,N.width=this.width,N.height=this.height,N._center=this._center,N.zoom=this.zoom,N.angle=this.angle,N._fov=this._fov,N._pitch=this._pitch,N._unmodified=this._unmodified,N._edgeInsets=this._edgeInsets.clone(),N._calcMatrices(),N},si.minZoom.get=function(){return this._minZoom},si.minZoom.set=function(N){this._minZoom!==N&&(this._minZoom=N,this.zoom=Math.max(this.zoom,N))},si.maxZoom.get=function(){return this._maxZoom},si.maxZoom.set=function(N){this._maxZoom!==N&&(this._maxZoom=N,this.zoom=Math.min(this.zoom,N))},si.minPitch.get=function(){return this._minPitch},si.minPitch.set=function(N){this._minPitch!==N&&(this._minPitch=N,this.pitch=Math.max(this.pitch,N))},si.maxPitch.get=function(){return this._maxPitch},si.maxPitch.set=function(N){this._maxPitch!==N&&(this._maxPitch=N,this.pitch=Math.min(this.pitch,N))},si.renderWorldCopies.get=function(){return this._renderWorldCopies},si.renderWorldCopies.set=function(N){N===void 0?N=!0:N===null&&(N=!1),this._renderWorldCopies=N},si.worldSize.get=function(){return this.tileSize*this.scale},si.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},si.size.get=function(){return new o.Point(this.width,this.height)},si.bearing.get=function(){return-this.angle/Math.PI*180},si.bearing.set=function(N){var Y=-o.wrap(N,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},si.pitch.get=function(){return this._pitch/Math.PI*180},si.pitch.set=function(N){var Y=o.clamp(N,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},si.fov.get=function(){return this._fov/Math.PI*180},si.fov.set=function(N){N=Math.max(.01,Math.min(60,N)),this._fov!==N&&(this._unmodified=!1,this._fov=N/180*Math.PI,this._calcMatrices())},si.zoom.get=function(){return this._zoom},si.zoom.set=function(N){var Y=Math.min(Math.max(N,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},si.center.get=function(){return this._center},si.center.set=function(N){N.lat===this._center.lat&&N.lng===this._center.lng||(this._unmodified=!1,this._center=N,this._constrain(),this._calcMatrices())},si.padding.get=function(){return this._edgeInsets.toJSON()},si.padding.set=function(N){this._edgeInsets.equals(N)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,N,1),this._calcMatrices())},si.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ni.prototype.isPaddingEqual=function(N){return this._edgeInsets.equals(N)},ni.prototype.interpolatePadding=function(N,Y,G){this._unmodified=!1,this._edgeInsets.interpolate(N,Y,G),this._constrain(),this._calcMatrices()},ni.prototype.coveringZoomLevel=function(N){var Y=(N.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/N.tileSize));return Math.max(0,Y)},ni.prototype.getVisibleUnwrappedCoordinates=function(N){var Y=[new o.UnwrappedTileID(0,N)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new o.Point(0,0)),L=this.pointCoordinate(new o.Point(this.width,0)),q=this.pointCoordinate(new o.Point(this.width,this.height)),ee=this.pointCoordinate(new o.Point(0,this.height)),ie=Math.floor(Math.min(G.x,L.x,q.x,ee.x)),fe=Math.floor(Math.max(G.x,L.x,q.x,ee.x)),we=ie-1;we<=fe+1;we++)we!==0&&Y.push(new o.UnwrappedTileID(we,N));return Y},ni.prototype.coveringTiles=function(N){var Y=this.coveringZoomLevel(N),G=Y;if(N.minzoom!==void 0&&Y<N.minzoom)return[];N.maxzoom!==void 0&&Y>N.maxzoom&&(Y=N.maxzoom);var L=o.MercatorCoordinate.fromLngLat(this.center),q=Math.pow(2,Y),ee=[q*L.x,q*L.y,0],ie=ks.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Y),fe=N.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(fe=Y);var we=function(Ln){return{aabb:new ga([Ln*q,0,0],[(Ln+1)*q,q,0]),zoom:0,x:0,y:0,wrap:Ln,fullyVisible:!1}},Oe=[],Be=[],Ge=Y,Ye=N.reparseOverscaled?G:Y;if(this._renderWorldCopies)for(var at=1;at<=3;at++)Oe.push(we(-at)),Oe.push(we(at));for(Oe.push(we(0));Oe.length>0;){var pt=Oe.pop(),vt=pt.x,kt=pt.y,Ot=pt.fullyVisible;if(!Ot){var St=pt.aabb.intersects(ie);if(St===0)continue;Ot=St===2}var jt=pt.aabb.distanceX(ee),It=pt.aabb.distanceY(ee),$t=Math.max(Math.abs(jt),Math.abs(It)),Zt=3+(1<<Ge-pt.zoom)-2;if(pt.zoom===Ge||$t>Zt&&pt.zoom>=fe)Be.push({tileID:new o.OverscaledTileID(pt.zoom===Ge?Ye:pt.zoom,pt.wrap,pt.zoom,vt,kt),distanceSq:o.sqrLen([ee[0]-.5-vt,ee[1]-.5-kt])});else for(var Ht=0;Ht<4;Ht++){var vn=(vt<<1)+Ht%2,bn=(kt<<1)+(Ht>>1);Oe.push({aabb:pt.aabb.quadrant(Ht),zoom:pt.zoom+1,x:vn,y:bn,wrap:pt.wrap,fullyVisible:Ot})}}return Be.sort(function(Ln,Rn){return Ln.distanceSq-Rn.distanceSq}).map(function(Ln){return Ln.tileID})},ni.prototype.resize=function(N,Y){this.width=N,this.height=Y,this.pixelsToGLUnits=[2/N,-2/Y],this._constrain(),this._calcMatrices()},si.unmodified.get=function(){return this._unmodified},ni.prototype.zoomScale=function(N){return Math.pow(2,N)},ni.prototype.scaleZoom=function(N){return Math.log(N)/Math.LN2},ni.prototype.project=function(N){var Y=o.clamp(N.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(N.lng)*this.worldSize,o.mercatorYfromLat(Y)*this.worldSize)},ni.prototype.unproject=function(N){return new o.MercatorCoordinate(N.x/this.worldSize,N.y/this.worldSize).toLngLat()},si.point.get=function(){return this.project(this.center)},ni.prototype.setLocationAtPoint=function(N,Y){var G=this.pointCoordinate(Y),L=this.pointCoordinate(this.centerPoint),q=this.locationCoordinate(N),ee=new o.MercatorCoordinate(q.x-(G.x-L.x),q.y-(G.y-L.y));this.center=this.coordinateLocation(ee),this._renderWorldCopies&&(this.center=this.center.wrap())},ni.prototype.locationPoint=function(N){return this.coordinatePoint(this.locationCoordinate(N))},ni.prototype.pointLocation=function(N){return this.coordinateLocation(this.pointCoordinate(N))},ni.prototype.locationCoordinate=function(N){return o.MercatorCoordinate.fromLngLat(N)},ni.prototype.coordinateLocation=function(N){return N.toLngLat()},ni.prototype.pointCoordinate=function(N){var Y=[N.x,N.y,0,1],G=[N.x,N.y,1,1];o.transformMat4(Y,Y,this.pixelMatrixInverse),o.transformMat4(G,G,this.pixelMatrixInverse);var L=Y[3],q=G[3],ee=Y[0]/L,ie=G[0]/q,fe=Y[1]/L,we=G[1]/q,Oe=Y[2]/L,Be=G[2]/q,Ge=Oe===Be?0:(0-Oe)/(Be-Oe);return new o.MercatorCoordinate(o.number(ee,ie,Ge)/this.worldSize,o.number(fe,we,Ge)/this.worldSize)},ni.prototype.coordinatePoint=function(N){var Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return o.transformMat4(Y,Y,this.pixelMatrix),new o.Point(Y[0]/Y[3],Y[1]/Y[3])},ni.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},ni.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ni.prototype.setMaxBounds=function(N){N?(this.lngRange=[N.getWest(),N.getEast()],this.latRange=[N.getSouth(),N.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ni.prototype.calculatePosMatrix=function(N,Y){Y===void 0&&(Y=!1);var G=N.key,L=Y?this._alignedPosMatrixCache:this._posMatrixCache;if(L[G])return L[G];var q=N.canonical,ee=this.worldSize/this.zoomScale(q.z),ie=q.x+Math.pow(2,q.z)*N.wrap,fe=o.identity(new Float64Array(16));return o.translate(fe,fe,[ie*ee,q.y*ee,0]),o.scale(fe,fe,[ee/o.EXTENT,ee/o.EXTENT,1]),o.multiply(fe,Y?this.alignedProjMatrix:this.projMatrix,fe),L[G]=new Float32Array(fe),L[G]},ni.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ni.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var N,Y,G,L,q=-90,ee=90,ie=-180,fe=180,we=this.size,Oe=this._unmodified;if(this.latRange){var Be=this.latRange;q=o.mercatorYfromLat(Be[1])*this.worldSize,N=(ee=o.mercatorYfromLat(Be[0])*this.worldSize)-q<we.y?we.y/(ee-q):0}if(this.lngRange){var Ge=this.lngRange;ie=o.mercatorXfromLng(Ge[0])*this.worldSize,Y=(fe=o.mercatorXfromLng(Ge[1])*this.worldSize)-ie<we.x?we.x/(fe-ie):0}var Ye=this.point,at=Math.max(Y||0,N||0);if(at)return this.center=this.unproject(new o.Point(Y?(fe+ie)/2:Ye.x,N?(ee+q)/2:Ye.y)),this.zoom+=this.scaleZoom(at),this._unmodified=Oe,void(this._constraining=!1);if(this.latRange){var pt=Ye.y,vt=we.y/2;pt-vt<q&&(L=q+vt),pt+vt>ee&&(L=ee-vt)}if(this.lngRange){var kt=Ye.x,Ot=we.x/2;kt-Ot<ie&&(G=ie+Ot),kt+Ot>fe&&(G=fe-Ot)}G===void 0&&L===void 0||(this.center=this.unproject(new o.Point(G!==void 0?G:Ye.x,L!==void 0?L:Ye.y))),this._unmodified=Oe,this._constraining=!1}},ni.prototype._calcMatrices=function(){if(this.height){var N=this._fov/2,Y=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(N)*this.height;var G=Math.PI/2+this._pitch,L=this._fov*(.5+Y.y/this.height),q=Math.sin(L)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-G-L,.01,Math.PI-.01)),ee=this.point,ie=ee.x,fe=ee.y,we=1.01*(Math.cos(Math.PI/2-this._pitch)*q+this.cameraToCenterDistance),Oe=this.height/50,Be=new Float64Array(16);o.perspective(Be,this._fov,this.width/this.height,Oe,we),Be[8]=2*-Y.x/this.width,Be[9]=2*Y.y/this.height,o.scale(Be,Be,[1,-1,1]),o.translate(Be,Be,[0,0,-this.cameraToCenterDistance]),o.rotateX(Be,Be,this._pitch),o.rotateZ(Be,Be,this.angle),o.translate(Be,Be,[-ie,-fe,0]),this.mercatorMatrix=o.scale([],Be,[this.worldSize,this.worldSize,this.worldSize]),o.scale(Be,Be,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Be,this.invProjMatrix=o.invert([],this.projMatrix);var Ge=this.width%2/2,Ye=this.height%2/2,at=Math.cos(this.angle),pt=Math.sin(this.angle),vt=ie-Math.round(ie)+at*Ge+pt*Ye,kt=fe-Math.round(fe)+at*Ye+pt*Ge,Ot=new Float64Array(Be);if(o.translate(Ot,Ot,[vt>.5?vt-1:vt,kt>.5?kt-1:kt,0]),this.alignedProjMatrix=Ot,Be=o.create(),o.scale(Be,Be,[this.width/2,-this.height/2,1]),o.translate(Be,Be,[1,-1,0]),this.labelPlaneMatrix=Be,Be=o.create(),o.scale(Be,Be,[1,-1,1]),o.translate(Be,Be,[-1,-1,0]),o.scale(Be,Be,[2/this.width,2/this.height,1]),this.glCoordMatrix=Be,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Be=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Be,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ni.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var N=this.pointCoordinate(new o.Point(0,0)),Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return o.transformMat4(Y,Y,this.pixelMatrix)[3]/this.cameraToCenterDistance},ni.prototype.getCameraPoint=function(){var N=this._pitch,Y=Math.tan(N)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,Y))},ni.prototype.getCameraQueryGeometry=function(N){var Y=this.getCameraPoint();if(N.length===1)return[N[0],Y];for(var G=Y.x,L=Y.y,q=Y.x,ee=Y.y,ie=0,fe=N;ie<fe.length;ie+=1){var we=fe[ie];G=Math.min(G,we.x),L=Math.min(L,we.y),q=Math.max(q,we.x),ee=Math.max(ee,we.y)}return[new o.Point(G,L),new o.Point(q,L),new o.Point(q,ee),new o.Point(G,ee),new o.Point(G,L)]},Object.defineProperties(ni.prototype,si);var Za=function(N){var Y,G,L,q,ee;this._hashName=N&&encodeURIComponent(N),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Y=this._updateHashUnthrottled.bind(this),G=300,L=!1,q=null,ee=function(){q=null,L&&(Y(),q=setTimeout(ee,G),L=!1)},function(){return L=!0,q||ee(),q})};Za.prototype.addTo=function(N){return this._map=N,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Za.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Za.prototype.getHashString=function(N){var Y=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,L=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),q=Math.pow(10,L),ee=Math.round(Y.lng*q)/q,ie=Math.round(Y.lat*q)/q,fe=this._map.getBearing(),we=this._map.getPitch(),Oe="";if(Oe+=N?"/"+ee+"/"+ie+"/"+G:G+"/"+ie+"/"+ee,(fe||we)&&(Oe+="/"+Math.round(10*fe)/10),we&&(Oe+="/"+Math.round(we)),this._hashName){var Be=this._hashName,Ge=!1,Ye=o.window.location.hash.slice(1).split("&").map(function(at){var pt=at.split("=")[0];return pt===Be?(Ge=!0,pt+"="+Oe):at}).filter(function(at){return at});return Ge||Ye.push(Be+"="+Oe),"#"+Ye.join("&")}return"#"+Oe},Za.prototype._getCurrentHash=function(){var N,Y=this,G=o.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===Y._hashName&&(N=L)}),(N&&N[1]||"").split("/")):G.split("/")},Za.prototype._onHashChange=function(){var N=this._getCurrentHash();if(N.length>=3&&!N.some(function(G){return isNaN(G)})){var Y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(N[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+N[2],+N[1]],zoom:+N[0],bearing:Y,pitch:+(N[4]||0)}),!0}return!1},Za.prototype._updateHashUnthrottled=function(){var N=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,N)}catch{}};var ml={linearity:.3,easing:o.bezier(0,0,.3,1)},Bl=o.extend({deceleration:2500,maxSpeed:1400},ml),pu=o.extend({deceleration:20,maxSpeed:1400},ml),Nl=o.extend({deceleration:1e3,maxSpeed:360},ml),jl=o.extend({deceleration:1e3,maxSpeed:90},ml),ro=function(N){this._map=N,this.clear()};function As(N,Y){(!N.duration||N.duration<Y.duration)&&(N.duration=Y.duration,N.easing=Y.easing)}function Ms(N,Y,G){var L=G.maxSpeed,q=G.linearity,ee=G.deceleration,ie=o.clamp(N*q/(Y/1e3),-L,L),fe=Math.abs(ie)/(ee*q);return{easing:G.easing,duration:1e3*fe,amount:ie*(fe/2)}}ro.prototype.clear=function(){this._inertiaBuffer=[]},ro.prototype.record=function(N){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:N})},ro.prototype._drainInertiaBuffer=function(){for(var N=this._inertiaBuffer,Y=o.browser.now();N.length>0&&Y-N[0].time>160;)N.shift()},ro.prototype._onMoveEnd=function(N){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Y={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},G=0,L=this._inertiaBuffer;G<L.length;G+=1){var q=L[G].settings;Y.zoom+=q.zoomDelta||0,Y.bearing+=q.bearingDelta||0,Y.pitch+=q.pitchDelta||0,q.panDelta&&Y.pan._add(q.panDelta),q.around&&(Y.around=q.around),q.pinchAround&&(Y.pinchAround=q.pinchAround)}var ee=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ie={};if(Y.pan.mag()){var fe=Ms(Y.pan.mag(),ee,o.extend({},Bl,N||{}));ie.offset=Y.pan.mult(fe.amount/Y.pan.mag()),ie.center=this._map.transform.center,As(ie,fe)}if(Y.zoom){var we=Ms(Y.zoom,ee,pu);ie.zoom=this._map.transform.zoom+we.amount,As(ie,we)}if(Y.bearing){var Oe=Ms(Y.bearing,ee,Nl);ie.bearing=this._map.transform.bearing+o.clamp(Oe.amount,-179,179),As(ie,Oe)}if(Y.pitch){var Be=Ms(Y.pitch,ee,jl);ie.pitch=this._map.transform.pitch+Be.amount,As(ie,Be)}if(ie.zoom||ie.bearing){var Ge=Y.pinchAround===void 0?Y.around:Y.pinchAround;ie.around=Ge?this._map.unproject(Ge):this._map.getCenter()}return this.clear(),o.extend(ie,{noMoveStart:!0})}};var ka=function(N){function Y(L,q,ee,ie){ie===void 0&&(ie={});var fe=b.mousePos(q.getCanvasContainer(),ee),we=q.unproject(fe);N.call(this,L,o.extend({point:fe,lngLat:we,originalEvent:ee},ie)),this._defaultPrevented=!1,this.target=q}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),Ul=function(N){function Y(L,q,ee){var ie=L==="touchend"?ee.changedTouches:ee.touches,fe=b.touchPos(q.getCanvasContainer(),ie),we=fe.map(function(Ge){return q.unproject(Ge)}),Oe=fe.reduce(function(Ge,Ye,at,pt){return Ge.add(Ye.div(pt.length))},new o.Point(0,0)),Be=q.unproject(Oe);N.call(this,L,{points:fe,point:Oe,lngLats:we,lngLat:Be,originalEvent:ee}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),io=function(N){function Y(L,q,ee){N.call(this,L,{originalEvent:ee}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),$i=function(N,Y){this._map=N,this._clickTolerance=Y.clickTolerance};$i.prototype.reset=function(){delete this._mousedownPos},$i.prototype.wheel=function(N){return this._firePreventable(new io(N.type,this._map,N))},$i.prototype.mousedown=function(N,Y){return this._mousedownPos=Y,this._firePreventable(new ka(N.type,this._map,N))},$i.prototype.mouseup=function(N){this._map.fire(new ka(N.type,this._map,N))},$i.prototype.click=function(N,Y){this._mousedownPos&&this._mousedownPos.dist(Y)>=this._clickTolerance||this._map.fire(new ka(N.type,this._map,N))},$i.prototype.dblclick=function(N){return this._firePreventable(new ka(N.type,this._map,N))},$i.prototype.mouseover=function(N){this._map.fire(new ka(N.type,this._map,N))},$i.prototype.mouseout=function(N){this._map.fire(new ka(N.type,this._map,N))},$i.prototype.touchstart=function(N){return this._firePreventable(new Ul(N.type,this._map,N))},$i.prototype.touchmove=function(N){this._map.fire(new Ul(N.type,this._map,N))},$i.prototype.touchend=function(N){this._map.fire(new Ul(N.type,this._map,N))},$i.prototype.touchcancel=function(N){this._map.fire(new Ul(N.type,this._map,N))},$i.prototype._firePreventable=function(N){if(this._map.fire(N),N.defaultPrevented)return{}},$i.prototype.isEnabled=function(){return!0},$i.prototype.isActive=function(){return!1},$i.prototype.enable=function(){},$i.prototype.disable=function(){};var aa=function(N){this._map=N};aa.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},aa.prototype.mousemove=function(N){this._map.fire(new ka(N.type,this._map,N))},aa.prototype.mousedown=function(){this._delayContextMenu=!0},aa.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ka("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},aa.prototype.contextmenu=function(N){this._delayContextMenu?this._contextMenuEvent=N:this._map.fire(new ka(N.type,this._map,N)),this._map.listens("contextmenu")&&N.preventDefault()},aa.prototype.isEnabled=function(){return!0},aa.prototype.isActive=function(){return!1},aa.prototype.enable=function(){},aa.prototype.disable=function(){};var vi=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._container=N.getContainer(),this._clickTolerance=Y.clickTolerance||1};function oa(N,Y){for(var G={},L=0;L<N.length;L++)G[N[L].identifier]=Y[L];return G}vi.prototype.isEnabled=function(){return!!this._enabled},vi.prototype.isActive=function(){return!!this._active},vi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vi.prototype.mousedown=function(N,Y){this.isEnabled()&&N.shiftKey&&N.button===0&&(b.disableDrag(),this._startPos=this._lastPos=Y,this._active=!0)},vi.prototype.mousemoveWindow=function(N,Y){if(this._active){var G=Y;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=G,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",N));var q=Math.min(L.x,G.x),ee=Math.max(L.x,G.x),ie=Math.min(L.y,G.y),fe=Math.max(L.y,G.y);b.setTransform(this._box,"translate("+q+"px,"+ie+"px)"),this._box.style.width=ee-q+"px",this._box.style.height=fe-ie+"px"}}},vi.prototype.mouseupWindow=function(N,Y){var G=this;if(this._active&&N.button===0){var L=this._startPos,q=Y;if(this.reset(),b.suppressClick(),L.x!==q.x||L.y!==q.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:N})),{cameraAnimation:function(ee){return ee.fitScreenCoordinates(L,q,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",N)}},vi.prototype.keydown=function(N){this._active&&N.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",N))},vi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},vi.prototype._fireEvent=function(N,Y){return this._map.fire(new o.Event(N,{originalEvent:Y}))};var Fo=function(N){this.reset(),this.numTouches=N.numTouches};Fo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Fo.prototype.touchstart=function(N,Y,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=N.timeStamp),G.length===this.numTouches&&(this.centroid=function(L){for(var q=new o.Point(0,0),ee=0,ie=L;ee<ie.length;ee+=1){var fe=ie[ee];q._add(fe)}return q.div(L.length)}(Y),this.touches=oa(G,Y)))},Fo.prototype.touchmove=function(N,Y,G){if(!this.aborted&&this.centroid){var L=oa(G,Y);for(var q in this.touches){var ee=this.touches[q],ie=L[q];(!ie||ie.dist(ee)>30)&&(this.aborted=!0)}}},Fo.prototype.touchend=function(N,Y,G){if((!this.centroid||N.timeStamp-this.startTime>500)&&(this.aborted=!0),G.length===0){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var $s=function(N){this.singleTap=new Fo(N),this.numTaps=N.numTaps,this.reset()};$s.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},$s.prototype.touchstart=function(N,Y,G){this.singleTap.touchstart(N,Y,G)},$s.prototype.touchmove=function(N,Y,G){this.singleTap.touchmove(N,Y,G)},$s.prototype.touchend=function(N,Y,G){var L=this.singleTap.touchend(N,Y,G);if(L){var q=N.timeStamp-this.lastTime<500,ee=!this.lastTap||this.lastTap.dist(L)<30;if(q&&ee||this.reset(),this.count++,this.lastTime=N.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var yo=function(){this._zoomIn=new $s({numTouches:1,numTaps:2}),this._zoomOut=new $s({numTouches:2,numTaps:1}),this.reset()};yo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},yo.prototype.touchstart=function(N,Y,G){this._zoomIn.touchstart(N,Y,G),this._zoomOut.touchstart(N,Y,G)},yo.prototype.touchmove=function(N,Y,G){this._zoomIn.touchmove(N,Y,G),this._zoomOut.touchmove(N,Y,G)},yo.prototype.touchend=function(N,Y,G){var L=this,q=this._zoomIn.touchend(N,Y,G),ee=this._zoomOut.touchend(N,Y,G);return q?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ie){return ie.easeTo({duration:300,zoom:ie.getZoom()+1,around:ie.unproject(q)},{originalEvent:N})}}):ee?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ie){return ie.easeTo({duration:300,zoom:ie.getZoom()-1,around:ie.unproject(ee)},{originalEvent:N})}}):void 0},yo.prototype.touchcancel=function(){this.reset()},yo.prototype.enable=function(){this._enabled=!0},yo.prototype.disable=function(){this._enabled=!1,this.reset()},yo.prototype.isEnabled=function(){return this._enabled},yo.prototype.isActive=function(){return this._active};var Ss={};Ss[0]=1,Ss[2]=2;var Oa=function(N){this.reset(),this._clickTolerance=N.clickTolerance||1};Oa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Oa.prototype._correctButton=function(N,Y){return!1},Oa.prototype._move=function(N,Y){return{}},Oa.prototype.mousedown=function(N,Y){if(!this._lastPoint){var G=b.mouseButton(N);this._correctButton(N,G)&&(this._lastPoint=Y,this._eventButton=G)}},Oa.prototype.mousemoveWindow=function(N,Y){var G=this._lastPoint;if(G){if(N.preventDefault(),function(L,q){var ee=Ss[q];return L.buttons===void 0||(L.buttons&ee)!==ee}(N,this._eventButton))this.reset();else if(this._moved||!(Y.dist(G)<this._clickTolerance))return this._moved=!0,this._lastPoint=Y,this._move(G,Y)}},Oa.prototype.mouseupWindow=function(N){this._lastPoint&&b.mouseButton(N)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};var Qs=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.mousedown=function(G,L){N.prototype.mousedown.call(this,G,L),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(G,L){return L===0&&!G.ctrlKey},Y.prototype._move=function(G,L){return{around:L,panDelta:L.sub(G)}},Y}(Oa),ns=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var q=.8*(L.x-G.x);if(q)return this._active=!0,{bearingDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),ao=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var q=-.5*(L.y-G.y);if(q)return this._active=!0,{pitchDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),oo=function(N){this._minTouches=1,this._clickTolerance=N.clickTolerance||1,this.reset()};oo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},oo.prototype.touchstart=function(N,Y,G){return this._calculateTransform(N,Y,G)},oo.prototype.touchmove=function(N,Y,G){if(this._active&&!(G.length<this._minTouches))return N.preventDefault(),this._calculateTransform(N,Y,G)},oo.prototype.touchend=function(N,Y,G){this._calculateTransform(N,Y,G),this._active&&G.length<this._minTouches&&this.reset()},oo.prototype.touchcancel=function(){this.reset()},oo.prototype._calculateTransform=function(N,Y,G){G.length>0&&(this._active=!0);var L=oa(G,Y),q=new o.Point(0,0),ee=new o.Point(0,0),ie=0;for(var fe in L){var we=L[fe],Oe=this._touches[fe];Oe&&(q._add(we),ee._add(we.sub(Oe)),ie++,L[fe]=we)}if(this._touches=L,!(ie<this._minTouches)&&ee.mag()){var Be=ee.div(ie);if(this._sum._add(Be),!(this._sum.mag()<this._clickTolerance))return{around:q.div(ie),panDelta:Be}}},oo.prototype.enable=function(){this._enabled=!0},oo.prototype.disable=function(){this._enabled=!1,this.reset()},oo.prototype.isEnabled=function(){return this._enabled},oo.prototype.isActive=function(){return this._active};var bi=function(){this.reset()};function xo(N,Y,G){for(var L=0;L<N.length;L++)if(N[L].identifier===G)return Y[L]}bi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},bi.prototype._start=function(N){},bi.prototype._move=function(N,Y,G){return{}},bi.prototype.touchstart=function(N,Y,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([Y[0],Y[1]]))},bi.prototype.touchmove=function(N,Y,G){if(this._firstTwoTouches){N.preventDefault();var L=this._firstTwoTouches,q=L[0],ee=L[1],ie=xo(G,Y,q),fe=xo(G,Y,ee);if(ie&&fe){var we=this._aroundCenter?null:ie.add(fe).div(2);return this._move([ie,fe],we,N)}}},bi.prototype.touchend=function(N,Y,G){if(this._firstTwoTouches){var L=this._firstTwoTouches,q=L[0],ee=L[1],ie=xo(G,Y,q),fe=xo(G,Y,ee);ie&&fe||(this._active&&b.suppressClick(),this.reset())}},bi.prototype.touchcancel=function(){this.reset()},bi.prototype.enable=function(N){this._enabled=!0,this._aroundCenter=!!N&&N.around==="center"},bi.prototype.disable=function(){this._enabled=!1,this.reset()},bi.prototype.isEnabled=function(){return this._enabled},bi.prototype.isActive=function(){return this._active};function Lr(N,Y){return Math.log(N/Y)/Math.LN2}var Vl=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},Y.prototype._move=function(G,L){var q=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(Lr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Lr(this._distance,q),pinchAround:L}},Y}(bi);function Cu(N,Y){return 180*N.angleWith(Y)/Math.PI}var Es=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},Y.prototype._move=function(G,L){var q=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Cu(this._vector,q),pinchAround:L}},Y.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var L=25/(Math.PI*this._minDiameter)*360,q=Cu(G,this._startVector);return Math.abs(q)<L},Y}(bi);function Ls(N){return Math.abs(N.y)>Math.abs(N.x)}var el=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(G){this._lastPoints=G,Ls(G[0].sub(G[1]))&&(this._valid=!1)},Y.prototype._move=function(G,L,q){var ee=G[0].sub(this._lastPoints[0]),ie=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ee,ie,q.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:(ee.y+ie.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function(G,L,q){if(this._valid!==void 0)return this._valid;var ee=G.mag()>=2,ie=L.mag()>=2;if(ee||ie){if(!ee||!ie)return this._firstMove===void 0&&(this._firstMove=q),q-this._firstMove<100&&void 0;var fe=G.y>0==L.y>0;return Ls(G)&&Ls(L)&&fe}},Y}(bi),yl={panStep:100,bearingStep:15,pitchStep:10},br=function(){var N=yl;this._panStep=N.panStep,this._bearingStep=N.bearingStep,this._pitchStep=N.pitchStep,this._rotationDisabled=!1};function Hl(N){return N*(2-N)}br.prototype.reset=function(){this._active=!1},br.prototype.keydown=function(N){var Y=this;if(!(N.altKey||N.ctrlKey||N.metaKey)){var G=0,L=0,q=0,ee=0,ie=0;switch(N.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:N.shiftKey?L=-1:(N.preventDefault(),ee=-1);break;case 39:N.shiftKey?L=1:(N.preventDefault(),ee=1);break;case 38:N.shiftKey?q=1:(N.preventDefault(),ie=-1);break;case 40:N.shiftKey?q=-1:(N.preventDefault(),ie=1);break;default:return}return this._rotationDisabled&&(L=0,q=0),{cameraAnimation:function(fe){var we=fe.getZoom();fe.easeTo({duration:300,easeId:"keyboardHandler",easing:Hl,zoom:G?Math.round(we)+G*(N.shiftKey?2:1):we,bearing:fe.getBearing()+L*Y._bearingStep,pitch:fe.getPitch()+q*Y._pitchStep,offset:[-ee*Y._panStep,-ie*Y._panStep],center:fe.getCenter()},{originalEvent:N})}}}},br.prototype.enable=function(){this._enabled=!0},br.prototype.disable=function(){this._enabled=!1,this.reset()},br.prototype.isEnabled=function(){return this._enabled},br.prototype.isActive=function(){return this._active},br.prototype.disableRotation=function(){this._rotationDisabled=!0},br.prototype.enableRotation=function(){this._rotationDisabled=!1};var rs=4.000244140625,Qi=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._handler=Y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,o.bindAll(["_onTimeout"],this)};Qi.prototype.setZoomRate=function(N){this._defaultZoomRate=N},Qi.prototype.setWheelZoomRate=function(N){this._wheelZoomRate=N},Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Qi.prototype.isZooming=function(){return!!this._zooming},Qi.prototype.enable=function(N){this.isEnabled()||(this._enabled=!0,this._aroundCenter=N&&N.around==="center")},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.wheel=function(N){if(this.isEnabled()){var Y=N.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*N.deltaY:N.deltaY,G=o.browser.now(),L=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,Y!==0&&Y%rs==0?this._type="wheel":Y!==0&&Math.abs(Y)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=Y,this._timeout=setTimeout(this._onTimeout,40,N)):this._type||(this._type=Math.abs(L*Y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Y+=this._lastValue)),N.shiftKey&&Y&&(Y/=4),this._type&&(this._lastWheelEvent=N,this._delta-=Y,this._active||this._start(N)),N.preventDefault()}},Qi.prototype._onTimeout=function(N){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(N)},Qi.prototype._start=function(N){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Y=b.mousePos(this._el,N);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Y)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Qi.prototype.renderFrame=function(){var N=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Y=this._map.transform;if(this._delta!==0){var G=this._type==="wheel"&&Math.abs(this._delta)>rs?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&L!==0&&(L=1/L);var q=typeof this._targetZoom=="number"?Y.zoomScale(this._targetZoom):Y.scale;this._targetZoom=Math.min(Y.maxZoom,Math.max(Y.minZoom,Y.scaleZoom(q*L))),this._type==="wheel"&&(this._startZoom=Y.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ee,ie=typeof this._targetZoom=="number"?this._targetZoom:Y.zoom,fe=this._startZoom,we=this._easing,Oe=!1;if(this._type==="wheel"&&fe&&we){var Be=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),Ge=we(Be);ee=o.number(fe,ie,Ge),Be<1?this._frameId||(this._frameId=!0):Oe=!0}else ee=ie,Oe=!0;return this._active=!0,Oe&&(this._active=!1,this._finishTimeout=setTimeout(function(){N._zooming=!1,N._handler._triggerRenderFrame(),delete N._targetZoom,delete N._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Oe,zoomDelta:ee-Y.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Qi.prototype._smoothOutEasing=function(N){var Y=o.ease;if(this._prevEase){var G=this._prevEase,L=(o.browser.now()-G.start)/G.duration,q=G.easing(L+.01)-G.easing(L),ee=.27/Math.sqrt(q*q+1e-4)*.01,ie=Math.sqrt(.0729-ee*ee);Y=o.bezier(ee,ie,.25,1)}return this._prevEase={start:o.browser.now(),duration:N,easing:Y},Y},Qi.prototype.reset=function(){this._active=!1};var Cs=function(N,Y){this._clickZoom=N,this._tapZoom=Y};Cs.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Cs.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Cs.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Cs.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var bo=function(){this.reset()};bo.prototype.reset=function(){this._active=!1},bo.prototype.dblclick=function(N,Y){return N.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(N.shiftKey?-1:1),around:G.unproject(Y)},{originalEvent:N})}}},bo.prototype.enable=function(){this._enabled=!0},bo.prototype.disable=function(){this._enabled=!1,this.reset()},bo.prototype.isEnabled=function(){return this._enabled},bo.prototype.isActive=function(){return this._active};var so=function(){this._tap=new $s({numTouches:1,numTaps:1}),this.reset()};so.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},so.prototype.touchstart=function(N,Y,G){this._swipePoint||(this._tapTime&&N.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=Y[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(N,Y,G))},so.prototype.touchmove=function(N,Y,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var L=Y[0],q=L.y-this._swipePoint.y;return this._swipePoint=L,N.preventDefault(),this._active=!0,{zoomDelta:q/128}}}else this._tap.touchmove(N,Y,G)},so.prototype.touchend=function(N,Y,G){this._tapTime?this._swipePoint&&G.length===0&&this.reset():this._tap.touchend(N,Y,G)&&(this._tapTime=N.timeStamp)},so.prototype.touchcancel=function(){this.reset()},so.prototype.enable=function(){this._enabled=!0},so.prototype.disable=function(){this._enabled=!1,this.reset()},so.prototype.isEnabled=function(){return this._enabled},so.prototype.isActive=function(){return this._active};var Aa=function(N,Y,G){this._el=N,this._mousePan=Y,this._touchPan=G};Aa.prototype.enable=function(N){this._inertiaOptions=N||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Aa.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Aa.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Aa.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function(N,Y,G){this._pitchWithRotate=N.pitchWithRotate,this._mouseRotate=Y,this._mousePitch=G};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var lo=function(N,Y,G,L){this._el=N,this._touchZoom=Y,this._touchRotate=G,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};lo.prototype.enable=function(N){this._touchZoom.enable(N),this._rotationDisabled||this._touchRotate.enable(N),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},lo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},lo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},lo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},lo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},lo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var is=function(N){return N.zoom||N.drag||N.pitch||N.rotate},ql=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y}(o.Event);function Ps(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta}var ei=function(N,Y){this._map=N,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ro(N),this._bearingSnap=Y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Y),o.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!0}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[o.window,"blur",void 0]];for(var L=0,q=this._listeners;L<q.length;L+=1){var ee=q[L],ie=ee[0],fe=ee[1],we=ee[2];b.addEventListener(ie,fe,ie===o.window.document?this.handleWindowEvent:this.handleEvent,we)}};ei.prototype.destroy=function(){for(var N=0,Y=this._listeners;N<Y.length;N+=1){var G=Y[N],L=G[0],q=G[1],ee=G[2];b.removeEventListener(L,q,L===o.window.document?this.handleWindowEvent:this.handleEvent,ee)}},ei.prototype._addDefaultHandlers=function(N){var Y=this._map,G=Y.getCanvasContainer();this._add("mapEvent",new $i(Y,N));var L=Y.boxZoom=new vi(Y,N);this._add("boxZoom",L);var q=new yo,ee=new bo;Y.doubleClickZoom=new Cs(ee,q),this._add("tapZoom",q),this._add("clickZoom",ee);var ie=new so;this._add("tapDragZoom",ie);var fe=Y.touchPitch=new el;this._add("touchPitch",fe);var we=new ns(N),Oe=new ao(N);Y.dragRotate=new Bo(N,we,Oe),this._add("mouseRotate",we,["mousePitch"]),this._add("mousePitch",Oe,["mouseRotate"]);var Be=new Qs(N),Ge=new oo(N);Y.dragPan=new Aa(G,Be,Ge),this._add("mousePan",Be),this._add("touchPan",Ge,["touchZoom","touchRotate"]);var Ye=new Es,at=new Vl;Y.touchZoomRotate=new lo(G,at,Ye,ie),this._add("touchRotate",Ye,["touchPan","touchZoom"]),this._add("touchZoom",at,["touchPan","touchRotate"]);var pt=Y.scrollZoom=new Qi(Y,this);this._add("scrollZoom",pt,["mousePan"]);var vt=Y.keyboard=new br;this._add("keyboard",vt),this._add("blockableMapEvent",new aa(Y));for(var kt=0,Ot=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];kt<Ot.length;kt+=1){var St=Ot[kt];N.interactive&&N[St]&&Y[St].enable(N[St])}},ei.prototype._add=function(N,Y,G){this._handlers.push({handlerName:N,handler:Y,allowed:G}),this._handlersById[N]=Y},ei.prototype.stop=function(N){if(!this._updatingCamera){for(var Y=0,G=this._handlers;Y<G.length;Y+=1)G[Y].handler.reset();this._inertia.clear(),this._fireEvents({},{},N),this._changes=[]}},ei.prototype.isActive=function(){for(var N=0,Y=this._handlers;N<Y.length;N+=1)if(Y[N].handler.isActive())return!0;return!1},ei.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ei.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ei.prototype.isMoving=function(){return!!is(this._eventsInProgress)||this.isZooming()},ei.prototype._blockedByActive=function(N,Y,G){for(var L in N)if(L!==G&&(!Y||Y.indexOf(L)<0))return!0;return!1},ei.prototype.handleWindowEvent=function(N){this.handleEvent(N,N.type+"Window")},ei.prototype._getMapTouches=function(N){for(var Y=[],G=0,L=N;G<L.length;G+=1){var q=L[G],ee=q.target;this._el.contains(ee)&&Y.push(q)}return Y},ei.prototype.handleEvent=function(N,Y){if(N.type!=="blur"){this._updatingCamera=!0;for(var G=N.type==="renderFrame"?void 0:N,L={needsRenderFrame:!1},q={},ee={},ie=N.touches?this._getMapTouches(N.touches):void 0,fe=ie?b.touchPos(this._el,ie):b.mousePos(this._el,N),we=0,Oe=this._handlers;we<Oe.length;we+=1){var Be=Oe[we],Ge=Be.handlerName,Ye=Be.handler,at=Be.allowed;if(Ye.isEnabled()){var pt=void 0;this._blockedByActive(ee,at,Ge)?Ye.reset():Ye[Y||N.type]&&(pt=Ye[Y||N.type](N,fe,ie),this.mergeHandlerResult(L,q,pt,Ge,G),pt&&pt.needsRenderFrame&&this._triggerRenderFrame()),(pt||Ye.isActive())&&(ee[Ge]=Ye)}}var vt={};for(var kt in this._previousActiveHandlers)ee[kt]||(vt[kt]=G);this._previousActiveHandlers=ee,(Object.keys(vt).length||Ps(L))&&(this._changes.push([L,q,vt]),this._triggerRenderFrame()),(Object.keys(ee).length||Ps(L))&&this._map._stop(!0),this._updatingCamera=!1;var Ot=L.cameraAnimation;Ot&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ot(this._map))}else this.stop(!0)},ei.prototype.mergeHandlerResult=function(N,Y,G,L,q){if(G){o.extend(N,G);var ee={handlerName:L,originalEvent:G.originalEvent||q};G.zoomDelta!==void 0&&(Y.zoom=ee),G.panDelta!==void 0&&(Y.drag=ee),G.pitchDelta!==void 0&&(Y.pitch=ee),G.bearingDelta!==void 0&&(Y.rotate=ee)}},ei.prototype._applyChanges=function(){for(var N={},Y={},G={},L=0,q=this._changes;L<q.length;L+=1){var ee=q[L],ie=ee[0],fe=ee[1],we=ee[2];ie.panDelta&&(N.panDelta=(N.panDelta||new o.Point(0,0))._add(ie.panDelta)),ie.zoomDelta&&(N.zoomDelta=(N.zoomDelta||0)+ie.zoomDelta),ie.bearingDelta&&(N.bearingDelta=(N.bearingDelta||0)+ie.bearingDelta),ie.pitchDelta&&(N.pitchDelta=(N.pitchDelta||0)+ie.pitchDelta),ie.around!==void 0&&(N.around=ie.around),ie.pinchAround!==void 0&&(N.pinchAround=ie.pinchAround),ie.noInertia&&(N.noInertia=ie.noInertia),o.extend(Y,fe),o.extend(G,we)}this._updateMapTransform(N,Y,G),this._changes=[]},ei.prototype._updateMapTransform=function(N,Y,G){var L=this._map,q=L.transform;if(!Ps(N))return this._fireEvents(Y,G,!0);var ee=N.panDelta,ie=N.zoomDelta,fe=N.bearingDelta,we=N.pitchDelta,Oe=N.around,Be=N.pinchAround;Be!==void 0&&(Oe=Be),L._stop(!0),Oe=Oe||L.transform.centerPoint;var Ge=q.pointLocation(ee?Oe.sub(ee):Oe);fe&&(q.bearing+=fe),we&&(q.pitch+=we),ie&&(q.zoom+=ie),q.setLocationAtPoint(Ge,Oe),this._map._update(),N.noInertia||this._inertia.record(N),this._fireEvents(Y,G,!0)},ei.prototype._fireEvents=function(N,Y,G){var L=this,q=is(this._eventsInProgress),ee=is(N),ie={};for(var fe in N){var we=N[fe].originalEvent;this._eventsInProgress[fe]||(ie[fe+"start"]=we),this._eventsInProgress[fe]=N[fe]}for(var Oe in!q&&ee&&this._fireEvent("movestart",ee.originalEvent),ie)this._fireEvent(Oe,ie[Oe]);for(var Be in ee&&this._fireEvent("move",ee.originalEvent),N){var Ge=N[Be].originalEvent;this._fireEvent(Be,Ge)}var Ye,at={};for(var pt in this._eventsInProgress){var vt=this._eventsInProgress[pt],kt=vt.handlerName,Ot=vt.originalEvent;this._handlersById[kt].isActive()||(delete this._eventsInProgress[pt],Ye=Y[kt]||Ot,at[pt+"end"]=Ye)}for(var St in at)this._fireEvent(St,at[St]);var jt=is(this._eventsInProgress);if(G&&(q||ee)&&!jt){this._updatingCamera=!0;var It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$t=function(Zt){return Zt!==0&&-L._bearingSnap<Zt&&Zt<L._bearingSnap};It?($t(It.bearing||this._map.getBearing())&&(It.bearing=0),this._map.easeTo(It,{originalEvent:Ye})):(this._map.fire(new o.Event("moveend",{originalEvent:Ye})),$t(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ei.prototype._fireEvent=function(N,Y){this._map.fire(new o.Event(N,Y?{originalEvent:Y}:{}))},ei.prototype._requestFrame=function(){var N=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(Y){delete N._frameId,N.handleEvent(new ql("renderFrame",{timeStamp:Y})),N._applyChanges()})},ei.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var sa=function(N){function Y(G,L){N.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=L.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(G,L){return this.jumpTo({center:G},L)},Y.prototype.panBy=function(G,L,q){return G=o.Point.convert(G).mult(-1),this.panTo(this.transform.center,o.extend({offset:G},L),q)},Y.prototype.panTo=function(G,L,q){return this.easeTo(o.extend({center:G},L),q)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(G,L){return this.jumpTo({zoom:G},L),this},Y.prototype.zoomTo=function(G,L,q){return this.easeTo(o.extend({zoom:G},L),q)},Y.prototype.zoomIn=function(G,L){return this.zoomTo(this.getZoom()+1,G,L),this},Y.prototype.zoomOut=function(G,L){return this.zoomTo(this.getZoom()-1,G,L),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(G,L){return this.jumpTo({bearing:G},L),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(G,L){return this.jumpTo({padding:G},L),this},Y.prototype.rotateTo=function(G,L,q){return this.easeTo(o.extend({bearing:G},L),q)},Y.prototype.resetNorth=function(G,L){return this.rotateTo(0,o.extend({duration:1e3},G),L),this},Y.prototype.resetNorthPitch=function(G,L){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},G),L),this},Y.prototype.snapToNorth=function(G,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,L):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(G,L){return this.jumpTo({pitch:G},L),this},Y.prototype.cameraForBounds=function(G,L){G=o.LngLatBounds.convert(G);var q=L&&L.bearing||0;return this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),q,L)},Y.prototype._cameraForBoxAndBearing=function(G,L,q,ee){var ie={top:0,bottom:0,right:0,left:0};if(typeof(ee=o.extend({padding:ie,offset:[0,0],maxZoom:this.transform.maxZoom},ee)).padding=="number"){var fe=ee.padding;ee.padding={top:fe,bottom:fe,right:fe,left:fe}}ee.padding=o.extend(ie,ee.padding);var we=this.transform,Oe=we.padding,Be=we.project(o.LngLat.convert(G)),Ge=we.project(o.LngLat.convert(L)),Ye=Be.rotate(-q*Math.PI/180),at=Ge.rotate(-q*Math.PI/180),pt=new o.Point(Math.max(Ye.x,at.x),Math.max(Ye.y,at.y)),vt=new o.Point(Math.min(Ye.x,at.x),Math.min(Ye.y,at.y)),kt=pt.sub(vt),Ot=(we.width-(Oe.left+Oe.right+ee.padding.left+ee.padding.right))/kt.x,St=(we.height-(Oe.top+Oe.bottom+ee.padding.top+ee.padding.bottom))/kt.y;if(!(St<0||Ot<0)){var jt=Math.min(we.scaleZoom(we.scale*Math.min(Ot,St)),ee.maxZoom),It=typeof ee.offset.x=="number"?new o.Point(ee.offset.x,ee.offset.y):o.Point.convert(ee.offset),$t=(ee.padding.left-ee.padding.right)/2,Zt=(ee.padding.top-ee.padding.bottom)/2,Ht=new o.Point($t,Zt).rotate(q*Math.PI/180),vn=It.add(Ht).mult(we.scale/we.zoomScale(jt));return{center:we.unproject(Be.add(Ge).div(2).sub(vn)),zoom:jt,bearing:q}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function(G,L,q){return this._fitInternal(this.cameraForBounds(G,L),L,q)},Y.prototype.fitScreenCoordinates=function(G,L,q,ee,ie){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(G)),this.transform.pointLocation(o.Point.convert(L)),q,ee),ee,ie)},Y.prototype._fitInternal=function(G,L,q){return G?(delete(L=o.extend(G,L)).padding,L.linear?this.easeTo(L,q):this.flyTo(L,q)):this},Y.prototype.jumpTo=function(G,L){this.stop();var q=this.transform,ee=!1,ie=!1,fe=!1;return"zoom"in G&&q.zoom!==+G.zoom&&(ee=!0,q.zoom=+G.zoom),G.center!==void 0&&(q.center=o.LngLat.convert(G.center)),"bearing"in G&&q.bearing!==+G.bearing&&(ie=!0,q.bearing=+G.bearing),"pitch"in G&&q.pitch!==+G.pitch&&(fe=!0,q.pitch=+G.pitch),G.padding==null||q.isPaddingEqual(G.padding)||(q.padding=G.padding),this.fire(new o.Event("movestart",L)).fire(new o.Event("move",L)),ee&&this.fire(new o.Event("zoomstart",L)).fire(new o.Event("zoom",L)).fire(new o.Event("zoomend",L)),ie&&this.fire(new o.Event("rotatestart",L)).fire(new o.Event("rotate",L)).fire(new o.Event("rotateend",L)),fe&&this.fire(new o.Event("pitchstart",L)).fire(new o.Event("pitch",L)).fire(new o.Event("pitchend",L)),this.fire(new o.Event("moveend",L))},Y.prototype.easeTo=function(G,L){var q=this;this._stop(!1,G.easeId),((G=o.extend({offset:[0,0],duration:500,easing:o.ease},G)).animate===!1||!G.essential&&o.browser.prefersReducedMotion)&&(G.duration=0);var ee=this.transform,ie=this.getZoom(),fe=this.getBearing(),we=this.getPitch(),Oe=this.getPadding(),Be="zoom"in G?+G.zoom:ie,Ge="bearing"in G?this._normalizeBearing(G.bearing,fe):fe,Ye="pitch"in G?+G.pitch:we,at="padding"in G?G.padding:ee.padding,pt=o.Point.convert(G.offset),vt=ee.centerPoint.add(pt),kt=ee.pointLocation(vt),Ot=o.LngLat.convert(G.center||kt);this._normalizeCenter(Ot);var St,jt,It=ee.project(kt),$t=ee.project(Ot).sub(It),Zt=ee.zoomScale(Be-ie);G.around&&(St=o.LngLat.convert(G.around),jt=ee.locationPoint(St));var Ht={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Be!==ie,this._rotating=this._rotating||fe!==Ge,this._pitching=this._pitching||Ye!==we,this._padding=!ee.isPaddingEqual(at),this._easeId=G.easeId,this._prepareEase(L,G.noMoveStart,Ht),this._ease(function(vn){if(q._zooming&&(ee.zoom=o.number(ie,Be,vn)),q._rotating&&(ee.bearing=o.number(fe,Ge,vn)),q._pitching&&(ee.pitch=o.number(we,Ye,vn)),q._padding&&(ee.interpolatePadding(Oe,at,vn),vt=ee.centerPoint.add(pt)),St)ee.setLocationAtPoint(St,jt);else{var bn=ee.zoomScale(ee.zoom-ie),Ln=Be>ie?Math.min(2,Zt):Math.max(.5,Zt),Rn=Math.pow(Ln,1-vn),Gn=ee.unproject(It.add($t.mult(vn*Rn)).mult(bn));ee.setLocationAtPoint(ee.renderWorldCopies?Gn.wrap():Gn,vt)}q._fireMoveEvents(L)},function(vn){q._afterEase(L,vn)},G),this},Y.prototype._prepareEase=function(G,L,q){q===void 0&&(q={}),this._moving=!0,L||q.moving||this.fire(new o.Event("movestart",G)),this._zooming&&!q.zooming&&this.fire(new o.Event("zoomstart",G)),this._rotating&&!q.rotating&&this.fire(new o.Event("rotatestart",G)),this._pitching&&!q.pitching&&this.fire(new o.Event("pitchstart",G))},Y.prototype._fireMoveEvents=function(G){this.fire(new o.Event("move",G)),this._zooming&&this.fire(new o.Event("zoom",G)),this._rotating&&this.fire(new o.Event("rotate",G)),this._pitching&&this.fire(new o.Event("pitch",G))},Y.prototype._afterEase=function(G,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var q=this._zooming,ee=this._rotating,ie=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,q&&this.fire(new o.Event("zoomend",G)),ee&&this.fire(new o.Event("rotateend",G)),ie&&this.fire(new o.Event("pitchend",G)),this.fire(new o.Event("moveend",G))}},Y.prototype.flyTo=function(G,L){var q=this;if(!G.essential&&o.browser.prefersReducedMotion){var ee=o.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ee,L)}this.stop(),G=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},G);var ie=this.transform,fe=this.getZoom(),we=this.getBearing(),Oe=this.getPitch(),Be=this.getPadding(),Ge="zoom"in G?o.clamp(+G.zoom,ie.minZoom,ie.maxZoom):fe,Ye="bearing"in G?this._normalizeBearing(G.bearing,we):we,at="pitch"in G?+G.pitch:Oe,pt="padding"in G?G.padding:ie.padding,vt=ie.zoomScale(Ge-fe),kt=o.Point.convert(G.offset),Ot=ie.centerPoint.add(kt),St=ie.pointLocation(Ot),jt=o.LngLat.convert(G.center||St);this._normalizeCenter(jt);var It=ie.project(St),$t=ie.project(jt).sub(It),Zt=G.curve,Ht=Math.max(ie.width,ie.height),vn=Ht/vt,bn=$t.mag();if("minZoom"in G){var Ln=o.clamp(Math.min(G.minZoom,fe,Ge),ie.minZoom,ie.maxZoom),Rn=Ht/ie.zoomScale(Ln-fe);Zt=Math.sqrt(Rn/bn*2)}var Gn=Zt*Zt;function or(pr){var Cr=(vn*vn-Ht*Ht+(pr?-1:1)*Gn*Gn*bn*bn)/(2*(pr?vn:Ht)*Gn*bn);return Math.log(Math.sqrt(Cr*Cr+1)-Cr)}function hr(pr){return(Math.exp(pr)-Math.exp(-pr))/2}function Kn(pr){return(Math.exp(pr)+Math.exp(-pr))/2}var fr=or(0),wr=function(pr){return Kn(fr)/Kn(fr+Zt*pr)},Or=function(pr){return Ht*((Kn(fr)*(hr(Cr=fr+Zt*pr)/Kn(Cr))-hr(fr))/Gn)/bn;var Cr},nr=(or(1)-fr)/Zt;if(Math.abs(bn)<1e-6||!isFinite(nr)){if(Math.abs(Ht-vn)<1e-6)return this.easeTo(G,L);var cr=vn<Ht?-1:1;nr=Math.abs(Math.log(vn/Ht))/Zt,Or=function(){return 0},wr=function(pr){return Math.exp(cr*Zt*pr)}}if("duration"in G)G.duration=+G.duration;else{var Sr="screenSpeed"in G?+G.screenSpeed/Zt:+G.speed;G.duration=1e3*nr/Sr}return G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=we!==Ye,this._pitching=at!==Oe,this._padding=!ie.isPaddingEqual(pt),this._prepareEase(L,!1),this._ease(function(pr){var Cr=pr*nr,Dr=1/wr(Cr);ie.zoom=pr===1?Ge:fe+ie.scaleZoom(Dr),q._rotating&&(ie.bearing=o.number(we,Ye,pr)),q._pitching&&(ie.pitch=o.number(Oe,at,pr)),q._padding&&(ie.interpolatePadding(Be,pt,pr),Ot=ie.centerPoint.add(kt));var Gr=pr===1?jt:ie.unproject(It.add($t.mult(Or(Cr))).mult(Dr));ie.setLocationAtPoint(ie.renderWorldCopies?Gr.wrap():Gr,Ot),q._fireMoveEvents(L)},function(){return q._afterEase(L)},G),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(G,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var q=this._onEaseEnd;delete this._onEaseEnd,q.call(this,L)}if(!G){var ee=this.handlers;ee&&ee.stop(!1)}return this},Y.prototype._ease=function(G,L,q){q.animate===!1||q.duration===0?(G(1),L()):(this._easeStart=o.browser.now(),this._easeOptions=q,this._onEaseFrame=G,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var G=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(G,L){G=o.wrap(G,-180,180);var q=Math.abs(G-L);return Math.abs(G-360-L)<q&&(G-=360),Math.abs(G+360-L)<q&&(G+=360),G},Y.prototype._normalizeCenter=function(G){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var q=G.lng-L.center.lng;G.lng+=q>180?-360:q<-180?360:0}},Y}(o.Evented),Ia=function(N){N===void 0&&(N={}),this.options=N,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ia.prototype.getDefaultPosition=function(){return"bottom-right"},Ia.prototype.onAdd=function(N){var Y=this.options&&this.options.compact;return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),Y&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),Y===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ia.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ia.prototype._setElementTitle=function(N,Y){var G=this._map._getUIString("AttributionControl."+Y);N.title=G,N.setAttribute("aria-label",G)},Ia.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ia.prototype._updateEditLink=function(){var N=this._editLink;N||(N=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Y=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(N){var G=Y.reduce(function(L,q,ee){return q.value&&(L+=q.key+"="+q.value+(ee<Y.length-1?"&":"")),L},"?");N.href=o.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),N.rel="noopener nofollow",this._setElementTitle(N,"MapFeedback")}},Ia.prototype._updateData=function(N){!N||N.sourceDataType!=="metadata"&&N.sourceDataType!=="visibility"&&N.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Ia.prototype._updateAttributions=function(){if(this._map.style){var N=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?N=N.concat(this.options.customAttribution.map(function(fe){return typeof fe!="string"?"":fe})):typeof this.options.customAttribution=="string"&&N.push(this.options.customAttribution)),this._map.style.stylesheet){var Y=this._map.style.stylesheet;this.styleOwner=Y.owner,this.styleId=Y.id}var G=this._map.style.sourceCaches;for(var L in G){var q=G[L];if(q.used){var ee=q.getSource();ee.attribution&&N.indexOf(ee.attribution)<0&&N.push(ee.attribution)}}N.sort(function(fe,we){return fe.length-we.length});var ie=(N=N.filter(function(fe,we){for(var Oe=we+1;Oe<N.length;Oe++)if(N[Oe].indexOf(fe)>=0)return!1;return!0})).join(" | ");ie!==this._attribHTML&&(this._attribHTML=ie,N.length?(this._innerContainer.innerHTML=ie,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ia.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var No=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};No.prototype.onAdd=function(N){this._map=N,this._container=b.create("div","mapboxgl-ctrl");var Y=b.create("a","mapboxgl-ctrl-logo");return Y.target="_blank",Y.rel="noopener nofollow",Y.href="https://www.mapbox.com/",Y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Y.setAttribute("rel","noopener nofollow"),this._container.appendChild(Y),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},No.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},No.prototype.getDefaultPosition=function(){return"bottom-left"},No.prototype._updateLogo=function(N){N&&N.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},No.prototype._logoRequired=function(){if(this._map.style){var N=this._map.style.sourceCaches;for(var Y in N)if(N[Y].getSource().mapbox_logo)return!0;return!1}},No.prototype._updateCompact=function(){var N=this._container.children;if(N.length){var Y=N[0];this._map.getCanvasContainer().offsetWidth<250?Y.classList.add("mapboxgl-compact"):Y.classList.remove("mapboxgl-compact")}};var za=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};za.prototype.add=function(N){var Y=++this._id;return this._queue.push({callback:N,id:Y,cancelled:!1}),Y},za.prototype.remove=function(N){for(var Y=this._currentlyRunning,G=0,L=Y?this._queue.concat(Y):this._queue;G<L.length;G+=1){var q=L[G];if(q.id===N)return void(q.cancelled=!0)}},za.prototype.run=function(N){N===void 0&&(N=0);var Y=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,L=Y;G<L.length;G+=1){var q=L[G];if(!q.cancelled&&(q.callback(N),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},za.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},bl=o.window.HTMLImageElement,Da=o.window.HTMLElement,$r=o.window.ImageBitmap,jo=60,tl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:jo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},_o=function(N){function Y(L){var q=this;if((L=o.extend({},tl,L)).minZoom!=null&&L.maxZoom!=null&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(L.minPitch!=null&&L.maxPitch!=null&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(L.minPitch!=null&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(L.maxPitch!=null&&L.maxPitch>jo)throw new Error("maxPitch must be less than or equal to 60");var ee=new ni(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(N.call(this,ee,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new za,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},xl,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new o.RequestManager(L.transformRequest,L.accessToken),typeof L.container=="string"){if(this._container=o.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof Da))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return q._update(!1)}),this.on("moveend",function(){return q._update(!1)}),this.on("zoom",function(){return q._update(!0)}),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ei(this,L);var ie=typeof L.hash=="string"&&L.hash||void 0;this._hash=L.hash&&new Za(ie).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,o.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new Ia({customAttribution:L.customAttribution})),this.addControl(new No,L.logoPosition),this.on("style.load",function(){q.transform.unmodified&&q.jumpTo(q.style.stylesheet)}),this.on("data",function(fe){q._update(fe.dataType==="style"),q.fire(new o.Event(fe.dataType+"data",fe))}),this.on("dataloading",function(fe){q.fire(new o.Event(fe.dataType+"dataloading",fe))})}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(L,q){if(q===void 0&&(q=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ee=L.onAdd(this);this._controls.push(L);var ie=this._controlPositions[q];return q.indexOf("bottom")!==-1?ie.insertBefore(ee,ie.firstChild):ie.appendChild(ee),this},Y.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var q=this._controls.indexOf(L);return q>-1&&this._controls.splice(q,1),L.onRemove(this),this},Y.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},Y.prototype.resize=function(L){var q=this._containerDimensions(),ee=q[0],ie=q[1];this._resizeCanvas(ee,ie),this.transform.resize(ee,ie),this.painter.resize(ee,ie);var fe=!this._moving;return fe&&(this.stop(),this.fire(new o.Event("movestart",L)).fire(new o.Event("move",L))),this.fire(new o.Event("resize",L)),fe&&this.fire(new o.Event("moveend",L)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(o.LngLatBounds.convert(L)),this._update()},Y.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(L){if((L=L??jo)>jo)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},Y.prototype.project=function(L){return this.transform.locationPoint(o.LngLat.convert(L))},Y.prototype.unproject=function(L){return this.transform.pointLocation(o.Point.convert(L))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(L,q,ee){var ie,fe=this;if(L==="mouseenter"||L==="mouseover"){var we=!1;return{layer:q,listener:ee,delegates:{mousemove:function(Be){var Ge=fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[];Ge.length?we||(we=!0,ee.call(fe,new ka(L,fe,Be.originalEvent,{features:Ge}))):we=!1},mouseout:function(){we=!1}}}}if(L==="mouseleave"||L==="mouseout"){var Oe=!1;return{layer:q,listener:ee,delegates:{mousemove:function(Be){(fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[]).length?Oe=!0:Oe&&(Oe=!1,ee.call(fe,new ka(L,fe,Be.originalEvent)))},mouseout:function(Be){Oe&&(Oe=!1,ee.call(fe,new ka(L,fe,Be.originalEvent)))}}}}return{layer:q,listener:ee,delegates:(ie={},ie[L]=function(Be){var Ge=fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[];Ge.length&&(Be.features=Ge,ee.call(fe,Be),delete Be.features)},ie)}},Y.prototype.on=function(L,q,ee){if(ee===void 0)return N.prototype.on.call(this,L,q);var ie=this._createDelegatedListener(L,q,ee);for(var fe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(ie),ie.delegates)this.on(fe,ie.delegates[fe]);return this},Y.prototype.once=function(L,q,ee){if(ee===void 0)return N.prototype.once.call(this,L,q);var ie=this._createDelegatedListener(L,q,ee);for(var fe in ie.delegates)this.once(fe,ie.delegates[fe]);return this},Y.prototype.off=function(L,q,ee){var ie=this;return ee===void 0?N.prototype.off.call(this,L,q):(this._delegatedListeners&&this._delegatedListeners[L]&&function(fe){for(var we=fe[L],Oe=0;Oe<we.length;Oe++){var Be=we[Oe];if(Be.layer===q&&Be.listener===ee){for(var Ge in Be.delegates)ie.off(Ge,Be.delegates[Ge]);return we.splice(Oe,1),ie}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(L,q){if(!this.style)return[];var ee;if(q!==void 0||L===void 0||L instanceof o.Point||Array.isArray(L)||(q=L,L=void 0),q=q||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||typeof L[0]=="number")ee=[o.Point.convert(L)];else{var ie=o.Point.convert(L[0]),fe=o.Point.convert(L[1]);ee=[ie,new o.Point(fe.x,ie.y),fe,new o.Point(ie.x,fe.y),ie]}return this.style.queryRenderedFeatures(ee,q,this.transform)},Y.prototype.querySourceFeatures=function(L,q){return this.style.querySourceFeatures(L,q)},Y.prototype.setStyle=function(L,q){return(q=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},q)).diff!==!1&&q.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,q),this):(this._localIdeographFontFamily=q.localIdeographFontFamily,this._updateStyle(L,q))},Y.prototype._getUIString=function(L){var q=this._locale[L];if(q==null)throw new Error("Missing UI string '"+L+"'");return q},Y.prototype._updateStyle=function(L,q){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new ar(this,q||{}),this.style.setEventedParent(this,{style:this.style}),typeof L=="string"?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(L,q){var ee=this;if(typeof L=="string"){var ie=this._requestManager.normalizeStyleURL(L),fe=this._requestManager.transformRequest(ie,o.ResourceType.Style);o.getJSON(fe,function(we,Oe){we?ee.fire(new o.ErrorEvent(we)):Oe&&ee._updateDiff(Oe,q)})}else typeof L=="object"&&this._updateDiff(L,q)},Y.prototype._updateDiff=function(L,q){try{this.style.setState(L)&&this._update(!0)}catch(ee){o.warnOnce("Unable to perform style diff: "+(ee.message||ee.error||ee)+".  Rebuilding the style from scratch."),this._updateStyle(L,q)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(L,q){return this._lazyInitEmptyStyle(),this.style.addSource(L,q),this._update(!0)},Y.prototype.isSourceLoaded=function(L){var q=this.style&&this.style.sourceCaches[L];if(q!==void 0)return q.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},Y.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var q in L){var ee=L[q]._tiles;for(var ie in ee){var fe=ee[ie];if(fe.state!=="loaded"&&fe.state!=="errored")return!1}}return!0},Y.prototype.addSourceType=function(L,q,ee){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,q,ee)},Y.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},Y.prototype.getSource=function(L){return this.style.getSource(L)},Y.prototype.addImage=function(L,q,ee){ee===void 0&&(ee={});var ie=ee.pixelRatio;ie===void 0&&(ie=1);var fe=ee.sdf;fe===void 0&&(fe=!1);var we=ee.stretchX,Oe=ee.stretchY,Be=ee.content;if(this._lazyInitEmptyStyle(),q instanceof bl||$r&&q instanceof $r){var Ge=o.browser.getImageData(q),Ye=Ge.width,at=Ge.height,pt=Ge.data;this.style.addImage(L,{data:new o.RGBAImage({width:Ye,height:at},pt),pixelRatio:ie,stretchX:we,stretchY:Oe,content:Be,sdf:fe,version:0})}else{if(q.width===void 0||q.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var vt=q.width,kt=q.height,Ot=q.data,St=q;this.style.addImage(L,{data:new o.RGBAImage({width:vt,height:kt},new Uint8Array(Ot)),pixelRatio:ie,stretchX:we,stretchY:Oe,content:Be,sdf:fe,version:0,userImage:St}),St.onAdd&&St.onAdd(this,L)}},Y.prototype.updateImage=function(L,q){var ee=this.style.getImage(L);if(!ee)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ie=q instanceof bl||$r&&q instanceof $r?o.browser.getImageData(q):q,fe=ie.width,we=ie.height,Oe=ie.data;if(fe===void 0||we===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(fe!==ee.data.width||we!==ee.data.height)return this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Be=!(q instanceof bl||$r&&q instanceof $r);ee.data.replace(Oe,Be),this.style.updateImage(L,ee)},Y.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(L){this.style.removeImage(L)},Y.prototype.loadImage=function(L,q){o.getImage(this._requestManager.transformRequest(L,o.ResourceType.Image),q)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(L,q){return this._lazyInitEmptyStyle(),this.style.addLayer(L,q),this._update(!0)},Y.prototype.moveLayer=function(L,q){return this.style.moveLayer(L,q),this._update(!0)},Y.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},Y.prototype.getLayer=function(L){return this.style.getLayer(L)},Y.prototype.setLayerZoomRange=function(L,q,ee){return this.style.setLayerZoomRange(L,q,ee),this._update(!0)},Y.prototype.setFilter=function(L,q,ee){return ee===void 0&&(ee={}),this.style.setFilter(L,q,ee),this._update(!0)},Y.prototype.getFilter=function(L){return this.style.getFilter(L)},Y.prototype.setPaintProperty=function(L,q,ee,ie){return ie===void 0&&(ie={}),this.style.setPaintProperty(L,q,ee,ie),this._update(!0)},Y.prototype.getPaintProperty=function(L,q){return this.style.getPaintProperty(L,q)},Y.prototype.setLayoutProperty=function(L,q,ee,ie){return ie===void 0&&(ie={}),this.style.setLayoutProperty(L,q,ee,ie),this._update(!0)},Y.prototype.getLayoutProperty=function(L,q){return this.style.getLayoutProperty(L,q)},Y.prototype.setLight=function(L,q){return q===void 0&&(q={}),this._lazyInitEmptyStyle(),this.style.setLight(L,q),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(L,q){return this.style.setFeatureState(L,q),this._update()},Y.prototype.removeFeatureState=function(L,q){return this.style.removeFeatureState(L,q),this._update()},Y.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var L=0,q=0;return this._container&&(L=this._container.clientWidth||400,q=this._container.clientHeight||300),[L,q]},Y.prototype._detectMissingCSS=function(){o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var q=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&q.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",q),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ee=this._containerDimensions();this._resizeCanvas(ee[0],ee[1]);var ie=this._controlContainer=b.create("div","mapboxgl-control-container",L),fe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(we){fe[we]=b.create("div","mapboxgl-ctrl-"+we,ie)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Y.prototype._resizeCanvas=function(L,q){var ee=o.browser.devicePixelRatio||1;this._canvas.width=ee*L,this._canvas.height=ee*q,this._canvas.style.width=L+"px",this._canvas.style.height=q+"px"},Y.prototype._setupPainter=function(){var L=o.extend({},w.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),q=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);q?(this.painter=new li(q,this.transform),o.webpSupported.testSupport(q)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:L}))},Y.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:L}))},Y.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},Y.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},Y.prototype._render=function(L){var q,ee=this,ie=0,fe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(q=fe.createQueryEXT(),fe.beginQueryEXT(fe.TIME_ELAPSED_EXT,q),ie=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var we=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Oe=this.transform.zoom,Be=o.browser.now();this.style.zoomHistory.update(Oe,Be);var Ge=new o.EvaluationParameters(Oe,{now:Be,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ye=Ge.crossFadingFactor();Ye===1&&Ye===this._crossFadingFactor||(we=!0,this._crossFadingFactor=Ye),this.style.update(Ge)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||we)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var at=o.browser.now()-ie;fe.endQueryEXT(fe.TIME_ELAPSED_EXT,q),setTimeout(function(){var kt=fe.getQueryObjectEXT(q,fe.QUERY_RESULT_EXT)/1e6;fe.deleteQueryEXT(q),ee.fire(new o.Event("gpu-timing-frame",{cpuTime:at,gpuTime:kt}))},50)}if(this.listens("gpu-timing-layer")){var pt=this.painter.collectGpuTimers();setTimeout(function(){var kt=ee.painter.queryGpuTimers(pt);ee.fire(new o.Event("gpu-timing-layer",{layerTimes:kt}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,q=this._controls;L<q.length;L+=1)q[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var ee=this.painter.context.gl.getExtension("WEBGL_lose_context");ee&&ee.loseContext&&ee.loseContext(),_l(this._canvasContainer),_l(this._controlContainer),_l(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},Y.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(q){L._frame=null,L._render(q)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(L){this._vertices=L,this._update()},Y.prototype._setCacheLimits=function(L,q){o.setCacheLimits(L,q)},G.version.get=function(){return o.version},Object.defineProperties(Y.prototype,G),Y}(sa);function _l(N){N.parentNode&&N.parentNode.removeChild(N)}var wl={showCompass:!0,showZoom:!0,visualizePitch:!1},wo=function(N){var Y=this;this.options=o.extend({},wl,N),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return Y._map.zoomIn({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return Y._map.zoomOut({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){Y.options.visualizePitch?Y._map.resetNorthPitch({},{originalEvent:G}):Y._map.resetNorth({},{originalEvent:G})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};wo.prototype._updateZoomButtons=function(){var N=this._map.getZoom(),Y=N===this._map.getMaxZoom(),G=N===this._map.getMinZoom();this._zoomInButton.disabled=Y,this._zoomOutButton.disabled=G,this._zoomInButton.setAttribute("aria-disabled",Y.toString()),this._zoomOutButton.setAttribute("aria-disabled",G.toString())},wo.prototype._rotateCompassArrow=function(){var N=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=N},wo.prototype.onAdd=function(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _i(this._map,this._compass,this.options.visualizePitch)),this._container},wo.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},wo.prototype._createButton=function(N,Y){var G=b.create("button",N,this._container);return G.type="button",G.addEventListener("click",Y),G},wo.prototype._setButtonTitle=function(N,Y){var G=this._map._getUIString("NavigationControl."+Y);N.title=G,N.setAttribute("aria-label",G)};var _i=function(N,Y,G){G===void 0&&(G=!1),this._clickTolerance=10,this.element=Y,this.mouseRotate=new ns({clickTolerance:N.dragRotate._mouseRotate._clickTolerance}),this.map=N,G&&(this.mousePitch=new ao({clickTolerance:N.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(Y,"mousedown",this.mousedown),b.addEventListener(Y,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(Y,"touchmove",this.touchmove),b.addEventListener(Y,"touchend",this.touchend),b.addEventListener(Y,"touchcancel",this.reset)};function nl(N,Y,G){if(N=new o.LngLat(N.lng,N.lat),Y){var L=new o.LngLat(N.lng-360,N.lat),q=new o.LngLat(N.lng+360,N.lat),ee=G.locationPoint(N).distSqr(Y);G.locationPoint(L).distSqr(Y)<ee?N=L:G.locationPoint(q).distSqr(Y)<ee&&(N=q)}for(;Math.abs(N.lng-G.center.lng)>180;){var ie=G.locationPoint(N);if(ie.x>=0&&ie.y>=0&&ie.x<=G.width&&ie.y<=G.height)break;N.lng>G.center.lng?N.lng-=360:N.lng+=360}return N}_i.prototype.down=function(N,Y){this.mouseRotate.mousedown(N,Y),this.mousePitch&&this.mousePitch.mousedown(N,Y),b.disableDrag()},_i.prototype.move=function(N,Y){var G=this.map,L=this.mouseRotate.mousemoveWindow(N,Y);if(L&&L.bearingDelta&&G.setBearing(G.getBearing()+L.bearingDelta),this.mousePitch){var q=this.mousePitch.mousemoveWindow(N,Y);q&&q.pitchDelta&&G.setPitch(G.getPitch()+q.pitchDelta)}},_i.prototype.off=function(){var N=this.element;b.removeEventListener(N,"mousedown",this.mousedown),b.removeEventListener(N,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(N,"touchmove",this.touchmove),b.removeEventListener(N,"touchend",this.touchend),b.removeEventListener(N,"touchcancel",this.reset),this.offTemp()},_i.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(o.window,"mousemove",this.mousemove),b.removeEventListener(o.window,"mouseup",this.mouseup)},_i.prototype.mousedown=function(N){this.down(o.extend({},N,{ctrlKey:!0,preventDefault:function(){return N.preventDefault()}}),b.mousePos(this.element,N)),b.addEventListener(o.window,"mousemove",this.mousemove),b.addEventListener(o.window,"mouseup",this.mouseup)},_i.prototype.mousemove=function(N){this.move(N,b.mousePos(this.element,N))},_i.prototype.mouseup=function(N){this.mouseRotate.mouseupWindow(N),this.mousePitch&&this.mousePitch.mouseupWindow(N),this.offTemp()},_i.prototype.touchstart=function(N){N.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return N.preventDefault()}},this._startPos))},_i.prototype.touchmove=function(N){N.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.move({preventDefault:function(){return N.preventDefault()}},this._lastPos))},_i.prototype.touchend=function(N){N.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},_i.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Pr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Fr(N,Y,G){var L=N.classList;for(var q in Pr)L.remove("mapboxgl-"+G+"-anchor-"+q);L.add("mapboxgl-"+G+"-anchor-"+Y)}var Xa,Uo=function(N){function Y(G,L){if(N.call(this),(G instanceof o.window.HTMLElement||L)&&(G=o.extend({element:G},L)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._scale=G&&G.scale||1,this._draggable=G&&G.draggable||!1,this._clickTolerance=G&&G.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&G.pitchAlignment!=="auto"?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=o.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var q=b.createNS("http://www.w3.org/2000/svg","svg");q.setAttributeNS(null,"display","block"),q.setAttributeNS(null,"height","41px"),q.setAttributeNS(null,"width","27px"),q.setAttributeNS(null,"viewBox","0 0 27 41");var ee=b.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"stroke","none"),ee.setAttributeNS(null,"stroke-width","1"),ee.setAttributeNS(null,"fill","none"),ee.setAttributeNS(null,"fill-rule","evenodd");var ie=b.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill-rule","nonzero");var fe=b.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),fe.setAttributeNS(null,"fill","#000000");for(var we=0,Oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];we<Oe.length;we+=1){var Be=Oe[we],Ge=b.createNS("http://www.w3.org/2000/svg","ellipse");Ge.setAttributeNS(null,"opacity","0.04"),Ge.setAttributeNS(null,"cx","10.5"),Ge.setAttributeNS(null,"cy","5.80029008"),Ge.setAttributeNS(null,"rx",Be.rx),Ge.setAttributeNS(null,"ry",Be.ry),fe.appendChild(Ge)}var Ye=b.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"fill",this._color);var at=b.createNS("http://www.w3.org/2000/svg","path");at.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ye.appendChild(at);var pt=b.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"fill","#000000");var vt=b.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),pt.appendChild(vt);var kt=b.createNS("http://www.w3.org/2000/svg","g");kt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kt.setAttributeNS(null,"fill","#FFFFFF");var Ot=b.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(8.0, 8.0)");var St=b.createNS("http://www.w3.org/2000/svg","circle");St.setAttributeNS(null,"fill","#000000"),St.setAttributeNS(null,"opacity","0.25"),St.setAttributeNS(null,"cx","5.5"),St.setAttributeNS(null,"cy","5.5"),St.setAttributeNS(null,"r","5.4999962");var jt=b.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),Ot.appendChild(St),Ot.appendChild(jt),ie.appendChild(fe),ie.appendChild(Ye),ie.appendChild(pt),ie.appendChild(kt),ie.appendChild(Ot),q.appendChild(ie),q.setAttributeNS(null,"height",41*this._scale+"px"),q.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(q),this._offset=o.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(It){It.preventDefault()}),this._element.addEventListener("mousedown",function(It){It.preventDefault()}),Fr(this._element,this._anchor,"marker"),this._popup=null}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=o.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var L=13.5,q=Math.sqrt(Math.pow(L,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[q,-1*(24.6+q)],"bottom-right":[-q,-1*(24.6+q)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(G){var L=G.code,q=G.charCode||G.keyCode;L!=="Space"&&L!=="Enter"&&q!==32&&q!==13||this.togglePopup()},Y.prototype._onMapClick=function(G){var L=G.originalEvent.target,q=this._element;this._popup&&(L===q||q.contains(L))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},Y.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=nl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var q="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?q="rotateX(0deg)":this._pitchAlignment==="map"&&(q="rotateX("+this._map.getPitch()+"deg)"),G&&G.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,Pr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+q+" "+L)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(G){return this._offset=o.Point.convert(G),this._update(),this},Y.prototype._onMove=function(G){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=G.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._pointerdownPos=G.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&G!=="auto"?G:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(o.Evented),as={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},qi=0,Vo=!1,ui=function(N){function Y(G){N.call(this),this.options=o.extend({},as,G),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){return this._map=G,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,Xa!==void 0?L(Xa):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(q){Xa=q.state!=="denied",L(Xa)}):(Xa=!!o.window.navigator.geolocation,L(Xa)),this._container;var L},Y.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,qi=0,Vo=!1},Y.prototype._isOutOfMapMaxBounds=function(G){var L=this._map.getMaxBounds(),q=G.coords;return L&&(q.longitude<L.getWest()||q.longitude>L.getEast()||q.latitude<L.getSouth()||q.latitude>L.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(G),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",G)),this._finish()}},Y.prototype._updateCamera=function(G){var L=new o.LngLat(G.coords.longitude,G.coords.latitude),q=G.coords.accuracy,ee=this._map.getBearing(),ie=o.extend({bearing:ee},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(q),ie,{geolocateSource:!0})},Y.prototype._updateMarker=function(G){if(G){var L=new o.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,L=this._map.unproject([0,G]),q=this._map.unproject([1,G]),ee=L.distanceTo(q),ie=Math.ceil(2*this._accuracy/ee);this._circleElement.style.width=ie+"px",this._circleElement.style.height=ie+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(G.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(G.code===3&&Vo)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",G)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(G){var L=this;if(this._container.addEventListener("contextmenu",function(ie){return ie.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",G===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var q=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=q,this._geolocateButton.setAttribute("aria-label",q)}else{var ee=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ee,this._geolocateButton.setAttribute("aria-label",ee)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Uo(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Uo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ie){var fe=ie.originalEvent&&ie.originalEvent.type==="resize";ie.geolocateSource||L._watchState!=="ACTIVE_LOCK"||fe||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new o.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":qi--,Vo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++qi>1?(G={maximumAge:6e5,timeout:0},Vo=!0):(G=this.options.positionOptions,Vo=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(o.Evented),tc={maxWidth:100,unit:"metric"},Ka=function(N){this.options=o.extend({},tc,N),o.bindAll(["_onMove","setUnit"],this)};function pi(N,Y,G){var L=G&&G.maxWidth||100,q=N._container.clientHeight/2,ee=N.unproject([0,q]),ie=N.unproject([L,q]),fe=ee.distanceTo(ie);if(G&&G.unit==="imperial"){var we=3.2808*fe;we>5280?Si(Y,L,we/5280,N._getUIString("ScaleControl.Miles")):Si(Y,L,we,N._getUIString("ScaleControl.Feet"))}else G&&G.unit==="nautical"?Si(Y,L,fe/1852,N._getUIString("ScaleControl.NauticalMiles")):fe>=1e3?Si(Y,L,fe/1e3,N._getUIString("ScaleControl.Kilometers")):Si(Y,L,fe,N._getUIString("ScaleControl.Meters"))}function Si(N,Y,G,L){var q,ee,ie,fe=(q=G,(ee=Math.pow(10,(""+Math.floor(q)).length-1))*((ie=q/ee)>=10?10:ie>=5?5:ie>=3?3:ie>=2?2:ie>=1?1:function(Oe){var Be=Math.pow(10,Math.ceil(-Math.log(Oe)/Math.LN10));return Math.round(Oe*Be)/Be}(ie))),we=fe/G;N.style.width=Y*we+"px",N.innerHTML=fe+"&nbsp;"+L}Ka.prototype.getDefaultPosition=function(){return"bottom-left"},Ka.prototype._onMove=function(){pi(this._map,this._container,this.options)},Ka.prototype.onAdd=function(N){return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ka.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ka.prototype.setUnit=function(N){this.options.unit=N,pi(this._map,this._container,this.options)};var Ua=function(N){this._fullscreen=!1,N&&N.container&&(N.container instanceof o.window.HTMLElement?this._container=N.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ua.prototype.onAdd=function(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ua.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Ua.prototype._setupUI=function(){var N=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",N).setAttribute("aria-hidden",!0),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._updateTitle=function(){var N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N},Ua.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ua.prototype._isFullscreen=function(){return this._fullscreen},Ua.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ua.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Os={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Pu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),et=function(N){function Y(G){N.call(this),this.options=o.extend(Object.create(Os),G),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=o.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(G){return this.setDOMContent(o.window.document.createTextNode(G))},Y.prototype.setHTML=function(G){var L,q=o.window.document.createDocumentFragment(),ee=o.window.document.createElement("body");for(ee.innerHTML=G;L=ee.firstChild;)q.appendChild(L);return this.setDOMContent(q)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},Y.prototype.setDOMContent=function(G){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(G),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Y.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},Y.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},Y.prototype.setOffset=function(G){return this.options.offset=G,this._update(),this},Y.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},Y.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(G){this._update(G.point)},Y.prototype._onMouseMove=function(G){this._update(G.point)},Y.prototype._onDrag=function(G){this._update(G.point)},Y.prototype._update=function(G){var L=this,q=this._lngLat||this._trackPointer;if(this._map&&q&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ye){return L._container.classList.add(Ye)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=nl(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var ee=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),ie=this.options.anchor,fe=rt(this.options.offset);if(!ie){var we,Oe=this._container.offsetWidth,Be=this._container.offsetHeight;we=ee.y+fe.bottom.y<Be?["top"]:ee.y>this._map.transform.height-Be?["bottom"]:[],ee.x<Oe/2?we.push("left"):ee.x>this._map.transform.width-Oe/2&&we.push("right"),ie=we.length===0?"bottom":we.join("-")}var Ge=ee.add(fe[ie]).round();b.setTransform(this._container,Pr[ie]+" translate("+Ge.x+"px,"+Ge.y+"px)"),Fr(this._container,ie,"popup")}},Y.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var G=this._container.querySelector(Pu);G&&G.focus()}},Y.prototype._onClose=function(){this.remove()},Y}(o.Evented);function rt(N){if(N){if(typeof N=="number"){var Y=Math.round(Math.sqrt(.5*Math.pow(N,2)));return{center:new o.Point(0,0),top:new o.Point(0,N),"top-left":new o.Point(Y,Y),"top-right":new o.Point(-Y,Y),bottom:new o.Point(0,-N),"bottom-left":new o.Point(Y,-Y),"bottom-right":new o.Point(-Y,-Y),left:new o.Point(N,0),right:new o.Point(-N,0)}}if(N instanceof o.Point||Array.isArray(N)){var G=o.Point.convert(N);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:o.Point.convert(N.center||[0,0]),top:o.Point.convert(N.top||[0,0]),"top-left":o.Point.convert(N["top-left"]||[0,0]),"top-right":o.Point.convert(N["top-right"]||[0,0]),bottom:o.Point.convert(N.bottom||[0,0]),"bottom-left":o.Point.convert(N["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(N["bottom-right"]||[0,0]),left:o.Point.convert(N.left||[0,0]),right:o.Point.convert(N.right||[0,0])}}return rt(new o.Point(0,0))}var ct={version:o.version,supported:w,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:_o,NavigationControl:wo,GeolocateControl:ui,AttributionControl:Ia,ScaleControl:Ka,FullscreenControl:Ua,Popup:et,Marker:Uo,Style:ar,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function(){bt().acquire(st)},clearPrewarmedResources:function(){var N=gt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(st),gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(N){o.config.ACCESS_TOKEN=N},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(N){o.config.API_URL=N},get workerCount(){return Ke.workerCount},set workerCount(N){Ke.workerCount=N},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(N){o.config.MAX_PARALLEL_IMAGE_REQUESTS=N},clearStorage:function(N){o.clearTileCache(N)},workerUrl:""};return ct}),k}()},3108:function(U,C,e){U.exports=e(26099)},26099:function(U,C,e){var k=e(64928),A=e(32420),o=e(51160),w=e(76752),b=e(55616),f=e(31264),s=e(47520),n=e(18400),i=e(72512),r=e(76244);function t(a,l){for(var u=l[0],h=l[1],c=1/(l[2]-u),y=1/(l[3]-h),d=new Array(a.length),v=0,g=a.length/2;v<g;v++)d[2*v]=A((a[2*v]-u)*c,0,1),d[2*v+1]=A((a[2*v+1]-h)*y,0,1);return d}U.exports=function(a,l){l||(l={}),a=s(a,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=f(l.maxDepth,255),h=f(l.bounds,w(a,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var c,y=t(a,h),d=a.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?c=new(i(l.dtype))(d):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=d));for(var v=0;v<d;++v)c[v]=v;var g=[],x=[],m=[],_=[];(function R(H,z,j,Z,F,V){if(!Z.length)return null;var W=g[F]||(g[F]=[]),re=m[F]||(m[F]=[]),ne=x[F]||(x[F]=[]),te=W.length;if(++F>u||V>1073741824){for(var Q=0;Q<Z.length;Q++)W.push(Z[Q]),re.push(V),ne.push(null,null,null,null);return te}if(W.push(Z[0]),re.push(V),Z.length<=1)return ne.push(null,null,null,null),te;for(var $=.5*j,K=H+$,ae=z+$,ue=[],se=[],he=[],pe=[],de=1,xe=Z.length;de<xe;de++){var _e=Z[de],be=y[2*_e],Le=y[2*_e+1];be<K?Le<ae?ue.push(_e):se.push(_e):Le<ae?he.push(_e):pe.push(_e)}return V<<=2,ne.push(R(H,z,$,ue,F,V),R(H,ae,$,se,F,V+1),R(K,z,$,he,F,V+2),R(K,ae,$,pe,F,V+3)),te})(0,0,1,c,0,1);for(var p=0,S=0;S<g.length;S++){var T=g[S];if(c.set)c.set(T,p);else for(var E=0,O=T.length;E<O;E++)c[E+p]=T[E];var P=p+g[S].length;_[S]=[p,P],p=P}return c.range=function(){for(var R,H=[],z=arguments.length;z--;)H[z]=arguments[z];if(n(H[H.length-1])){var j=H.pop();H.length||j.x==null&&j.l==null&&j.left==null||(H=[j],R={}),R=b(j,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};H.length||(H=h);var Z,F=o.apply(void 0,H),V=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],W=V[0],re=V[1],ne=V[2],te=V[3],Q=t([W,re,ne,te],h),$=Q[0],K=Q[1],ae=Q[2],ue=Q[3],se=f(R.level,g.length);if(R.d!=null&&(typeof R.d=="number"?Z=[R.d,R.d]:R.d.length&&(Z=R.d),se=Math.min(Math.max(Math.ceil(-r(Math.abs(Z[0])/(h[2]-h[0]))),Math.ceil(-r(Math.abs(Z[1])/(h[3]-h[1])))),se)),se=Math.min(se,g.length),R.lod)return function(pe,de,xe,_e,be){for(var Le=[],De=0;De<be;De++){var ye=m[De],le=_[De][0],oe=I(pe,de,De),ve=I(xe,_e,De),Ce=k.ge(ye,oe),ke=k.gt(ye,ve,Ce,ye.length-1);Le[De]=[Ce+le,ke+le]}return Le}($,K,ae,ue,se);var he=[];return function pe(de,xe,_e,be,Le,De){if(Le!==null&&De!==null&&!($>de+_e||K>xe+_e||ae<de||ue<xe||be>=se||Le===De)){var ye=g[be];De===void 0&&(De=ye.length);for(var le=Le;le<De;le++){var oe=ye[le],ve=a[2*oe],Ce=a[2*oe+1];ve>=W&&ve<=ne&&Ce>=re&&Ce<=te&&he.push(oe)}var ke=x[be],Ae=ke[4*Le+0],Ee=ke[4*Le+1],ze=ke[4*Le+2],Fe=ke[4*Le+3],ge=function(Re,Pe){for(var Ve=null,We=0;Ve===null;)if(Ve=Re[4*Pe+We],++We>Re.length)return null;return Ve}(ke,Le+1),Te=.5*_e,Se=be+1;pe(de,xe,Te,Se,Ae,Ee||ze||Fe||ge),pe(de,xe+Te,Te,Se,Ee,ze||Fe||ge),pe(de+Te,xe,Te,Se,ze,Fe||ge),pe(de+Te,xe+Te,Te,Se,Fe,ge)}}(0,0,1,0,0,1),he},c;function I(R,H,z){for(var j=1,Z=.5,F=.5,V=.5,W=0;W<z;W++)j<<=2,j+=R<Z?H<F?0:1:H<F?2:3,V*=.5,Z+=R<Z?-V:V,F+=H<F?-V:V;return j}}},40440:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(3256),A=6378137;function o(f){var s=0;if(f&&f.length>0){s+=Math.abs(w(f[0]));for(var n=1;n<f.length;n++)s-=Math.abs(w(f[n]))}return s}function w(f){var s,n,i,r,t,a,l=0,u=f.length;if(u>2){for(a=0;a<u;a++)a===u-2?(i=u-2,r=u-1,t=0):a===u-1?(i=u-1,r=0,t=1):(i=a,r=a+1,t=a+2),s=f[i],n=f[r],l+=(b(f[t][0])-b(s[0]))*Math.sin(b(n[1]));l=l*A*A/2}return l}function b(f){return f*Math.PI/180}C.default=function(f){return k.geomReduce(f,function(s,n){return s+function(i){var r,t=0;switch(i.type){case"Polygon":return o(i.coordinates);case"MultiPolygon":for(r=0;r<i.coordinates.length;r++)t+=o(i.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(n)},0)}},46284:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function k(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!t(a[0])||!t(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function A(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var y=c[h];if(y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<y[y.length-1].length;d++)if(y[y.length-1][d]!==y[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function w(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function n(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function t(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return k(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return A(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=k,C.points=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return k(h,l)}),u)},C.polygon=A,C.polygons=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return A(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return o(h,l)}),u)},C.featureCollection=w,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=n,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return n(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=t,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!t(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},3256:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(46284);function A(i,r,t){if(i!==null)for(var a,l,u,h,c,y,d,v,g=0,x=0,m=i.type,_=m==="FeatureCollection",p=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(v=!!(d=_?i.features[T].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((h=v?d.geometries[E]:d)!==null){y=h.coordinates;var I=h.type;switch(g=!t||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(y,x,T,O,P)===!1)return!1;x++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<y.length;a++){if(r(y[a],x,T,O,P)===!1)return!1;x++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<y.length;a++){for(l=0;l<y[a].length-g;l++){if(r(y[a][l],x,T,O,P)===!1)return!1;x++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<y.length;a++){for(P=0,l=0;l<y[a].length;l++){for(u=0;u<y[a][l].length-g;u++){if(r(y[a][l][u],x,T,O,P)===!1)return!1;x++}P++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(A(h.geometries[a],r,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var t;switch(i.type){case"FeatureCollection":for(t=0;t<i.features.length&&r(i.features[t].properties,t)!==!1;t++);break;case"Feature":r(i.properties,0)}}function w(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var t=0;t<i.features.length&&r(i.features[t],t)!==!1;t++);}function b(i,r){var t,a,l,u,h,c,y,d,v,g,x=0,m=i.type==="FeatureCollection",_=i.type==="Feature",p=m?i.features.length:1;for(t=0;t<p;t++){for(c=m?i.features[t].geometry:_?i.geometry:i,d=m?i.features[t].properties:_?i.properties:{},v=m?i.features[t].bbox:_?i.bbox:void 0,g=m?i.features[t].id:_?i.id:void 0,h=(y=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=y?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,x,d,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],x,d,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,x,d,v,g)===!1)return!1;x++}}function f(i,r){b(i,function(t,a,l,u,h){var c,y=t===null?null:t.type;switch(y){case null:case"Point":case"LineString":case"Polygon":return r(k.feature(t,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(y){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<t.coordinates.length;d++){var v={type:c,coordinates:t.coordinates[d]};if(r(k.feature(v,l),a,d)===!1)return!1}})}function s(i,r){f(i,function(t,a,l){var u=0;if(t.geometry){var h=t.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,y=0,d=0,v=0;return A(t,function(g,x,m,_,p){if(c===void 0||a>y||_>d||p>v)return c=g,y=a,d=_,v=p,void(u=0);var S=k.lineString([c,g],t.properties);if(r(S,a,l,p,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function n(i,r){if(!i)throw new Error("geojson is required");f(i,function(t,a,l){if(t.geometry!==null){var u=t.geometry.type,h=t.geometry.coordinates;switch(u){case"LineString":if(r(t,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(k.lineString(h[c],t.properties),a,l,c)===!1)return!1}}})}C.coordEach=A,C.coordReduce=function(i,r,t,a){var l=t;return A(i,function(u,h,c,y,d){l=h===0&&t===void 0?u:r(l,u,h,c,y,d)},a),l},C.propEach=o,C.propReduce=function(i,r,t){var a=t;return o(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.featureEach=w,C.featureReduce=function(i,r,t){var a=t;return w(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return A(i,function(t){r.push(t)}),r},C.geomEach=b,C.geomReduce=function(i,r,t){var a=t;return b(i,function(l,u,h,c,y){a=u===0&&t===void 0?l:r(a,l,u,h,c,y)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,t){var a=t;return f(i,function(l,u,h){a=u===0&&h===0&&t===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,t){var a=t,l=!1;return s(i,function(u,h,c,y,d){a=l===!1&&t===void 0?u:r(a,u,h,c,y,d),l=!0}),a},C.lineEach=n,C.lineReduce=function(i,r,t){var a=t;return n(i,function(l,u,h,c){a=u===0&&t===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=y.length+h-1),k.lineString([y[h],y[h+1]],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h-1),k.lineString([y[u][h],y[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h-1),k.lineString([y[l][h],y[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h-1),k.lineString([y[l][u][h],y[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":return k.point(y,c,r);case"MultiPoint":return l<0&&(l=y.length+l),k.point(y[l],c,r);case"LineString":return h<0&&(h=y.length+h),k.point(y[h],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h),k.point(y[u][h],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h),k.point(y[l][h],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h),k.point(y[l][u][h],c,r)}throw new Error("geojson is invalid")}},42428:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(84880);function A(o){var w=[1/0,1/0,-1/0,-1/0];return k.coordEach(o,function(b){w[0]>b[0]&&(w[0]=b[0]),w[1]>b[1]&&(w[1]=b[1]),w[2]<b[0]&&(w[2]=b[0]),w[3]<b[1]&&(w[3]=b[1])}),w}A.default=A,C.default=A},76796:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function k(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!t(a[0])||!t(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function A(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var y=c[h];if(y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<y[y.length-1].length;d++)if(y[y.length-1][d]!==y[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function w(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function n(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function t(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return k(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return A(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=k,C.points=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return k(h,l)}),u)},C.polygon=A,C.polygons=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return A(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return o(h,l)}),u)},C.featureCollection=w,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=n,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return n(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=t,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!t(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},84880:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(76796);function A(i,r,t){if(i!==null)for(var a,l,u,h,c,y,d,v,g=0,x=0,m=i.type,_=m==="FeatureCollection",p=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(v=!!(d=_?i.features[T].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((h=v?d.geometries[E]:d)!==null){y=h.coordinates;var I=h.type;switch(g=!t||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(y,x,T,O,P)===!1)return!1;x++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<y.length;a++){if(r(y[a],x,T,O,P)===!1)return!1;x++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<y.length;a++){for(l=0;l<y[a].length-g;l++){if(r(y[a][l],x,T,O,P)===!1)return!1;x++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<y.length;a++){for(P=0,l=0;l<y[a].length;l++){for(u=0;u<y[a][l].length-g;u++){if(r(y[a][l][u],x,T,O,P)===!1)return!1;x++}P++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(A(h.geometries[a],r,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var t;switch(i.type){case"FeatureCollection":for(t=0;t<i.features.length&&r(i.features[t].properties,t)!==!1;t++);break;case"Feature":r(i.properties,0)}}function w(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var t=0;t<i.features.length&&r(i.features[t],t)!==!1;t++);}function b(i,r){var t,a,l,u,h,c,y,d,v,g,x=0,m=i.type==="FeatureCollection",_=i.type==="Feature",p=m?i.features.length:1;for(t=0;t<p;t++){for(c=m?i.features[t].geometry:_?i.geometry:i,d=m?i.features[t].properties:_?i.properties:{},v=m?i.features[t].bbox:_?i.bbox:void 0,g=m?i.features[t].id:_?i.id:void 0,h=(y=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=y?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,x,d,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],x,d,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,x,d,v,g)===!1)return!1;x++}}function f(i,r){b(i,function(t,a,l,u,h){var c,y=t===null?null:t.type;switch(y){case null:case"Point":case"LineString":case"Polygon":return r(k.feature(t,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(y){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<t.coordinates.length;d++){var v={type:c,coordinates:t.coordinates[d]};if(r(k.feature(v,l),a,d)===!1)return!1}})}function s(i,r){f(i,function(t,a,l){var u=0;if(t.geometry){var h=t.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,y=0,d=0,v=0;return A(t,function(g,x,m,_,p){if(c===void 0||a>y||_>d||p>v)return c=g,y=a,d=_,v=p,void(u=0);var S=k.lineString([c,g],t.properties);if(r(S,a,l,p,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function n(i,r){if(!i)throw new Error("geojson is required");f(i,function(t,a,l){if(t.geometry!==null){var u=t.geometry.type,h=t.geometry.coordinates;switch(u){case"LineString":if(r(t,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(k.lineString(h[c],t.properties),a,l,c)===!1)return!1}}})}C.coordEach=A,C.coordReduce=function(i,r,t,a){var l=t;return A(i,function(u,h,c,y,d){l=h===0&&t===void 0?u:r(l,u,h,c,y,d)},a),l},C.propEach=o,C.propReduce=function(i,r,t){var a=t;return o(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.featureEach=w,C.featureReduce=function(i,r,t){var a=t;return w(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return A(i,function(t){r.push(t)}),r},C.geomEach=b,C.geomReduce=function(i,r,t){var a=t;return b(i,function(l,u,h,c,y){a=u===0&&t===void 0?l:r(a,l,u,h,c,y)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,t){var a=t;return f(i,function(l,u,h){a=u===0&&h===0&&t===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,t){var a=t,l=!1;return s(i,function(u,h,c,y,d){a=l===!1&&t===void 0?u:r(a,u,h,c,y,d),l=!0}),a},C.lineEach=n,C.lineReduce=function(i,r,t){var a=t;return n(i,function(l,u,h,c){a=u===0&&t===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=y.length+h-1),k.lineString([y[h],y[h+1]],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h-1),k.lineString([y[u][h],y[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h-1),k.lineString([y[l][h],y[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h-1),k.lineString([y[l][u][h],y[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":return k.point(y,c,r);case"MultiPoint":return l<0&&(l=y.length+l),k.point(y[l],c,r);case"LineString":return h<0&&(h=y.length+h),k.point(y[h],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h),k.point(y[u][h],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h),k.point(y[l][h],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h),k.point(y[l][u][h],c,r)}throw new Error("geojson is invalid")}},77844:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(43752),A=e(49840);C.default=function(o,w){w===void 0&&(w={});var b=0,f=0,s=0;return k.coordEach(o,function(n){b+=n[0],f+=n[1],s++}),A.point([b/s,f/s],w.properties)}},49840:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function k(a,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:a},l,u)}function A(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var y=c[h];if(y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<y[y.length-1].length;d++)if(y[y.length-1][d]!==y[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function w(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function n(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function t(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)&&!/^\s*$/.test(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:C.earthRadius/1.0936},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:.91441111923921},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return k(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return A(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=k,C.points=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return k(h,l)}),u)},C.polygon=A,C.polygons=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return A(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),w(a.map(function(h){return o(h,l)}),u)},C.featureCollection=w,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=n,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return n(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=t,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!t(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")},C.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},C.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},C.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},C.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},C.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},C.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},C.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var k=e(49840);function A(i,r,t){if(i!==null)for(var a,l,u,h,c,y,d,v,g=0,x=0,m=i.type,_=m==="FeatureCollection",p=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(v=!!(d=_?i.features[T].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((h=v?d.geometries[E]:d)!==null){y=h.coordinates;var I=h.type;switch(g=!t||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(y,x,T,O,P)===!1)return!1;x++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<y.length;a++){if(r(y[a],x,T,O,P)===!1)return!1;x++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<y.length;a++){for(l=0;l<y[a].length-g;l++){if(r(y[a][l],x,T,O,P)===!1)return!1;x++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<y.length;a++){for(P=0,l=0;l<y[a].length;l++){for(u=0;u<y[a][l].length-g;u++){if(r(y[a][l][u],x,T,O,P)===!1)return!1;x++}P++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(A(h.geometries[a],r,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var t;switch(i.type){case"FeatureCollection":for(t=0;t<i.features.length&&r(i.features[t].properties,t)!==!1;t++);break;case"Feature":r(i.properties,0)}}function w(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var t=0;t<i.features.length&&r(i.features[t],t)!==!1;t++);}function b(i,r){var t,a,l,u,h,c,y,d,v,g,x=0,m=i.type==="FeatureCollection",_=i.type==="Feature",p=m?i.features.length:1;for(t=0;t<p;t++){for(c=m?i.features[t].geometry:_?i.geometry:i,d=m?i.features[t].properties:_?i.properties:{},v=m?i.features[t].bbox:_?i.bbox:void 0,g=m?i.features[t].id:_?i.id:void 0,h=(y=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=y?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,x,d,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],x,d,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,x,d,v,g)===!1)return!1;x++}}function f(i,r){b(i,function(t,a,l,u,h){var c,y=t===null?null:t.type;switch(y){case null:case"Point":case"LineString":case"Polygon":return r(k.feature(t,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(y){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<t.coordinates.length;d++){var v={type:c,coordinates:t.coordinates[d]};if(r(k.feature(v,l),a,d)===!1)return!1}})}function s(i,r){f(i,function(t,a,l){var u=0;if(t.geometry){var h=t.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,y=0,d=0,v=0;return A(t,function(g,x,m,_,p){if(c===void 0||a>y||_>d||p>v)return c=g,y=a,d=_,v=p,void(u=0);var S=k.lineString([c,g],t.properties);if(r(S,a,l,p,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function n(i,r){if(!i)throw new Error("geojson is required");f(i,function(t,a,l){if(t.geometry!==null){var u=t.geometry.type,h=t.geometry.coordinates;switch(u){case"LineString":if(r(t,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(k.lineString(h[c],t.properties),a,l,c)===!1)return!1}}})}C.coordEach=A,C.coordReduce=function(i,r,t,a){var l=t;return A(i,function(u,h,c,y,d){l=h===0&&t===void 0?u:r(l,u,h,c,y,d)},a),l},C.propEach=o,C.propReduce=function(i,r,t){var a=t;return o(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.featureEach=w,C.featureReduce=function(i,r,t){var a=t;return w(i,function(l,u){a=u===0&&t===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return A(i,function(t){r.push(t)}),r},C.geomEach=b,C.geomReduce=function(i,r,t){var a=t;return b(i,function(l,u,h,c,y){a=u===0&&t===void 0?l:r(a,l,u,h,c,y)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,t){var a=t;return f(i,function(l,u,h){a=u===0&&h===0&&t===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,t){var a=t,l=!1;return s(i,function(u,h,c,y,d){a=l===!1&&t===void 0?u:r(a,u,h,c,y,d),l=!0}),a},C.lineEach=n,C.lineReduce=function(i,r,t){var a=t;return n(i,function(l,u,h,c){a=u===0&&t===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=y.length+h-1),k.lineString([y[h],y[h+1]],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h-1),k.lineString([y[u][h],y[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h-1),k.lineString([y[l][h],y[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h-1),k.lineString([y[l][u][h],y[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!k.isObject(r))throw new Error("options is invalid");var t,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,t=i.features[a].geometry;break;case"Feature":c=c||i.properties,t=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":t=i;break;default:throw new Error("geojson is invalid")}if(t===null)return null;var y=t.coordinates;switch(t.type){case"Point":return k.point(y,c,r);case"MultiPoint":return l<0&&(l=y.length+l),k.point(y[l],c,r);case"LineString":return h<0&&(h=y.length+h),k.point(y[h],c,r);case"Polygon":return u<0&&(u=y.length+u),h<0&&(h=y[u].length+h),k.point(y[u][h],c,r);case"MultiLineString":return l<0&&(l=y.length+l),h<0&&(h=y[l].length+h),k.point(y[l][h],c,r);case"MultiPolygon":return l<0&&(l=y.length+l),u<0&&(u=y[l].length+u),h<0&&(h=y[l][u].length-h),k.point(y[l][u][h],c,r)}throw new Error("geojson is invalid")}},49972:function(U){U.exports=function(C){var e=0,k=0,A=0,o=0;return C.map(function(w){var b=(w=w.slice())[0],f=b.toUpperCase();if(b!=f)switch(w[0]=f,b){case"a":w[6]+=A,w[7]+=o;break;case"v":w[1]+=o;break;case"h":w[1]+=A;break;default:for(var s=1;s<w.length;)w[s++]+=A,w[s++]+=o}switch(f){case"Z":A=e,o=k;break;case"H":A=w[1];break;case"V":o=w[1];break;case"M":A=e=w[1],o=k=w[2];break;default:A=w[w.length-2],o=w[w.length-1]}return w})}},76752:function(U){U.exports=function(C,e){if(!C||C.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var k=Array(2*e),A=0;A<e;A++){for(var o=-1/0,w=1/0,b=A,f=C.length;b<f;b+=e)C[b]>o&&(o=C[b]),C[b]<w&&(w=C[b]);k[A]=w,k[e+A]=o}return k}},10272:function(U){U.exports=function(C,e,k){if(typeof Array.prototype.findIndex=="function")return C.findIndex(e,k);if(typeof e!="function")throw new TypeError("predicate must be a function");var A=Object(C),o=A.length;if(o===0)return-1;for(var w=0;w<o;w++)if(e.call(k,A[w],w,A))return w;return-1}},71152:function(U,C,e){var k=e(76752);U.exports=function(A,o,w){if(!A||A.length==null)throw Error("Argument should be an array");o==null&&(o=1),w==null&&(w=k(A,o));for(var b=0;b<o;b++){var f=w[o+b],s=w[b],n=b,i=A.length;if(f===1/0&&s===-1/0)for(n=b;n<i;n+=o)A[n]=A[n]===f?1:A[n]===s?0:.5;else if(f===1/0)for(n=b;n<i;n+=o)A[n]=A[n]===f?1:0;else if(s===-1/0)for(n=b;n<i;n+=o)A[n]=A[n]===s?0:1;else{var r=f-s;for(n=b;n<i;n+=o)isNaN(A[n])||(A[n]=r===0?.5:(A[n]-s)/r)}}return A}},67752:function(U){U.exports=function(C,e){var k=typeof C=="number",A=typeof e=="number";k&&!A?(e=C,C=0):k||A||(C=0,e=0);var o=(e|=0)-(C|=0);if(o<0)throw new Error("array length must be positive");for(var w=new Array(o),b=0,f=C;b<o;b++,f++)w[b]=f;return w}},45408:function(U,C,e){var k=e(4168);function A(z){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},A(z)}var o,w,b=e(86832).codes,f=b.ERR_AMBIGUOUS_ARGUMENT,s=b.ERR_INVALID_ARG_TYPE,n=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,r=b.ERR_MISSING_ARGS,t=e(26144),a=e(35840).inspect,l=e(35840).types,u=l.isPromise,h=l.isRegExp,c=Object.assign?Object.assign:e(60964).assign,y=Object.is?Object.is:e(39896);function d(){var z=e(25116);o=z.isDeepEqual,w=z.isDeepStrictEqual}var v=!1,g=U.exports=p,x={};function m(z){throw z.message instanceof Error?z.message:new t(z)}function _(z,j,Z,F){if(!Z){var V=!1;if(j===0)V=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var W=new t({actual:Z,expected:!0,message:F,operator:"==",stackStartFn:z});throw W.generatedMessage=V,W}}function p(){for(var z=arguments.length,j=new Array(z),Z=0;Z<z;Z++)j[Z]=arguments[Z];_.apply(void 0,[p,j.length].concat(j))}g.fail=function z(j,Z,F,V,W){var re,ne=arguments.length;if(ne===0?re="Failed":ne===1?(F=j,j=void 0):(v===!1&&(v=!0,(k.emitWarning?k.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),ne===2&&(V="!=")),F instanceof Error)throw F;var te={actual:j,expected:Z,operator:V===void 0?"fail":V,stackStartFn:W||z};F!==void 0&&(te.message=F);var Q=new t(te);throw re&&(Q.message=re,Q.generatedMessage=!0),Q},g.AssertionError=t,g.ok=p,g.equal=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");j!=Z&&m({actual:j,expected:Z,message:F,operator:"==",stackStartFn:z})},g.notEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");j==Z&&m({actual:j,expected:Z,message:F,operator:"!=",stackStartFn:z})},g.deepEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&d(),o(j,Z)||m({actual:j,expected:Z,message:F,operator:"deepEqual",stackStartFn:z})},g.notDeepEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&d(),o(j,Z)&&m({actual:j,expected:Z,message:F,operator:"notDeepEqual",stackStartFn:z})},g.deepStrictEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&d(),w(j,Z)||m({actual:j,expected:Z,message:F,operator:"deepStrictEqual",stackStartFn:z})},g.notDeepStrictEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&d(),w(j,Z)&&m({actual:j,expected:Z,message:F,operator:"notDeepStrictEqual",stackStartFn:z})},g.strictEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");y(j,Z)||m({actual:j,expected:Z,message:F,operator:"strictEqual",stackStartFn:z})},g.notStrictEqual=function z(j,Z,F){if(arguments.length<2)throw new r("actual","expected");y(j,Z)&&m({actual:j,expected:Z,message:F,operator:"notStrictEqual",stackStartFn:z})};var S=function z(j,Z,F){var V=this;(function(W,re){if(!(W instanceof re))throw new TypeError("Cannot call a class as a function")})(this,z),Z.forEach(function(W){W in j&&(F!==void 0&&typeof F[W]=="string"&&h(j[W])&&j[W].test(F[W])?V[W]=F[W]:V[W]=j[W])})};function T(z,j,Z,F){if(typeof j!="function"){if(h(j))return j.test(z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],j);if(A(z)!=="object"||z===null){var V=new t({actual:z,expected:j,message:Z,operator:"deepStrictEqual",stackStartFn:F});throw V.operator=F.name,V}var W=Object.keys(j);if(j instanceof Error)W.push("name","message");else if(W.length===0)throw new n("error",j,"may not be an empty object");return o===void 0&&d(),W.forEach(function(re){typeof z[re]=="string"&&h(j[re])&&j[re].test(z[re])||function(ne,te,Q,$,K,ae){if(!(Q in ne)||!w(ne[Q],te[Q])){if(!$){var ue=new S(ne,K),se=new S(te,K,ne),he=new t({actual:ue,expected:se,operator:"deepStrictEqual",stackStartFn:ae});throw he.actual=ne,he.expected=te,he.operator=ae.name,he}m({actual:ne,expected:te,message:$,operator:ae.name,stackStartFn:ae})}}(z,j,re,Z,W,F)}),!0}return j.prototype!==void 0&&z instanceof j||!Error.isPrototypeOf(j)&&j.call({},z)===!0}function E(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(j){return j}return x}function O(z){return u(z)||z!==null&&A(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function P(z){return Promise.resolve().then(function(){var j;if(typeof z=="function"){if(!O(j=z()))throw new i("instance of Promise","promiseFn",j)}else{if(!O(z))throw new s("promiseFn",["Function","Promise"],z);j=z}return Promise.resolve().then(function(){return j}).then(function(){return x}).catch(function(Z){return Z})})}function I(z,j,Z,F){if(typeof Z=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],Z);if(A(j)==="object"&&j!==null){if(j.message===Z)throw new f("error/message",'The error message "'.concat(j.message,'" is identical to the message.'))}else if(j===Z)throw new f("error/message",'The error "'.concat(j,'" is identical to the message.'));F=Z,Z=void 0}else if(Z!=null&&A(Z)!=="object"&&typeof Z!="function")throw new s("error",["Object","Error","Function","RegExp"],Z);if(j===x){var V="";Z&&Z.name&&(V+=" (".concat(Z.name,")")),V+=F?": ".concat(F):".";var W=z.name==="rejects"?"rejection":"exception";m({actual:void 0,expected:Z,operator:z.name,message:"Missing expected ".concat(W).concat(V),stackStartFn:z})}if(Z&&!T(j,Z,F,z))throw j}function R(z,j,Z,F){if(j!==x){if(typeof Z=="string"&&(F=Z,Z=void 0),!Z||T(j,Z)){var V=F?": ".concat(F):".",W=z.name==="doesNotReject"?"rejection":"exception";m({actual:j,expected:Z,operator:z.name,message:"Got unwanted ".concat(W).concat(V,`
`)+'Actual message: "'.concat(j&&j.message,'"'),stackStartFn:z})}throw j}}function H(){for(var z=arguments.length,j=new Array(z),Z=0;Z<z;Z++)j[Z]=arguments[Z];_.apply(void 0,[H,j.length].concat(j))}g.throws=function z(j){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),V=1;V<Z;V++)F[V-1]=arguments[V];I.apply(void 0,[z,E(j)].concat(F))},g.rejects=function z(j){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),V=1;V<Z;V++)F[V-1]=arguments[V];return P(j).then(function(W){return I.apply(void 0,[z,W].concat(F))})},g.doesNotThrow=function z(j){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),V=1;V<Z;V++)F[V-1]=arguments[V];R.apply(void 0,[z,E(j)].concat(F))},g.doesNotReject=function z(j){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),V=1;V<Z;V++)F[V-1]=arguments[V];return P(j).then(function(W){return R.apply(void 0,[z,W].concat(F))})},g.ifError=function z(j){if(j!=null){var Z="ifError got unwanted exception: ";A(j)==="object"&&typeof j.message=="string"?j.message.length===0&&j.constructor?Z+=j.constructor.name:Z+=j.message:Z+=a(j);var F=new t({actual:j,expected:null,operator:"ifError",message:Z,stackStartFn:z}),V=j.stack;if(typeof V=="string"){var W=V.split(`
`);W.shift();for(var re=F.stack.split(`
`),ne=0;ne<W.length;ne++){var te=re.indexOf(W[ne]);if(te!==-1){re=re.slice(0,te);break}}F.stack="".concat(re.join(`
`),`
`).concat(W.join(`
`))}throw F}},g.strict=c(H,g,{equal:g.strictEqual,deepEqual:g.deepStrictEqual,notEqual:g.notStrictEqual,notDeepEqual:g.notDeepStrictEqual}),g.strict.strict=g.strict},26144:function(U,C,e){var k=e(4168);function A(m,_,p){return _ in m?Object.defineProperty(m,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[_]=p,m}function o(m,_){for(var p=0;p<_.length;p++){var S=_[p];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function w(m,_){return!_||r(_)!=="object"&&typeof _!="function"?b(m):_}function b(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function f(m){var _=typeof Map=="function"?new Map:void 0;return f=function(p){if(p===null||(S=p,Function.toString.call(S).indexOf("[native code]")===-1))return p;var S;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(p))return _.get(p);_.set(p,T)}function T(){return s(p,arguments,i(this).constructor)}return T.prototype=Object.create(p.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),n(T,p)},f(m)}function s(m,_,p){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,T,E){var O=[null];O.push.apply(O,T);var P=new(Function.bind.apply(S,O));return E&&n(P,E.prototype),P},s.apply(null,arguments)}function n(m,_){return n=Object.setPrototypeOf||function(p,S){return p.__proto__=S,p},n(m,_)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},i(m)}function r(m){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(m)}var t=e(35840).inspect,a=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(m,_,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-_.length,p)===_}var u="",h="",c="",y="",d={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function v(m){var _=Object.keys(m),p=Object.create(Object.getPrototypeOf(m));return _.forEach(function(S){p[S]=m[S]}),Object.defineProperty(p,"message",{value:m.message}),p}function g(m){return t(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(m){function _(T){var E;if(function(re,ne){if(!(re instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,_),r(T)!=="object"||T===null)throw new a("options","Object",T);var O=T.message,P=T.operator,I=T.stackStartFn,R=T.actual,H=T.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,O!=null)E=w(this,i(_).call(this,String(O)));else if(k.stderr&&k.stderr.isTTY&&(k.stderr&&k.stderr.getColorDepth&&k.stderr.getColorDepth()!==1?(u="\x1B[34m",h="\x1B[32m",y="\x1B[39m",c="\x1B[31m"):(u="",h="",y="",c="")),r(R)==="object"&&R!==null&&r(H)==="object"&&H!==null&&"stack"in R&&R instanceof Error&&"stack"in H&&H instanceof Error&&(R=v(R),H=v(H)),P==="deepStrictEqual"||P==="strictEqual")E=w(this,i(_).call(this,function(re,ne,te){var Q="",$="",K=0,ae="",ue=!1,se=g(re),he=se.split(`
`),pe=g(ne).split(`
`),de=0,xe="";if(te==="strictEqual"&&r(re)==="object"&&r(ne)==="object"&&re!==null&&ne!==null&&(te="strictEqualObject"),he.length===1&&pe.length===1&&he[0]!==pe[0]){var _e=he[0].length+pe[0].length;if(_e<=10){if(!(r(re)==="object"&&re!==null||r(ne)==="object"&&ne!==null||re===0&&ne===0))return"".concat(d[te],`

`)+"".concat(he[0]," !== ").concat(pe[0],`
`)}else if(te!=="strictEqualObject"&&_e<(k.stderr&&k.stderr.isTTY?k.stderr.columns:80)){for(;he[0][de]===pe[0][de];)de++;de>2&&(xe=`
  `.concat(function(ze,Fe){if(Fe=Math.floor(Fe),ze.length==0||Fe==0)return"";var ge=ze.length*Fe;for(Fe=Math.floor(Math.log(Fe)/Math.log(2));Fe;)ze+=ze,Fe--;return ze+ze.substring(0,ge-ze.length)}(" ",de),"^"),de=0)}}for(var be=he[he.length-1],Le=pe[pe.length-1];be===Le&&(de++<2?ae=`
  `.concat(be).concat(ae):Q=be,he.pop(),pe.pop(),he.length!==0&&pe.length!==0);)be=he[he.length-1],Le=pe[pe.length-1];var De=Math.max(he.length,pe.length);if(De===0){var ye=se.split(`
`);if(ye.length>30)for(ye[26]="".concat(u,"...").concat(y);ye.length>27;)ye.pop();return"".concat(d.notIdentical,`

`).concat(ye.join(`
`),`
`)}de>3&&(ae=`
`.concat(u,"...").concat(y).concat(ae),ue=!0),Q!==""&&(ae=`
  `.concat(Q).concat(ae),Q="");var le=0,oe=d[te]+`
`.concat(h,"+ actual").concat(y," ").concat(c,"- expected").concat(y),ve=" ".concat(u,"...").concat(y," Lines skipped");for(de=0;de<De;de++){var Ce=de-K;if(he.length<de+1)Ce>1&&de>2&&(Ce>4?($+=`
`.concat(u,"...").concat(y),ue=!0):Ce>3&&($+=`
  `.concat(pe[de-2]),le++),$+=`
  `.concat(pe[de-1]),le++),K=de,Q+=`
`.concat(c,"-").concat(y," ").concat(pe[de]),le++;else if(pe.length<de+1)Ce>1&&de>2&&(Ce>4?($+=`
`.concat(u,"...").concat(y),ue=!0):Ce>3&&($+=`
  `.concat(he[de-2]),le++),$+=`
  `.concat(he[de-1]),le++),K=de,$+=`
`.concat(h,"+").concat(y," ").concat(he[de]),le++;else{var ke=pe[de],Ae=he[de],Ee=Ae!==ke&&(!l(Ae,",")||Ae.slice(0,-1)!==ke);Ee&&l(ke,",")&&ke.slice(0,-1)===Ae&&(Ee=!1,Ae+=","),Ee?(Ce>1&&de>2&&(Ce>4?($+=`
`.concat(u,"...").concat(y),ue=!0):Ce>3&&($+=`
  `.concat(he[de-2]),le++),$+=`
  `.concat(he[de-1]),le++),K=de,$+=`
`.concat(h,"+").concat(y," ").concat(Ae),Q+=`
`.concat(c,"-").concat(y," ").concat(ke),le+=2):($+=Q,Q="",Ce!==1&&de!==0||($+=`
  `.concat(Ae),le++))}if(le>20&&de<De-2)return"".concat(oe).concat(ve,`
`).concat($,`
`).concat(u,"...").concat(y).concat(Q,`
`)+"".concat(u,"...").concat(y)}return"".concat(oe).concat(ue?ve:"",`
`).concat($).concat(Q).concat(ae).concat(xe)}(R,H,P)));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var j=d[P],Z=g(R).split(`
`);if(P==="notStrictEqual"&&r(R)==="object"&&R!==null&&(j=d.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(u,"...").concat(y);Z.length>27;)Z.pop();E=Z.length===1?w(this,i(_).call(this,"".concat(j," ").concat(Z[0]))):w(this,i(_).call(this,"".concat(j,`

`).concat(Z.join(`
`),`
`)))}else{var F=g(R),V="",W=d[P];P==="notDeepEqual"||P==="notEqual"?(F="".concat(d[P],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(V="".concat(g(H)),F.length>512&&(F="".concat(F.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),P==="deepEqual"||P==="equal"?F="".concat(W,`

`).concat(F,`

should equal

`):V=" ".concat(P," ").concat(V)),E=w(this,i(_).call(this,"".concat(F).concat(V)))}return Error.stackTraceLimit=z,E.generatedMessage=!O,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=H,E.operator=P,Error.captureStackTrace&&Error.captureStackTrace(b(E),I),E.stack,E.name="AssertionError",w(E)}var p,S;return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),E&&n(T,E)}(_,m),p=_,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t.custom,value:function(T,E){return t(this,function(O){for(var P=1;P<arguments.length;P++){var I=arguments[P]!=null?arguments[P]:{},R=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(I).filter(function(H){return Object.getOwnPropertyDescriptor(I,H).enumerable}))),R.forEach(function(H){A(O,H,I[H])})}return O}({},E,{customInspect:!1,depth:0}))}}],S&&o(p.prototype,S),_}(f(Error));U.exports=x},86832:function(U,C,e){function k(i){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(i)}function A(i){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},A(i)}function o(i,r){return o=Object.setPrototypeOf||function(t,a){return t.__proto__=a,t},o(i,r)}var w,b,f={};function s(i,r,t){t||(t=Error);var a=function(l){function u(h,c,y){var d;return function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}(this,u),d=function(v,g){return!g||k(g)!=="object"&&typeof g!="function"?function(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(v):g}(this,A(u).call(this,function(v,g,x){return typeof r=="string"?r:r(v,g,x)}(h,c,y))),d.code=i,d}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&o(h,c)}(u,l),u}(t);f[i]=a}function n(i,r){if(Array.isArray(i)){var t=i.length;return i=i.map(function(a){return String(a)}),t>2?"one of ".concat(r," ").concat(i.slice(0,t-1).join(", "),", or ")+i[t-1]:t===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,r,t){var a,l,u,h,c;if(w===void 0&&(w=e(45408)),w(typeof i=="string","'name' must be a string"),typeof r=="string"&&(l="not ",r.substr(0,4)===l)?(a="must not be",r=r.replace(/^not /,"")):a="must be",function(d,v,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-9,g)===v}(i," argument"))u="The ".concat(i," ").concat(a," ").concat(n(r,"type"));else{var y=(typeof c!="number"&&(c=0),c+1>(h=i).length||h.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(y," ").concat(a," ").concat(n(r,"type"))}return u+". Received type ".concat(k(t))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(35840));var a=b.inspect(r);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(t,". Received ").concat(a)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(i,r,t){var a;return a=t&&t.constructor&&t.constructor.name?"instance of ".concat(t.constructor.name):"type ".concat(k(t)),"Expected ".concat(i,' to be returned from the "').concat(r,'"')+" function but got ".concat(a,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];w===void 0&&(w=e(45408)),w(r.length>0,"At least one arg needs to be specified");var a="The ",l=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),l){case 1:a+="".concat(r[0]," argument");break;case 2:a+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:a+=r.slice(0,l-1).join(", "),a+=", and ".concat(r[l-1]," arguments")}return"".concat(a," must be specified")},TypeError),U.exports.codes=f},25116:function(U,C,e){function k(K,ae){return function(ue){if(Array.isArray(ue))return ue}(K)||function(ue,se){var he=[],pe=!0,de=!1,xe=void 0;try{for(var _e,be=ue[Symbol.iterator]();!(pe=(_e=be.next()).done)&&(he.push(_e.value),!se||he.length!==se);pe=!0);}catch(Le){de=!0,xe=Le}finally{try{pe||be.return==null||be.return()}finally{if(de)throw xe}}return he}(K,ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(K){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},A(K)}var o=/a/g.flags!==void 0,w=function(K){var ae=[];return K.forEach(function(ue){return ae.push(ue)}),ae},b=function(K){var ae=[];return K.forEach(function(ue,se){return ae.push([se,ue])}),ae},f=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function i(K){return K.call.bind(K)}var r=i(Object.prototype.hasOwnProperty),t=i(Object.prototype.propertyIsEnumerable),a=i(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,h=l.isArrayBufferView,c=l.isDate,y=l.isMap,d=l.isRegExp,v=l.isSet,g=l.isNativeError,x=l.isBoxedPrimitive,m=l.isNumberObject,_=l.isStringObject,p=l.isBooleanObject,S=l.isBigIntObject,T=l.isSymbolObject,E=l.isFloat32Array,O=l.isFloat64Array;function P(K){if(K.length===0||K.length>10)return!0;for(var ae=0;ae<K.length;ae++){var ue=K.charCodeAt(ae);if(ue<48||ue>57)return!0}return K.length===10&&K>=Math.pow(2,32)}function I(K){return Object.keys(K).filter(P).concat(s(K).filter(Object.prototype.propertyIsEnumerable.bind(K)))}function R(K,ae){if(K===ae)return 0;for(var ue=K.length,se=ae.length,he=0,pe=Math.min(ue,se);he<pe;++he)if(K[he]!==ae[he]){ue=K[he],se=ae[he];break}return ue<se?-1:se<ue?1:0}var H=0,z=1,j=2,Z=3;function F(K,ae,ue,se){if(K===ae)return K!==0||!ue||f(K,ae);if(ue){if(A(K)!=="object")return typeof K=="number"&&n(K)&&n(ae);if(A(ae)!=="object"||K===null||ae===null||Object.getPrototypeOf(K)!==Object.getPrototypeOf(ae))return!1}else{if(K===null||A(K)!=="object")return(ae===null||A(ae)!=="object")&&K==ae;if(ae===null||A(ae)!=="object")return!1}var he,pe,de,xe,_e=a(K);if(_e!==a(ae))return!1;if(Array.isArray(K)){if(K.length!==ae.length)return!1;var be=I(K),Le=I(ae);return be.length===Le.length&&W(K,ae,ue,se,z,be)}if(_e==="[object Object]"&&(!y(K)&&y(ae)||!v(K)&&v(ae)))return!1;if(c(K)){if(!c(ae)||Date.prototype.getTime.call(K)!==Date.prototype.getTime.call(ae))return!1}else if(d(K)){if(!d(ae)||(de=K,xe=ae,!(o?de.source===xe.source&&de.flags===xe.flags:RegExp.prototype.toString.call(de)===RegExp.prototype.toString.call(xe))))return!1}else if(g(K)||K instanceof Error){if(K.message!==ae.message||K.name!==ae.name)return!1}else{if(h(K)){if(ue||!E(K)&&!O(K)){if(!function(le,oe){return le.byteLength===oe.byteLength&&R(new Uint8Array(le.buffer,le.byteOffset,le.byteLength),new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength))===0}(K,ae))return!1}else if(!function(le,oe){if(le.byteLength!==oe.byteLength)return!1;for(var ve=0;ve<le.byteLength;ve++)if(le[ve]!==oe[ve])return!1;return!0}(K,ae))return!1;var De=I(K),ye=I(ae);return De.length===ye.length&&W(K,ae,ue,se,H,De)}if(v(K))return!(!v(ae)||K.size!==ae.size)&&W(K,ae,ue,se,j);if(y(K))return!(!y(ae)||K.size!==ae.size)&&W(K,ae,ue,se,Z);if(u(K)){if(pe=ae,(he=K).byteLength!==pe.byteLength||R(new Uint8Array(he),new Uint8Array(pe))!==0)return!1}else if(x(K)&&!function(le,oe){return m(le)?m(oe)&&f(Number.prototype.valueOf.call(le),Number.prototype.valueOf.call(oe)):_(le)?_(oe)&&String.prototype.valueOf.call(le)===String.prototype.valueOf.call(oe):p(le)?p(oe)&&Boolean.prototype.valueOf.call(le)===Boolean.prototype.valueOf.call(oe):S(le)?S(oe)&&BigInt.prototype.valueOf.call(le)===BigInt.prototype.valueOf.call(oe):T(oe)&&Symbol.prototype.valueOf.call(le)===Symbol.prototype.valueOf.call(oe)}(K,ae))return!1}return W(K,ae,ue,se,H)}function V(K,ae){return ae.filter(function(ue){return t(K,ue)})}function W(K,ae,ue,se,he,pe){if(arguments.length===5){pe=Object.keys(K);var de=Object.keys(ae);if(pe.length!==de.length)return!1}for(var xe=0;xe<pe.length;xe++)if(!r(ae,pe[xe]))return!1;if(ue&&arguments.length===5){var _e=s(K);if(_e.length!==0){var be=0;for(xe=0;xe<_e.length;xe++){var Le=_e[xe];if(t(K,Le)){if(!t(ae,Le))return!1;pe.push(Le),be++}else if(t(ae,Le))return!1}var De=s(ae);if(_e.length!==De.length&&V(ae,De).length!==be)return!1}else{var ye=s(ae);if(ye.length!==0&&V(ae,ye).length!==0)return!1}}if(pe.length===0&&(he===H||he===z&&K.length===0||K.size===0))return!0;if(se===void 0)se={val1:new Map,val2:new Map,position:0};else{var le=se.val1.get(K);if(le!==void 0){var oe=se.val2.get(ae);if(oe!==void 0)return le===oe}se.position++}se.val1.set(K,se.position),se.val2.set(ae,se.position);var ve=function(Ce,ke,Ae,Ee,ze,Fe){var ge=0;if(Fe===j){if(!function(Pe,Ve,We,Qe){for(var lt=null,ut=w(Pe),xt=0;xt<ut.length;xt++){var _t=ut[xt];if(A(_t)==="object"&&_t!==null)lt===null&&(lt=new Set),lt.add(_t);else if(!Ve.has(_t)){if(We||!te(Pe,Ve,_t))return!1;lt===null&&(lt=new Set),lt.add(_t)}}if(lt!==null){for(var mt=w(Ve),it=0;it<mt.length;it++){var nt=mt[it];if(A(nt)==="object"&&nt!==null){if(!re(lt,nt,We,Qe))return!1}else if(!We&&!Pe.has(nt)&&!re(lt,nt,We,Qe))return!1}return lt.size===0}return!0}(Ce,ke,Ae,ze))return!1}else if(Fe===Z){if(!function(Pe,Ve,We,Qe){for(var lt=null,ut=b(Pe),xt=0;xt<ut.length;xt++){var _t=k(ut[xt],2),mt=_t[0],it=_t[1];if(A(mt)==="object"&&mt!==null)lt===null&&(lt=new Set),lt.add(mt);else{var nt=Ve.get(mt);if(nt===void 0&&!Ve.has(mt)||!F(it,nt,We,Qe)){if(We||!Q(Pe,Ve,mt,it,Qe))return!1;lt===null&&(lt=new Set),lt.add(mt)}}}if(lt!==null){for(var Et=b(Ve),Rt=0;Rt<Et.length;Rt++){var Ft=k(Et[Rt],2),Pt=(mt=Ft[0],Ft[1]);if(A(mt)==="object"&&mt!==null){if(!$(lt,Pe,mt,Pt,We,Qe))return!1}else if(!(We||Pe.has(mt)&&F(Pe.get(mt),Pt,!1,Qe)||$(lt,Pe,mt,Pt,!1,Qe)))return!1}return lt.size===0}return!0}(Ce,ke,Ae,ze))return!1}else if(Fe===z)for(;ge<Ce.length;ge++){if(!r(Ce,ge)){if(r(ke,ge))return!1;for(var Te=Object.keys(Ce);ge<Te.length;ge++){var Se=Te[ge];if(!r(ke,Se)||!F(Ce[Se],ke[Se],Ae,ze))return!1}return Te.length===Object.keys(ke).length}if(!r(ke,ge)||!F(Ce[ge],ke[ge],Ae,ze))return!1}for(ge=0;ge<Ee.length;ge++){var Re=Ee[ge];if(!F(Ce[Re],ke[Re],Ae,ze))return!1}return!0}(K,ae,ue,pe,se,he);return se.val1.delete(K),se.val2.delete(ae),ve}function re(K,ae,ue,se){for(var he=w(K),pe=0;pe<he.length;pe++){var de=he[pe];if(F(ae,de,ue,se))return K.delete(de),!0}return!1}function ne(K){switch(A(K)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":K=+K;case"number":if(n(K))return!1}return!0}function te(K,ae,ue){var se=ne(ue);return se??(ae.has(se)&&!K.has(se))}function Q(K,ae,ue,se,he){var pe=ne(ue);if(pe!=null)return pe;var de=ae.get(pe);return!(de===void 0&&!ae.has(pe)||!F(se,de,!1,he))&&!K.has(pe)&&F(se,de,!1,he)}function $(K,ae,ue,se,he,pe){for(var de=w(K),xe=0;xe<de.length;xe++){var _e=de[xe];if(F(ue,_e,he,pe)&&F(se,ae.get(_e),he,pe))return K.delete(_e),!0}return!1}U.exports={isDeepEqual:function(K,ae){return F(K,ae,!1)},isDeepStrictEqual:function(K,ae){return F(K,ae,!0)}}},83160:function(U,C,e){e.r(C),e.d(C,{decode:function(){return b},encode:function(){return w}});for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=typeof Uint8Array>"u"?[]:new Uint8Array(256),o=0;o<64;o++)A[k.charCodeAt(o)]=o;var w=function(f){var s,n=new Uint8Array(f),i=n.length,r="";for(s=0;s<i;s+=3)r+=k[n[s]>>2],r+=k[(3&n[s])<<4|n[s+1]>>4],r+=k[(15&n[s+1])<<2|n[s+2]>>6],r+=k[63&n[s+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r},b=function(f){var s,n,i,r,t,a=.75*f.length,l=f.length,u=0;f[f.length-1]==="="&&(a--,f[f.length-2]==="="&&a--);var h=new ArrayBuffer(a),c=new Uint8Array(h);for(s=0;s<l;s+=4)n=A[f.charCodeAt(s)],i=A[f.charCodeAt(s+1)],r=A[f.charCodeAt(s+2)],t=A[f.charCodeAt(s+3)],c[u++]=n<<2|i>>4,c[u++]=(15&i)<<4|r>>2,c[u++]=(3&r)<<6|63&t;return h}},59968:function(U,C){C.byteLength=function(s){var n=b(s),i=n[0],r=n[1];return 3*(i+r)/4-r},C.toByteArray=function(s){var n,i,r=b(s),t=r[0],a=r[1],l=new A(function(c,y,d){return 3*(y+d)/4-d}(0,t,a)),u=0,h=a>0?t-4:t;for(i=0;i<h;i+=4)n=k[s.charCodeAt(i)]<<18|k[s.charCodeAt(i+1)]<<12|k[s.charCodeAt(i+2)]<<6|k[s.charCodeAt(i+3)],l[u++]=n>>16&255,l[u++]=n>>8&255,l[u++]=255&n;return a===2&&(n=k[s.charCodeAt(i)]<<2|k[s.charCodeAt(i+1)]>>4,l[u++]=255&n),a===1&&(n=k[s.charCodeAt(i)]<<10|k[s.charCodeAt(i+1)]<<4|k[s.charCodeAt(i+2)]>>2,l[u++]=n>>8&255,l[u++]=255&n),l},C.fromByteArray=function(s){for(var n,i=s.length,r=i%3,t=[],a=16383,l=0,u=i-r;l<u;l+=a)t.push(f(s,l,l+a>u?u:l+a));return r===1?(n=s[i-1],t.push(e[n>>2]+e[n<<4&63]+"==")):r===2&&(n=(s[i-2]<<8)+s[i-1],t.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),t.join("")};for(var e=[],k=[],A=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)e[w]=o[w],k[o.charCodeAt(w)]=w;function b(s){var n=s.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return i===-1&&(i=n),[i,i===n?0:4-i%4]}function f(s,n,i){for(var r,t,a=[],l=n;l<i;l+=3)r=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),a.push(e[(t=r)>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]);return a.join("")}k[45]=62,k[95]=63},64928:function(U){function C(b,f,s,n,i){for(var r=i+1;n<=i;){var t=n+i>>>1,a=b[t];(s!==void 0?s(a,f):a-f)>=0?(r=t,i=t-1):n=t+1}return r}function e(b,f,s,n,i){for(var r=i+1;n<=i;){var t=n+i>>>1,a=b[t];(s!==void 0?s(a,f):a-f)>0?(r=t,i=t-1):n=t+1}return r}function k(b,f,s,n,i){for(var r=n-1;n<=i;){var t=n+i>>>1,a=b[t];(s!==void 0?s(a,f):a-f)<0?(r=t,n=t+1):i=t-1}return r}function A(b,f,s,n,i){for(var r=n-1;n<=i;){var t=n+i>>>1,a=b[t];(s!==void 0?s(a,f):a-f)<=0?(r=t,n=t+1):i=t-1}return r}function o(b,f,s,n,i){for(;n<=i;){var r=n+i>>>1,t=b[r],a=s!==void 0?s(t,f):t-f;if(a===0)return r;a<=0?n=r+1:i=r-1}return-1}function w(b,f,s,n,i,r){return typeof s=="function"?r(b,f,s,n===void 0?0:0|n,i===void 0?b.length-1:0|i):r(b,f,void 0,s===void 0?0:0|s,n===void 0?b.length-1:0|n)}U.exports={ge:function(b,f,s,n,i){return w(b,f,s,n,i,C)},gt:function(b,f,s,n,i){return w(b,f,s,n,i,e)},lt:function(b,f,s,n,i){return w(b,f,s,n,i,k)},le:function(b,f,s,n,i){return w(b,f,s,n,i,A)},eq:function(b,f,s,n,i){return w(b,f,s,n,i,o)}}},308:function(U,C){function e(A){var o=32;return(A&=-A)&&o--,65535&A&&(o-=16),16711935&A&&(o-=8),252645135&A&&(o-=4),858993459&A&&(o-=2),1431655765&A&&(o-=1),o}C.INT_BITS=32,C.INT_MAX=2147483647,C.INT_MIN=-2147483648,C.sign=function(A){return(A>0)-(A<0)},C.abs=function(A){var o=A>>31;return(A^o)-o},C.min=function(A,o){return o^(A^o)&-(A<o)},C.max=function(A,o){return A^(A^o)&-(A<o)},C.isPow2=function(A){return!(A&A-1||!A)},C.log2=function(A){var o,w;return o=(A>65535)<<4,o|=w=((A>>>=o)>255)<<3,o|=w=((A>>>=w)>15)<<2,(o|=w=((A>>>=w)>3)<<1)|(A>>>=w)>>1},C.log10=function(A){return A>=1e9?9:A>=1e8?8:A>=1e7?7:A>=1e6?6:A>=1e5?5:A>=1e4?4:A>=1e3?3:A>=100?2:A>=10?1:0},C.popCount=function(A){return 16843009*((A=(858993459&(A-=A>>>1&1431655765))+(A>>>2&858993459))+(A>>>4)&252645135)>>>24},C.countTrailingZeros=e,C.nextPow2=function(A){return A+=A===0,--A,A|=A>>>1,A|=A>>>2,A|=A>>>4,A|=A>>>8,1+(A|=A>>>16)},C.prevPow2=function(A){return A|=A>>>1,A|=A>>>2,A|=A>>>4,A|=A>>>8,(A|=A>>>16)-(A>>>1)},C.parity=function(A){return A^=A>>>16,A^=A>>>8,A^=A>>>4,27030>>>(A&=15)&1};var k=new Array(256);(function(A){for(var o=0;o<256;++o){var w=o,b=o,f=7;for(w>>>=1;w;w>>>=1)b<<=1,b|=1&w,--f;A[o]=b<<f&255}})(k),C.reverse=function(A){return k[255&A]<<24|k[A>>>8&255]<<16|k[A>>>16&255]<<8|k[A>>>24&255]},C.interleave2=function(A,o){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A&=65535)|A<<8))|A<<4))|A<<2))|A<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},C.deinterleave2=function(A,o){return(A=65535&((A=16711935&((A=252645135&((A=858993459&((A=A>>>o&1431655765)|A>>>1))|A>>>2))|A>>>4))|A>>>16))<<16>>16},C.interleave3=function(A,o,w){return A=1227133513&((A=3272356035&((A=251719695&((A=4278190335&((A&=1023)|A<<16))|A<<8))|A<<4))|A<<2),(A|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(w=1227133513&((w=3272356035&((w=251719695&((w=4278190335&((w&=1023)|w<<16))|w<<8))|w<<4))|w<<2))<<2},C.deinterleave3=function(A,o){return(A=1023&((A=4278190335&((A=251719695&((A=3272356035&((A=A>>>o&1227133513)|A>>>2))|A>>>4))|A>>>8))|A>>>16))<<22>>22},C.nextCombination=function(A){var o=A|A-1;return o+1|(~o&-~o)-1>>>e(A)+1}},29620:function(U,C,e){var k=e(32420);U.exports=function(b,f){f||(f={});var s,n,i,r,t,a,l,u,h,c,y,d=f.cutoff==null?.25:f.cutoff,v=f.radius==null?8:f.radius,g=f.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!f.width||!f.height)throw Error("For raw data width and height should be provided by options");s=f.width,n=f.height,r=b,a=f.stride?f.stride:Math.floor(b.length/s/n)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),s=u.width,n=u.height,r=(h=l.getImageData(0,0,s,n)).data,a=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,s=(u=b.canvas).width,n=u.height,r=(h=l.getImageData(0,0,s,n)).data,a=4):window.ImageData&&b instanceof window.ImageData&&(h=b,s=b.width,n=b.height,r=h.data,a=4);if(i=Math.max(s,n),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(t=r,r=Array(s*n),c=0,y=t.length;c<y;c++)r[c]=t[c*a+g]/255;else if(a!==1)throw Error("Raw data can have only 1 value per pixel");var x=Array(s*n),m=Array(s*n),_=Array(i),p=Array(i),S=Array(i+1),T=Array(i);for(c=0,y=s*n;c<y;c++){var E=r[c];x[c]=E===1?0:E===0?A:Math.pow(Math.max(0,.5-E),2),m[c]=E===1?A:E===0?0:Math.pow(Math.max(0,E-.5),2)}o(x,s,n,_,p,T,S),o(m,s,n,_,p,T,S);var O=window.Float32Array?new Float32Array(s*n):new Array(s*n);for(c=0,y=s*n;c<y;c++)O[c]=k(1-((x[c]-m[c])/v+d),0,1);return O};var A=1e20;function o(b,f,s,n,i,r,t){for(var a=0;a<f;a++){for(var l=0;l<s;l++)n[l]=b[l*f+a];for(w(n,i,r,t,s),l=0;l<s;l++)b[l*f+a]=i[l]}for(l=0;l<s;l++){for(a=0;a<f;a++)n[a]=b[l*f+a];for(w(n,i,r,t,f),a=0;a<f;a++)b[l*f+a]=Math.sqrt(i[a])}}function w(b,f,s,n,i){s[0]=0,n[0]=-A,n[1]=+A;for(var r=1,t=0;r<i;r++){for(var a=(b[r]+r*r-(b[s[t]]+s[t]*s[t]))/(2*r-2*s[t]);a<=n[t];)t--,a=(b[r]+r*r-(b[s[t]]+s[t]*s[t]))/(2*r-2*s[t]);s[++t]=r,n[t]=a,n[t+1]=+A}for(r=0,t=0;r<i;r++){for(;n[t+1]<r;)t++;f[r]=(r-s[t])*(r-s[t])+b[s[t]]}}},99676:function(U,C,e){var k=e(53664),A=e(57916),o=A(k("String.prototype.indexOf"));U.exports=function(w,b){var f=k(w,!!b);return typeof f=="function"&&o(w,".prototype.")>-1?A(f):f}},57916:function(U,C,e){var k=e(8844),A=e(53664),o=e(14500),w=A("%TypeError%"),b=A("%Function.prototype.apply%"),f=A("%Function.prototype.call%"),s=A("%Reflect.apply%",!0)||k.call(f,b),n=A("%Object.defineProperty%",!0),i=A("%Math.max%");if(n)try{n({},"a",{value:1})}catch{n=null}U.exports=function(t){if(typeof t!="function")throw new w("a function is required");var a=s(k,f,arguments);return o(a,1+i(0,t.length-(arguments.length-1)),!0)};var r=function(){return s(k,b,arguments)};n?n(U.exports,"apply",{value:r}):U.exports.apply=r},32420:function(U){U.exports=function(C,e,k){return e<k?C<e?e:C>k?k:C:C<k?k:C>e?e:C}},3808:function(U,C,e){var k=e(32420);function A(o,w){w==null&&(w=!0);var b=o[0],f=o[1],s=o[2],n=o[3];return n==null&&(n=w?1:255),w&&(b*=255,f*=255,s*=255,n*=255),16777216*(b=255&k(b,0,255))+((f=255&k(f,0,255))<<16)+((s=255&k(s,0,255))<<8)+(255&k(n,0,255))}U.exports=A,U.exports.to=A,U.exports.from=function(o,w){var b=(o=+o)>>>24,f=(16711680&o)>>>16,s=(65280&o)>>>8,n=255&o;return w===!1?[b,f,s,n]:[b/255,f/255,s/255,n/255]}},17592:function(U){U.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(U,C,e){var k=e(96824),A=e(32420),o=e(72512);U.exports=function(w,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var f=new(o(b))(4),s=b!=="uint8"&&b!=="uint8_clamped";return w.length&&typeof w!="string"||((w=k(w))[0]/=255,w[1]/=255,w[2]/=255),function(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||!!(Array.isArray(n)&&(n[0]>1||n[0]===0)&&(n[1]>1||n[1]===0)&&(n[2]>1||n[2]===0)&&(!n[3]||n[3]>1))}(w)?(f[0]=w[0],f[1]=w[1],f[2]=w[2],f[3]=w[3]!=null?w[3]:255,s&&(f[0]/=255,f[1]/=255,f[2]/=255,f[3]/=255),f):(s?(f[0]=w[0],f[1]=w[1],f[2]=w[2],f[3]=w[3]!=null?w[3]:1):(f[0]=A(Math.floor(255*w[0]),0,255),f[1]=A(Math.floor(255*w[1]),0,255),f[2]=A(Math.floor(255*w[2]),0,255),f[3]=w[3]==null?255:A(Math.floor(255*w[3]),0,255)),f)}},96824:function(U,C,e){var k=e(95532),A=e(53576),o=e(32420);U.exports=function(w){var b,f=k(w);return f.space?((b=Array(3))[0]=o(f.values[0],0,255),b[1]=o(f.values[1],0,255),b[2]=o(f.values[2],0,255),f.space[0]==="h"&&(b=A.rgb(b)),b.push(o(f.alpha,0,1)),b):[]}},95532:function(U,C,e){var k=e(17592);U.exports=function(o){var w,b,f=[],s=1;if(typeof o=="string")if(o=o.toLowerCase(),k[o])f=k[o].slice(),b="rgb";else if(o==="transparent")s=0,b="rgb",f=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(o)){var n=o.slice(1);s=1,(t=n.length)<=4?(f=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],t===4&&(s=parseInt(n[3]+n[3],16)/255)):(f=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],t===8&&(s=parseInt(n[6]+n[7],16)/255)),f[0]||(f[0]=0),f[1]||(f[1]=0),f[2]||(f[2]=0),b="rgb"}else if(w=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(o)){var i=w[1],r=i==="rgb";b=n=i.replace(/a$/,"");var t=n==="cmyk"?4:n==="gray"?1:3;f=w[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(a,l){if(/%$/.test(a))return l===t?parseFloat(a)/100:n==="rgb"?255*parseFloat(a)/100:parseFloat(a);if(n[l]==="h"){if(/deg$/.test(a))return parseFloat(a);if(A[a]!==void 0)return A[a]}return parseFloat(a)}),i===n&&f.push(1),s=r||f[t]===void 0?1:f[t],f=f.slice(0,t)}else o.length>10&&/[0-9](?:\s|\/)/.test(o)&&(f=o.match(/([0-9]+)/g).map(function(a){return parseFloat(a)}),b=o.match(/([a-z])/gi).join("").toLowerCase());else isNaN(o)?Array.isArray(o)||o.length?(f=[o[0],o[1],o[2]],b="rgb",s=o.length===4?o[3]:1):o instanceof Object&&(o.r!=null||o.red!=null||o.R!=null?(b="rgb",f=[o.r||o.red||o.R||0,o.g||o.green||o.G||0,o.b||o.blue||o.B||0]):(b="hsl",f=[o.h||o.hue||o.H||0,o.s||o.saturation||o.S||0,o.l||o.lightness||o.L||o.b||o.brightness]),s=o.a||o.alpha||o.opacity||1,o.opacity!=null&&(s/=100)):(b="rgb",f=[o>>>16,(65280&o)>>>8,255&o]);return{space:b,values:f,alpha:s}};var A={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(U,C,e){var k=e(19336);U.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(A){var o,w,b,f,s,n=A[0]/360,i=A[1]/100,r=A[2]/100;if(i===0)return[s=255*r,s,s];o=2*r-(w=r<.5?r*(1+i):r+i-r*i),f=[0,0,0];for(var t=0;t<3;t++)(b=n+.3333333333333333*-(t-1))<0?b++:b>1&&b--,s=6*b<1?o+6*(w-o)*b:2*b<1?w:3*b<2?o+(w-o)*(.6666666666666666-b)*6:o,f[t]=255*s;return f}},k.hsl=function(A){var o,w,b=A[0]/255,f=A[1]/255,s=A[2]/255,n=Math.min(b,f,s),i=Math.max(b,f,s),r=i-n;return i===n?o=0:b===i?o=(f-s)/r:f===i?o=2+(s-b)/r:s===i&&(o=4+(b-f)/r),(o=Math.min(60*o,360))<0&&(o+=360),w=(n+i)/2,[o,100*(i===n?0:w<=.5?r/(i+n):r/(2-i-n)),100*w]}},19336:function(U){U.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(U){U.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(U,C,e){U.exports={parse:e(46416),stringify:e(49395)}},8744:function(U,C,e){var k=e(30584);U.exports={isSize:function(A){return/^[\d\.]/.test(A)||A.indexOf("/")!==-1||k.indexOf(A)!==-1}}},46416:function(U,C,e){var k=e(92384),A=e(68194),o=e(3748),w=e(2904),b=e(47916),f=e(7294),s=e(39956),n=e(8744).isSize;U.exports=r;var i=r.cache={};function r(a){if(typeof a!="string")throw new Error("Font argument must be a string.");if(i[a])return i[a];if(a==="")throw new Error("Cannot parse an empty string.");if(o.indexOf(a)!==-1)return i[a]={system:a};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(a,/\s+/);l=h.shift();){if(A.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(y){u[y]=l}),i[a]=u;if(b.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(f.indexOf(l)===-1){if(w.indexOf(l)===-1){if(n(l)){var c=s(l,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=t(c[1]):h[0]==="/"&&(h.shift(),u.lineHeight=t(h.shift())),!h.length)throw new Error("Missing required font-family.");return u.family=s(h.join(" "),/\s*,\s*/).map(k),i[a]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function t(a){var l=parseFloat(a);return l.toString()===a?l:a}},49395:function(U,C,e){var k=e(55616),A=e(8744).isSize,o=a(e(68194)),w=a(e(3748)),b=a(e(2904)),f=a(e(47916)),s=a(e(7294)),n={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function t(l,u){if(l&&!u[l]&&!o[l])throw Error("Unknown keyword `"+l+"`");return l}function a(l){for(var u={},h=0;h<l.length;h++)u[l[h]]=1;return u}U.exports=function(l){if((l=k(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&t(l.system,w),l.system;if(t(l.style,f),t(l.variant,n),t(l.weight,b),t(l.stretch,s),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!A)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=r),Array.isArray(l.family)&&(l.family.length||(l.family=[r]),l.family=l.family.map(function(h){return i[h]?h:'"'+h+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(U,C,e){var k,A=e(81680),o=e(18496),w=e(87396),b=e(95920),f=e(50868),s=e(84323),n=Function.prototype.bind,i=Object.defineProperty,r=Object.prototype.hasOwnProperty;k=function(t,a,l){var u,h=o(a)&&w(a.value);return delete(u=b(a)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&r.call(this,t)?h:(a.value=n.call(h,l.resolveContext?l.resolveContext(this):this),i(this,t,a),this[t])},u},U.exports=function(t){var a=f(arguments[1]);return A(a.resolveContext)&&w(a.resolveContext),s(t,function(l,u){return k(u,l,a)})}},21092:function(U,C,e){var k=e(81680),A=e(85488),o=e(38452),w=e(50868),b=e(71056),f=U.exports=function(s,n){var i,r,t,a,l;return arguments.length<2||typeof s!="string"?(a=n,n=s,s=null):a=arguments[2],k(s)?(i=b.call(s,"c"),r=b.call(s,"e"),t=b.call(s,"w")):(i=t=!0,r=!1),l={value:n,configurable:i,enumerable:r,writable:t},a?o(w(a),l):l};f.gs=function(s,n,i){var r,t,a,l;return typeof s!="string"?(a=i,i=n,n=s,s=null):a=arguments[3],k(n)?A(n)?k(i)?A(i)||(a=i,i=void 0):i=void 0:(a=n,n=i=void 0):n=void 0,k(s)?(r=b.call(s,"c"),t=b.call(s,"e")):(r=!0,t=!1),l={get:n,set:i,configurable:r,enumerable:t},a?o(w(a),l):l}},84706:function(U,C,e){function k(t,a){return t<a?-1:t>a?1:t>=a?0:NaN}e.d(C,{XE:function(){return k},kv:function(){return w},mo:function(){return f},Uf:function(){return s},SY:function(){return n},ik:function(){return i},oh:function(){return r}}),(A=k).length===1&&(o=A,A=function(t,a){return k(o(t),a)});var A,o;function w(t,a){var l,u,h=t.length,c=-1;if(a==null){for(;++c<h;)if((l=t[c])!=null&&l>=l)for(u=l;++c<h;)(l=t[c])!=null&&l>u&&(u=l)}else for(;++c<h;)if((l=a(t[c],c,t))!=null&&l>=l)for(u=l;++c<h;)(l=a(t[c],c,t))!=null&&l>u&&(u=l);return u}function b(t){return t===null?NaN:+t}function f(t,a){var l,u=t.length,h=u,c=-1,y=0;if(a==null)for(;++c<u;)isNaN(l=b(t[c]))?--h:y+=l;else for(;++c<u;)isNaN(l=b(a(t[c],c,t)))?--h:y+=l;if(h)return y/h}function s(t){for(var a,l,u,h=t.length,c=-1,y=0;++c<h;)y+=t[c].length;for(l=new Array(y);--h>=0;)for(a=(u=t[h]).length;--a>=0;)l[--y]=u[a];return l}function n(t,a){var l,u,h=t.length,c=-1;if(a==null){for(;++c<h;)if((l=t[c])!=null&&l>=l)for(u=l;++c<h;)(l=t[c])!=null&&u>l&&(u=l)}else for(;++c<h;)if((l=a(t[c],c,t))!=null&&l>=l)for(u=l;++c<h;)(l=a(t[c],c,t))!=null&&u>l&&(u=l);return u}function i(t,a,l){t=+t,a=+a,l=(h=arguments.length)<2?(a=t,t=0,1):h<3?1:+l;for(var u=-1,h=0|Math.max(0,Math.ceil((a-t)/l)),c=new Array(h);++u<h;)c[u]=t+u*l;return c}function r(t,a){var l,u=t.length,h=-1,c=0;if(a==null)for(;++h<u;)(l=+t[h])&&(c+=l);else for(;++h<u;)(l=+a(t[h],h,t))&&(c+=l);return c}},34712:function(U,C,e){e.d(C,{kH:function(){return w},UJ:function(){return b}});var k="$";function A(){}function o(a,l){var u=new A;if(a instanceof A)a.each(function(v,g){u.set(g,v)});else if(Array.isArray(a)){var h,c=-1,y=a.length;if(l==null)for(;++c<y;)u.set(c,a[c]);else for(;++c<y;)u.set(l(h=a[c],c,a),h)}else if(a)for(var d in a)u.set(d,a[d]);return u}A.prototype=o.prototype={constructor:A,has:function(a){return k+a in this},get:function(a){return this[k+a]},set:function(a,l){return this[k+a]=l,this},remove:function(a){var l=k+a;return l in this&&delete this[l]},clear:function(){for(var a in this)a[0]===k&&delete this[a]},keys:function(){var a=[];for(var l in this)l[0]===k&&a.push(l.slice(1));return a},values:function(){var a=[];for(var l in this)l[0]===k&&a.push(this[l]);return a},entries:function(){var a=[];for(var l in this)l[0]===k&&a.push({key:l.slice(1),value:this[l]});return a},size:function(){var a=0;for(var l in this)l[0]===k&&++a;return a},empty:function(){for(var a in this)if(a[0]===k)return!1;return!0},each:function(a){for(var l in this)l[0]===k&&a(this[l],l.slice(1),this)}};var w=o;function b(){var a,l,u,h=[],c=[];function y(v,g,x,m){if(g>=h.length)return a!=null&&v.sort(a),l!=null?l(v):v;for(var _,p,S,T=-1,E=v.length,O=h[g++],P=w(),I=x();++T<E;)(S=P.get(_=O(p=v[T])+""))?S.push(p):P.set(_,[p]);return P.each(function(R,H){m(I,H,y(R,g,x,m))}),I}function d(v,g){if(++g>h.length)return v;var x,m=c[g-1];return l!=null&&g>=h.length?x=v.entries():(x=[],v.each(function(_,p){x.push({key:p,values:d(_,g)})})),m!=null?x.sort(function(_,p){return m(_.key,p.key)}):x}return u={object:function(v){return y(v,0,f,s)},map:function(v){return y(v,0,n,i)},entries:function(v){return d(y(v,0,n,i),0)},key:function(v){return h.push(v),u},sortKeys:function(v){return c[h.length-1]=v,u},sortValues:function(v){return a=v,u},rollup:function(v){return l=v,u}}}function f(){return{}}function s(a,l,u){a[l]=u}function n(){return w()}function i(a,l,u){a.set(l,u)}function r(){}var t=w.prototype;r.prototype={constructor:r,has:t.has,add:function(a){return this[k+(a+="")]=a,this},remove:t.remove,clear:t.clear,values:t.keys,size:t.size,empty:t.empty,each:t.each}},49812:function(U,C,e){function k(_e,be){var Le;function De(){var ye,le,oe=Le.length,ve=0,Ce=0;for(ye=0;ye<oe;++ye)ve+=(le=Le[ye]).x,Ce+=le.y;for(ve=ve/oe-_e,Ce=Ce/oe-be,ye=0;ye<oe;++ye)(le=Le[ye]).x-=ve,le.y-=Ce}return _e==null&&(_e=0),be==null&&(be=0),De.initialize=function(ye){Le=ye},De.x=function(ye){return arguments.length?(_e=+ye,De):_e},De.y=function(ye){return arguments.length?(be=+ye,De):be},De}function A(_e){return function(){return _e}}function o(){return 1e-6*(Math.random()-.5)}function w(_e,be,Le,De){if(isNaN(be)||isNaN(Le))return _e;var ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe=_e._root,ge={data:De},Te=_e._x0,Se=_e._y0,Re=_e._x1,Pe=_e._y1;if(!Fe)return _e._root=ge,_e;for(;Fe.length;)if((ke=be>=(le=(Te+Re)/2))?Te=le:Re=le,(Ae=Le>=(oe=(Se+Pe)/2))?Se=oe:Pe=oe,ye=Fe,!(Fe=Fe[Ee=Ae<<1|ke]))return ye[Ee]=ge,_e;if(ve=+_e._x.call(null,Fe.data),Ce=+_e._y.call(null,Fe.data),be===ve&&Le===Ce)return ge.next=Fe,ye?ye[Ee]=ge:_e._root=ge,_e;do ye=ye?ye[Ee]=new Array(4):_e._root=new Array(4),(ke=be>=(le=(Te+Re)/2))?Te=le:Re=le,(Ae=Le>=(oe=(Se+Pe)/2))?Se=oe:Pe=oe;while((Ee=Ae<<1|ke)==(ze=(Ce>=oe)<<1|ve>=le));return ye[ze]=Fe,ye[Ee]=ge,_e}function b(_e,be,Le,De,ye){this.node=_e,this.x0=be,this.y0=Le,this.x1=De,this.y1=ye}function f(_e){return _e[0]}function s(_e){return _e[1]}function n(_e,be,Le){var De=new i(be??f,Le??s,NaN,NaN,NaN,NaN);return _e==null?De:De.addAll(_e)}function i(_e,be,Le,De,ye,le){this._x=_e,this._y=be,this._x0=Le,this._y0=De,this._x1=ye,this._y1=le,this._root=void 0}function r(_e){for(var be={data:_e.data},Le=be;_e=_e.next;)Le=Le.next={data:_e.data};return be}e.r(C),e.d(C,{forceCenter:function(){return k},forceCollide:function(){return u},forceLink:function(){return d},forceManyBody:function(){return he},forceRadial:function(){return pe},forceSimulation:function(){return se},forceX:function(){return de},forceY:function(){return xe}});var t=n.prototype=i.prototype;function a(_e){return _e.x+_e.vx}function l(_e){return _e.y+_e.vy}function u(_e){var be,Le,De=1,ye=1;function le(){for(var Ce,ke,Ae,Ee,ze,Fe,ge,Te=be.length,Se=0;Se<ye;++Se)for(ke=n(be,a,l).visitAfter(oe),Ce=0;Ce<Te;++Ce)Ae=be[Ce],Fe=Le[Ae.index],ge=Fe*Fe,Ee=Ae.x+Ae.vx,ze=Ae.y+Ae.vy,ke.visit(Re);function Re(Pe,Ve,We,Qe,lt){var ut=Pe.data,xt=Pe.r,_t=Fe+xt;if(!ut)return Ve>Ee+_t||Qe<Ee-_t||We>ze+_t||lt<ze-_t;if(ut.index>Ae.index){var mt=Ee-ut.x-ut.vx,it=ze-ut.y-ut.vy,nt=mt*mt+it*it;nt<_t*_t&&(mt===0&&(nt+=(mt=o())*mt),it===0&&(nt+=(it=o())*it),nt=(_t-(nt=Math.sqrt(nt)))/nt*De,Ae.vx+=(mt*=nt)*(_t=(xt*=xt)/(ge+xt)),Ae.vy+=(it*=nt)*_t,ut.vx-=mt*(_t=1-_t),ut.vy-=it*_t)}}}function oe(Ce){if(Ce.data)return Ce.r=Le[Ce.data.index];for(var ke=Ce.r=0;ke<4;++ke)Ce[ke]&&Ce[ke].r>Ce.r&&(Ce.r=Ce[ke].r)}function ve(){if(be){var Ce,ke,Ae=be.length;for(Le=new Array(Ae),Ce=0;Ce<Ae;++Ce)ke=be[Ce],Le[ke.index]=+_e(ke,Ce,be)}}return typeof _e!="function"&&(_e=A(_e==null?1:+_e)),le.initialize=function(Ce){be=Ce,ve()},le.iterations=function(Ce){return arguments.length?(ye=+Ce,le):ye},le.strength=function(Ce){return arguments.length?(De=+Ce,le):De},le.radius=function(Ce){return arguments.length?(_e=typeof Ce=="function"?Ce:A(+Ce),ve(),le):_e},le}t.copy=function(){var _e,be,Le=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),De=this._root;if(!De)return Le;if(!De.length)return Le._root=r(De),Le;for(_e=[{source:De,target:Le._root=new Array(4)}];De=_e.pop();)for(var ye=0;ye<4;++ye)(be=De.source[ye])&&(be.length?_e.push({source:be,target:De.target[ye]=new Array(4)}):De.target[ye]=r(be));return Le},t.add=function(_e){var be=+this._x.call(null,_e),Le=+this._y.call(null,_e);return w(this.cover(be,Le),be,Le,_e)},t.addAll=function(_e){var be,Le,De,ye,le=_e.length,oe=new Array(le),ve=new Array(le),Ce=1/0,ke=1/0,Ae=-1/0,Ee=-1/0;for(Le=0;Le<le;++Le)isNaN(De=+this._x.call(null,be=_e[Le]))||isNaN(ye=+this._y.call(null,be))||(oe[Le]=De,ve[Le]=ye,De<Ce&&(Ce=De),De>Ae&&(Ae=De),ye<ke&&(ke=ye),ye>Ee&&(Ee=ye));if(Ce>Ae||ke>Ee)return this;for(this.cover(Ce,ke).cover(Ae,Ee),Le=0;Le<le;++Le)w(this,oe[Le],ve[Le],_e[Le]);return this},t.cover=function(_e,be){if(isNaN(_e=+_e)||isNaN(be=+be))return this;var Le=this._x0,De=this._y0,ye=this._x1,le=this._y1;if(isNaN(Le))ye=(Le=Math.floor(_e))+1,le=(De=Math.floor(be))+1;else{for(var oe,ve,Ce=ye-Le,ke=this._root;Le>_e||_e>=ye||De>be||be>=le;)switch(ve=(be<De)<<1|_e<Le,(oe=new Array(4))[ve]=ke,ke=oe,Ce*=2,ve){case 0:ye=Le+Ce,le=De+Ce;break;case 1:Le=ye-Ce,le=De+Ce;break;case 2:ye=Le+Ce,De=le-Ce;break;case 3:Le=ye-Ce,De=le-Ce}this._root&&this._root.length&&(this._root=ke)}return this._x0=Le,this._y0=De,this._x1=ye,this._y1=le,this},t.data=function(){var _e=[];return this.visit(function(be){if(!be.length)do _e.push(be.data);while(be=be.next)}),_e},t.extent=function(_e){return arguments.length?this.cover(+_e[0][0],+_e[0][1]).cover(+_e[1][0],+_e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},t.find=function(_e,be,Le){var De,ye,le,oe,ve,Ce,ke,Ae=this._x0,Ee=this._y0,ze=this._x1,Fe=this._y1,ge=[],Te=this._root;for(Te&&ge.push(new b(Te,Ae,Ee,ze,Fe)),Le==null?Le=1/0:(Ae=_e-Le,Ee=be-Le,ze=_e+Le,Fe=be+Le,Le*=Le);Ce=ge.pop();)if(!(!(Te=Ce.node)||(ye=Ce.x0)>ze||(le=Ce.y0)>Fe||(oe=Ce.x1)<Ae||(ve=Ce.y1)<Ee))if(Te.length){var Se=(ye+oe)/2,Re=(le+ve)/2;ge.push(new b(Te[3],Se,Re,oe,ve),new b(Te[2],ye,Re,Se,ve),new b(Te[1],Se,le,oe,Re),new b(Te[0],ye,le,Se,Re)),(ke=(be>=Re)<<1|_e>=Se)&&(Ce=ge[ge.length-1],ge[ge.length-1]=ge[ge.length-1-ke],ge[ge.length-1-ke]=Ce)}else{var Pe=_e-+this._x.call(null,Te.data),Ve=be-+this._y.call(null,Te.data),We=Pe*Pe+Ve*Ve;if(We<Le){var Qe=Math.sqrt(Le=We);Ae=_e-Qe,Ee=be-Qe,ze=_e+Qe,Fe=be+Qe,De=Te.data}}return De},t.remove=function(_e){if(isNaN(le=+this._x.call(null,_e))||isNaN(oe=+this._y.call(null,_e)))return this;var be,Le,De,ye,le,oe,ve,Ce,ke,Ae,Ee,ze,Fe=this._root,ge=this._x0,Te=this._y0,Se=this._x1,Re=this._y1;if(!Fe)return this;if(Fe.length)for(;;){if((ke=le>=(ve=(ge+Se)/2))?ge=ve:Se=ve,(Ae=oe>=(Ce=(Te+Re)/2))?Te=Ce:Re=Ce,be=Fe,!(Fe=Fe[Ee=Ae<<1|ke]))return this;if(!Fe.length)break;(be[Ee+1&3]||be[Ee+2&3]||be[Ee+3&3])&&(Le=be,ze=Ee)}for(;Fe.data!==_e;)if(De=Fe,!(Fe=Fe.next))return this;return(ye=Fe.next)&&delete Fe.next,De?(ye?De.next=ye:delete De.next,this):be?(ye?be[Ee]=ye:delete be[Ee],(Fe=be[0]||be[1]||be[2]||be[3])&&Fe===(be[3]||be[2]||be[1]||be[0])&&!Fe.length&&(Le?Le[ze]=Fe:this._root=Fe),this):(this._root=ye,this)},t.removeAll=function(_e){for(var be=0,Le=_e.length;be<Le;++be)this.remove(_e[be]);return this},t.root=function(){return this._root},t.size=function(){var _e=0;return this.visit(function(be){if(!be.length)do++_e;while(be=be.next)}),_e},t.visit=function(_e){var be,Le,De,ye,le,oe,ve=[],Ce=this._root;for(Ce&&ve.push(new b(Ce,this._x0,this._y0,this._x1,this._y1));be=ve.pop();)if(!_e(Ce=be.node,De=be.x0,ye=be.y0,le=be.x1,oe=be.y1)&&Ce.length){var ke=(De+le)/2,Ae=(ye+oe)/2;(Le=Ce[3])&&ve.push(new b(Le,ke,Ae,le,oe)),(Le=Ce[2])&&ve.push(new b(Le,De,Ae,ke,oe)),(Le=Ce[1])&&ve.push(new b(Le,ke,ye,le,Ae)),(Le=Ce[0])&&ve.push(new b(Le,De,ye,ke,Ae))}return this},t.visitAfter=function(_e){var be,Le=[],De=[];for(this._root&&Le.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));be=Le.pop();){var ye=be.node;if(ye.length){var le,oe=be.x0,ve=be.y0,Ce=be.x1,ke=be.y1,Ae=(oe+Ce)/2,Ee=(ve+ke)/2;(le=ye[0])&&Le.push(new b(le,oe,ve,Ae,Ee)),(le=ye[1])&&Le.push(new b(le,Ae,ve,Ce,Ee)),(le=ye[2])&&Le.push(new b(le,oe,Ee,Ae,ke)),(le=ye[3])&&Le.push(new b(le,Ae,Ee,Ce,ke))}De.push(be)}for(;be=De.pop();)_e(be.node,be.x0,be.y0,be.x1,be.y1);return this},t.x=function(_e){return arguments.length?(this._x=_e,this):this._x},t.y=function(_e){return arguments.length?(this._y=_e,this):this._y};var h=e(34712);function c(_e){return _e.index}function y(_e,be){var Le=_e.get(be);if(!Le)throw new Error("missing: "+be);return Le}function d(_e){var be,Le,De,ye,le,oe=c,ve=function(ge){return 1/Math.min(ye[ge.source.index],ye[ge.target.index])},Ce=A(30),ke=1;function Ae(ge){for(var Te=0,Se=_e.length;Te<ke;++Te)for(var Re,Pe,Ve,We,Qe,lt,ut,xt=0;xt<Se;++xt)Pe=(Re=_e[xt]).source,We=(Ve=Re.target).x+Ve.vx-Pe.x-Pe.vx||o(),Qe=Ve.y+Ve.vy-Pe.y-Pe.vy||o(),We*=lt=((lt=Math.sqrt(We*We+Qe*Qe))-Le[xt])/lt*ge*be[xt],Qe*=lt,Ve.vx-=We*(ut=le[xt]),Ve.vy-=Qe*ut,Pe.vx+=We*(ut=1-ut),Pe.vy+=Qe*ut}function Ee(){if(De){var ge,Te,Se=De.length,Re=_e.length,Pe=(0,h.kH)(De,oe);for(ge=0,ye=new Array(Se);ge<Re;++ge)(Te=_e[ge]).index=ge,typeof Te.source!="object"&&(Te.source=y(Pe,Te.source)),typeof Te.target!="object"&&(Te.target=y(Pe,Te.target)),ye[Te.source.index]=(ye[Te.source.index]||0)+1,ye[Te.target.index]=(ye[Te.target.index]||0)+1;for(ge=0,le=new Array(Re);ge<Re;++ge)Te=_e[ge],le[ge]=ye[Te.source.index]/(ye[Te.source.index]+ye[Te.target.index]);be=new Array(Re),ze(),Le=new Array(Re),Fe()}}function ze(){if(De)for(var ge=0,Te=_e.length;ge<Te;++ge)be[ge]=+ve(_e[ge],ge,_e)}function Fe(){if(De)for(var ge=0,Te=_e.length;ge<Te;++ge)Le[ge]=+Ce(_e[ge],ge,_e)}return _e==null&&(_e=[]),Ae.initialize=function(ge){De=ge,Ee()},Ae.links=function(ge){return arguments.length?(_e=ge,Ee(),Ae):_e},Ae.id=function(ge){return arguments.length?(oe=ge,Ae):oe},Ae.iterations=function(ge){return arguments.length?(ke=+ge,Ae):ke},Ae.strength=function(ge){return arguments.length?(ve=typeof ge=="function"?ge:A(+ge),ze(),Ae):ve},Ae.distance=function(ge){return arguments.length?(Ce=typeof ge=="function"?ge:A(+ge),Fe(),Ae):Ce},Ae}var v={value:function(){}};function g(){for(var _e,be=0,Le=arguments.length,De={};be<Le;++be){if(!(_e=arguments[be]+"")||_e in De||/[\s.]/.test(_e))throw new Error("illegal type: "+_e);De[_e]=[]}return new x(De)}function x(_e){this._=_e}function m(_e,be){for(var Le,De=0,ye=_e.length;De<ye;++De)if((Le=_e[De]).name===be)return Le.value}function _(_e,be,Le){for(var De=0,ye=_e.length;De<ye;++De)if(_e[De].name===be){_e[De]=v,_e=_e.slice(0,De).concat(_e.slice(De+1));break}return Le!=null&&_e.push({name:be,value:Le}),_e}x.prototype=g.prototype={constructor:x,on:function(_e,be){var Le,De,ye=this._,le=(De=ye,(_e+"").trim().split(/^|\s+/).map(function(Ce){var ke="",Ae=Ce.indexOf(".");if(Ae>=0&&(ke=Ce.slice(Ae+1),Ce=Ce.slice(0,Ae)),Ce&&!De.hasOwnProperty(Ce))throw new Error("unknown type: "+Ce);return{type:Ce,name:ke}})),oe=-1,ve=le.length;if(!(arguments.length<2)){if(be!=null&&typeof be!="function")throw new Error("invalid callback: "+be);for(;++oe<ve;)if(Le=(_e=le[oe]).type)ye[Le]=_(ye[Le],_e.name,be);else if(be==null)for(Le in ye)ye[Le]=_(ye[Le],_e.name,null);return this}for(;++oe<ve;)if((Le=(_e=le[oe]).type)&&(Le=m(ye[Le],_e.name)))return Le},copy:function(){var _e={},be=this._;for(var Le in be)_e[Le]=be[Le].slice();return new x(_e)},call:function(_e,be){if((Le=arguments.length-2)>0)for(var Le,De,ye=new Array(Le),le=0;le<Le;++le)ye[le]=arguments[le+2];if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(le=0,Le=(De=this._[_e]).length;le<Le;++le)De[le].value.apply(be,ye)},apply:function(_e,be,Le){if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(var De=this._[_e],ye=0,le=De.length;ye<le;++ye)De[ye].value.apply(be,Le)}};var p,S,T=g,E=0,O=0,P=0,I=1e3,R=0,H=0,z=0,j=typeof performance=="object"&&performance.now?performance:Date,Z=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_e){setTimeout(_e,17)};function F(){return H||(Z(V),H=j.now()+z)}function V(){H=0}function W(){this._call=this._time=this._next=null}function re(_e,be,Le){var De=new W;return De.restart(_e,be,Le),De}function ne(){H=(R=j.now())+z,E=O=0;try{(function(){F(),++E;for(var _e,be=p;be;)(_e=H-be._time)>=0&&be._call.call(null,_e),be=be._next;--E})()}finally{E=0,function(){for(var _e,be,Le=p,De=1/0;Le;)Le._call?(De>Le._time&&(De=Le._time),_e=Le,Le=Le._next):(be=Le._next,Le._next=null,Le=_e?_e._next=be:p=be);S=_e,Q(De)}(),H=0}}function te(){var _e=j.now(),be=_e-R;be>I&&(z-=be,R=_e)}function Q(_e){E||(O&&(O=clearTimeout(O)),_e-H>24?(_e<1/0&&(O=setTimeout(ne,_e-j.now()-z)),P&&(P=clearInterval(P))):(P||(R=j.now(),P=setInterval(te,I)),E=1,Z(ne)))}function $(_e){return _e.x}function K(_e){return _e.y}W.prototype=re.prototype={constructor:W,restart:function(_e,be,Le){if(typeof _e!="function")throw new TypeError("callback is not a function");Le=(Le==null?F():+Le)+(be==null?0:+be),this._next||S===this||(S?S._next=this:p=this,S=this),this._call=_e,this._time=Le,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var ae=10,ue=Math.PI*(3-Math.sqrt(5));function se(_e){var be,Le=1,De=.001,ye=1-Math.pow(De,1/300),le=0,oe=.6,ve=(0,h.kH)(),Ce=re(Ae),ke=T("tick","end");function Ae(){Ee(),ke.call("tick",be),Le<De&&(Ce.stop(),ke.call("end",be))}function Ee(ge){var Te,Se,Re=_e.length;ge===void 0&&(ge=1);for(var Pe=0;Pe<ge;++Pe)for(Le+=(le-Le)*ye,ve.each(function(Ve){Ve(Le)}),Te=0;Te<Re;++Te)(Se=_e[Te]).fx==null?Se.x+=Se.vx*=oe:(Se.x=Se.fx,Se.vx=0),Se.fy==null?Se.y+=Se.vy*=oe:(Se.y=Se.fy,Se.vy=0);return be}function ze(){for(var ge,Te=0,Se=_e.length;Te<Se;++Te){if((ge=_e[Te]).index=Te,ge.fx!=null&&(ge.x=ge.fx),ge.fy!=null&&(ge.y=ge.fy),isNaN(ge.x)||isNaN(ge.y)){var Re=ae*Math.sqrt(Te),Pe=Te*ue;ge.x=Re*Math.cos(Pe),ge.y=Re*Math.sin(Pe)}(isNaN(ge.vx)||isNaN(ge.vy))&&(ge.vx=ge.vy=0)}}function Fe(ge){return ge.initialize&&ge.initialize(_e),ge}return _e==null&&(_e=[]),ze(),be={tick:Ee,restart:function(){return Ce.restart(Ae),be},stop:function(){return Ce.stop(),be},nodes:function(ge){return arguments.length?(_e=ge,ze(),ve.each(Fe),be):_e},alpha:function(ge){return arguments.length?(Le=+ge,be):Le},alphaMin:function(ge){return arguments.length?(De=+ge,be):De},alphaDecay:function(ge){return arguments.length?(ye=+ge,be):+ye},alphaTarget:function(ge){return arguments.length?(le=+ge,be):le},velocityDecay:function(ge){return arguments.length?(oe=1-ge,be):1-oe},force:function(ge,Te){return arguments.length>1?(Te==null?ve.remove(ge):ve.set(ge,Fe(Te)),be):ve.get(ge)},find:function(ge,Te,Se){var Re,Pe,Ve,We,Qe,lt=0,ut=_e.length;for(Se==null?Se=1/0:Se*=Se,lt=0;lt<ut;++lt)(Ve=(Re=ge-(We=_e[lt]).x)*Re+(Pe=Te-We.y)*Pe)<Se&&(Qe=We,Se=Ve);return Qe},on:function(ge,Te){return arguments.length>1?(ke.on(ge,Te),be):ke.on(ge)}}}function he(){var _e,be,Le,De,ye=A(-30),le=1,oe=1/0,ve=.81;function Ce(ze){var Fe,ge=_e.length,Te=n(_e,$,K).visitAfter(Ae);for(Le=ze,Fe=0;Fe<ge;++Fe)be=_e[Fe],Te.visit(Ee)}function ke(){if(_e){var ze,Fe,ge=_e.length;for(De=new Array(ge),ze=0;ze<ge;++ze)Fe=_e[ze],De[Fe.index]=+ye(Fe,ze,_e)}}function Ae(ze){var Fe,ge,Te,Se,Re,Pe=0,Ve=0;if(ze.length){for(Te=Se=Re=0;Re<4;++Re)(Fe=ze[Re])&&(ge=Math.abs(Fe.value))&&(Pe+=Fe.value,Ve+=ge,Te+=ge*Fe.x,Se+=ge*Fe.y);ze.x=Te/Ve,ze.y=Se/Ve}else{(Fe=ze).x=Fe.data.x,Fe.y=Fe.data.y;do Pe+=De[Fe.data.index];while(Fe=Fe.next)}ze.value=Pe}function Ee(ze,Fe,ge,Te){if(!ze.value)return!0;var Se=ze.x-be.x,Re=ze.y-be.y,Pe=Te-Fe,Ve=Se*Se+Re*Re;if(Pe*Pe/ve<Ve)return Ve<oe&&(Se===0&&(Ve+=(Se=o())*Se),Re===0&&(Ve+=(Re=o())*Re),Ve<le&&(Ve=Math.sqrt(le*Ve)),be.vx+=Se*ze.value*Le/Ve,be.vy+=Re*ze.value*Le/Ve),!0;if(!(ze.length||Ve>=oe)){(ze.data!==be||ze.next)&&(Se===0&&(Ve+=(Se=o())*Se),Re===0&&(Ve+=(Re=o())*Re),Ve<le&&(Ve=Math.sqrt(le*Ve)));do ze.data!==be&&(Pe=De[ze.data.index]*Le/Ve,be.vx+=Se*Pe,be.vy+=Re*Pe);while(ze=ze.next)}}return Ce.initialize=function(ze){_e=ze,ke()},Ce.strength=function(ze){return arguments.length?(ye=typeof ze=="function"?ze:A(+ze),ke(),Ce):ye},Ce.distanceMin=function(ze){return arguments.length?(le=ze*ze,Ce):Math.sqrt(le)},Ce.distanceMax=function(ze){return arguments.length?(oe=ze*ze,Ce):Math.sqrt(oe)},Ce.theta=function(ze){return arguments.length?(ve=ze*ze,Ce):Math.sqrt(ve)},Ce}function pe(_e,be,Le){var De,ye,le,oe=A(.1);function ve(ke){for(var Ae=0,Ee=De.length;Ae<Ee;++Ae){var ze=De[Ae],Fe=ze.x-be||1e-6,ge=ze.y-Le||1e-6,Te=Math.sqrt(Fe*Fe+ge*ge),Se=(le[Ae]-Te)*ye[Ae]*ke/Te;ze.vx+=Fe*Se,ze.vy+=ge*Se}}function Ce(){if(De){var ke,Ae=De.length;for(ye=new Array(Ae),le=new Array(Ae),ke=0;ke<Ae;++ke)le[ke]=+_e(De[ke],ke,De),ye[ke]=isNaN(le[ke])?0:+oe(De[ke],ke,De)}}return typeof _e!="function"&&(_e=A(+_e)),be==null&&(be=0),Le==null&&(Le=0),ve.initialize=function(ke){De=ke,Ce()},ve.strength=function(ke){return arguments.length?(oe=typeof ke=="function"?ke:A(+ke),Ce(),ve):oe},ve.radius=function(ke){return arguments.length?(_e=typeof ke=="function"?ke:A(+ke),Ce(),ve):_e},ve.x=function(ke){return arguments.length?(be=+ke,ve):be},ve.y=function(ke){return arguments.length?(Le=+ke,ve):Le},ve}function de(_e){var be,Le,De,ye=A(.1);function le(ve){for(var Ce,ke=0,Ae=be.length;ke<Ae;++ke)(Ce=be[ke]).vx+=(De[ke]-Ce.x)*Le[ke]*ve}function oe(){if(be){var ve,Ce=be.length;for(Le=new Array(Ce),De=new Array(Ce),ve=0;ve<Ce;++ve)Le[ve]=isNaN(De[ve]=+_e(be[ve],ve,be))?0:+ye(be[ve],ve,be)}}return typeof _e!="function"&&(_e=A(_e==null?0:+_e)),le.initialize=function(ve){be=ve,oe()},le.strength=function(ve){return arguments.length?(ye=typeof ve=="function"?ve:A(+ve),oe(),le):ye},le.x=function(ve){return arguments.length?(_e=typeof ve=="function"?ve:A(+ve),oe(),le):_e},le}function xe(_e){var be,Le,De,ye=A(.1);function le(ve){for(var Ce,ke=0,Ae=be.length;ke<Ae;++ke)(Ce=be[ke]).vy+=(De[ke]-Ce.y)*Le[ke]*ve}function oe(){if(be){var ve,Ce=be.length;for(Le=new Array(Ce),De=new Array(Ce),ve=0;ve<Ce;++ve)Le[ve]=isNaN(De[ve]=+_e(be[ve],ve,be))?0:+ye(be[ve],ve,be)}}return typeof _e!="function"&&(_e=A(_e==null?0:+_e)),le.initialize=function(ve){be=ve,oe()},le.strength=function(ve){return arguments.length?(ye=typeof ve=="function"?ve:A(+ve),oe(),le):ye},le.y=function(ve){return arguments.length?(_e=typeof ve=="function"?ve:A(+ve),oe(),le):_e},le}},57624:function(U,C,e){function k(u,h){if((c=(u=h?u.toExponential(h-1):u.toExponential()).indexOf("e"))<0)return null;var c,y=u.slice(0,c);return[y.length>1?y[0]+y.slice(2):y,+u.slice(c+1)]}e.d(C,{E9:function(){return r},SO:function(){return l}});var A,o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w(u){if(!(h=o.exec(u)))throw new Error("invalid format: "+u);var h;return new b({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function f(u,h){var c=k(u,h);if(!c)return u+"";var y=c[0],d=c[1];return d<0?"0."+new Array(-d).join("0")+y:y.length>d+1?y.slice(0,d+1)+"."+y.slice(d+1):y+new Array(d-y.length+2).join("0")}w.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,h){return(100*u).toFixed(h)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,h){return u.toExponential(h)},f:function(u,h){return u.toFixed(h)},g:function(u,h){return u.toPrecision(h)},o:function(u){return Math.round(u).toString(8)},p:function(u,h){return f(100*u,h)},r:f,s:function(u,h){var c=k(u,h);if(!c)return u+"";var y=c[0],d=c[1],v=d-(A=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1,g=y.length;return v===g?y:v>g?y+new Array(v-g+1).join("0"):v>0?y.slice(0,v)+"."+y.slice(v):"0."+new Array(1-v).join("0")+k(u,Math.max(0,h+v-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function n(u){return u}var i,r,t=Array.prototype.map,a=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function l(u){var h,c,y=u.grouping===void 0||u.thousands===void 0?n:(h=t.call(u.grouping,Number),c=u.thousands+"",function(T,E){for(var O=T.length,P=[],I=0,R=h[0],H=0;O>0&&R>0&&(H+R+1>E&&(R=Math.max(1,E-H)),P.push(T.substring(O-=R,O+R)),!((H+=R+1)>E));)R=h[I=(I+1)%h.length];return P.reverse().join(c)}),d=u.currency===void 0?"":u.currency[0]+"",v=u.currency===void 0?"":u.currency[1]+"",g=u.decimal===void 0?".":u.decimal+"",x=u.numerals===void 0?n:function(T){return function(E){return E.replace(/[0-9]/g,function(O){return T[+O]})}}(t.call(u.numerals,String)),m=u.percent===void 0?"%":u.percent+"",_=u.minus===void 0?"-":u.minus+"",p=u.nan===void 0?"NaN":u.nan+"";function S(T){var E=(T=w(T)).fill,O=T.align,P=T.sign,I=T.symbol,R=T.zero,H=T.width,z=T.comma,j=T.precision,Z=T.trim,F=T.type;F==="n"?(z=!0,F="g"):s[F]||(j===void 0&&(j=12),Z=!0,F="g"),(R||E==="0"&&O==="=")&&(R=!0,E="0",O="=");var V=I==="$"?d:I==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",W=I==="$"?v:/[%p]/.test(F)?m:"",re=s[F],ne=/[defgprs%]/.test(F);function te(Q){var $,K,ae,ue=V,se=W;if(F==="c")se=re(Q)+se,Q="";else{var he=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?p:re(Math.abs(Q),j),Z&&(Q=function(xe){e:for(var _e,be=xe.length,Le=1,De=-1;Le<be;++Le)switch(xe[Le]){case".":De=_e=Le;break;case"0":De===0&&(De=Le),_e=Le;break;default:if(!+xe[Le])break e;De>0&&(De=0)}return De>0?xe.slice(0,De)+xe.slice(_e+1):xe}(Q)),he&&+Q==0&&P!=="+"&&(he=!1),ue=(he?P==="("?P:_:P==="-"||P==="("?"":P)+ue,se=(F==="s"?a[8+A/3]:"")+se+(he&&P==="("?")":""),ne){for($=-1,K=Q.length;++$<K;)if(48>(ae=Q.charCodeAt($))||ae>57){se=(ae===46?g+Q.slice($+1):Q.slice($))+se,Q=Q.slice(0,$);break}}}z&&!R&&(Q=y(Q,1/0));var pe=ue.length+Q.length+se.length,de=pe<H?new Array(H-pe+1).join(E):"";switch(z&&R&&(Q=y(de+Q,de.length?H-se.length:1/0),de=""),O){case"<":Q=ue+Q+se+de;break;case"=":Q=ue+de+Q+se;break;case"^":Q=de.slice(0,pe=de.length>>1)+ue+Q+se+de.slice(pe);break;default:Q=de+ue+Q+se}return x(Q)}return j=j===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),te.toString=function(){return T+""},te}return{format:S,formatPrefix:function(T,E){var O,P=S(((T=w(T)).type="f",T)),I=3*Math.max(-8,Math.min(8,Math.floor((O=E,((O=k(Math.abs(O)))?O[1]:NaN)/3)))),R=Math.pow(10,-I),H=a[8+I/3];return function(z){return P(R*z)+H}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=i.format,i.formatPrefix},87108:function(U,C,e){e.r(C),e.d(C,{geoAiry:function(){return z},geoAiryRaw:function(){return H},geoAitoff:function(){return Z},geoAitoffRaw:function(){return j},geoArmadillo:function(){return V},geoArmadilloRaw:function(){return F},geoAugust:function(){return re},geoAugustRaw:function(){return W},geoBaker:function(){return $},geoBakerRaw:function(){return Q},geoBerghaus:function(){return ue},geoBerghausRaw:function(){return ae},geoBertin1953:function(){return Le},geoBertin1953Raw:function(){return be},geoBoggs:function(){return Ae},geoBoggsRaw:function(){return ke},geoBonne:function(){return Te},geoBonneRaw:function(){return ge},geoBottomley:function(){return Re},geoBottomleyRaw:function(){return Se},geoBromley:function(){return Ve},geoBromleyRaw:function(){return Pe},geoChamberlin:function(){return nt},geoChamberlinAfrica:function(){return it},geoChamberlinRaw:function(){return _t},geoCollignon:function(){return Rt},geoCollignonRaw:function(){return Et},geoCraig:function(){return Pt},geoCraigRaw:function(){return Ft},geoCraster:function(){return He},geoCrasterRaw:function(){return $e},geoCylindricalEqualArea:function(){return ft},geoCylindricalEqualAreaRaw:function(){return Je},geoCylindricalStereographic:function(){return je},geoCylindricalStereographicRaw:function(){return ot},geoEckert1:function(){return st},geoEckert1Raw:function(){return Ue},geoEckert2:function(){return gt},geoEckert2Raw:function(){return Ke},geoEckert3:function(){return bt},geoEckert3Raw:function(){return yt},geoEckert4:function(){return Lt},geoEckert4Raw:function(){return dt},geoEckert5:function(){return Ct},geoEckert5Raw:function(){return wt},geoEckert6:function(){return Dt},geoEckert6Raw:function(){return zt},geoEisenlohr:function(){return un},geoEisenlohrRaw:function(){return Kt},geoFahey:function(){return Ut},geoFaheyRaw:function(){return Jt},geoFoucaut:function(){return An},geoFoucautRaw:function(){return zn},geoFoucautSinusoidal:function(){return tn},geoFoucautSinusoidalRaw:function(){return mn},geoGilbert:function(){return kn},geoGingery:function(){return Vn},geoGingeryRaw:function(){return Pn},geoGinzburg4:function(){return rr},geoGinzburg4Raw:function(){return Wn},geoGinzburg5:function(){return Jn},geoGinzburg5Raw:function(){return ir},geoGinzburg6:function(){return nn},geoGinzburg6Raw:function(){return dr},geoGinzburg8:function(){return In},geoGinzburg8Raw:function(){return an},geoGinzburg9:function(){return Dn},geoGinzburg9Raw:function(){return yn},geoGringorten:function(){return Qn},geoGringortenQuincuncial:function(){return Oa},geoGringortenRaw:function(){return Hn},geoGuyou:function(){return At},geoGuyouRaw:function(){return xn},geoHammer:function(){return de},geoHammerRaw:function(){return he},geoHammerRetroazimuthal:function(){return gn},geoHammerRetroazimuthalRaw:function(){return en},geoHealpix:function(){return Un},geoHealpixRaw:function(){return sn},geoHill:function(){return tr},geoHillRaw:function(){return qn},geoHomolosine:function(){return kr},geoHomolosineRaw:function(){return gr},geoHufnagel:function(){return ur},geoHufnagelRaw:function(){return yr},geoHyperelliptical:function(){return gi},geoHyperellipticalRaw:function(){return Ur},geoInterrupt:function(){return hi},geoInterruptedBoggs:function(){return Nr},geoInterruptedHomolosine:function(){return Pa},geoInterruptedMollweide:function(){return Xo},geoInterruptedMollweideHemispheres:function(){return Co},geoInterruptedQuarticAuthalic:function(){return Bc},geoInterruptedSinuMollweide:function(){return Po},geoInterruptedSinusoidal:function(){return Vs},geoKavrayskiy7:function(){return no},geoKavrayskiy7Raw:function(){return to},geoLagrange:function(){return Mi},geoLagrangeRaw:function(){return Oo},geoLarrivee:function(){return Io},geoLarriveeRaw:function(){return Jo},geoLaskowski:function(){return ys},geoLaskowskiRaw:function(){return po},geoLittrow:function(){return xs},geoLittrowRaw:function(){return zo},geoLoximuthal:function(){return bs},geoLoximuthalRaw:function(){return $o},geoMiller:function(){return Eu},geoMillerRaw:function(){return Do},geoModifiedStereographic:function(){return Ws},geoModifiedStereographicAlaska:function(){return Dc},geoModifiedStereographicGs48:function(){return Rc},geoModifiedStereographicGs50:function(){return Gs},geoModifiedStereographicLee:function(){return cl},geoModifiedStereographicMiller:function(){return Ro},geoModifiedStereographicRaw:function(){return su},geoMollweide:function(){return oe},geoMollweideRaw:function(){return le},geoMtFlatPolarParabolic:function(){return Lu},geoMtFlatPolarParabolicRaw:function(){return go},geoMtFlatPolarQuartic:function(){return Qo},geoMtFlatPolarQuarticRaw:function(){return _s},geoMtFlatPolarSinusoidal:function(){return ws},geoMtFlatPolarSinusoidalRaw:function(){return es},geoNaturalEarth:function(){return Kr.c},geoNaturalEarth2:function(){return Fc},geoNaturalEarth2Raw:function(){return fl},geoNaturalEarthRaw:function(){return Kr.g},geoNellHammer:function(){return hl},geoNellHammerRaw:function(){return lu},geoNicolosi:function(){return Nc},geoNicolosiRaw:function(){return uu},geoPatterson:function(){return ec},geoPattersonRaw:function(){return fu},geoPeirceQuincuncial:function(){return Qs},geoPierceQuincuncial:function(){return Qs},geoPolyconic:function(){return Xs},geoPolyconicRaw:function(){return dl},geoPolyhedral:function(){return li},geoPolyhedralButterfly:function(){return ml},geoPolyhedralCollignon:function(){return Nl},geoPolyhedralWaterman:function(){return jl},geoProject:function(){return Ul},geoQuantize:function(){return ns},geoQuincuncial:function(){return Ss},geoRectangularPolyconic:function(){return oo},geoRectangularPolyconicRaw:function(){return ao},geoRobinson:function(){return Lr},geoRobinsonRaw:function(){return xo},geoSatellite:function(){return Cu},geoSatelliteRaw:function(){return Vl},geoSinuMollweide:function(){return er},geoSinuMollweideRaw:function(){return ar},geoSinusoidal:function(){return Fe},geoSinusoidalRaw:function(){return ze},geoStitch:function(){return sa},geoTimes:function(){return No},geoTimesRaw:function(){return Ia},geoTwoPointAzimuthal:function(){return Da},geoTwoPointAzimuthalRaw:function(){return xl},geoTwoPointAzimuthalUsa:function(){return bl},geoTwoPointEquidistant:function(){return tl},geoTwoPointEquidistantRaw:function(){return $r},geoTwoPointEquidistantUsa:function(){return jo},geoVanDerGrinten:function(){return _l},geoVanDerGrinten2:function(){return wo},geoVanDerGrinten2Raw:function(){return wl},geoVanDerGrinten3:function(){return nl},geoVanDerGrinten3Raw:function(){return _i},geoVanDerGrinten4:function(){return Fr},geoVanDerGrinten4Raw:function(){return Pr},geoVanDerGrintenRaw:function(){return _o},geoWagner:function(){return Uo},geoWagner4:function(){return tc},geoWagner4Raw:function(){return ui},geoWagner6:function(){return pi},geoWagner6Raw:function(){return Ka},geoWagner7:function(){return as},geoWagnerRaw:function(){return Xa},geoWiechel:function(){return Ua},geoWiechelRaw:function(){return Si},geoWinkel3:function(){return Pu},geoWinkel3Raw:function(){return Os}});var k=e(87952),A=Math.abs,o=Math.atan,w=Math.atan2,b=Math.cos,f=Math.exp,s=Math.floor,n=Math.log,i=Math.max,r=Math.min,t=Math.pow,a=Math.round,l=Math.sign||function(et){return et>0?1:et<0?-1:0},u=Math.sin,h=Math.tan,c=1e-6,y=1e-12,d=Math.PI,v=d/2,g=d/4,x=Math.SQRT1_2,m=P(2),_=P(d),p=2*d,S=180/d,T=d/180;function E(et){return et>1?v:et<-1?-v:Math.asin(et)}function O(et){return et>1?0:et<-1?d:Math.acos(et)}function P(et){return et>0?Math.sqrt(et):0}function I(et){return(f(et)-f(-et))/2}function R(et){return(f(et)+f(-et))/2}function H(et){var rt=h(et/2),ct=2*n(b(et/2))/(rt*rt);function N(Y,G){var L=b(Y),q=b(G),ee=u(G),ie=q*L,fe=-((1-ie?n((1+ie)/2)/(1-ie):-.5)+ct/(1+ie));return[fe*q*u(Y),fe*ee]}return N.invert=function(Y,G){var L,q=P(Y*Y+G*G),ee=-et/2,ie=50;if(!q)return[0,0];do{var fe=ee/2,we=b(fe),Oe=u(fe),Be=Oe/we,Ge=-n(A(we));ee-=L=(2/Be*Ge-ct*Be-q)/(-Ge/(Oe*Oe)+1-ct/(2*we*we))*(we<0?.7:1)}while(A(L)>c&&--ie>0);var Ye=u(ee);return[w(Y*Ye,q*b(ee)),E(G*Ye/q)]},N}function z(){var et=v,rt=(0,k.U)(H),ct=rt(et);return ct.radius=function(N){return arguments.length?rt(et=N*T):et*S},ct.scale(179.976).clipAngle(147)}function j(et,rt){var ct=b(rt),N=function(Y){return Y?Y/Math.sin(Y):1}(O(ct*b(et/=2)));return[2*ct*u(et)*N,u(rt)*N]}function Z(){return(0,k.c)(j).scale(152.63)}function F(et){var rt=u(et),ct=b(et),N=et>=0?1:-1,Y=h(N*et),G=(1+rt-ct)/2;function L(q,ee){var ie=b(ee),fe=b(q/=2);return[(1+ie)*u(q),(N*ee>-w(fe,Y)-.001?0:10*-N)+G+u(ee)*ct-(1+ie)*rt*fe]}return L.invert=function(q,ee){var ie=0,fe=0,we=50;do{var Oe=b(ie),Be=u(ie),Ge=b(fe),Ye=u(fe),at=1+Ge,pt=at*Be-q,vt=G+Ye*ct-at*rt*Oe-ee,kt=at*Oe/2,Ot=-Be*Ye,St=rt*at*Be/2,jt=ct*Ge+rt*Oe*Ye,It=Ot*St-jt*kt,$t=(vt*Ot-pt*jt)/It/2,Zt=(pt*St-vt*kt)/It;A(Zt)>2&&(Zt/=2),ie-=$t,fe-=Zt}while((A($t)>c||A(Zt)>c)&&--we>0);return N*fe>-w(b(ie),Y)-.001?[2*ie,fe]:null},L}function V(){var et=20*T,rt=et>=0?1:-1,ct=h(rt*et),N=(0,k.U)(F),Y=N(et),G=Y.stream;return Y.parallel=function(L){return arguments.length?(ct=h((rt=(et=L*T)>=0?1:-1)*et),N(et)):et*S},Y.stream=function(L){var q=Y.rotate(),ee=G(L),ie=(Y.rotate([0,0]),G(L)),fe=Y.precision();return Y.rotate(q),ee.sphere=function(){ie.polygonStart(),ie.lineStart();for(var we=-180*rt;rt*we<180;we+=90*rt)ie.point(we,90*rt);if(et)for(;rt*(we-=3*rt*fe)>=-180;)ie.point(we,rt*-w(b(we*T/2),ct)*S);ie.lineEnd(),ie.polygonEnd()},ee},Y.scale(218.695).center([0,28.0974])}function W(et,rt){var ct=h(rt/2),N=P(1-ct*ct),Y=1+N*b(et/=2),G=u(et)*N/Y,L=ct/Y,q=G*G,ee=L*L;return[1.3333333333333333*G*(3+q-3*ee),1.3333333333333333*L*(3+3*q-ee)]}function re(){return(0,k.c)(W).scale(66.1603)}j.invert=function(et,rt){if(!(et*et+4*rt*rt>d*d+c)){var ct=et,N=rt,Y=25;do{var G,L=u(ct),q=u(ct/2),ee=b(ct/2),ie=u(N),fe=b(N),we=u(2*N),Oe=ie*ie,Be=fe*fe,Ge=q*q,Ye=1-Be*ee*ee,at=Ye?O(fe*ee)*P(G=1/Ye):G=0,pt=2*at*fe*q-et,vt=at*ie-rt,kt=G*(Be*Ge+at*fe*ee*Oe),Ot=G*(.5*L*we-2*at*ie*q),St=.25*G*(we*q-at*ie*Be*L),jt=G*(Oe*ee+at*Ge*fe),It=Ot*St-jt*kt;if(!It)break;var $t=(vt*Ot-pt*jt)/It,Zt=(pt*St-vt*kt)/It;ct-=$t,N-=Zt}while((A($t)>c||A(Zt)>c)&&--Y>0);return[ct,N]}},W.invert=function(et,rt){if(rt*=.375,!(et*=.375)&&A(rt)>1)return null;var ct=1+et*et+rt*rt,N=P((ct-P(ct*ct-4*rt*rt))/2),Y=E(N)/3,G=N?function(ie){return n(ie+P(ie*ie-1))}(A(rt/N))/3:function(ie){return n(ie+P(ie*ie+1))}(A(et))/3,L=b(Y),q=R(G),ee=q*q-L*L;return[2*l(et)*w(I(G)*L,.25-ee),2*l(rt)*w(q*u(Y),.25+ee)]};var ne=P(8),te=n(1+m);function Q(et,rt){var ct=A(rt);return ct<g?[et,n(h(g+rt/2))]:[et*b(ct)*(2*m-1/u(ct)),l(rt)*(2*m*(ct-g)-n(h(ct/2)))]}function $(){return(0,k.c)(Q).scale(112.314)}Q.invert=function(et,rt){if((N=A(rt))<te)return[et,2*o(f(rt))-v];var ct,N,Y=g,G=25;do{var L=b(Y/2),q=h(Y/2);Y-=ct=(ne*(Y-g)-n(q)-N)/(ne-L*L/(2*q))}while(A(ct)>y&&--G>0);return[et/(b(Y)*(ne-1/u(Y))),l(rt)*Y]};var K=e(69020);function ae(et){var rt=2*d/et;function ct(N,Y){var G=(0,K.O)(N,Y);if(A(N)>v){var L=w(G[1],G[0]),q=P(G[0]*G[0]+G[1]*G[1]),ee=rt*a((L-v)/rt)+v,ie=w(u(L-=ee),2-b(L));L=ee+E(d/q*u(ie))-ie,G[0]=q*b(L),G[1]=q*u(L)}return G}return ct.invert=function(N,Y){var G=P(N*N+Y*Y);if(G>v){var L=w(Y,N),q=rt*a((L-v)/rt)+v,ee=L>q?-1:1,ie=G*b(q-L),fe=1/h(ee*O((ie-d)/P(d*(d-2*ie)+G*G)));L=q+2*o((fe+ee*P(fe*fe-3))/3),N=G*b(L),Y=G*u(L)}return K.O.invert(N,Y)},ct}function ue(){var et=5,rt=(0,k.U)(ae),ct=rt(et),N=ct.stream,Y=.01,G=-b(Y*T),L=u(Y*T);return ct.lobes=function(q){return arguments.length?rt(et=+q):et},ct.stream=function(q){var ee=ct.rotate(),ie=N(q),fe=(ct.rotate([0,0]),N(q));return ct.rotate(ee),ie.sphere=function(){fe.polygonStart(),fe.lineStart();for(var we=0,Oe=360/et,Be=2*d/et,Ge=90-180/et,Ye=v;we<et;++we,Ge-=Oe,Ye-=Be)fe.point(w(L*b(Ye),G)*S,E(L*u(Ye))*S),Ge<-90?(fe.point(-90,-180-Ge-Y),fe.point(-90,-180-Ge+Y)):(fe.point(90,Ge+Y),fe.point(90,Ge-Y));fe.lineEnd(),fe.polygonEnd()},ie},ct.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function he(et,rt){if(arguments.length<2&&(rt=et),rt===1)return se.y;if(rt===1/0)return pe;function ct(N,Y){var G=(0,se.y)(N/rt,Y);return G[0]*=et,G}return ct.invert=function(N,Y){var G=se.y.invert(N/et,Y);return G[0]*=rt,G},ct}function pe(et,rt){return[et*b(rt)/b(rt/=2),2*u(rt)]}function de(){var et=2,rt=(0,k.U)(he),ct=rt(et);return ct.coefficient=function(N){return arguments.length?rt(et=+N):et},ct.scale(169.529)}function xe(et,rt,ct){var N,Y,G,L=100;ct=ct===void 0?0:+ct,rt=+rt;do(Y=et(ct))===(G=et(ct+c))&&(G=Y+c),ct-=N=-1*c*(Y-rt)/(Y-G);while(L-- >0&&A(N)>c);return L<0?NaN:ct}function _e(et,rt,ct){return rt===void 0&&(rt=40),ct===void 0&&(ct=y),function(N,Y,G,L){var q,ee,ie;G=G===void 0?0:+G,L=L===void 0?0:+L;for(var fe=0;fe<rt;fe++){var we=et(G,L),Oe=we[0]-N,Be=we[1]-Y;if(A(Oe)<ct&&A(Be)<ct)break;var Ge=Oe*Oe+Be*Be;if(Ge>q)G-=ee/=2,L-=ie/=2;else{q=Ge;var Ye=(G>0?-1:1)*ct,at=(L>0?-1:1)*ct,pt=et(G+Ye,L),vt=et(G,L+at),kt=(pt[0]-we[0])/Ye,Ot=(pt[1]-we[1])/Ye,St=(vt[0]-we[0])/at,jt=(vt[1]-we[1])/at,It=jt*kt-Ot*St,$t=(A(It)<.5?.5:1)/It;if(G+=ee=(Be*St-Oe*jt)*$t,L+=ie=(Oe*Ot-Be*kt)*$t,A(ee)<ct&&A(ie)<ct)break}}return[G,L]}}function be(){var et=he(1.68,2);function rt(ct,N){if(ct+N<-1.4){var Y=(ct-N+1.6)*(ct+N+1.4)/8;ct+=Y,N-=.8*Y*u(N+d/2)}var G=et(ct,N),L=(1-b(ct*N))/12;return G[1]<0&&(G[0]*=1+L),G[1]>0&&(G[1]*=1+L/1.5*G[0]*G[0]),G}return rt.invert=_e(rt),rt}function Le(){return(0,k.c)(be()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function De(et,rt){var ct,N=et*u(rt),Y=30;do rt-=ct=(rt+u(rt)-N)/(1+b(rt));while(A(ct)>c&&--Y>0);return rt/2}function ye(et,rt,ct){function N(Y,G){return[et*Y*b(G=De(ct,G)),rt*u(G)]}return N.invert=function(Y,G){return G=E(G/rt),[Y/(et*b(G)),E((2*G+u(2*G))/ct)]},N}pe.invert=function(et,rt){var ct=2*E(rt/2);return[et*b(ct/2)/b(ct),ct]};var le=ye(m/v,m,d);function oe(){return(0,k.c)(le).scale(169.529)}var ve=2.00276,Ce=1.11072;function ke(et,rt){var ct=De(d,rt);return[ve*et/(1/b(rt)+Ce/b(ct)),(rt+m*u(ct))/ve]}function Ae(){return(0,k.c)(ke).scale(160.857)}function Ee(et){var rt=0,ct=(0,k.U)(et),N=ct(rt);return N.parallel=function(Y){return arguments.length?ct(rt=Y*T):rt*S},N}function ze(et,rt){return[et*b(rt),rt]}function Fe(){return(0,k.c)(ze).scale(152.63)}function ge(et){if(!et)return ze;var rt=1/h(et);function ct(N,Y){var G=rt+et-Y,L=G&&N*b(Y)/G;return[G*u(L),rt-G*b(L)]}return ct.invert=function(N,Y){var G=P(N*N+(Y=rt-Y)*Y),L=rt+et-G;return[G/b(L)*w(N,Y),L]},ct}function Te(){return Ee(ge).scale(123.082).center([0,26.1441]).parallel(45)}function Se(et){function rt(ct,N){var Y=v-N,G=Y&&ct*et*u(Y)/Y;return[Y*u(G)/et,v-Y*b(G)]}return rt.invert=function(ct,N){var Y=ct*et,G=v-N,L=P(Y*Y+G*G),q=w(Y,G);return[(L?L/u(L):1)*q/et,v-L]},rt}function Re(){var et=.5,rt=(0,k.U)(Se),ct=rt(et);return ct.fraction=function(N){return arguments.length?rt(et=+N):et},ct.scale(158.837)}ke.invert=function(et,rt){var ct,N,Y=ve*rt,G=rt<0?-g:g,L=25;do N=Y-m*u(G),G-=ct=(u(2*G)+2*G-d*u(N))/(2*b(2*G)+2+d*b(N)*m*b(G));while(A(ct)>c&&--L>0);return N=Y-m*u(G),[et*(1/b(N)+Ce/b(G))/ve,N]},ze.invert=function(et,rt){return[et/b(rt),rt]};var Pe=ye(1,4/d,d);function Ve(){return(0,k.c)(Pe).scale(152.63)}var We=e(24052),Qe=e(92992);function lt(et,rt,ct,N,Y,G){var L,q=b(G);if(A(et)>1||A(G)>1)L=O(ct*Y+rt*N*q);else{var ee=u(et/2),ie=u(G/2);L=2*E(P(ee*ee+rt*N*ie*ie))}return A(L)>c?[L,w(N*u(G),rt*Y-ct*N*q)]:[0,0]}function ut(et,rt,ct){return O((et*et+rt*rt-ct*ct)/(2*et*rt))}function xt(et){return et-2*d*s((et+d)/(2*d))}function _t(et,rt,ct){for(var N,Y=[[et[0],et[1],u(et[1]),b(et[1])],[rt[0],rt[1],u(rt[1]),b(rt[1])],[ct[0],ct[1],u(ct[1]),b(ct[1])]],G=Y[2],L=0;L<3;++L,G=N)N=Y[L],G.v=lt(N[1]-G[1],G[3],G[2],N[3],N[2],N[0]-G[0]),G.point=[0,0];var q=ut(Y[0].v[0],Y[2].v[0],Y[1].v[0]),ee=ut(Y[0].v[0],Y[1].v[0],Y[2].v[0]),ie=d-q;Y[2].point[1]=0,Y[0].point[0]=-(Y[1].point[0]=Y[0].v[0]/2);var fe=[Y[2].point[0]=Y[0].point[0]+Y[2].v[0]*b(q),2*(Y[0].point[1]=Y[1].point[1]=Y[2].v[0]*u(q))];return function(we,Oe){var Be,Ge=u(Oe),Ye=b(Oe),at=new Array(3);for(Be=0;Be<3;++Be){var pt=Y[Be];if(at[Be]=lt(Oe-pt[1],pt[3],pt[2],Ye,Ge,we-pt[0]),!at[Be][0])return pt.point;at[Be][1]=xt(at[Be][1]-pt.v[1])}var vt=fe.slice();for(Be=0;Be<3;++Be){var kt=Be==2?0:Be+1,Ot=ut(Y[Be].v[0],at[Be][0],at[kt][0]);at[Be][1]<0&&(Ot=-Ot),Be?Be==1?(Ot=ee-Ot,vt[0]-=at[Be][0]*b(Ot),vt[1]-=at[Be][0]*u(Ot)):(Ot=ie-Ot,vt[0]+=at[Be][0]*b(Ot),vt[1]+=at[Be][0]*u(Ot)):(vt[0]+=at[Be][0]*b(Ot),vt[1]-=at[Be][0]*u(Ot))}return vt[0]/=3,vt[1]/=3,vt}}function mt(et){return et[0]*=T,et[1]*=T,et}function it(){return nt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function nt(et,rt,ct){var N=(0,We.c)({type:"MultiPoint",coordinates:[et,rt,ct]}),Y=[-N[0],-N[1]],G=(0,Qe.c)(Y),L=_t(mt(G(et)),mt(G(rt)),mt(G(ct)));L.invert=_e(L);var q=(0,k.c)(L).rotate(Y),ee=q.center;return delete q.rotate,q.center=function(ie){return arguments.length?ee(G(ie)):G.invert(ee())},q.clipAngle(90)}function Et(et,rt){var ct=P(1-u(rt));return[2/_*et*ct,_*(1-ct)]}function Rt(){return(0,k.c)(Et).scale(95.6464).center([0,30])}function Ft(et){var rt=h(et);function ct(N,Y){return[N,(N?N/u(N):1)*(u(Y)*b(N)-rt*b(Y))]}return ct.invert=rt?function(N,Y){N&&(Y*=u(N)/N);var G=b(N);return[N,2*w(P(G*G+rt*rt-Y*Y)-G,rt-Y)]}:function(N,Y){return[N,E(N?Y*h(N)/N:Y)]},ct}function Pt(){return Ee(Ft).scale(249.828).clipAngle(90)}Et.invert=function(et,rt){var ct=(ct=rt/_-1)*ct;return[ct>0?et*P(d/ct)/2:0,E(1-ct)]};var Ze=P(3);function $e(et,rt){return[Ze*et*(2*b(2*rt/3)-1)/_,Ze*_*u(rt/3)]}function He(){return(0,k.c)($e).scale(156.19)}function Je(et){var rt=b(et);function ct(N,Y){return[N*rt,u(Y)/rt]}return ct.invert=function(N,Y){return[N/rt,E(Y*rt)]},ct}function ft(){return Ee(Je).parallel(38.58).scale(195.044)}function ot(et){var rt=b(et);function ct(N,Y){return[N*rt,(1+rt)*h(Y/2)]}return ct.invert=function(N,Y){return[N/rt,2*o(Y/(1+rt))]},ct}function je(){return Ee(ot).scale(124.75)}function Ue(et,rt){var ct=P(8/(3*d));return[ct*et*(1-A(rt)/d),ct*rt]}function st(){return(0,k.c)(Ue).scale(165.664)}function Ke(et,rt){var ct=P(4-3*u(A(rt)));return[2/P(6*d)*et*ct,l(rt)*P(2*d/3)*(2-ct)]}function gt(){return(0,k.c)(Ke).scale(165.664)}function yt(et,rt){var ct=P(d*(4+d));return[2/ct*et*(1+P(1-4*rt*rt/(d*d))),4/ct*rt]}function bt(){return(0,k.c)(yt).scale(180.739)}function dt(et,rt){var ct=(2+v)*u(rt);rt/=2;for(var N=0,Y=1/0;N<10&&A(Y)>c;N++){var G=b(rt);rt-=Y=(rt+u(rt)*(G+2)-ct)/(2*G*(1+G))}return[2/P(d*(4+d))*et*(1+b(rt)),2*P(d/(4+d))*u(rt)]}function Lt(){return(0,k.c)(dt).scale(180.739)}function wt(et,rt){return[et*(1+b(rt))/P(2+d),2*rt/P(2+d)]}function Ct(){return(0,k.c)(wt).scale(173.044)}function zt(et,rt){for(var ct=(1+v)*u(rt),N=0,Y=1/0;N<10&&A(Y)>c;N++)rt-=Y=(rt+u(rt)-ct)/(1+b(rt));return ct=P(2+d),[et*(1+b(rt))/ct,2*rt/ct]}function Dt(){return(0,k.c)(zt).scale(173.044)}$e.invert=function(et,rt){var ct=3*E(rt/(Ze*_));return[_*et/(Ze*(2*b(2*ct/3)-1)),ct]},Ue.invert=function(et,rt){var ct=P(8/(3*d)),N=rt/ct;return[et/(ct*(1-A(N)/d)),N]},Ke.invert=function(et,rt){var ct=2-A(rt)/P(2*d/3);return[et*P(6*d)/(2*ct),l(rt)*E((4-ct*ct)/3)]},yt.invert=function(et,rt){var ct=P(d*(4+d))/2;return[et*ct/(1+P(1-rt*rt*(4+d)/(4*d))),rt*ct/2]},dt.invert=function(et,rt){var ct=rt*P((4+d)/d)/2,N=E(ct),Y=b(N);return[et/(2/P(d*(4+d))*(1+Y)),E((N+ct*(Y+2))/(2+v))]},wt.invert=function(et,rt){var ct=P(2+d),N=rt*ct/2;return[ct*et/(1+b(N)),N]},zt.invert=function(et,rt){var ct=1+v,N=P(ct/2);return[2*et*N/(1+b(rt*=N)),E((rt+u(rt))/ct)]};var Nt=3+2*m;function Kt(et,rt){var ct=u(et/=2),N=b(et),Y=P(b(rt)),G=b(rt/=2),L=u(rt)/(G+m*N*Y),q=P(2/(1+L*L)),ee=P((m*G+(N+ct)*Y)/(m*G+(N-ct)*Y));return[Nt*(q*(ee-1/ee)-2*n(ee)),Nt*(q*L*(ee+1/ee)-2*o(L))]}function un(){return(0,k.c)(Kt).scale(62.5271)}Kt.invert=function(et,rt){if(!(ct=W.invert(et/1.2,1.065*rt)))return null;var ct,N=ct[0],Y=ct[1],G=20;et/=Nt,rt/=Nt;do{var L=N/2,q=Y/2,ee=u(L),ie=b(L),fe=u(q),we=b(q),Oe=b(Y),Be=P(Oe),Ge=fe/(we+m*ie*Be),Ye=Ge*Ge,at=P(2/(1+Ye)),pt=(m*we+(ie+ee)*Be)/(m*we+(ie-ee)*Be),vt=P(pt),kt=vt-1/vt,Ot=vt+1/vt,St=at*kt-2*n(vt)-et,jt=at*Ge*Ot-2*o(Ge)-rt,It=fe&&x*Be*ee*Ye/fe,$t=(m*ie*we+Be)/(2*(we+m*ie*Be)*(we+m*ie*Be)*Be),Zt=-.5*Ge*at*at*at,Ht=Zt*It,vn=Zt*$t,bn=(bn=2*we+m*Be*(ie-ee))*bn*vt,Ln=(m*ie*we*Be+Oe)/bn,Rn=-m*ee*fe/(Be*bn),Gn=kt*Ht-2*Ln/vt+at*(Ln+Ln/pt),or=kt*vn-2*Rn/vt+at*(Rn+Rn/pt),hr=Ge*Ot*Ht-2*It/(1+Ye)+at*Ot*It+at*Ge*(Ln-Ln/pt),Kn=Ge*Ot*vn-2*$t/(1+Ye)+at*Ot*$t+at*Ge*(Rn-Rn/pt),fr=or*hr-Kn*Gn;if(!fr)break;var wr=(jt*or-St*Kn)/fr,Or=(St*hr-jt*Gn)/fr;N-=wr,Y=i(-v,r(v,Y-Or))}while((A(wr)>c||A(Or)>c)&&--G>0);return A(A(Y)-v)<c?[0,Y]:G&&[N,Y]};var qt=b(35*T);function Jt(et,rt){var ct=h(rt/2);return[et*qt*P(1-ct*ct),(1+qt)*ct]}function Ut(){return(0,k.c)(Jt).scale(137.152)}function zn(et,rt){var ct=rt/2,N=b(ct);return[2*et/_*b(rt)*N*N,_*h(ct)]}function An(){return(0,k.c)(zn).scale(135.264)}function mn(et){var rt=1-et,ct=Y(d,0)[0]-Y(-d,0)[0],N=P(2*(Y(0,v)[1]-Y(0,-v)[1])/ct);function Y(q,ee){var ie=b(ee),fe=u(ee);return[ie/(rt+et*ie)*q,rt*ee+et*fe]}function G(q,ee){var ie=Y(q,ee);return[ie[0]*N,ie[1]/N]}function L(q){return G(0,q)[1]}return G.invert=function(q,ee){var ie=xe(L,ee);return[q/N*(et+rt/b(ie)),ie]},G}function tn(){var et=.5,rt=(0,k.U)(mn),ct=rt(et);return ct.alpha=function(N){return arguments.length?rt(et=+N):et},ct.scale(168.725)}Jt.invert=function(et,rt){var ct=rt/(1+qt);return[et&&et/(qt*P(1-ct*ct)),2*o(ct)]},zn.invert=function(et,rt){var ct=o(rt/_),N=b(ct),Y=2*ct;return[et*_/2/(b(Y)*N*N),Y]};var fn=e(4888),rn=e(69604);function pn(et){return[et[0]/2,E(h(et[1]/2*T))*S]}function wn(et){return[2*et[0],2*o(u(et[1]*T))*S]}function kn(et){et==null&&(et=fn.c);var rt=et(),ct=(0,rn.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function N(G){return rt(pn(G))}function Y(G){N[G]=function(){return arguments.length?(rt[G].apply(rt,arguments),N):rt[G]()}}return rt.invert&&(N.invert=function(G){return wn(rt.invert(G))}),N.stream=function(G){var L=rt.stream(G),q=ct.stream({point:function(ee,ie){L.point(ee/2,E(h(-ie/2*T))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return q.sphere=L.sphere,q},N.rotate=function(G){return arguments.length?(ct.rotate(G),N):ct.rotate()},N.center=function(G){return arguments.length?(rt.center(pn(G)),N):wn(rt.center())},Y("angle"),Y("clipAngle"),Y("clipExtent"),Y("fitExtent"),Y("fitHeight"),Y("fitSize"),Y("fitWidth"),Y("scale"),Y("translate"),Y("precision"),N.scale(249.5)}function Pn(et,rt){var ct=2*d/rt,N=et*et;function Y(G,L){var q=(0,K.O)(G,L),ee=q[0],ie=q[1],fe=ee*ee+ie*ie;if(fe>N){var we=P(fe),Oe=w(ie,ee),Be=ct*a(Oe/ct),Ge=Oe-Be,Ye=et*b(Ge),at=(et*u(Ge)-Ge*u(Ye))/(v-Ye),pt=On(Ge,at),vt=(d-et)/En(pt,Ye,d);ee=we;var kt,Ot=50;do ee-=kt=(et+En(pt,Ye,ee)*vt-we)/(pt(ee)*vt);while(A(kt)>c&&--Ot>0);ie=Ge*u(ee),ee<v&&(ie-=at*(ee-v));var St=u(Be),jt=b(Be);q[0]=ee*jt-ie*St,q[1]=ee*St+ie*jt}return q}return Y.invert=function(G,L){var q=G*G+L*L;if(q>N){var ee=P(q),ie=w(L,G),fe=ct*a(ie/ct),we=ie-fe;G=ee*b(we),L=ee*u(we);for(var Oe=G-v,Be=u(G),Ge=L/Be,Ye=G<v?1/0:0,at=10;;){var pt=et*u(Ge),vt=et*b(Ge),kt=u(vt),Ot=v-vt,St=(pt-Ge*kt)/Ot,jt=On(Ge,St);if(A(Ye)<y||!--at)break;Ge-=Ye=(Ge*Be-St*Oe-L)/(Be-2*Oe*(Ot*(vt+Ge*pt*b(vt)-kt)-pt*(pt-Ge*kt))/(Ot*Ot))}G=(ee=et+En(jt,vt,G)*(d-et)/En(jt,vt,d))*b(ie=fe+Ge),L=ee*u(ie)}return K.O.invert(G,L)},Y}function On(et,rt){return function(ct){var N=et*b(ct);return ct<v&&(N-=rt),P(1+N*N)}}function En(et,rt,ct){for(var N=(ct-rt)/50,Y=et(rt)+et(ct),G=1,L=rt;G<50;++G)Y+=2*et(L+=N);return .5*Y*N}function Vn(){var et=6,rt=30*T,ct=b(rt),N=u(rt),Y=(0,k.U)(Pn),G=Y(rt,et),L=G.stream,q=-b(.01*T),ee=u(.01*T);return G.radius=function(ie){return arguments.length?(ct=b(rt=ie*T),N=u(rt),Y(rt,et)):rt*S},G.lobes=function(ie){return arguments.length?Y(rt,et=+ie):et},G.stream=function(ie){var fe=G.rotate(),we=L(ie),Oe=(G.rotate([0,0]),L(ie));return G.rotate(fe),we.sphere=function(){Oe.polygonStart(),Oe.lineStart();for(var Be=0,Ge=2*d/et,Ye=0;Be<et;++Be,Ye-=Ge)Oe.point(w(ee*b(Ye),q)*S,E(ee*u(Ye))*S),Oe.point(w(N*b(Ye-Ge/2),ct)*S,E(N*u(Ye-Ge/2))*S);Oe.lineEnd(),Oe.polygonEnd()},we},G.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Fn(et,rt,ct,N,Y,G,L,q){function ee(ie,fe){if(!fe)return[et*ie/d,0];var we=fe*fe,Oe=et+we*(rt+we*(ct+we*N)),Be=fe*(Y-1+we*(G-q+we*L)),Ge=(Oe*Oe+Be*Be)/(2*Be),Ye=ie*E(Oe/Ge)/d;return[Ge*u(Ye),fe*(1+we*q)+Ge*(1-b(Ye))]}return arguments.length<8&&(q=0),ee.invert=function(ie,fe){var we,Oe,Be=d*ie/et,Ge=fe,Ye=50;do{var at=Ge*Ge,pt=et+at*(rt+at*(ct+at*N)),vt=Ge*(Y-1+at*(G-q+at*L)),kt=pt*pt+vt*vt,Ot=2*vt,St=kt/Ot,jt=St*St,It=E(pt/St)/d,$t=Be*It,Zt=pt*pt,Ht=(2*rt+at*(4*ct+6*at*N))*Ge,vn=Y+at*(3*G+5*at*L),bn=(2*(pt*Ht+vt*(vn-1))*Ot-kt*(2*(vn-1)))/(Ot*Ot),Ln=b($t),Rn=u($t),Gn=St*Ln,or=St*Rn,hr=Be/d*(1/P(1-Zt/jt))*(Ht*St-pt*bn)/jt,Kn=or-ie,fr=Ge*(1+at*q)+St-Gn-fe,wr=bn*Rn+Gn*hr,Or=Gn*It,nr=1+bn-(bn*Ln-or*hr),cr=or*It,Sr=wr*cr-nr*Or;if(!Sr)break;Be-=we=(fr*wr-Kn*nr)/Sr,Ge-=Oe=(Kn*cr-fr*Or)/Sr}while((A(we)>c||A(Oe)>c)&&--Ye>0);return[Be,Ge]},ee}var Wn=Fn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function rr(){return(0,k.c)(Wn).scale(149.995)}var ir=Fn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Jn(){return(0,k.c)(ir).scale(153.93)}var dr=Fn(5/6*d,-.62636,-.0344,0,1.3493,-.05524,0,.045);function nn(){return(0,k.c)(dr).scale(130.945)}function an(et,rt){var ct=et*et,N=rt*rt;return[et*(1-.162388*N)*(.87-952426e-9*ct*ct),rt*(1+N/12)]}function In(){return(0,k.c)(an).scale(131.747)}an.invert=function(et,rt){var ct,N=et,Y=rt,G=50;do{var L=Y*Y;Y-=ct=(Y*(1+L/12)-rt)/(1+L/4)}while(A(ct)>c&&--G>0);G=50,et/=1-.162388*L;do{var q=(q=N*N)*q;N-=ct=(N*(.87-952426e-9*q)-et)/(.87-.00476213*q)}while(A(ct)>c&&--G>0);return[N,Y]};var yn=Fn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Dn(){return(0,k.c)(yn).scale(131.087)}function Zn(et){var rt=et(v,0)[0]-et(-v,0)[0];function ct(N,Y){var G=N>0?-.5:.5,L=et(N+G*d,Y);return L[0]-=G*rt,L}return et.invert&&(ct.invert=function(N,Y){var G=N>0?-.5:.5,L=et.invert(N+G*rt,Y),q=L[0]-G*d;return q<-d?q+=2*d:q>d&&(q-=2*d),L[0]=q,L}),ct}function Hn(et,rt){var ct=l(et),N=l(rt),Y=b(rt),G=b(et)*Y,L=u(et)*Y,q=u(N*rt);et=A(w(L,q)),rt=E(G),A(et-v)>c&&(et%=v);var ee=function(ie,fe){if(fe===v)return[0,0];var we,Oe,Be=u(fe),Ge=Be*Be,Ye=Ge*Ge,at=1+Ye,pt=1+3*Ye,vt=1-Ye,kt=E(1/P(at)),Ot=vt+Ge*at*kt,St=(1-Be)/Ot,jt=P(St),It=St*at,$t=P(It),Zt=jt*vt;if(ie===0)return[0,-(Zt+Ge*$t)];var Ht,vn=b(fe),bn=1/vn,Ln=2*Be*vn,Rn=(-Ot*vn-(1-Be)*((-3*Ge+kt*pt)*Ln))/(Ot*Ot),Gn=-bn*Ln,or=-bn*(Ge*at*Rn+St*pt*Ln),hr=-2*bn*(vt*(.5*Rn/jt)-2*Ge*jt*Ln),Kn=4*ie/d;if(ie>.222*d||fe<d/4&&ie>.175*d){if(we=(Zt+Ge*P(It*(1+Ye)-Zt*Zt))/(1+Ye),ie>d/4)return[we,we];var fr=we,wr=.5*we;we=.5*(wr+fr),Oe=50;do{var Or=we*(hr+Gn*P(It-we*we))+or*E(we/$t)-Kn;if(!Or)break;Or<0?wr=we:fr=we,we=.5*(wr+fr)}while(A(fr-wr)>c&&--Oe>0)}else{we=c,Oe=25;do{var nr=we*we,cr=P(It-nr),Sr=hr+Gn*cr,pr=we*Sr+or*E(we/$t)-Kn;we-=Ht=cr?pr/(Sr+(or-Gn*nr)/cr):0}while(A(Ht)>c&&--Oe>0)}return[we,-Zt-Ge*P(It-we*we)]}(et>d/4?v-et:et,rt);return et>d/4&&(q=ee[0],ee[0]=-ee[1],ee[1]=-q),ee[0]*=ct,ee[1]*=-N,ee}function Qn(){return(0,k.c)(Zn(Hn)).scale(239.75)}function mr(et,rt){var ct,N,Y,G,L,q;if(rt<c)return[(G=u(et))-(ct=rt*(et-G*(N=b(et)))/4)*N,N+ct*G,1-rt*G*G/2,et-ct];if(rt>=1-c)return ct=(1-rt)/4,Y=1/(N=R(et)),[(G=((q=f(2*(q=et)))-1)/(q+1))+ct*((L=N*I(et))-et)/(N*N),Y-ct*G*Y*(L-et),Y+ct*G*Y*(L+et),2*o(f(et))-v+ct*(L-et)/N];var ee=[1,0,0,0,0,0,0,0,0],ie=[P(rt),0,0,0,0,0,0,0,0],fe=0;for(N=P(1-rt),L=1;A(ie[fe]/ee[fe])>c&&fe<8;)ct=ee[fe++],ie[fe]=(ct-N)/2,ee[fe]=(ct+N)/2,N=P(ct*N),L*=2;Y=L*ee[fe]*et;do Y=(E(G=ie[fe]*u(N=Y)/ee[fe])+Y)/2;while(--fe);return[u(Y),G=b(Y),G/b(Y-N),Y]}function Qt(et,rt){if(!rt)return et;if(rt===1)return n(h(et/2+g));for(var ct=1,N=P(1-rt),Y=P(rt),G=0;A(Y)>c;G++){if(et%d){var L=o(N*h(et)/ct);L<0&&(L+=d),et+=L+~~(et/d)*d}else et+=et;Y=(ct+N)/2,N=P(ct*N),Y=((ct=Y)-N)/2}return et/(t(2,G)*ct)}function xn(et,rt){var ct=(m-1)/(m+1),N=P(1-ct*ct),Y=Qt(v,N*N),G=n(h(d/4+A(rt)/2)),L=f(-1*G)/P(ct),q=function(ie,fe){var we=ie*ie,Oe=fe+1,Be=1-we-fe*fe;return[.5*((ie>=0?v:-v)-w(Be,2*ie)),-.25*n(Be*Be+4*we)+.5*n(Oe*Oe+we)]}(L*b(-1*et),L*u(-1*et)),ee=function(ie,fe,we){var Oe=A(ie),Be=I(A(fe));if(Oe){var Ge=1/u(Oe),Ye=1/(h(Oe)*h(Oe)),at=-(Ye+we*(Be*Be*Ge*Ge)-1+we),pt=(-at+P(at*at-(we-1)*Ye*4))/2;return[Qt(o(1/P(pt)),we)*l(ie),Qt(o(P((pt/Ye-1)/we)),1-we)*l(fe)]}return[0,Qt(o(Be),1-we)*l(fe)]}(q[0],q[1],N*N);return[-ee[1],(rt>=0?1:-1)*(.5*Y-ee[0])]}function At(){return(0,k.c)(Zn(xn)).scale(151.496)}Hn.invert=function(et,rt){A(et)>1&&(et=2*l(et)-et),A(rt)>1&&(rt=2*l(rt)-rt);var ct=l(et),N=l(rt),Y=-ct*et,G=-N*rt,L=G/Y<1,q=function(we,Oe){for(var Be=0,Ge=1,Ye=.5,at=50;;){var pt=Ye*Ye,vt=P(Ye),kt=E(1/P(1+pt)),Ot=1-pt+Ye*(1+pt)*kt,St=(1-vt)/Ot,jt=P(St),It=St*(1+pt),$t=jt*(1-pt),Zt=P(It-we*we),Ht=Oe+$t+Ye*Zt;if(A(Ge-Be)<y||--at==0||Ht===0)break;Ht>0?Be=Ye:Ge=Ye,Ye=.5*(Be+Ge)}if(!at)return null;var vn=E(vt),bn=b(vn),Ln=1/bn,Rn=2*vt*bn,Gn=(-Ot*bn-(-3*Ye+kt*(1+3*pt))*Rn*(1-vt))/(Ot*Ot);return[d/4*(we*(-2*Ln*((1-pt)*(.5*Gn/jt)-2*Ye*jt*Rn)+-Ln*Rn*Zt)+-Ln*(Ye*(1+pt)*Gn+St*(1+3*pt)*Rn)*E(we/P(It))),vn]}(L?G:Y,L?Y:G),ee=q[0],ie=q[1],fe=b(ie);return L&&(ee=-v-ee),[ct*(w(u(ee)*fe,-u(ie))+d),N*E(b(ee)*fe)]},xn.invert=function(et,rt){var ct,N,Y,G,L,q,ee=(m-1)/(m+1),ie=P(1-ee*ee),fe=(N=-et,Y=ie*ie,(ct=.5*Qt(v,ie*ie)-rt)?(G=mr(ct,Y),N?(q=(L=mr(N,1-Y))[1]*L[1]+Y*G[0]*G[0]*L[0]*L[0],[[G[0]*L[2]/q,G[1]*G[2]*L[0]*L[1]/q],[G[1]*L[1]/q,-G[0]*G[2]*L[0]*L[2]/q],[G[2]*L[1]*L[2]/q,-Y*G[0]*G[1]*L[0]/q]]):[[G[0],0],[G[1],0],[G[2],0]]):[[0,(L=mr(N,1-Y))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),we=function(Oe,Be){var Ge=Be[0]*Be[0]+Be[1]*Be[1];return[(Oe[0]*Be[0]+Oe[1]*Be[1])/Ge,(Oe[1]*Be[0]-Oe[0]*Be[1])/Ge]}(fe[0],fe[1]);return[w(we[1],we[0])/-1,2*o(f(-.5*n(ee*we[0]*we[0]+ee*we[1]*we[1])))-v]};var Wt=e(61780);function en(et){var rt=u(et),ct=b(et),N=dn(et);function Y(G,L){var q=N(G,L);G=q[0],L=q[1];var ee=u(L),ie=b(L),fe=b(G),we=O(rt*ee+ct*ie*fe),Oe=u(we),Be=A(Oe)>c?we/Oe:1;return[Be*ct*u(G),(A(G)>v?Be:-Be)*(rt*ie-ct*ee*fe)]}return N.invert=dn(-et),Y.invert=function(G,L){var q=P(G*G+L*L),ee=-u(q),ie=b(q),fe=q*ie,we=-L*ee,Oe=q*rt,Be=P(fe*fe+we*we-Oe*Oe),Ge=w(fe*Oe+we*Be,we*Oe-fe*Be),Ye=(q>v?-1:1)*w(G*ee,q*b(Ge)*ie+L*u(Ge)*ee);return N.invert(Ye,Ge)},Y}function dn(et){var rt=u(et),ct=b(et);return function(N,Y){var G=b(Y),L=b(N)*G,q=u(N)*G,ee=u(Y);return[w(q,L*ct-ee*rt),E(ee*ct+L*rt)]}}function gn(){var et=0,rt=(0,k.U)(en),ct=rt(et),N=ct.rotate,Y=ct.stream,G=(0,Wt.c)();return ct.parallel=function(L){if(!arguments.length)return et*S;var q=ct.rotate();return rt(et=L*T).rotate(q)},ct.rotate=function(L){return arguments.length?(N.call(ct,[L[0],L[1]-et*S]),G.center([-L[0],-L[1]]),ct):((L=N.call(ct))[1]+=et*S,L)},ct.stream=function(L){return(L=Y(L)).sphere=function(){L.polygonStart();var q,ee=G.radius(89.99)().coordinates[0],ie=ee.length-1,fe=-1;for(L.lineStart();++fe<ie;)L.point((q=ee[fe])[0],q[1]);for(L.lineEnd(),ie=(ee=G.radius(90.01)().coordinates[0]).length-1,L.lineStart();--fe>=0;)L.point((q=ee[fe])[0],q[1]);L.lineEnd(),L.polygonEnd()},L},ct.scale(79.4187).parallel(45).clipAngle(179.999)}var _n=e(84706),on=e(16016),Yt=E(1-1/3)*S,Xt=Je(0);function sn(et){var rt=Yt*T,ct=Et(d,rt)[0]-Et(-d,rt)[0],N=Xt(0,rt)[1],Y=Et(0,rt)[1],G=_-Y,L=p/et,q=4/p,ee=N+G*G*4/p;function ie(fe,we){var Oe,Be=A(we);if(Be>rt){var Ge=r(et-1,i(0,s((fe+d)/L)));(Oe=Et(fe+=d*(et-1)/et-Ge*L,Be))[0]=Oe[0]*p/ct-p*(et-1)/(2*et)+Ge*p/et,Oe[1]=N+4*(Oe[1]-Y)*G/p,we<0&&(Oe[1]=-Oe[1])}else Oe=Xt(fe,we);return Oe[0]*=q,Oe[1]/=ee,Oe}return ie.invert=function(fe,we){fe/=q;var Oe=A(we*=ee);if(Oe>N){var Be=r(et-1,i(0,s((fe+d)/L)));fe=(fe+d*(et-1)/et-Be*L)*ct/p;var Ge=Et.invert(fe,.25*(Oe-N)*p/G+Y);return Ge[0]-=d*(et-1)/et-Be*L,we<0&&(Ge[1]=-Ge[1]),Ge}return Xt.invert(fe,we)},ie}function hn(et,rt){return[et,1&rt?90-c:Yt]}function Sn(et,rt){return[et,1&rt?-90+c:-Yt]}function Cn(et){return[et[0]*(1-c),et[1]]}function Un(){var et=4,rt=(0,k.U)(sn),ct=rt(et),N=ct.stream;return ct.lobes=function(Y){return arguments.length?rt(et=+Y):et},ct.stream=function(Y){var G=ct.rotate(),L=N(Y),q=(ct.rotate([0,0]),N(Y));return ct.rotate(G),L.sphere=function(){var ee,ie;(0,on.c)((ee=180/et,ie=[].concat((0,_n.ik)(-180,180+ee/2,ee).map(hn),(0,_n.ik)(180,-180-ee/2,-ee).map(Sn)),{type:"Polygon",coordinates:[ee===180?ie.map(Cn):ie]}),q)},L},ct.scale(239.75)}function qn(et){var rt,ct=1+et,N=E(u(1/ct)),Y=2*P(d/(rt=d+4*N*ct)),G=.5*Y*(ct+P(et*(2+et))),L=et*et,q=ct*ct;function ee(ie,fe){var we,Oe,Be=1-u(fe);if(Be&&Be<2){var Ge,Ye=v-fe,at=25;do{var pt=u(Ye),vt=b(Ye),kt=N+w(pt,ct-vt),Ot=1+q-2*ct*vt;Ye-=Ge=(Ye-L*N-ct*pt+Ot*kt-.5*Be*rt)/(2*ct*pt*kt)}while(A(Ge)>y&&--at>0);we=Y*P(Ot),Oe=ie*kt/d}else we=Y*(et+Be),Oe=ie*N/d;return[we*u(Oe),G-we*b(Oe)]}return ee.invert=function(ie,fe){var we=ie*ie+(fe-=G)*fe,Oe=(1+q-we/(Y*Y))/(2*ct),Be=O(Oe),Ge=u(Be),Ye=N+w(Ge,ct-Oe);return[E(ie/P(we))*d/Ye,E(1-2*(Be-L*N-ct*Ge+(1+q-2*ct*Oe)*Ye)/rt)]},ee}function tr(){var et=1,rt=(0,k.U)(qn),ct=rt(et);return ct.ratio=function(N){return arguments.length?rt(et=+N):et},ct.scale(167.774).center([0,18.67])}var Yn=.7109889596207567,sr=.0528035274542;function ar(et,rt){return rt>-Yn?((et=le(et,rt))[1]+=sr,et):ze(et,rt)}function er(){return(0,k.c)(ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function gr(et,rt){return A(rt)>Yn?((et=le(et,rt))[1]-=rt>0?sr:-sr,et):ze(et,rt)}function kr(){return(0,k.c)(gr).scale(152.63)}function yr(et,rt,ct,N){var Y=P(4*d/(2*ct+(1+et-rt/2)*u(2*ct)+(et+rt)/2*u(4*ct)+rt/2*u(6*ct))),G=P(N*u(ct)*P((1+et*b(2*ct)+rt*b(4*ct))/(1+et+rt))),L=ct*ee(1);function q(we){return P(1+et*b(2*we)+rt*b(4*we))}function ee(we){var Oe=we*ct;return(2*Oe+(1+et-rt/2)*u(2*Oe)+(et+rt)/2*u(4*Oe)+rt/2*u(6*Oe))/ct}function ie(we){return q(we)*u(we)}var fe=function(we,Oe){var Be=ct*xe(ee,L*u(Oe)/ct,Oe/d);isNaN(Be)&&(Be=ct*l(Oe));var Ge=Y*q(Be);return[Ge*G*we/d*b(Be),Ge/G*u(Be)]};return fe.invert=function(we,Oe){var Be=xe(ie,Oe*G/Y);return[we*d/(b(Be)*Y*G*q(Be)),E(ct*ee(Be/ct)/L)]},ct===0&&(Y=P(N/d),(fe=function(we,Oe){return[we*Y,u(Oe)/Y]}).invert=function(we,Oe){return[we/Y,E(Oe*Y)]}),fe}function ur(){var et=1,rt=0,ct=45*T,N=2,Y=(0,k.U)(yr),G=Y(et,rt,ct,N);return G.a=function(L){return arguments.length?Y(et=+L,rt,ct,N):et},G.b=function(L){return arguments.length?Y(et,rt=+L,ct,N):rt},G.psiMax=function(L){return arguments.length?Y(et,rt,ct=+L*T,N):ct*S},G.ratio=function(L){return arguments.length?Y(et,rt,ct,N=+L):N},G.scale(180.739)}function _r(et,rt,ct,N,Y,G,L,q,ee,ie,fe){if(fe.nanEncountered)return NaN;var we,Oe,Be,Ge,Ye,at,pt,vt,kt,Ot;if(Oe=et(rt+.25*(we=ct-rt)),Be=et(ct-.25*we),isNaN(Oe))fe.nanEncountered=!0;else{if(!isNaN(Be))return Ot=((at=(Ge=we*(N+4*Oe+Y)/12)+(Ye=we*(Y+4*Be+G)/12))-L)/15,ie>ee?(fe.maxDepthCount++,at+Ot):Math.abs(Ot)<q?at+Ot:(vt=_r(et,rt,pt=rt+.5*we,N,Oe,Y,Ge,.5*q,ee,ie+1,fe),isNaN(vt)?(fe.nanEncountered=!0,NaN):(kt=_r(et,pt,ct,Y,Be,G,Ye,.5*q,ee,ie+1,fe),isNaN(kt)?(fe.nanEncountered=!0,NaN):vt+kt));fe.nanEncountered=!0}}function Mr(et,rt,ct,N,Y){Y===void 0&&(Y=20);var G=et(rt),L=et(.5*(rt+ct)),q=et(ct);return _r(et,rt,ct,G,L,q,(G+4*L+q)*(ct-rt)/6,N,Y,1,{maxDepthCount:0,nanEncountered:!1})}function Ur(et,rt,ct){function N(Be){return et+(1-et)*t(1-t(Be,rt),1/rt)}function Y(Be){return Mr(N,0,Be,1e-4)}for(var G=1/Y(1),L=1e3,q=1.00000001*G,ee=[],ie=0;ie<=L;ie++)ee.push(Y(ie/L)*q);function fe(Be){var Ge=0,Ye=L,at=500;do ee[at]>Be?Ye=at:Ge=at,at=Ge+Ye>>1;while(at>Ge);var pt=ee[at+1]-ee[at];return pt&&(pt=(Be-ee[at+1])/pt),(at+1+pt)/L}var we=2*fe(1)/d*G/ct,Oe=function(Be,Ge){var Ye=fe(A(u(Ge))),at=N(Ye)*Be;return Ye/=we,[at,Ge>=0?Ye:-Ye]};return Oe.invert=function(Be,Ge){var Ye;return A(Ge*=we)<1&&(Ye=l(Ge)*E(Y(A(Ge))*G)),[Be/N(A(Ge)),Ye]},Oe}function gi(){var et=0,rt=2.5,ct=1.183136,N=(0,k.U)(Ur),Y=N(et,rt,ct);return Y.alpha=function(G){return arguments.length?N(et=+G,rt,ct):et},Y.k=function(G){return arguments.length?N(et,rt=+G,ct):rt},Y.gamma=function(G){return arguments.length?N(et,rt,ct=+G):ct},Y.scale(152.63)}function xi(et,rt){return A(et[0]-rt[0])<c&&A(et[1]-rt[1])<c}function ia(et,rt){for(var ct,N,Y,G=-1,L=et.length,q=et[0],ee=[];++G<L;){N=((ct=et[G])[0]-q[0])/rt,Y=(ct[1]-q[1])/rt;for(var ie=0;ie<rt;++ie)ee.push([q[0]+ie*N,q[1]+ie*Y]);q=ct}return ee.push(ct),ee}function hi(et,rt,ct){var N,Y;function G(ee,ie){for(var fe=ie<0?-1:1,we=rt[+(ie<0)],Oe=0,Be=we.length-1;Oe<Be&&ee>we[Oe][2][0];++Oe);var Ge=et(ee-we[Oe][1][0],ie);return Ge[0]+=et(we[Oe][1][0],fe*ie>fe*we[Oe][0][1]?we[Oe][0][1]:ie)[0],Ge}ct?G.invert=ct(G):et.invert&&(G.invert=function(ee,ie){for(var fe=Y[+(ie<0)],we=rt[+(ie<0)],Oe=0,Be=fe.length;Oe<Be;++Oe){var Ge=fe[Oe];if(Ge[0][0]<=ee&&ee<Ge[1][0]&&Ge[0][1]<=ie&&ie<Ge[1][1]){var Ye=et.invert(ee-et(we[Oe][1][0],0)[0],ie);return Ye[0]+=we[Oe][1][0],xi(G(Ye[0],Ye[1]),[ee,ie])?Ye:null}}});var L=(0,k.c)(G),q=L.stream;return L.stream=function(ee){var ie=L.rotate(),fe=q(ee),we=(L.rotate([0,0]),q(ee));return L.rotate(ie),fe.sphere=function(){(0,on.c)(N,we)},fe},L.lobes=function(ee){return arguments.length?(N=function(ie){var fe,we,Oe,Be,Ge,Ye,at,pt=[],vt=ie[0].length;for(at=0;at<vt;++at)we=(fe=ie[0][at])[0][0],Oe=fe[0][1],Be=fe[1][1],Ge=fe[2][0],Ye=fe[2][1],pt.push(ia([[we+c,Oe+c],[we+c,Be-c],[Ge-c,Be-c],[Ge-c,Ye+c]],30));for(at=ie[1].length-1;at>=0;--at)we=(fe=ie[1][at])[0][0],Oe=fe[0][1],Be=fe[1][1],Ge=fe[2][0],Ye=fe[2][1],pt.push(ia([[Ge-c,Ye-c],[Ge-c,Be+c],[we+c,Be+c],[we+c,Oe-c]],30));return{type:"Polygon",coordinates:[(0,_n.Uf)(pt)]}}(ee),rt=ee.map(function(ie){return ie.map(function(fe){return[[fe[0][0]*T,fe[0][1]*T],[fe[1][0]*T,fe[1][1]*T],[fe[2][0]*T,fe[2][1]*T]]})}),Y=rt.map(function(ie){return ie.map(function(fe){var we,Oe=et(fe[0][0],fe[0][1])[0],Be=et(fe[2][0],fe[2][1])[0],Ge=et(fe[1][0],fe[0][1])[1],Ye=et(fe[1][0],fe[1][1])[1];return Ge>Ye&&(we=Ge,Ge=Ye,Ye=we),[[Oe,Ge],[Be,Ye]]})}),L):rt.map(function(ie){return ie.map(function(fe){return[[fe[0][0]*S,fe[0][1]*S],[fe[1][0]*S,fe[1][1]*S],[fe[2][0]*S,fe[2][1]*S]]})})},rt!=null&&L.lobes(rt),L}ar.invert=function(et,rt){return rt>-Yn?le.invert(et,rt-sr):ze.invert(et,rt)},gr.invert=function(et,rt){return A(rt)>Yn?le.invert(et,rt+(rt>0?sr:-sr)):ze.invert(et,rt)};var Bi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Nr(){return hi(ke,Bi).scale(160.857)}var Ai=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Pa(){return hi(gr,Ai).scale(152.63)}var pa=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Xo(){return hi(le,pa).scale(169.529)}var Ko=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Co(){return hi(le,Ko).scale(169.529).rotate([20,0])}var da=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Po(){return hi(ar,da,_e).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ms=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Vs(){return hi(ze,ms).scale(152.63).rotate([-20,0])}function to(et,rt){return[3/p*et*P(d*d/3-rt*rt),rt]}function no(){return(0,k.c)(to).scale(158.837)}function Oo(et){function rt(ct,N){if(A(A(N)-v)<c)return[0,N<0?-2:2];var Y=u(N),G=t((1+Y)/(1-Y),et/2),L=.5*(G+1/G)+b(ct*=et);return[2*u(ct)/L,(G-1/G)/L]}return rt.invert=function(ct,N){var Y=A(N);if(A(Y-2)<c)return ct?null:[0,l(N)*v];if(Y>2)return null;var G=(ct/=2)*ct,L=(N/=2)*N,q=2*N/(1+G+L);return q=t((1+q)/(1-q),1/et),[w(2*ct,1-G-L)/et,E((q-1)/(q+1))]},rt}function Mi(){var et=.5,rt=(0,k.U)(Oo),ct=rt(et);return ct.spacing=function(N){return arguments.length?rt(et=+N):et},ct.scale(124.75)}to.invert=function(et,rt){return[p/3*et/P(d*d/3-rt*rt),rt]};var Ji=d/m;function Jo(et,rt){return[et*(1+P(b(rt)))/2,rt/(b(rt/2)*b(et/6))]}function Io(){return(0,k.c)(Jo).scale(97.2672)}function po(et,rt){var ct=et*et,N=rt*rt;return[et*(.975534+N*(-.0143059*ct-.119161+-.0547009*N)),rt*(1.00384+ct*(.0802894+-.02855*N+199025e-9*ct)+N*(.0998909+-.0491032*N))]}function ys(){return(0,k.c)(po).scale(139.98)}function zo(et,rt){return[u(et)/b(rt),h(rt)*b(et)]}function xs(){return(0,k.c)(zo).scale(144.049).clipAngle(89.999)}function $o(et){var rt=b(et),ct=h(g+et/2);function N(Y,G){var L=G-et,q=A(L)<c?Y*rt:A(q=g+G/2)<c||A(A(q)-v)<c?0:Y*L/n(h(q)/ct);return[q,L]}return N.invert=function(Y,G){var L,q=G+et;return[A(G)<c?Y/rt:A(L=g+q/2)<c||A(A(L)-v)<c?0:Y*n(h(L)/ct)/G,q]},N}function bs(){return Ee($o).parallel(40).scale(158.837)}function Do(et,rt){return[et,1.25*n(h(g+.4*rt))]}function Eu(){return(0,k.c)(Do).scale(108.318)}function su(et){var rt=et.length-1;function ct(N,Y){for(var G,L=b(Y),q=2/(1+L*b(N)),ee=q*L*u(N),ie=q*u(Y),fe=rt,we=et[fe],Oe=we[0],Be=we[1];--fe>=0;)Oe=(we=et[fe])[0]+ee*(G=Oe)-ie*Be,Be=we[1]+ee*Be+ie*G;return[Oe=ee*(G=Oe)-ie*Be,Be=ee*Be+ie*G]}return ct.invert=function(N,Y){var G=20,L=N,q=Y;do{for(var ee,ie=rt,fe=et[ie],we=fe[0],Oe=fe[1],Be=0,Ge=0;--ie>=0;)Be=we+L*(ee=Be)-q*Ge,Ge=Oe+L*Ge+q*ee,we=(fe=et[ie])[0]+L*(ee=we)-q*Oe,Oe=fe[1]+L*Oe+q*ee;var Ye,at,pt=(Be=we+L*(ee=Be)-q*Ge)*Be+(Ge=Oe+L*Ge+q*ee)*Ge;L-=Ye=((we=L*(ee=we)-q*Oe-N)*Be+(Oe=L*Oe+q*ee-Y)*Ge)/pt,q-=at=(Oe*Be-we*Ge)/pt}while(A(Ye)+A(at)>c*c&&--G>0);if(G){var vt=P(L*L+q*q),kt=2*o(.5*vt),Ot=u(kt);return[w(L*Ot,vt*b(kt)),vt?E(q*Ot/vt):0]}},ct}Jo.invert=function(et,rt){var ct=A(et),N=A(rt),Y=c,G=v;N<Ji?G*=N/Ji:Y+=6*O(Ji/N);for(var L=0;L<25;L++){var q=u(G),ee=P(b(G)),ie=u(G/2),fe=b(G/2),we=u(Y/6),Oe=b(Y/6),Be=.5*Y*(1+ee)-ct,Ge=G/(fe*Oe)-N,Ye=ee?-.25*Y*q/ee:0,at=.5*(1+ee),pt=(1+.5*G*ie/fe)/(fe*Oe),vt=G/fe*(we/6)/(Oe*Oe),kt=Ye*vt-pt*at,Ot=(Be*vt-Ge*at)/kt,St=(Ge*Ye-Be*pt)/kt;if(G-=Ot,Y-=St,A(Ot)<c&&A(St)<c)break}return[et<0?-Y:Y,rt<0?-G:G]},po.invert=function(et,rt){var ct=l(et)*d,N=rt/2,Y=50;do{var G=ct*ct,L=N*N,q=ct*N,ee=ct*(.975534+L*(-.0143059*G-.119161+-.0547009*L))-et,ie=N*(1.00384+G*(.0802894+-.02855*L+199025e-9*G)+L*(.0998909+-.0491032*L))-rt,fe=.975534-L*(.119161+3*G*.0143059+.0547009*L),we=-q*(.238322+.2188036*L+.0286118*G),Oe=q*(.1605788+7961e-7*G+-.0571*L),Be=1.00384+G*(.0802894+199025e-9*G)+L*(3*(.0998909-.02855*G)-.245516*L),Ge=we*Oe-Be*fe,Ye=(ie*we-ee*Be)/Ge,at=(ee*Oe-ie*fe)/Ge;ct-=Ye,N-=at}while((A(Ye)>c||A(at)>c)&&--Y>0);return Y&&[ct,N]},zo.invert=function(et,rt){var ct=et*et,N=rt*rt+1,Y=ct+N,G=et?x*P((Y-P(Y*Y-4*ct))/ct):1/P(N);return[E(et*G),l(rt)*O(G)]},Do.invert=function(et,rt){return[et,2.5*o(f(.8*rt))-.625*d]};var Hs=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Xu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ku=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],qs=[[.9245,0],[0,0],[.01943,0]],Ju=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Dc(){return Ws(Hs,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Rc(){return Ws(Xu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Gs(){return Ws(Ku,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ro(){return Ws(qs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function cl(){return Ws(Ju,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ws(et,rt){var ct=(0,k.c)(su(et)).rotate(rt).clipAngle(90),N=(0,Qe.c)(rt),Y=ct.center;return delete ct.rotate,ct.center=function(G){return arguments.length?Y(N(G)):N.invert(Y())},ct}var Dl=P(6),Ys=P(7);function go(et,rt){var ct=E(7*u(rt)/(3*Dl));return[Dl*et*(2*b(2*ct/3)-1)/Ys,9*u(ct/3)/Ys]}function Lu(){return(0,k.c)(go).scale(164.859)}function _s(et,rt){for(var ct,N=(1+x)*u(rt),Y=rt,G=0;G<25&&(Y-=ct=(u(Y/2)+u(Y)-N)/(.5*b(Y/2)+b(Y)),!(A(ct)<c));G++);return[et*(1+2*b(Y)/b(Y/2))/(3*m),2*P(3)*u(Y/2)/P(2+m)]}function Qo(){return(0,k.c)(_s).scale(188.209)}function es(et,rt){for(var ct,N=P(6/(4+d)),Y=(1+d/4)*u(rt),G=rt/2,L=0;L<25&&(G-=ct=(G/2+u(G)-Y)/(.5+b(G)),!(A(ct)<c));L++);return[N*(.5+b(G))*et/1.5,N*G]}function ws(){return(0,k.c)(es).scale(166.518)}go.invert=function(et,rt){var ct=3*E(rt*Ys/9);return[et*Ys/(Dl*(2*b(2*ct/3)-1)),E(3*u(ct)*Dl/7)]},_s.invert=function(et,rt){var ct=rt*P(2+m)/(2*P(3)),N=2*E(ct);return[3*m*et/(1+2*b(N)/b(N/2)),E((ct+u(N))/(1+x))]},es.invert=function(et,rt){var ct=P(6/(4+d)),N=rt/ct;return A(A(N)-v)<c&&(N=N<0?-v:v),[1.5*et/(ct*(.5+b(N))),E((N/2+u(N))/(1+d/4))]};var Kr=e(47984);function fl(et,rt){var ct=rt*rt,N=ct*ct,Y=ct*N;return[et*(.84719-.13063*ct+Y*Y*(.05494*ct-.04515-.02326*N+.00331*Y)),rt*(1.01183+N*N*(.01926*ct-.02625-.00396*N))]}function Fc(){return(0,k.c)(fl).scale(175.295)}function lu(et,rt){return[et*(1+b(rt))/2,2*(rt-h(rt/2))]}function hl(){return(0,k.c)(lu).scale(152.63)}fl.invert=function(et,rt){var ct,N,Y,G,L=rt,q=25;do L-=ct=(L*(1.01183+(Y=(N=L*L)*N)*Y*(.01926*N-.02625-.00396*Y))-rt)/(1.01183+Y*Y*(.21186*N-.23625+-.05148*Y));while(A(ct)>y&&--q>0);return[et/(.84719-.13063*(N=L*L)+(G=N*(Y=N*N))*G*(.05494*N-.04515-.02326*Y+.00331*G)),L]},lu.invert=function(et,rt){for(var ct=rt/2,N=0,Y=1/0;N<10&&A(Y)>c;++N){var G=b(rt/2);rt-=Y=(rt-h(rt/2)-ct)/(1-.5/(G*G))}return[2*et/(1+b(rt)),rt]};var $u=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Bc(){return hi(he(1/0),$u).rotate([20,0]).scale(152.63)}function uu(et,rt){var ct=u(rt),N=b(rt),Y=l(et);if(et===0||A(rt)===v)return[0,rt];if(rt===0)return[et,0];if(A(et)===v)return[et*N,v*ct];var G=d/(2*et)-2*et/d,L=2*rt/d,q=(1-L*L)/(ct-L),ee=G*G,ie=q*q,fe=1+ee/ie,we=1+ie/ee,Oe=(G*ct/q-G/2)/fe,Be=(ie*ct/ee+q/2)/we,Ge=Be*Be-(ie*ct*ct/ee+q*ct-1)/we;return[v*(Oe+P(Oe*Oe+N*N/fe)*Y),v*(Be+P(Ge<0?0:Ge)*l(-rt*G)*Y)]}function Nc(){return(0,k.c)(uu).scale(127.267)}uu.invert=function(et,rt){var ct=(et/=v)*et,N=ct+(rt/=v)*rt,Y=d*d;return[et?(N-1+P((1-N)*(1-N)+4*ct))/(2*et)*v:0,xe(function(G){return N*(d*u(G)-2*G)*d+4*G*G*(rt-u(G))+2*d*G-Y*rt},0)]};var Ts=1.0148,Zs=.23185,ts=-.14499,vo=.02406,pl=Ts,Qu=5*Zs,Rl=7*ts,cu=9*vo,Ya=1.790857183;function fu(et,rt){var ct=rt*rt;return[et,rt*(Ts+ct*ct*(Zs+ct*(ts+vo*ct)))]}function ec(){return(0,k.c)(fu).scale(139.319)}function dl(et,rt){if(A(rt)<c)return[et,0];var ct=h(rt),N=et*u(rt);return[u(N)/ct,rt+(1-b(N))/ct]}function Xs(){return(0,k.c)(dl).scale(103.74)}fu.invert=function(et,rt){rt>Ya?rt=Ya:rt<-1.790857183&&(rt=-1.790857183);var ct,N=rt;do{var Y=N*N;N-=ct=(N*(Ts+Y*Y*(Zs+Y*(ts+vo*Y)))-rt)/(pl+Y*Y*(Qu+Y*(Rl+cu*Y)))}while(A(ct)>c);return[et,N]},dl.invert=function(et,rt){if(A(rt)<c)return[et,0];var ct,N=et*et+rt*rt,Y=.5*rt,G=10;do{var L=h(Y),q=1/b(Y),ee=N-2*rt*Y+Y*Y;Y-=ct=(L*ee+2*(Y-rt))/(2+ee*q*q+2*(Y-rt)*L)}while(A(ct)>c&&--G>0);return L=h(Y),[(A(rt)<A(Y+1/L)?E(et*L):l(rt)*l(et)*(O(A(et*L))+v))/u(Y),Y]};var vl=e(13696),Ks=e(27284);function Js(et,rt){return[et[0]*rt[0]+et[1]*rt[3],et[0]*rt[1]+et[1]*rt[4],et[0]*rt[2]+et[1]*rt[5]+et[2],et[3]*rt[0]+et[4]*rt[3],et[3]*rt[1]+et[4]*rt[4],et[3]*rt[2]+et[4]*rt[5]+et[5]]}function Fl(et,rt){return[et[0]-rt[0],et[1]-rt[1]]}function hu(et){return P(et[0]*et[0]+et[1]*et[1])}function li(et,rt,ct){function N(q,ee){var ie,fe=rt(q,ee),we=fe.project([q*S,ee*S]);return(ie=fe.transform)?[ie[0]*we[0]+ie[1]*we[1]+ie[2],-(ie[3]*we[0]+ie[4]*we[1]+ie[5])]:(we[1]=-we[1],we)}function Y(q,ee){var ie=q.project.invert,fe=q.transform,we=ee;if(fe&&(fe=function(at){var pt=1/(at[0]*at[4]-at[1]*at[3]);return[pt*at[4],-pt*at[1],pt*(at[1]*at[5]-at[2]*at[4]),-pt*at[3],pt*at[0],pt*(at[2]*at[3]-at[0]*at[5])]}(fe),we=[fe[0]*we[0]+fe[1]*we[1]+fe[2],fe[3]*we[0]+fe[4]*we[1]+fe[5]]),ie&&q===function(at){return rt(at[0]*T,at[1]*T)}(Oe=ie(we)))return Oe;for(var Oe,Be=q.children,Ge=0,Ye=Be&&Be.length;Ge<Ye;++Ge)if(Oe=Y(Be[Ge],ee))return Oe}(function q(ee,ie){if(ee.edges=function(St){for(var jt=St.length,It=[],$t=St[jt-1],Zt=0;Zt<jt;++Zt)It.push([$t,$t=St[Zt]]);return It}(ee.face),ie.face){var fe=ee.shared=function(St,jt){for(var It,$t,Zt=St.length,Ht=null,vn=0;vn<Zt;++vn){It=St[vn];for(var bn=jt.length;--bn>=0;)if($t=jt[bn],It[0]===$t[0]&&It[1]===$t[1]){if(Ht)return[Ht,It];Ht=It}}}(ee.face,ie.face),we=(Ye=fe.map(ie.project),at=fe.map(ee.project),pt=Fl(Ye[1],Ye[0]),vt=Fl(at[1],at[0]),kt=function(St,jt){return w(St[0]*jt[1]-St[1]*jt[0],St[0]*jt[0]+St[1]*jt[1])}(pt,vt),Ot=hu(pt)/hu(vt),Js([1,0,Ye[0][0],0,1,Ye[0][1]],Js([Ot,0,0,0,Ot,0],Js([b(kt),u(kt),0,-u(kt),b(kt),0],[1,0,-at[0][0],0,1,-at[0][1]]))));ee.transform=ie.transform?Js(ie.transform,we):we;for(var Oe=ie.edges,Be=0,Ge=Oe.length;Be<Ge;++Be)ga(fe[0],Oe[Be][1])&&ga(fe[1],Oe[Be][0])&&(Oe[Be]=ee),ga(fe[0],Oe[Be][0])&&ga(fe[1],Oe[Be][1])&&(Oe[Be]=ee);for(Be=0,Ge=(Oe=ee.edges).length;Be<Ge;++Be)ga(fe[0],Oe[Be][0])&&ga(fe[1],Oe[Be][1])&&(Oe[Be]=ie),ga(fe[0],Oe[Be][1])&&ga(fe[1],Oe[Be][0])&&(Oe[Be]=ie)}else ee.transform=ie.transform;var Ye,at,pt,vt,kt,Ot;return ee.children&&ee.children.forEach(function(St){q(St,ee)}),ee})(et,{transform:null}),mo(et)&&(N.invert=function(q,ee){var ie=Y(et,[q,-ee]);return ie&&(ie[0]*=T,ie[1]*=T,ie)});var G=(0,k.c)(N),L=G.stream;return G.stream=function(q){var ee=G.rotate(),ie=L(q),fe=(G.rotate([0,0]),L(q));return G.rotate(ee),ie.sphere=function(){fe.polygonStart(),fe.lineStart(),ks(fe,et),fe.lineEnd(),fe.polygonEnd()},ie},G.angle(ct==null?-30:ct*S)}function ks(et,rt,ct){var N,Y,G=rt.edges,L=G.length,q={type:"MultiPoint",coordinates:rt.face},ee=rt.face.filter(function(Ye){return A(Ye[1])!==90}),ie=(0,vl.c)({type:"MultiPoint",coordinates:ee}),fe=!1,we=-1,Oe=ie[1][0]-ie[0][0],Be=Oe===180||Oe===360?[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2]:(0,We.c)(q);if(ct)for(;++we<L&&G[we]!==ct;);++we;for(var Ge=0;Ge<L;++Ge)Y=G[(Ge+we)%L],Array.isArray(Y)?(fe||(et.point((N=(0,Ks.c)(Y[0],Be)(c))[0],N[1]),fe=!0),et.point((N=(0,Ks.c)(Y[1],Be)(c))[0],N[1])):(fe=!1,Y!==ct&&ks(et,Y,rt))}function ga(et,rt){return et&&rt&&et[0]===rt[0]&&et[1]===rt[1]}function mo(et){return et.project.invert||et.children&&et.children.some(mo)}var ni=e(53285),si=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Za=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(et){return et.map(function(rt){return si[rt]})});function ml(et){et=et||function(ct){var N=(0,We.c)({type:"MultiPoint",coordinates:ct});return(0,ni.c)().scale(1).translate([0,0]).rotate([-N[0],-N[1]])};var rt=Za.map(function(ct){return{face:ct,project:et(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,N){var Y=rt[ct];Y&&(Y.children||(Y.children=[])).push(rt[N])}),li(rt[0],function(ct,N){return rt[ct<-d/2?N<0?6:4:ct<0?N<0?2:0:ct<d/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Bl=2/P(3);function pu(et,rt){var ct=Et(et,rt);return[ct[0]*Bl,ct[1]]}function Nl(et){et=et||function(ct){var N=(0,We.c)({type:"MultiPoint",coordinates:ct});return(0,k.c)(pu).translate([0,0]).scale(1).rotate(N[1]>0?[-N[0],0]:[180-N[0],180])};var rt=Za.map(function(ct){return{face:ct,project:et(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,N){var Y=rt[ct];Y&&(Y.children||(Y.children=[])).push(rt[N])}),li(rt[0],function(ct,N){return rt[ct<-d/2?N<0?6:4:ct<0?N<0?2:0:ct<d/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function jl(et){et=et||function(G){var L=G.length===6?(0,We.c)({type:"MultiPoint",coordinates:G}):G[0];return(0,ni.c)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var rt=Za.map(function(G){for(var L,q=G.map(Ms),ee=q.length,ie=q[ee-1],fe=[],we=0;we<ee;++we)L=q[we],fe.push(As([.9486832980505138*ie[0]+.31622776601683794*L[0],.9486832980505138*ie[1]+.31622776601683794*L[1],.9486832980505138*ie[2]+.31622776601683794*L[2]]),As([.9486832980505138*L[0]+.31622776601683794*ie[0],.9486832980505138*L[1]+.31622776601683794*ie[1],.9486832980505138*L[2]+.31622776601683794*ie[2]])),ie=L;return fe}),ct=[],N=[-1,0,0,1,0,1,4,5];rt.forEach(function(G,L){for(var q,ee,ie=Za[L],fe=ie.length,we=ct[L]=[],Oe=0;Oe<fe;++Oe)rt.push([ie[Oe],G[(2*Oe+2)%(2*fe)],G[(2*Oe+1)%(2*fe)]]),N.push(L),we.push((q=Ms(G[(2*Oe+2)%(2*fe)]),ee=Ms(G[(2*Oe+1)%(2*fe)]),[q[1]*ee[2]-q[2]*ee[1],q[2]*ee[0]-q[0]*ee[2],q[0]*ee[1]-q[1]*ee[0]]))});var Y=rt.map(function(G){return{project:et(G),face:G}});return N.forEach(function(G,L){var q=Y[G];q&&(q.children||(q.children=[])).push(Y[L])}),li(Y[0],function(G,L){var q=b(L),ee=[q*b(G),q*u(G),u(L)],ie=G<-d/2?L<0?6:4:G<0?L<0?2:0:G<d/2?L<0?3:1:L<0?7:5,fe=ct[ie];return Y[ro(fe[0],ee)<0?8+3*ie:ro(fe[1],ee)<0?8+3*ie+1:ro(fe[2],ee)<0?8+3*ie+2:ie]}).angle(-30).scale(110.625).center([0,45])}function ro(et,rt){for(var ct=0,N=et.length,Y=0;ct<N;++ct)Y+=et[ct]*rt[ct];return Y}function As(et){return[w(et[1],et[0])*S,E(i(-1,r(1,et[2])))*S]}function Ms(et){var rt=et[0]*T,ct=et[1]*T,N=b(ct);return[N*b(rt),N*u(rt),u(ct)]}function ka(){}function Ul(et,rt){var ct,N=rt.stream;if(!N)throw new Error("invalid projection");switch(et&&et.type){case"Feature":ct=$i;break;case"FeatureCollection":ct=io;break;default:ct=aa}return ct(et,N)}function io(et,rt){return{type:"FeatureCollection",features:et.features.map(function(ct){return $i(ct,rt)})}}function $i(et,rt){return{type:"Feature",id:et.id,properties:et.properties,geometry:aa(et.geometry,rt)}}function aa(et,rt){if(!et)return null;if(et.type==="GeometryCollection")return function(N,Y){return{type:"GeometryCollection",geometries:N.geometries.map(function(G){return aa(G,Y)})}}(et,rt);var ct;switch(et.type){case"Point":case"MultiPoint":ct=Fo;break;case"LineString":case"MultiLineString":ct=$s;break;case"Polygon":case"MultiPolygon":case"Sphere":ct=yo;break;default:return null}return(0,on.c)(et,rt(ct)),ct.result()}pu.invert=function(et,rt){return Et.invert(et/Bl,rt)};var vi=[],oa=[],Fo={point:function(et,rt){vi.push([et,rt])},result:function(){var et=vi.length?vi.length<2?{type:"Point",coordinates:vi[0]}:{type:"MultiPoint",coordinates:vi}:null;return vi=[],et}},$s={lineStart:ka,point:function(et,rt){vi.push([et,rt])},lineEnd:function(){vi.length&&(oa.push(vi),vi=[])},result:function(){var et=oa.length?oa.length<2?{type:"LineString",coordinates:oa[0]}:{type:"MultiLineString",coordinates:oa}:null;return oa=[],et}},yo={polygonStart:ka,lineStart:ka,point:function(et,rt){vi.push([et,rt])},lineEnd:function(){var et=vi.length;if(et){do vi.push(vi[0].slice());while(++et<4);oa.push(vi),vi=[]}},polygonEnd:ka,result:function(){if(!oa.length)return null;var et=[],rt=[];return oa.forEach(function(ct){(function(N){if((Y=N.length)<4)return!1;for(var Y,G=0,L=N[Y-1][1]*N[0][0]-N[Y-1][0]*N[0][1];++G<Y;)L+=N[G-1][1]*N[G][0]-N[G-1][0]*N[G][1];return L<=0})(ct)?et.push([ct]):rt.push(ct)}),rt.forEach(function(ct){var N=ct[0];et.some(function(Y){if(function(G,L){for(var q=L[0],ee=L[1],ie=!1,fe=0,we=G.length,Oe=we-1;fe<we;Oe=fe++){var Be=G[fe],Ge=Be[0],Ye=Be[1],at=G[Oe],pt=at[0],vt=at[1];Ye>ee^vt>ee&&q<(pt-Ge)*(ee-Ye)/(vt-Ye)+Ge&&(ie=!ie)}return ie}(Y[0],N))return Y.push(ct),!0})||et.push([ct])}),oa=[],et.length?et.length>1?{type:"MultiPolygon",coordinates:et}:{type:"Polygon",coordinates:et[0]}:null}};function Ss(et){var rt=et(v,0)[0]-et(-v,0)[0];function ct(N,Y){var G=A(N)<v,L=et(G?N:N>0?N-d:N+d,Y),q=(L[0]-L[1])*x,ee=(L[0]+L[1])*x;if(G)return[q,ee];var ie=rt*x,fe=q>0^ee>0?-1:1;return[fe*q-l(ee)*ie,fe*ee-l(q)*ie]}return et.invert&&(ct.invert=function(N,Y){var G=(N+Y)*x,L=(Y-N)*x,q=A(G)<.5*rt&&A(L)<.5*rt;if(!q){var ee=rt*x,ie=G>0^L>0?-1:1,fe=-ie*N+(L>0?1:-1)*ee,we=-ie*Y+(G>0?1:-1)*ee;G=(-fe-we)*x,L=(fe-we)*x}var Oe=et.invert(G,L);return q||(Oe[0]+=G>0?d:-d),Oe}),(0,k.c)(ct).rotate([-90,-90,45]).clipAngle(179.999)}function Oa(){return Ss(Hn).scale(176.423)}function Qs(){return Ss(xn).scale(111.48)}function ns(et,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ct(ie){var fe=ie.length,we=2,Oe=new Array(fe);for(Oe[0]=+ie[0].toFixed(rt),Oe[1]=+ie[1].toFixed(rt);we<fe;)Oe[we]=ie[we],++we;return Oe}function N(ie){return ie.map(ct)}function Y(ie){for(var fe=ct(ie[0]),we=[fe],Oe=1;Oe<ie.length;Oe++){var Be=ct(ie[Oe]);(Be.length>2||Be[0]!=fe[0]||Be[1]!=fe[1])&&(we.push(Be),fe=Be)}return we.length===1&&ie.length>1&&we.push(ct(ie[ie.length-1])),we}function G(ie){return ie.map(Y)}function L(ie){if(ie==null)return ie;var fe;switch(ie.type){case"GeometryCollection":fe={type:"GeometryCollection",geometries:ie.geometries.map(L)};break;case"Point":fe={type:"Point",coordinates:ct(ie.coordinates)};break;case"MultiPoint":fe={type:ie.type,coordinates:N(ie.coordinates)};break;case"LineString":fe={type:ie.type,coordinates:Y(ie.coordinates)};break;case"MultiLineString":case"Polygon":fe={type:ie.type,coordinates:G(ie.coordinates)};break;case"MultiPolygon":fe={type:"MultiPolygon",coordinates:ie.coordinates.map(G)};break;default:return ie}return ie.bbox!=null&&(fe.bbox=ie.bbox),fe}function q(ie){var fe={type:"Feature",properties:ie.properties,geometry:L(ie.geometry)};return ie.id!=null&&(fe.id=ie.id),ie.bbox!=null&&(fe.bbox=ie.bbox),fe}if(et!=null)switch(et.type){case"Feature":return q(et);case"FeatureCollection":var ee={type:"FeatureCollection",features:et.features.map(q)};return et.bbox!=null&&(ee.bbox=et.bbox),ee;default:return L(et)}return et}function ao(et){var rt=u(et);function ct(N,Y){var G=rt?h(N*rt/2)/rt:N/2;if(!Y)return[2*G,-et];var L=2*o(G*u(Y)),q=1/h(Y);return[u(L)*q,Y+(1-b(L))*q-et]}return ct.invert=function(N,Y){if(A(Y+=et)<c)return[rt?2*o(rt*N/2)/rt:N,0];var G,L=N*N+Y*Y,q=0,ee=10;do{var ie=h(q),fe=1/b(q),we=L-2*Y*q+q*q;q-=G=(ie*we+2*(q-Y))/(2+we*fe*fe+2*(q-Y)*ie)}while(A(G)>c&&--ee>0);var Oe=N*(ie=h(q)),Be=h(A(Y)<A(q+1/ie)?.5*E(Oe):.5*O(Oe)+d/4)/u(q);return[rt?2*o(rt*Be)/rt:2*Be,q]},ct}function oo(){return Ee(ao).scale(131.215)}var bi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function xo(et,rt){var ct,N=r(18,36*A(rt)/d),Y=s(N),G=N-Y,L=(ct=bi[Y])[0],q=ct[1],ee=(ct=bi[++Y])[0],ie=ct[1],fe=(ct=bi[r(19,++Y)])[0],we=ct[1];return[et*(ee+G*(fe-L)/2+G*G*(fe-2*ee+L)/2),(rt>0?v:-v)*(ie+G*(we-q)/2+G*G*(we-2*ie+q)/2)]}function Lr(){return(0,k.c)(xo).scale(152.63)}function Vl(et,rt){var ct=function(L){function q(ee,ie){var fe=b(ie),we=(L-1)/(L-fe*b(ee));return[we*fe*u(ee),we*u(ie)]}return q.invert=function(ee,ie){var fe=ee*ee+ie*ie,we=P(fe),Oe=(L-P(1-fe*(L+1)/(L-1)))/((L-1)/we+we/(L-1));return[w(ee*Oe,we*P(1-Oe*Oe)),we?E(ie*Oe/we):0]},q}(et);if(!rt)return ct;var N=b(rt),Y=u(rt);function G(L,q){var ee=ct(L,q),ie=ee[1],fe=ie*Y/(et-1)+N;return[ee[0]*N/fe,ie/fe]}return G.invert=function(L,q){var ee=(et-1)/(et-1-q*Y);return ct.invert(ee*L,ee*q*N)},G}function Cu(){var et=2,rt=0,ct=(0,k.U)(Vl),N=ct(et,rt);return N.distance=function(Y){return arguments.length?ct(et=+Y,rt):et},N.tilt=function(Y){return arguments.length?ct(et,rt=Y*T):rt*S},N.scale(432.147).clipAngle(O(1/et)*S-1e-6)}bi.forEach(function(et){et[1]*=1.0144}),xo.invert=function(et,rt){var ct=rt/v,N=90*ct,Y=r(18,A(N/5)),G=i(0,s(Y));do{var L=bi[G][1],q=bi[G+1][1],ee=bi[r(19,G+2)][1],ie=ee-L,fe=ee-2*q+L,we=2*(A(ct)-q)/ie,Oe=fe/ie,Be=we*(1-Oe*we*(1-2*Oe*we));if(Be>=0||G===1){N=(rt>=0?5:-5)*(Be+Y);var Ge,Ye=50;do Be=(Y=r(18,A(N)/5))-(G=s(Y)),L=bi[G][1],q=bi[G+1][1],ee=bi[r(19,G+2)][1],N-=(Ge=(rt>=0?v:-v)*(q+Be*(ee-L)/2+Be*Be*(ee-2*q+L)/2)-rt)*S;while(A(Ge)>y&&--Ye>0);break}}while(--G>=0);var at=bi[G][0],pt=bi[G+1][0],vt=bi[r(19,G+2)][0];return[et/(pt+Be*(vt-at)/2+Be*Be*(vt-2*pt+at)/2),N*T]};var Es=1e-4,Ls=1e4,el=-180,yl=el+Es,br=180,Hl=br-Es,rs=-90,Qi=rs+Es,Cs=90,bo=Cs-Es;function so(et){return et.length>0}function Aa(et){return et===rs||et===Cs?[0,et]:[el,(rt=et,Math.floor(rt*Ls)/Ls)];var rt}function Bo(et){var rt=et[0],ct=et[1],N=!1;return rt<=yl?(rt=el,N=!0):rt>=Hl&&(rt=br,N=!0),ct<=Qi?(ct=rs,N=!0):ct>=bo&&(ct=Cs,N=!0),N?[rt,ct]:et}function lo(et){return et.map(Bo)}function is(et,rt,ct){for(var N=0,Y=et.length;N<Y;++N){var G=et[N].slice();ct.push({index:-1,polygon:rt,ring:G});for(var L=0,q=G.length;L<q;++L){var ee=G[L],ie=ee[0],fe=ee[1];if(ie<=yl||ie>=Hl||fe<=Qi||fe>=bo){G[L]=Bo(ee);for(var we=L+1;we<q;++we){var Oe=G[we],Be=Oe[0],Ge=Oe[1];if(Be>yl&&Be<Hl&&Ge>Qi&&Ge<bo)break}if(we===L+1)continue;if(L){var Ye={index:-1,polygon:rt,ring:G.slice(0,L+1)};Ye.ring[Ye.ring.length-1]=Aa(fe),ct[ct.length-1]=Ye}else ct.pop();if(we>=q)break;ct.push({index:-1,polygon:rt,ring:G=G.slice(we-1)}),G[0]=Aa(G[0][1]),L=-1,q=G.length}}}}function ql(et){var rt,ct,N,Y,G,L,q=et.length,ee={},ie={};for(rt=0;rt<q;++rt)N=(ct=et[rt]).ring[0],G=ct.ring[ct.ring.length-1],N[0]!==G[0]||N[1]!==G[1]?(ct.index=rt,ee[N]=ie[G]=ct):(ct.polygon.push(ct.ring),et[rt]=null);for(rt=0;rt<q;++rt)if(ct=et[rt]){if(N=ct.ring[0],G=ct.ring[ct.ring.length-1],Y=ie[N],L=ee[G],delete ee[N],delete ie[G],N[0]===G[0]&&N[1]===G[1]){ct.polygon.push(ct.ring);continue}Y?(delete ie[N],delete ee[Y.ring[0]],Y.ring.pop(),et[Y.index]=null,ct={index:-1,polygon:Y.polygon,ring:Y.ring.concat(ct.ring)},Y===L?ct.polygon.push(ct.ring):(ct.index=q++,et.push(ee[ct.ring[0]]=ie[ct.ring[ct.ring.length-1]]=ct))):L?(delete ee[G],delete ie[L.ring[L.ring.length-1]],ct.ring.pop(),ct={index:q++,polygon:L.polygon,ring:ct.ring.concat(L.ring)},et[L.index]=null,et.push(ee[ct.ring[0]]=ie[ct.ring[ct.ring.length-1]]=ct)):(ct.ring.push(ct.ring[0]),ct.polygon.push(ct.ring))}}function Ps(et){var rt={type:"Feature",geometry:ei(et.geometry)};return et.id!=null&&(rt.id=et.id),et.bbox!=null&&(rt.bbox=et.bbox),et.properties!=null&&(rt.properties=et.properties),rt}function ei(et){if(et==null)return et;var rt,ct,N,Y;switch(et.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:et.geometries.map(ei)};break;case"Point":rt={type:"Point",coordinates:Bo(et.coordinates)};break;case"MultiPoint":case"LineString":rt={type:et.type,coordinates:lo(et.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:et.coordinates.map(lo)};break;case"Polygon":var G=[];is(et.coordinates,G,ct=[]),ql(ct),rt={type:"Polygon",coordinates:G};break;case"MultiPolygon":ct=[],N=-1,Y=et.coordinates.length;for(var L=new Array(Y);++N<Y;)is(et.coordinates[N],L[N]=[],ct);ql(ct),rt={type:"MultiPolygon",coordinates:L.filter(so)};break;default:return et}return et.bbox!=null&&(rt.bbox=et.bbox),rt}function sa(et){if(et==null)return et;switch(et.type){case"Feature":return Ps(et);case"FeatureCollection":var rt={type:"FeatureCollection",features:et.features.map(Ps)};return et.bbox!=null&&(rt.bbox=et.bbox),rt;default:return ei(et)}}function Ia(et,rt){var ct=h(rt/2),N=u(g*ct);return[et*(.74482-.34588*N*N),1.70711*ct]}function No(){return(0,k.c)(Ia).scale(146.153)}function za(et,rt,ct){var N=(0,Ks.c)(rt,ct),Y=N(.5),G=(0,Qe.c)([-Y[0],-Y[1]])(rt),L=N.distance/2,q=-E(u(G[1]*T)/u(L)),ee=[-Y[0],-Y[1],-(G[0]>0?d-q:q)*S],ie=(0,k.c)(et(L)).rotate(ee),fe=(0,Qe.c)(ee),we=ie.center;return delete ie.rotate,ie.center=function(Oe){return arguments.length?we(fe(Oe)):fe.invert(we())},ie.clipAngle(90)}function xl(et){var rt=b(et);function ct(N,Y){var G=(0,ni.Y)(N,Y);return G[0]*=rt,G}return ct.invert=function(N,Y){return ni.Y.invert(N/rt,Y)},ct}function bl(){return Da([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Da(et,rt){return za(xl,et,rt)}function $r(et){if(!(et*=2))return K.O;var rt=-et/2,ct=-rt,N=et*et,Y=h(ct),G=.5/u(ct);function L(q,ee){var ie=O(b(ee)*b(q-rt)),fe=O(b(ee)*b(q-ct));return[((ie*=ie)-(fe*=fe))/(2*et),(ee<0?-1:1)*P(4*N*fe-(N-ie+fe)*(N-ie+fe))/(2*et)]}return L.invert=function(q,ee){var ie,fe,we=ee*ee,Oe=b(P(we+(ie=q+rt)*ie)),Be=b(P(we+(ie=q+ct)*ie));return[w(fe=Oe-Be,ie=(Oe+Be)*Y),(ee<0?-1:1)*O(P(ie*ie+fe*fe)*G)]},L}function jo(){return tl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function tl(et,rt){return za($r,et,rt)}function _o(et,rt){if(A(rt)<c)return[et,0];var ct=A(rt/v),N=E(ct);if(A(et)<c||A(A(rt)-v)<c)return[0,l(rt)*d*h(N/2)];var Y=b(N),G=A(d/et-et/d)/2,L=G*G,q=Y/(ct+Y-1),ee=q*(2/ct-1),ie=ee*ee,fe=ie+L,we=q-ie,Oe=L+q;return[l(et)*d*(G*we+P(L*we*we-fe*(q*q-ie)))/fe,l(rt)*d*(ee*Oe-G*P((L+1)*fe-Oe*Oe))/fe]}function _l(){return(0,k.c)(_o).scale(79.4183)}function wl(et,rt){if(A(rt)<c)return[et,0];var ct=A(rt/v),N=E(ct);if(A(et)<c||A(A(rt)-v)<c)return[0,l(rt)*d*h(N/2)];var Y=b(N),G=A(d/et-et/d)/2,L=G*G,q=Y*(P(1+L)-G*Y)/(1+L*ct*ct);return[l(et)*d*q,l(rt)*d*P(1-q*(2*G+q))]}function wo(){return(0,k.c)(wl).scale(79.4183)}function _i(et,rt){if(A(rt)<c)return[et,0];var ct=rt/v,N=E(ct);if(A(et)<c||A(A(rt)-v)<c)return[0,d*h(N/2)];var Y=(d/et-et/d)/2,G=ct/(1+b(N));return[d*(l(et)*P(Y*Y+1-G*G)-Y),d*G]}function nl(){return(0,k.c)(_i).scale(79.4183)}function Pr(et,rt){if(!rt)return[et,0];var ct=A(rt);if(!et||ct===v)return[0,rt];var N=ct/v,Y=N*N,G=(8*N-Y*(Y+2)-5)/(2*Y*(N-1)),L=G*G,q=N*G,ee=Y+L+2*q,ie=N+3*G,fe=et/v,we=fe+1/fe,Oe=l(A(et)-v)*P(we*we-4),Be=Oe*Oe,Ge=(Oe*(ee+L-1)+2*P(ee*(Y+L*Be-1)+(1-Y)*(Y*(ie*ie+4*L)+12*q*L+4*L*L)))/(4*ee+Be);return[l(et)*v*Ge,l(rt)*v*P(1+Oe*A(Ge)-Ge*Ge)]}function Fr(){return(0,k.c)(Pr).scale(127.16)}function Xa(et,rt,ct,N){var Y=d/3;et=i(et,c),rt=i(rt,c),et=r(et,v),rt=r(rt,d-c),ct=i(ct,0),ct=r(ct,100-c);var G=(N=i(N,c))/100,L=O((ct/100+1)*b(Y))/Y,q=u(et)/u(L*v),ee=rt/d,ie=P(G*u(et/2)/u(rt/2));return function(fe,we,Oe,Be,Ge){function Ye(at,pt){var vt=Oe*u(Be*pt),kt=P(1-vt*vt),Ot=P(2/(1+kt*b(at*=Ge)));return[fe*kt*Ot*u(at),we*vt*Ot]}return Ye.invert=function(at,pt){var vt=at/fe,kt=pt/we,Ot=P(vt*vt+kt*kt),St=2*E(Ot/2);return[w(at*h(St),fe*Ot)/Ge,Ot&&E(pt*u(St)/(we*Oe*Ot))/Be]},Ye}(ie/P(ee*q*L),1/(ie*P(ee*q*L)),q,L,ee)}function Uo(){var et=65*T,rt=60*T,ct=20,N=200,Y=(0,k.U)(Xa),G=Y(et,rt,ct,N);return G.poleline=function(L){return arguments.length?Y(et=+L*T,rt,ct,N):et*S},G.parallels=function(L){return arguments.length?Y(et,rt=+L*T,ct,N):rt*S},G.inflation=function(L){return arguments.length?Y(et,rt,ct=+L,N):ct},G.ratio=function(L){return arguments.length?Y(et,rt,ct,N=+L):N},G.scale(163.775)}function as(){return Uo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ia.invert=function(et,rt){var ct=rt/1.70711,N=u(g*ct);return[et/(.74482-.34588*N*N),2*o(ct)]},_o.invert=function(et,rt){if(A(rt)<c)return[et,0];if(A(et)<c)return[0,v*u(2*o(rt/d))];var ct=(et/=d)*et,N=(rt/=d)*rt,Y=ct+N,G=Y*Y,L=-A(rt)*(1+Y),q=L-2*N+ct,ee=-2*L+1+2*N+G,ie=N/ee+(2*q*q*q/(ee*ee*ee)-9*L*q/(ee*ee))/27,fe=(L-q*q/(3*ee))/ee,we=2*P(-fe/3),Oe=O(3*ie/(fe*we))/3;return[d*(Y-1+P(1+2*(ct-N)+G))/(2*et),l(rt)*d*(-we*b(Oe+d/3)-q/(3*ee))]},wl.invert=function(et,rt){if(!et)return[0,v*u(2*o(rt/d))];var ct=A(et/d),N=(1-ct*ct-(rt/=d)*rt)/(2*ct),Y=P(N*N+1);return[l(et)*d*(Y-N),l(rt)*v*u(2*w(P((1-2*N*ct)*(N+Y)-ct),P(Y+N+ct)))]},_i.invert=function(et,rt){if(!rt)return[et,0];var ct=rt/d,N=(d*d*(1-ct*ct)-et*et)/(2*d*et);return[et?d*(l(et)*P(N*N+1)-N):0,v*u(2*o(ct))]},Pr.invert=function(et,rt){var ct;if(!et||!rt)return[et,rt];rt/=d;var N=l(et)*et/v,Y=(N*N-1+4*rt*rt)/A(N),G=Y*Y,L=2*rt,q=50;do{var ee=L*L,ie=(8*L-ee*(ee+2)-5)/(2*ee*(L-1)),fe=(3*L-ee*L-10)/(2*ee*L),we=ie*ie,Oe=L*ie,Be=L+ie,Ge=Be*Be,Ye=L+3*ie,at=-2*Be*(4*Oe*we+(1-4*ee+3*ee*ee)*(1+fe)+we*(14*ee-6-G+(8*ee-8-2*G)*fe)+Oe*(12*ee-8+(10*ee-10-G)*fe)),pt=P(Ge*(ee+we*G-1)+(1-ee)*(ee*(Ye*Ye+4*we)+we*(12*Oe+4*we)));L-=ct=(Y*(Ge+we-1)+2*pt-N*(4*Ge+G))/(Y*(2*ie*fe+2*Be*(1+fe))+at/pt-8*Be*(Y*(-1+we+Ge)+2*pt)*(1+fe)/(G+4*Ge))}while(ct>c&&--q>0);return[l(et)*(P(Y*Y+4)+Y)*d/4,v*L]};var qi=4*d+3*P(3),Vo=2*P(2*d*P(3)/qi),ui=ye(Vo*P(3)/d,Vo,qi/6);function tc(){return(0,k.c)(ui).scale(176.84)}function Ka(et,rt){return[et*P(1-3*rt*rt/(d*d)),rt]}function pi(){return(0,k.c)(Ka).scale(152.63)}function Si(et,rt){var ct=b(rt),N=b(et)*ct,Y=1-N,G=b(et=w(u(et)*ct,-u(rt))),L=u(et);return[L*(ct=P(1-N*N))-G*Y,-G*ct-L*Y]}function Ua(){return(0,k.c)(Si).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Os(et,rt){var ct=j(et,rt);return[(ct[0]+et/v)/2,(ct[1]+rt)/2]}function Pu(){return(0,k.c)(Os).scale(158.837)}Ka.invert=function(et,rt){return[et/P(1-3*rt*rt/(d*d)),rt]},Si.invert=function(et,rt){var ct=(et*et+rt*rt)/-2,N=P(-ct*(2+ct)),Y=rt*ct+et*N,G=et*ct-rt*N,L=P(G*G+Y*Y);return[w(N*Y,L*(1+ct)),L?-E(N*G/L):0]},Os.invert=function(et,rt){var ct=et,N=rt,Y=25;do{var G,L=b(N),q=u(N),ee=u(2*N),ie=q*q,fe=L*L,we=u(ct),Oe=b(ct/2),Be=u(ct/2),Ge=Be*Be,Ye=1-fe*Oe*Oe,at=Ye?O(L*Oe)*P(G=1/Ye):G=0,pt=.5*(2*at*L*Be+ct/v)-et,vt=.5*(at*q+N)-rt,kt=.5*G*(fe*Ge+at*L*Oe*ie)+.5/v,Ot=G*(we*ee/4-at*q*Be),St=.125*G*(ee*Be-at*q*fe*we),jt=.5*G*(ie*Oe+at*Ge*L)+.5,It=Ot*St-jt*kt,$t=(vt*Ot-pt*jt)/It,Zt=(pt*St-vt*kt)/It;ct-=$t,N-=Zt}while((A($t)>c||A(Zt)>c)&&--Y>0);return[ct,N]}},88728:function(U,C,e){function k(){return new A}function A(){this.reset()}e.d(C,{c:function(){return k}}),A.prototype={constructor:A,reset:function(){this.s=this.t=0},add:function(b){w(o,b,this.t),w(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new A;function w(b,f,s){var n=b.s=f+s,i=n-f,r=n-i;b.t=f-r+(s-i)}},95384:function(U,C,e){e.d(C,{cp:function(){return y},mQ:function(){return r},oB:function(){return a}});var k,A,o,w,b,f=e(88728),s=e(64528),n=e(70932),i=e(16016),r=(0,f.c)(),t=(0,f.c)(),a={point:n.c,lineStart:n.c,lineEnd:n.c,polygonStart:function(){r.reset(),a.lineStart=l,a.lineEnd=u},polygonEnd:function(){var d=+r;t.add(d<0?s.kD+d:d),this.lineStart=this.lineEnd=this.point=n.c},sphere:function(){t.add(s.kD)}};function l(){a.point=h}function u(){c(k,A)}function h(d,v){a.point=c,k=d,A=v,d*=s.qw,v*=s.qw,o=d,w=(0,s.W8)(v=v/2+s.wL),b=(0,s.g$)(v)}function c(d,v){d*=s.qw,v=(v*=s.qw)/2+s.wL;var g=d-o,x=g>=0?1:-1,m=x*g,_=(0,s.W8)(v),p=(0,s.g$)(v),S=b*p,T=w*_+S*(0,s.W8)(m),E=S*x*(0,s.g$)(m);r.add((0,s.WE)(E,T)),o=d,w=_,b=p}function y(d){return t.reset(),(0,i.c)(d,a),2*t}},13696:function(U,C,e){e.d(C,{c:function(){return O}});var k,A,o,w,b,f,s,n,i,r,t=e(88728),a=e(95384),l=e(84220),u=e(64528),h=e(16016),c=(0,t.c)(),y={point:d,lineStart:g,lineEnd:x,polygonStart:function(){y.point=m,y.lineStart=_,y.lineEnd=p,c.reset(),a.oB.polygonStart()},polygonEnd:function(){a.oB.polygonEnd(),y.point=d,y.lineStart=g,y.lineEnd=x,a.mQ<0?(k=-(o=180),A=-(w=90)):c>u.Gg?w=90:c<-u.Gg&&(A=-90),r[0]=k,r[1]=o},sphere:function(){k=-(o=180),A=-(w=90)}};function d(P,I){i.push(r=[k=P,o=P]),I<A&&(A=I),I>w&&(w=I)}function v(P,I){var R=(0,l.ux)([P*u.qw,I*u.qw]);if(n){var H=(0,l.CW)(n,R),z=[H[1],-H[0],0],j=(0,l.CW)(z,H);(0,l.cJ)(j),j=(0,l.G)(j);var Z,F=P-b,V=F>0?1:-1,W=j[0]*u.oh*V,re=(0,u.a2)(F)>180;re^(V*b<W&&W<V*P)?(Z=j[1]*u.oh)>w&&(w=Z):re^(V*b<(W=(W+360)%360-180)&&W<V*P)?(Z=-j[1]*u.oh)<A&&(A=Z):(I<A&&(A=I),I>w&&(w=I)),re?P<b?S(k,P)>S(k,o)&&(o=P):S(P,o)>S(k,o)&&(k=P):o>=k?(P<k&&(k=P),P>o&&(o=P)):P>b?S(k,P)>S(k,o)&&(o=P):S(P,o)>S(k,o)&&(k=P)}else i.push(r=[k=P,o=P]);I<A&&(A=I),I>w&&(w=I),n=R,b=P}function g(){y.point=v}function x(){r[0]=k,r[1]=o,y.point=d,n=null}function m(P,I){if(n){var R=P-b;c.add((0,u.a2)(R)>180?R+(R>0?360:-360):R)}else f=P,s=I;a.oB.point(P,I),v(P,I)}function _(){a.oB.lineStart()}function p(){m(f,s),a.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(k=-(o=180)),r[0]=k,r[1]=o,n=null}function S(P,I){return(I-=P)<0?I+360:I}function T(P,I){return P[0]-I[0]}function E(P,I){return P[0]<=P[1]?P[0]<=I&&I<=P[1]:I<P[0]||P[1]<I}function O(P){var I,R,H,z,j,Z,F;if(w=o=-(k=A=1/0),i=[],(0,h.c)(P,y),R=i.length){for(i.sort(T),I=1,j=[H=i[0]];I<R;++I)E(H,(z=i[I])[0])||E(H,z[1])?(S(H[0],z[1])>S(H[0],H[1])&&(H[1]=z[1]),S(z[0],H[1])>S(H[0],H[1])&&(H[0]=z[0])):j.push(H=z);for(Z=-1/0,I=0,H=j[R=j.length-1];I<=R;H=z,++I)z=j[I],(F=S(H[1],z[0]))>Z&&(Z=F,k=z[0],o=H[1])}return i=r=null,k===1/0||A===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,A],[o,w]]}},84220:function(U,C,e){e.d(C,{CW:function(){return b},Ez:function(){return w},G:function(){return A},cJ:function(){return n},mg:function(){return f},ux:function(){return o},wx:function(){return s}});var k=e(64528);function A(i){return[(0,k.WE)(i[1],i[0]),(0,k.qR)(i[2])]}function o(i){var r=i[0],t=i[1],a=(0,k.W8)(t);return[a*(0,k.W8)(r),a*(0,k.g$)(r),(0,k.g$)(t)]}function w(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}function b(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]}function f(i,r){i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}function s(i,r){return[i[0]*r,i[1]*r,i[2]*r]}function n(i){var r=(0,k._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=r,i[1]/=r,i[2]/=r}},24052:function(U,C,e){e.d(C,{c:function(){return R}});var k,A,o,w,b,f,s,n,i,r,t,a,l,u,h,c,y=e(64528),d=e(70932),v=e(16016),g={sphere:d.c,point:x,lineStart:_,lineEnd:T,polygonStart:function(){g.lineStart=E,g.lineEnd=O},polygonEnd:function(){g.lineStart=_,g.lineEnd=T}};function x(H,z){H*=y.qw,z*=y.qw;var j=(0,y.W8)(z);m(j*(0,y.W8)(H),j*(0,y.g$)(H),(0,y.g$)(z))}function m(H,z,j){++k,o+=(H-o)/k,w+=(z-w)/k,b+=(j-b)/k}function _(){g.point=p}function p(H,z){H*=y.qw,z*=y.qw;var j=(0,y.W8)(z);u=j*(0,y.W8)(H),h=j*(0,y.g$)(H),c=(0,y.g$)(z),g.point=S,m(u,h,c)}function S(H,z){H*=y.qw,z*=y.qw;var j=(0,y.W8)(z),Z=j*(0,y.W8)(H),F=j*(0,y.g$)(H),V=(0,y.g$)(z),W=(0,y.WE)((0,y._I)((W=h*V-c*F)*W+(W=c*Z-u*V)*W+(W=u*F-h*Z)*W),u*Z+h*F+c*V);A+=W,f+=W*(u+(u=Z)),s+=W*(h+(h=F)),n+=W*(c+(c=V)),m(u,h,c)}function T(){g.point=x}function E(){g.point=P}function O(){I(a,l),g.point=x}function P(H,z){a=H,l=z,H*=y.qw,z*=y.qw,g.point=I;var j=(0,y.W8)(z);u=j*(0,y.W8)(H),h=j*(0,y.g$)(H),c=(0,y.g$)(z),m(u,h,c)}function I(H,z){H*=y.qw,z*=y.qw;var j=(0,y.W8)(z),Z=j*(0,y.W8)(H),F=j*(0,y.g$)(H),V=(0,y.g$)(z),W=h*V-c*F,re=c*Z-u*V,ne=u*F-h*Z,te=(0,y._I)(W*W+re*re+ne*ne),Q=(0,y.qR)(te),$=te&&-Q/te;i+=$*W,r+=$*re,t+=$*ne,A+=Q,f+=Q*(u+(u=Z)),s+=Q*(h+(h=F)),n+=Q*(c+(c=V)),m(u,h,c)}function R(H){k=A=o=w=b=f=s=n=i=r=t=0,(0,v.c)(H,g);var z=i,j=r,Z=t,F=z*z+j*j+Z*Z;return F<y.a8&&(z=f,j=s,Z=n,A<y.Gg&&(z=o,j=w,Z=b),(F=z*z+j*j+Z*Z)<y.a8)?[NaN,NaN]:[(0,y.WE)(j,z)*y.oh,(0,y.qR)(Z/(0,y._I)(F))*y.oh]}},61780:function(U,C,e){e.d(C,{Q:function(){return b},c:function(){return s}});var k=e(84220);function A(n){return function(){return n}}var o=e(64528),w=e(92992);function b(n,i,r,t,a,l){if(r){var u=(0,o.W8)(i),h=(0,o.g$)(i),c=t*r;a==null?(a=i+t*o.kD,l=i-c/2):(a=f(u,a),l=f(u,l),(t>0?a<l:a>l)&&(a+=t*o.kD));for(var y,d=a;t>0?d>l:d<l;d-=c)y=(0,k.G)([u,-h*(0,o.W8)(d),-h*(0,o.g$)(d)]),n.point(y[0],y[1])}}function f(n,i){(i=(0,k.ux)(i))[0]-=n,(0,k.cJ)(i);var r=(0,o.mE)(-i[1]);return((-i[2]<0?-r:r)+o.kD-o.Gg)%o.kD}function s(){var n,i,r=A([0,0]),t=A(90),a=A(6),l={point:function(h,c){n.push(h=i(h,c)),h[0]*=o.oh,h[1]*=o.oh}};function u(){var h=r.apply(this,arguments),c=t.apply(this,arguments)*o.qw,y=a.apply(this,arguments)*o.qw;return n=[],i=(0,w.O)(-h[0]*o.qw,-h[1]*o.qw,0).invert,b(l,c,y,1),h={type:"Polygon",coordinates:[n]},n=i=null,h}return u.center=function(h){return arguments.length?(r=typeof h=="function"?h:A([+h[0],+h[1]]),u):r},u.radius=function(h){return arguments.length?(t=typeof h=="function"?h:A(+h),u):t},u.precision=function(h){return arguments.length?(a=typeof h=="function"?h:A(+h),u):a},u}},78284:function(U,C,e){var k=e(14229),A=e(64528);C.c=(0,k.c)(function(){return!0},function(o){var w,b=NaN,f=NaN,s=NaN;return{lineStart:function(){o.lineStart(),w=1},point:function(n,i){var r=n>0?A.pi:-A.pi,t=(0,A.a2)(n-b);(0,A.a2)(t-A.pi)<A.Gg?(o.point(b,f=(f+i)/2>0?A.or:-A.or),o.point(s,f),o.lineEnd(),o.lineStart(),o.point(r,f),o.point(n,f),w=0):s!==r&&t>=A.pi&&((0,A.a2)(b-s)<A.Gg&&(b-=s*A.Gg),(0,A.a2)(n-r)<A.Gg&&(n-=r*A.Gg),f=function(a,l,u,h){var c,y,d=(0,A.g$)(a-u);return(0,A.a2)(d)>A.Gg?(0,A.MQ)(((0,A.g$)(l)*(y=(0,A.W8)(h))*(0,A.g$)(u)-(0,A.g$)(h)*(c=(0,A.W8)(l))*(0,A.g$)(a))/(c*y*d)):(l+h)/2}(b,f,n,i),o.point(s,f),o.lineEnd(),o.lineStart(),o.point(r,f),w=0),o.point(b=n,f=i),s=r},lineEnd:function(){o.lineEnd(),b=f=NaN},clean:function(){return 2-w}}},function(o,w,b,f){var s;if(o==null)s=b*A.or,f.point(-A.pi,s),f.point(0,s),f.point(A.pi,s),f.point(A.pi,0),f.point(A.pi,-s),f.point(0,-s),f.point(-A.pi,-s),f.point(-A.pi,0),f.point(-A.pi,s);else if((0,A.a2)(o[0]-w[0])>A.Gg){var n=o[0]<w[0]?A.pi:-A.pi;s=b*n/2,f.point(-n,s),f.point(0,s),f.point(n,s)}else f.point(w[0],w[1])},[-A.pi,-A.or])},97208:function(U,C,e){e.d(C,{c:function(){return A}});var k=e(70932);function A(){var o,w=[];return{point:function(b,f,s){o.push([b,f,s])},lineStart:function(){w.push(o=[])},lineEnd:k.c,rejoin:function(){w.length>1&&w.push(w.pop().concat(w.shift()))},result:function(){var b=w;return w=[],o=null,b}}}},2728:function(U,C,e){e.d(C,{c:function(){return f}});var k=e(84220),A=e(61780),o=e(64528),w=e(41860),b=e(14229);function f(s){var n=(0,o.W8)(s),i=6*o.qw,r=n>0,t=(0,o.a2)(n)>o.Gg;function a(h,c){return(0,o.W8)(h)*(0,o.W8)(c)>n}function l(h,c,y){var d=(0,k.ux)(h),v=(0,k.ux)(c),g=[1,0,0],x=(0,k.CW)(d,v),m=(0,k.Ez)(x,x),_=x[0],p=m-_*_;if(!p)return!y&&h;var S=n*m/p,T=-n*_/p,E=(0,k.CW)(g,x),O=(0,k.wx)(g,S),P=(0,k.wx)(x,T);(0,k.mg)(O,P);var I=E,R=(0,k.Ez)(O,I),H=(0,k.Ez)(I,I),z=R*R-H*((0,k.Ez)(O,O)-1);if(!(z<0)){var j=(0,o._I)(z),Z=(0,k.wx)(I,(-R-j)/H);if((0,k.mg)(Z,O),Z=(0,k.G)(Z),!y)return Z;var F,V=h[0],W=c[0],re=h[1],ne=c[1];W<V&&(F=V,V=W,W=F);var te=W-V,Q=(0,o.a2)(te-o.pi)<o.Gg;if(!Q&&ne<re&&(F=re,re=ne,ne=F),Q||te<o.Gg?Q?re+ne>0^Z[1]<((0,o.a2)(Z[0]-V)<o.Gg?re:ne):re<=Z[1]&&Z[1]<=ne:te>o.pi^(V<=Z[0]&&Z[0]<=W)){var $=(0,k.wx)(I,(-R+j)/H);return(0,k.mg)($,O),[Z,(0,k.G)($)]}}}function u(h,c){var y=r?s:o.pi-s,d=0;return h<-y?d|=1:h>y&&(d|=2),c<-y?d|=4:c>y&&(d|=8),d}return(0,b.c)(a,function(h){var c,y,d,v,g;return{lineStart:function(){v=d=!1,g=1},point:function(x,m){var _,p=[x,m],S=a(x,m),T=r?S?0:u(x,m):S?u(x+(x<0?o.pi:-o.pi),m):0;if(!c&&(v=d=S)&&h.lineStart(),S!==d&&(!(_=l(c,p))||(0,w.c)(c,_)||(0,w.c)(p,_))&&(p[2]=1),S!==d)g=0,S?(h.lineStart(),_=l(p,c),h.point(_[0],_[1])):(_=l(c,p),h.point(_[0],_[1],2),h.lineEnd()),c=_;else if(t&&c&&r^S){var E;T&y||!(E=l(p,c,!0))||(g=0,r?(h.lineStart(),h.point(E[0][0],E[0][1]),h.point(E[1][0],E[1][1]),h.lineEnd()):(h.point(E[1][0],E[1][1]),h.lineEnd(),h.lineStart(),h.point(E[0][0],E[0][1],3)))}!S||c&&(0,w.c)(c,p)||h.point(p[0],p[1]),c=p,d=S,y=T},lineEnd:function(){d&&h.lineEnd(),c=null},clean:function(){return g|(v&&d)<<1}}},function(h,c,y,d){(0,A.Q)(d,s,i,y,h,c)},r?[0,-s]:[-o.pi,s-o.pi])}},14229:function(U,C,e){e.d(C,{c:function(){return f}});var k=e(97208),A=e(32232),o=e(64528),w=e(58196),b=e(84706);function f(i,r,t,a){return function(l){var u,h,c,y=r(l),d=(0,k.c)(),v=r(d),g=!1,x={point:m,lineStart:p,lineEnd:S,polygonStart:function(){x.point=T,x.lineStart=E,x.lineEnd=O,h=[],u=[]},polygonEnd:function(){x.point=m,x.lineStart=p,x.lineEnd=S,h=(0,b.Uf)(h);var P=(0,w.c)(u,a);h.length?(g||(l.polygonStart(),g=!0),(0,A.c)(h,n,P,t,l)):P&&(g||(l.polygonStart(),g=!0),l.lineStart(),t(null,null,1,l),l.lineEnd()),g&&(l.polygonEnd(),g=!1),h=u=null},sphere:function(){l.polygonStart(),l.lineStart(),t(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function m(P,I){i(P,I)&&l.point(P,I)}function _(P,I){y.point(P,I)}function p(){x.point=_,y.lineStart()}function S(){x.point=m,y.lineEnd()}function T(P,I){c.push([P,I]),v.point(P,I)}function E(){v.lineStart(),c=[]}function O(){T(c[0][0],c[0][1]),v.lineEnd();var P,I,R,H,z=v.clean(),j=d.result(),Z=j.length;if(c.pop(),u.push(c),c=null,Z)if(1&z){if((I=(R=j[0]).length-1)>0){for(g||(l.polygonStart(),g=!0),l.lineStart(),P=0;P<I;++P)l.point((H=R[P])[0],H[1]);l.lineEnd()}}else Z>1&&2&z&&j.push(j.pop().concat(j.shift())),h.push(j.filter(s))}return x}}function s(i){return i.length>1}function n(i,r){return((i=i.x)[0]<0?i[1]-o.or-o.Gg:o.or-i[1])-((r=r.x)[0]<0?r[1]-o.or-o.Gg:o.or-r[1])}},21676:function(U,C,e){e.d(C,{c:function(){return s}});var k=e(64528),A=e(97208),o=e(32232),w=e(84706),b=1e9,f=-b;function s(n,i,r,t){function a(y,d){return n<=y&&y<=r&&i<=d&&d<=t}function l(y,d,v,g){var x=0,m=0;if(y==null||(x=u(y,v))!==(m=u(d,v))||c(y,d)<0^v>0)do g.point(x===0||x===3?n:r,x>1?t:i);while((x=(x+v+4)%4)!==m);else g.point(d[0],d[1])}function u(y,d){return(0,k.a2)(y[0]-n)<k.Gg?d>0?0:3:(0,k.a2)(y[0]-r)<k.Gg?d>0?2:1:(0,k.a2)(y[1]-i)<k.Gg?d>0?1:0:d>0?3:2}function h(y,d){return c(y.x,d.x)}function c(y,d){var v=u(y,1),g=u(d,1);return v!==g?v-g:v===0?d[1]-y[1]:v===1?y[0]-d[0]:v===2?y[1]-d[1]:d[0]-y[0]}return function(y){var d,v,g,x,m,_,p,S,T,E,O,P=y,I=(0,A.c)(),R={point:H,lineStart:function(){R.point=z,v&&v.push(g=[]),E=!0,T=!1,p=S=NaN},lineEnd:function(){d&&(z(x,m),_&&T&&I.rejoin(),d.push(I.result())),R.point=H,T&&P.lineEnd()},polygonStart:function(){P=I,d=[],v=[],O=!0},polygonEnd:function(){var j=function(){for(var V=0,W=0,re=v.length;W<re;++W)for(var ne,te,Q=v[W],$=1,K=Q.length,ae=Q[0],ue=ae[0],se=ae[1];$<K;++$)ne=ue,te=se,ue=(ae=Q[$])[0],se=ae[1],te<=t?se>t&&(ue-ne)*(t-te)>(se-te)*(n-ne)&&++V:se<=t&&(ue-ne)*(t-te)<(se-te)*(n-ne)&&--V;return V}(),Z=O&&j,F=(d=(0,w.Uf)(d)).length;(Z||F)&&(y.polygonStart(),Z&&(y.lineStart(),l(null,null,1,y),y.lineEnd()),F&&(0,o.c)(d,h,j,l,y),y.polygonEnd()),P=y,d=v=g=null}};function H(j,Z){a(j,Z)&&P.point(j,Z)}function z(j,Z){var F=a(j,Z);if(v&&g.push([j,Z]),E)x=j,m=Z,_=F,E=!1,F&&(P.lineStart(),P.point(j,Z));else if(F&&T)P.point(j,Z);else{var V=[p=Math.max(f,Math.min(b,p)),S=Math.max(f,Math.min(b,S))],W=[j=Math.max(f,Math.min(b,j)),Z=Math.max(f,Math.min(b,Z))];(function(re,ne,te,Q,$,K){var ae,ue=re[0],se=re[1],he=0,pe=1,de=ne[0]-ue,xe=ne[1]-se;if(ae=te-ue,de||!(ae>0)){if(ae/=de,de<0){if(ae<he)return;ae<pe&&(pe=ae)}else if(de>0){if(ae>pe)return;ae>he&&(he=ae)}if(ae=$-ue,de||!(ae<0)){if(ae/=de,de<0){if(ae>pe)return;ae>he&&(he=ae)}else if(de>0){if(ae<he)return;ae<pe&&(pe=ae)}if(ae=Q-se,xe||!(ae>0)){if(ae/=xe,xe<0){if(ae<he)return;ae<pe&&(pe=ae)}else if(xe>0){if(ae>pe)return;ae>he&&(he=ae)}if(ae=K-se,xe||!(ae<0)){if(ae/=xe,xe<0){if(ae>pe)return;ae>he&&(he=ae)}else if(xe>0){if(ae<he)return;ae<pe&&(pe=ae)}return he>0&&(re[0]=ue+he*de,re[1]=se+he*xe),pe<1&&(ne[0]=ue+pe*de,ne[1]=se+pe*xe),!0}}}}})(V,W,n,i,r,t)?(T||(P.lineStart(),P.point(V[0],V[1])),P.point(W[0],W[1]),F||P.lineEnd(),O=!1):F&&(P.lineStart(),P.point(j,Z),O=!1)}p=j,S=Z,T=F}return R}}},32232:function(U,C,e){e.d(C,{c:function(){return w}});var k=e(41860),A=e(64528);function o(f,s,n,i){this.x=f,this.z=s,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function w(f,s,n,i,r){var t,a,l=[],u=[];if(f.forEach(function(g){if(!((x=g.length-1)<=0)){var x,m,_=g[0],p=g[x];if((0,k.c)(_,p)){if(!_[2]&&!p[2]){for(r.lineStart(),t=0;t<x;++t)r.point((_=g[t])[0],_[1]);return void r.lineEnd()}p[0]+=2*A.Gg}l.push(m=new o(_,g,null,!0)),u.push(m.o=new o(_,null,m,!1)),l.push(m=new o(p,g,null,!1)),u.push(m.o=new o(p,null,m,!0))}}),l.length){for(u.sort(s),b(l),b(u),t=0,a=u.length;t<a;++t)u[t].e=n=!n;for(var h,c,y=l[0];;){for(var d=y,v=!0;d.v;)if((d=d.n)===y)return;h=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(v)for(t=0,a=h.length;t<a;++t)r.point((c=h[t])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(v)for(h=d.p.z,t=h.length-1;t>=0;--t)r.point((c=h[t])[0],c[1]);else i(d.x,d.p.x,-1,r);d=d.p}h=(d=d.o).z,v=!v}while(!d.v);r.lineEnd()}}}function b(f){if(s=f.length){for(var s,n,i=0,r=f[0];++i<s;)r.n=n=f[i],n.p=r,r=n;r.n=n=f[0],n.p=r}}},68120:function(U,C,e){function k(A,o){function w(b,f){return b=A(b,f),o(b[0],b[1])}return A.invert&&o.invert&&(w.invert=function(b,f){return(b=o.invert(b,f))&&A.invert(b[0],b[1])}),w}e.d(C,{c:function(){return k}})},7376:function(U,C,e){function k(A){return A}e.d(C,{c:function(){return k}})},83356:function(U,C,e){e.r(C),e.d(C,{geoAlbers:function(){return bt},geoAlbersUsa:function(){return Lt},geoArea:function(){return k.cp},geoAzimuthalEqualArea:function(){return wt.c},geoAzimuthalEqualAreaRaw:function(){return wt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return A.c},geoCentroid:function(){return o.c},geoCircle:function(){return w.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return f.c},geoClipExtent:function(){return n},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return Jt},geoConicConformalRaw:function(){return qt},geoConicEqualArea:function(){return yt},geoConicEqualAreaRaw:function(){return gt},geoConicEquidistant:function(){return An},geoConicEquidistantRaw:function(){return zn},geoContains:function(){return j},geoDistance:function(){return S},geoEqualEarth:function(){return kn},geoEqualEarthRaw:function(){return wn},geoEquirectangular:function(){return Ut.c},geoEquirectangularRaw:function(){return Ut.u},geoGnomonic:function(){return Pn.c},geoGnomonicRaw:function(){return Pn.Y},geoGraticule:function(){return W},geoGraticule10:function(){return re},geoIdentity:function(){return En},geoInterpolate:function(){return K.c},geoLength:function(){return m},geoMercator:function(){return Nt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Vn.c},geoNaturalEarth1Raw:function(){return Vn.g},geoOrthographic:function(){return Fn.c},geoOrthographicRaw:function(){return Fn.t},geoPath:function(){return Ue},geoProjection:function(){return st.c},geoProjectionMutator:function(){return st.U},geoRotation:function(){return zt.c},geoStereographic:function(){return ir},geoStereographicRaw:function(){return rr},geoStream:function(){return c.c},geoTransform:function(){return On.c},geoTransverseMercator:function(){return dr},geoTransverseMercatorRaw:function(){return Jn}});var k=e(95384),A=e(13696),o=e(24052),w=e(61780),b=e(78284),f=e(2728),s=e(21676);function n(){var nn,an,In,yn=0,Dn=0,Zn=960,Hn=500;return In={stream:function(Qn){return nn&&an===Qn?nn:nn=(0,s.c)(yn,Dn,Zn,Hn)(an=Qn)},extent:function(Qn){return arguments.length?(yn=+Qn[0][0],Dn=+Qn[0][1],Zn=+Qn[1][0],Hn=+Qn[1][1],nn=an=null,In):[[yn,Dn],[Zn,Hn]]}}}var i,r,t,a=e(58196),l=e(88728),u=e(64528),h=e(70932),c=e(16016),y=(0,l.c)(),d={sphere:h.c,point:h.c,lineStart:function(){d.point=g,d.lineEnd=v},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function v(){d.point=d.lineEnd=h.c}function g(nn,an){nn*=u.qw,an*=u.qw,i=nn,r=(0,u.g$)(an),t=(0,u.W8)(an),d.point=x}function x(nn,an){nn*=u.qw,an*=u.qw;var In=(0,u.g$)(an),yn=(0,u.W8)(an),Dn=(0,u.a2)(nn-i),Zn=(0,u.W8)(Dn),Hn=yn*(0,u.g$)(Dn),Qn=t*In-r*yn*Zn,mr=r*In+t*yn*Zn;y.add((0,u.WE)((0,u._I)(Hn*Hn+Qn*Qn),mr)),i=nn,r=In,t=yn}function m(nn){return y.reset(),(0,c.c)(nn,d),+y}var _=[null,null],p={type:"LineString",coordinates:_};function S(nn,an){return _[0]=nn,_[1]=an,m(p)}var T={Feature:function(nn,an){return O(nn.geometry,an)},FeatureCollection:function(nn,an){for(var In=nn.features,yn=-1,Dn=In.length;++yn<Dn;)if(O(In[yn].geometry,an))return!0;return!1}},E={Sphere:function(){return!0},Point:function(nn,an){return P(nn.coordinates,an)},MultiPoint:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(P(In[yn],an))return!0;return!1},LineString:function(nn,an){return I(nn.coordinates,an)},MultiLineString:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(I(In[yn],an))return!0;return!1},Polygon:function(nn,an){return R(nn.coordinates,an)},MultiPolygon:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(R(In[yn],an))return!0;return!1},GeometryCollection:function(nn,an){for(var In=nn.geometries,yn=-1,Dn=In.length;++yn<Dn;)if(O(In[yn],an))return!0;return!1}};function O(nn,an){return!(!nn||!E.hasOwnProperty(nn.type))&&E[nn.type](nn,an)}function P(nn,an){return S(nn,an)===0}function I(nn,an){for(var In,yn,Dn,Zn=0,Hn=nn.length;Zn<Hn;Zn++){if((yn=S(nn[Zn],an))===0||Zn>0&&(Dn=S(nn[Zn],nn[Zn-1]))>0&&In<=Dn&&yn<=Dn&&(In+yn-Dn)*(1-Math.pow((In-yn)/Dn,2))<u.a8*Dn)return!0;In=yn}return!1}function R(nn,an){return!!(0,a.c)(nn.map(H),z(an))}function H(nn){return(nn=nn.map(z)).pop(),nn}function z(nn){return[nn[0]*u.qw,nn[1]*u.qw]}function j(nn,an){return(nn&&T.hasOwnProperty(nn.type)?T[nn.type]:O)(nn,an)}var Z=e(84706);function F(nn,an,In){var yn=(0,Z.ik)(nn,an-u.Gg,In).concat(an);return function(Dn){return yn.map(function(Zn){return[Dn,Zn]})}}function V(nn,an,In){var yn=(0,Z.ik)(nn,an-u.Gg,In).concat(an);return function(Dn){return yn.map(function(Zn){return[Zn,Dn]})}}function W(){var nn,an,In,yn,Dn,Zn,Hn,Qn,mr,Qt,xn,At,Wt=10,en=Wt,dn=90,gn=360,_n=2.5;function on(){return{type:"MultiLineString",coordinates:Yt()}}function Yt(){return(0,Z.ik)((0,u.Km)(yn/dn)*dn,In,dn).map(xn).concat((0,Z.ik)((0,u.Km)(Qn/gn)*gn,Hn,gn).map(At)).concat((0,Z.ik)((0,u.Km)(an/Wt)*Wt,nn,Wt).filter(function(Xt){return(0,u.a2)(Xt%dn)>u.Gg}).map(mr)).concat((0,Z.ik)((0,u.Km)(Zn/en)*en,Dn,en).filter(function(Xt){return(0,u.a2)(Xt%gn)>u.Gg}).map(Qt))}return on.lines=function(){return Yt().map(function(Xt){return{type:"LineString",coordinates:Xt}})},on.outline=function(){return{type:"Polygon",coordinates:[xn(yn).concat(At(Hn).slice(1),xn(In).reverse().slice(1),At(Qn).reverse().slice(1))]}},on.extent=function(Xt){return arguments.length?on.extentMajor(Xt).extentMinor(Xt):on.extentMinor()},on.extentMajor=function(Xt){return arguments.length?(yn=+Xt[0][0],In=+Xt[1][0],Qn=+Xt[0][1],Hn=+Xt[1][1],yn>In&&(Xt=yn,yn=In,In=Xt),Qn>Hn&&(Xt=Qn,Qn=Hn,Hn=Xt),on.precision(_n)):[[yn,Qn],[In,Hn]]},on.extentMinor=function(Xt){return arguments.length?(an=+Xt[0][0],nn=+Xt[1][0],Zn=+Xt[0][1],Dn=+Xt[1][1],an>nn&&(Xt=an,an=nn,nn=Xt),Zn>Dn&&(Xt=Zn,Zn=Dn,Dn=Xt),on.precision(_n)):[[an,Zn],[nn,Dn]]},on.step=function(Xt){return arguments.length?on.stepMajor(Xt).stepMinor(Xt):on.stepMinor()},on.stepMajor=function(Xt){return arguments.length?(dn=+Xt[0],gn=+Xt[1],on):[dn,gn]},on.stepMinor=function(Xt){return arguments.length?(Wt=+Xt[0],en=+Xt[1],on):[Wt,en]},on.precision=function(Xt){return arguments.length?(_n=+Xt,mr=F(Zn,Dn,90),Qt=V(an,nn,_n),xn=F(Qn,Hn,90),At=V(yn,In,_n),on):_n},on.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function re(){return W()()}var ne,te,Q,$,K=e(27284),ae=e(7376),ue=(0,l.c)(),se=(0,l.c)(),he={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){he.lineStart=pe,he.lineEnd=_e},polygonEnd:function(){he.lineStart=he.lineEnd=he.point=h.c,ue.add((0,u.a2)(se)),se.reset()},result:function(){var nn=ue/2;return ue.reset(),nn}};function pe(){he.point=de}function de(nn,an){he.point=xe,ne=Q=nn,te=$=an}function xe(nn,an){se.add($*nn-Q*an),Q=nn,$=an}function _e(){xe(ne,te)}var be,Le,De,ye,le=he,oe=e(73784),ve=0,Ce=0,ke=0,Ae=0,Ee=0,ze=0,Fe=0,ge=0,Te=0,Se={point:Re,lineStart:Pe,lineEnd:Qe,polygonStart:function(){Se.lineStart=lt,Se.lineEnd=ut},polygonEnd:function(){Se.point=Re,Se.lineStart=Pe,Se.lineEnd=Qe},result:function(){var nn=Te?[Fe/Te,ge/Te]:ze?[Ae/ze,Ee/ze]:ke?[ve/ke,Ce/ke]:[NaN,NaN];return ve=Ce=ke=Ae=Ee=ze=Fe=ge=Te=0,nn}};function Re(nn,an){ve+=nn,Ce+=an,++ke}function Pe(){Se.point=Ve}function Ve(nn,an){Se.point=We,Re(De=nn,ye=an)}function We(nn,an){var In=nn-De,yn=an-ye,Dn=(0,u._I)(In*In+yn*yn);Ae+=Dn*(De+nn)/2,Ee+=Dn*(ye+an)/2,ze+=Dn,Re(De=nn,ye=an)}function Qe(){Se.point=Re}function lt(){Se.point=xt}function ut(){_t(be,Le)}function xt(nn,an){Se.point=_t,Re(be=De=nn,Le=ye=an)}function _t(nn,an){var In=nn-De,yn=an-ye,Dn=(0,u._I)(In*In+yn*yn);Ae+=Dn*(De+nn)/2,Ee+=Dn*(ye+an)/2,ze+=Dn,Fe+=(Dn=ye*nn-De*an)*(De+nn),ge+=Dn*(ye+an),Te+=3*Dn,Re(De=nn,ye=an)}var mt=Se;function it(nn){this._context=nn}it.prototype={_radius:4.5,pointRadius:function(nn){return this._radius=nn,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(nn,an){switch(this._point){case 0:this._context.moveTo(nn,an),this._point=1;break;case 1:this._context.lineTo(nn,an);break;default:this._context.moveTo(nn+this._radius,an),this._context.arc(nn,an,this._radius,0,u.kD)}},result:h.c};var nt,Et,Rt,Ft,Pt,Ze=(0,l.c)(),$e={point:h.c,lineStart:function(){$e.point=He},lineEnd:function(){nt&&Je(Et,Rt),$e.point=h.c},polygonStart:function(){nt=!0},polygonEnd:function(){nt=null},result:function(){var nn=+Ze;return Ze.reset(),nn}};function He(nn,an){$e.point=Je,Et=Ft=nn,Rt=Pt=an}function Je(nn,an){Ft-=nn,Pt-=an,Ze.add((0,u._I)(Ft*Ft+Pt*Pt)),Ft=nn,Pt=an}var ft=$e;function ot(){this._string=[]}function je(nn){return"m0,"+nn+"a"+nn+","+nn+" 0 1,1 0,"+-2*nn+"a"+nn+","+nn+" 0 1,1 0,"+2*nn+"z"}function Ue(nn,an){var In,yn,Dn=4.5;function Zn(Hn){return Hn&&(typeof Dn=="function"&&yn.pointRadius(+Dn.apply(this,arguments)),(0,c.c)(Hn,In(yn))),yn.result()}return Zn.area=function(Hn){return(0,c.c)(Hn,In(le)),le.result()},Zn.measure=function(Hn){return(0,c.c)(Hn,In(ft)),ft.result()},Zn.bounds=function(Hn){return(0,c.c)(Hn,In(oe.c)),oe.c.result()},Zn.centroid=function(Hn){return(0,c.c)(Hn,In(mt)),mt.result()},Zn.projection=function(Hn){return arguments.length?(In=Hn==null?(nn=null,ae.c):(nn=Hn).stream,Zn):nn},Zn.context=function(Hn){return arguments.length?(yn=Hn==null?(an=null,new ot):new it(an=Hn),typeof Dn!="function"&&yn.pointRadius(Dn),Zn):an},Zn.pointRadius=function(Hn){return arguments.length?(Dn=typeof Hn=="function"?Hn:(yn.pointRadius(+Hn),+Hn),Zn):Dn},Zn.projection(nn).context(an)}ot.prototype={_radius:4.5,_circle:je(4.5),pointRadius:function(nn){return(nn=+nn)!==this._radius&&(this._radius=nn,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(nn,an){switch(this._point){case 0:this._string.push("M",nn,",",an),this._point=1;break;case 1:this._string.push("L",nn,",",an);break;default:this._circle==null&&(this._circle=je(this._radius)),this._string.push("M",nn,",",an,this._circle)}},result:function(){if(this._string.length){var nn=this._string.join("");return this._string=[],nn}return null}};var st=e(87952);function Ke(nn){var an=0,In=u.pi/3,yn=(0,st.U)(nn),Dn=yn(an,In);return Dn.parallels=function(Zn){return arguments.length?yn(an=Zn[0]*u.qw,In=Zn[1]*u.qw):[an*u.oh,In*u.oh]},Dn}function gt(nn,an){var In=(0,u.g$)(nn),yn=(In+(0,u.g$)(an))/2;if((0,u.a2)(yn)<u.Gg)return function(Qn){var mr=(0,u.W8)(Qn);function Qt(xn,At){return[xn*mr,(0,u.g$)(At)/mr]}return Qt.invert=function(xn,At){return[xn/mr,(0,u.qR)(At*mr)]},Qt}(nn);var Dn=1+In*(2*yn-In),Zn=(0,u._I)(Dn)/yn;function Hn(Qn,mr){var Qt=(0,u._I)(Dn-2*yn*(0,u.g$)(mr))/yn;return[Qt*(0,u.g$)(Qn*=yn),Zn-Qt*(0,u.W8)(Qn)]}return Hn.invert=function(Qn,mr){var Qt=Zn-mr,xn=(0,u.WE)(Qn,(0,u.a2)(Qt))*(0,u.kq)(Qt);return Qt*yn<0&&(xn-=u.pi*(0,u.kq)(Qn)*(0,u.kq)(Qt)),[xn/yn,(0,u.qR)((Dn-(Qn*Qn+Qt*Qt)*yn*yn)/(2*yn))]},Hn}function yt(){return Ke(gt).scale(155.424).center([0,33.6442])}function bt(){return yt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dt=e(86420);function Lt(){var nn,an,In,yn,Dn,Zn,Hn=bt(),Qn=yt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),mr=yt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Qt={point:function(Wt,en){Zn=[Wt,en]}};function xn(Wt){var en=Wt[0],dn=Wt[1];return Zn=null,In.point(en,dn),Zn||(yn.point(en,dn),Zn)||(Dn.point(en,dn),Zn)}function At(){return nn=an=null,xn}return xn.invert=function(Wt){var en=Hn.scale(),dn=Hn.translate(),gn=(Wt[0]-dn[0])/en,_n=(Wt[1]-dn[1])/en;return(_n>=.12&&_n<.234&&gn>=-.425&&gn<-.214?Qn:_n>=.166&&_n<.234&&gn>=-.214&&gn<-.115?mr:Hn).invert(Wt)},xn.stream=function(Wt){return nn&&an===Wt?nn:(en=[Hn.stream(an=Wt),Qn.stream(Wt),mr.stream(Wt)],dn=en.length,nn={point:function(gn,_n){for(var on=-1;++on<dn;)en[on].point(gn,_n)},sphere:function(){for(var gn=-1;++gn<dn;)en[gn].sphere()},lineStart:function(){for(var gn=-1;++gn<dn;)en[gn].lineStart()},lineEnd:function(){for(var gn=-1;++gn<dn;)en[gn].lineEnd()},polygonStart:function(){for(var gn=-1;++gn<dn;)en[gn].polygonStart()},polygonEnd:function(){for(var gn=-1;++gn<dn;)en[gn].polygonEnd()}});var en,dn},xn.precision=function(Wt){return arguments.length?(Hn.precision(Wt),Qn.precision(Wt),mr.precision(Wt),At()):Hn.precision()},xn.scale=function(Wt){return arguments.length?(Hn.scale(Wt),Qn.scale(.35*Wt),mr.scale(Wt),xn.translate(Hn.translate())):Hn.scale()},xn.translate=function(Wt){if(!arguments.length)return Hn.translate();var en=Hn.scale(),dn=+Wt[0],gn=+Wt[1];return In=Hn.translate(Wt).clipExtent([[dn-.455*en,gn-.238*en],[dn+.455*en,gn+.238*en]]).stream(Qt),yn=Qn.translate([dn-.307*en,gn+.201*en]).clipExtent([[dn-.425*en+u.Gg,gn+.12*en+u.Gg],[dn-.214*en-u.Gg,gn+.234*en-u.Gg]]).stream(Qt),Dn=mr.translate([dn-.205*en,gn+.212*en]).clipExtent([[dn-.214*en+u.Gg,gn+.166*en+u.Gg],[dn-.115*en-u.Gg,gn+.234*en-u.Gg]]).stream(Qt),At()},xn.fitExtent=function(Wt,en){return(0,dt.QX)(xn,Wt,en)},xn.fitSize=function(Wt,en){return(0,dt.UV)(xn,Wt,en)},xn.fitWidth=function(Wt,en){return(0,dt.Qx)(xn,Wt,en)},xn.fitHeight=function(Wt,en){return(0,dt.OW)(xn,Wt,en)},xn.scale(1070)}var wt=e(54724),Ct=e(69020),zt=e(92992);function Dt(nn,an){return[nn,(0,u.Yz)((0,u.a6)((u.or+an)/2))]}function Nt(){return Kt(Dt).scale(961/u.kD)}function Kt(nn){var an,In,yn,Dn=(0,st.c)(nn),Zn=Dn.center,Hn=Dn.scale,Qn=Dn.translate,mr=Dn.clipExtent,Qt=null;function xn(){var At=u.pi*Hn(),Wt=Dn((0,zt.c)(Dn.rotate()).invert([0,0]));return mr(Qt==null?[[Wt[0]-At,Wt[1]-At],[Wt[0]+At,Wt[1]+At]]:nn===Dt?[[Math.max(Wt[0]-At,Qt),an],[Math.min(Wt[0]+At,In),yn]]:[[Qt,Math.max(Wt[1]-At,an)],[In,Math.min(Wt[1]+At,yn)]])}return Dn.scale=function(At){return arguments.length?(Hn(At),xn()):Hn()},Dn.translate=function(At){return arguments.length?(Qn(At),xn()):Qn()},Dn.center=function(At){return arguments.length?(Zn(At),xn()):Zn()},Dn.clipExtent=function(At){return arguments.length?(At==null?Qt=an=In=yn=null:(Qt=+At[0][0],an=+At[0][1],In=+At[1][0],yn=+At[1][1]),xn()):Qt==null?null:[[Qt,an],[In,yn]]},xn()}function un(nn){return(0,u.a6)((u.or+nn)/2)}function qt(nn,an){var In=(0,u.W8)(nn),yn=nn===an?(0,u.g$)(nn):(0,u.Yz)(In/(0,u.W8)(an))/(0,u.Yz)(un(an)/un(nn)),Dn=In*(0,u.g3)(un(nn),yn)/yn;if(!yn)return Dt;function Zn(Hn,Qn){Dn>0?Qn<-u.or+u.Gg&&(Qn=-u.or+u.Gg):Qn>u.or-u.Gg&&(Qn=u.or-u.Gg);var mr=Dn/(0,u.g3)(un(Qn),yn);return[mr*(0,u.g$)(yn*Hn),Dn-mr*(0,u.W8)(yn*Hn)]}return Zn.invert=function(Hn,Qn){var mr=Dn-Qn,Qt=(0,u.kq)(yn)*(0,u._I)(Hn*Hn+mr*mr),xn=(0,u.WE)(Hn,(0,u.a2)(mr))*(0,u.kq)(mr);return mr*yn<0&&(xn-=u.pi*(0,u.kq)(Hn)*(0,u.kq)(mr)),[xn/yn,2*(0,u.MQ)((0,u.g3)(Dn/Qt,1/yn))-u.or]},Zn}function Jt(){return Ke(qt).scale(109.5).parallels([30,30])}Dt.invert=function(nn,an){return[nn,2*(0,u.MQ)((0,u.oN)(an))-u.or]};var Ut=e(69604);function zn(nn,an){var In=(0,u.W8)(nn),yn=nn===an?(0,u.g$)(nn):(In-(0,u.W8)(an))/(an-nn),Dn=In/yn+nn;if((0,u.a2)(yn)<u.Gg)return Ut.u;function Zn(Hn,Qn){var mr=Dn-Qn,Qt=yn*Hn;return[mr*(0,u.g$)(Qt),Dn-mr*(0,u.W8)(Qt)]}return Zn.invert=function(Hn,Qn){var mr=Dn-Qn,Qt=(0,u.WE)(Hn,(0,u.a2)(mr))*(0,u.kq)(mr);return mr*yn<0&&(Qt-=u.pi*(0,u.kq)(Hn)*(0,u.kq)(mr)),[Qt/yn,Dn-(0,u.kq)(yn)*(0,u._I)(Hn*Hn+mr*mr)]},Zn}function An(){return Ke(zn).scale(131.154).center([0,13.9389])}var mn=1.340264,tn=-.081106,fn=893e-6,rn=.003796,pn=(0,u._I)(3)/2;function wn(nn,an){var In=(0,u.qR)(pn*(0,u.g$)(an)),yn=In*In,Dn=yn*yn*yn;return[nn*(0,u.W8)(In)/(pn*(mn+3*tn*yn+Dn*(7*fn+9*rn*yn))),In*(mn+tn*yn+Dn*(fn+rn*yn))]}function kn(){return(0,st.c)(wn).scale(177.158)}wn.invert=function(nn,an){for(var In,yn=an,Dn=yn*yn,Zn=Dn*Dn*Dn,Hn=0;Hn<12&&(Zn=(Dn=(yn-=In=(yn*(mn+tn*Dn+Zn*(fn+rn*Dn))-an)/(mn+3*tn*Dn+Zn*(7*fn+9*rn*Dn)))*yn)*Dn*Dn,!((0,u.a2)(In)<u.a8));++Hn);return[pn*nn*(mn+3*tn*Dn+Zn*(7*fn+9*rn*Dn))/(0,u.W8)(yn),(0,u.qR)((0,u.g$)(yn)/pn)]};var Pn=e(53285),On=e(15196);function En(){var nn,an,In,yn,Dn,Zn,Hn,Qn=1,mr=0,Qt=0,xn=1,At=1,Wt=0,en=null,dn=1,gn=1,_n=(0,On.s)({point:function(sn,hn){var Sn=Xt([sn,hn]);this.stream.point(Sn[0],Sn[1])}}),on=ae.c;function Yt(){return dn=Qn*xn,gn=Qn*At,Zn=Hn=null,Xt}function Xt(sn){var hn=sn[0]*dn,Sn=sn[1]*gn;if(Wt){var Cn=Sn*nn-hn*an;hn=hn*nn+Sn*an,Sn=Cn}return[hn+mr,Sn+Qt]}return Xt.invert=function(sn){var hn=sn[0]-mr,Sn=sn[1]-Qt;if(Wt){var Cn=Sn*nn+hn*an;hn=hn*nn-Sn*an,Sn=Cn}return[hn/dn,Sn/gn]},Xt.stream=function(sn){return Zn&&Hn===sn?Zn:Zn=_n(on(Hn=sn))},Xt.postclip=function(sn){return arguments.length?(on=sn,en=In=yn=Dn=null,Yt()):on},Xt.clipExtent=function(sn){return arguments.length?(on=sn==null?(en=In=yn=Dn=null,ae.c):(0,s.c)(en=+sn[0][0],In=+sn[0][1],yn=+sn[1][0],Dn=+sn[1][1]),Yt()):en==null?null:[[en,In],[yn,Dn]]},Xt.scale=function(sn){return arguments.length?(Qn=+sn,Yt()):Qn},Xt.translate=function(sn){return arguments.length?(mr=+sn[0],Qt=+sn[1],Yt()):[mr,Qt]},Xt.angle=function(sn){return arguments.length?(Wt=sn%360*u.qw,an=(0,u.g$)(Wt),nn=(0,u.W8)(Wt),Yt()):Wt*u.oh},Xt.reflectX=function(sn){return arguments.length?(xn=sn?-1:1,Yt()):xn<0},Xt.reflectY=function(sn){return arguments.length?(At=sn?-1:1,Yt()):At<0},Xt.fitExtent=function(sn,hn){return(0,dt.QX)(Xt,sn,hn)},Xt.fitSize=function(sn,hn){return(0,dt.UV)(Xt,sn,hn)},Xt.fitWidth=function(sn,hn){return(0,dt.Qx)(Xt,sn,hn)},Xt.fitHeight=function(sn,hn){return(0,dt.OW)(Xt,sn,hn)},Xt}var Vn=e(47984),Fn=e(4888),Wn=e(62280);function rr(nn,an){var In=(0,u.W8)(an),yn=1+(0,u.W8)(nn)*In;return[In*(0,u.g$)(nn)/yn,(0,u.g$)(an)/yn]}function ir(){return(0,st.c)(rr).scale(250).clipAngle(142)}function Jn(nn,an){return[(0,u.Yz)((0,u.a6)((u.or+an)/2)),-nn]}function dr(){var nn=Kt(Jn),an=nn.center,In=nn.rotate;return nn.center=function(yn){return arguments.length?an([-yn[1],yn[0]]):[(yn=an())[1],-yn[0]]},nn.rotate=function(yn){return arguments.length?In([yn[0],yn[1],yn.length>2?yn[2]+90:90]):[(yn=In())[0],yn[1],yn[2]-90]},In([0,0,90]).scale(159.155)}rr.invert=(0,Wn.g)(function(nn){return 2*(0,u.MQ)(nn)}),Jn.invert=function(nn,an){return[-an,2*(0,u.MQ)((0,u.oN)(nn))-u.or]}},27284:function(U,C,e){e.d(C,{c:function(){return A}});var k=e(64528);function A(o,w){var b=o[0]*k.qw,f=o[1]*k.qw,s=w[0]*k.qw,n=w[1]*k.qw,i=(0,k.W8)(f),r=(0,k.g$)(f),t=(0,k.W8)(n),a=(0,k.g$)(n),l=i*(0,k.W8)(b),u=i*(0,k.g$)(b),h=t*(0,k.W8)(s),c=t*(0,k.g$)(s),y=2*(0,k.qR)((0,k._I)((0,k.SD)(n-f)+i*t*(0,k.SD)(s-b))),d=(0,k.g$)(y),v=y?function(g){var x=(0,k.g$)(g*=y)/d,m=(0,k.g$)(y-g)/d,_=m*l+x*h,p=m*u+x*c,S=m*r+x*a;return[(0,k.WE)(p,_)*k.oh,(0,k.WE)(S,(0,k._I)(_*_+p*p))*k.oh]}:function(){return[b*k.oh,f*k.oh]};return v.distance=y,v}},64528:function(U,C,e){e.d(C,{Gg:function(){return k},Km:function(){return l},MQ:function(){return r},SD:function(){return _},W8:function(){return a},WE:function(){return t},Yz:function(){return h},_I:function(){return v},a2:function(){return i},a6:function(){return g},a8:function(){return A},g$:function(){return y},g3:function(){return c},kD:function(){return f},kq:function(){return d},mE:function(){return x},oN:function(){return u},oh:function(){return s},or:function(){return w},pi:function(){return o},qR:function(){return m},qw:function(){return n},wL:function(){return b}});var k=1e-6,A=1e-12,o=Math.PI,w=o/2,b=o/4,f=2*o,s=180/o,n=o/180,i=Math.abs,r=Math.atan,t=Math.atan2,a=Math.cos,l=Math.ceil,u=Math.exp,h=Math.log,c=Math.pow,y=Math.sin,d=Math.sign||function(p){return p>0?1:p<0?-1:0},v=Math.sqrt,g=Math.tan;function x(p){return p>1?0:p<-1?o:Math.acos(p)}function m(p){return p>1?w:p<-1?-w:Math.asin(p)}function _(p){return(p=y(p/2))*p}},70932:function(U,C,e){function k(){}e.d(C,{c:function(){return k}})},73784:function(U,C,e){var k=e(70932),A=1/0,o=A,w=-A,b=w,f={point:function(s,n){s<A&&(A=s),s>w&&(w=s),n<o&&(o=n),n>b&&(b=n)},lineStart:k.c,lineEnd:k.c,polygonStart:k.c,polygonEnd:k.c,result:function(){var s=[[A,o],[w,b]];return w=b=-(o=A=1/0),s}};C.c=f},41860:function(U,C,e){e.d(C,{c:function(){return A}});var k=e(64528);function A(o,w){return(0,k.a2)(o[0]-w[0])<k.Gg&&(0,k.a2)(o[1]-w[1])<k.Gg}},58196:function(U,C,e){e.d(C,{c:function(){return f}});var k=e(88728),A=e(84220),o=e(64528),w=(0,k.c)();function b(s){return(0,o.a2)(s[0])<=o.pi?s[0]:(0,o.kq)(s[0])*(((0,o.a2)(s[0])+o.pi)%o.kD-o.pi)}function f(s,n){var i=b(n),r=n[1],t=(0,o.g$)(r),a=[(0,o.g$)(i),-(0,o.W8)(i),0],l=0,u=0;w.reset(),t===1?r=o.or+o.Gg:t===-1&&(r=-o.or-o.Gg);for(var h=0,c=s.length;h<c;++h)if(d=(y=s[h]).length)for(var y,d,v=y[d-1],g=b(v),x=v[1]/2+o.wL,m=(0,o.g$)(x),_=(0,o.W8)(x),p=0;p<d;++p,g=T,m=O,_=P,v=S){var S=y[p],T=b(S),E=S[1]/2+o.wL,O=(0,o.g$)(E),P=(0,o.W8)(E),I=T-g,R=I>=0?1:-1,H=R*I,z=H>o.pi,j=m*O;if(w.add((0,o.WE)(j*R*(0,o.g$)(H),_*P+j*(0,o.W8)(H))),l+=z?I+R*o.kD:I,z^g>=i^T>=i){var Z=(0,A.CW)((0,A.ux)(v),(0,A.ux)(S));(0,A.cJ)(Z);var F=(0,A.CW)(a,Z);(0,A.cJ)(F);var V=(z^I>=0?-1:1)*(0,o.qR)(F[2]);(r>V||r===V&&(Z[0]||Z[1]))&&(u+=z^I>=0?1:-1)}}return(l<-o.Gg||l<o.Gg&&w<-o.Gg)^1&u}},62280:function(U,C,e){e.d(C,{a:function(){return A},g:function(){return o}});var k=e(64528);function A(w){return function(b,f){var s=(0,k.W8)(b),n=(0,k.W8)(f),i=w(s*n);return[i*n*(0,k.g$)(b),i*(0,k.g$)(f)]}}function o(w){return function(b,f){var s=(0,k._I)(b*b+f*f),n=w(s),i=(0,k.g$)(n),r=(0,k.W8)(n);return[(0,k.WE)(b*i,s*r),(0,k.qR)(s&&f*i/s)]}}},54724:function(U,C,e){e.d(C,{c:function(){return b},y:function(){return w}});var k=e(64528),A=e(62280),o=e(87952),w=(0,A.a)(function(f){return(0,k._I)(2/(1+f))});function b(){return(0,o.c)(w).scale(124.75).clipAngle(179.999)}w.invert=(0,A.g)(function(f){return 2*(0,k.qR)(f/2)})},69020:function(U,C,e){e.d(C,{O:function(){return w},c:function(){return b}});var k=e(64528),A=e(62280),o=e(87952),w=(0,A.a)(function(f){return(f=(0,k.mE)(f))&&f/(0,k.g$)(f)});function b(){return(0,o.c)(w).scale(79.4188).clipAngle(179.999)}w.invert=(0,A.g)(function(f){return f})},69604:function(U,C,e){e.d(C,{c:function(){return o},u:function(){return A}});var k=e(87952);function A(w,b){return[w,b]}function o(){return(0,k.c)(A).scale(152.63)}A.invert=A},86420:function(U,C,e){e.d(C,{OW:function(){return s},QX:function(){return w},Qx:function(){return f},UV:function(){return b}});var k=e(16016),A=e(73784);function o(n,i,r){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),(0,k.c)(r,n.stream(A.c)),i(A.c.result()),t!=null&&n.clipExtent(t),n}function w(n,i,r){return o(n,function(t){var a=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(a/(t[1][0]-t[0][0]),l/(t[1][1]-t[0][1])),h=+i[0][0]+(a-u*(t[1][0]+t[0][0]))/2,c=+i[0][1]+(l-u*(t[1][1]+t[0][1]))/2;n.scale(150*u).translate([h,c])},r)}function b(n,i,r){return w(n,[[0,0],i],r)}function f(n,i,r){return o(n,function(t){var a=+i,l=a/(t[1][0]-t[0][0]),u=(a-l*(t[1][0]+t[0][0]))/2,h=-l*t[0][1];n.scale(150*l).translate([u,h])},r)}function s(n,i,r){return o(n,function(t){var a=+i,l=a/(t[1][1]-t[0][1]),u=-l*t[0][0],h=(a-l*(t[1][1]+t[0][1]))/2;n.scale(150*l).translate([u,h])},r)}},53285:function(U,C,e){e.d(C,{Y:function(){return w},c:function(){return b}});var k=e(64528),A=e(62280),o=e(87952);function w(f,s){var n=(0,k.W8)(s),i=(0,k.W8)(f)*n;return[n*(0,k.g$)(f)/i,(0,k.g$)(s)/i]}function b(){return(0,o.c)(w).scale(144.049).clipAngle(60)}w.invert=(0,A.g)(k.MQ)},87952:function(U,C,e){e.d(C,{c:function(){return y},U:function(){return d}});var k=e(78284),A=e(2728),o=e(21676),w=e(68120),b=e(7376),f=e(64528),s=e(92992),n=e(15196),i=e(86420),r=e(84220),t=16,a=(0,f.W8)(30*f.qw);function l(v,g){return+g?function(x,m){function _(p,S,T,E,O,P,I,R,H,z,j,Z,F,V){var W=I-p,re=R-S,ne=W*W+re*re;if(ne>4*m&&F--){var te=E+z,Q=O+j,$=P+Z,K=(0,f._I)(te*te+Q*Q+$*$),ae=(0,f.qR)($/=K),ue=(0,f.a2)((0,f.a2)($)-1)<f.Gg||(0,f.a2)(T-H)<f.Gg?(T+H)/2:(0,f.WE)(Q,te),se=x(ue,ae),he=se[0],pe=se[1],de=he-p,xe=pe-S,_e=re*de-W*xe;(_e*_e/ne>m||(0,f.a2)((W*de+re*xe)/ne-.5)>.3||E*z+O*j+P*Z<a)&&(_(p,S,T,E,O,P,he,pe,ue,te/=K,Q/=K,$,F,V),V.point(he,pe),_(he,pe,ue,te,Q,$,I,R,H,z,j,Z,F,V))}}return function(p){var S,T,E,O,P,I,R,H,z,j,Z,F,V={point:W,lineStart:re,lineEnd:te,polygonStart:function(){p.polygonStart(),V.lineStart=Q},polygonEnd:function(){p.polygonEnd(),V.lineStart=re}};function W(ae,ue){ae=x(ae,ue),p.point(ae[0],ae[1])}function re(){H=NaN,V.point=ne,p.lineStart()}function ne(ae,ue){var se=(0,r.ux)([ae,ue]),he=x(ae,ue);_(H,z,R,j,Z,F,H=he[0],z=he[1],R=ae,j=se[0],Z=se[1],F=se[2],t,p),p.point(H,z)}function te(){V.point=W,p.lineEnd()}function Q(){re(),V.point=$,V.lineEnd=K}function $(ae,ue){ne(S=ae,ue),T=H,E=z,O=j,P=Z,I=F,V.point=ne}function K(){_(H,z,R,j,Z,F,T,E,S,O,P,I,t,p),V.lineEnd=te,te()}return V}}(v,g):function(x){return(0,n.s)({point:function(m,_){m=x(m,_),this.stream.point(m[0],m[1])}})}(v)}var u=(0,n.s)({point:function(v,g){this.stream.point(v*f.qw,g*f.qw)}});function h(v,g,x,m,_){function p(S,T){return[g+v*(S*=m),x-v*(T*=_)]}return p.invert=function(S,T){return[(S-g)/v*m,(x-T)/v*_]},p}function c(v,g,x,m,_,p){var S=(0,f.W8)(p),T=(0,f.g$)(p),E=S*v,O=T*v,P=S/v,I=T/v,R=(T*x-S*g)/v,H=(T*g+S*x)/v;function z(j,Z){return[E*(j*=m)-O*(Z*=_)+g,x-O*j-E*Z]}return z.invert=function(j,Z){return[m*(P*j-I*Z+R),_*(H-I*j-P*Z)]},z}function y(v){return d(function(){return v})()}function d(v){var g,x,m,_,p,S,T,E,O,P,I=150,R=480,H=250,z=0,j=0,Z=0,F=0,V=0,W=0,re=1,ne=1,te=null,Q=k.c,$=null,K=b.c,ae=.5;function ue(de){return E(de[0]*f.qw,de[1]*f.qw)}function se(de){return(de=E.invert(de[0],de[1]))&&[de[0]*f.oh,de[1]*f.oh]}function he(){var de=c(I,0,0,re,ne,W).apply(null,g(z,j)),xe=(W?c:h)(I,R-de[0],H-de[1],re,ne,W);return x=(0,s.O)(Z,F,V),T=(0,w.c)(g,xe),E=(0,w.c)(x,T),S=l(T,ae),pe()}function pe(){return O=P=null,ue}return ue.stream=function(de){return O&&P===de?O:O=u(function(xe){return(0,n.s)({point:function(_e,be){var Le=xe(_e,be);return this.stream.point(Le[0],Le[1])}})}(x)(Q(S(K(P=de)))))},ue.preclip=function(de){return arguments.length?(Q=de,te=void 0,pe()):Q},ue.postclip=function(de){return arguments.length?(K=de,$=m=_=p=null,pe()):K},ue.clipAngle=function(de){return arguments.length?(Q=+de?(0,A.c)(te=de*f.qw):(te=null,k.c),pe()):te*f.oh},ue.clipExtent=function(de){return arguments.length?(K=de==null?($=m=_=p=null,b.c):(0,o.c)($=+de[0][0],m=+de[0][1],_=+de[1][0],p=+de[1][1]),pe()):$==null?null:[[$,m],[_,p]]},ue.scale=function(de){return arguments.length?(I=+de,he()):I},ue.translate=function(de){return arguments.length?(R=+de[0],H=+de[1],he()):[R,H]},ue.center=function(de){return arguments.length?(z=de[0]%360*f.qw,j=de[1]%360*f.qw,he()):[z*f.oh,j*f.oh]},ue.rotate=function(de){return arguments.length?(Z=de[0]%360*f.qw,F=de[1]%360*f.qw,V=de.length>2?de[2]%360*f.qw:0,he()):[Z*f.oh,F*f.oh,V*f.oh]},ue.angle=function(de){return arguments.length?(W=de%360*f.qw,he()):W*f.oh},ue.reflectX=function(de){return arguments.length?(re=de?-1:1,he()):re<0},ue.reflectY=function(de){return arguments.length?(ne=de?-1:1,he()):ne<0},ue.precision=function(de){return arguments.length?(S=l(T,ae=de*de),pe()):(0,f._I)(ae)},ue.fitExtent=function(de,xe){return(0,i.QX)(ue,de,xe)},ue.fitSize=function(de,xe){return(0,i.UV)(ue,de,xe)},ue.fitWidth=function(de,xe){return(0,i.Qx)(ue,de,xe)},ue.fitHeight=function(de,xe){return(0,i.OW)(ue,de,xe)},function(){return g=v.apply(this,arguments),ue.invert=g.invert&&se,he()}}},47984:function(U,C,e){e.d(C,{c:function(){return w},g:function(){return o}});var k=e(87952),A=e(64528);function o(b,f){var s=f*f,n=s*s;return[b*(.8707-.131979*s+n*(n*(.003971*s-.001529*n)-.013791)),f*(1.007226+s*(.015085+n*(.028874*s-.044475-.005916*n)))]}function w(){return(0,k.c)(o).scale(175.295)}o.invert=function(b,f){var s,n=f,i=25;do{var r=n*n,t=r*r;n-=s=(n*(1.007226+r*(.015085+t*(.028874*r-.044475-.005916*t)))-f)/(1.007226+r*(.045255+t*(.259866*r-.311325-.06507600000000001*t)))}while((0,A.a2)(s)>A.Gg&&--i>0);return[b/(.8707+(r=n*n)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),n]}},4888:function(U,C,e){e.d(C,{c:function(){return b},t:function(){return w}});var k=e(64528),A=e(62280),o=e(87952);function w(f,s){return[(0,k.W8)(s)*(0,k.g$)(f),(0,k.g$)(s)]}function b(){return(0,o.c)(w).scale(249.5).clipAngle(90+k.Gg)}w.invert=(0,A.g)(k.qR)},92992:function(U,C,e){e.d(C,{O:function(){return w},c:function(){return n}});var k=e(68120),A=e(64528);function o(i,r){return[(0,A.a2)(i)>A.pi?i+Math.round(-i/A.kD)*A.kD:i,r]}function w(i,r,t){return(i%=A.kD)?r||t?(0,k.c)(f(i),s(r,t)):f(i):r||t?s(r,t):o}function b(i){return function(r,t){return[(r+=i)>A.pi?r-A.kD:r<-A.pi?r+A.kD:r,t]}}function f(i){var r=b(i);return r.invert=b(-i),r}function s(i,r){var t=(0,A.W8)(i),a=(0,A.g$)(i),l=(0,A.W8)(r),u=(0,A.g$)(r);function h(c,y){var d=(0,A.W8)(y),v=(0,A.W8)(c)*d,g=(0,A.g$)(c)*d,x=(0,A.g$)(y),m=x*t+v*a;return[(0,A.WE)(g*l-m*u,v*t-x*a),(0,A.qR)(m*l+g*u)]}return h.invert=function(c,y){var d=(0,A.W8)(y),v=(0,A.W8)(c)*d,g=(0,A.g$)(c)*d,x=(0,A.g$)(y),m=x*l-g*u;return[(0,A.WE)(g*l+x*u,v*t+m*a),(0,A.qR)(m*t-v*a)]},h}function n(i){function r(t){return(t=i(t[0]*A.qw,t[1]*A.qw))[0]*=A.oh,t[1]*=A.oh,t}return i=w(i[0]*A.qw,i[1]*A.qw,i.length>2?i[2]*A.qw:0),r.invert=function(t){return(t=i.invert(t[0]*A.qw,t[1]*A.qw))[0]*=A.oh,t[1]*=A.oh,t},r}o.invert=o},16016:function(U,C,e){function k(s,n){s&&o.hasOwnProperty(s.type)&&o[s.type](s,n)}e.d(C,{c:function(){return f}});var A={Feature:function(s,n){k(s.geometry,n)},FeatureCollection:function(s,n){for(var i=s.features,r=-1,t=i.length;++r<t;)k(i[r].geometry,n)}},o={Sphere:function(s,n){n.sphere()},Point:function(s,n){s=s.coordinates,n.point(s[0],s[1],s[2])},MultiPoint:function(s,n){for(var i=s.coordinates,r=-1,t=i.length;++r<t;)s=i[r],n.point(s[0],s[1],s[2])},LineString:function(s,n){w(s.coordinates,n,0)},MultiLineString:function(s,n){for(var i=s.coordinates,r=-1,t=i.length;++r<t;)w(i[r],n,0)},Polygon:function(s,n){b(s.coordinates,n)},MultiPolygon:function(s,n){for(var i=s.coordinates,r=-1,t=i.length;++r<t;)b(i[r],n)},GeometryCollection:function(s,n){for(var i=s.geometries,r=-1,t=i.length;++r<t;)k(i[r],n)}};function w(s,n,i){var r,t=-1,a=s.length-i;for(n.lineStart();++t<a;)r=s[t],n.point(r[0],r[1],r[2]);n.lineEnd()}function b(s,n){var i=-1,r=s.length;for(n.polygonStart();++i<r;)w(s[i],n,1);n.polygonEnd()}function f(s,n){s&&A.hasOwnProperty(s.type)?A[s.type](s,n):k(s,n)}},15196:function(U,C,e){function k(w){return{stream:A(w)}}function A(w){return function(b){var f=new o;for(var s in w)f[s]=w[s];return f.stream=b,f}}function o(){}e.d(C,{c:function(){return k},s:function(){return A}}),o.prototype={constructor:o,point:function(w,b){this.stream.point(w,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(U,C,e){function k(oe,ve){return oe.parent===ve.parent?1:2}function A(oe,ve){return oe+ve.x}function o(oe,ve){return Math.max(oe,ve.y)}function w(){var oe=k,ve=1,Ce=1,ke=!1;function Ae(Ee){var ze,Fe=0;Ee.eachAfter(function(Pe){var Ve=Pe.children;Ve?(Pe.x=function(We){return We.reduce(A,0)/We.length}(Ve),Pe.y=function(We){return 1+We.reduce(o,0)}(Ve)):(Pe.x=ze?Fe+=oe(Pe,ze):0,Pe.y=0,ze=Pe)});var ge=function(Pe){for(var Ve;Ve=Pe.children;)Pe=Ve[0];return Pe}(Ee),Te=function(Pe){for(var Ve;Ve=Pe.children;)Pe=Ve[Ve.length-1];return Pe}(Ee),Se=ge.x-oe(ge,Te)/2,Re=Te.x+oe(Te,ge)/2;return Ee.eachAfter(ke?function(Pe){Pe.x=(Pe.x-Ee.x)*ve,Pe.y=(Ee.y-Pe.y)*Ce}:function(Pe){Pe.x=(Pe.x-Se)/(Re-Se)*ve,Pe.y=(1-(Ee.y?Pe.y/Ee.y:1))*Ce})}return Ae.separation=function(Ee){return arguments.length?(oe=Ee,Ae):oe},Ae.size=function(Ee){return arguments.length?(ke=!1,ve=+Ee[0],Ce=+Ee[1],Ae):ke?null:[ve,Ce]},Ae.nodeSize=function(Ee){return arguments.length?(ke=!0,ve=+Ee[0],Ce=+Ee[1],Ae):ke?[ve,Ce]:null},Ae}function b(oe){var ve=0,Ce=oe.children,ke=Ce&&Ce.length;if(ke)for(;--ke>=0;)ve+=Ce[ke].value;else ve=1;oe.value=ve}function f(oe,ve){var Ce,ke,Ae,Ee,ze,Fe=new r(oe),ge=+oe.value&&(Fe.value=oe.value),Te=[Fe];for(ve==null&&(ve=s);Ce=Te.pop();)if(ge&&(Ce.value=+Ce.data.value),(Ae=ve(Ce.data))&&(ze=Ae.length))for(Ce.children=new Array(ze),Ee=ze-1;Ee>=0;--Ee)Te.push(ke=Ce.children[Ee]=new r(Ae[Ee])),ke.parent=Ce,ke.depth=Ce.depth+1;return Fe.eachBefore(i)}function s(oe){return oe.children}function n(oe){oe.data=oe.data.data}function i(oe){var ve=0;do oe.height=ve;while((oe=oe.parent)&&oe.height<++ve)}function r(oe){this.data=oe,this.depth=this.height=0,this.parent=null}e.r(C),e.d(C,{cluster:function(){return w},hierarchy:function(){return f},pack:function(){return I},packEnclose:function(){return a},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return Q},tree:function(){return pe},treemap:function(){return Le},treemapBinary:function(){return De},treemapDice:function(){return Z},treemapResquarify:function(){return le},treemapSlice:function(){return de},treemapSliceDice:function(){return ye},treemapSquarify:function(){return be}}),r.prototype=f.prototype={constructor:r,count:function(){return this.eachAfter(b)},each:function(oe){var ve,Ce,ke,Ae,Ee=this,ze=[Ee];do for(ve=ze.reverse(),ze=[];Ee=ve.pop();)if(oe(Ee),Ce=Ee.children)for(ke=0,Ae=Ce.length;ke<Ae;++ke)ze.push(Ce[ke]);while(ze.length);return this},eachAfter:function(oe){for(var ve,Ce,ke,Ae=this,Ee=[Ae],ze=[];Ae=Ee.pop();)if(ze.push(Ae),ve=Ae.children)for(Ce=0,ke=ve.length;Ce<ke;++Ce)Ee.push(ve[Ce]);for(;Ae=ze.pop();)oe(Ae);return this},eachBefore:function(oe){for(var ve,Ce,ke=this,Ae=[ke];ke=Ae.pop();)if(oe(ke),ve=ke.children)for(Ce=ve.length-1;Ce>=0;--Ce)Ae.push(ve[Ce]);return this},sum:function(oe){return this.eachAfter(function(ve){for(var Ce=+oe(ve.data)||0,ke=ve.children,Ae=ke&&ke.length;--Ae>=0;)Ce+=ke[Ae].value;ve.value=Ce})},sort:function(oe){return this.eachBefore(function(ve){ve.children&&ve.children.sort(oe)})},path:function(oe){for(var ve=this,Ce=function(Ee,ze){if(Ee===ze)return Ee;var Fe=Ee.ancestors(),ge=ze.ancestors(),Te=null;for(Ee=Fe.pop(),ze=ge.pop();Ee===ze;)Te=Ee,Ee=Fe.pop(),ze=ge.pop();return Te}(ve,oe),ke=[ve];ve!==Ce;)ve=ve.parent,ke.push(ve);for(var Ae=ke.length;oe!==Ce;)ke.splice(Ae,0,oe),oe=oe.parent;return ke},ancestors:function(){for(var oe=this,ve=[oe];oe=oe.parent;)ve.push(oe);return ve},descendants:function(){var oe=[];return this.each(function(ve){oe.push(ve)}),oe},leaves:function(){var oe=[];return this.eachBefore(function(ve){ve.children||oe.push(ve)}),oe},links:function(){var oe=this,ve=[];return oe.each(function(Ce){Ce!==oe&&ve.push({source:Ce.parent,target:Ce})}),ve},copy:function(){return f(this).eachBefore(n)}};var t=Array.prototype.slice;function a(oe){for(var ve,Ce,ke=0,Ae=(oe=function(ze){for(var Fe,ge,Te=ze.length;Te;)ge=Math.random()*Te--|0,Fe=ze[Te],ze[Te]=ze[ge],ze[ge]=Fe;return ze}(t.call(oe))).length,Ee=[];ke<Ae;)ve=oe[ke],Ce&&h(Ce,ve)?++ke:(Ce=y(Ee=l(Ee,ve)),ke=0);return Ce}function l(oe,ve){var Ce,ke;if(c(ve,oe))return[ve];for(Ce=0;Ce<oe.length;++Ce)if(u(ve,oe[Ce])&&c(d(oe[Ce],ve),oe))return[oe[Ce],ve];for(Ce=0;Ce<oe.length-1;++Ce)for(ke=Ce+1;ke<oe.length;++ke)if(u(d(oe[Ce],oe[ke]),ve)&&u(d(oe[Ce],ve),oe[ke])&&u(d(oe[ke],ve),oe[Ce])&&c(v(oe[Ce],oe[ke],ve),oe))return[oe[Ce],oe[ke],ve];throw new Error}function u(oe,ve){var Ce=oe.r-ve.r,ke=ve.x-oe.x,Ae=ve.y-oe.y;return Ce<0||Ce*Ce<ke*ke+Ae*Ae}function h(oe,ve){var Ce=oe.r-ve.r+1e-6,ke=ve.x-oe.x,Ae=ve.y-oe.y;return Ce>0&&Ce*Ce>ke*ke+Ae*Ae}function c(oe,ve){for(var Ce=0;Ce<ve.length;++Ce)if(!h(oe,ve[Ce]))return!1;return!0}function y(oe){switch(oe.length){case 1:return{x:(ve=oe[0]).x,y:ve.y,r:ve.r};case 2:return d(oe[0],oe[1]);case 3:return v(oe[0],oe[1],oe[2])}var ve}function d(oe,ve){var Ce=oe.x,ke=oe.y,Ae=oe.r,Ee=ve.x,ze=ve.y,Fe=ve.r,ge=Ee-Ce,Te=ze-ke,Se=Fe-Ae,Re=Math.sqrt(ge*ge+Te*Te);return{x:(Ce+Ee+ge/Re*Se)/2,y:(ke+ze+Te/Re*Se)/2,r:(Re+Ae+Fe)/2}}function v(oe,ve,Ce){var ke=oe.x,Ae=oe.y,Ee=oe.r,ze=ve.x,Fe=ve.y,ge=ve.r,Te=Ce.x,Se=Ce.y,Re=Ce.r,Pe=ke-ze,Ve=ke-Te,We=Ae-Fe,Qe=Ae-Se,lt=ge-Ee,ut=Re-Ee,xt=ke*ke+Ae*Ae-Ee*Ee,_t=xt-ze*ze-Fe*Fe+ge*ge,mt=xt-Te*Te-Se*Se+Re*Re,it=Ve*We-Pe*Qe,nt=(We*mt-Qe*_t)/(2*it)-ke,Et=(Qe*lt-We*ut)/it,Rt=(Ve*_t-Pe*mt)/(2*it)-Ae,Ft=(Pe*ut-Ve*lt)/it,Pt=Et*Et+Ft*Ft-1,Ze=2*(Ee+nt*Et+Rt*Ft),$e=nt*nt+Rt*Rt-Ee*Ee,He=-(Pt?(Ze+Math.sqrt(Ze*Ze-4*Pt*$e))/(2*Pt):$e/Ze);return{x:ke+nt+Et*He,y:Ae+Rt+Ft*He,r:He}}function g(oe,ve,Ce){var ke,Ae,Ee,ze,Fe=oe.x-ve.x,ge=oe.y-ve.y,Te=Fe*Fe+ge*ge;Te?(Ae=ve.r+Ce.r,Ae*=Ae,ze=oe.r+Ce.r,Ae>(ze*=ze)?(ke=(Te+ze-Ae)/(2*Te),Ee=Math.sqrt(Math.max(0,ze/Te-ke*ke)),Ce.x=oe.x-ke*Fe-Ee*ge,Ce.y=oe.y-ke*ge+Ee*Fe):(ke=(Te+Ae-ze)/(2*Te),Ee=Math.sqrt(Math.max(0,Ae/Te-ke*ke)),Ce.x=ve.x+ke*Fe-Ee*ge,Ce.y=ve.y+ke*ge+Ee*Fe)):(Ce.x=ve.x+Ce.r,Ce.y=ve.y)}function x(oe,ve){var Ce=oe.r+ve.r-1e-6,ke=ve.x-oe.x,Ae=ve.y-oe.y;return Ce>0&&Ce*Ce>ke*ke+Ae*Ae}function m(oe){var ve=oe._,Ce=oe.next._,ke=ve.r+Ce.r,Ae=(ve.x*Ce.r+Ce.x*ve.r)/ke,Ee=(ve.y*Ce.r+Ce.y*ve.r)/ke;return Ae*Ae+Ee*Ee}function _(oe){this._=oe,this.next=null,this.previous=null}function p(oe){if(!(Ae=oe.length))return 0;var ve,Ce,ke,Ae,Ee,ze,Fe,ge,Te,Se,Re;if((ve=oe[0]).x=0,ve.y=0,!(Ae>1))return ve.r;if(Ce=oe[1],ve.x=-Ce.r,Ce.x=ve.r,Ce.y=0,!(Ae>2))return ve.r+Ce.r;g(Ce,ve,ke=oe[2]),ve=new _(ve),Ce=new _(Ce),ke=new _(ke),ve.next=ke.previous=Ce,Ce.next=ve.previous=ke,ke.next=Ce.previous=ve;e:for(Fe=3;Fe<Ae;++Fe){g(ve._,Ce._,ke=oe[Fe]),ke=new _(ke),ge=Ce.next,Te=ve.previous,Se=Ce._.r,Re=ve._.r;do if(Se<=Re){if(x(ge._,ke._)){Ce=ge,ve.next=Ce,Ce.previous=ve,--Fe;continue e}Se+=ge._.r,ge=ge.next}else{if(x(Te._,ke._)){(ve=Te).next=Ce,Ce.previous=ve,--Fe;continue e}Re+=Te._.r,Te=Te.previous}while(ge!==Te.next);for(ke.previous=ve,ke.next=Ce,ve.next=Ce.previous=Ce=ke,Ee=m(ve);(ke=ke.next)!==Ce;)(ze=m(ke))<Ee&&(ve=ke,Ee=ze);Ce=ve.next}for(ve=[Ce._],ke=Ce;(ke=ke.next)!==Ce;)ve.push(ke._);for(ke=a(ve),Fe=0;Fe<Ae;++Fe)(ve=oe[Fe]).x-=ke.x,ve.y-=ke.y;return ke.r}function S(oe){return p(oe),oe}function T(oe){if(typeof oe!="function")throw new Error;return oe}function E(){return 0}function O(oe){return function(){return oe}}function P(oe){return Math.sqrt(oe.value)}function I(){var oe=null,ve=1,Ce=1,ke=E;function Ae(Ee){return Ee.x=ve/2,Ee.y=Ce/2,oe?Ee.eachBefore(R(oe)).eachAfter(H(ke,.5)).eachBefore(z(1)):Ee.eachBefore(R(P)).eachAfter(H(E,1)).eachAfter(H(ke,Ee.r/Math.min(ve,Ce))).eachBefore(z(Math.min(ve,Ce)/(2*Ee.r))),Ee}return Ae.radius=function(Ee){return arguments.length?(oe=(ze=Ee)==null?null:T(ze),Ae):oe;var ze},Ae.size=function(Ee){return arguments.length?(ve=+Ee[0],Ce=+Ee[1],Ae):[ve,Ce]},Ae.padding=function(Ee){return arguments.length?(ke=typeof Ee=="function"?Ee:O(+Ee),Ae):ke},Ae}function R(oe){return function(ve){ve.children||(ve.r=Math.max(0,+oe(ve)||0))}}function H(oe,ve){return function(Ce){if(ke=Ce.children){var ke,Ae,Ee,ze=ke.length,Fe=oe(Ce)*ve||0;if(Fe)for(Ae=0;Ae<ze;++Ae)ke[Ae].r+=Fe;if(Ee=p(ke),Fe)for(Ae=0;Ae<ze;++Ae)ke[Ae].r-=Fe;Ce.r=Ee+Fe}}}function z(oe){return function(ve){var Ce=ve.parent;ve.r*=oe,Ce&&(ve.x=Ce.x+oe*ve.x,ve.y=Ce.y+oe*ve.y)}}function j(oe){oe.x0=Math.round(oe.x0),oe.y0=Math.round(oe.y0),oe.x1=Math.round(oe.x1),oe.y1=Math.round(oe.y1)}function Z(oe,ve,Ce,ke,Ae){for(var Ee,ze=oe.children,Fe=-1,ge=ze.length,Te=oe.value&&(ke-ve)/oe.value;++Fe<ge;)(Ee=ze[Fe]).y0=Ce,Ee.y1=Ae,Ee.x0=ve,Ee.x1=ve+=Ee.value*Te}function F(){var oe=1,ve=1,Ce=0,ke=!1;function Ae(Ee){var ze=Ee.height+1;return Ee.x0=Ee.y0=Ce,Ee.x1=oe,Ee.y1=ve/ze,Ee.eachBefore(function(Fe,ge){return function(Te){Te.children&&Z(Te,Te.x0,Fe*(Te.depth+1)/ge,Te.x1,Fe*(Te.depth+2)/ge);var Se=Te.x0,Re=Te.y0,Pe=Te.x1-Ce,Ve=Te.y1-Ce;Pe<Se&&(Se=Pe=(Se+Pe)/2),Ve<Re&&(Re=Ve=(Re+Ve)/2),Te.x0=Se,Te.y0=Re,Te.x1=Pe,Te.y1=Ve}}(ve,ze)),ke&&Ee.eachBefore(j),Ee}return Ae.round=function(Ee){return arguments.length?(ke=!!Ee,Ae):ke},Ae.size=function(Ee){return arguments.length?(oe=+Ee[0],ve=+Ee[1],Ae):[oe,ve]},Ae.padding=function(Ee){return arguments.length?(Ce=+Ee,Ae):Ce},Ae}var V="$",W={depth:-1},re={};function ne(oe){return oe.id}function te(oe){return oe.parentId}function Q(){var oe=ne,ve=te;function Ce(ke){var Ae,Ee,ze,Fe,ge,Te,Se,Re=ke.length,Pe=new Array(Re),Ve={};for(Ee=0;Ee<Re;++Ee)Ae=ke[Ee],ge=Pe[Ee]=new r(Ae),(Te=oe(Ae,Ee,ke))!=null&&(Te+="")&&(Ve[Se=V+(ge.id=Te)]=Se in Ve?re:ge);for(Ee=0;Ee<Re;++Ee)if(ge=Pe[Ee],(Te=ve(ke[Ee],Ee,ke))!=null&&(Te+="")){if(!(Fe=Ve[V+Te]))throw new Error("missing: "+Te);if(Fe===re)throw new Error("ambiguous: "+Te);Fe.children?Fe.children.push(ge):Fe.children=[ge],ge.parent=Fe}else{if(ze)throw new Error("multiple roots");ze=ge}if(!ze)throw new Error("no root");if(ze.parent=W,ze.eachBefore(function(We){We.depth=We.parent.depth+1,--Re}).eachBefore(i),ze.parent=null,Re>0)throw new Error("cycle");return ze}return Ce.id=function(ke){return arguments.length?(oe=T(ke),Ce):oe},Ce.parentId=function(ke){return arguments.length?(ve=T(ke),Ce):ve},Ce}function $(oe,ve){return oe.parent===ve.parent?1:2}function K(oe){var ve=oe.children;return ve?ve[0]:oe.t}function ae(oe){var ve=oe.children;return ve?ve[ve.length-1]:oe.t}function ue(oe,ve,Ce){var ke=Ce/(ve.i-oe.i);ve.c-=ke,ve.s+=Ce,oe.c+=ke,ve.z+=Ce,ve.m+=Ce}function se(oe,ve,Ce){return oe.a.parent===ve.parent?oe.a:Ce}function he(oe,ve){this._=oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ve}function pe(){var oe=$,ve=1,Ce=1,ke=null;function Ae(ge){var Te=function(ut){for(var xt,_t,mt,it,nt,Et=new he(ut,0),Rt=[Et];xt=Rt.pop();)if(mt=xt._.children)for(xt.children=new Array(nt=mt.length),it=nt-1;it>=0;--it)Rt.push(_t=xt.children[it]=new he(mt[it],it)),_t.parent=xt;return(Et.parent=new he(null,0)).children=[Et],Et}(ge);if(Te.eachAfter(Ee),Te.parent.m=-Te.z,Te.eachBefore(ze),ke)ge.eachBefore(Fe);else{var Se=ge,Re=ge,Pe=ge;ge.eachBefore(function(ut){ut.x<Se.x&&(Se=ut),ut.x>Re.x&&(Re=ut),ut.depth>Pe.depth&&(Pe=ut)});var Ve=Se===Re?1:oe(Se,Re)/2,We=Ve-Se.x,Qe=ve/(Re.x+Ve+We),lt=Ce/(Pe.depth||1);ge.eachBefore(function(ut){ut.x=(ut.x+We)*Qe,ut.y=ut.depth*lt})}return ge}function Ee(ge){var Te=ge.children,Se=ge.parent.children,Re=ge.i?Se[ge.i-1]:null;if(Te){(function(Ve){for(var We,Qe=0,lt=0,ut=Ve.children,xt=ut.length;--xt>=0;)(We=ut[xt]).z+=Qe,We.m+=Qe,Qe+=We.s+(lt+=We.c)})(ge);var Pe=(Te[0].z+Te[Te.length-1].z)/2;Re?(ge.z=Re.z+oe(ge._,Re._),ge.m=ge.z-Pe):ge.z=Pe}else Re&&(ge.z=Re.z+oe(ge._,Re._));ge.parent.A=function(Ve,We,Qe){if(We){for(var lt,ut=Ve,xt=Ve,_t=We,mt=ut.parent.children[0],it=ut.m,nt=xt.m,Et=_t.m,Rt=mt.m;_t=ae(_t),ut=K(ut),_t&&ut;)mt=K(mt),(xt=ae(xt)).a=Ve,(lt=_t.z+Et-ut.z-it+oe(_t._,ut._))>0&&(ue(se(_t,Ve,Qe),Ve,lt),it+=lt,nt+=lt),Et+=_t.m,it+=ut.m,Rt+=mt.m,nt+=xt.m;_t&&!ae(xt)&&(xt.t=_t,xt.m+=Et-nt),ut&&!K(mt)&&(mt.t=ut,mt.m+=it-Rt,Qe=Ve)}return Qe}(ge,Re,ge.parent.A||Se[0])}function ze(ge){ge._.x=ge.z+ge.parent.m,ge.m+=ge.parent.m}function Fe(ge){ge.x*=ve,ge.y=ge.depth*Ce}return Ae.separation=function(ge){return arguments.length?(oe=ge,Ae):oe},Ae.size=function(ge){return arguments.length?(ke=!1,ve=+ge[0],Ce=+ge[1],Ae):ke?null:[ve,Ce]},Ae.nodeSize=function(ge){return arguments.length?(ke=!0,ve=+ge[0],Ce=+ge[1],Ae):ke?[ve,Ce]:null},Ae}function de(oe,ve,Ce,ke,Ae){for(var Ee,ze=oe.children,Fe=-1,ge=ze.length,Te=oe.value&&(Ae-Ce)/oe.value;++Fe<ge;)(Ee=ze[Fe]).x0=ve,Ee.x1=ke,Ee.y0=Ce,Ee.y1=Ce+=Ee.value*Te}he.prototype=Object.create(r.prototype);var xe=(1+Math.sqrt(5))/2;function _e(oe,ve,Ce,ke,Ae,Ee){for(var ze,Fe,ge,Te,Se,Re,Pe,Ve,We,Qe,lt,ut=[],xt=ve.children,_t=0,mt=0,it=xt.length,nt=ve.value;_t<it;){ge=Ae-Ce,Te=Ee-ke;do Se=xt[mt++].value;while(!Se&&mt<it);for(Re=Pe=Se,lt=Se*Se*(Qe=Math.max(Te/ge,ge/Te)/(nt*oe)),We=Math.max(Pe/lt,lt/Re);mt<it;++mt){if(Se+=Fe=xt[mt].value,Fe<Re&&(Re=Fe),Fe>Pe&&(Pe=Fe),lt=Se*Se*Qe,(Ve=Math.max(Pe/lt,lt/Re))>We){Se-=Fe;break}We=Ve}ut.push(ze={value:Se,dice:ge<Te,children:xt.slice(_t,mt)}),ze.dice?Z(ze,Ce,ke,Ae,nt?ke+=Te*Se/nt:Ee):de(ze,Ce,ke,nt?Ce+=ge*Se/nt:Ae,Ee),nt-=Se,_t=mt}return ut}var be=function oe(ve){function Ce(ke,Ae,Ee,ze,Fe){_e(ve,ke,Ae,Ee,ze,Fe)}return Ce.ratio=function(ke){return oe((ke=+ke)>1?ke:1)},Ce}(xe);function Le(){var oe=be,ve=!1,Ce=1,ke=1,Ae=[0],Ee=E,ze=E,Fe=E,ge=E,Te=E;function Se(Pe){return Pe.x0=Pe.y0=0,Pe.x1=Ce,Pe.y1=ke,Pe.eachBefore(Re),Ae=[0],ve&&Pe.eachBefore(j),Pe}function Re(Pe){var Ve=Ae[Pe.depth],We=Pe.x0+Ve,Qe=Pe.y0+Ve,lt=Pe.x1-Ve,ut=Pe.y1-Ve;lt<We&&(We=lt=(We+lt)/2),ut<Qe&&(Qe=ut=(Qe+ut)/2),Pe.x0=We,Pe.y0=Qe,Pe.x1=lt,Pe.y1=ut,Pe.children&&(Ve=Ae[Pe.depth+1]=Ee(Pe)/2,We+=Te(Pe)-Ve,Qe+=ze(Pe)-Ve,(lt-=Fe(Pe)-Ve)<We&&(We=lt=(We+lt)/2),(ut-=ge(Pe)-Ve)<Qe&&(Qe=ut=(Qe+ut)/2),oe(Pe,We,Qe,lt,ut))}return Se.round=function(Pe){return arguments.length?(ve=!!Pe,Se):ve},Se.size=function(Pe){return arguments.length?(Ce=+Pe[0],ke=+Pe[1],Se):[Ce,ke]},Se.tile=function(Pe){return arguments.length?(oe=T(Pe),Se):oe},Se.padding=function(Pe){return arguments.length?Se.paddingInner(Pe).paddingOuter(Pe):Se.paddingInner()},Se.paddingInner=function(Pe){return arguments.length?(Ee=typeof Pe=="function"?Pe:O(+Pe),Se):Ee},Se.paddingOuter=function(Pe){return arguments.length?Se.paddingTop(Pe).paddingRight(Pe).paddingBottom(Pe).paddingLeft(Pe):Se.paddingTop()},Se.paddingTop=function(Pe){return arguments.length?(ze=typeof Pe=="function"?Pe:O(+Pe),Se):ze},Se.paddingRight=function(Pe){return arguments.length?(Fe=typeof Pe=="function"?Pe:O(+Pe),Se):Fe},Se.paddingBottom=function(Pe){return arguments.length?(ge=typeof Pe=="function"?Pe:O(+Pe),Se):ge},Se.paddingLeft=function(Pe){return arguments.length?(Te=typeof Pe=="function"?Pe:O(+Pe),Se):Te},Se}function De(oe,ve,Ce,ke,Ae){var Ee,ze,Fe=oe.children,ge=Fe.length,Te=new Array(ge+1);for(Te[0]=ze=Ee=0;Ee<ge;++Ee)Te[Ee+1]=ze+=Fe[Ee].value;(function Se(Re,Pe,Ve,We,Qe,lt,ut){if(Re>=Pe-1){var xt=Fe[Re];return xt.x0=We,xt.y0=Qe,xt.x1=lt,void(xt.y1=ut)}for(var _t=Te[Re],mt=Ve/2+_t,it=Re+1,nt=Pe-1;it<nt;){var Et=it+nt>>>1;Te[Et]<mt?it=Et+1:nt=Et}mt-Te[it-1]<Te[it]-mt&&Re+1<it&&--it;var Rt=Te[it]-_t,Ft=Ve-Rt;if(lt-We>ut-Qe){var Pt=(We*Ft+lt*Rt)/Ve;Se(Re,it,Rt,We,Qe,Pt,ut),Se(it,Pe,Ft,Pt,Qe,lt,ut)}else{var Ze=(Qe*Ft+ut*Rt)/Ve;Se(Re,it,Rt,We,Qe,lt,Ze),Se(it,Pe,Ft,We,Ze,lt,ut)}})(0,ge,oe.value,ve,Ce,ke,Ae)}function ye(oe,ve,Ce,ke,Ae){(1&oe.depth?de:Z)(oe,ve,Ce,ke,Ae)}var le=function oe(ve){function Ce(ke,Ae,Ee,ze,Fe){if((ge=ke._squarify)&&ge.ratio===ve)for(var ge,Te,Se,Re,Pe,Ve=-1,We=ge.length,Qe=ke.value;++Ve<We;){for(Se=(Te=ge[Ve]).children,Re=Te.value=0,Pe=Se.length;Re<Pe;++Re)Te.value+=Se[Re].value;Te.dice?Z(Te,Ae,Ee,ze,Ee+=(Fe-Ee)*Te.value/Qe):de(Te,Ae,Ee,Ae+=(ze-Ae)*Te.value/Qe,Fe),Qe-=Te.value}else ke._squarify=ge=_e(ve,ke,Ae,Ee,ze,Fe),ge.ratio=ve}return Ce.ratio=function(ke){return oe((ke=+ke)>1?ke:1)},Ce}(xe)},10132:function(U,C,e){e.d(C,{ak:function(){return h}});var k=Math.PI,A=2*k,o=1e-6,w=A-o;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function f(){return new b}b.prototype=f.prototype={constructor:b,moveTo:function(c,y){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+y)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,y){this._+="L"+(this._x1=+c)+","+(this._y1=+y)},quadraticCurveTo:function(c,y,d,v){this._+="Q"+ +c+","+ +y+","+(this._x1=+d)+","+(this._y1=+v)},bezierCurveTo:function(c,y,d,v,g,x){this._+="C"+ +c+","+ +y+","+ +d+","+ +v+","+(this._x1=+g)+","+(this._y1=+x)},arcTo:function(c,y,d,v,g){c=+c,y=+y,d=+d,v=+v,g=+g;var x=this._x1,m=this._y1,_=d-c,p=v-y,S=x-c,T=m-y,E=S*S+T*T;if(g<0)throw new Error("negative radius: "+g);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=y);else if(E>o)if(Math.abs(T*_-p*S)>o&&g){var O=d-x,P=v-m,I=_*_+p*p,R=O*O+P*P,H=Math.sqrt(I),z=Math.sqrt(E),j=g*Math.tan((k-Math.acos((I+E-R)/(2*H*z)))/2),Z=j/z,F=j/H;Math.abs(Z-1)>o&&(this._+="L"+(c+Z*S)+","+(y+Z*T)),this._+="A"+g+","+g+",0,0,"+ +(T*O>S*P)+","+(this._x1=c+F*_)+","+(this._y1=y+F*p)}else this._+="L"+(this._x1=c)+","+(this._y1=y)},arc:function(c,y,d,v,g,x){c=+c,y=+y,x=!!x;var m=(d=+d)*Math.cos(v),_=d*Math.sin(v),p=c+m,S=y+_,T=1^x,E=x?v-g:g-v;if(d<0)throw new Error("negative radius: "+d);this._x1===null?this._+="M"+p+","+S:(Math.abs(this._x1-p)>o||Math.abs(this._y1-S)>o)&&(this._+="L"+p+","+S),d&&(E<0&&(E=E%A+A),E>w?this._+="A"+d+","+d+",0,1,"+T+","+(c-m)+","+(y-_)+"A"+d+","+d+",0,1,"+T+","+(this._x1=p)+","+(this._y1=S):E>o&&(this._+="A"+d+","+d+",0,"+ +(E>=k)+","+T+","+(this._x1=c+d*Math.cos(g))+","+(this._y1=y+d*Math.sin(g))))},rect:function(c,y,d,v){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+y)+"h"+ +d+"v"+ +v+"h"+-d+"Z"},toString:function(){return this._}};var s=f,n=Array.prototype.slice;function i(c){return function(){return c}}function r(c){return c[0]}function t(c){return c[1]}function a(c){return c.source}function l(c){return c.target}function u(c,y,d,v,g){c.moveTo(y,d),c.bezierCurveTo(y=(y+v)/2,d,y,g,v,g)}function h(){return function(c){var y=a,d=l,v=r,g=t,x=null;function m(){var _,p=n.call(arguments),S=y.apply(this,p),T=d.apply(this,p);if(x||(x=_=s()),c(x,+v.apply(this,(p[0]=S,p)),+g.apply(this,p),+v.apply(this,(p[0]=T,p)),+g.apply(this,p)),_)return x=null,_+""||null}return m.source=function(_){return arguments.length?(y=_,m):y},m.target=function(_){return arguments.length?(d=_,m):d},m.x=function(_){return arguments.length?(v=typeof _=="function"?_:i(+_),m):v},m.y=function(_){return arguments.length?(g=typeof _=="function"?_:i(+_),m):g},m.context=function(_){return arguments.length?(x=_??null,m):x},m}(u)}},94336:function(U,C,e){e.d(C,{Yn:function(){return a},m_:function(){return r},E9:function(){return l}});var k=e(8208),A=e(58931),o=e(46192),w=e(68936),b=e(32171),f=e(53528);function s(it){if(0<=it.y&&it.y<100){var nt=new Date(-1,it.m,it.d,it.H,it.M,it.S,it.L);return nt.setFullYear(it.y),nt}return new Date(it.y,it.m,it.d,it.H,it.M,it.S,it.L)}function n(it){if(0<=it.y&&it.y<100){var nt=new Date(Date.UTC(-1,it.m,it.d,it.H,it.M,it.S,it.L));return nt.setUTCFullYear(it.y),nt}return new Date(Date.UTC(it.y,it.m,it.d,it.H,it.M,it.S,it.L))}function i(it,nt,Et){return{y:it,m:nt,d:Et,H:0,M:0,S:0,L:0}}function r(it){var nt=it.dateTime,Et=it.date,Rt=it.time,Ft=it.periods,Pt=it.days,Ze=it.shortDays,$e=it.months,He=it.shortMonths,Je=g(Ft),ft=x(Ft),ot=g(Pt),je=x(Pt),Ue=g(Ze),st=x(Ze),Ke=g($e),gt=x($e),yt=g(He),bt=x(He),dt={a:function(Nt){return Ze[Nt.getDay()]},A:function(Nt){return Pt[Nt.getDay()]},b:function(Nt){return He[Nt.getMonth()]},B:function(Nt){return $e[Nt.getMonth()]},c:null,d:Q,e:Q,f:se,H:$,I:K,j:ae,L:ue,m:he,M:pe,p:function(Nt){return Ft[+(Nt.getHours()>=12)]},q:function(Nt){return 1+~~(Nt.getMonth()/3)},Q:_t,s:mt,S:de,u:xe,U:_e,V:be,w:Le,W:De,x:null,X:null,y:ye,Y:le,Z:oe,"%":xt},Lt={a:function(Nt){return Ze[Nt.getUTCDay()]},A:function(Nt){return Pt[Nt.getUTCDay()]},b:function(Nt){return He[Nt.getUTCMonth()]},B:function(Nt){return $e[Nt.getUTCMonth()]},c:null,d:ve,e:ve,f:ze,H:Ce,I:ke,j:Ae,L:Ee,m:Fe,M:ge,p:function(Nt){return Ft[+(Nt.getUTCHours()>=12)]},q:function(Nt){return 1+~~(Nt.getUTCMonth()/3)},Q:_t,s:mt,S:Te,u:Se,U:Re,V:Pe,w:Ve,W:We,x:null,X:null,y:Qe,Y:lt,Z:ut,"%":xt},wt={a:function(Nt,Kt,un){var qt=Ue.exec(Kt.slice(un));return qt?(Nt.w=st[qt[0].toLowerCase()],un+qt[0].length):-1},A:function(Nt,Kt,un){var qt=ot.exec(Kt.slice(un));return qt?(Nt.w=je[qt[0].toLowerCase()],un+qt[0].length):-1},b:function(Nt,Kt,un){var qt=yt.exec(Kt.slice(un));return qt?(Nt.m=bt[qt[0].toLowerCase()],un+qt[0].length):-1},B:function(Nt,Kt,un){var qt=Ke.exec(Kt.slice(un));return qt?(Nt.m=gt[qt[0].toLowerCase()],un+qt[0].length):-1},c:function(Nt,Kt,un){return Dt(Nt,nt,Kt,un)},d:H,e:H,f:W,H:j,I:j,j:z,L:V,m:R,M:Z,p:function(Nt,Kt,un){var qt=Je.exec(Kt.slice(un));return qt?(Nt.p=ft[qt[0].toLowerCase()],un+qt[0].length):-1},q:I,Q:ne,s:te,S:F,u:_,U:p,V:S,w:m,W:T,x:function(Nt,Kt,un){return Dt(Nt,Et,Kt,un)},X:function(Nt,Kt,un){return Dt(Nt,Rt,Kt,un)},y:O,Y:E,Z:P,"%":re};function Ct(Nt,Kt){return function(un){var qt,Jt,Ut,zn=[],An=-1,mn=0,tn=Nt.length;for(un instanceof Date||(un=new Date(+un));++An<tn;)Nt.charCodeAt(An)===37&&(zn.push(Nt.slice(mn,An)),(Jt=u[qt=Nt.charAt(++An)])!=null?qt=Nt.charAt(++An):Jt=qt==="e"?" ":"0",(Ut=Kt[qt])&&(qt=Ut(un,Jt)),zn.push(qt),mn=An+1);return zn.push(Nt.slice(mn,An)),zn.join("")}}function zt(Nt,Kt){return function(un){var qt,Jt,Ut=i(1900,void 0,1);if(Dt(Ut,Nt,un+="",0)!=un.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(1e3*Ut.s+("L"in Ut?Ut.L:0));if(Kt&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+12*Ut.p),Ut.m===void 0&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(Jt=(qt=n(i(Ut.y,0,1))).getUTCDay(),qt=Jt>4||Jt===0?k.ot.ceil(qt):(0,k.ot)(qt),qt=A.c.offset(qt,7*(Ut.V-1)),Ut.y=qt.getUTCFullYear(),Ut.m=qt.getUTCMonth(),Ut.d=qt.getUTCDate()+(Ut.w+6)%7):(Jt=(qt=s(i(Ut.y,0,1))).getDay(),qt=Jt>4||Jt===0?o.qT.ceil(qt):(0,o.qT)(qt),qt=w.c.offset(qt,7*(Ut.V-1)),Ut.y=qt.getFullYear(),Ut.m=qt.getMonth(),Ut.d=qt.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),Jt="Z"in Ut?n(i(Ut.y,0,1)).getUTCDay():s(i(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+7*Ut.W-(Jt+5)%7:Ut.w+7*Ut.U-(Jt+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,n(Ut)):s(Ut)}}function Dt(Nt,Kt,un,qt){for(var Jt,Ut,zn=0,An=Kt.length,mn=un.length;zn<An;){if(qt>=mn)return-1;if((Jt=Kt.charCodeAt(zn++))===37){if(Jt=Kt.charAt(zn++),!(Ut=wt[Jt in u?Kt.charAt(zn++):Jt])||(qt=Ut(Nt,un,qt))<0)return-1}else if(Jt!=un.charCodeAt(qt++))return-1}return qt}return dt.x=Ct(Et,dt),dt.X=Ct(Rt,dt),dt.c=Ct(nt,dt),Lt.x=Ct(Et,Lt),Lt.X=Ct(Rt,Lt),Lt.c=Ct(nt,Lt),{format:function(Nt){var Kt=Ct(Nt+="",dt);return Kt.toString=function(){return Nt},Kt},parse:function(Nt){var Kt=zt(Nt+="",!1);return Kt.toString=function(){return Nt},Kt},utcFormat:function(Nt){var Kt=Ct(Nt+="",Lt);return Kt.toString=function(){return Nt},Kt},utcParse:function(Nt){var Kt=zt(Nt+="",!0);return Kt.toString=function(){return Nt},Kt}}}var t,a,l,u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,c=/^%/,y=/[\\^$*+?|[\]().{}]/g;function d(it,nt,Et){var Rt=it<0?"-":"",Ft=(Rt?-it:it)+"",Pt=Ft.length;return Rt+(Pt<Et?new Array(Et-Pt+1).join(nt)+Ft:Ft)}function v(it){return it.replace(y,"\\$&")}function g(it){return new RegExp("^(?:"+it.map(v).join("|")+")","i")}function x(it){for(var nt={},Et=-1,Rt=it.length;++Et<Rt;)nt[it[Et].toLowerCase()]=Et;return nt}function m(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+1));return Rt?(it.w=+Rt[0],Et+Rt[0].length):-1}function _(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+1));return Rt?(it.u=+Rt[0],Et+Rt[0].length):-1}function p(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.U=+Rt[0],Et+Rt[0].length):-1}function S(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.V=+Rt[0],Et+Rt[0].length):-1}function T(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.W=+Rt[0],Et+Rt[0].length):-1}function E(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+4));return Rt?(it.y=+Rt[0],Et+Rt[0].length):-1}function O(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.y=+Rt[0]+(+Rt[0]>68?1900:2e3),Et+Rt[0].length):-1}function P(it,nt,Et){var Rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nt.slice(Et,Et+6));return Rt?(it.Z=Rt[1]?0:-(Rt[2]+(Rt[3]||"00")),Et+Rt[0].length):-1}function I(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+1));return Rt?(it.q=3*Rt[0]-3,Et+Rt[0].length):-1}function R(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.m=Rt[0]-1,Et+Rt[0].length):-1}function H(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.d=+Rt[0],Et+Rt[0].length):-1}function z(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+3));return Rt?(it.m=0,it.d=+Rt[0],Et+Rt[0].length):-1}function j(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.H=+Rt[0],Et+Rt[0].length):-1}function Z(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.M=+Rt[0],Et+Rt[0].length):-1}function F(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+2));return Rt?(it.S=+Rt[0],Et+Rt[0].length):-1}function V(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+3));return Rt?(it.L=+Rt[0],Et+Rt[0].length):-1}function W(it,nt,Et){var Rt=h.exec(nt.slice(Et,Et+6));return Rt?(it.L=Math.floor(Rt[0]/1e3),Et+Rt[0].length):-1}function re(it,nt,Et){var Rt=c.exec(nt.slice(Et,Et+1));return Rt?Et+Rt[0].length:-1}function ne(it,nt,Et){var Rt=h.exec(nt.slice(Et));return Rt?(it.Q=+Rt[0],Et+Rt[0].length):-1}function te(it,nt,Et){var Rt=h.exec(nt.slice(Et));return Rt?(it.s=+Rt[0],Et+Rt[0].length):-1}function Q(it,nt){return d(it.getDate(),nt,2)}function $(it,nt){return d(it.getHours(),nt,2)}function K(it,nt){return d(it.getHours()%12||12,nt,2)}function ae(it,nt){return d(1+w.c.count((0,b.c)(it),it),nt,3)}function ue(it,nt){return d(it.getMilliseconds(),nt,3)}function se(it,nt){return ue(it,nt)+"000"}function he(it,nt){return d(it.getMonth()+1,nt,2)}function pe(it,nt){return d(it.getMinutes(),nt,2)}function de(it,nt){return d(it.getSeconds(),nt,2)}function xe(it){var nt=it.getDay();return nt===0?7:nt}function _e(it,nt){return d(o.uU.count((0,b.c)(it)-1,it),nt,2)}function be(it,nt){var Et=it.getDay();return it=Et>=4||Et===0?(0,o.kD)(it):o.kD.ceil(it),d(o.kD.count((0,b.c)(it),it)+((0,b.c)(it).getDay()===4),nt,2)}function Le(it){return it.getDay()}function De(it,nt){return d(o.qT.count((0,b.c)(it)-1,it),nt,2)}function ye(it,nt){return d(it.getFullYear()%100,nt,2)}function le(it,nt){return d(it.getFullYear()%1e4,nt,4)}function oe(it){var nt=it.getTimezoneOffset();return(nt>0?"-":(nt*=-1,"+"))+d(nt/60|0,"0",2)+d(nt%60,"0",2)}function ve(it,nt){return d(it.getUTCDate(),nt,2)}function Ce(it,nt){return d(it.getUTCHours(),nt,2)}function ke(it,nt){return d(it.getUTCHours()%12||12,nt,2)}function Ae(it,nt){return d(1+A.c.count((0,f.c)(it),it),nt,3)}function Ee(it,nt){return d(it.getUTCMilliseconds(),nt,3)}function ze(it,nt){return Ee(it,nt)+"000"}function Fe(it,nt){return d(it.getUTCMonth()+1,nt,2)}function ge(it,nt){return d(it.getUTCMinutes(),nt,2)}function Te(it,nt){return d(it.getUTCSeconds(),nt,2)}function Se(it){var nt=it.getUTCDay();return nt===0?7:nt}function Re(it,nt){return d(k.EV.count((0,f.c)(it)-1,it),nt,2)}function Pe(it,nt){var Et=it.getUTCDay();return it=Et>=4||Et===0?(0,k.yA)(it):k.yA.ceil(it),d(k.yA.count((0,f.c)(it),it)+((0,f.c)(it).getUTCDay()===4),nt,2)}function Ve(it){return it.getUTCDay()}function We(it,nt){return d(k.ot.count((0,f.c)(it)-1,it),nt,2)}function Qe(it,nt){return d(it.getUTCFullYear()%100,nt,2)}function lt(it,nt){return d(it.getUTCFullYear()%1e4,nt,4)}function ut(){return"+0000"}function xt(){return"%"}function _t(it){return+it}function mt(it){return Math.floor(+it/1e3)}t=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),a=t.format,t.parse,l=t.utcFormat,t.utcParse},68936:function(U,C,e){e.d(C,{m:function(){return w}});var k=e(81628),A=e(69792),o=(0,k.c)(function(b){b.setHours(0,0,0,0)},function(b,f){b.setDate(b.getDate()+f)},function(b,f){return(f-b-(f.getTimezoneOffset()-b.getTimezoneOffset())*A.iy)/A.SK},function(b){return b.getDate()-1});C.c=o;var w=o.range},69792:function(U,C,e){e.d(C,{KK:function(){return b},SK:function(){return w},cg:function(){return o},iy:function(){return A},yc:function(){return k}});var k=1e3,A=6e4,o=36e5,w=864e5,b=6048e5},73220:function(U,C,e){e.r(C),e.d(C,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return k.c},timeMillisecond:function(){return o},timeMilliseconds:function(){return w},timeMinute:function(){return r},timeMinutes:function(){return t},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return d},timeMonths:function(){return v},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return n},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return g.c},timeYears:function(){return g.Q},utcDay:function(){return E.c},utcDays:function(){return E.o},utcFriday:function(){return O.od},utcFridays:function(){return O.iG},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return o},utcMilliseconds:function(){return w},utcMinute:function(){return m},utcMinutes:function(){return _},utcMonday:function(){return O.ot},utcMondays:function(){return O.iO},utcMonth:function(){return I},utcMonths:function(){return R},utcSaturday:function(){return O.Ad},utcSaturdays:function(){return O.K8},utcSecond:function(){return s},utcSeconds:function(){return n},utcSunday:function(){return O.EV},utcSundays:function(){return O.Wq},utcThursday:function(){return O.yA},utcThursdays:function(){return O.ob},utcTuesday:function(){return O.sG},utcTuesdays:function(){return O.kl},utcWednesday:function(){return O._6},utcWednesdays:function(){return O.W_},utcWeek:function(){return O.EV},utcWeeks:function(){return O.Wq},utcYear:function(){return H.c},utcYears:function(){return H.i}});var k=e(81628),A=(0,k.c)(function(){},function(z,j){z.setTime(+z+j)},function(z,j){return j-z});A.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,k.c)(function(j){j.setTime(Math.floor(j/z)*z)},function(j,Z){j.setTime(+j+Z*z)},function(j,Z){return(Z-j)/z}):A:null};var o=A,w=A.range,b=e(69792),f=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,j){z.setTime(+z+j*b.yc)},function(z,j){return(j-z)/b.yc},function(z){return z.getUTCSeconds()}),s=f,n=f.range,i=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc)},function(z,j){z.setTime(+z+j*b.iy)},function(z,j){return(j-z)/b.iy},function(z){return z.getMinutes()}),r=i,t=i.range,a=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc-z.getMinutes()*b.iy)},function(z,j){z.setTime(+z+j*b.cg)},function(z,j){return(j-z)/b.cg},function(z){return z.getHours()}),l=a,u=a.range,h=e(68936),c=e(46192),y=(0,k.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,j){z.setMonth(z.getMonth()+j)},function(z,j){return j.getMonth()-z.getMonth()+12*(j.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),d=y,v=y.range,g=e(32171),x=(0,k.c)(function(z){z.setUTCSeconds(0,0)},function(z,j){z.setTime(+z+j*b.iy)},function(z,j){return(j-z)/b.iy},function(z){return z.getUTCMinutes()}),m=x,_=x.range,p=(0,k.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,j){z.setTime(+z+j*b.cg)},function(z,j){return(j-z)/b.cg},function(z){return z.getUTCHours()}),S=p,T=p.range,E=e(58931),O=e(8208),P=(0,k.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,j){z.setUTCMonth(z.getUTCMonth()+j)},function(z,j){return j.getUTCMonth()-z.getUTCMonth()+12*(j.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),I=P,R=P.range,H=e(53528)},81628:function(U,C,e){e.d(C,{c:function(){return o}});var k=new Date,A=new Date;function o(w,b,f,s){function n(i){return w(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=function(i){return w(i=new Date(+i)),i},n.ceil=function(i){return w(i=new Date(i-1)),b(i,1),w(i),i},n.round=function(i){var r=n(i),t=n.ceil(i);return i-r<t-i?r:t},n.offset=function(i,r){return b(i=new Date(+i),r==null?1:Math.floor(r)),i},n.range=function(i,r,t){var a,l=[];if(i=n.ceil(i),t=t==null?1:Math.floor(t),!(i<r&&t>0))return l;do l.push(a=new Date(+i)),b(i,t),w(i);while(a<i&&i<r);return l},n.filter=function(i){return o(function(r){if(r>=r)for(;w(r),!i(r);)r.setTime(r-1)},function(r,t){if(r>=r)if(t<0)for(;++t<=0;)for(;b(r,-1),!i(r););else for(;--t>=0;)for(;b(r,1),!i(r););})},f&&(n.count=function(i,r){return k.setTime(+i),A.setTime(+r),w(k),w(A),Math.floor(f(k,A))},n.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?n.filter(s?function(r){return s(r)%i==0}:function(r){return n.count(0,r)%i==0}):n:null}),n}},58931:function(U,C,e){e.d(C,{o:function(){return w}});var k=e(81628),A=e(69792),o=(0,k.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCDate(b.getUTCDate()+f)},function(b,f){return(f-b)/A.SK},function(b){return b.getUTCDate()-1});C.c=o;var w=o.range},8208:function(U,C,e){e.d(C,{Ad:function(){return r},EV:function(){return w},K8:function(){return y},W_:function(){return u},Wq:function(){return t},_6:function(){return s},iG:function(){return c},iO:function(){return a},kl:function(){return l},ob:function(){return h},od:function(){return i},ot:function(){return b},sG:function(){return f},yA:function(){return n}});var k=e(81628),A=e(69792);function o(d){return(0,k.c)(function(v){v.setUTCDate(v.getUTCDate()-(v.getUTCDay()+7-d)%7),v.setUTCHours(0,0,0,0)},function(v,g){v.setUTCDate(v.getUTCDate()+7*g)},function(v,g){return(g-v)/A.KK})}var w=o(0),b=o(1),f=o(2),s=o(3),n=o(4),i=o(5),r=o(6),t=w.range,a=b.range,l=f.range,u=s.range,h=n.range,c=i.range,y=r.range},53528:function(U,C,e){e.d(C,{i:function(){return o}});var k=e(81628),A=(0,k.c)(function(w){w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,b){w.setUTCFullYear(w.getUTCFullYear()+b)},function(w,b){return b.getUTCFullYear()-w.getUTCFullYear()},function(w){return w.getUTCFullYear()});A.every=function(w){return isFinite(w=Math.floor(w))&&w>0?(0,k.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/w)*w),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCFullYear(b.getUTCFullYear()+f*w)}):null},C.c=A;var o=A.range},46192:function(U,C,e){e.d(C,{Ab:function(){return t},Mf:function(){return f},Oc:function(){return l},QP:function(){return a},Wc:function(){return r},aI:function(){return y},eC:function(){return h},eg:function(){return s},iB:function(){return i},kD:function(){return n},qT:function(){return b},sJ:function(){return c},sn:function(){return u},uU:function(){return w}});var k=e(81628),A=e(69792);function o(d){return(0,k.c)(function(v){v.setDate(v.getDate()-(v.getDay()+7-d)%7),v.setHours(0,0,0,0)},function(v,g){v.setDate(v.getDate()+7*g)},function(v,g){return(g-v-(g.getTimezoneOffset()-v.getTimezoneOffset())*A.iy)/A.KK})}var w=o(0),b=o(1),f=o(2),s=o(3),n=o(4),i=o(5),r=o(6),t=w.range,a=b.range,l=f.range,u=s.range,h=n.range,c=i.range,y=r.range},32171:function(U,C,e){e.d(C,{Q:function(){return o}});var k=e(81628),A=(0,k.c)(function(w){w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,b){w.setFullYear(w.getFullYear()+b)},function(w,b){return b.getFullYear()-w.getFullYear()},function(w){return w.getFullYear()});A.every=function(w){return isFinite(w=Math.floor(w))&&w>0?(0,k.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/w)*w),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,f){b.setFullYear(b.getFullYear()+f*w)}):null},C.c=A;var o=A.range},64348:function(U,C,e){var k=e(39640)(),A=e(53664),o=k&&A("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch{o=!1}var w=A("%SyntaxError%"),b=A("%TypeError%"),f=e(2304);U.exports=function(s,n,i){if(!s||typeof s!="object"&&typeof s!="function")throw new b("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!f&&f(s,n);if(o)o(s,n,{configurable:a===null&&u?u.configurable:!a,enumerable:r===null&&u?u.enumerable:!r,value:i,writable:t===null&&u?u.writable:!t});else{if(!l&&(r||t||a))throw new w("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[n]=i}}},81288:function(U,C,e){var k=e(41820),A=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o=Object.prototype.toString,w=Array.prototype.concat,b=Object.defineProperty,f=e(39640)(),s=b&&f,n=function(r,t,a,l){if(t in r){if(l===!0){if(r[t]===a)return}else if(typeof(u=l)!="function"||o.call(u)!=="[object Function]"||!l())return}var u;s?b(r,t,{configurable:!0,enumerable:!1,value:a,writable:!0}):r[t]=a},i=function(r,t){var a=arguments.length>2?arguments[2]:{},l=k(t);A&&(l=w.call(l,Object.getOwnPropertySymbols(t)));for(var u=0;u<l.length;u+=1)n(r,l[u],t[l[u]],a[l[u]])};i.supportsDescriptors=!!s,U.exports=i},31264:function(U){U.exports=function(){for(var C=0;C<arguments.length;C++)if(arguments[C]!==void 0)return arguments[C]}},63768:function(U){U.exports=k;var C=(k.canvas=document.createElement("canvas")).getContext("2d"),e=A([32,126]);function k(o,w){Array.isArray(o)&&(o=o.join(", "));var b,f={},s=16,n=.05;w&&(w.length===2&&typeof w[0]=="number"?b=A(w):Array.isArray(w)?b=w:(w.o?b=A(w.o):w.pairs&&(b=w.pairs),w.fontSize&&(s=w.fontSize),w.threshold!=null&&(n=w.threshold))),b||(b=e),C.font=s+"px "+o;for(var i=0;i<b.length;i++){var r=b[i],t=C.measureText(r[0]).width+C.measureText(r[1]).width,a=C.measureText(r).width;if(Math.abs(t-a)>s*n){var l=(a-t)/s;f[r]=1e3*l}}return f}function A(o){for(var w=[],b=o[0];b<=o[1];b++)for(var f=String.fromCharCode(b),s=o[0];s<o[1];s++){var n=f+String.fromCharCode(s);w.push(n)}return w}k.createPairs=A,k.ascii=e},22235:function(U,C,e){var k=e(49972),A=e(48816),o={M:"moveTo",C:"bezierCurveTo"};U.exports=function(w,b){w.beginPath(),A(k(b)).forEach(function(f){var s=f[0],n=f.slice(1);w[o[s]].apply(w,n)}),w.closePath()}},72512:function(U){U.exports=function(C){switch(C){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(U){function C(e,k,A){var o=0|e[A];if(o<=0)return[];var w,b=new Array(o);if(A===e.length-1)for(w=0;w<o;++w)b[w]=k;else for(w=0;w<o;++w)b[w]=C(e,k,A+1);return b}U.exports=function(e,k){switch(k===void 0&&(k=0),typeof e){case"number":if(e>0)return function(A,o){var w,b;for(w=new Array(A),b=0;b<A;++b)w[b]=o;return w}(0|e,k);break;case"object":if(typeof e.length=="number")return C(e,k,0)}return[]}},28912:function(U){function C(S,T,E){E=E||2;var O,P,I,R,H,z,j,Z=T&&T.length,F=Z?T[0]*E:S.length,V=e(S,0,F,E,!0),W=[];if(!V||V.next===V.prev)return W;if(Z&&(V=function(ne,te,Q,$){var K,ae,ue,se=[];for(K=0,ae=te.length;K<ae;K++)(ue=e(ne,te[K]*$,K<ae-1?te[K+1]*$:ne.length,$,!1))===ue.next&&(ue.steiner=!0),se.push(t(ue));for(se.sort(s),K=0;K<se.length;K++)n(se[K],Q),Q=k(Q,Q.next);return Q}(S,T,V,E)),S.length>80*E){O=I=S[0],P=R=S[1];for(var re=E;re<F;re+=E)(H=S[re])<O&&(O=H),(z=S[re+1])<P&&(P=z),H>I&&(I=H),z>R&&(R=z);j=(j=Math.max(I-O,R-P))!==0?1/j:0}return A(V,W,E,O,P,j),W}function e(S,T,E,O,P){var I,R;if(P===p(S,T,E,O)>0)for(I=T;I<E;I+=O)R=x(I,S[I],S[I+1],R);else for(I=E-O;I>=T;I-=O)R=x(I,S[I],S[I+1],R);return R&&h(R,R.next)&&(m(R),R=R.next),R}function k(S,T){if(!S)return S;T||(T=S);var E,O=S;do if(E=!1,O.steiner||!h(O,O.next)&&u(O.prev,O,O.next)!==0)O=O.next;else{if(m(O),(O=T=O.prev)===O.next)break;E=!0}while(E||O!==T);return T}function A(S,T,E,O,P,I,R){if(S){!R&&I&&function(Z,F,V,W){var re=Z;do re.z===null&&(re.z=r(re.x,re.y,F,V,W)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==Z);re.prevZ.nextZ=null,re.prevZ=null,function(ne){var te,Q,$,K,ae,ue,se,he,pe=1;do{for(Q=ne,ne=null,ae=null,ue=0;Q;){for(ue++,$=Q,se=0,te=0;te<pe&&(se++,$=$.nextZ);te++);for(he=pe;se>0||he>0&&$;)se!==0&&(he===0||!$||Q.z<=$.z)?(K=Q,Q=Q.nextZ,se--):(K=$,$=$.nextZ,he--),ae?ae.nextZ=K:ne=K,K.prevZ=ae,ae=K;Q=$}ae.nextZ=null,pe*=2}while(ue>1)}(re)}(S,O,P,I);for(var H,z,j=S;S.prev!==S.next;)if(H=S.prev,z=S.next,I?w(S,O,P,I):o(S))T.push(H.i/E),T.push(S.i/E),T.push(z.i/E),m(S),S=z.next,j=z.next;else if((S=z)===j){R?R===1?A(S=b(k(S),T,E),T,E,O,P,I,2):R===2&&f(S,T,E,O,P,I):A(k(S),T,E,O,P,I,1);break}}}function o(S){var T=S.prev,E=S,O=S.next;if(u(T,E,O)>=0)return!1;for(var P=S.next.next;P!==S.prev;){if(a(T.x,T.y,E.x,E.y,O.x,O.y,P.x,P.y)&&u(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function w(S,T,E,O){var P=S.prev,I=S,R=S.next;if(u(P,I,R)>=0)return!1;for(var H=P.x<I.x?P.x<R.x?P.x:R.x:I.x<R.x?I.x:R.x,z=P.y<I.y?P.y<R.y?P.y:R.y:I.y<R.y?I.y:R.y,j=P.x>I.x?P.x>R.x?P.x:R.x:I.x>R.x?I.x:R.x,Z=P.y>I.y?P.y>R.y?P.y:R.y:I.y>R.y?I.y:R.y,F=r(H,z,T,E,O),V=r(j,Z,T,E,O),W=S.prevZ,re=S.nextZ;W&&W.z>=F&&re&&re.z<=V;){if(W!==S.prev&&W!==S.next&&a(P.x,P.y,I.x,I.y,R.x,R.y,W.x,W.y)&&u(W.prev,W,W.next)>=0||(W=W.prevZ,re!==S.prev&&re!==S.next&&a(P.x,P.y,I.x,I.y,R.x,R.y,re.x,re.y)&&u(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;W&&W.z>=F;){if(W!==S.prev&&W!==S.next&&a(P.x,P.y,I.x,I.y,R.x,R.y,W.x,W.y)&&u(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;re&&re.z<=V;){if(re!==S.prev&&re!==S.next&&a(P.x,P.y,I.x,I.y,R.x,R.y,re.x,re.y)&&u(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function b(S,T,E){var O=S;do{var P=O.prev,I=O.next.next;!h(P,I)&&c(P,O,O.next,I)&&v(P,I)&&v(I,P)&&(T.push(P.i/E),T.push(O.i/E),T.push(I.i/E),m(O),m(O.next),O=S=I),O=O.next}while(O!==S);return k(O)}function f(S,T,E,O,P,I){var R=S;do{for(var H=R.next.next;H!==R.prev;){if(R.i!==H.i&&l(R,H)){var z=g(R,H);return R=k(R,R.next),z=k(z,z.next),A(R,T,E,O,P,I),void A(z,T,E,O,P,I)}H=H.next}R=R.next}while(R!==S)}function s(S,T){return S.x-T.x}function n(S,T){if(T=function(O,P){var I,R=P,H=O.x,z=O.y,j=-1/0;do{if(z<=R.y&&z>=R.next.y&&R.next.y!==R.y){var Z=R.x+(z-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(Z<=H&&Z>j){if(j=Z,Z===H){if(z===R.y)return R;if(z===R.next.y)return R.next}I=R.x<R.next.x?R:R.next}}R=R.next}while(R!==P);if(!I)return null;if(H===j)return I;var F,V=I,W=I.x,re=I.y,ne=1/0;R=I;do H>=R.x&&R.x>=W&&H!==R.x&&a(z<re?H:j,z,W,re,z<re?j:H,z,R.x,R.y)&&(F=Math.abs(z-R.y)/(H-R.x),v(R,O)&&(F<ne||F===ne&&(R.x>I.x||R.x===I.x&&i(I,R)))&&(I=R,ne=F)),R=R.next;while(R!==V);return I}(S,T),T){var E=g(T,S);k(T,T.next),k(E,E.next)}}function i(S,T){return u(S.prev,S,T.prev)<0&&u(T.next,S,S.next)<0}function r(S,T,E,O,P){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*P)|S<<8))|S<<4))|S<<2))|S<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-O)*P)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function t(S){var T=S,E=S;do(T.x<E.x||T.x===E.x&&T.y<E.y)&&(E=T),T=T.next;while(T!==S);return E}function a(S,T,E,O,P,I,R,H){return(P-R)*(T-H)-(S-R)*(I-H)>=0&&(S-R)*(O-H)-(E-R)*(T-H)>=0&&(E-R)*(I-H)-(P-R)*(O-H)>=0}function l(S,T){return S.next.i!==T.i&&S.prev.i!==T.i&&!function(E,O){var P=E;do{if(P.i!==E.i&&P.next.i!==E.i&&P.i!==O.i&&P.next.i!==O.i&&c(P,P.next,E,O))return!0;P=P.next}while(P!==E);return!1}(S,T)&&(v(S,T)&&v(T,S)&&function(E,O){var P=E,I=!1,R=(E.x+O.x)/2,H=(E.y+O.y)/2;do P.y>H!=P.next.y>H&&P.next.y!==P.y&&R<(P.next.x-P.x)*(H-P.y)/(P.next.y-P.y)+P.x&&(I=!I),P=P.next;while(P!==E);return I}(S,T)&&(u(S.prev,S,T.prev)||u(S,T.prev,T))||h(S,T)&&u(S.prev,S,S.next)>0&&u(T.prev,T,T.next)>0)}function u(S,T,E){return(T.y-S.y)*(E.x-T.x)-(T.x-S.x)*(E.y-T.y)}function h(S,T){return S.x===T.x&&S.y===T.y}function c(S,T,E,O){var P=d(u(S,T,E)),I=d(u(S,T,O)),R=d(u(E,O,S)),H=d(u(E,O,T));return P!==I&&R!==H||!(P!==0||!y(S,E,T))||!(I!==0||!y(S,O,T))||!(R!==0||!y(E,S,O))||!(H!==0||!y(E,T,O))}function y(S,T,E){return T.x<=Math.max(S.x,E.x)&&T.x>=Math.min(S.x,E.x)&&T.y<=Math.max(S.y,E.y)&&T.y>=Math.min(S.y,E.y)}function d(S){return S>0?1:S<0?-1:0}function v(S,T){return u(S.prev,S,S.next)<0?u(S,T,S.next)>=0&&u(S,S.prev,T)>=0:u(S,T,S.prev)<0||u(S,S.next,T)<0}function g(S,T){var E=new _(S.i,S.x,S.y),O=new _(T.i,T.x,T.y),P=S.next,I=T.prev;return S.next=T,T.prev=S,E.next=P,P.prev=E,O.next=E,E.prev=O,I.next=O,O.prev=I,O}function x(S,T,E,O){var P=new _(S,T,E);return O?(P.next=O.next,P.prev=O,O.next.prev=P,O.next=P):(P.prev=P,P.next=P),P}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function _(S,T,E){this.i=S,this.x=T,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p(S,T,E,O){for(var P=0,I=T,R=E-O;I<E;I+=O)P+=(S[R]-S[I])*(S[I+1]+S[R+1]),R=I;return P}U.exports=C,U.exports.default=C,C.deviation=function(S,T,E,O){var P=T&&T.length,I=P?T[0]*E:S.length,R=Math.abs(p(S,0,I,E));if(P)for(var H=0,z=T.length;H<z;H++){var j=T[H]*E,Z=H<z-1?T[H+1]*E:S.length;R-=Math.abs(p(S,j,Z,E))}var F=0;for(H=0;H<O.length;H+=3){var V=O[H]*E,W=O[H+1]*E,re=O[H+2]*E;F+=Math.abs((S[V]-S[re])*(S[W+1]-S[V+1])-(S[V]-S[W])*(S[re+1]-S[V+1]))}return R===0&&F===0?0:Math.abs((F-R)/R)},C.flatten=function(S){for(var T=S[0][0].length,E={vertices:[],holes:[],dimensions:T},O=0,P=0;P<S.length;P++){for(var I=0;I<S[P].length;I++)for(var R=0;R<T;R++)E.vertices.push(S[P][I][R]);P>0&&(O+=S[P-1].length,E.holes.push(O))}return E}},6688:function(U,C,e){var k=e(78484);U.exports=function(A,o){var w,b=[],f=[],s=[],n={},i=[];function r(v){s[v]=!1,n.hasOwnProperty(v)&&Object.keys(n[v]).forEach(function(g){delete n[v][g],s[g]&&r(g)})}function t(v){var g,x,m=!1;for(f.push(v),s[v]=!0,g=0;g<i[v].length;g++)(x=i[v][g])===w?(a(w,f),m=!0):s[x]||(m=t(x));if(m)r(v);else for(g=0;g<i[v].length;g++){x=i[v][g];var _=n[x];_||(_={},n[x]=_),_[x]=!0}return f.pop(),m}function a(v,g){var x=[].concat(g).concat(v);o?o(t):b.push(x)}function l(v){(function(E){for(var O=0;O<A.length;O++)O<E&&(A[O]=[]),A[O]=A[O].filter(function(P){return P>=E})})(v);for(var g,x=k(A).components.filter(function(E){return E.length>1}),m=1/0,_=0;_<x.length;_++)for(var p=0;p<x[_].length;p++)x[_][p]<m&&(m=x[_][p],g=_);var S=x[g];if(!S)return!1;var T=A.map(function(E,O){return S.indexOf(O)===-1?[]:E.filter(function(P){return S.indexOf(P)!==-1})});return{leastVertex:m,adjList:T}}w=0;for(var u=A.length;w<u;){var h=l(w);if(w=h.leastVertex,i=h.adjList){for(var c=0;c<i.length;c++)for(var y=0;y<i[c].length;y++){var d=i[c][y];s[+d]=!1,n[d]={}}t(w),w+=1}else w=u}return o?void 0:b}},41476:function(U,C,e){var k=e(9252);U.exports=function(){return k(this).length=0,this}},74772:function(U,C,e){U.exports=e(44716)()?Array.from:e(80816)},44716:function(U){U.exports=function(){var C,e,k=Array.from;return typeof k=="function"&&(e=k(C=["raz","dwa"]),!!(e&&e!==C&&e[1]==="dwa"))}},80816:function(U,C,e){var k=e(92664).iterator,A=e(60948),o=e(17024),w=e(81304),b=e(34044),f=e(9252),s=e(42584),n=e(29768),i=Array.isArray,r=Function.prototype.call,t={configurable:!0,enumerable:!0,writable:!0,value:null},a=Object.defineProperty;U.exports=function(l){var u,h,c,y,d,v,g,x,m,_,p=arguments[1],S=arguments[2];if(l=Object(f(l)),s(p)&&b(p),this&&this!==Array&&o(this))u=this;else{if(!p){if(A(l))return(d=l.length)!==1?Array.apply(null,l):((y=new Array(1))[0]=l[0],y);if(i(l)){for(y=new Array(d=l.length),h=0;h<d;++h)y[h]=l[h];return y}}y=[]}if(!i(l)){if((m=l[k])!==void 0){for(g=b(m).call(l),u&&(y=new u),x=g.next(),h=0;!x.done;)_=p?r.call(p,S,x.value,h):x.value,u?(t.value=_,a(y,h,t)):y[h]=_,x=g.next(),++h;d=h}else if(n(l)){for(d=l.length,u&&(y=new u),h=0,c=0;h<d;++h)_=l[h],h+1<d&&(v=_.charCodeAt(0))>=55296&&v<=56319&&(_+=l[++h]),_=p?r.call(p,S,_,c):_,u?(t.value=_,a(y,c,t)):y[c]=_,++c;d=c}}if(d===void 0)for(d=w(l.length),u&&(y=new u(d)),h=0;h<d;++h)_=p?r.call(p,S,l[h],h):l[h],u?(t.value=_,a(y,h,t)):y[h]=_;return u&&(t.value=null,y.length=d),y}},60948:function(U){var C=Object.prototype.toString,e=C.call(function(){return arguments}());U.exports=function(k){return C.call(k)===e}},17024:function(U){var C=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);U.exports=function(k){return typeof k=="function"&&e(C.call(k))}},33208:function(U){U.exports=function(){}},85608:function(U,C,e){U.exports=e(37328)()?Math.sign:e(92928)},37328:function(U){U.exports=function(){var C=Math.sign;return typeof C=="function"&&C(10)===1&&C(-20)===-1}},92928:function(U){U.exports=function(C){return C=Number(C),isNaN(C)||C===0?C:C>0?1:-1}},96936:function(U,C,e){var k=e(85608),A=Math.abs,o=Math.floor;U.exports=function(w){return isNaN(w)?0:(w=Number(w))!==0&&isFinite(w)?k(w)*o(A(w)):w}},81304:function(U,C,e){var k=e(96936),A=Math.max;U.exports=function(o){return A(0,k(o))}},14428:function(U,C,e){var k=e(34044),A=e(9252),o=Function.prototype.bind,w=Function.prototype.call,b=Object.keys,f=Object.prototype.propertyIsEnumerable;U.exports=function(s,n){return function(i,r){var t,a=arguments[2],l=arguments[3];return i=Object(A(i)),k(r),t=b(i),l&&t.sort(typeof l=="function"?o.call(l,i):void 0),typeof s!="function"&&(s=t[s]),w.call(s,t,function(u,h){return f.call(i,u)?w.call(r,a,i[u],u,i,h):n})}}},38452:function(U,C,e){U.exports=e(96276)()?Object.assign:e(81892)},96276:function(U){U.exports=function(){var C,e=Object.assign;return typeof e=="function"&&(e(C={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),C.foo+C.bar+C.trzy==="razdwatrzy")}},81892:function(U,C,e){var k=e(54768),A=e(9252),o=Math.max;U.exports=function(w,b){var f,s,n,i=o(arguments.length,2);for(w=Object(A(w)),n=function(r){try{w[r]=b[r]}catch(t){f||(f=t)}},s=1;s<i;++s)k(b=arguments[s]).forEach(n);if(f!==void 0)throw f;return w}},95920:function(U,C,e){var k=e(74772),A=e(38452),o=e(9252);U.exports=function(w){var b=Object(o(w)),f=arguments[1],s=Object(arguments[2]);if(b!==w&&!f)return b;var n={};return f?k(f,function(i){(s.ensure||i in w)&&(n[i]=w[i])}):A(n,w),n}},14452:function(U,C,e){var k,A,o,w,b=Object.create;e(63092)()||(k=e(8672)),U.exports=k?k.level!==1?b:(A={},o={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(f){o[f]=f!=="__proto__"?w:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(A,o),Object.defineProperty(k,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:A}),function(f,s){return b(f===null?A:f,s)}):b},42748:function(U,C,e){U.exports=e(14428)("forEach")},69127:function(U,C,e){var k=e(42584),A={function:!0,object:!0};U.exports=function(o){return k(o)&&A[typeof o]||!1}},42584:function(U,C,e){var k=e(33208)();U.exports=function(A){return A!==k&&A!==null}},54768:function(U,C,e){U.exports=e(87888)()?Object.keys:e(89592)},87888:function(U){U.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(U,C,e){var k=e(42584),A=Object.keys;U.exports=function(o){return A(k(o)?Object(o):o)}},84323:function(U,C,e){var k=e(34044),A=e(42748),o=Function.prototype.call;U.exports=function(w,b){var f={},s=arguments[2];return k(b),A(w,function(n,i,r,t){f[i]=o.call(b,s,n,i,r,t)}),f}},50868:function(U,C,e){var k=e(42584),A=Array.prototype.forEach,o=Object.create;U.exports=function(w){var b=o(null);return A.call(arguments,function(f){k(f)&&function(s,n){var i;for(i in s)n[i]=s[i]}(Object(f),b)}),b}},69932:function(U,C,e){U.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(U){var C=Object.create,e=Object.getPrototypeOf,k={};U.exports=function(){var A=Object.setPrototypeOf;return typeof A=="function"&&e(A((arguments[0]||C)(null),k))===k}},8672:function(U,C,e){var k,A,o,w,b=e(69127),f=e(9252),s=Object.prototype.isPrototypeOf,n=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};k=function(r,t){if(f(r),t===null||b(t))return r;throw new TypeError("Prototype must be null or an object")},U.exports=(A=function(){var r,t=Object.create(null),a={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(r=l.set).call(t,a)}catch{}if(Object.getPrototypeOf(t)===a)return{set:r,level:2}}return t.__proto__=a,Object.getPrototypeOf(t)===a?{level:2}:((t={}).__proto__=a,Object.getPrototypeOf(t)===a&&{level:1})}(),A?(A.level===2?A.set?(w=A.set,o=function(r,t){return w.call(k(r,t),t),r}):o=function(r,t){return k(r,t).__proto__=t,r}:o=function r(t,a){var l;return k(t,a),(l=s.call(r.nullPolyfill,t))&&delete r.nullPolyfill.__proto__,a===null&&(a=r.nullPolyfill),t.__proto__=a,l&&n(r.nullPolyfill,"__proto__",i),t},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:A.level})):null),e(14452)},34044:function(U){U.exports=function(C){if(typeof C!="function")throw new TypeError(C+" is not a function");return C}},92584:function(U,C,e){var k=e(69127);U.exports=function(A){if(!k(A))throw new TypeError(A+" is not an Object");return A}},9252:function(U,C,e){var k=e(42584);U.exports=function(A){if(!k(A))throw new TypeError("Cannot use null or undefined");return A}},71056:function(U,C,e){U.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(U){var C="razdwatrzy";U.exports=function(){return typeof C.contains=="function"&&C.contains("dwa")===!0&&C.contains("foo")===!1}},93040:function(U){var C=String.prototype.indexOf;U.exports=function(e){return C.call(this,e,arguments[1])>-1}},29768:function(U){var C=Object.prototype.toString,e=C.call("");U.exports=function(k){return typeof k=="string"||k&&typeof k=="object"&&(k instanceof String||C.call(k)===e)||!1}},82252:function(U){var C=Object.create(null),e=Math.random;U.exports=function(){var k;do k=e().toString(36).slice(2);while(C[k]);return k}},52104:function(U,C,e){var k,A=e(69932),o=e(71056),w=e(21092),b=e(92664),f=e(85512),s=Object.defineProperty;k=U.exports=function(n,i){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");f.call(this,n),i=i?o.call(i,"key+value")?"key+value":o.call(i,"key")?"key":"value":"value",s(this,"__kind__",w("",i))},A&&A(k,f),delete k.prototype.constructor,k.prototype=Object.create(f.prototype,{_resolve:w(function(n){return this.__kind__==="value"?this.__list__[n]:this.__kind__==="key+value"?[n,this.__list__[n]]:n})}),s(k.prototype,b.toStringTag,w("c","Array Iterator"))},76024:function(U,C,e){var k=e(60948),A=e(34044),o=e(29768),w=e(76252),b=Array.isArray,f=Function.prototype.call,s=Array.prototype.some;U.exports=function(n,i){var r,t,a,l,u,h,c,y,d=arguments[2];if(b(n)||k(n)?r="array":o(n)?r="string":n=w(n),A(i),a=function(){l=!0},r!=="array")if(r!=="string")for(t=n.next();!t.done;){if(f.call(i,d,t.value,a),l)return;t=n.next()}else for(h=n.length,u=0;u<h&&(c=n[u],u+1<h&&(y=c.charCodeAt(0))>=55296&&y<=56319&&(c+=n[++u]),f.call(i,d,c,a),!l);++u);else s.call(n,function(v){return f.call(i,d,v,a),l})}},76252:function(U,C,e){var k=e(60948),A=e(29768),o=e(52104),w=e(80940),b=e(52891),f=e(92664).iterator;U.exports=function(s){return typeof b(s)[f]=="function"?s[f]():k(s)?new o(s):A(s)?new w(s):new o(s)}},85512:function(U,C,e){var k,A=e(41476),o=e(38452),w=e(34044),b=e(9252),f=e(21092),s=e(27940),n=e(92664),i=Object.defineProperty,r=Object.defineProperties;U.exports=k=function(t,a){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");r(this,{__list__:f("w",b(t)),__context__:f("w",a),__nextIndex__:f("w",0)}),a&&(w(a.on),a.on("_add",this._onAdd),a.on("_delete",this._onDelete),a.on("_clear",this._onClear))},delete k.prototype.constructor,r(k.prototype,o({_next:f(function(){var t;if(this.__list__)return this.__redo__&&(t=this.__redo__.shift())!==void 0?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:f(function(){return this._createResult(this._next())}),_createResult:f(function(t){return t===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:f(function(t){return this.__list__[t]}),_unBind:f(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:f(function(){return"[object "+(this[n.toStringTag]||"Object")+"]"})},s({_onAdd:f(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(a,l){a>=t&&(this.__redo__[l]=++a)},this),this.__redo__.push(t)):i(this,"__redo__",f("c",[t])))}),_onDelete:f(function(t){var a;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((a=this.__redo__.indexOf(t))!==-1&&this.__redo__.splice(a,1),this.__redo__.forEach(function(l,u){l>t&&(this.__redo__[u]=--l)},this)))}),_onClear:f(function(){this.__redo__&&A.call(this.__redo__),this.__nextIndex__=0})}))),i(k.prototype,n.iterator,f(function(){return this}))},76368:function(U,C,e){var k=e(60948),A=e(42584),o=e(29768),w=e(92664).iterator,b=Array.isArray;U.exports=function(f){return!(!A(f)||!b(f)&&!o(f)&&!k(f)&&typeof f[w]!="function")}},80940:function(U,C,e){var k,A=e(69932),o=e(21092),w=e(92664),b=e(85512),f=Object.defineProperty;k=U.exports=function(s){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");s=String(s),b.call(this,s),f(this,"__length__",o("",s.length))},A&&A(k,b),delete k.prototype.constructor,k.prototype=Object.create(b.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(s){var n,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(n=i.charCodeAt(0))>=55296&&n<=56319?i+this.__list__[this.__nextIndex__++]:i})}),f(k.prototype,w.toStringTag,o("c","String Iterator"))},52891:function(U,C,e){var k=e(76368);U.exports=function(A){if(!k(A))throw new TypeError(A+" is not iterable");return A}},60964:function(U){function C(e,k){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var A=Object(e),o=1;o<arguments.length;o++){var w=arguments[o];if(w!=null)for(var b=Object.keys(Object(w)),f=0,s=b.length;f<s;f++){var n=b[f],i=Object.getOwnPropertyDescriptor(w,n);i!==void 0&&i.enumerable&&(A[n]=w[n])}}return A}U.exports={assign:C,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:C})}}},92664:function(U,C,e){U.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(U,C,e){var k=e(12296),A={object:!0,symbol:!0};U.exports=function(){var o,w=k.Symbol;if(typeof w!="function")return!1;o=w("test symbol");try{String(o)}catch{return!1}return!!A[typeof w.iterator]&&!!A[typeof w.toPrimitive]&&!!A[typeof w.toStringTag]}},53908:function(U){U.exports=function(C){return!!C&&(typeof C=="symbol"||!!C.constructor&&C.constructor.name==="Symbol"&&C[C.constructor.toStringTag]==="Symbol")}},96863:function(U,C,e){var k=e(21092),A=Object.create,o=Object.defineProperty,w=Object.prototype,b=A(null);U.exports=function(f){for(var s,n,i=0;b[f+(i||"")];)++i;return b[f+=i||""]=!0,o(w,s="@@"+f,k.gs(null,function(r){n||(n=!0,o(this,s,k(r)),n=!1)})),s}},53540:function(U,C,e){var k=e(21092),A=e(12296).Symbol;U.exports=function(o){return Object.defineProperties(o,{hasInstance:k("",A&&A.hasInstance||o("hasInstance")),isConcatSpreadable:k("",A&&A.isConcatSpreadable||o("isConcatSpreadable")),iterator:k("",A&&A.iterator||o("iterator")),match:k("",A&&A.match||o("match")),replace:k("",A&&A.replace||o("replace")),search:k("",A&&A.search||o("search")),species:k("",A&&A.species||o("species")),split:k("",A&&A.split||o("split")),toPrimitive:k("",A&&A.toPrimitive||o("toPrimitive")),toStringTag:k("",A&&A.toStringTag||o("toStringTag")),unscopables:k("",A&&A.unscopables||o("unscopables"))})}},73852:function(U,C,e){var k=e(21092),A=e(63948),o=Object.create(null);U.exports=function(w){return Object.defineProperties(w,{for:k(function(b){return o[b]?o[b]:o[b]=w(String(b))}),keyFor:k(function(b){var f;for(f in A(b),o)if(o[f]===b)return f})})}},18376:function(U,C,e){var k,A,o,w=e(21092),b=e(63948),f=e(12296).Symbol,s=e(96863),n=e(53540),i=e(73852),r=Object.create,t=Object.defineProperties,a=Object.defineProperty;if(typeof f=="function")try{String(f()),o=!0}catch{}else f=null;A=function(l){if(this instanceof A)throw new TypeError("Symbol is not a constructor");return k(l)},U.exports=k=function l(u){var h;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return o?f(u):(h=r(A.prototype),u=u===void 0?"":String(u),t(h,{__description__:w("",u),__name__:w("",s(u))}))},n(k),i(k),t(A.prototype,{constructor:w(k),toString:w("",function(){return this.__name__})}),t(k.prototype,{toString:w(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:w(function(){return b(this)})}),a(k.prototype,k.toPrimitive,w("",function(){var l=b(this);return typeof l=="symbol"?l:l.toString()})),a(k.prototype,k.toStringTag,w("c","Symbol")),a(A.prototype,k.toStringTag,w("c",k.prototype[k.toStringTag])),a(A.prototype,k.toPrimitive,w("c",k.prototype[k.toPrimitive]))},63948:function(U,C,e){var k=e(53908);U.exports=function(A){if(!k(A))throw new TypeError(A+" is not a symbol");return A}},60463:function(U,C,e){U.exports=e(96979)()?WeakMap:e(64864)},96979:function(U){U.exports=function(){var C,e;if(typeof WeakMap!="function")return!1;try{C=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(C)==="[object WeakMap]"&&typeof C.set=="function"&&C.set({},1)===C&&typeof C.delete=="function"&&typeof C.has=="function"&&C.get(e)==="one"}},69876:function(U){U.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(U,C,e){var k,A=e(42584),o=e(69932),w=e(92584),b=e(9252),f=e(82252),s=e(21092),n=e(76252),i=e(76024),r=e(92664).toStringTag,t=e(69876),a=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;U.exports=k=function(){var c,y=arguments[0];if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");return c=t&&o&&WeakMap!==k?o(new WeakMap,h(this)):this,A(y)&&(a(y)||(y=n(y))),l(c,"__weakMapData__",s("c","$weakMap$"+f())),y&&i(y,function(d){b(d),c.set(d[0],d[1])}),c},t&&(o&&o(k,WeakMap),k.prototype=Object.create(WeakMap.prototype,{constructor:s(k)})),Object.defineProperties(k.prototype,{delete:s(function(c){return!!u.call(w(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(w(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(w(c),this.__weakMapData__)}),set:s(function(c,y){return l(w(c),this.__weakMapData__,s("c",y)),this}),toString:s(function(){return"[object WeakMap]"})}),l(k.prototype,r,s("c","WeakMap"))},61252:function(U){var C,e=typeof Reflect=="object"?Reflect:null,k=e&&typeof e.apply=="function"?e.apply:function(u,h,c){return Function.prototype.apply.call(u,h,c)};C=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var A=Number.isNaN||function(u){return u!=u};function o(){o.init.call(this)}U.exports=o,U.exports.once=function(u,h){return new Promise(function(c,y){function d(g){u.removeListener(h,v),y(g)}function v(){typeof u.removeListener=="function"&&u.removeListener("error",d),c([].slice.call(arguments))}l(u,h,v,{once:!0}),h!=="error"&&function(g,x,m){typeof g.on=="function"&&l(g,"error",x,{once:!0})}(u,d)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var w=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function f(u){return u._maxListeners===void 0?o.defaultMaxListeners:u._maxListeners}function s(u,h,c,y){var d,v,g,x;if(b(c),(v=u._events)===void 0?(v=u._events=Object.create(null),u._eventsCount=0):(v.newListener!==void 0&&(u.emit("newListener",h,c.listener?c.listener:c),v=u._events),g=v[h]),g===void 0)g=v[h]=c,++u._eventsCount;else if(typeof g=="function"?g=v[h]=y?[c,g]:[g,c]:y?g.unshift(c):g.push(c),(d=f(u))>0&&g.length>d&&!g.warned){g.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=h,m.count=g.length,x=m,console&&console.warn&&console.warn(x)}return u}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,h,c){var y={fired:!1,wrapFn:void 0,target:u,type:h,listener:c},d=n.bind(y);return d.listener=c,y.wrapFn=d,d}function r(u,h,c){var y=u._events;if(y===void 0)return[];var d=y[h];return d===void 0?[]:typeof d=="function"?c?[d.listener||d]:[d]:c?function(v){for(var g=new Array(v.length),x=0;x<g.length;++x)g[x]=v[x].listener||v[x];return g}(d):a(d,d.length)}function t(u){var h=this._events;if(h!==void 0){var c=h[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function a(u,h){for(var c=new Array(h),y=0;y<h;++y)c[y]=u[y];return c}function l(u,h,c,y){if(typeof u.on=="function")y.once?u.once(h,c):u.on(h,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(h,function d(v){y.once&&u.removeEventListener(h,d),c(v)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(u){if(typeof u!="number"||u<0||A(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");w=u}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||A(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(u){for(var h=[],c=1;c<arguments.length;c++)h.push(arguments[c]);var y=u==="error",d=this._events;if(d!==void 0)y=y&&d.error===void 0;else if(!y)return!1;if(y){var v;if(h.length>0&&(v=h[0]),v instanceof Error)throw v;var g=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw g.context=v,g}var x=d[u];if(x===void 0)return!1;if(typeof x=="function")k(x,this,h);else{var m=x.length,_=a(x,m);for(c=0;c<m;++c)k(_[c],this,h)}return!0},o.prototype.addListener=function(u,h){return s(this,u,h,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(u,h){return s(this,u,h,!0)},o.prototype.once=function(u,h){return b(h),this.on(u,i(this,u,h)),this},o.prototype.prependOnceListener=function(u,h){return b(h),this.prependListener(u,i(this,u,h)),this},o.prototype.removeListener=function(u,h){var c,y,d,v,g;if(b(h),(y=this._events)===void 0)return this;if((c=y[u])===void 0)return this;if(c===h||c.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete y[u],y.removeListener&&this.emit("removeListener",u,c.listener||h));else if(typeof c!="function"){for(d=-1,v=c.length-1;v>=0;v--)if(c[v]===h||c[v].listener===h){g=c[v].listener,d=v;break}if(d<0)return this;d===0?c.shift():function(x,m){for(;m+1<x.length;m++)x[m]=x[m+1];x.pop()}(c,d),c.length===1&&(y[u]=c[0]),y.removeListener!==void 0&&this.emit("removeListener",u,g||h)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(u){var h,c,y;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var d,v=Object.keys(c);for(y=0;y<v.length;++y)(d=v[y])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=c[u])=="function")this.removeListener(u,h);else if(h!==void 0)for(y=h.length-1;y>=0;y--)this.removeListener(u,h[y]);return this},o.prototype.listeners=function(u){return r(this,u,!0)},o.prototype.rawListeners=function(u){return r(this,u,!1)},o.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):t.call(u,h)},o.prototype.listenerCount=t,o.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]}},39072:function(U){var C=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};U.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return C()}try{return __global__||C()}finally{delete Object.prototype.__global__}}()},12296:function(U,C,e){U.exports=e(45072)()?globalThis:e(39072)},45072:function(U){U.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(U,C,e){var k=e(94576);U.exports=function(A){var o=typeof A;if(o==="string"){var w=A;if((A=+A)==0&&k(w))return!1}else if(o!=="number")return!1;return A-A<1}},47520:function(U,C,e){var k=e(72512);U.exports=function(A,o,w){if(!A)throw new TypeError("must specify data as first parameter");if(w=0|+(w||0),Array.isArray(A)&&A[0]&&typeof A[0][0]=="number"){var b,f,s,n,i=A[0].length,r=A.length*i;o&&typeof o!="string"||(o=new(k(o||"float32"))(r+w));var t=o.length-w;if(r!==t)throw new Error("source length "+r+" ("+i+"x"+A.length+") does not match destination length "+t);for(b=0,s=w;b<A.length;b++)for(f=0;f<i;f++)o[s++]=A[b][f]===null?NaN:A[b][f]}else if(o&&typeof o!="string")o.set(A,w);else{var a=k(o||"float32");if(Array.isArray(A)||o==="array")for(b=0,s=w,n=(o=new a(A.length+w)).length;s<n;s++,b++)o[s]=A[b]===null?NaN:A[b];else w===0?o=new a(A):(o=new a(A.length+w)).set(A,w)}return o}},33888:function(U,C,e){var k=e(49395),A=[32,126];U.exports=function(o){var w=(o=o||{}).shape?o.shape:o.canvas?[o.canvas.width,o.canvas.height]:[512,512],b=o.canvas||document.createElement("canvas"),f=o.font,s=typeof o.step=="number"?[o.step,o.step]:o.step||[32,32],n=o.chars||A;if(f&&typeof f!="string"&&(f=k(f)),Array.isArray(n)){if(n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"){for(var i=[],r=n[0],t=0;r<=n[1];r++)i[t++]=String.fromCharCode(r);n=i}}else n=String(n).split("");w=w.slice(),b.width=w[0],b.height=w[1];var a=b.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,b.width,b.height),a.font=f,a.textAlign="center",a.textBaseline="middle",a.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(r=0;r<n.length;r++)a.fillText(n[r],l,u),(l+=s[0])>w[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return b}},71920:function(U){function C(o,w){w||(w={}),(typeof o=="string"||Array.isArray(o))&&(w.family=o);var b=Array.isArray(w.family)?w.family.join(", "):w.family;if(!b)throw Error("`family` must be defined");var f=w.size||w.fontSize||w.em||48,s=w.weight||w.fontWeight||"",n=(o=[w.style||w.fontStyle||"",s,f].join(" ")+"px "+b,w.origin||"top");if(C.cache[b]&&f<=C.cache[b].em)return e(C.cache[b],n);var i=w.canvas||C.canvas,r=i.getContext("2d"),t={upper:w.upper!==void 0?w.upper:"H",lower:w.lower!==void 0?w.lower:"x",descent:w.descent!==void 0?w.descent:"p",ascent:w.ascent!==void 0?w.ascent:"h",tittle:w.tittle!==void 0?w.tittle:"i",overshoot:w.overshoot!==void 0?w.overshoot:"O"},a=Math.ceil(1.5*f);i.height=a,i.width=.5*a,r.font=o;var l="H",u={top:0};r.clearRect(0,0,a,a),r.textBaseline="top",r.fillStyle="black",r.fillText(l,0,0);var h=k(r.getImageData(0,0,a,a));r.clearRect(0,0,a,a),r.textBaseline="bottom",r.fillText(l,0,a);var c=k(r.getImageData(0,0,a,a));u.lineHeight=u.bottom=a-c+h,r.clearRect(0,0,a,a),r.textBaseline="alphabetic",r.fillText(l,0,a);var y=a-k(r.getImageData(0,0,a,a))-1+h;u.baseline=u.alphabetic=y,r.clearRect(0,0,a,a),r.textBaseline="middle",r.fillText(l,0,.5*a);var d=k(r.getImageData(0,0,a,a));u.median=u.middle=a-d-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="hanging",r.fillText(l,0,.5*a);var v=k(r.getImageData(0,0,a,a));u.hanging=a-v-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="ideographic",r.fillText(l,0,a);var g=k(r.getImageData(0,0,a,a));if(u.ideographic=a-g-1+h,t.upper&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.upper,0,0),u.upper=k(r.getImageData(0,0,a,a)),u.capHeight=u.baseline-u.upper),t.lower&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.lower,0,0),u.lower=k(r.getImageData(0,0,a,a)),u.xHeight=u.baseline-u.lower),t.tittle&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.tittle,0,0),u.tittle=k(r.getImageData(0,0,a,a))),t.ascent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.ascent,0,0),u.ascent=k(r.getImageData(0,0,a,a))),t.descent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.descent,0,0),u.descent=A(r.getImageData(0,0,a,a))),t.overshoot){r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(t.overshoot,0,0);var x=A(r.getImageData(0,0,a,a));u.overshoot=x-y}for(var m in u)u[m]/=f;return u.em=f,C.cache[b]=u,e(u,n)}function e(o,w){var b={};for(var f in typeof w=="string"&&(w=o[w]),o)f!=="em"&&(b[f]=o[f]-w);return b}function k(o){for(var w=o.height,b=o.data,f=3;f<b.length;f+=4)if(b[f]!==0)return Math.floor(.25*(f-3)/w)}function A(o){for(var w=o.height,b=o.data,f=b.length-1;f>0;f-=4)if(b[f]!==0)return Math.floor(.25*(f-3)/w)}U.exports=C,C.canvas=document.createElement("canvas"),C.cache={}},46492:function(U,C,e){var k=e(90720),A=Object.prototype.toString,o=Object.prototype.hasOwnProperty;U.exports=function(w,b,f){if(!k(b))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=f),A.call(w)==="[object Array]"?function(n,i,r){for(var t=0,a=n.length;t<a;t++)o.call(n,t)&&(r==null?i(n[t],t,n):i.call(r,n[t],t,n))}(w,b,s):typeof w=="string"?function(n,i,r){for(var t=0,a=n.length;t<a;t++)r==null?i(n.charAt(t),t,n):i.call(r,n.charAt(t),t,n)}(w,b,s):function(n,i,r){for(var t in n)o.call(n,t)&&(r==null?i(n[t],t,n):i.call(r,n[t],t,n))}(w,b,s)}},74336:function(U){var C=Object.prototype.toString,e=Math.max,k=function(A,o){for(var w=[],b=0;b<A.length;b+=1)w[b]=A[b];for(var f=0;f<o.length;f+=1)w[f+A.length]=o[f];return w};U.exports=function(A){var o=this;if(typeof o!="function"||C.apply(o)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var w,b=function(r,t){for(var a=[],l=1,u=0;l<r.length;l+=1,u+=1)a[u]=r[l];return a}(arguments),f=e(0,o.length-b.length),s=[],n=0;n<f;n++)s[n]="$"+n;if(w=Function("binder","return function ("+function(r,t){for(var a="",l=0;l<r.length;l+=1)a+=r[l],l+1<r.length&&(a+=",");return a}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof w){var r=o.apply(this,k(b,arguments));return Object(r)===r?r:this}return o.apply(A,k(b,arguments))}),o.prototype){var i=function(){};i.prototype=o.prototype,w.prototype=new i,i.prototype=null}return w}},8844:function(U,C,e){var k=e(74336);U.exports=Function.prototype.bind||k},13380:function(U){U.exports=function(C,e){if(typeof C!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var k=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(k.width=e.width),typeof e.height=="number"&&(k.height=e.height);var A,o=e;try{var w=[C];C.indexOf("webgl")===0&&w.push("experimental-"+C);for(var b=0;b<w.length;b++)if(A=k.getContext(w[b],o))return A}catch{A=null}return A||null}},53664:function(U,C,e){var k,A=SyntaxError,o=Function,w=TypeError,b=function(O){try{return o('"use strict"; return ('+O+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var s=function(){throw new w},n=f?function(){try{return s}catch{try{return f(arguments,"callee").get}catch{return s}}}():s,i=e(71080)(),r=e(69572)(),t=Object.getPrototypeOf||(r?function(O){return O.__proto__}:null),a={},l=typeof Uint8Array<"u"&&t?t(Uint8Array):k,u={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":i&&t?t([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?k:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?k:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&t?t(t([][Symbol.iterator]())):k,"%JSON%":typeof JSON=="object"?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&t?t(new Map()[Symbol.iterator]()):k,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&t?t(new Set()[Symbol.iterator]()):k,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&t?t(""[Symbol.iterator]()):k,"%Symbol%":i?Symbol:k,"%SyntaxError%":A,"%ThrowTypeError%":n,"%TypedArray%":l,"%TypeError%":w,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet};if(t)try{null.error}catch(O){var h=t(t(O));u["%Error.prototype%"]=h}var c=function O(P){var I;if(P==="%AsyncFunction%")I=b("async function () {}");else if(P==="%GeneratorFunction%")I=b("function* () {}");else if(P==="%AsyncGeneratorFunction%")I=b("async function* () {}");else if(P==="%AsyncGenerator%"){var R=O("%AsyncGeneratorFunction%");R&&(I=R.prototype)}else if(P==="%AsyncIteratorPrototype%"){var H=O("%AsyncGenerator%");H&&t&&(I=t(H.prototype))}return u[P]=I,I},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=e(8844),v=e(92064),g=d.call(Function.call,Array.prototype.concat),x=d.call(Function.apply,Array.prototype.splice),m=d.call(Function.call,String.prototype.replace),_=d.call(Function.call,String.prototype.slice),p=d.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,E=function(O,P){var I,R=O;if(v(y,R)&&(R="%"+(I=y[R])[0]+"%"),v(u,R)){var H=u[R];if(H===a&&(H=c(R)),H===void 0&&!P)throw new w("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:I,name:R,value:H}}throw new A("intrinsic "+O+" does not exist!")};U.exports=function(O,P){if(typeof O!="string"||O.length===0)throw new w("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new w('"allowMissing" argument must be a boolean');if(p(/^%?[^%]*%?$/,O)===null)throw new A("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=function($){var K=_($,0,1),ae=_($,-1);if(K==="%"&&ae!=="%")throw new A("invalid intrinsic syntax, expected closing `%`");if(ae==="%"&&K!=="%")throw new A("invalid intrinsic syntax, expected opening `%`");var ue=[];return m($,S,function(se,he,pe,de){ue[ue.length]=pe?m(de,T,"$1"):he||se}),ue}(O),R=I.length>0?I[0]:"",H=E("%"+R+"%",P),z=H.name,j=H.value,Z=!1,F=H.alias;F&&(R=F[0],x(I,g([0,1],F)));for(var V=1,W=!0;V<I.length;V+=1){var re=I[V],ne=_(re,0,1),te=_(re,-1);if((ne==='"'||ne==="'"||ne==="`"||te==='"'||te==="'"||te==="`")&&ne!==te)throw new A("property names with quotes must have matching quotes");if(re!=="constructor"&&W||(Z=!0),v(u,z="%"+(R+="."+re)+"%"))j=u[z];else if(j!=null){if(!(re in j)){if(!P)throw new w("base intrinsic for "+O+" exists, but the property is not available.");return}if(f&&V+1>=I.length){var Q=f(j,re);j=(W=!!Q)&&"get"in Q&&!("originalValue"in Q.get)?Q.get:j[re]}else W=v(j,re),j=j[re];W&&!Z&&(u[z]=j)}}return j}},12408:function(U){U.exports=function(C,e){var k=e[0],A=e[1],o=e[2],w=e[3],b=e[4],f=e[5],s=e[6],n=e[7],i=e[8],r=e[9],t=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15];return C[0]=f*(t*c-a*h)-r*(s*c-n*h)+u*(s*a-n*t),C[1]=-(A*(t*c-a*h)-r*(o*c-w*h)+u*(o*a-w*t)),C[2]=A*(s*c-n*h)-f*(o*c-w*h)+u*(o*n-w*s),C[3]=-(A*(s*a-n*t)-f*(o*a-w*t)+r*(o*n-w*s)),C[4]=-(b*(t*c-a*h)-i*(s*c-n*h)+l*(s*a-n*t)),C[5]=k*(t*c-a*h)-i*(o*c-w*h)+l*(o*a-w*t),C[6]=-(k*(s*c-n*h)-b*(o*c-w*h)+l*(o*n-w*s)),C[7]=k*(s*a-n*t)-b*(o*a-w*t)+i*(o*n-w*s),C[8]=b*(r*c-a*u)-i*(f*c-n*u)+l*(f*a-n*r),C[9]=-(k*(r*c-a*u)-i*(A*c-w*u)+l*(A*a-w*r)),C[10]=k*(f*c-n*u)-b*(A*c-w*u)+l*(A*n-w*f),C[11]=-(k*(f*a-n*r)-b*(A*a-w*r)+i*(A*n-w*f)),C[12]=-(b*(r*h-t*u)-i*(f*h-s*u)+l*(f*t-s*r)),C[13]=k*(r*h-t*u)-i*(A*h-o*u)+l*(A*t-o*r),C[14]=-(k*(f*h-s*u)-b*(A*h-o*u)+l*(A*s-o*f)),C[15]=k*(f*t-s*r)-b*(A*t-o*r)+i*(A*s-o*f),C}},76860:function(U){U.exports=function(C){var e=new Float32Array(16);return e[0]=C[0],e[1]=C[1],e[2]=C[2],e[3]=C[3],e[4]=C[4],e[5]=C[5],e[6]=C[6],e[7]=C[7],e[8]=C[8],e[9]=C[9],e[10]=C[10],e[11]=C[11],e[12]=C[12],e[13]=C[13],e[14]=C[14],e[15]=C[15],e}},64492:function(U){U.exports=function(C,e){return C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},54212:function(U){U.exports=function(){var C=new Float32Array(16);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},70800:function(U){U.exports=function(C){var e=C[0],k=C[1],A=C[2],o=C[3],w=C[4],b=C[5],f=C[6],s=C[7],n=C[8],i=C[9],r=C[10],t=C[11],a=C[12],l=C[13],u=C[14],h=C[15];return(e*b-k*w)*(r*h-t*u)-(e*f-A*w)*(i*h-t*l)+(e*s-o*w)*(i*u-r*l)+(k*f-A*b)*(n*h-t*a)-(k*s-o*b)*(n*u-r*a)+(A*s-o*f)*(n*l-i*a)}},61784:function(U){U.exports=function(C,e){var k=e[0],A=e[1],o=e[2],w=e[3],b=k+k,f=A+A,s=o+o,n=k*b,i=A*b,r=A*f,t=o*b,a=o*f,l=o*s,u=w*b,h=w*f,c=w*s;return C[0]=1-r-l,C[1]=i+c,C[2]=t-h,C[3]=0,C[4]=i-c,C[5]=1-n-l,C[6]=a+u,C[7]=0,C[8]=t+h,C[9]=a-u,C[10]=1-n-r,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},91616:function(U){U.exports=function(C,e,k){var A,o,w,b=k[0],f=k[1],s=k[2],n=Math.sqrt(b*b+f*f+s*s);return Math.abs(n)<1e-6?null:(b*=n=1/n,f*=n,s*=n,A=Math.sin(e),w=1-(o=Math.cos(e)),C[0]=b*b*w+o,C[1]=f*b*w+s*A,C[2]=s*b*w-f*A,C[3]=0,C[4]=b*f*w-s*A,C[5]=f*f*w+o,C[6]=s*f*w+b*A,C[7]=0,C[8]=b*s*w+f*A,C[9]=f*s*w-b*A,C[10]=s*s*w+o,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C)}},51944:function(U){U.exports=function(C,e,k){var A=e[0],o=e[1],w=e[2],b=e[3],f=A+A,s=o+o,n=w+w,i=A*f,r=A*s,t=A*n,a=o*s,l=o*n,u=w*n,h=b*f,c=b*s,y=b*n;return C[0]=1-(a+u),C[1]=r+y,C[2]=t-c,C[3]=0,C[4]=r-y,C[5]=1-(i+u),C[6]=l+h,C[7]=0,C[8]=t+c,C[9]=l-h,C[10]=1-(i+a),C[11]=0,C[12]=k[0],C[13]=k[1],C[14]=k[2],C[15]=1,C}},69444:function(U){U.exports=function(C,e){return C[0]=e[0],C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=e[1],C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=e[2],C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},48268:function(U){U.exports=function(C,e){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=e[0],C[13]=e[1],C[14]=e[2],C[15]=1,C}},21856:function(U){U.exports=function(C,e){var k=Math.sin(e),A=Math.cos(e);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=A,C[6]=k,C[7]=0,C[8]=0,C[9]=-k,C[10]=A,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},79216:function(U){U.exports=function(C,e){var k=Math.sin(e),A=Math.cos(e);return C[0]=A,C[1]=0,C[2]=-k,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=k,C[9]=0,C[10]=A,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},57736:function(U){U.exports=function(C,e){var k=Math.sin(e),A=Math.cos(e);return C[0]=A,C[1]=k,C[2]=0,C[3]=0,C[4]=-k,C[5]=A,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},38848:function(U){U.exports=function(C,e,k,A,o,w,b){var f=1/(k-e),s=1/(o-A),n=1/(w-b);return C[0]=2*w*f,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=2*w*s,C[6]=0,C[7]=0,C[8]=(k+e)*f,C[9]=(o+A)*s,C[10]=(b+w)*n,C[11]=-1,C[12]=0,C[13]=0,C[14]=b*w*2*n,C[15]=0,C}},36635:function(U){U.exports=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},36524:function(U,C,e){U.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(U){U.exports=function(C,e){var k=e[0],A=e[1],o=e[2],w=e[3],b=e[4],f=e[5],s=e[6],n=e[7],i=e[8],r=e[9],t=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15],y=k*f-A*b,d=k*s-o*b,v=k*n-w*b,g=A*s-o*f,x=A*n-w*f,m=o*n-w*s,_=i*u-r*l,p=i*h-t*l,S=i*c-a*l,T=r*h-t*u,E=r*c-a*u,O=t*c-a*h,P=y*O-d*E+v*T+g*S-x*p+m*_;return P?(P=1/P,C[0]=(f*O-s*E+n*T)*P,C[1]=(o*E-A*O-w*T)*P,C[2]=(u*m-h*x+c*g)*P,C[3]=(t*x-r*m-a*g)*P,C[4]=(s*S-b*O-n*p)*P,C[5]=(k*O-o*S+w*p)*P,C[6]=(h*v-l*m-c*d)*P,C[7]=(i*m-t*v+a*d)*P,C[8]=(b*E-f*S+n*_)*P,C[9]=(A*S-k*E-w*_)*P,C[10]=(l*x-u*v+c*y)*P,C[11]=(r*v-i*x-a*y)*P,C[12]=(f*p-b*T-s*_)*P,C[13]=(k*T-A*p+o*_)*P,C[14]=(u*d-l*g-h*y)*P,C[15]=(i*g-r*d+t*y)*P,C):null}},56508:function(U,C,e){var k=e(36635);U.exports=function(A,o,w,b){var f,s,n,i,r,t,a,l,u,h,c=o[0],y=o[1],d=o[2],v=b[0],g=b[1],x=b[2],m=w[0],_=w[1],p=w[2];return Math.abs(c-m)<1e-6&&Math.abs(y-_)<1e-6&&Math.abs(d-p)<1e-6?k(A):(a=c-m,l=y-_,u=d-p,f=g*(u*=h=1/Math.sqrt(a*a+l*l+u*u))-x*(l*=h),s=x*(a*=h)-v*u,n=v*l-g*a,(h=Math.sqrt(f*f+s*s+n*n))?(f*=h=1/h,s*=h,n*=h):(f=0,s=0,n=0),i=l*n-u*s,r=u*f-a*n,t=a*s-l*f,(h=Math.sqrt(i*i+r*r+t*t))?(i*=h=1/h,r*=h,t*=h):(i=0,r=0,t=0),A[0]=f,A[1]=i,A[2]=a,A[3]=0,A[4]=s,A[5]=r,A[6]=l,A[7]=0,A[8]=n,A[9]=t,A[10]=u,A[11]=0,A[12]=-(f*c+s*y+n*d),A[13]=-(i*c+r*y+t*d),A[14]=-(a*c+l*y+u*d),A[15]=1,A)}},80944:function(U){U.exports=function(C,e,k){var A=e[0],o=e[1],w=e[2],b=e[3],f=e[4],s=e[5],n=e[6],i=e[7],r=e[8],t=e[9],a=e[10],l=e[11],u=e[12],h=e[13],c=e[14],y=e[15],d=k[0],v=k[1],g=k[2],x=k[3];return C[0]=d*A+v*f+g*r+x*u,C[1]=d*o+v*s+g*t+x*h,C[2]=d*w+v*n+g*a+x*c,C[3]=d*b+v*i+g*l+x*y,d=k[4],v=k[5],g=k[6],x=k[7],C[4]=d*A+v*f+g*r+x*u,C[5]=d*o+v*s+g*t+x*h,C[6]=d*w+v*n+g*a+x*c,C[7]=d*b+v*i+g*l+x*y,d=k[8],v=k[9],g=k[10],x=k[11],C[8]=d*A+v*f+g*r+x*u,C[9]=d*o+v*s+g*t+x*h,C[10]=d*w+v*n+g*a+x*c,C[11]=d*b+v*i+g*l+x*y,d=k[12],v=k[13],g=k[14],x=k[15],C[12]=d*A+v*f+g*r+x*u,C[13]=d*o+v*s+g*t+x*h,C[14]=d*w+v*n+g*a+x*c,C[15]=d*b+v*i+g*l+x*y,C}},97688:function(U){U.exports=function(C,e,k,A,o,w,b){var f=1/(e-k),s=1/(A-o),n=1/(w-b);return C[0]=-2*f,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*s,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*n,C[11]=0,C[12]=(e+k)*f,C[13]=(o+A)*s,C[14]=(b+w)*n,C[15]=1,C}},51296:function(U){U.exports=function(C,e,k,A,o){var w=1/Math.tan(e/2),b=1/(A-o);return C[0]=w/k,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=w,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=(o+A)*b,C[11]=-1,C[12]=0,C[13]=0,C[14]=2*o*A*b,C[15]=0,C}},63688:function(U){U.exports=function(C,e,k,A){var o=Math.tan(e.upDegrees*Math.PI/180),w=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),s=2/(b+f),n=2/(o+w);return C[0]=s,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=n,C[6]=0,C[7]=0,C[8]=-(b-f)*s*.5,C[9]=(o-w)*n*.5,C[10]=A/(k-A),C[11]=-1,C[12]=0,C[13]=0,C[14]=A*k/(k-A),C[15]=0,C}},30016:function(U){U.exports=function(C,e,k,A){var o,w,b,f,s,n,i,r,t,a,l,u,h,c,y,d,v,g,x,m,_,p,S,T,E=A[0],O=A[1],P=A[2],I=Math.sqrt(E*E+O*O+P*P);return Math.abs(I)<1e-6?null:(E*=I=1/I,O*=I,P*=I,o=Math.sin(k),b=1-(w=Math.cos(k)),f=e[0],s=e[1],n=e[2],i=e[3],r=e[4],t=e[5],a=e[6],l=e[7],u=e[8],h=e[9],c=e[10],y=e[11],d=E*E*b+w,v=O*E*b+P*o,g=P*E*b-O*o,x=E*O*b-P*o,m=O*O*b+w,_=P*O*b+E*o,p=E*P*b+O*o,S=O*P*b-E*o,T=P*P*b+w,C[0]=f*d+r*v+u*g,C[1]=s*d+t*v+h*g,C[2]=n*d+a*v+c*g,C[3]=i*d+l*v+y*g,C[4]=f*x+r*m+u*_,C[5]=s*x+t*m+h*_,C[6]=n*x+a*m+c*_,C[7]=i*x+l*m+y*_,C[8]=f*p+r*S+u*T,C[9]=s*p+t*S+h*T,C[10]=n*p+a*S+c*T,C[11]=i*p+l*S+y*T,e!==C&&(C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C)}},15456:function(U){U.exports=function(C,e,k){var A=Math.sin(k),o=Math.cos(k),w=e[4],b=e[5],f=e[6],s=e[7],n=e[8],i=e[9],r=e[10],t=e[11];return e!==C&&(C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[4]=w*o+n*A,C[5]=b*o+i*A,C[6]=f*o+r*A,C[7]=s*o+t*A,C[8]=n*o-w*A,C[9]=i*o-b*A,C[10]=r*o-f*A,C[11]=t*o-s*A,C}},64840:function(U){U.exports=function(C,e,k){var A=Math.sin(k),o=Math.cos(k),w=e[0],b=e[1],f=e[2],s=e[3],n=e[8],i=e[9],r=e[10],t=e[11];return e!==C&&(C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=w*o-n*A,C[1]=b*o-i*A,C[2]=f*o-r*A,C[3]=s*o-t*A,C[8]=w*A+n*o,C[9]=b*A+i*o,C[10]=f*A+r*o,C[11]=s*A+t*o,C}},4192:function(U){U.exports=function(C,e,k){var A=Math.sin(k),o=Math.cos(k),w=e[0],b=e[1],f=e[2],s=e[3],n=e[4],i=e[5],r=e[6],t=e[7];return e!==C&&(C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=w*o+n*A,C[1]=b*o+i*A,C[2]=f*o+r*A,C[3]=s*o+t*A,C[4]=n*o-w*A,C[5]=i*o-b*A,C[6]=r*o-f*A,C[7]=t*o-s*A,C}},68152:function(U){U.exports=function(C,e,k){var A=k[0],o=k[1],w=k[2];return C[0]=e[0]*A,C[1]=e[1]*A,C[2]=e[2]*A,C[3]=e[3]*A,C[4]=e[4]*o,C[5]=e[5]*o,C[6]=e[6]*o,C[7]=e[7]*o,C[8]=e[8]*w,C[9]=e[9]*w,C[10]=e[10]*w,C[11]=e[11]*w,C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},89412:function(U){U.exports=function(C){return"mat4("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+", "+C[6]+", "+C[7]+", "+C[8]+", "+C[9]+", "+C[10]+", "+C[11]+", "+C[12]+", "+C[13]+", "+C[14]+", "+C[15]+")"}},35176:function(U){U.exports=function(C,e,k){var A,o,w,b,f,s,n,i,r,t,a,l,u=k[0],h=k[1],c=k[2];return e===C?(C[12]=e[0]*u+e[4]*h+e[8]*c+e[12],C[13]=e[1]*u+e[5]*h+e[9]*c+e[13],C[14]=e[2]*u+e[6]*h+e[10]*c+e[14],C[15]=e[3]*u+e[7]*h+e[11]*c+e[15]):(A=e[0],o=e[1],w=e[2],b=e[3],f=e[4],s=e[5],n=e[6],i=e[7],r=e[8],t=e[9],a=e[10],l=e[11],C[0]=A,C[1]=o,C[2]=w,C[3]=b,C[4]=f,C[5]=s,C[6]=n,C[7]=i,C[8]=r,C[9]=t,C[10]=a,C[11]=l,C[12]=A*u+f*h+r*c+e[12],C[13]=o*u+s*h+t*c+e[13],C[14]=w*u+n*h+a*c+e[14],C[15]=b*u+i*h+l*c+e[15]),C}},86520:function(U){U.exports=function(C,e){if(C===e){var k=e[1],A=e[2],o=e[3],w=e[6],b=e[7],f=e[11];C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=k,C[6]=e[9],C[7]=e[13],C[8]=A,C[9]=w,C[11]=e[14],C[12]=o,C[13]=b,C[14]=f}else C[0]=e[0],C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=e[1],C[5]=e[5],C[6]=e[9],C[7]=e[13],C[8]=e[2],C[9]=e[6],C[10]=e[10],C[11]=e[14],C[12]=e[3],C[13]=e[7],C[14]=e[11],C[15]=e[15];return C}},23352:function(U,C,e){var k=e(42771),A=e(55616),o=e(28624),w=e(55212),b=e(60463),f=e(72160),s=e(33888),n=e(14144),i=e(51160),r=e(58908),t=e(65819),a=e(23464),l=e(63768),u=e(50896),h=e(71920),c=e(47520),y=e(308).nextPow2,d=new b,v=!1;if(document.body){var g=document.body.appendChild(document.createElement("div"));g.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(g).fontStretch&&(v=!0),document.body.removeChild(g)}var x=function(m){(function(_){return typeof _=="function"&&_._gl&&_.prop&&_.texture&&_.buffer})(m)?(m={regl:m},this.gl=m.regl._gl):this.gl=w(m),this.shader=d.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=m.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),d.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(m)?m:{})};x.prototype.createShader=function(){var m=this.regl,_=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(p,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(p,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(p,S){return S.atlas.texture},charStep:function(p,S){return S.atlas.step},em:function(p,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:m,draw:_,atlas:{}}},x.prototype.update=function(m){var _=this;if(typeof m=="string")m={text:m};else if(!m)return;(m=A(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(m.opacity)?this.opacity=m.opacity.map(function(ve){return parseFloat(ve)}):this.opacity=parseFloat(m.opacity)),m.viewport!=null&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),m.kerning!=null&&(this.kerning=m.kerning),m.offset!=null&&(typeof m.offset=="number"&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=x.baseFontSize+"px sans-serif");var p,S=!1,T=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(ve,Ce){if(typeof ve=="string")try{ve=k.parse(ve)}catch{ve=k.parse(x.baseFontSize+"px "+ve)}else{var ke=ve.style,Ae=ve.weight,Ee=ve.stretch,ze=ve.variant;ve=k.parse(k.stringify(ve)),ke&&(ve.style=ke),Ae&&(ve.weight=Ae),Ee&&(ve.stretch=Ee),ze&&(ve.variant=ze)}var Fe=k.stringify({size:x.baseFontSize,family:ve.family,stretch:v?ve.stretch:void 0,variant:ve.variant,weight:ve.weight,style:ve.style}),ge=t(ve.size),Te=Math.round(ge[0]*a(ge[1]));if(Te!==_.fontSize[Ce]&&(T=!0,_.fontSize[Ce]=Te),!(_.font[Ce]&&Fe==_.font[Ce].baseString||(S=!0,_.font[Ce]=x.fonts[Fe],_.font[Ce]))){var Se=ve.family.join(", "),Re=[ve.style];ve.style!=ve.variant&&Re.push(ve.variant),ve.variant!=ve.weight&&Re.push(ve.weight),v&&ve.weight!=ve.stretch&&Re.push(ve.stretch),_.font[Ce]={baseString:Fe,family:Se,weight:ve.weight,stretch:ve.stretch,style:ve.style,variant:ve.variant,width:{},kerning:{},metrics:h(Se,{origin:"top",fontSize:x.baseFontSize,fontStyle:Re.join(" ")})},x.fonts[Fe]=_.font[Ce]}}),(S||T)&&this.font.forEach(function(ve,Ce){var ke=k.stringify({size:_.fontSize[Ce],family:ve.family,stretch:v?ve.stretch:void 0,variant:ve.variant,weight:ve.weight,style:ve.style});if(_.fontAtlas[Ce]=_.shader.atlas[ke],!_.fontAtlas[Ce]){var Ae=ve.metrics;_.shader.atlas[ke]=_.fontAtlas[Ce]={fontString:ke,step:2*Math.ceil(_.fontSize[Ce]*Ae.bottom*.5),em:_.fontSize[Ce],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:_.regl.texture()}}m.text==null&&(m.text=_.text)}),typeof m.text=="string"&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),O=0;O<E.length;O++)E[O]=m.text;m.text=E}if(m.text!=null||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var P=1;P<m.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+m.text[P-1].length,this.count+=m.text[P].length,this.counts.push(m.text[P].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];p=[],this.font.forEach(function(ve,Ce){x.atlasContext.font=ve.baseString;for(var ke=_.fontAtlas[Ce],Ae=0;Ae<_.text.length;Ae++){var Ee=_.text.charAt(Ae);if(ke.ids[Ee]==null&&(ke.ids[Ee]=ke.chars.length,ke.chars.push(Ee),p.push(Ee)),ve.width[Ee]==null&&(ve.width[Ee]=x.atlasContext.measureText(Ee).width/x.baseFontSize,_.kerning)){var ze=[];for(var Fe in ve.width)ze.push(Fe+Ee,Ee+Fe);u(ve.kerning,l(ve.family,{pairs:ze}))}}})}if(m.position)if(m.position.length>2){for(var I=!m.position[0].length,R=n.mallocFloat(2*this.count),H=0,z=0;H<this.counts.length;H++){var j=this.counts[H];if(I)for(var Z=0;Z<j;Z++)R[z++]=m.position[2*H],R[z++]=m.position[2*H+1];else for(var F=0;F<j;F++)R[z++]=m.position[H][0],R[z++]=m.position[H][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),n.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var V=n.mallocUint8(this.count),W=n.mallocFloat(2*this.count);this.textWidth=[];for(var re=0,ne=0;re<this.counts.length;re++){for(var te=this.counts[re],Q=this.font[re]||this.font[0],$=this.fontAtlas[re]||this.fontAtlas[0],K=0;K<te;K++){var ae=this.text.charAt(ne),ue=this.text.charAt(ne-1);if(V[ne]=$.ids[ae],W[2*ne]=Q.width[ae],K){var se=W[2*ne-2],he=W[2*ne],pe=W[2*ne-1]+.5*se+.5*he;if(this.kerning){var de=Q.kerning[ue+ae];de&&(pe+=.001*de)}W[2*ne+1]=pe}else W[2*ne+1]=.5*W[2*ne];ne++}this.textWidth.push(W.length?.5*W[2*ne-2]+W[2*ne-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:V,type:"uint8",usage:"stream"}),this.sizeBuffer({data:W,type:"float",usage:"stream"}),n.freeUint8(V),n.freeFloat(W),p.length&&this.font.forEach(function(ve,Ce){var ke=_.fontAtlas[Ce],Ae=ke.step,Ee=Math.floor(x.maxAtlasSize/Ae),ze=Math.min(Ee,ke.chars.length),Fe=Math.ceil(ke.chars.length/ze),ge=y(ze*Ae),Te=y(Fe*Ae);ke.width=ge,ke.height=Te,ke.rows=Fe,ke.cols=ze,ke.em&&ke.texture({data:s({canvas:x.atlasCanvas,font:ke.fontString,chars:ke.chars,shape:[ge,Te],step:[Ae,Ae]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(ve,Ce){var ke=Array.isArray(_.align)?_.align.length>1?_.align[Ce]:_.align[0]:_.align;if(typeof ke=="number")return ke;switch(ke){case"right":case"end":return-ve;case"center":case"centre":case"middle":return .5*-ve}return 0})),this.baseline==null&&m.baseline==null&&(m.baseline=0),m.baseline!=null&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ve,Ce){var ke=(_.font[Ce]||_.font[0]).metrics,Ae=0;return Ae+=.5*ke.bottom,-1*(Ae+=typeof ve=="number"?ve-ke.baseline:-ke[ve])})),m.color!=null)if(m.color||(m.color="transparent"),typeof m.color!="string"&&isNaN(m.color)){var xe;if(typeof m.color[0]=="number"&&m.color.length>this.counts.length){var _e=m.color.length;xe=n.mallocUint8(_e);for(var be=(m.color.subarray||m.color.slice).bind(m.color),Le=0;Le<_e;Le+=4)xe.set(f(be(Le,Le+4),"uint8"),Le)}else{var De=m.color.length;xe=n.mallocUint8(4*De);for(var ye=0;ye<De;ye++)xe.set(f(m.color[ye]||0,"uint8"),4*ye)}this.color=xe}else this.color=f(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var le=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(le);for(var oe=0;oe<this.batch.length;oe++)this.batch[oe]={count:this.counts.length>1?this.counts[oe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[oe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*oe,4*oe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[oe]:this.opacity,baseline:this.baselineOffset[oe]!=null?this.baselineOffset[oe]:this.baselineOffset[0],align:this.align?this.alignOffset[oe]!=null?this.alignOffset[oe]:this.alignOffset[0]:0,atlas:this.fontAtlas[oe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*oe,2*oe+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},U.exports=x},55212:function(U,C,e){var k=e(55616);function A(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var f=b.container.getBoundingClientRect();b.canvas.width=b.width||f.right-f.left,b.canvas.height=b.height||f.bottom-f.top}}function o(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function w(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}U.exports=function(b){var f;if(b?typeof b=="string"&&(b={container:b}):b={},(b=o(b)||typeof(f=b).nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"?{container:b}:function(n){return typeof n.drawArrays=="function"||typeof n.drawElements=="function"}(b)?{gl:b}:k(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var s=document.querySelector(b.container);if(!s)throw Error("Element "+b.container+" is not found");b.container=s}o(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=w(),b.container.appendChild(b.canvas),A(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=w(),b.container.appendChild(b.canvas),A(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(n){try{b.gl=b.canvas.getContext(n,b.attrs)}catch{}return b.gl}),b.gl}},26444:function(U){U.exports=function(C){typeof C=="string"&&(C=[C]);for(var e=[].slice.call(arguments,1),k=[],A=0;A<C.length-1;A++)k.push(C[A],e[A]||"");return k.push(C[A]),k.join("")}},2304:function(U,C,e){var k=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(k)try{k([],"length")}catch{k=null}U.exports=k},52264:function(U,C,e){var k,A=e(24200);k=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:A,U.exports=k},89184:function(U,C,e){var k=e(24200);U.exports=k&&function(){var A=!1;try{var o=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{A=!1}return A}()},39640:function(U,C,e){var k=e(53664)("%Object.defineProperty%",!0),A=function(){if(k)try{return k({},"a",{value:1}),!0}catch{return!1}return!1};A.hasArrayLengthDefineBug=function(){if(!A())return null;try{return k([],"length",{value:1}).length!==1}catch{return!0}},U.exports=A},69572:function(U){var C={foo:{}},e=Object;U.exports=function(){return{__proto__:C}.foo===C.foo&&!({__proto__:null}instanceof e)}},71080:function(U,C,e){var k=typeof Symbol<"u"&&Symbol,A=e(89320);U.exports=function(){return typeof k=="function"&&typeof Symbol=="function"&&typeof k("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&A()}},89320:function(U){U.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var C={},e=Symbol("test"),k=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(k)!=="[object Symbol]")return!1;for(e in C[e]=42,C)return!1;if(typeof Object.keys=="function"&&Object.keys(C).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(C).length!==0)return!1;var A=Object.getOwnPropertySymbols(C);if(A.length!==1||A[0]!==e||!Object.prototype.propertyIsEnumerable.call(C,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(C,e);if(o.value!==42||o.enumerable!==!0)return!1}return!0}},46672:function(U,C,e){var k=e(89320);U.exports=function(){return k()&&!!Symbol.toStringTag}},92064:function(U,C,e){var k=Function.prototype.call,A=Object.prototype.hasOwnProperty,o=e(8844);U.exports=o.call(k,A)},35984:function(U,C){C.read=function(e,k,A,o,w){var b,f,s=8*w-o-1,n=(1<<s)-1,i=n>>1,r=-7,t=A?w-1:0,a=A?-1:1,l=e[k+t];for(t+=a,b=l&(1<<-r)-1,l>>=-r,r+=s;r>0;b=256*b+e[k+t],t+=a,r-=8);for(f=b&(1<<-r)-1,b>>=-r,r+=o;r>0;f=256*f+e[k+t],t+=a,r-=8);if(b===0)b=1-i;else{if(b===n)return f?NaN:1/0*(l?-1:1);f+=Math.pow(2,o),b-=i}return(l?-1:1)*f*Math.pow(2,b-o)},C.write=function(e,k,A,o,w,b){var f,s,n,i=8*b-w-1,r=(1<<i)-1,t=r>>1,a=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=o?0:b-1,u=o?1:-1,h=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(s=isNaN(k)?1:0,f=r):(f=Math.floor(Math.log(k)/Math.LN2),k*(n=Math.pow(2,-f))<1&&(f--,n*=2),(k+=f+t>=1?a/n:a*Math.pow(2,1-t))*n>=2&&(f++,n/=2),f+t>=r?(s=0,f=r):f+t>=1?(s=(k*n-1)*Math.pow(2,w),f+=t):(s=k*Math.pow(2,t-1)*Math.pow(2,w),f=0));w>=8;e[A+l]=255&s,l+=u,s/=256,w-=8);for(f=f<<w|s,i+=w;i>0;e[A+l]=255&f,l+=u,f/=256,i-=8);e[A+l-u]|=128*h}},6768:function(U){typeof Object.create=="function"?U.exports=function(C,e){e&&(C.super_=e,C.prototype=Object.create(e.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(C,e){if(e){C.super_=e;var k=function(){};k.prototype=e.prototype,C.prototype=new k,C.prototype.constructor=C}}},91148:function(U,C,e){var k=e(46672)(),A=e(99676)("Object.prototype.toString"),o=function(f){return!(k&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&A(f)==="[object Arguments]"},w=function(f){return!!o(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&A(f)!=="[object Array]"&&A(f.callee)==="[object Function]"},b=function(){return o(arguments)}();o.isLegacyArguments=w,U.exports=b?o:w},24200:function(U){U.exports=!0},90720:function(U){var C,e,k=Function.prototype.toString,A=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof A=="function"&&typeof Object.defineProperty=="function")try{C=Object.defineProperty({},"length",{get:function(){throw e}}),e={},A(function(){throw 42},null,C)}catch(t){t!==e&&(A=null)}else A=null;var o=/^\s*class\b/,w=function(t){try{var a=k.call(t);return o.test(a)}catch{return!1}},b=function(t){try{return!w(t)&&(k.call(t),!0)}catch{return!1}},f=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,n=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var r=document.all;f.call(r)===f.call(document.all)&&(i=function(t){if((n||!t)&&(t===void 0||typeof t=="object"))try{var a=f.call(t);return(a==="[object HTMLAllCollection]"||a==="[object HTML document.all class]"||a==="[object HTMLCollection]"||a==="[object Object]")&&t("")==null}catch{}return!1})}U.exports=A?function(t){if(i(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{A(t,null,C)}catch(a){if(a!==e)return!1}return!w(t)&&b(t)}:function(t){if(i(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(s)return b(t);if(w(t))return!1;var a=f.call(t);return!(a!=="[object Function]"&&a!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(a))&&b(t)}},84420:function(U,C,e){var k,A=Object.prototype.toString,o=Function.prototype.toString,w=/^\s*(?:function)?\*/,b=e(46672)(),f=Object.getPrototypeOf;U.exports=function(s){if(typeof s!="function")return!1;if(w.test(o.call(s)))return!0;if(!b)return A.call(s)==="[object GeneratorFunction]";if(!f)return!1;if(k===void 0){var n=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();k=!!n&&f(n)}return f(s)===k}},96604:function(U){U.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(U){U.exports=function(C){return C!=C}},1560:function(U,C,e){var k=e(57916),A=e(81288),o=e(85992),w=e(57740),b=e(59736),f=k(w(),Number);A(f,{getPolyfill:w,implementation:o,shim:b}),U.exports=f},57740:function(U,C,e){var k=e(85992);U.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:k}},59736:function(U,C,e){var k=e(81288),A=e(57740);U.exports=function(){var o=A();return k(Number,{isNaN:o},{isNaN:function(){return Number.isNaN!==o}}),o}},18400:function(U){U.exports=function(C){var e=typeof C;return C!==null&&(e==="object"||e==="function")}},58908:function(U){var C=Object.prototype.toString;U.exports=function(e){var k;return C.call(e)==="[object Object]"&&((k=Object.getPrototypeOf(e))===null||k===Object.getPrototypeOf({}))}},94576:function(U){U.exports=function(C){for(var e,k=C.length,A=0;A<k;A++)if(((e=C.charCodeAt(A))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(U){U.exports=function(C){return typeof C=="string"&&(C=C.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(C)&&/[\dz]$/i.test(C)&&C.length>4))}},7728:function(U,C,e){var k=e(46492),A=e(63436),o=e(99676),w=o("Object.prototype.toString"),b=e(46672)(),f=e(2304),s=typeof globalThis>"u"?e.g:globalThis,n=A(),i=o("Array.prototype.indexOf",!0)||function(l,u){for(var h=0;h<l.length;h+=1)if(l[h]===u)return h;return-1},r=o("String.prototype.slice"),t={},a=Object.getPrototypeOf;b&&f&&a&&k(n,function(l){var u=new s[l];if(Symbol.toStringTag in u){var h=a(u),c=f(h,Symbol.toStringTag);if(!c){var y=a(h);c=f(y,Symbol.toStringTag)}t[l]=c.get}}),U.exports=function(l){if(!l||typeof l!="object")return!1;if(!b||!(Symbol.toStringTag in l)){var u=r(w(l),8,-1);return i(n,u)>-1}return!!f&&function(h){var c=!1;return k(t,function(y,d){if(!c)try{c=y.call(h)===d}catch{}}),c}(l)}},76244:function(U){U.exports=Math.log2||function(C){return Math.log(C)*Math.LOG2E}},62644:function(U,C,e){U.exports=function(A,o){o||(o=A,A=window);var w=0,b=0,f=0,s={shift:!1,alt:!1,control:!1,meta:!1},n=!1;function i(v){var g=!1;return"altKey"in v&&(g=g||v.altKey!==s.alt,s.alt=!!v.altKey),"shiftKey"in v&&(g=g||v.shiftKey!==s.shift,s.shift=!!v.shiftKey),"ctrlKey"in v&&(g=g||v.ctrlKey!==s.control,s.control=!!v.ctrlKey),"metaKey"in v&&(g=g||v.metaKey!==s.meta,s.meta=!!v.metaKey),g}function r(v,g){var x=k.x(g),m=k.y(g);"buttons"in g&&(v=0|g.buttons),(v!==w||x!==b||m!==f||i(g))&&(w=0|v,b=x||0,f=m||0,o&&o(w,b,f,s))}function t(v){r(0,v)}function a(){(w||b||f||s.shift||s.alt||s.meta||s.control)&&(b=f=0,w=0,s.shift=s.alt=s.control=s.meta=!1,o&&o(0,0,0,s))}function l(v){i(v)&&o&&o(w,b,f,s)}function u(v){k.buttons(v)===0?r(0,v):r(w,v)}function h(v){r(w|k.buttons(v),v)}function c(v){r(w&~k.buttons(v),v)}function y(){n||(n=!0,A.addEventListener("mousemove",u),A.addEventListener("mousedown",h),A.addEventListener("mouseup",c),A.addEventListener("mouseleave",t),A.addEventListener("mouseenter",t),A.addEventListener("mouseout",t),A.addEventListener("mouseover",t),A.addEventListener("blur",a),A.addEventListener("keyup",l),A.addEventListener("keydown",l),A.addEventListener("keypress",l),A!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}y();var d={element:A};return Object.defineProperties(d,{enabled:{get:function(){return n},set:function(v){v?y():n&&(n=!1,A.removeEventListener("mousemove",u),A.removeEventListener("mousedown",h),A.removeEventListener("mouseup",c),A.removeEventListener("mouseleave",t),A.removeEventListener("mouseenter",t),A.removeEventListener("mouseout",t),A.removeEventListener("mouseover",t),A.removeEventListener("blur",a),A.removeEventListener("keyup",l),A.removeEventListener("keydown",l),A.removeEventListener("keypress",l),A!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),d};var k=e(93784)},29128:function(U){var C={left:0,top:0};U.exports=function(e,k,A){k=k||e.currentTarget||e.srcElement,Array.isArray(A)||(A=[0,0]);var o,w=e.clientX||0,b=e.clientY||0,f=(o=k)===window||o===document||o===document.body?C:o.getBoundingClientRect();return A[0]=w-f.left,A[1]=b-f.top,A}},93784:function(U,C){function e(k){return k.target||k.srcElement||window}C.buttons=function(k){if(typeof k=="object"){if("buttons"in k)return k.buttons;if("which"in k){if((A=k.which)===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in k){var A;if((A=k.button)===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0},C.element=e,C.x=function(k){if(typeof k=="object"){if("offsetX"in k)return k.offsetX;var A=e(k).getBoundingClientRect();return k.clientX-A.left}return 0},C.y=function(k){if(typeof k=="object"){if("offsetY"in k)return k.offsetY;var A=e(k).getBoundingClientRect();return k.clientY-A.top}return 0}},97264:function(U,C,e){var k=e(23464);U.exports=function(A,o,w){typeof A=="function"&&(w=!!o,o=A,A=window);var b=k("ex",A),f=function(s){w&&s.preventDefault();var n=s.deltaX||0,i=s.deltaY||0,r=s.deltaZ||0,t=1;switch(s.deltaMode){case 1:t=b;break;case 2:t=window.innerHeight}if(i*=t,r*=t,(n*=t)||i||r)return o(n,i,r,s)};return A.addEventListener("wheel",f),f}},88324:function(U,C,e){var k;(function(A,o,w){o[A]=o[A]||function(){var b,f,s,n=Object.prototype.toString,i=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(x,m,_,p){return Object.defineProperty(x,m,{value:_,writable:!0,configurable:p!==!1})}}catch{b=function(m,_,p){return m[_]=p,m}}function r(x,m){s.add(x,m),f||(f=i(s.drain))}function t(x){var m,_=typeof x;return x==null||_!="object"&&_!="function"||(m=x.then),typeof m=="function"&&m}function a(){for(var x=0;x<this.chain.length;x++)l(this,this.state===1?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function l(x,m,_){var p,S;try{m===!1?_.reject(x.msg):(p=m===!0?x.msg:m.call(void 0,x.msg))===_.promise?_.reject(TypeError("Promise-chain cycle")):(S=t(p))?S.call(p,_.resolve,_.reject):_.resolve(p)}catch(T){_.reject(T)}}function u(x){var m,_=this;if(!_.triggered){_.triggered=!0,_.def&&(_=_.def);try{(m=t(x))?r(function(){var p=new y(_);try{m.call(x,function(){u.apply(p,arguments)},function(){h.apply(p,arguments)})}catch(S){h.call(p,S)}}):(_.msg=x,_.state=1,_.chain.length>0&&r(a,_))}catch(p){h.call(new y(_),p)}}}function h(x){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=x,m.state=2,m.chain.length>0&&r(a,m))}function c(x,m,_,p){for(var S=0;S<m.length;S++)(function(T){x.resolve(m[T]).then(function(E){_(T,E)},p)})(S)}function y(x){this.def=x,this.triggered=!1}function d(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(x){if(typeof x!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new d(this);this.then=function(_,p){var S={success:typeof _!="function"||_,failure:typeof p=="function"&&p};return S.promise=new this.constructor(function(T,E){if(typeof T!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=T,S.reject=E}),m.chain.push(S),m.state!==0&&r(a,m),S.promise},this.catch=function(_){return this.then(void 0,_)};try{x.call(void 0,function(_){u.call(m,_)},function(_){h.call(m,_)})}catch(_){h.call(m,_)}}s=function(){var x,m,_;function p(S,T){this.fn=S,this.self=T,this.next=void 0}return{add:function(S,T){_=new p(S,T),m?m.next=_:x=_,m=_,_=void 0},drain:function(){var S=x;for(x=m=f=void 0;S;)S.fn.call(S.self),S=S.next}}}();var g=b({},"constructor",v,!1);return v.prototype=g,b(g,"__NPO__",0,!1),b(v,"resolve",function(x){return x&&typeof x=="object"&&x.__NPO__===1?x:new this(function(m,_){if(typeof m!="function"||typeof _!="function")throw TypeError("Not a function");m(x)})}),b(v,"reject",function(x){return new this(function(m,_){if(typeof m!="function"||typeof _!="function")throw TypeError("Not a function");_(x)})}),b(v,"all",function(x){var m=this;return n.call(x)!="[object Array]"?m.reject(TypeError("Not an array")):x.length===0?m.resolve([]):new m(function(_,p){if(typeof _!="function"||typeof p!="function")throw TypeError("Not a function");var S=x.length,T=Array(S),E=0;c(m,x,function(O,P){T[O]=P,++E===S&&_(T)},p)})}),b(v,"race",function(x){var m=this;return n.call(x)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(_,p){if(typeof _!="function"||typeof p!="function")throw TypeError("Not a function");c(m,x,function(S,T){_(T)},p)})}),v}(),U.exports?U.exports=o[A]:(k=(function(){return o[A]}).call(C,e,C,U))===void 0||(U.exports=k)})("Promise",e.g!==void 0?e.g:this)},48816:function(U){var C=Math.PI,e=b(120);function k(f,s,n,i){return["C",f,s,n,i,n,i]}function A(f,s,n,i,r,t){return["C",f/3+.6666666666666666*n,s/3+.6666666666666666*i,r/3+.6666666666666666*n,t/3+.6666666666666666*i,r,t]}function o(f,s,n,i,r,t,a,l,u,h){if(h)S=h[0],T=h[1],_=h[2],p=h[3];else{var c=w(f,s,-r);f=c.x,s=c.y;var y=(f-(l=(c=w(l,u,-r)).x))/2,d=(s-(u=c.y))/2,v=y*y/(n*n)+d*d/(i*i);v>1&&(n*=v=Math.sqrt(v),i*=v);var g=n*n,x=i*i,m=(t==a?-1:1)*Math.sqrt(Math.abs((g*x-g*d*d-x*y*y)/(g*d*d+x*y*y)));m==1/0&&(m=1);var _=m*n*d/i+(f+l)/2,p=m*-i*y/n+(s+u)/2,S=Math.asin(((s-p)/i).toFixed(9)),T=Math.asin(((u-p)/i).toFixed(9));(S=f<_?C-S:S)<0&&(S=2*C+S),(T=l<_?C-T:T)<0&&(T=2*C+T),a&&S>T&&(S-=2*C),!a&&T>S&&(T-=2*C)}if(Math.abs(T-S)>e){var E=T,O=l,P=u;T=S+e*(a&&T>S?1:-1);var I=o(l=_+n*Math.cos(T),u=p+i*Math.sin(T),n,i,r,0,a,O,P,[T,E,_,p])}var R=Math.tan((T-S)/4),H=4/3*n*R,z=4/3*i*R,j=[2*f-(f+H*Math.sin(S)),2*s-(s-z*Math.cos(S)),l+H*Math.sin(T),u-z*Math.cos(T),l,u];if(h)return j;I&&(j=j.concat(I));for(var Z=0;Z<j.length;){var F=w(j[Z],j[Z+1],r);j[Z++]=F.x,j[Z++]=F.y}return j}function w(f,s,n){return{x:f*Math.cos(n)-s*Math.sin(n),y:f*Math.sin(n)+s*Math.cos(n)}}function b(f){return f*(C/180)}U.exports=function(f){for(var s,n=[],i=0,r=0,t=0,a=0,l=null,u=null,h=0,c=0,y=0,d=f.length;y<d;y++){var v=f[y],g=v[0];switch(g){case"M":t=v[1],a=v[2];break;case"A":(v=o(h,c,v[1],v[2],b(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(n.push(v.splice(0,7)),v.unshift("C"));break;case"S":var x=h,m=c;s!="C"&&s!="S"||(x+=x-i,m+=m-r),v=["C",x,m,v[1],v[2],v[3],v[4]];break;case"T":s=="Q"||s=="T"?(l=2*h-l,u=2*c-u):(l=h,u=c),v=A(h,c,l,u,v[1],v[2]);break;case"Q":l=v[1],u=v[2],v=A(h,c,v[1],v[2],v[3],v[4]);break;case"L":v=k(h,c,v[1],v[2]);break;case"H":v=k(h,c,v[1],c);break;case"V":v=k(h,c,h,v[1]);break;case"Z":v=k(h,c,t,a)}s=g,h=v[v.length-2],c=v[v.length-1],v.length>4?(i=v[v.length-4],r=v[v.length-3]):(i=h,r=c),n.push(v)}return n}},50896:function(U){var C=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;U.exports=function(){try{if(!Object.assign)return!1;var A=new String("abc");if(A[5]="de",Object.getOwnPropertyNames(A)[0]==="5")return!1;for(var o={},w=0;w<10;w++)o["_"+String.fromCharCode(w)]=w;if(Object.getOwnPropertyNames(o).map(function(f){return o[f]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(f){b[f]=f}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(A,o){for(var w,b,f=function(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(A),s=1;s<arguments.length;s++){for(var n in w=Object(arguments[s]))e.call(w,n)&&(f[n]=w[n]);if(C){b=C(w);for(var i=0;i<b.length;i++)k.call(w,b[i])&&(f[b[i]]=w[b[i]])}}return f}},76835:function(U){var C=function(e){return e!=e};U.exports=function(e,k){return e===0&&k===0?1/e==1/k:e===k||!(!C(e)||!C(k))}},39896:function(U,C,e){var k=e(81288),A=e(57916),o=e(76835),w=e(66148),b=e(16408),f=A(w(),Object);k(f,{getPolyfill:w,implementation:o,shim:b}),U.exports=f},66148:function(U,C,e){var k=e(76835);U.exports=function(){return typeof Object.is=="function"?Object.is:k}},16408:function(U,C,e){var k=e(66148),A=e(81288);U.exports=function(){var o=k();return A(Object,{is:o},{is:function(){return Object.is!==o}}),o}},32764:function(U,C,e){var k;if(!Object.keys){var A=Object.prototype.hasOwnProperty,o=Object.prototype.toString,w=e(97344),b=Object.prototype.propertyIsEnumerable,f=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(a){var l=a.constructor;return l&&l.prototype===a},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},t=function(){if(typeof window>"u")return!1;for(var a in window)try{if(!r["$"+a]&&A.call(window,a)&&window[a]!==null&&typeof window[a]=="object")try{i(window[a])}catch{return!0}}catch{return!0}return!1}();k=function(a){var l=a!==null&&typeof a=="object",u=o.call(a)==="[object Function]",h=w(a),c=l&&o.call(a)==="[object String]",y=[];if(!l&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var d=s&&u;if(c&&a.length>0&&!A.call(a,0))for(var v=0;v<a.length;++v)y.push(String(v));if(h&&a.length>0)for(var g=0;g<a.length;++g)y.push(String(g));else for(var x in a)d&&x==="prototype"||!A.call(a,x)||y.push(String(x));if(f)for(var m=function(p){if(typeof window>"u"||!t)return i(p);try{return i(p)}catch{return!1}}(a),_=0;_<n.length;++_)m&&n[_]==="constructor"||!A.call(a,n[_])||y.push(n[_]);return y}}U.exports=k},41820:function(U,C,e){var k=Array.prototype.slice,A=e(97344),o=Object.keys,w=o?function(f){return o(f)}:e(32764),b=Object.keys;w.shim=function(){if(Object.keys){var f=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);f||(Object.keys=function(s){return A(s)?b(k.call(s)):b(s)})}else Object.keys=w;return Object.keys||w},U.exports=w},97344:function(U){var C=Object.prototype.toString;U.exports=function(e){var k=C.call(e),A=k==="[object Arguments]";return A||(A=k!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&C.call(e.callee)==="[object Function]"),A}},32868:function(U){function C(A,o){if(typeof A!="string")return[A];var w=[A];typeof o=="string"||Array.isArray(o)?o={brackets:o}:o||(o={});var b=o.brackets?Array.isArray(o.brackets)?o.brackets:[o.brackets]:["{}","[]","()"],f=o.escape||"___",s=!!o.flat;b.forEach(function(i){var r=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),t=[];function a(l,u,h){var c=w.push(l.slice(i[0].length,-i[1].length))-1;return t.push(c),f+c+f}w.forEach(function(l,u){for(var h,c=0;l!=h;)if(h=l,l=l.replace(r,a),c++>1e4)throw Error("References have circular dependency. Please, check them.");w[u]=l}),t=t.reverse(),w=w.map(function(l){return t.forEach(function(u){l=l.replace(new RegExp("(\\"+f+u+"\\"+f+")","g"),i[0]+"$1"+i[1])}),l})});var n=new RegExp("\\"+f+"([0-9]+)\\"+f);return s?w:function i(r,t,a){for(var l,u=[],h=0;l=n.exec(r);){if(h++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,l.index)),u.push(i(t[l[1]],t)),r=r.slice(l.index+l[0].length)}return u.push(r),u}(w[0],w)}function e(A,o){if(o&&o.flat){var w,b=o&&o.escape||"___",f=A[0];if(!f)return"";for(var s=new RegExp("\\"+b+"([0-9]+)\\"+b),n=0;f!=w;){if(n++>1e4)throw Error("Circular references in "+A);w=f,f=f.replace(s,i)}return f}return A.reduce(function r(t,a){return Array.isArray(a)&&(a=a.reduce(r,"")),t+a},"");function i(r,t){if(A[t]==null)throw Error("Reference "+t+"is undefined");return A[t]}}function k(A,o){return Array.isArray(A)?e(A,o):C(A,o)}k.parse=C,k.stringify=e,U.exports=k},51160:function(U,C,e){var k=e(55616);U.exports=function(A){var o;return arguments.length>1&&(A=arguments),typeof A=="string"?A=A.split(/\s/).map(parseFloat):typeof A=="number"&&(A=[A]),A.length&&typeof A[0]=="number"?o=A.length===1?{width:A[0],height:A[0],x:0,y:0}:A.length===2?{width:A[0],height:A[1],x:0,y:0}:{x:A[0],y:A[1],width:A[2]-A[0]||0,height:A[3]-A[1]||0}:A&&(o={x:(A=k(A,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:A.top||0},A.width==null?A.right?o.width=A.right-o.x:o.width=0:o.width=A.width,A.height==null?A.bottom?o.height=A.bottom-o.y:o.height=0:o.height=A.height),o}},21984:function(U){U.exports=function(A){var o=[];return A.replace(e,function(w,b,f){var s=b.toLowerCase();for(f=function(n){var i=n.match(k);return i?i.map(Number):[]}(f),s=="m"&&f.length>2&&(o.push([b].concat(f.splice(0,2))),s="l",b=b=="m"?"l":"L");;){if(f.length==C[s])return f.unshift(b),o.push(f);if(f.length<C[s])throw new Error("malformed path data");o.push([b].concat(f.splice(0,C[s])))}}),o};var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,k=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(U){U.exports=function(C,e){e||(e=[0,""]),C=String(C);var k=parseFloat(C,10);return e[0]=k,e[1]=C.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(U,C,e){var k=e(4168);(function(){var A,o,w,b,f,s;typeof performance<"u"&&performance!==null&&performance.now?U.exports=function(){return performance.now()}:k!=null&&k.hrtime?(U.exports=function(){return(A()-f)/1e6},o=k.hrtime,b=(A=function(){var n;return 1e9*(n=o())[0]+n[1]})(),s=1e9*k.uptime(),f=b-s):Date.now?(U.exports=function(){return Date.now()-w},w=Date.now()):(U.exports=function(){return new Date().getTime()-w},w=new Date().getTime())}).call(this)},55616:function(U){U.exports=function(k,A,o){var w,b,f={};if(typeof A=="string"&&(A=e(A)),Array.isArray(A)){var s={};for(b=0;b<A.length;b++)s[A[b]]=!0;A=s}for(w in A)A[w]=e(A[w]);var n={};for(w in A){var i=A[w];if(Array.isArray(i))for(b=0;b<i.length;b++){var r=i[b];if(o&&(n[r]=!0),r in k){if(f[w]=k[r],o)for(var t=b;t<i.length;t++)n[i[t]]=!0;break}}else w in k&&(A[w]&&(f[w]=k[w]),o&&(n[w]=!0))}if(o)for(w in k)n[w]||(f[w]=k[w]);return f};var C={};function e(k){return C[k]?C[k]:(typeof k=="string"&&(k=C[k]=k.split(/\s*,\s*|\s+/)),k)}},61456:function(U){U.exports=function(C,e,k,A){var o=C[0],w=C[1],b=!1;k===void 0&&(k=0),A===void 0&&(A=e.length);for(var f=A-k,s=0,n=f-1;s<f;n=s++){var i=e[s+k][0],r=e[s+k][1],t=e[n+k][0],a=e[n+k][1];r>w!=a>w&&o<(t-i)*(w-r)/(a-r)+i&&(b=!b)}return b}},14756:function(U,C,e){var k,A=e(7688),o=e(28648),w=e(72200),b=e(11403),f=e(82368),s=e(17792),n=!1,i=o();function r(t,a,l){var u=k.segments(t),h=k.segments(a),c=l(k.combine(u,h));return k.polygon(c)}k={buildLog:function(t){return t===!0?n=A():t===!1&&(n=!1),n!==!1&&n.list},epsilon:function(t){return i.epsilon(t)},segments:function(t){var a=w(!0,i,n);return t.regions.forEach(a.addRegion),{segments:a.calculate(t.inverted),inverted:t.inverted}},combine:function(t,a){return{combined:w(!1,i,n).calculate(t.segments,t.inverted,a.segments,a.inverted),inverted1:t.inverted,inverted2:a.inverted}},selectUnion:function(t){return{segments:f.union(t.combined,n),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:f.intersect(t.combined,n),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:f.difference(t.combined,n),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:f.differenceRev(t.combined,n),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:f.xor(t.combined,n),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:b(t.segments,i,n),inverted:t.inverted}},polygonFromGeoJSON:function(t){return s.toPolygon(k,t)},polygonToGeoJSON:function(t){return s.fromPolygon(k,i,t)},union:function(t,a){return r(t,a,k.selectUnion)},intersect:function(t,a){return r(t,a,k.selectIntersect)},difference:function(t,a){return r(t,a,k.selectDifference)},differenceRev:function(t,a){return r(t,a,k.selectDifferenceRev)},xor:function(t,a){return r(t,a,k.selectXor)}},typeof window=="object"&&(window.PolyBool=k),U.exports=k},7688:function(U){U.exports=function(){var C,e=0,k=!1;function A(o,w){return C.list.push({type:o,data:w?JSON.parse(JSON.stringify(w)):void 0}),C}return C={list:[],segmentId:function(){return e++},checkIntersection:function(o,w){return A("check",{seg1:o,seg2:w})},segmentChop:function(o,w){return A("div_seg",{seg:o,pt:w}),A("chop",{seg:o,pt:w})},statusRemove:function(o){return A("pop_seg",{seg:o})},segmentUpdate:function(o){return A("seg_update",{seg:o})},segmentNew:function(o,w){return A("new_seg",{seg:o,primary:w})},segmentRemove:function(o){return A("rem_seg",{seg:o})},tempStatus:function(o,w,b){return A("temp_status",{seg:o,above:w,below:b})},rewind:function(o){return A("rewind",{seg:o})},status:function(o,w,b){return A("status",{seg:o,above:w,below:b})},vert:function(o){return o===k?C:(k=o,A("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),A("log",{txt:o})},reset:function(){return A("reset")},selected:function(o){return A("selected",{segs:o})},chainStart:function(o){return A("chain_start",{seg:o})},chainRemoveHead:function(o,w){return A("chain_rem_head",{index:o,pt:w})},chainRemoveTail:function(o,w){return A("chain_rem_tail",{index:o,pt:w})},chainNew:function(o,w){return A("chain_new",{pt1:o,pt2:w})},chainMatch:function(o){return A("chain_match",{index:o})},chainClose:function(o){return A("chain_close",{index:o})},chainAddHead:function(o,w){return A("chain_add_head",{index:o,pt:w})},chainAddTail:function(o,w){return A("chain_add_tail",{index:o,pt:w})},chainConnect:function(o,w){return A("chain_con",{index1:o,index2:w})},chainReverse:function(o){return A("chain_rev",{index:o})},chainJoin:function(o,w){return A("chain_join",{index1:o,index2:w})},done:function(){return A("done")}}}},28648:function(U){U.exports=function(C){typeof C!="number"&&(C=1e-10);var e={epsilon:function(k){return typeof k=="number"&&(C=k),C},pointAboveOrOnLine:function(k,A,o){var w=A[0],b=A[1],f=o[0],s=o[1],n=k[0];return(f-w)*(k[1]-b)-(s-b)*(n-w)>=-C},pointBetween:function(k,A,o){var w=k[1]-A[1],b=o[0]-A[0],f=k[0]-A[0],s=o[1]-A[1],n=f*b+w*s;return!(n<C||n-(b*b+s*s)>-C)},pointsSameX:function(k,A){return Math.abs(k[0]-A[0])<C},pointsSameY:function(k,A){return Math.abs(k[1]-A[1])<C},pointsSame:function(k,A){return e.pointsSameX(k,A)&&e.pointsSameY(k,A)},pointsCompare:function(k,A){return e.pointsSameX(k,A)?e.pointsSameY(k,A)?0:k[1]<A[1]?-1:1:k[0]<A[0]?-1:1},pointsCollinear:function(k,A,o){var w=k[0]-A[0],b=k[1]-A[1],f=A[0]-o[0],s=A[1]-o[1];return Math.abs(w*s-f*b)<C},linesIntersect:function(k,A,o,w){var b=A[0]-k[0],f=A[1]-k[1],s=w[0]-o[0],n=w[1]-o[1],i=b*n-f*s;if(Math.abs(i)<C)return!1;var r=k[0]-o[0],t=k[1]-o[1],a=(s*t-n*r)/i,l=(b*t-f*r)/i,u={alongA:0,alongB:0,pt:[k[0]+a*b,k[1]+a*f]};return u.alongA=a<=-C?-2:a<C?-1:a-1<=-C?0:a-1<C?1:2,u.alongB=l<=-C?-2:l<C?-1:l-1<=-C?0:l-1<C?1:2,u},pointInsideRegion:function(k,A){for(var o=k[0],w=k[1],b=A[A.length-1][0],f=A[A.length-1][1],s=!1,n=0;n<A.length;n++){var i=A[n][0],r=A[n][1];r-w>C!=f-w>C&&(b-i)*(w-r)/(f-r)+i-o>C&&(s=!s),b=i,f=r}return s}};return e}},17792:function(U){var C={toPolygon:function(e,k){function A(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function f(i){var r=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[r]})}for(var s=f(b[0]),n=1;n<b.length;n++)s=e.selectDifference(e.combine(s,f(b[n])));return s}if(k.type==="Polygon")return e.polygon(A(k.coordinates));if(k.type==="MultiPolygon"){for(var o=e.segments({inverted:!1,regions:[]}),w=0;w<k.coordinates.length;w++)o=e.selectUnion(e.combine(o,A(k.coordinates[w])));return e.polygon(o)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,k,A){function o(l,u){return k.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function w(l){return{region:l,children:[]}}A=e.polygon(e.segments(A));var b=w(null);function f(l,u){for(var h=0;h<l.children.length;h++)if(o(u,(y=l.children[h]).region))return void f(y,u);var c=w(u);for(h=0;h<l.children.length;h++){var y;o((y=l.children[h]).region,u)&&(c.children.push(y),l.children.splice(h,1),h--)}l.children.push(c)}for(var s=0;s<A.regions.length;s++){var n=A.regions[s];n.length<3||f(b,n)}function i(l,u){for(var h=0,c=l[l.length-1][0],y=l[l.length-1][1],d=[],v=0;v<l.length;v++){var g=l[v][0],x=l[v][1];d.push([g,x]),h+=x*c-g*y,c=g,y=x}return h<0!==u&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var r=[];function t(l){var u=[i(l.region,!1)];r.push(u);for(var h=0;h<l.children.length;h++)u.push(a(l.children[h]))}function a(l){for(var u=0;u<l.children.length;u++)t(l.children[u]);return i(l.region,!0)}for(s=0;s<b.children.length;s++)t(b.children[s]);return r.length<=0?{type:"Polygon",coordinates:[]}:r.length==1?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}};U.exports=C},72200:function(U,C,e){var k=e(48088);U.exports=function(A,o,w){function b(t,a,l){return{id:w?w.segmentId():-1,start:t,end:a,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var f=k.create();function s(t,a){f.insertBefore(t,function(l){return u=t.isStart,h=t.pt,c=a,y=l.isStart,d=l.pt,v=l.other.pt,((g=o.pointsCompare(h,d))!==0?g:o.pointsSame(c,v)?0:u!==y?u?1:-1:o.pointAboveOrOnLine(c,y?d:v,y?v:d)?1:-1)<0;var u,h,c,y,d,v,g})}function n(t,a){var l=function(u,h){var c=k.node({isStart:!0,pt:u.start,seg:u,primary:h,other:null,status:null});return s(c,u.end),c}(t,a);return function(u,h,c){var y=k.node({isStart:!1,pt:h.end,seg:h,primary:c,other:u,status:null});u.other=y,s(y,u.pt)}(l,t,a),l}function i(t,a){var l=b(a,t.seg.end,t.seg);return function(u,h){w&&w.segmentChop(u.seg,h),u.other.remove(),u.seg.end=h,u.other.pt=h,s(u.other,u.pt)}(t,a),n(l,t.primary)}function r(t,a){var l=k.create();function u(E){return l.findTransition(function(O){var P,I,R,H,z,j;return P=E,I=O.ev,R=P.seg.start,H=P.seg.end,z=I.seg.start,j=I.seg.end,(o.pointsCollinear(R,z,j)?o.pointsCollinear(H,z,j)||o.pointAboveOrOnLine(H,z,j)?1:-1:o.pointAboveOrOnLine(R,z,j)?1:-1)>0})}function h(E,O){var P=E.seg,I=O.seg,R=P.start,H=P.end,z=I.start,j=I.end;w&&w.checkIntersection(P,I);var Z=o.linesIntersect(R,H,z,j);if(Z===!1){if(!o.pointsCollinear(R,H,z)||o.pointsSame(R,j)||o.pointsSame(H,z))return!1;var F=o.pointsSame(R,z),V=o.pointsSame(H,j);if(F&&V)return O;var W=!F&&o.pointBetween(R,z,j),re=!V&&o.pointBetween(H,z,j);if(F)return re?i(O,H):i(E,j),O;W&&(V||(re?i(O,H):i(E,j)),i(O,R))}else Z.alongA===0&&(Z.alongB===-1?i(E,z):Z.alongB===0?i(E,Z.pt):Z.alongB===1&&i(E,j)),Z.alongB===0&&(Z.alongA===-1?i(O,R):Z.alongA===0?i(O,Z.pt):Z.alongA===1&&i(O,H));return!1}for(var c=[];!f.isEmpty();){var y=f.getHead();if(w&&w.vert(y.pt[0]),y.isStart){let E=function(){if(v){var O=h(y,v);if(O)return O}return!!g&&h(y,g)};var T=E;w&&w.segmentNew(y.seg,y.primary);var d=u(y),v=d.before?d.before.ev:null,g=d.after?d.after.ev:null;w&&w.tempStatus(y.seg,!!v&&v.seg,!!g&&g.seg);var x,m,_=E();if(_&&(A?(m=y.seg.myFill.below===null||y.seg.myFill.above!==y.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=y.seg.myFill,w&&w.segmentUpdate(_.seg),y.other.remove(),y.remove()),f.getHead()!==y){w&&w.rewind(y.seg);continue}A?(m=y.seg.myFill.below===null||y.seg.myFill.above!==y.seg.myFill.below,y.seg.myFill.below=g?g.seg.myFill.above:t,y.seg.myFill.above=m?!y.seg.myFill.below:y.seg.myFill.below):y.seg.otherFill===null&&(x=g?y.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:y.primary?a:t,y.seg.otherFill={above:x,below:x}),w&&w.status(y.seg,!!v&&v.seg,!!g&&g.seg),y.other.status=d.insert(k.node({ev:y}))}else{var p=y.status;if(p===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(p.prev)&&l.exists(p.next)&&h(p.prev.ev,p.next.ev),w&&w.statusRemove(p.ev.seg),p.remove(),!y.primary){var S=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=S}c.push(y.seg)}f.getHead().remove()}return w&&w.done(),c}return A?{addRegion:function(t){for(var a,l,u,h=t[t.length-1],c=0;c<t.length;c++){a=h,h=t[c];var y=o.pointsCompare(a,h);y!==0&&n((l=y<0?a:h,u=y<0?h:a,{id:w?w.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return r(t,!1)}}:{calculate:function(t,a,l,u){return t.forEach(function(h){n(b(h.start,h.end,h),!0)}),l.forEach(function(h){n(b(h.start,h.end,h),!1)}),r(a,u)}}}},48088:function(U){U.exports={create:function(){var C={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==C.root},isEmpty:function(){return C.root.next===null},getHead:function(){return C.root.next},insertBefore:function(e,k){for(var A=C.root,o=C.root.next;o!==null;){if(k(o))return e.prev=o.prev,e.next=o,o.prev.next=e,void(o.prev=e);A=o,o=o.next}A.next=e,e.prev=A,e.next=null},findTransition:function(e){for(var k=C.root,A=C.root.next;A!==null&&!e(A);)k=A,A=A.next;return{before:k===C.root?null:k,after:A,insert:function(o){return o.prev=k,o.next=A,k.next=o,A!==null&&(A.prev=o),o}}}};return C},node:function(C){return C.prev=null,C.next=null,C.remove=function(){C.prev.next=C.next,C.next&&(C.next.prev=C.prev),C.prev=null,C.next=null},C}}},11403:function(U){U.exports=function(C,e,k){var A=[],o=[];return C.forEach(function(w){var b=w.start,f=w.end;if(e.pointsSame(b,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{k&&k.chainStart(w);for(var s={index:0,matches_head:!1,matches_pt1:!1},n={index:0,matches_head:!1,matches_pt1:!1},i=s,r=0;r<A.length;r++){var t=(c=A[r])[0],a=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(t,b)){if(p(r,!0,!0))break}else if(e.pointsSame(t,f)){if(p(r,!0,!1))break}else if(e.pointsSame(a,b)){if(p(r,!1,!0))break}else if(e.pointsSame(a,f)&&p(r,!1,!1))break}if(i===s)return A.push([b,f]),void(k&&k.chainNew(b,f));if(i===n){k&&k.chainMatch(s.index);var l=s.index,u=s.matches_pt1?f:b,h=s.matches_head,c=A[l],y=h?c[0]:c[c.length-1],d=h?c[1]:c[c.length-2],v=h?c[c.length-1]:c[0],g=h?c[c.length-2]:c[1];return e.pointsCollinear(d,y,u)&&(h?(k&&k.chainRemoveHead(s.index,u),c.shift()):(k&&k.chainRemoveTail(s.index,u),c.pop()),y=d),e.pointsSame(v,u)?(A.splice(l,1),e.pointsCollinear(g,v,y)&&(h?(k&&k.chainRemoveTail(s.index,y),c.pop()):(k&&k.chainRemoveHead(s.index,y),c.shift())),k&&k.chainClose(s.index),void o.push(c)):void(h?(k&&k.chainAddHead(s.index,u),c.unshift(u)):(k&&k.chainAddTail(s.index,u),c.push(u)))}var x=s.index,m=n.index;k&&k.chainConnect(x,m);var _=A[x].length<A[m].length;s.matches_head?n.matches_head?_?(S(x),T(x,m)):(S(m),T(m,x)):T(m,x):n.matches_head?T(x,m):_?(S(x),T(m,x)):(S(m),T(x,m))}function p(E,O,P){return i.index=E,i.matches_head=O,i.matches_pt1=P,i===s?(i=n,!1):(i=null,!0)}function S(E){k&&k.chainReverse(E),A[E].reverse()}function T(E,O){var P=A[E],I=A[O],R=P[P.length-1],H=P[P.length-2],z=I[0],j=I[1];e.pointsCollinear(H,R,z)&&(k&&k.chainRemoveTail(E,R),P.pop(),R=H),e.pointsCollinear(R,z,j)&&(k&&k.chainRemoveHead(O,z),I.shift()),k&&k.chainJoin(E,O),A[E]=P.concat(I),A.splice(O,1)}}),o}},82368:function(U){function C(k,A,o){var w=[];return k.forEach(function(b){var f=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);A[f]!==0&&w.push({id:o?o.segmentId():-1,start:b.start,end:b.end,myFill:{above:A[f]===1,below:A[f]===2},otherFill:null})}),o&&o.selected(w),w}var e={union:function(k,A){return C(k,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],A)},intersect:function(k,A){return C(k,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],A)},difference:function(k,A){return C(k,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],A)},differenceRev:function(k,A){return C(k,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],A)},xor:function(k,A){return C(k,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],A)}};U.exports=e},9696:function(U,C,e){var k=e(29936).Transform,A=e(55619);function o(){k.call(this,{readableObjectMode:!0})}function w(b,f,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,f&&(this.code=f),s&&(this.statusCode=s)}o.prototype=Object.create(k.prototype),o.prototype.constructor=o,A(o.prototype),C.gS=function(b,f,s){for(var n=f,i=0;i<s.length;)if(b[n++]!==s[i++])return!1;return!0},C.wR=function(b,f){var s=[],n=0;if(f&&f==="hex")for(;n<b.length;)s.push(parseInt(b.slice(n,n+2),16)),n+=2;else for(;n<b.length;n++)s.push(255&b.charCodeAt(n));return s},C.Bz=function(b,f){return b[f]|b[f+1]<<8},C.eW=function(b,f){return b[f+1]|b[f]<<8},C.st=function(b,f){return b[f]|b[f+1]<<8|b[f+2]<<16|16777216*b[f+3]},C.eI=function(b,f){return b[f+3]|b[f+2]<<8|b[f+1]<<16|16777216*b[f]},w.prototype=Object.create(Error.prototype),w.prototype.constructor=w},11688:function(U){function C(A,o){var w=new Error(A);return w.code=o,w}function e(A){try{return decodeURIComponent(escape(A))}catch{return A}}function k(A,o,w){this.input=A.subarray(o,w),this.start=o;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw C("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}k.prototype.each=function(A){this.aborted=!1;var o=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:o}];this.ifds_to_read.length>0&&!this.aborted;){var w=this.ifds_to_read.shift();w.offset&&this.scan_ifd(w.id,w.offset,A)}},k.prototype.read_uint16=function(A){var o=this.input;if(A+2>o.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?256*o[A]+o[A+1]:o[A]+256*o[A+1]},k.prototype.read_uint32=function(A){var o=this.input;if(A+4>o.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?16777216*o[A]+65536*o[A+1]+256*o[A+2]+o[A+3]:o[A]+256*o[A+1]+65536*o[A+2]+16777216*o[A+3]},k.prototype.is_subifd_link=function(A,o){return A===0&&o===34665||A===0&&o===34853||A===34665&&o===40965},k.prototype.exif_format_length=function(A){switch(A){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},k.prototype.exif_format_read=function(A,o){var w;switch(A){case 1:case 2:return this.input[o];case 6:return(w=this.input[o])|33554430*(128&w);case 3:return this.read_uint16(o);case 8:return(w=this.read_uint16(o))|131070*(32768&w);case 4:return this.read_uint32(o);case 9:return 0|this.read_uint32(o);default:return null}},k.prototype.scan_ifd=function(A,o,w){var b=this.read_uint16(o);o+=2;for(var f=0;f<b;f++){var s=this.read_uint16(o),n=this.read_uint16(o+2),i=this.read_uint32(o+4),r=this.exif_format_length(n),t=i*r,a=t<=4?o+8:this.read_uint32(o+8),l=!1;if(a+t>this.input.length)throw C("unexpected EOF","EBADDATA");for(var u=[],h=a,c=0;c<i;c++,h+=r){var y=this.exif_format_read(n,h);if(y===null){u=null;break}u.push(y)}if(Array.isArray(u)&&n===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(A,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),w({is_big_endian:this.big_endian,ifd:A,tag:s,format:n,count:i,entry_offset:o+this.start,data_length:t,data_offset:a+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);o+=12}A===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(o)})},U.exports.ExifParser=k,U.exports.get_orientation=function(A){var o=0;try{return new k(A,0,A.length).each(function(w){if(w.ifd===0&&w.tag===274&&Array.isArray(w.value))return o=w.value[0],!1}),o}catch{return-1}}},44600:function(U,C,e){var k=e(9696).eW,A=e(9696).eI;function o(i,r){if(i.length<4+r)return null;var t=A(i,r);return i.length<t+r||t<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(r+4,r+8)),data:i.slice(r+8,r+t),end:r+t}}function w(i,r){for(var t=0;;){var a=o(i,t);if(!a)break;switch(a.boxtype){case"ispe":r.sizes.push({width:A(a.data,4),height:A(a.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&a.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&a.data[0]})}t=a.end}}function b(i,r,t){for(var a=0,l=0;l<t;l++)a=256*a+(i[r+l]||0);return a}function f(i,r){for(var t=i[4]>>4&15,a=15&i[4],l=i[5]>>4&15,u=k(i,6),h=8,c=0;c<u;c++){var y=k(i,h),d=k(i,h+=2),v=b(i,h+=2,l),g=k(i,h+=l);if(h+=2,d===0&&g===1){var x=b(i,h,t),m=b(i,h+t,a);r.item_loc[y]={length:m,offset:x+v}}h+=g*(t+a)}}function s(i,r){for(var t=k(i,4),a=6,l=0;l<t;l++){var u=o(i,a);if(!u)break;if(u.boxtype==="infe"){for(var h=k(u.data,4),c="",y=8;y<u.data.length&&u.data[y];y++)c+=String.fromCharCode(u.data[y]);r.item_inf[c]=h}a=u.end}}function n(i,r){for(var t=0;;){var a=o(i,t);if(!a)break;a.boxtype==="ipco"&&w(a.data,r),t=a.end}}U.exports.unbox=o,U.exports.readSizeFromMeta=function(i){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(y,d){for(var v=4;;){var g=o(y,v);if(!g)break;g.boxtype==="iprp"&&n(g.data,d),g.boxtype==="iloc"&&f(g.data,d),g.boxtype==="iinf"&&s(g.data,d),v=g.end}}(i,r),r.sizes.length){var t,a,l,u=(a=(t=r.sizes).reduce(function(y,d){return y.width>d.width||y.width===d.width&&y.height>d.height?y:d}),l=t.reduce(function(y,d){return y.height>d.height||y.height===d.height&&y.width>d.width?y:d}),a.width>l.height||a.width===l.height&&a.height>l.width?a:l),h=1;r.transforms.forEach(function(y){var d={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(y.type==="imir"&&(h=y.value===0?v[h]:d[h=d[h=v[h]]]),y.type==="irot")for(var g=0;g<y.value;g++)h=d[h]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?h:null,variants:r.sizes,exif_location:c}}},U.exports.getMimeType=function(i){var r=String.fromCharCode.apply(null,i.slice(0,4)),t={};t[r]=!0;for(var a=8;a<i.length;a+=4)t[String.fromCharCode.apply(null,i.slice(a,a+4))]=!0;if(t.mif1||t.msf1||t.miaf)return r==="avif"||r==="avis"||r==="avio"?{type:"avif",mime:"image/avif"}:r==="heic"||r==="heix"?{type:"heic",mime:"image/heic"}:r==="hevc"||r==="hevx"?{type:"heic",mime:"image/heic-sequence"}:t.avif||t.avis?{type:"avif",mime:"image/avif"}:t.heic||t.heix||t.hevc||t.hevx||t.heis?t.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).eI,w=e(44600),b=e(11688),f=k("ftyp");U.exports=function(s){if(A(s,4,f)){var n=w.unbox(s,0);if(n){var i=w.getMimeType(n.data);if(i){for(var r,t=n.end;;){var a=w.unbox(s,t);if(!a)break;if(t=a.end,a.boxtype==="mdat")return;if(a.boxtype==="meta"){r=a.data;break}}if(r){var l=w.readSizeFromMeta(r);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var h=o(s,l.exif_location.offset),c=s.slice(l.exif_location.offset+h+4,l.exif_location.offset+l.exif_location.length),y=b.get_orientation(c);y>0&&(u.orientation=y)}return u}}}}}}},38728:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).Bz,w=k("BM");U.exports=function(b){if(!(b.length<26)&&A(b,0,w))return{width:o(b,18),height:o(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).Bz,w=k("GIF87a"),b=k("GIF89a");U.exports=function(f){if(!(f.length<10)&&(A(f,0,w)||A(f,0,b)))return{width:o(f,6),height:o(f,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(U,C,e){var k=e(9696).Bz;U.exports=function(A){var o=k(A,0),w=k(A,2),b=k(A,4);if(o===0&&w===1&&b){for(var f=[],s={width:0,height:0},n=0;n<b;n++){var i=A[6+16*n]||256,r=A[6+16*n+1]||256,t={width:i,height:r};f.push(t),(i>s.width||r>s.height)&&(s=t)}return{width:s.width,height:s.height,variants:f,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(U,C,e){var k=e(9696).eW,A=e(9696).wR,o=e(9696).gS,w=e(11688),b=A("Exif\0\0");U.exports=function(f){if(!(f.length<2)&&f[0]===255&&f[1]===216&&f[2]===255)for(var s=2;;){for(;;){if(f.length-s<2)return;if(f[s++]===255)break}for(var n,i,r=f[s++];r===255;)r=f[s++];if(208<=r&&r<=217||r===1)n=0;else{if(!(192<=r&&r<=254)||f.length-s<2)return;n=k(f,s)-2,s+=2}if(r===217||r===218)return;if(r===225&&n>=10&&o(f,s,b)&&(i=w.get_orientation(f.slice(s+6,s+n))),n>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(f.length-s<n)return;var t={width:k(f,s+3),height:k(f,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(t.orientation=i),t}s+=n}}},37276:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).eI,w=k(`PNG\r

`),b=k("IHDR");U.exports=function(f){if(!(f.length<24)&&A(f,0,w)&&A(f,12,b))return{width:o(f,16),height:o(f,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).eI,w=k("8BPS\0");U.exports=function(b){if(!(b.length<22)&&A(b,0,w))return{width:o(b,18),height:o(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(U){function C(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,k=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,A=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,o=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,w=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function f(s){return b.test(s)?s.match(b)[0]:"px"}U.exports=function(s){if(function(v){var g,x=0,m=v.length;for(v[0]===239&&v[1]===187&&v[2]===191&&(x=3);x<m&&((g=v[x])===32||g===9||g===13||g===10);)x++;return x!==m&&v[x]===60}(s)){for(var n="",i=0;i<s.length;i++)n+=String.fromCharCode(s[i]);var r=(n.match(e)||[""])[0];if(k.test(r)){var t=function(v){var g=v.match(A),x=v.match(o),m=v.match(w);return{width:g&&(g[1]||g[2]),height:x&&(x[1]||x[2]),viewbox:m&&(m[1]||m[2])}}(r),a=parseFloat(t.width),l=parseFloat(t.height);if(t.width&&t.height)return!C(a)||!C(l)?void 0:{width:a,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(t.width),hUnits:f(t.height)};var u=(t.viewbox||"").split(" "),h={width:u[2],height:u[3]},c=parseFloat(h.width),y=parseFloat(h.height);if(C(c)&&C(y)&&f(h.width)===f(h.height)){var d=c/y;return t.width?C(a)?{width:a,height:a/d,type:"svg",mime:"image/svg+xml",wUnits:f(t.width),hUnits:f(t.width)}:void 0:t.height?C(l)?{width:l*d,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(t.height),hUnits:f(t.height)}:void 0:{width:c,height:y,type:"svg",mime:"image/svg+xml",wUnits:f(h.width),hUnits:f(h.height)}}}}}},98792:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).Bz,w=e(9696).eW,b=e(9696).st,f=e(9696).eI,s=k("II*\0"),n=k("MM\0*");function i(a,l,u){return u?w(a,l):o(a,l)}function r(a,l,u){return u?f(a,l):b(a,l)}function t(a,l,u){var h=i(a,l+2,u);return r(a,l+4,u)!==1||h!==3&&h!==4?null:h===3?i(a,l+8,u):r(a,l+8,u)}U.exports=function(a){if(!(a.length<8)&&(A(a,0,s)||A(a,0,n))){var l=a[0]===77,u=r(a,4,l)-8;if(!(u<0)){var h=u+8;if(!(a.length-h<2)){var c=12*i(a,h+0,l);if(!(c<=0||(h+=2,a.length-h<c))){var y,d,v,g;for(y=0;y<c;y+=12)(g=i(a,h+y,l))===256?d=t(a,h+y,l):g===257&&(v=t(a,h+y,l));return d&&v?{width:d,height:v,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(U,C,e){var k=e(9696).wR,A=e(9696).gS,o=e(9696).Bz,w=e(9696).st,b=e(11688),f=k("RIFF"),s=k("WEBP");function n(t,a){if(t[a+3]===157&&t[a+4]===1&&t[a+5]===42)return{width:16383&o(t,a+6),height:16383&o(t,a+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(t,a){if(t[a]===47){var l=w(t,a+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(t,a){return{width:1+(t[a+6]<<16|t[a+5]<<8|t[a+4]),height:1+(t[a+9]<<a|t[a+8]<<8|t[a+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}U.exports=function(t){if(!(t.length<16)&&(A(t,0,f)||A(t,8,s))){var a=12,l=null,u=0,h=w(t,4)+8;if(!(h>t.length)){for(;a+8<h;)if(t[a]!==0){var c=String.fromCharCode.apply(null,t.slice(a,a+4)),y=w(t,a+4);c==="VP8 "&&y>=10?l=l||n(t,a+8):c==="VP8L"&&y>=9?l=l||i(t,a+8):c==="VP8X"&&y>=10?l=l||r(t,a+8):c==="EXIF"&&(u=b.get_orientation(t.slice(a+8,a+8+y)),a=1/0),a+=8+y}else a++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(U,C,e){U.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(U,C,e){var k=e(87480);U.exports=function(A){return function(o){for(var w=Object.keys(k),b=0;b<w.length;b++){var f=k[w[b]](o);if(f)return f}return null}(A)},U.exports.parsers=k},4168:function(U){var C,e,k=U.exports={};function A(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function w(l){if(C===setTimeout)return setTimeout(l,0);if((C===A||!C)&&setTimeout)return C=setTimeout,setTimeout(l,0);try{return C(l,0)}catch{try{return C.call(null,l,0)}catch{return C.call(this,l,0)}}}(function(){try{C=typeof setTimeout=="function"?setTimeout:A}catch{C=A}try{e=typeof clearTimeout=="function"?clearTimeout:o}catch{e=o}})();var b,f=[],s=!1,n=-1;function i(){s&&b&&(s=!1,b.length?f=b.concat(f):n=-1,f.length&&r())}function r(){if(!s){var l=w(i);s=!0;for(var u=f.length;u;){for(b=f,f=[];++n<u;)b&&b[n].run();n=-1,u=f.length}b=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(l)}}function t(l,u){this.fun=l,this.array=u}function a(){}k.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)u[h-1]=arguments[h];f.push(new t(l,u)),f.length!==1||s||w(r)},t.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=a,k.addListener=a,k.once=a,k.off=a,k.removeListener=a,k.removeAllListeners=a,k.emit=a,k.prependListener=a,k.prependOnceListener=a,k.listeners=function(l){return[]},k.binding=function(l){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(l){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},3951:function(U,C,e){for(var k=e(41984),A=typeof window>"u"?e.g:window,o=["moz","webkit"],w="AnimationFrame",b=A["request"+w],f=A["cancel"+w]||A["cancelRequest"+w],s=0;!b&&s<o.length;s++)b=A[o[s]+"Request"+w],f=A[o[s]+"Cancel"+w]||A[o[s]+"CancelRequest"+w];if(!b||!f){var n=0,i=0,r=[];b=function(t){if(r.length===0){var a=k(),l=Math.max(0,16.666666666666668-(a-n));n=l+a,setTimeout(function(){var u=r.slice(0);r.length=0;for(var h=0;h<u.length;h++)if(!u[h].cancelled)try{u[h].callback(n)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return r.push({handle:++i,callback:t,cancelled:!1}),i},f=function(t){for(var a=0;a<r.length;a++)r[a].handle===t&&(r[a].cancelled=!0)}}U.exports=function(t){return b.call(A,t)},U.exports.cancel=function(){f.apply(A,arguments)},U.exports.polyfill=function(t){t||(t=A),t.requestAnimationFrame=b,t.cancelAnimationFrame=f}},24544:function(U,C,e){var k=e(76752),A=e(72160),o=e(45223),w=e(55616),b=e(50896),f=e(47520),s=e(37816),n=s.float32,i=s.fract32;U.exports=function(t,a){if(typeof t=="function"?(a||(a={}),a.regl=t):a=t,a.length&&(a.positions=a),!(t=a.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,h,c,y,d,v=t._gl,g={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return c=t.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=t.buffer({usage:"static",type:"float",data:r}),S(a),l=t({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:t.prop("range"),lineWidth:t.prop("lineWidth"),capSize:t.prop("capSize"),opacity:t.prop("opacity"),scale:t.prop("scale"),translate:t.prop("translate"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),viewport:function(E,O){return[O.viewport.x,O.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,O){return 4*O.offset},divisor:1},position:{buffer:u,offset:function(E,O){return 8*O.offset},divisor:1},positionFract:{buffer:h,offset:function(E,O){return 8*O.offset},divisor:1},error:{buffer:y,offset:function(E,O){return 16*O.offset},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:!1,instances:t.prop("count"),count:r.length}),b(m,{update:S,draw:_,destroy:T,regl:t,gl:v,canvas:v.canvas,groups:x}),m;function m(E){E?S(E):E===null&&T(),_()}function _(E){if(typeof E=="number")return p(E);E&&!Array.isArray(E)&&(E=[E]),t._refresh(),x.forEach(function(O,P){O&&(E&&(E[P]?O.draw=!0:O.draw=!1),O.draw?p(P):O.draw=!0)})}function p(E){typeof E=="number"&&(E=x[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],l(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var O=0,P=0;if(m.groups=x=E.map(function(F,V){var W=x[V];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=w(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),W||(x[V]=W={id:V,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},g,F)),o(W,F,[{lineWidth:function(re){return .5*+re},capSize:function(re){return .5*+re},opacity:parseFloat,errors:function(re){return re=f(re),P+=re.length,re},positions:function(re,ne){return re=f(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=k(re,2),ne.offset=O,O+=ne.count,re}},{color:function(re,ne){var te=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var Q=re;re=Array(te);for(var $=0;$<te;$++)re[$]=Q}if(re.length<te)throw Error("Not enough colors");for(var K=new Uint8Array(4*te),ae=0;ae<te;ae++){var ue=A(re[ae],"uint8");K.set(ue,4*ae)}return K},range:function(re,ne,te){var Q=ne.bounds;return re||(re=Q),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=i(ne.scale),ne.translateFract=i(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},ne}}])),W}),O||P){var I=x.reduce(function(F,V,W){return F+(V?V.count:0)},0),R=new Float64Array(2*I),H=new Uint8Array(4*I),z=new Float32Array(4*I);x.forEach(function(F,V){if(F){var W=F.positions,re=F.count,ne=F.offset,te=F.color,Q=F.errors;re&&(H.set(te,4*ne),z.set(Q,4*ne),R.set(W,2*ne))}});var j=n(R);u(j);var Z=i(R,j);h(Z),c(H),y(z)}}}function T(){u.destroy(),h.destroy(),c.destroy(),y.destroy(),d.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(U,C,e){var k=e(72160),A=e(76752),o=e(50896),w=e(55616),b=e(47520),f=e(28912),s=e(71152),n=e(37816),i=n.float32,r=n.fract32,t=e(60463),a=e(51160),l=e(10272);function u(h,c){if(!(this instanceof u))return new u(h,c);if(typeof h=="function"?(c||(c={}),c.regl=h):c=h,c.length&&(c.positions=c),!(h=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=u.shaders.has(h)?u.shaders.get(h):u.shaders.set(h,u.createShaders(h)).get(h),this.update(c)}U.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new t,u.createShaders=function(h){var c,y=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(g,x){return x.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(g,x){return[x.viewport.x,x.viewport.y,g.viewportWidth,g.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(g,x){return!x.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},v=h(o({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:y,divisor:0,stride:8,offset:0},lineTop:{buffer:y,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{c=h(o({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:y,divisor:0,stride:8,offset:0},lineTop:{buffer:y,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{c=v}return{fill:h({primitive:"triangle",elements:function(g,x){return x.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(g,x){return[x.viewport.x,x.viewport.y,g.viewportWidth,g.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:v,miter:c}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var h,c=[],y=arguments.length;y--;)c[y]=arguments[y];c.length&&(h=this).update.apply(h,c),this.draw()},u.prototype.draw=function(){for(var h=this,c=[],y=arguments.length;y--;)c[y]=arguments[y];return(c.length?c:this.passes).forEach(function(d,v){var g;if(d&&Array.isArray(d))return(g=h).draw.apply(g,d);typeof d=="number"&&(d=h.passes[d]),d&&d.count>1&&d.opacity&&(h.regl._refresh(),d.fill&&d.triangles&&d.triangles.length>2&&h.shaders.fill(d),d.thickness&&(d.scale[0]*d.viewport.width>u.precisionThreshold||d.scale[1]*d.viewport.height>u.precisionThreshold||d.join==="rect"||!d.join&&(d.thickness<=2||d.count>=u.maxPoints)?h.shaders.rect(d):h.shaders.miter(d)))}),this},u.prototype.update=function(h){var c=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var y=this.regl,d=this.gl;if(h.forEach(function(_,p){var S=c.passes[p];if(_!==void 0)if(_!==null){if(typeof _[0]=="number"&&(_={positions:_}),_=w(_,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),S||(c.passes[p]=S={id:p,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},_=o({},u.defaults,_)),_.thickness!=null&&(S.thickness=parseFloat(_.thickness)),_.opacity!=null&&(S.opacity=parseFloat(_.opacity)),_.miterLimit!=null&&(S.miterLimit=parseFloat(_.miterLimit)),_.overlay!=null&&(S.overlay=!!_.overlay,p<u.maxLines&&(S.depth=2*(u.maxLines-1-p%u.maxLines)/u.maxLines-1)),_.join!=null&&(S.join=_.join),_.hole!=null&&(S.hole=_.hole),_.fill!=null&&(S.fill=_.fill?k(_.fill,"uint8"):null),_.viewport!=null&&(S.viewport=a(_.viewport)),S.viewport||(S.viewport=a([d.drawingBufferWidth,d.drawingBufferHeight])),_.close!=null&&(S.close=_.close),_.positions===null&&(_.positions=[]),_.positions){var T,E;if(_.positions.x&&_.positions.y){var O=_.positions.x,P=_.positions.y;E=S.count=Math.max(O.length,P.length),T=new Float64Array(2*E);for(var I=0;I<E;I++)T[2*I]=O[I],T[2*I+1]=P[I]}else T=b(_.positions,"float64"),E=S.count=Math.floor(T.length/2);var R=S.bounds=A(T,2);if(S.fill){for(var H=[],z={},j=0,Z=0,F=0,V=S.count;Z<V;Z++){var W=T[2*Z],re=T[2*Z+1];isNaN(W)||isNaN(re)||W==null||re==null?(W=T[2*j],re=T[2*j+1],z[Z]=j):j=Z,H[F++]=W,H[F++]=re}if(_.splitNull){S.count-1 in z||(z[S.count]=S.count-1);var ne=Object.keys(z).map(Number).sort(function(_t,mt){return _t-mt}),te=[],Q=0,$=S.hole!=null?S.hole[0]:null;if($!=null){var K=l(ne,function(_t){return _t>=$});(ne=ne.slice(0,K)).push($)}for(var ae=function(_t){var mt=H.slice(2*Q,2*ne[_t]).concat($?H.slice(2*$):[]),it=(S.hole||[]).map(function(Et){return Et-$+(ne[_t]-Q)}),nt=f(mt,it);nt=nt.map(function(Et){return Et+Q+(Et+Q<ne[_t]?0:$-ne[_t])}),te.push.apply(te,nt),Q=ne[_t]+1},ue=0;ue<ne.length;ue++)ae(ue);for(var se=0,he=te.length;se<he;se++)z[te[se]]!=null&&(te[se]=z[te[se]]);S.triangles=te}else{for(var pe=f(H,S.hole||[]),de=0,xe=pe.length;de<xe;de++)z[pe[de]]!=null&&(pe[de]=z[pe[de]]);S.triangles=pe}}var _e=new Float64Array(T);s(_e,2,R);var be=new Float64Array(2*E+6);S.close?T[0]===T[2*E-2]&&T[1]===T[2*E-1]?(be[0]=_e[2*E-4],be[1]=_e[2*E-3]):(be[0]=_e[2*E-2],be[1]=_e[2*E-1]):(be[0]=_e[0],be[1]=_e[1]),be.set(_e,2),S.close?T[0]===T[2*E-2]&&T[1]===T[2*E-1]?(be[2*E+2]=_e[2],be[2*E+3]=_e[3],S.count-=1):(be[2*E+2]=_e[0],be[2*E+3]=_e[1],be[2*E+4]=_e[2],be[2*E+5]=_e[3]):(be[2*E+2]=_e[2*E-2],be[2*E+3]=_e[2*E-1],be[2*E+4]=_e[2*E-2],be[2*E+5]=_e[2*E-1]);var Le=i(be);S.positionBuffer(Le);var De=r(be,Le);S.positionFractBuffer(De)}if(_.range?S.range=_.range:S.range||(S.range=S.bounds),(_.range||_.positions)&&S.count){var ye=S.bounds,le=ye[2]-ye[0],oe=ye[3]-ye[1],ve=S.range[2]-S.range[0],Ce=S.range[3]-S.range[1];S.scale=[le/ve,oe/Ce],S.translate=[-S.range[0]/ve+ye[0]/ve||0,-S.range[1]/Ce+ye[1]/Ce||0],S.scaleFract=r(S.scale),S.translateFract=r(S.translate)}if(_.dashes){var ke,Ae=0;if(!_.dashes||_.dashes.length<2)Ae=1,ke=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ae=0;for(var Ee=0;Ee<_.dashes.length;++Ee)Ae+=_.dashes[Ee];ke=new Uint8Array(Ae*u.dashMult);for(var ze=0,Fe=255,ge=0;ge<2;ge++)for(var Te=0;Te<_.dashes.length;++Te){for(var Se=0,Re=_.dashes[Te]*u.dashMult*.5;Se<Re;++Se)ke[ze++]=Fe;Fe^=255}}S.dashLength=Ae,S.dashTexture({channels:1,data:ke,width:ke.length,height:1,mag:"linear",min:"linear"},0,0)}if(_.color){var Pe=S.count,Ve=_.color;Ve||(Ve="transparent");var We=new Uint8Array(4*Pe+4);if(Array.isArray(Ve)&&typeof Ve[0]!="number"){for(var Qe=0;Qe<Pe;Qe++){var lt=k(Ve[Qe],"uint8");We.set(lt,4*Qe)}We.set(k(Ve[0],"uint8"),4*Pe)}else for(var ut=k(Ve,"uint8"),xt=0;xt<Pe+1;xt++)We.set(ut,4*xt);S.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}else c.passes[p]=null}),h.length<this.passes.length){for(var v=h.length;v<this.passes.length;v++){var g=this.passes[v];g&&(g.colorBuffer.destroy(),g.positionBuffer.destroy(),g.dashTexture.destroy())}this.passes.length=h.length}for(var x=[],m=0;m<this.passes.length;m++)this.passes[m]!==null&&x.push(this.passes[m]);return this.passes=x,this}},u.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(U,C,e){function k(v,g){return function(x){if(Array.isArray(x))return x}(v)||function(x,m){var _=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(_!=null){var p,S,T,E,O=[],P=!0,I=!1;try{if(T=(_=_.call(x)).next,m!==0)for(;!(P=(p=T.call(_)).done)&&(O.push(p.value),O.length!==m);P=!0);}catch(R){I=!0,S=R}finally{try{if(!P&&_.return!=null&&(E=_.return(),Object(E)!==E))return}finally{if(I)throw S}}return O}}(v,g)||A(v,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(v,g){if(v){if(typeof v=="string")return o(v,g);var x=Object.prototype.toString.call(v).slice(8,-1);return x==="Object"&&v.constructor&&(x=v.constructor.name),x==="Map"||x==="Set"?Array.from(v):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?o(v,g):void 0}}function o(v,g){(g==null||g>v.length)&&(g=v.length);for(var x=0,m=new Array(g);x<g;x++)m[x]=v[x];return m}var w=e(72160),b=e(76752),f=e(3808),s=e(3108),n=e(50896),i=e(26444),r=e(55616),t=e(45223),a=e(47520),l=e(96604),u=e(37816),h=e(51160),c=y;function y(v,g){var x=this;if(!(this instanceof y))return new y(v,g);typeof v=="function"?(g||(g={}),g.regl=v):(g=v,v=null),g&&g.length&&(g.positions=g);var m,_=(v=g.regl)._gl,p=[];this.tooManyColors=l,m=v.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),n(this,{regl:v,gl:_,groups:[],markerCache:[null],markerTextures:[null],palette:p,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:_.canvas}),this.update(g);var S={uniforms:{constPointSize:!!g.constPointSize,opacity:v.prop("opacity"),paletteSize:function(O,P){return[x.tooManyColors?0:255,m.height]},pixelRatio:v.context("pixelRatio"),scale:v.prop("scale"),scaleFract:v.prop("scaleFract"),translate:v.prop("translate"),translateFract:v.prop("translateFract"),markerTexture:v.prop("markerTexture"),paletteTexture:m},attributes:{x:function(O,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(O,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(O,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(O,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(O,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/x.maxSize)]}},borderSize:function(O,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/x.maxSize)]}},colorId:function(O,P){return P.color.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?p.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(O,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?p.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(O,P){return P.activation===!0?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:v.prop("viewport")},viewport:v.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:v.prop("elements"),count:v.prop("count"),offset:v.prop("offset"),primitive:"points"},T=n({},S);T.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),T.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=v(T);var E=n({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(E.frag=E.frag.replace("smoothstep","smoothStep"),T.frag=T.frag.replace("smoothstep","smoothStep")),this.drawCircle=v(E)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var v=this,g=arguments.length,x=new Array(g),m=0;m<g;m++)x[m]=arguments[m];var _=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var p=0;p<x.length;p++)this.drawItem(p,x[p]);else _.forEach(function(S,T){v.drawItem(T)});return this},y.prototype.drawItem=function(v,g){var x,m=this.groups,_=m[v];if(typeof g=="number"&&(v=g,_=m[g],g=null),_&&_.count&&_.opacity){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,g));for(var p=[],S=1;S<_.activation.length;S++)_.activation[S]&&(_.activation[S]===!0||_.activation[S].data.length)&&p.push.apply(p,function(T){if(Array.isArray(T))return o(T)}(x=this.getMarkerDrawOptions(S,_,g))||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(x)||A(x)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());p.length&&this.drawMarker(p)}},y.prototype.getMarkerDrawOptions=function(v,g,x){var m=g.range,_=g.tree,p=g.viewport,S=g.activation,T=g.selectionBuffer,E=g.count;if(this.regl,!_)return x?[n({},g,{markerTexture:this.markerTextures[v],activation:S[v],count:x.length,elements:x,offset:0})]:[n({},g,{markerTexture:this.markerTextures[v],activation:S[v],offset:0})];var O=[],P=_.range(m,{lod:!0,px:[(m[2]-m[0])/p.width,(m[3]-m[1])/p.height]});if(x){for(var I=S[v].data,R=new Uint8Array(E),H=0;H<x.length;H++){var z=x[H];R[z]=I?I[z]:1}T.subdata(R)}for(var j=P.length;j--;){var Z=k(P[j],2),F=Z[0],V=Z[1];O.push(n({},g,{markerTexture:this.markerTextures[v],activation:x?T:S[v],offset:F,count:V-F}))}return O},y.prototype.update=function(){for(var v=this,g=arguments.length,x=new Array(g),m=0;m<g;m++)x[m]=arguments[m];if(x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var _=this.groups,p=this.gl,S=this.regl,T=this.maxSize,E=this.maxColors,O=this.palette;this.groups=_=x.map(function(P,I){var R=_[I];if(P===void 0)return R;P===null?P={positions:null}:typeof P=="function"?P={ondraw:P}:typeof P[0]=="number"&&(P={positions:P}),(P=r(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(P.positions=[]),P.tooManyColors!=null&&(v.tooManyColors=P.tooManyColors),R||(_[I]=R={id:I,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=n({},y.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=R.marker,delete R.marker),P.marker&&!("positions"in P)&&(P.positions=R.positions,delete R.positions);var H=0,z=0;if(t(R,P,[{snap:!0,size:function(xe,_e){return xe==null&&(xe=y.defaults.size),H+=xe&&xe.length?1:0,xe},borderSize:function(xe,_e){return xe==null&&(xe=y.defaults.borderSize),H+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,_e){return xe==null&&(xe=y.defaults.color),xe=v.updateColor(xe),z++,xe},borderColor:function(xe,_e){return xe==null&&(xe=y.defaults.borderColor),xe=v.updateColor(xe),z++,xe},bounds:function(xe,_e,be){return"range"in be||(be.range=null),xe},positions:function(xe,_e,be){var Le=_e.snap,De=_e.positionBuffer,ye=_e.positionFractBuffer,le=_e.selectionBuffer;if(xe.x||xe.y)return xe.x.length?_e.xAttr={buffer:S.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:_e.xAttr={buffer:xe.x.buffer,offset:4*xe.x.offset||0,stride:4*(xe.x.stride||1),count:xe.x.count},xe.y.length?_e.yAttr={buffer:S.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:_e.yAttr={buffer:xe.y.buffer,offset:4*xe.y.offset||0,stride:4*(xe.y.stride||1),count:xe.y.count},_e.count=Math.max(_e.xAttr.count,_e.yAttr.count),xe;xe=a(xe,"float64");var oe=_e.count=Math.floor(xe.length/2),ve=_e.bounds=oe?b(xe,2):null;if(be.range||_e.range||(delete _e.range,be.range=ve),be.marker||_e.marker||(delete _e.marker,be.marker=null),Le&&(Le===!0||oe>Le)?_e.tree=s(xe,{bounds:ve}):Le&&Le.length&&(_e.tree=Le),_e.tree){var Ce={primitive:"points",usage:"static",data:_e.tree,type:"uint32"};_e.elements?_e.elements(Ce):_e.elements=S.elements(Ce)}var ke=u.float32(xe);return De({data:ke,usage:"dynamic"}),ye({data:u.fract32(xe,ke),usage:"dynamic"}),le({data:new Uint8Array(oe),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,_e,be){var Le=_e.activation;if(Le.forEach(function(ke){return ke&&ke.destroy&&ke.destroy()}),Le.length=0,xe&&typeof xe[0]!="number"){for(var De=[],ye=0,le=Math.min(xe.length,_e.count);ye<le;ye++){var oe=v.addMarker(xe[ye]);De[oe]||(De[oe]=new Uint8Array(_e.count)),De[oe][ye]=1}for(var ve=0;ve<De.length;ve++)if(De[ve]){var Ce={data:De[ve],type:"uint8",usage:"static"};Le[ve]?Le[ve](Ce):Le[ve]=S.buffer(Ce),Le[ve].data=De[ve]}}else Le[v.addMarker(xe)]=!0;return xe},range:function(xe,_e,be){var Le=_e.bounds;if(Le)return xe||(xe=Le),_e.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],_e.translate=[-xe[0],-xe[1]],_e.scaleFract=u.fract(_e.scale),_e.translateFract=u.fract(_e.translate),xe},viewport:function(xe){return h(xe||[p.drawingBufferWidth,p.drawingBufferHeight])}}]),H){var j=R,Z=j.count,F=j.size,V=j.borderSize,W=j.sizeBuffer,re=new Uint8Array(2*Z);if(F.length||V.length)for(var ne=0;ne<Z;ne++)re[2*ne]=Math.round(255*(F[ne]==null?F:F[ne])/T),re[2*ne+1]=Math.round(255*(V[ne]==null?V:V[ne])/T);W({data:re,usage:"dynamic"})}if(z){var te,Q=R,$=Q.count,K=Q.color,ae=Q.borderColor,ue=Q.colorBuffer;if(v.tooManyColors){if(K.length||ae.length){te=new Uint8Array(8*$);for(var se=0;se<$;se++){var he=K[se];te[8*se]=O[4*he],te[8*se+1]=O[4*he+1],te[8*se+2]=O[4*he+2],te[8*se+3]=O[4*he+3];var pe=ae[se];te[8*se+4]=O[4*pe],te[8*se+5]=O[4*pe+1],te[8*se+6]=O[4*pe+2],te[8*se+7]=O[4*pe+3]}}}else if(K.length||ae.length){te=new Uint8Array(4*$+2);for(var de=0;de<$;de++)K[de]!=null&&(te[4*de]=K[de]%E,te[4*de+1]=Math.floor(K[de]/E)),ae[de]!=null&&(te[4*de+2]=ae[de]%E,te[4*de+3]=Math.floor(ae[de]/E))}ue({data:te||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},y.prototype.addMarker=function(v){var g,x=this.markerTextures,m=this.regl,_=this.markerCache,p=v==null?0:_.indexOf(v);if(p>=0)return p;if(v instanceof Uint8Array||v instanceof Uint8ClampedArray)g=v;else{g=new Uint8Array(v.length);for(var S=0,T=v.length;S<T;S++)g[S]=255*v[S]}var E=Math.floor(Math.sqrt(g.length));return p=x.length,_.push(v),x.push(m.texture({channels:1,data:g,radius:E,mag:"linear",min:"linear"})),p},y.prototype.updateColor=function(v){var g=this.paletteIds,x=this.palette,m=this.maxColors;Array.isArray(v)||(v=[v]);var _=[];if(typeof v[0]=="number"){var p=[];if(Array.isArray(v))for(var S=0;S<v.length;S+=4)p.push(v.slice(S,S+4));else for(var T=0;T<v.length;T+=4)p.push(v.subarray(T,T+4));v=p}for(var E=0;E<v.length;E++){var O=v[E];O=w(O,"uint8");var P=f(O,!1);if(g[P]==null){var I=x.length;g[P]=Math.floor(I/4),x[I]=O[0],x[I+1]=O[1],x[I+2]=O[2],x[I+3]=O[3]}_[E]=g[P]}return!this.tooManyColors&&x.length>4*m&&(this.tooManyColors=!0),this.updatePalette(x),_.length===1?_[0]:_},y.prototype.updatePalette=function(v){if(!this.tooManyColors){var g=this.maxColors,x=this.paletteTexture,m=Math.ceil(.25*v.length/g);if(m>1)for(var _=.25*(v=v.slice()).length%g;_<m*g;_++)v.push(0,0,0,0);x.height<m&&x.resize(g,m),x.subimage({width:Math.min(.25*v.length,g),height:m,data:v},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(v){v.sizeBuffer.destroy(),v.positionBuffer.destroy(),v.positionFractBuffer.destroy(),v.colorBuffer.destroy(),v.activation.forEach(function(g){return g&&g.destroy&&g.destroy()}),v.selectionBuffer.destroy(),v.elements&&v.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(v){return v&&v.destroy&&v.destroy()}),this};var d=e(50896);U.exports=function(v,g){var x=new c(v,g),m=x.render.bind(x);return d(m,{render:m,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),m}},55795:function(U,C,e){var k=e(38540),A=e(55616),o=e(76752),w=e(3951),b=e(67752),f=e(51160),s=e(47520);function n(a,l){if(!(this instanceof n))return new n(a);this.traces=[],this.passes={},this.regl=a,this.scatter=k(a),this.canvas=this.scatter.canvas}function i(a,l,u){return(a.id!=null?a.id:a)<<16|(255&l)<<8|255&u}function r(a,l,u){var h,c,y,d,v=a[l],g=a[u];return v.length>2?(v[0],v[2],h=v[1],c=v[3]):v.length?(h=v[0],c=v[1]):(v.x,h=v.y,v.x,v.width,c=v.y+v.height),g.length>2?(y=g[0],d=g[2],g[1],g[3]):g.length?(y=g[0],d=g[1]):(y=g.x,g.y,d=g.x+g.width,g.y,g.height),[y,h,d,c]}function t(a){if(typeof a=="number")return[a,a,a,a];if(a.length===2)return[a[0],a[1],a[0],a[1]];var l=f(a);return[l.x,l.y,l.x+l.width,l.y+l.height]}U.exports=n,n.prototype.render=function(){for(var a,l=this,u=[],h=arguments.length;h--;)u[h]=arguments[h];return u.length&&(a=this).update.apply(a,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=w(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,w(function(){l.dirty=!1})),this)},n.prototype.update=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=0;h<l.length;h++)this.updateItem(h,l[h]);this.traces=this.traces.filter(Boolean);for(var c=[],y=0,d=0;d<this.traces.length;d++){for(var v=this.traces[d],g=this.traces[d].passes,x=0;x<g.length;x++)c.push(this.passes[g[x]]);v.passOffset=y,y+=v.passes.length}return(a=this.scatter).update.apply(a,c),this}},n.prototype.updateItem=function(a,l){var u=this.regl;if(l===null)return this.traces[a]=null,this;if(!l)return this;var h,c=A(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),y=this.traces[a]||(this.traces[a]={id:a,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:f([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(y.color=c.color),c.size!=null&&(y.size=c.size),c.marker!=null&&(y.marker=c.marker),c.borderColor!=null&&(y.borderColor=c.borderColor),c.borderSize!=null&&(y.borderSize=c.borderSize),c.opacity!=null&&(y.opacity=c.opacity),c.viewport&&(y.viewport=f(c.viewport)),c.diagonal!=null&&(y.diagonal=c.diagonal),c.upper!=null&&(y.upper=c.upper),c.lower!=null&&(y.lower=c.lower),c.data){y.buffer(s(c.data)),y.columns=c.data.length,y.count=c.data[0].length,y.bounds=[];for(var d=0;d<y.columns;d++)y.bounds[d]=o(c.data[d],1)}c.range&&(y.range=c.range,h=y.range&&typeof y.range[0]!="number"),c.domain&&(y.domain=c.domain);var v=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===y.columns&&typeof c.padding[c.padding.length-1]=="number"?(y.padding=c.padding.map(t),v=!0):y.padding=t(c.padding));var g=y.columns,x=y.count,m=y.viewport.width,_=y.viewport.height,p=y.viewport.x,S=y.viewport.y,T=m/g,E=_/g;y.passes=[];for(var O=0;O<g;O++)for(var P=0;P<g;P++)if((y.diagonal||P!==O)&&(y.upper||!(O>P))&&(y.lower||!(O<P))){var I=i(y.id,O,P),R=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?R.positions={x:{buffer:y.buffer,offset:P,count:x,stride:g},y:{buffer:y.buffer,offset:O,count:x,stride:g}}:R.positions={x:{buffer:y.buffer,offset:P*x,count:x},y:{buffer:y.buffer,offset:O*x,count:x}},R.bounds=r(y.bounds,O,P)),c.domain||c.viewport||c.data){var H=v?r(y.padding,O,P):y.padding;if(y.domain){var z=r(y.domain,O,P),j=z[0],Z=z[1],F=z[2],V=z[3];R.viewport=[p+j*m+H[0],S+Z*_+H[1],p+F*m-H[2],S+V*_-H[3]]}else R.viewport=[p+P*T+T*H[0],S+O*E+E*H[1],p+(P+1)*T-T*H[2],S+(O+1)*E-E*H[3]]}c.color&&(R.color=y.color),c.size&&(R.size=y.size),c.marker&&(R.marker=y.marker),c.borderSize&&(R.borderSize=y.borderSize),c.borderColor&&(R.borderColor=y.borderColor),c.opacity&&(R.opacity=y.opacity),c.range&&(R.range=h?r(y.range,O,P):y.range||R.bounds),y.passes.push(I)}return this},n.prototype.draw=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=[],c=0;c<l.length;c++)if(typeof l[c]=="number"){var y=this.traces[l[c]],d=y.passes,v=y.passOffset;h.push.apply(h,b(v,v+d.length))}else if(l[c].length){var g=l[c],x=this.traces[c],m=x.passes,_=x.passOffset;m=m.map(function(p,S){h[_+S]=g})}(a=this.scatter).draw.apply(a,h)}else this.scatter.draw();return this},n.prototype.destroy=function(){return this.traces.forEach(function(a){a.buffer&&a.buffer.destroy&&a.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(U){U.exports=function(){function C(He,Je){this.id=ae++,this.type=He,this.data=Je}function e(He){if(He.length===0)return[];var Je=He.charAt(0),ft=He.charAt(He.length-1);if(1<He.length&&Je===ft&&(Je==='"'||Je==="'"))return['"'+He.substr(1,He.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Je=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(He))return e(He.substr(0,Je.index)).concat(e(Je[1])).concat(e(He.substr(Je.index+Je[0].length)));if((Je=He.split(".")).length===1)return['"'+He.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(He=[],ft=0;ft<Je.length;++ft)He=He.concat(e(Je[ft]));return He}function k(He){return"["+e(He).join("][")+"]"}function A(He){return typeof He=="string"?He.split():He}function o(He){return typeof He=="string"?document.querySelector(He):He}function w(He){var Je,ft,ot,je,Ue=He||{};He={};var st=[],Ke=[],gt=typeof window>"u"?1:window.devicePixelRatio,yt=!1,bt={},dt=function(wt){},Lt=function(){};if(typeof Ue=="string"?Je=document.querySelector(Ue):typeof Ue=="object"&&(typeof Ue.nodeName=="string"&&typeof Ue.appendChild=="function"&&typeof Ue.getBoundingClientRect=="function"?Je=Ue:typeof Ue.drawArrays=="function"||typeof Ue.drawElements=="function"?ot=(je=Ue).canvas:("gl"in Ue?je=Ue.gl:"canvas"in Ue?ot=o(Ue.canvas):"container"in Ue&&(ft=o(Ue.container)),"attributes"in Ue&&(He=Ue.attributes),"extensions"in Ue&&(st=A(Ue.extensions)),"optionalExtensions"in Ue&&(Ke=A(Ue.optionalExtensions)),"onDone"in Ue&&(dt=Ue.onDone),"profile"in Ue&&(yt=!!Ue.profile),"pixelRatio"in Ue&&(gt=+Ue.pixelRatio),"cachedCode"in Ue&&(bt=Ue.cachedCode))),Je&&(Je.nodeName.toLowerCase()==="canvas"?ot=Je:ft=Je),!je){if(!ot){if(!(Je=function(wt,Ct,zt){function Dt(){var un=window.innerWidth,qt=window.innerHeight;wt!==document.body&&(un=(qt=Kt.getBoundingClientRect()).right-qt.left,qt=qt.bottom-qt.top),Kt.width=zt*un,Kt.height=zt*qt}var Nt,Kt=document.createElement("canvas");return K(Kt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),wt.appendChild(Kt),wt===document.body&&(Kt.style.position="absolute",K(wt.style,{margin:0,padding:0})),wt!==document.body&&typeof ResizeObserver=="function"?(Nt=new ResizeObserver(function(){setTimeout(Dt)})).observe(wt):window.addEventListener("resize",Dt,!1),Dt(),{canvas:Kt,onDestroy:function(){Nt?Nt.disconnect():window.removeEventListener("resize",Dt),wt.removeChild(Kt)}}}(ft||document.body,0,gt)))return null;ot=Je.canvas,Lt=Je.onDestroy}He.premultipliedAlpha===void 0&&(He.premultipliedAlpha=!0),je=function(wt,Ct){function zt(Dt){try{return wt.getContext(Dt,Ct)}catch{return null}}return zt("webgl")||zt("experimental-webgl")||zt("webgl-experimental")}(ot,He)}return je?{gl:je,canvas:ot,container:ft,extensions:st,optionalExtensions:Ke,pixelRatio:gt,profile:yt,cachedCode:bt,onDone:dt,onDestroy:Lt}:(Lt(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(He,Je){for(var ft=Array(He),ot=0;ot<He;++ot)ft[ot]=Je(ot);return ft}function f(He){var Je,ft;return Je=(65535<He)<<4,Je|=ft=(255<(He>>>=Je))<<3,(Je|=ft=(15<(He>>>=ft))<<2)|(ft=(3<(He>>>=ft))<<1)|He>>>ft>>1}function s(){function He(ot){e:{for(var je=16;268435456>=je;je*=16)if(ot<=je){ot=je;break e}ot=0}return 0<(je=ft[f(ot)>>2]).length?je.pop():new ArrayBuffer(ot)}function Je(ot){ft[f(ot.byteLength)>>2].push(ot)}var ft=b(8,function(){return[]});return{alloc:He,free:Je,allocType:function(ot,je){var Ue=null;switch(ot){case 5120:Ue=new Int8Array(He(je),0,je);break;case 5121:Ue=new Uint8Array(He(je),0,je);break;case 5122:Ue=new Int16Array(He(2*je),0,je);break;case 5123:Ue=new Uint16Array(He(2*je),0,je);break;case 5124:Ue=new Int32Array(He(4*je),0,je);break;case 5125:Ue=new Uint32Array(He(4*je),0,je);break;case 5126:Ue=new Float32Array(He(4*je),0,je);break;default:return null}return Ue.length!==je?Ue.subarray(0,je):Ue},freeType:function(ot){Je(ot.buffer)}}}function n(He){return!!He&&typeof He=="object"&&Array.isArray(He.shape)&&Array.isArray(He.stride)&&typeof He.offset=="number"&&He.shape.length===He.stride.length&&(Array.isArray(He.data)||xe(He.data))}function i(He,Je,ft,ot,je,Ue){for(var st=0;st<Je;++st)for(var Ke=He[st],gt=0;gt<ft;++gt)for(var yt=Ke[gt],bt=0;bt<ot;++bt)je[Ue++]=yt[bt]}function r(He,Je,ft,ot,je){for(var Ue=1,st=ft+1;st<Je.length;++st)Ue*=Je[st];var Ke=Je[ft];if(Je.length-ft==4){var gt=Je[ft+1],yt=Je[ft+2];for(Je=Je[ft+3],st=0;st<Ke;++st)i(He[st],gt,yt,Je,ot,je),je+=Ue}else for(st=0;st<Ke;++st)r(He[st],Je,ft+1,ot,je),je+=Ue}function t(He){return 0|Le[Object.prototype.toString.call(He)]}function a(He,Je){for(var ft=0;ft<Je.length;++ft)He[ft]=Je[ft]}function l(He,Je,ft,ot,je,Ue,st){for(var Ke=0,gt=0;gt<ft;++gt)for(var yt=0;yt<ot;++yt)He[Ke++]=Je[je*gt+Ue*yt+st]}function u(He,Je,ft,ot){function je(dt){this.id=gt++,this.buffer=He.createBuffer(),this.type=dt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ft.profile&&(this.stats={size:0})}function Ue(dt,Lt,wt){dt.byteLength=Lt.byteLength,He.bufferData(dt.type,Lt,wt)}function st(dt,Lt,wt,Ct,zt,Dt){if(dt.usage=wt,Array.isArray(Lt)){if(dt.dtype=Ct||5126,0<Lt.length)if(Array.isArray(Lt[0])){zt=oe(Lt);for(var Nt=Ct=1;Nt<zt.length;++Nt)Ct*=zt[Nt];dt.dimension=Ct,Ue(dt,Lt=le(Lt,zt,dt.dtype),wt),Dt?dt.persistentData=Lt:pe.freeType(Lt)}else typeof Lt[0]=="number"?(dt.dimension=zt,a(zt=pe.allocType(dt.dtype,Lt.length),Lt),Ue(dt,zt,wt),Dt?dt.persistentData=zt:pe.freeType(zt)):xe(Lt[0])&&(dt.dimension=Lt[0].length,dt.dtype=Ct||t(Lt[0])||5126,Ue(dt,Lt=le(Lt,[Lt.length,Lt[0].length],dt.dtype),wt),Dt?dt.persistentData=Lt:pe.freeType(Lt))}else if(xe(Lt))dt.dtype=Ct||t(Lt),dt.dimension=zt,Ue(dt,Lt,wt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt.buffer)));else if(n(Lt)){zt=Lt.shape;var Kt=Lt.stride,un=(Nt=Lt.offset,0),qt=0,Jt=0,Ut=0;zt.length===1?(un=zt[0],qt=1,Jt=Kt[0],Ut=0):zt.length===2&&(un=zt[0],qt=zt[1],Jt=Kt[0],Ut=Kt[1]),dt.dtype=Ct||t(Lt.data)||5126,dt.dimension=qt,l(zt=pe.allocType(dt.dtype,un*qt),Lt.data,un,qt,Jt,Ut,Nt),Ue(dt,zt,wt),Dt?dt.persistentData=zt:pe.freeType(zt)}else Lt instanceof ArrayBuffer&&(dt.dtype=5121,dt.dimension=zt,Ue(dt,Lt,wt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt))))}function Ke(dt){Je.bufferCount--,ot(dt),He.deleteBuffer(dt.buffer),dt.buffer=null,delete yt[dt.id]}var gt=0,yt={};je.prototype.bind=function(){He.bindBuffer(this.type,this.buffer)},je.prototype.destroy=function(){Ke(this)};var bt=[];return ft.profile&&(Je.getTotalBufferSize=function(){var dt=0;return Object.keys(yt).forEach(function(Lt){dt+=yt[Lt].stats.size}),dt}),{create:function(dt,Lt,wt,Ct){function zt(Nt){var Kt=35044,un=null,qt=0,Jt=0,Ut=1;return Array.isArray(Nt)||xe(Nt)||n(Nt)||Nt instanceof ArrayBuffer?un=Nt:typeof Nt=="number"?qt=0|Nt:Nt&&("data"in Nt&&(un=Nt.data),"usage"in Nt&&(Kt=ye[Nt.usage]),"type"in Nt&&(Jt=De[Nt.type]),"dimension"in Nt&&(Ut=0|Nt.dimension),"length"in Nt&&(qt=0|Nt.length)),Dt.bind(),un?st(Dt,un,Kt,Jt,Ut,Ct):(qt&&He.bufferData(Dt.type,qt,Kt),Dt.dtype=Jt||5121,Dt.usage=Kt,Dt.dimension=Ut,Dt.byteLength=qt),ft.profile&&(Dt.stats.size=Dt.byteLength*ve[Dt.dtype]),zt}Je.bufferCount++;var Dt=new je(Lt);return yt[Dt.id]=Dt,wt||zt(dt),zt._reglType="buffer",zt._buffer=Dt,zt.subdata=function(Nt,Kt){var un,qt=0|(Kt||0);if(Dt.bind(),xe(Nt)||Nt instanceof ArrayBuffer)He.bufferSubData(Dt.type,qt,Nt);else if(Array.isArray(Nt)){if(0<Nt.length)if(typeof Nt[0]=="number"){var Jt=pe.allocType(Dt.dtype,Nt.length);a(Jt,Nt),He.bufferSubData(Dt.type,qt,Jt),pe.freeType(Jt)}else(Array.isArray(Nt[0])||xe(Nt[0]))&&(un=oe(Nt),Jt=le(Nt,un,Dt.dtype),He.bufferSubData(Dt.type,qt,Jt),pe.freeType(Jt))}else if(n(Nt)){un=Nt.shape;var Ut=Nt.stride,zn=Jt=0,An=0,mn=0;un.length===1?(Jt=un[0],zn=1,An=Ut[0],mn=0):un.length===2&&(Jt=un[0],zn=un[1],An=Ut[0],mn=Ut[1]),un=Array.isArray(Nt.data)?Dt.dtype:t(Nt.data),l(un=pe.allocType(un,Jt*zn),Nt.data,Jt,zn,An,mn,Nt.offset),He.bufferSubData(Dt.type,qt,un),pe.freeType(un)}return zt},ft.profile&&(zt.stats=Dt.stats),zt.destroy=function(){Ke(Dt)},zt},createStream:function(dt,Lt){var wt=bt.pop();return wt||(wt=new je(dt)),wt.bind(),st(wt,Lt,35040,0,1,!1),wt},destroyStream:function(dt){bt.push(dt)},clear:function(){_e(yt).forEach(Ke),bt.forEach(Ke)},getBuffer:function(dt){return dt&&dt._buffer instanceof je?dt._buffer:null},restore:function(){_e(yt).forEach(function(dt){dt.buffer=He.createBuffer(),He.bindBuffer(dt.type,dt.buffer),He.bufferData(dt.type,dt.persistentData||dt.byteLength,dt.usage)})},_initBuffer:st}}function h(He,Je,ft,ot){function je(dt){this.id=gt++,Ke[this.id]=this,this.buffer=dt,this.primType=4,this.type=this.vertCount=0}function Ue(dt,Lt,wt,Ct,zt,Dt,Nt){var Kt;if(dt.buffer.bind(),Lt?((Kt=Nt)||xe(Lt)&&(!n(Lt)||xe(Lt.data))||(Kt=Je.oes_element_index_uint?5125:5123),ft._initBuffer(dt.buffer,Lt,wt,Kt,3)):(He.bufferData(34963,Dt,wt),dt.buffer.dtype=Kt||5121,dt.buffer.usage=wt,dt.buffer.dimension=3,dt.buffer.byteLength=Dt),Kt=Nt,!Nt){switch(dt.buffer.dtype){case 5121:case 5120:Kt=5121;break;case 5123:case 5122:Kt=5123;break;case 5125:case 5124:Kt=5125}dt.buffer.dtype=Kt}dt.type=Kt,0>(Lt=zt)&&(Lt=dt.buffer.byteLength,Kt===5123?Lt>>=1:Kt===5125&&(Lt>>=2)),dt.vertCount=Lt,Lt=Ct,0>Ct&&(Lt=4,(Ct=dt.buffer.dimension)===1&&(Lt=0),Ct===2&&(Lt=1),Ct===3&&(Lt=4)),dt.primType=Lt}function st(dt){ot.elementsCount--,delete Ke[dt.id],dt.buffer.destroy(),dt.buffer=null}var Ke={},gt=0,yt={uint8:5121,uint16:5123};Je.oes_element_index_uint&&(yt.uint32=5125),je.prototype.bind=function(){this.buffer.bind()};var bt=[];return{create:function(dt,Lt){function wt(Dt){if(Dt)if(typeof Dt=="number")Ct(Dt),zt.primType=4,zt.vertCount=0|Dt,zt.type=5121;else{var Nt=null,Kt=35044,un=-1,qt=-1,Jt=0,Ut=0;Array.isArray(Dt)||xe(Dt)||n(Dt)?Nt=Dt:("data"in Dt&&(Nt=Dt.data),"usage"in Dt&&(Kt=ye[Dt.usage]),"primitive"in Dt&&(un=Ce[Dt.primitive]),"count"in Dt&&(qt=0|Dt.count),"type"in Dt&&(Ut=yt[Dt.type]),"length"in Dt?Jt=0|Dt.length:(Jt=qt,Ut===5123||Ut===5122?Jt*=2:Ut!==5125&&Ut!==5124||(Jt*=4))),Ue(zt,Nt,Kt,un,qt,Jt,Ut)}else Ct(),zt.primType=4,zt.vertCount=0,zt.type=5121;return wt}var Ct=ft.create(null,34963,!0),zt=new je(Ct._buffer);return ot.elementsCount++,wt(dt),wt._reglType="elements",wt._elements=zt,wt.subdata=function(Dt,Nt){return Ct.subdata(Dt,Nt),wt},wt.destroy=function(){st(zt)},wt},createStream:function(dt){var Lt=bt.pop();return Lt||(Lt=new je(ft.create(null,34963,!0,!1)._buffer)),Ue(Lt,dt,35040,-1,-1,0,0),Lt},destroyStream:function(dt){bt.push(dt)},getElements:function(dt){return typeof dt=="function"&&dt._elements instanceof je?dt._elements:null},clear:function(){_e(Ke).forEach(st)}}}function c(He){for(var Je=pe.allocType(5123,He.length),ft=0;ft<He.length;++ft)if(isNaN(He[ft]))Je[ft]=65535;else if(He[ft]===1/0)Je[ft]=31744;else if(He[ft]===-1/0)Je[ft]=64512;else{ke[0]=He[ft];var ot=(Ue=Ae[0])>>>31<<15,je=(Ue<<1>>>24)-127,Ue=Ue>>13&1023;Je[ft]=-24>je?ot:-14>je?ot+(Ue+1024>>-14-je):15<je?ot+31744:ot+(je+15<<10)+Ue}return Je}function y(He){return Array.isArray(He)||xe(He)}function d(He){return"[object "+He+"]"}function v(He){return Array.isArray(He)&&(He.length===0||typeof He[0]=="number")}function g(He){return!(!Array.isArray(He)||He.length===0||!y(He[0]))}function x(He){return Object.prototype.toString.call(He)}function m(He){if(!He)return!1;var Je=x(He);return 0<=We.indexOf(Je)||v(He)||g(He)||n(He)}function _(He,Je){He.type===36193?(He.data=c(Je),pe.freeType(Je)):He.data=Je}function p(He,Je,ft,ot,je,Ue){if(He=lt[He]!==void 0?lt[He]:Fe[He]*Qe[Je],Ue&&(He*=6),je){for(ot=0;1<=ft;)ot+=He*ft*ft,ft/=2;return ot}return He*ft*ot}function S(He,Je,ft,ot,je,Ue,st){function Ke(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function gt(Qt,xn){Qt.internalformat=xn.internalformat,Qt.format=xn.format,Qt.type=xn.type,Qt.compressed=xn.compressed,Qt.premultiplyAlpha=xn.premultiplyAlpha,Qt.flipY=xn.flipY,Qt.unpackAlignment=xn.unpackAlignment,Qt.colorSpace=xn.colorSpace,Qt.width=xn.width,Qt.height=xn.height,Qt.channels=xn.channels}function yt(Qt,xn){if(typeof xn=="object"&&xn){"premultiplyAlpha"in xn&&(Qt.premultiplyAlpha=xn.premultiplyAlpha),"flipY"in xn&&(Qt.flipY=xn.flipY),"alignment"in xn&&(Qt.unpackAlignment=xn.alignment),"colorSpace"in xn&&(Qt.colorSpace=On[xn.colorSpace]),"type"in xn&&(Qt.type=En[xn.type]);var At=Qt.width,Wt=Qt.height,en=Qt.channels,dn=!1;"shape"in xn?(At=xn.shape[0],Wt=xn.shape[1],xn.shape.length===3&&(en=xn.shape[2],dn=!0)):("radius"in xn&&(At=Wt=xn.radius),"width"in xn&&(At=xn.width),"height"in xn&&(Wt=xn.height),"channels"in xn&&(en=xn.channels,dn=!0)),Qt.width=0|At,Qt.height=0|Wt,Qt.channels=0|en,At=!1,"format"in xn&&(At=xn.format,Wt=Qt.internalformat=Vn[At],Qt.format=In[Wt],At in En&&!("type"in xn)&&(Qt.type=En[At]),At in Fn&&(Qt.compressed=!0),At=!0),!dn&&At?Qt.channels=Fe[Qt.format]:dn&&!At&&Qt.channels!==ze[Qt.format]&&(Qt.format=Qt.internalformat=ze[Qt.channels])}}function bt(Qt){He.pixelStorei(37440,Qt.flipY),He.pixelStorei(37441,Qt.premultiplyAlpha),He.pixelStorei(37443,Qt.colorSpace),He.pixelStorei(3317,Qt.unpackAlignment)}function dt(){Ke.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lt(Qt,xn){var At=null;if(m(xn)?At=xn:xn&&(yt(Qt,xn),"x"in xn&&(Qt.xOffset=0|xn.x),"y"in xn&&(Qt.yOffset=0|xn.y),m(xn.data)&&(At=xn.data)),xn.copy){var Wt=je.viewportWidth,en=je.viewportHeight;Qt.width=Qt.width||Wt-Qt.xOffset,Qt.height=Qt.height||en-Qt.yOffset,Qt.needsCopy=!0}else if(At){if(xe(At))Qt.channels=Qt.channels||4,Qt.data=At,"type"in xn||Qt.type!==5121||(Qt.type=0|Le[Object.prototype.toString.call(At)]);else if(v(At)){switch(Qt.channels=Qt.channels||4,en=(Wt=At).length,Qt.type){case 5121:case 5123:case 5125:case 5126:(en=pe.allocType(Qt.type,en)).set(Wt),Qt.data=en;break;case 36193:Qt.data=c(Wt)}Qt.alignment=1,Qt.needsFree=!0}else if(n(At)){Wt=At.data,Array.isArray(Wt)||Qt.type!==5121||(Qt.type=0|Le[Object.prototype.toString.call(Wt)]),en=At.shape;var dn,gn,_n,on,Yt=At.stride;en.length===3?(_n=en[2],on=Yt[2]):on=_n=1,dn=en[0],gn=en[1],en=Yt[0],Yt=Yt[1],Qt.alignment=1,Qt.width=dn,Qt.height=gn,Qt.channels=_n,Qt.format=Qt.internalformat=ze[_n],Qt.needsFree=!0,dn=on,At=At.offset,_n=Qt.width,on=Qt.height,gn=Qt.channels;for(var Xt=pe.allocType(Qt.type===36193?5126:Qt.type,_n*on*gn),sn=0,hn=0;hn<on;++hn)for(var Sn=0;Sn<_n;++Sn)for(var Cn=0;Cn<gn;++Cn)Xt[sn++]=Wt[en*Sn+Yt*hn+dn*Cn+At];_(Qt,Xt)}else if(x(At)===ge||x(At)===Te||x(At)===Se)x(At)===ge||x(At)===Te?Qt.element=At:Qt.element=At.canvas,Qt.width=Qt.element.width,Qt.height=Qt.element.height,Qt.channels=4;else if(x(At)===Re)Qt.element=At,Qt.width=At.width,Qt.height=At.height,Qt.channels=4;else if(x(At)===Pe)Qt.element=At,Qt.width=At.naturalWidth,Qt.height=At.naturalHeight,Qt.channels=4;else if(x(At)===Ve)Qt.element=At,Qt.width=At.videoWidth,Qt.height=At.videoHeight,Qt.channels=4;else if(g(At)){for(Wt=Qt.width||At[0].length,en=Qt.height||At.length,Yt=Qt.channels,Yt=y(At[0][0])?Yt||At[0][0].length:Yt||1,dn=be.shape(At),_n=1,on=0;on<dn.length;++on)_n*=dn[on];_n=pe.allocType(Qt.type===36193?5126:Qt.type,_n),be.flatten(At,dn,"",_n),_(Qt,_n),Qt.alignment=1,Qt.width=Wt,Qt.height=en,Qt.channels=Yt,Qt.format=Qt.internalformat=ze[Yt],Qt.needsFree=!0}}else Qt.width=Qt.width||1,Qt.height=Qt.height||1,Qt.channels=Qt.channels||4}function wt(Qt,xn,At,Wt,en){var dn=Qt.element,gn=Qt.data,_n=Qt.internalformat,on=Qt.format,Yt=Qt.type,Xt=Qt.width,sn=Qt.height;bt(Qt),dn?He.texSubImage2D(xn,en,At,Wt,on,Yt,dn):Qt.compressed?He.compressedTexSubImage2D(xn,en,At,Wt,_n,Xt,sn,gn):Qt.needsCopy?(ot(),He.copyTexSubImage2D(xn,en,At,Wt,Qt.xOffset,Qt.yOffset,Xt,sn)):He.texSubImage2D(xn,en,At,Wt,Xt,sn,on,Yt,gn)}function Ct(){return yn.pop()||new dt}function zt(Qt){Qt.needsFree&&pe.freeType(Qt.data),dt.call(Qt),yn.push(Qt)}function Dt(){Ke.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Nt(Qt,xn,At){var Wt=Qt.images[0]=Ct();Qt.mipmask=1,Wt.width=Qt.width=xn,Wt.height=Qt.height=At,Wt.channels=Qt.channels=4}function Kt(Qt,xn){var At=null;if(m(xn))gt(At=Qt.images[0]=Ct(),Qt),Lt(At,xn),Qt.mipmask=1;else if(yt(Qt,xn),Array.isArray(xn.mipmap))for(var Wt=xn.mipmap,en=0;en<Wt.length;++en)gt(At=Qt.images[en]=Ct(),Qt),At.width>>=en,At.height>>=en,Lt(At,Wt[en]),Qt.mipmask|=1<<en;else gt(At=Qt.images[0]=Ct(),Qt),Lt(At,xn),Qt.mipmask=1;gt(Qt,Qt.images[0])}function un(Qt,xn){for(var At=Qt.images,Wt=0;Wt<At.length&&At[Wt];++Wt){var en=At[Wt],dn=xn,gn=Wt,_n=en.element,on=en.data,Yt=en.internalformat,Xt=en.format,sn=en.type,hn=en.width,Sn=en.height;bt(en),_n?He.texImage2D(dn,gn,Xt,Xt,sn,_n):en.compressed?He.compressedTexImage2D(dn,gn,Yt,hn,Sn,0,on):en.needsCopy?(ot(),He.copyTexImage2D(dn,gn,Xt,en.xOffset,en.yOffset,hn,Sn,0)):He.texImage2D(dn,gn,Xt,hn,Sn,0,Xt,sn,on||null)}}function qt(){var Qt=Dn.pop()||new Dt;Ke.call(Qt);for(var xn=Qt.mipmask=0;16>xn;++xn)Qt.images[xn]=null;return Qt}function Jt(Qt){for(var xn=Qt.images,At=0;At<xn.length;++At)xn[At]&&zt(xn[At]),xn[At]=null;Dn.push(Qt)}function Ut(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function zn(Qt,xn){"min"in xn&&(Qt.minFilter=Pn[xn.min],0<=Ee.indexOf(Qt.minFilter)&&!("faces"in xn)&&(Qt.genMipmaps=!0)),"mag"in xn&&(Qt.magFilter=kn[xn.mag]);var At=Qt.wrapS,Wt=Qt.wrapT;if("wrap"in xn){var en=xn.wrap;typeof en=="string"?At=Wt=wn[en]:Array.isArray(en)&&(At=wn[en[0]],Wt=wn[en[1]])}else"wrapS"in xn&&(At=wn[xn.wrapS]),"wrapT"in xn&&(Wt=wn[xn.wrapT]);if(Qt.wrapS=At,Qt.wrapT=Wt,"anisotropic"in xn&&(Qt.anisotropic=xn.anisotropic),"mipmap"in xn){switch(At=!1,typeof xn.mipmap){case"string":Qt.mipmapHint=pn[xn.mipmap],At=Qt.genMipmaps=!0;break;case"boolean":At=Qt.genMipmaps=xn.mipmap;break;case"object":Qt.genMipmaps=!1,At=!0}!At||"min"in xn||(Qt.minFilter=9984)}}function An(Qt,xn){He.texParameteri(xn,10241,Qt.minFilter),He.texParameteri(xn,10240,Qt.magFilter),He.texParameteri(xn,10242,Qt.wrapS),He.texParameteri(xn,10243,Qt.wrapT),Je.ext_texture_filter_anisotropic&&He.texParameteri(xn,34046,Qt.anisotropic),Qt.genMipmaps&&(He.hint(33170,Qt.mipmapHint),He.generateMipmap(xn))}function mn(Qt){Ke.call(this),this.mipmask=0,this.internalformat=6408,this.id=Zn++,this.refCount=1,this.target=Qt,this.texture=He.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ut,st.profile&&(this.stats={size:0})}function tn(Qt){He.activeTexture(33984),He.bindTexture(Qt.target,Qt.texture)}function fn(){var Qt=mr[0];Qt?He.bindTexture(Qt.target,Qt.texture):He.bindTexture(3553,null)}function rn(Qt){var xn=Qt.texture,At=Qt.unit,Wt=Qt.target;0<=At&&(He.activeTexture(33984+At),He.bindTexture(Wt,null),mr[At]=null),He.deleteTexture(xn),Qt.texture=null,Qt.params=null,Qt.pixels=null,Qt.refCount=0,delete Hn[Qt.id],Ue.textureCount--}var pn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},wn={repeat:10497,clamp:33071,mirror:33648},kn={nearest:9728,linear:9729},Pn=K({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kn),On={none:0,browser:37444},En={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Vn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Fn={};Je.ext_srgb&&(Vn.srgb=35904,Vn.srgba=35906),Je.oes_texture_float&&(En.float32=En.float=5126),Je.oes_texture_half_float&&(En.float16=En["half float"]=36193),Je.webgl_depth_texture&&(K(Vn,{depth:6402,"depth stencil":34041}),K(En,{uint16:5123,uint32:5125,"depth stencil":34042})),Je.webgl_compressed_texture_s3tc&&K(Fn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Je.webgl_compressed_texture_atc&&K(Fn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Je.webgl_compressed_texture_pvrtc&&K(Fn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Je.webgl_compressed_texture_etc1&&(Fn["rgb etc1"]=36196);var Wn=Array.prototype.slice.call(He.getParameter(34467));Object.keys(Fn).forEach(function(Qt){var xn=Fn[Qt];0<=Wn.indexOf(xn)&&(Vn[Qt]=xn)});var rr=Object.keys(Vn);ft.textureFormats=rr;var ir=[];Object.keys(Vn).forEach(function(Qt){ir[Vn[Qt]]=Qt});var Jn=[];Object.keys(En).forEach(function(Qt){Jn[En[Qt]]=Qt});var dr=[];Object.keys(kn).forEach(function(Qt){dr[kn[Qt]]=Qt});var nn=[];Object.keys(Pn).forEach(function(Qt){nn[Pn[Qt]]=Qt});var an=[];Object.keys(wn).forEach(function(Qt){an[wn[Qt]]=Qt});var In=rr.reduce(function(Qt,xn){var At=Vn[xn];return At===6409||At===6406||At===6409||At===6410||At===6402||At===34041||Je.ext_srgb&&(At===35904||At===35906)?Qt[At]=At:At===32855||0<=xn.indexOf("rgba")?Qt[At]=6408:Qt[At]=6407,Qt},{}),yn=[],Dn=[],Zn=0,Hn={},Qn=ft.maxTextureUnits,mr=Array(Qn).map(function(){return null});return K(mn.prototype,{bind:function(){this.bindCount+=1;var Qt=this.unit;if(0>Qt){for(var xn=0;xn<Qn;++xn){var At=mr[xn];if(At){if(0<At.bindCount)continue;At.unit=-1}mr[xn]=this,Qt=xn;break}st.profile&&Ue.maxTextureUnits<Qt+1&&(Ue.maxTextureUnits=Qt+1),this.unit=Qt,He.activeTexture(33984+Qt),He.bindTexture(this.target,this.texture)}return Qt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&rn(this)}}),st.profile&&(Ue.getTotalTextureSize=function(){var Qt=0;return Object.keys(Hn).forEach(function(xn){Qt+=Hn[xn].stats.size}),Qt}),{create2D:function(Qt,xn){function At(en,dn){var gn=Wt.texInfo;Ut.call(gn);var _n=qt();return typeof en=="number"?Nt(_n,0|en,typeof dn=="number"?0|dn:0|en):en?(zn(gn,en),Kt(_n,en)):Nt(_n,1,1),gn.genMipmaps&&(_n.mipmask=(_n.width<<1)-1),Wt.mipmask=_n.mipmask,gt(Wt,_n),Wt.internalformat=_n.internalformat,At.width=_n.width,At.height=_n.height,tn(Wt),un(_n,3553),An(gn,3553),fn(),Jt(_n),st.profile&&(Wt.stats.size=p(Wt.internalformat,Wt.type,_n.width,_n.height,gn.genMipmaps,!1)),At.format=ir[Wt.internalformat],At.type=Jn[Wt.type],At.mag=dr[gn.magFilter],At.min=nn[gn.minFilter],At.wrapS=an[gn.wrapS],At.wrapT=an[gn.wrapT],At}var Wt=new mn(3553);return Hn[Wt.id]=Wt,Ue.textureCount++,At(Qt,xn),At.subimage=function(en,dn,gn,_n){dn|=0,gn|=0,_n|=0;var on=Ct();return gt(on,Wt),on.width=0,on.height=0,Lt(on,en),on.width=on.width||(Wt.width>>_n)-dn,on.height=on.height||(Wt.height>>_n)-gn,tn(Wt),wt(on,3553,dn,gn,_n),fn(),zt(on),At},At.resize=function(en,dn){var gn=0|en,_n=0|dn||gn;if(gn===Wt.width&&_n===Wt.height)return At;At.width=Wt.width=gn,At.height=Wt.height=_n,tn(Wt);for(var on=0;Wt.mipmask>>on;++on){var Yt=gn>>on,Xt=_n>>on;if(!Yt||!Xt)break;He.texImage2D(3553,on,Wt.format,Yt,Xt,0,Wt.format,Wt.type,null)}return fn(),st.profile&&(Wt.stats.size=p(Wt.internalformat,Wt.type,gn,_n,!1,!1)),At},At._reglType="texture2d",At._texture=Wt,st.profile&&(At.stats=Wt.stats),At.destroy=function(){Wt.decRef()},At},createCube:function(Qt,xn,At,Wt,en,dn){function gn(Yt,Xt,sn,hn,Sn,Cn){var Un,qn=_n.texInfo;for(Ut.call(qn),Un=0;6>Un;++Un)on[Un]=qt();if(typeof Yt!="number"&&Yt){if(typeof Yt=="object")if(Xt)Kt(on[0],Yt),Kt(on[1],Xt),Kt(on[2],sn),Kt(on[3],hn),Kt(on[4],Sn),Kt(on[5],Cn);else if(zn(qn,Yt),yt(_n,Yt),"faces"in Yt)for(Yt=Yt.faces,Un=0;6>Un;++Un)gt(on[Un],_n),Kt(on[Un],Yt[Un]);else for(Un=0;6>Un;++Un)Kt(on[Un],Yt)}else for(Yt=0|Yt||1,Un=0;6>Un;++Un)Nt(on[Un],Yt,Yt);for(gt(_n,on[0]),_n.mipmask=qn.genMipmaps?(on[0].width<<1)-1:on[0].mipmask,_n.internalformat=on[0].internalformat,gn.width=on[0].width,gn.height=on[0].height,tn(_n),Un=0;6>Un;++Un)un(on[Un],34069+Un);for(An(qn,34067),fn(),st.profile&&(_n.stats.size=p(_n.internalformat,_n.type,gn.width,gn.height,qn.genMipmaps,!0)),gn.format=ir[_n.internalformat],gn.type=Jn[_n.type],gn.mag=dr[qn.magFilter],gn.min=nn[qn.minFilter],gn.wrapS=an[qn.wrapS],gn.wrapT=an[qn.wrapT],Un=0;6>Un;++Un)Jt(on[Un]);return gn}var _n=new mn(34067);Hn[_n.id]=_n,Ue.cubeCount++;var on=Array(6);return gn(Qt,xn,At,Wt,en,dn),gn.subimage=function(Yt,Xt,sn,hn,Sn){sn|=0,hn|=0,Sn|=0;var Cn=Ct();return gt(Cn,_n),Cn.width=0,Cn.height=0,Lt(Cn,Xt),Cn.width=Cn.width||(_n.width>>Sn)-sn,Cn.height=Cn.height||(_n.height>>Sn)-hn,tn(_n),wt(Cn,34069+Yt,sn,hn,Sn),fn(),zt(Cn),gn},gn.resize=function(Yt){if((Yt|=0)!==_n.width){gn.width=_n.width=Yt,gn.height=_n.height=Yt,tn(_n);for(var Xt=0;6>Xt;++Xt)for(var sn=0;_n.mipmask>>sn;++sn)He.texImage2D(34069+Xt,sn,_n.format,Yt>>sn,Yt>>sn,0,_n.format,_n.type,null);return fn(),st.profile&&(_n.stats.size=p(_n.internalformat,_n.type,gn.width,gn.height,!1,!0)),gn}},gn._reglType="textureCube",gn._texture=_n,st.profile&&(gn.stats=_n.stats),gn.destroy=function(){_n.decRef()},gn},clear:function(){for(var Qt=0;Qt<Qn;++Qt)He.activeTexture(33984+Qt),He.bindTexture(3553,null),mr[Qt]=null;_e(Hn).forEach(rn),Ue.cubeCount=0,Ue.textureCount=0},getTexture:function(Qt){return null},restore:function(){for(var Qt=0;Qt<Qn;++Qt){var xn=mr[Qt];xn&&(xn.bindCount=0,xn.unit=-1,mr[Qt]=null)}_e(Hn).forEach(function(At){At.texture=He.createTexture(),He.bindTexture(At.target,At.texture);for(var Wt=0;32>Wt;++Wt)if(At.mipmask&1<<Wt)if(At.target===3553)He.texImage2D(3553,Wt,At.internalformat,At.width>>Wt,At.height>>Wt,0,At.internalformat,At.type,null);else for(var en=0;6>en;++en)He.texImage2D(34069+en,Wt,At.internalformat,At.width>>Wt,At.height>>Wt,0,At.internalformat,At.type,null);An(At.texInfo,At.target)})},refresh:function(){for(var Qt=0;Qt<Qn;++Qt){var xn=mr[Qt];xn&&(xn.bindCount=0,xn.unit=-1,mr[Qt]=null),He.activeTexture(33984+Qt),He.bindTexture(3553,null),He.bindTexture(34067,null)}}}}function T(He,Je,ft,ot,je,Ue){function st(mn,tn,fn){this.target=mn,this.texture=tn,this.renderbuffer=fn;var rn=mn=0;tn?(mn=tn.width,rn=tn.height):fn&&(mn=fn.width,rn=fn.height),this.width=mn,this.height=rn}function Ke(mn){mn&&(mn.texture&&mn.texture._texture.decRef(),mn.renderbuffer&&mn.renderbuffer._renderbuffer.decRef())}function gt(mn,tn,fn){mn&&(mn.texture?mn.texture._texture.refCount+=1:mn.renderbuffer._renderbuffer.refCount+=1)}function yt(mn,tn){tn&&(tn.texture?He.framebufferTexture2D(36160,mn,tn.target,tn.texture._texture.texture,0):He.framebufferRenderbuffer(36160,mn,36161,tn.renderbuffer._renderbuffer.renderbuffer))}function bt(mn){var tn=3553,fn=null,rn=null,pn=mn;return typeof mn=="object"&&(pn=mn.data,"target"in mn&&(tn=0|mn.target)),(mn=pn._reglType)==="texture2d"||mn==="textureCube"?fn=pn:mn==="renderbuffer"&&(rn=pn,tn=36161),new st(tn,fn,rn)}function dt(mn,tn,fn,rn,pn){return fn?((mn=ot.create2D({width:mn,height:tn,format:rn,type:pn}))._texture.refCount=0,new st(3553,mn,null)):((mn=je.create({width:mn,height:tn,format:rn}))._renderbuffer.refCount=0,new st(36161,null,mn))}function Lt(mn){return mn&&(mn.texture||mn.renderbuffer)}function wt(mn,tn,fn){mn&&(mn.texture?mn.texture.resize(tn,fn):mn.renderbuffer&&mn.renderbuffer.resize(tn,fn),mn.width=tn,mn.height=fn)}function Ct(){this.id=zn++,An[this.id]=this,this.framebuffer=He.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function zt(mn){mn.colorAttachments.forEach(Ke),Ke(mn.depthAttachment),Ke(mn.stencilAttachment),Ke(mn.depthStencilAttachment)}function Dt(mn){He.deleteFramebuffer(mn.framebuffer),mn.framebuffer=null,Ue.framebufferCount--,delete An[mn.id]}function Nt(mn){var tn;He.bindFramebuffer(36160,mn.framebuffer);var fn=mn.colorAttachments;for(tn=0;tn<fn.length;++tn)yt(36064+tn,fn[tn]);for(tn=fn.length;tn<ft.maxColorAttachments;++tn)He.framebufferTexture2D(36160,36064+tn,3553,null,0);He.framebufferTexture2D(36160,33306,3553,null,0),He.framebufferTexture2D(36160,36096,3553,null,0),He.framebufferTexture2D(36160,36128,3553,null,0),yt(36096,mn.depthAttachment),yt(36128,mn.stencilAttachment),yt(33306,mn.depthStencilAttachment),He.checkFramebufferStatus(36160),He.isContextLost(),He.bindFramebuffer(36160,un.next?un.next.framebuffer:null),un.cur=un.next,He.getError()}function Kt(mn,tn){function fn(pn,wn){var kn,Pn=0,On=0,En=!0,Vn=!0;kn=null;var Fn=!0,Wn="rgba",rr="uint8",ir=1,Jn=null,dr=null,nn=null,an=!1;typeof pn=="number"?(Pn=0|pn,On=0|wn||Pn):pn?("shape"in pn?(Pn=(On=pn.shape)[0],On=On[1]):("radius"in pn&&(Pn=On=pn.radius),"width"in pn&&(Pn=pn.width),"height"in pn&&(On=pn.height)),("color"in pn||"colors"in pn)&&(kn=pn.color||pn.colors,Array.isArray(kn)),kn||("colorCount"in pn&&(ir=0|pn.colorCount),"colorTexture"in pn&&(Fn=!!pn.colorTexture,Wn="rgba4"),"colorType"in pn&&(rr=pn.colorType,!Fn)&&(rr==="half float"||rr==="float16"?Wn="rgba16f":rr!=="float"&&rr!=="float32"||(Wn="rgba32f")),"colorFormat"in pn&&(Wn=pn.colorFormat,0<=qt.indexOf(Wn)?Fn=!0:0<=Jt.indexOf(Wn)&&(Fn=!1))),("depthTexture"in pn||"depthStencilTexture"in pn)&&(an=!(!pn.depthTexture&&!pn.depthStencilTexture)),"depth"in pn&&(typeof pn.depth=="boolean"?En=pn.depth:(Jn=pn.depth,Vn=!1)),"stencil"in pn&&(typeof pn.stencil=="boolean"?Vn=pn.stencil:(dr=pn.stencil,En=!1)),"depthStencil"in pn&&(typeof pn.depthStencil=="boolean"?En=Vn=pn.depthStencil:(nn=pn.depthStencil,Vn=En=!1))):Pn=On=1;var In=null,yn=null,Dn=null,Zn=null;if(Array.isArray(kn))In=kn.map(bt);else if(kn)In=[bt(kn)];else for(In=Array(ir),kn=0;kn<ir;++kn)In[kn]=dt(Pn,On,Fn,Wn,rr);for(Pn=Pn||In[0].width,On=On||In[0].height,Jn?yn=bt(Jn):En&&!Vn&&(yn=dt(Pn,On,an,"depth","uint32")),dr?Dn=bt(dr):Vn&&!En&&(Dn=dt(Pn,On,!1,"stencil","uint8")),nn?Zn=bt(nn):!Jn&&!dr&&Vn&&En&&(Zn=dt(Pn,On,an,"depth stencil","depth stencil")),En=null,kn=0;kn<In.length;++kn)gt(In[kn]),In[kn]&&In[kn].texture&&(Vn=_t[In[kn].texture._texture.format]*mt[In[kn].texture._texture.type],En===null&&(En=Vn));return gt(yn),gt(Dn),gt(Zn),zt(rn),rn.width=Pn,rn.height=On,rn.colorAttachments=In,rn.depthAttachment=yn,rn.stencilAttachment=Dn,rn.depthStencilAttachment=Zn,fn.color=In.map(Lt),fn.depth=Lt(yn),fn.stencil=Lt(Dn),fn.depthStencil=Lt(Zn),fn.width=rn.width,fn.height=rn.height,Nt(rn),fn}var rn=new Ct;return Ue.framebufferCount++,fn(mn,tn),K(fn,{resize:function(pn,wn){var kn=Math.max(0|pn,1),Pn=Math.max(0|wn||kn,1);if(kn===rn.width&&Pn===rn.height)return fn;for(var On=rn.colorAttachments,En=0;En<On.length;++En)wt(On[En],kn,Pn);return wt(rn.depthAttachment,kn,Pn),wt(rn.stencilAttachment,kn,Pn),wt(rn.depthStencilAttachment,kn,Pn),rn.width=fn.width=kn,rn.height=fn.height=Pn,Nt(rn),fn},_reglType:"framebuffer",_framebuffer:rn,destroy:function(){Dt(rn),zt(rn)},use:function(pn){un.setFBO({framebuffer:fn},pn)}})}var un={cur:null,next:null,dirty:!1,setFBO:null},qt=["rgba"],Jt=["rgba4","rgb565","rgb5 a1"];Je.ext_srgb&&Jt.push("srgba"),Je.ext_color_buffer_half_float&&Jt.push("rgba16f","rgb16f"),Je.webgl_color_buffer_float&&Jt.push("rgba32f");var Ut=["uint8"];Je.oes_texture_half_float&&Ut.push("half float","float16"),Je.oes_texture_float&&Ut.push("float","float32");var zn=0,An={};return K(un,{getFramebuffer:function(mn){return typeof mn=="function"&&mn._reglType==="framebuffer"&&(mn=mn._framebuffer)instanceof Ct?mn:null},create:Kt,createCube:function(mn){function tn(rn){var pn,wn={color:null},kn=0,Pn=null;pn="rgba";var On="uint8",En=1;if(typeof rn=="number"?kn=0|rn:rn?("shape"in rn?kn=rn.shape[0]:("radius"in rn&&(kn=0|rn.radius),"width"in rn?kn=0|rn.width:"height"in rn&&(kn=0|rn.height)),("color"in rn||"colors"in rn)&&(Pn=rn.color||rn.colors,Array.isArray(Pn)),Pn||("colorCount"in rn&&(En=0|rn.colorCount),"colorType"in rn&&(On=rn.colorType),"colorFormat"in rn&&(pn=rn.colorFormat)),"depth"in rn&&(wn.depth=rn.depth),"stencil"in rn&&(wn.stencil=rn.stencil),"depthStencil"in rn&&(wn.depthStencil=rn.depthStencil)):kn=1,Pn)if(Array.isArray(Pn))for(rn=[],pn=0;pn<Pn.length;++pn)rn[pn]=Pn[pn];else rn=[Pn];else for(rn=Array(En),Pn={radius:kn,format:pn,type:On},pn=0;pn<En;++pn)rn[pn]=ot.createCube(Pn);for(wn.color=Array(rn.length),pn=0;pn<rn.length;++pn)En=rn[pn],kn=kn||En.width,wn.color[pn]={target:34069,data:rn[pn]};for(pn=0;6>pn;++pn){for(En=0;En<rn.length;++En)wn.color[En].target=34069+pn;0<pn&&(wn.depth=fn[0].depth,wn.stencil=fn[0].stencil,wn.depthStencil=fn[0].depthStencil),fn[pn]?fn[pn](wn):fn[pn]=Kt(wn)}return K(tn,{width:kn,height:kn,color:rn})}var fn=Array(6);return tn(mn),K(tn,{faces:fn,resize:function(rn){var pn=0|rn;if(pn===tn.width)return tn;var wn=tn.color;for(rn=0;rn<wn.length;++rn)wn[rn].resize(pn);for(rn=0;6>rn;++rn)fn[rn].resize(pn);return tn.width=tn.height=pn,tn},_reglType:"framebufferCube",destroy:function(){fn.forEach(function(rn){rn.destroy()})}})},clear:function(){_e(An).forEach(Dt)},restore:function(){un.cur=null,un.next=null,un.dirty=!0,_e(An).forEach(function(mn){mn.framebuffer=He.createFramebuffer(),Nt(mn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(He,Je,ft,ot,je,Ue,st){function Ke(){this.id=++bt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var wt=Je.oes_vertex_array_object;this.vao=wt?wt.createVertexArrayOES():null,dt[this.id]=this,this.buffers=[]}var gt=ft.maxAttributes,yt=Array(gt);for(ft=0;ft<gt;++ft)yt[ft]=new E;var bt=0,dt={},Lt={Record:E,scope:{},state:yt,currentVAO:null,targetVAO:null,restore:Je.oes_vertex_array_object?function(){Je.oes_vertex_array_object&&_e(dt).forEach(function(wt){wt.refresh()})}:function(){},createVAO:function(wt){function Ct(Dt){var Nt;Array.isArray(Dt)?(Nt=Dt,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(Dt.elements?(Nt=Dt.elements,zt.ownsElements?(typeof Nt=="function"&&Nt._reglType==="elements"?zt.elements.destroy():zt.elements(Nt),zt.ownsElements=!1):Ue.getElements(Dt.elements)?(zt.elements=Dt.elements,zt.ownsElements=!1):(zt.elements=Ue.create(Dt.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Nt=Dt.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in Dt&&(zt.offset=0|Dt.offset),"count"in Dt&&(zt.count=0|Dt.count),"instances"in Dt&&(zt.instances=0|Dt.instances),"primitive"in Dt&&(zt.primitive=Ce[Dt.primitive])),Dt={};var Kt=zt.attributes;Kt.length=Nt.length;for(var un=0;un<Nt.length;++un){var qt,Jt=Nt[un],Ut=Kt[un]=new E,zn=Jt.data||Jt;Array.isArray(zn)||xe(zn)||n(zn)?(zt.buffers[un]&&(qt=zt.buffers[un],xe(zn)&&qt._buffer.byteLength>=zn.byteLength?qt.subdata(zn):(qt.destroy(),zt.buffers[un]=null)),zt.buffers[un]||(qt=zt.buffers[un]=je.create(Jt,34962,!1,!0)),Ut.buffer=je.getBuffer(qt),Ut.size=0|Ut.buffer.dimension,Ut.normalized=!1,Ut.type=Ut.buffer.dtype,Ut.offset=0,Ut.stride=0,Ut.divisor=0,Ut.state=1,Dt[un]=1):je.getBuffer(Jt)?(Ut.buffer=je.getBuffer(Jt),Ut.size=0|Ut.buffer.dimension,Ut.normalized=!1,Ut.type=Ut.buffer.dtype,Ut.offset=0,Ut.stride=0,Ut.divisor=0,Ut.state=1):je.getBuffer(Jt.buffer)?(Ut.buffer=je.getBuffer(Jt.buffer),Ut.size=0|(+Jt.size||Ut.buffer.dimension),Ut.normalized=!!Jt.normalized||!1,Ut.type="type"in Jt?De[Jt.type]:Ut.buffer.dtype,Ut.offset=0|(Jt.offset||0),Ut.stride=0|(Jt.stride||0),Ut.divisor=0|(Jt.divisor||0),Ut.state=1):"x"in Jt&&(Ut.x=+Jt.x||0,Ut.y=+Jt.y||0,Ut.z=+Jt.z||0,Ut.w=+Jt.w||0,Ut.state=2)}for(qt=0;qt<zt.buffers.length;++qt)!Dt[qt]&&zt.buffers[qt]&&(zt.buffers[qt].destroy(),zt.buffers[qt]=null);return zt.refresh(),Ct}var zt=new Ke;return ot.vaoCount+=1,Ct.destroy=function(){for(var Dt=0;Dt<zt.buffers.length;++Dt)zt.buffers[Dt]&&zt.buffers[Dt].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},Ct._vao=zt,Ct._reglType="vao",Ct(wt)},getVAO:function(wt){return typeof wt=="function"&&wt._vao?wt._vao:null},destroyBuffer:function(wt){for(var Ct=0;Ct<yt.length;++Ct){var zt=yt[Ct];zt.buffer===wt&&(He.disableVertexAttribArray(Ct),zt.buffer=null)}},setVAO:Je.oes_vertex_array_object?function(wt){if(wt!==Lt.currentVAO){var Ct=Je.oes_vertex_array_object;wt?Ct.bindVertexArrayOES(wt.vao):Ct.bindVertexArrayOES(null),Lt.currentVAO=wt}}:function(wt){if(wt!==Lt.currentVAO){if(wt)wt.bindAttrs();else{for(var Ct=Je.angle_instanced_arrays,zt=0;zt<yt.length;++zt){var Dt=yt[zt];Dt.buffer?(He.enableVertexAttribArray(zt),Dt.buffer.bind(),He.vertexAttribPointer(zt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),Ct&&Dt.divisor&&Ct.vertexAttribDivisorANGLE(zt,Dt.divisor)):(He.disableVertexAttribArray(zt),He.vertexAttrib4f(zt,Dt.x,Dt.y,Dt.z,Dt.w))}st.elements?He.bindBuffer(34963,st.elements.buffer.buffer):He.bindBuffer(34963,null)}Lt.currentVAO=wt}},clear:Je.oes_vertex_array_object?function(){_e(dt).forEach(function(wt){wt.destroy()})}:function(){}};return Ke.prototype.bindAttrs=function(){for(var wt=Je.angle_instanced_arrays,Ct=this.attributes,zt=0;zt<Ct.length;++zt){var Dt=Ct[zt];Dt.buffer?(He.enableVertexAttribArray(zt),He.bindBuffer(34962,Dt.buffer.buffer),He.vertexAttribPointer(zt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),wt&&Dt.divisor&&wt.vertexAttribDivisorANGLE(zt,Dt.divisor)):(He.disableVertexAttribArray(zt),He.vertexAttrib4f(zt,Dt.x,Dt.y,Dt.z,Dt.w))}for(wt=Ct.length;wt<gt;++wt)He.disableVertexAttribArray(wt);(wt=Ue.getElements(this.elements))?He.bindBuffer(34963,wt.buffer.buffer):He.bindBuffer(34963,null)},Ke.prototype.refresh=function(){var wt=Je.oes_vertex_array_object;wt&&(wt.bindVertexArrayOES(this.vao),this.bindAttrs(),Lt.currentVAO=null,wt.bindVertexArrayOES(null))},Ke.prototype.destroy=function(){if(this.vao){var wt=Je.oes_vertex_array_object;this===Lt.currentVAO&&(Lt.currentVAO=null,wt.bindVertexArrayOES(null)),wt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),dt[this.id]&&(delete dt[this.id],--ot.vaoCount)},Lt}function P(He,Je,ft,ot){function je(Ct,zt,Dt,Nt){this.name=Ct,this.id=zt,this.location=Dt,this.info=Nt}function Ue(Ct,zt){for(var Dt=0;Dt<Ct.length;++Dt)if(Ct[Dt].id===zt.id)return void(Ct[Dt].location=zt.location);Ct.push(zt)}function st(Ct,zt,Dt){if(!(Kt=(Dt=Ct===35632?yt:bt)[zt])){var Nt=Je.str(zt),Kt=He.createShader(Ct);He.shaderSource(Kt,Nt),He.compileShader(Kt),Dt[zt]=Kt}return Kt}function Ke(Ct,zt){this.id=wt++,this.fragId=Ct,this.vertId=zt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ot.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gt(Ct,zt,Dt){var Nt;Nt=st(35632,Ct.fragId);var Kt=st(35633,Ct.vertId);if(zt=Ct.program=He.createProgram(),He.attachShader(zt,Nt),He.attachShader(zt,Kt),Dt)for(Nt=0;Nt<Dt.length;++Nt)Kt=Dt[Nt],He.bindAttribLocation(zt,Kt[0],Kt[1]);He.linkProgram(zt),Kt=He.getProgramParameter(zt,35718),ot.profile&&(Ct.stats.uniformsCount=Kt);var un=Ct.uniforms;for(Nt=0;Nt<Kt;++Nt)if(Dt=He.getActiveUniform(zt,Nt))if(1<Dt.size)for(var qt=0;qt<Dt.size;++qt){var Jt=Dt.name.replace("[0]","["+qt+"]");Ue(un,new je(Jt,Je.id(Jt),He.getUniformLocation(zt,Jt),Dt))}else Ue(un,new je(Dt.name,Je.id(Dt.name),He.getUniformLocation(zt,Dt.name),Dt));for(Kt=He.getProgramParameter(zt,35721),ot.profile&&(Ct.stats.attributesCount=Kt),Ct=Ct.attributes,Nt=0;Nt<Kt;++Nt)(Dt=He.getActiveAttrib(zt,Nt))&&Ue(Ct,new je(Dt.name,Je.id(Dt.name),He.getAttribLocation(zt,Dt.name),Dt))}var yt={},bt={},dt={},Lt=[],wt=0;return ot.profile&&(ft.getMaxUniformsCount=function(){var Ct=0;return Lt.forEach(function(zt){zt.stats.uniformsCount>Ct&&(Ct=zt.stats.uniformsCount)}),Ct},ft.getMaxAttributesCount=function(){var Ct=0;return Lt.forEach(function(zt){zt.stats.attributesCount>Ct&&(Ct=zt.stats.attributesCount)}),Ct}),{clear:function(){var Ct=He.deleteShader.bind(He);_e(yt).forEach(Ct),yt={},_e(bt).forEach(Ct),bt={},Lt.forEach(function(zt){He.deleteProgram(zt.program)}),Lt.length=0,dt={},ft.shaderCount=0},program:function(Ct,zt,Dt,Nt){var Kt=dt[zt];Kt||(Kt=dt[zt]={});var un=Kt[Ct];if(un&&(un.refCount++,!Nt))return un;var qt=new Ke(zt,Ct);return ft.shaderCount++,gt(qt,Dt,Nt),un||(Kt[Ct]=qt),Lt.push(qt),K(qt,{destroy:function(){if(qt.refCount--,0>=qt.refCount){He.deleteProgram(qt.program);var Jt=Lt.indexOf(qt);Lt.splice(Jt,1),ft.shaderCount--}0>=Kt[qt.vertId].refCount&&(He.deleteShader(bt[qt.vertId]),delete bt[qt.vertId],delete dt[qt.fragId][qt.vertId]),Object.keys(dt[qt.fragId]).length||(He.deleteShader(yt[qt.fragId]),delete yt[qt.fragId],delete dt[qt.fragId])}})},restore:function(){yt={},bt={};for(var Ct=0;Ct<Lt.length;++Ct)gt(Lt[Ct],null,Lt[Ct].attributes.map(function(zt){return[zt.location,zt.name]}))},shader:st,frag:-1,vert:-1}}function I(He,Je,ft,ot,je,Ue,st){function Ke(gt){var yt;yt=Je.next===null?5121:Je.next.colorAttachments[0].texture._texture.type;var bt=0,dt=0,Lt=ot.framebufferWidth,wt=ot.framebufferHeight,Ct=null;return xe(gt)?Ct=gt:gt&&(bt=0|gt.x,dt=0|gt.y,Lt=0|(gt.width||ot.framebufferWidth-bt),wt=0|(gt.height||ot.framebufferHeight-dt),Ct=gt.data||null),ft(),gt=Lt*wt*4,Ct||(yt===5121?Ct=new Uint8Array(gt):yt===5126&&(Ct=Ct||new Float32Array(gt))),He.pixelStorei(3333,4),He.readPixels(bt,dt,Lt,wt,6408,yt,Ct),Ct}return function(gt){return gt&&"framebuffer"in gt?function(yt){var bt;return Je.setFBO({framebuffer:yt.framebuffer},function(){bt=Ke(yt)}),bt}(gt):Ke(gt)}}function R(He,Je){return He>>>Je|He<<32-Je}function H(He,Je){var ft=(65535&He)+(65535&Je);return(He>>16)+(Je>>16)+(ft>>16)<<16|65535&ft}function z(He){return Array.prototype.slice.call(He)}function j(He){return z(He).join("")}function Z(He){function Je(){var bt=[],dt=[];return K(function(){bt.push.apply(bt,z(arguments))},{def:function(){var Lt="v"+je++;return dt.push(Lt),0<arguments.length&&(bt.push(Lt,"="),bt.push.apply(bt,z(arguments)),bt.push(";")),Lt},toString:function(){return j([0<dt.length?"var "+dt.join(",")+";":"",j(bt)])}})}function ft(){function bt(zt,Dt){Lt(zt,Dt,"=",dt.def(zt,Dt),";")}var dt=Je(),Lt=Je(),wt=dt.toString,Ct=Lt.toString;return K(function(){dt.apply(dt,z(arguments))},{def:dt.def,entry:dt,exit:Lt,save:bt,set:function(zt,Dt,Nt){bt(zt,Dt),dt(zt,Dt,"=",Nt,";")},toString:function(){return wt()+Ct()}})}var ot=He&&He.cache,je=0,Ue=[],st=[],Ke=[],gt=Je(),yt={};return{global:gt,link:function(bt,dt){var Lt=dt&&dt.stable;if(!Lt){for(var wt=0;wt<st.length;++wt)if(st[wt]===bt&&!Ke[wt])return Ue[wt]}return wt="g"+je++,Ue.push(wt),st.push(bt),Ke.push(Lt),wt},block:Je,proc:function(bt,dt){function Lt(){var Dt="a"+wt.length;return wt.push(Dt),Dt}var wt=[];dt=dt||0;for(var Ct=0;Ct<dt;++Ct)Lt();var zt=(Ct=ft()).toString;return yt[bt]=K(Ct,{arg:Lt,toString:function(){return j(["function(",wt.join(),"){",zt(),"}"])}})},scope:ft,cond:function(){var bt=j(arguments),dt=ft(),Lt=ft(),wt=dt.toString,Ct=Lt.toString;return K(dt,{then:function(){return dt.apply(dt,z(arguments)),this},else:function(){return Lt.apply(Lt,z(arguments)),this},toString:function(){var zt=Ct();return zt&&(zt="else{"+zt+"}"),j(["if(",bt,"){",wt(),"}",zt])}})},compile:function(){var bt=['"use strict";',gt,"return {"];Object.keys(yt).forEach(function(wt){bt.push('"',wt,'":',yt[wt].toString(),",")}),bt.push("}");var dt,Lt=j(bt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return ot&&(dt=function(wt){for(var Ct,zt="",Dt=0;Dt<wt.length;Dt++)Ct=wt.charCodeAt(Dt),zt+="0123456789abcdef".charAt(Ct>>>4&15)+"0123456789abcdef".charAt(15&Ct);return zt}(function(wt){for(var Ct=Array(wt.length>>2),zt=0;zt<Ct.length;zt++)Ct[zt]=0;for(zt=0;zt<8*wt.length;zt+=8)Ct[zt>>5]|=(255&wt.charCodeAt(zt/8))<<24-zt%32;var Dt,Nt,Kt,un,qt,Jt,Ut,zn,An,mn,tn,fn=8*wt.length;for(wt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],zt=Array(64),Ct[fn>>5]|=128<<24-fn%32,Ct[15+(fn+64>>9<<4)]=fn,zn=0;zn<Ct.length;zn+=16){for(fn=wt[0],Dt=wt[1],Nt=wt[2],Kt=wt[3],un=wt[4],qt=wt[5],Jt=wt[6],Ut=wt[7],An=0;64>An;An++){var rn;16>An?zt[An]=Ct[An+zn]:(mn=An,tn=H(tn=R(tn=zt[An-2],17)^R(tn,19)^tn>>>10,zt[An-7]),rn=R(rn=zt[An-15],7)^R(rn,18)^rn>>>3,zt[mn]=H(H(tn,rn),zt[An-16])),mn=H(H(H(H(Ut,mn=R(mn=un,6)^R(mn,11)^R(mn,25)),un&qt^~un&Jt),it[An]),zt[An]),tn=H(Ut=R(Ut=fn,2)^R(Ut,13)^R(Ut,22),fn&Dt^fn&Nt^Dt&Nt),Ut=Jt,Jt=qt,qt=un,un=H(Kt,mn),Kt=Nt,Nt=Dt,Dt=fn,fn=H(mn,tn)}wt[0]=H(fn,wt[0]),wt[1]=H(Dt,wt[1]),wt[2]=H(Nt,wt[2]),wt[3]=H(Kt,wt[3]),wt[4]=H(un,wt[4]),wt[5]=H(qt,wt[5]),wt[6]=H(Jt,wt[6]),wt[7]=H(Ut,wt[7])}for(Ct="",zt=0;zt<32*wt.length;zt+=8)Ct+=String.fromCharCode(wt[zt>>5]>>>24-zt%32&255);return Ct}(function(wt){for(var Ct,zt,Dt="",Nt=-1;++Nt<wt.length;)Ct=wt.charCodeAt(Nt),zt=Nt+1<wt.length?wt.charCodeAt(Nt+1):0,55296<=Ct&&56319>=Ct&&56320<=zt&&57343>=zt&&(Ct=65536+((1023&Ct)<<10)+(1023&zt),Nt++),127>=Ct?Dt+=String.fromCharCode(Ct):2047>=Ct?Dt+=String.fromCharCode(192|Ct>>>6&31,128|63&Ct):65535>=Ct?Dt+=String.fromCharCode(224|Ct>>>12&15,128|Ct>>>6&63,128|63&Ct):2097151>=Ct&&(Dt+=String.fromCharCode(240|Ct>>>18&7,128|Ct>>>12&63,128|Ct>>>6&63,128|63&Ct));return Dt}(Lt))),ot[dt])?ot[dt].apply(null,st):(Lt=Function.apply(null,Ue.concat(Lt)),ot&&(ot[dt]=Lt),Lt.apply(null,st))}}}function F(He){return Array.isArray(He)||xe(He)||n(He)}function V(He){return He.sort(function(Je,ft){return Je==="viewport"?-1:ft==="viewport"?1:Je<ft?-1:1})}function W(He,Je,ft,ot){this.thisDep=He,this.contextDep=Je,this.propDep=ft,this.append=ot}function re(He){return He&&!(He.thisDep||He.contextDep||He.propDep)}function ne(He){return new W(!1,!1,!1,He)}function te(He,Je){var ft=He.type;if(ft===0)return new W(!0,1<=(ft=He.data.length),2<=ft,Je);if(ft===4)return new W((ft=He.data).thisDep,ft.contextDep,ft.propDep,Je);if(ft===5)return new W(!1,!1,!1,Je);if(ft===6){for(var ot=ft=!1,je=!1,Ue=0;Ue<He.data.length;++Ue){var st=He.data[Ue];st.type===1?je=!0:st.type===2?ot=!0:st.type===3?ft=!0:st.type===0?(ft=!0,1<=(st=st.data)&&(ot=!0),2<=st&&(je=!0)):st.type===4&&(ft=ft||st.data.thisDep,ot=ot||st.data.contextDep,je=je||st.data.propDep)}return new W(ft,ot,je,Je)}return new W(ft===3,ft===2,ft===1,Je)}function Q(He,Je,ft,ot,je,Ue,st,Ke,gt,yt,bt,dt,Lt,wt,Ct,zt){function Dt(At){return At.replace(".","_")}function Nt(At,Wt,en){var dn=Dt(At);Zn.push(At),Dn[dn]=yn[dn]=!!en,Hn[dn]=Wt}function Kt(At,Wt,en){var dn=Dt(At);Zn.push(At),Array.isArray(en)?(yn[dn]=en.slice(),Dn[dn]=en.slice()):yn[dn]=Dn[dn]=en,Qn[dn]=Wt}function un(){var At=Z({cache:Ct}),Wt=At.link,en=At.global;At.id=xn++,At.batchId="0";var dn=Wt(mr),gn=At.shared={props:"a0"};Object.keys(mr).forEach(function(sn){gn[sn]=en.def(dn,".",sn)});var _n=At.next={},on=At.current={};Object.keys(Qn).forEach(function(sn){Array.isArray(yn[sn])&&(_n[sn]=en.def(gn.next,".",sn),on[sn]=en.def(gn.current,".",sn))});var Yt=At.constants={};Object.keys(Qt).forEach(function(sn){Yt[sn]=en.def(JSON.stringify(Qt[sn]))}),At.invoke=function(sn,hn){switch(hn.type){case 0:var Sn=["this",gn.context,gn.props,At.batchId];return sn.def(Wt(hn.data),".call(",Sn.slice(0,Math.max(hn.data.length+1,4)),")");case 1:return sn.def(gn.props,hn.data);case 2:return sn.def(gn.context,hn.data);case 3:return sn.def("this",hn.data);case 4:return hn.data.append(At,sn),hn.data.ref;case 5:return hn.data.toString();case 6:return hn.data.map(function(Cn){return At.invoke(sn,Cn)})}},At.attribCache={};var Xt={};return At.scopeAttrib=function(sn){if((sn=Je.id(sn))in Xt)return Xt[sn];var hn=yt.scope[sn];return hn||(hn=yt.scope[sn]=new Jn),Xt[sn]=Wt(hn)},At}function qt(At,Wt){var en=At.static,dn=At.dynamic;if("framebuffer"in en){var gn=en.framebuffer;return gn?(gn=Ke.getFramebuffer(gn),ne(function(on,Yt){var Xt=on.link(gn),sn=on.shared;return Yt.set(sn.framebuffer,".next",Xt),sn=sn.context,Yt.set(sn,".framebufferWidth",Xt+".width"),Yt.set(sn,".framebufferHeight",Xt+".height"),Xt})):ne(function(on,Yt){var Xt=on.shared;return Yt.set(Xt.framebuffer,".next","null"),Xt=Xt.context,Yt.set(Xt,".framebufferWidth",Xt+".drawingBufferWidth"),Yt.set(Xt,".framebufferHeight",Xt+".drawingBufferHeight"),"null"})}if("framebuffer"in dn){var _n=dn.framebuffer;return te(_n,function(on,Yt){var Xt=on.invoke(Yt,_n),sn=on.shared,hn=sn.framebuffer;return Xt=Yt.def(hn,".getFramebuffer(",Xt,")"),Yt.set(hn,".next",Xt),sn=sn.context,Yt.set(sn,".framebufferWidth",Xt+"?"+Xt+".width:"+sn+".drawingBufferWidth"),Yt.set(sn,".framebufferHeight",Xt+"?"+Xt+".height:"+sn+".drawingBufferHeight"),Xt})}return null}function Jt(At,Wt,en){function dn(sn){if(sn in gn){var hn=Je.id(gn[sn]);return(sn=ne(function(){return hn})).id=hn,sn}if(sn in _n){var Sn=_n[sn];return te(Sn,function(Cn,Un){var qn=Cn.invoke(Un,Sn);return Un.def(Cn.shared.strings,".id(",qn,")")})}return null}var gn=At.static,_n=At.dynamic,on=dn("frag"),Yt=dn("vert"),Xt=null;return re(on)&&re(Yt)?(Xt=bt.program(Yt.id,on.id,null,en),At=ne(function(sn,hn){return sn.link(Xt)})):At=new W(on&&on.thisDep||Yt&&Yt.thisDep,on&&on.contextDep||Yt&&Yt.contextDep,on&&on.propDep||Yt&&Yt.propDep,function(sn,hn){var Sn,Cn,Un=sn.shared.shader;return Sn=on?on.append(sn,hn):hn.def(Un,".","frag"),Cn=Yt?Yt.append(sn,hn):hn.def(Un,".","vert"),hn.def(Un+".program("+Cn+","+Sn+")")}),{frag:on,vert:Yt,progVar:At,program:Xt}}function Ut(At,Wt){function en(qn,tr){if(qn in dn){var Yn=0|dn[qn];return tr?_n.offset=Yn:_n.instances=Yn,ne(function(ar,er){return tr&&(ar.OFFSET=Yn),Yn})}if(qn in gn){var sr=gn[qn];return te(sr,function(ar,er){var gr=ar.invoke(er,sr);return tr&&(ar.OFFSET=gr),gr})}if(tr){if(Xt)return ne(function(ar,er){return ar.OFFSET=0});if(on)return new W(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ar,er){return er.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.offset:0")})}else if(on)return new W(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ar,er){return er.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.instances:-1")});return null}var dn=At.static,gn=At.dynamic,_n={},on=!1,Yt=function(){if("vao"in dn){var qn=dn.vao;return qn!==null&&yt.getVAO(qn)===null&&(qn=yt.createVAO(qn)),on=!0,_n.vao=qn,ne(function(Yn){var sr=yt.getVAO(qn);return sr?Yn.link(sr):"null"})}if("vao"in gn){on=!0;var tr=gn.vao;return te(tr,function(Yn,sr){var ar=Yn.invoke(sr,tr);return sr.def(Yn.shared.vao+".getVAO("+ar+")")})}return null}(),Xt=!1,sn=function(){if("elements"in dn){var qn=dn.elements;if(_n.elements=qn,F(qn)){var tr=_n.elements=Ue.create(qn,!0);qn=Ue.getElements(tr),Xt=!0}else qn&&(qn=Ue.getElements(qn),Xt=!0);return tr=ne(function(sr,ar){if(qn){var er=sr.link(qn);return sr.ELEMENTS=er}return sr.ELEMENTS=null}),tr.value=qn,tr}if("elements"in gn){Xt=!0;var Yn=gn.elements;return te(Yn,function(sr,ar){var er=(gr=sr.shared).isBufferArgs,gr=gr.elements,kr=sr.invoke(ar,Yn),yr=ar.def("null");return er=ar.def(er,"(",kr,")"),kr=sr.cond(er).then(yr,"=",gr,".createStream(",kr,");").else(yr,"=",gr,".getElements(",kr,");"),ar.entry(kr),ar.exit(sr.cond(er).then(gr,".destroyStream(",yr,");")),sr.ELEMENTS=yr})}return on?new W(Yt.thisDep,Yt.contextDep,Yt.propDep,function(sr,ar){return ar.def(sr.shared.vao+".currentVAO?"+sr.shared.elements+".getElements("+sr.shared.vao+".currentVAO.elements):null")}):null}(),hn=en("offset",!0),Sn=function(){if("primitive"in dn){var qn=dn.primitive;return _n.primitive=qn,ne(function(Yn,sr){return Ce[qn]})}if("primitive"in gn){var tr=gn.primitive;return te(tr,function(Yn,sr){var ar=Yn.constants.primTypes,er=Yn.invoke(sr,tr);return sr.def(ar,"[",er,"]")})}return Xt?re(sn)?sn.value?ne(function(Yn,sr){return sr.def(Yn.ELEMENTS,".primType")}):ne(function(){return 4}):new W(sn.thisDep,sn.contextDep,sn.propDep,function(Yn,sr){var ar=Yn.ELEMENTS;return sr.def(ar,"?",ar,".primType:",4)}):on?new W(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Yn,sr){return sr.def(Yn.shared.vao+".currentVAO?"+Yn.shared.vao+".currentVAO.primitive:4")}):null}(),Cn=function(){if("count"in dn){var qn=0|dn.count;return _n.count=qn,ne(function(){return qn})}if("count"in gn){var tr=gn.count;return te(tr,function(Yn,sr){return Yn.invoke(sr,tr)})}return Xt?re(sn)?sn?hn?new W(hn.thisDep,hn.contextDep,hn.propDep,function(Yn,sr){return sr.def(Yn.ELEMENTS,".vertCount-",Yn.OFFSET)}):ne(function(Yn,sr){return sr.def(Yn.ELEMENTS,".vertCount")}):ne(function(){return-1}):new W(sn.thisDep||hn.thisDep,sn.contextDep||hn.contextDep,sn.propDep||hn.propDep,function(Yn,sr){var ar=Yn.ELEMENTS;return Yn.OFFSET?sr.def(ar,"?",ar,".vertCount-",Yn.OFFSET,":-1"):sr.def(ar,"?",ar,".vertCount:-1")}):on?new W(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Yn,sr){return sr.def(Yn.shared.vao,".currentVAO?",Yn.shared.vao,".currentVAO.count:-1")}):null}(),Un=en("instances",!1);return{elements:sn,primitive:Sn,count:Cn,instances:Un,offset:hn,vao:Yt,vaoActive:on,elementsActive:Xt,static:_n}}function zn(At,Wt){var en=At.static,dn=At.dynamic,gn={};return Object.keys(en).forEach(function(_n){var on=en[_n],Yt=Je.id(_n),Xt=new Jn;if(F(on))Xt.state=1,Xt.buffer=je.getBuffer(je.create(on,34962,!1,!0)),Xt.type=0;else if(hn=je.getBuffer(on))Xt.state=1,Xt.buffer=hn,Xt.type=0;else if("constant"in on){var sn=on.constant;Xt.buffer="null",Xt.state=2,typeof sn=="number"?Xt.x=sn:nt.forEach(function(Yn,sr){sr<sn.length&&(Xt[Yn]=sn[sr])})}else{var hn=F(on.buffer)?je.getBuffer(je.create(on.buffer,34962,!1,!0)):je.getBuffer(on.buffer),Sn=0|on.offset,Cn=0|on.stride,Un=0|on.size,qn=!!on.normalized,tr=0;"type"in on&&(tr=De[on.type]),on=0|on.divisor,Xt.buffer=hn,Xt.state=1,Xt.size=Un,Xt.normalized=qn,Xt.type=tr||hn.dtype,Xt.offset=Sn,Xt.stride=Cn,Xt.divisor=on}gn[_n]=ne(function(Yn,sr){var ar=Yn.attribCache;if(Yt in ar)return ar[Yt];var er={isStream:!1};return Object.keys(Xt).forEach(function(gr){er[gr]=Xt[gr]}),Xt.buffer&&(er.buffer=Yn.link(Xt.buffer),er.type=er.type||er.buffer+".dtype"),ar[Yt]=er})}),Object.keys(dn).forEach(function(_n){var on=dn[_n];gn[_n]=te(on,function(Yt,Xt){function sn(ar){Xt(qn[ar],"=",hn,".",ar,"|0;")}var hn=Yt.invoke(Xt,on),Sn=Yt.shared,Cn=Yt.constants,Un=Sn.isBufferArgs,qn=(Sn=Sn.buffer,{isStream:Xt.def(!1)}),tr=new Jn;tr.state=1,Object.keys(tr).forEach(function(ar){qn[ar]=Xt.def(""+tr[ar])});var Yn=qn.buffer,sr=qn.type;return Xt("if(",Un,"(",hn,")){",qn.isStream,"=true;",Yn,"=",Sn,".createStream(",34962,",",hn,");",sr,"=",Yn,".dtype;","}else{",Yn,"=",Sn,".getBuffer(",hn,");","if(",Yn,"){",sr,"=",Yn,".dtype;",'}else if("constant" in ',hn,"){",qn.state,"=",2,";","if(typeof "+hn+'.constant === "number"){',qn[nt[0]],"=",hn,".constant;",nt.slice(1).map(function(ar){return qn[ar]}).join("="),"=0;","}else{",nt.map(function(ar,er){return qn[ar]+"="+hn+".constant.length>"+er+"?"+hn+".constant["+er+"]:0;"}).join(""),"}}else{","if(",Un,"(",hn,".buffer)){",Yn,"=",Sn,".createStream(",34962,",",hn,".buffer);","}else{",Yn,"=",Sn,".getBuffer(",hn,".buffer);","}",sr,'="type" in ',hn,"?",Cn.glTypes,"[",hn,".type]:",Yn,".dtype;",qn.normalized,"=!!",hn,".normalized;"),sn("size"),sn("offset"),sn("stride"),sn("divisor"),Xt("}}"),Xt.exit("if(",qn.isStream,"){",Sn,".destroyStream(",Yn,");","}"),qn})}),gn}function An(At,Wt,en,dn,gn){function _n(tr){var Yn=Yt[tr];Yn&&(sn[tr]=Yn)}var on=function(tr,Yn){if(typeof(sr=tr.static).frag=="string"&&typeof sr.vert=="string"){if(0<Object.keys(Yn.dynamic).length)return null;var sr=Yn.static,ar=Object.keys(sr);if(0<ar.length&&typeof sr[ar[0]]=="number"){for(var er=[],gr=0;gr<ar.length;++gr)er.push([0|sr[ar[gr]],ar[gr]]);return er}}return null}(At,Wt),Yt=function(tr,Yn,sr){function ar(yr){if(yr in er){var ur=er[yr];yr=!0;var _r,Mr,Ur=0|ur.x,gi=0|ur.y;return"width"in ur?_r=0|ur.width:yr=!1,"height"in ur?Mr=0|ur.height:yr=!1,new W(!yr&&Yn&&Yn.thisDep,!yr&&Yn&&Yn.contextDep,!yr&&Yn&&Yn.propDep,function(ia,hi){var Bi=ia.shared.context,Nr=_r;"width"in ur||(Nr=hi.def(Bi,".","framebufferWidth","-",Ur));var Ai=Mr;return"height"in ur||(Ai=hi.def(Bi,".","framebufferHeight","-",gi)),[Ur,gi,Nr,Ai]})}if(yr in gr){var xi=gr[yr];return yr=te(xi,function(ia,hi){var Bi=ia.invoke(hi,xi),Nr=ia.shared.context,Ai=hi.def(Bi,".x|0"),Pa=hi.def(Bi,".y|0");return[Ai,Pa,hi.def('"width" in ',Bi,"?",Bi,".width|0:","(",Nr,".","framebufferWidth","-",Ai,")"),Bi=hi.def('"height" in ',Bi,"?",Bi,".height|0:","(",Nr,".","framebufferHeight","-",Pa,")")]}),Yn&&(yr.thisDep=yr.thisDep||Yn.thisDep,yr.contextDep=yr.contextDep||Yn.contextDep,yr.propDep=yr.propDep||Yn.propDep),yr}return Yn?new W(Yn.thisDep,Yn.contextDep,Yn.propDep,function(ia,hi){var Bi=ia.shared.context;return[0,0,hi.def(Bi,".","framebufferWidth"),hi.def(Bi,".","framebufferHeight")]}):null}var er=tr.static,gr=tr.dynamic;if(tr=ar("viewport")){var kr=tr;tr=new W(tr.thisDep,tr.contextDep,tr.propDep,function(yr,ur){var _r=kr.append(yr,ur),Mr=yr.shared.context;return ur.set(Mr,".viewportWidth",_r[2]),ur.set(Mr,".viewportHeight",_r[3]),_r})}return{viewport:tr,scissor_box:ar("scissor.box")}}(At,Sn=qt(At)),Xt=Ut(At),sn=function(tr,Yn){var sr=tr.static,ar=tr.dynamic,er={};return Zn.forEach(function(gr){function kr(ur,_r){if(gr in sr){var Mr=ur(sr[gr]);er[yr]=ne(function(){return Mr})}else if(gr in ar){var Ur=ar[gr];er[yr]=te(Ur,function(gi,xi){return _r(gi,xi,gi.invoke(xi,Ur))})}}var yr=Dt(gr);switch(gr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return kr(function(ur){return ur},function(ur,_r,Mr){return Mr});case"depth.func":return kr(function(ur){return Ft[ur]},function(ur,_r,Mr){return _r.def(ur.constants.compareFuncs,"[",Mr,"]")});case"depth.range":return kr(function(ur){return ur},function(ur,_r,Mr){return[_r.def("+",Mr,"[0]"),_r=_r.def("+",Mr,"[1]")]});case"blend.func":return kr(function(ur){return[Rt["srcRGB"in ur?ur.srcRGB:ur.src],Rt["dstRGB"in ur?ur.dstRGB:ur.dst],Rt["srcAlpha"in ur?ur.srcAlpha:ur.src],Rt["dstAlpha"in ur?ur.dstAlpha:ur.dst]]},function(ur,_r,Mr){function Ur(hi,Bi){return _r.def('"',hi,Bi,'" in ',Mr,"?",Mr,".",hi,Bi,":",Mr,".",hi)}ur=ur.constants.blendFuncs;var gi=Ur("src","RGB"),xi=Ur("dst","RGB"),ia=(gi=_r.def(ur,"[",gi,"]"),_r.def(ur,"[",Ur("src","Alpha"),"]"));return[gi,xi=_r.def(ur,"[",xi,"]"),ia,ur=_r.def(ur,"[",Ur("dst","Alpha"),"]")]});case"blend.equation":return kr(function(ur){return typeof ur=="string"?[dr[ur],dr[ur]]:typeof ur=="object"?[dr[ur.rgb],dr[ur.alpha]]:void 0},function(ur,_r,Mr){var Ur=ur.constants.blendEquations,gi=_r.def(),xi=_r.def();return(ur=ur.cond("typeof ",Mr,'==="string"')).then(gi,"=",xi,"=",Ur,"[",Mr,"];"),ur.else(gi,"=",Ur,"[",Mr,".rgb];",xi,"=",Ur,"[",Mr,".alpha];"),_r(ur),[gi,xi]});case"blend.color":return kr(function(ur){return b(4,function(_r){return+ur[_r]})},function(ur,_r,Mr){return b(4,function(Ur){return _r.def("+",Mr,"[",Ur,"]")})});case"stencil.mask":return kr(function(ur){return 0|ur},function(ur,_r,Mr){return _r.def(Mr,"|0")});case"stencil.func":return kr(function(ur){return[Ft[ur.cmp||"keep"],ur.ref||0,"mask"in ur?ur.mask:-1]},function(ur,_r,Mr){return[ur=_r.def('"cmp" in ',Mr,"?",ur.constants.compareFuncs,"[",Mr,".cmp]",":",7680),_r.def(Mr,".ref|0"),_r=_r.def('"mask" in ',Mr,"?",Mr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return kr(function(ur){return[gr==="stencil.opBack"?1029:1028,Pt[ur.fail||"keep"],Pt[ur.zfail||"keep"],Pt[ur.zpass||"keep"]]},function(ur,_r,Mr){function Ur(xi){return _r.def('"',xi,'" in ',Mr,"?",gi,"[",Mr,".",xi,"]:",7680)}var gi=ur.constants.stencilOps;return[gr==="stencil.opBack"?1029:1028,Ur("fail"),Ur("zfail"),Ur("zpass")]});case"polygonOffset.offset":return kr(function(ur){return[0|ur.factor,0|ur.units]},function(ur,_r,Mr){return[_r.def(Mr,".factor|0"),_r=_r.def(Mr,".units|0")]});case"cull.face":return kr(function(ur){var _r=0;return ur==="front"?_r=1028:ur==="back"&&(_r=1029),_r},function(ur,_r,Mr){return _r.def(Mr,'==="front"?',1028,":",1029)});case"frontFace":return kr(function(ur){return Ze[ur]},function(ur,_r,Mr){return _r.def(Mr+'==="cw"?2304:2305')});case"colorMask":return kr(function(ur){return ur.map(function(_r){return!!_r})},function(ur,_r,Mr){return b(4,function(Ur){return"!!"+Mr+"["+Ur+"]"})});case"sample.coverage":return kr(function(ur){return["value"in ur?ur.value:1,!!ur.invert]},function(ur,_r,Mr){return[_r.def('"value" in ',Mr,"?+",Mr,".value:1"),_r=_r.def("!!",Mr,".invert")]})}}),er}(At),hn=Jt(At,0,on);_n("viewport"),_n(Dt("scissor.box"));var Sn,Cn=0<Object.keys(sn).length;if((Sn={framebuffer:Sn,draw:Xt,shader:hn,state:sn,dirty:Cn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(tr){var Yn,sr=tr.static;if(tr=tr.dynamic,"profile"in sr){var ar=!!sr.profile;(Yn=ne(function(gr,kr){return ar})).enable=ar}else if("profile"in tr){var er=tr.profile;Yn=te(er,function(gr,kr){return gr.invoke(kr,er)})}return Yn}(At),Sn.uniforms=function(tr,Yn){var sr=tr.static,ar=tr.dynamic,er={};return Object.keys(sr).forEach(function(gr){var kr,yr=sr[gr];if(typeof yr=="number"||typeof yr=="boolean")kr=ne(function(){return yr});else if(typeof yr=="function"){var ur=yr._reglType;ur==="texture2d"||ur==="textureCube"?kr=ne(function(_r){return _r.link(yr)}):ur!=="framebuffer"&&ur!=="framebufferCube"||(kr=ne(function(_r){return _r.link(yr.color[0])}))}else y(yr)&&(kr=ne(function(_r){return _r.global.def("[",b(yr.length,function(Mr){return yr[Mr]}),"]")}));kr.value=yr,er[gr]=kr}),Object.keys(ar).forEach(function(gr){var kr=ar[gr];er[gr]=te(kr,function(yr,ur){return yr.invoke(ur,kr)})}),er}(en),Sn.drawVAO=Sn.scopeVAO=Xt.vao,!Sn.drawVAO&&hn.program&&!on&&ft.angle_instanced_arrays&&Xt.static.elements){var Un=!0;if(At=hn.program.attributes.map(function(tr){return tr=Wt.static[tr],Un=Un&&!!tr,tr}),Un&&0<At.length){var qn=yt.getVAO(yt.createVAO({attributes:At,elements:Xt.static.elements}));Sn.drawVAO=new W(null,null,null,function(tr,Yn){return tr.link(qn)}),Sn.useVAO=!0}}return on?Sn.useVAO=!0:Sn.attributes=zn(Wt),Sn.context=function(tr){var Yn=tr.static,sr=tr.dynamic,ar={};return Object.keys(Yn).forEach(function(er){var gr=Yn[er];ar[er]=ne(function(kr,yr){return typeof gr=="number"||typeof gr=="boolean"?""+gr:kr.link(gr)})}),Object.keys(sr).forEach(function(er){var gr=sr[er];ar[er]=te(gr,function(kr,yr){return kr.invoke(yr,gr)})}),ar}(dn),Sn}function mn(At,Wt,en){var dn=At.shared.context,gn=At.scope();Object.keys(en).forEach(function(_n){Wt.save(dn,"."+_n);var on=en[_n].append(At,Wt);Array.isArray(on)?gn(dn,".",_n,"=[",on.join(),"];"):gn(dn,".",_n,"=",on,";")}),Wt(gn)}function tn(At,Wt,en,dn){var gn,_n=(Yt=At.shared).gl,on=Yt.framebuffer;an&&(gn=Wt.def(Yt.extensions,".webgl_draw_buffers"));var Yt=(Xt=At.constants).drawBuffer,Xt=Xt.backBuffer;At=en?en.append(At,Wt):Wt.def(on,".next"),dn||Wt("if(",At,"!==",on,".cur){"),Wt("if(",At,"){",_n,".bindFramebuffer(",36160,",",At,".framebuffer);"),an&&Wt(gn,".drawBuffersWEBGL(",Yt,"[",At,".colorAttachments.length]);"),Wt("}else{",_n,".bindFramebuffer(",36160,",null);"),an&&Wt(gn,".drawBuffersWEBGL(",Xt,");"),Wt("}",on,".cur=",At,";"),dn||Wt("}")}function fn(At,Wt,en){var dn=At.shared,gn=dn.gl,_n=At.current,on=At.next,Yt=dn.current,Xt=dn.next,sn=At.cond(Yt,".dirty");Zn.forEach(function(hn){var Sn,Cn;if(!((hn=Dt(hn))in en.state))if(hn in on){Sn=on[hn],Cn=_n[hn];var Un=b(yn[hn].length,function(qn){return sn.def(Sn,"[",qn,"]")});sn(At.cond(Un.map(function(qn,tr){return qn+"!=="+Cn+"["+tr+"]"}).join("||")).then(gn,".",Qn[hn],"(",Un,");",Un.map(function(qn,tr){return Cn+"["+tr+"]="+qn}).join(";"),";"))}else Sn=sn.def(Xt,".",hn),Un=At.cond(Sn,"!==",Yt,".",hn),sn(Un),hn in Hn?Un(At.cond(Sn).then(gn,".enable(",Hn[hn],");").else(gn,".disable(",Hn[hn],");"),Yt,".",hn,"=",Sn,";"):Un(gn,".",Qn[hn],"(",Sn,");",Yt,".",hn,"=",Sn,";")}),Object.keys(en.state).length===0&&sn(Yt,".dirty=false;"),Wt(sn)}function rn(At,Wt,en,dn){var gn,_n=At.shared,on=At.current,Yt=_n.current,Xt=_n.gl;V(Object.keys(en)).forEach(function(sn){var hn=en[sn];if(!dn||dn(hn)){var Sn=hn.append(At,Wt);if(Hn[sn]){var Cn=Hn[sn];re(hn)?(gn=At.link(Sn,{stable:!0}),Wt(At.cond(gn).then(Xt,".enable(",Cn,");").else(Xt,".disable(",Cn,");")),Wt(Yt,".",sn,"=",gn,";")):(Wt(At.cond(Sn).then(Xt,".enable(",Cn,");").else(Xt,".disable(",Cn,");")),Wt(Yt,".",sn,"=",Sn,";"))}else if(y(Sn)){var Un=on[sn];Wt(Xt,".",Qn[sn],"(",Sn,");",Sn.map(function(qn,tr){return Un+"["+tr+"]="+qn}).join(";"),";")}else re(hn)?(gn=At.link(Sn,{stable:!0}),Wt(Xt,".",Qn[sn],"(",gn,");",Yt,".",sn,"=",gn,";")):Wt(Xt,".",Qn[sn],"(",Sn,");",Yt,".",sn,"=",Sn,";")}})}function pn(At,Wt){nn&&(At.instancing=Wt.def(At.shared.extensions,".angle_instanced_arrays"))}function wn(At,Wt,en,dn,gn){function _n(){return typeof performance>"u"?"Date.now()":"performance.now()"}function on(tr){tr(sn=Wt.def(),"=",_n(),";"),typeof gn=="string"?tr(Cn,".count+=",gn,";"):tr(Cn,".count++;"),wt&&(dn?tr(hn=Wt.def(),"=",qn,".getNumPendingQueries();"):tr(qn,".beginQuery(",Cn,");"))}function Yt(tr){tr(Cn,".cpuTime+=",_n(),"-",sn,";"),wt&&(dn?tr(qn,".pushScopeStats(",hn,",",qn,".getNumPendingQueries(),",Cn,");"):tr(qn,".endQuery();"))}function Xt(tr){var Yn=Wt.def(Un,".profile");Wt(Un,".profile=",tr,";"),Wt.exit(Un,".profile=",Yn,";")}var sn,hn,Sn=At.shared,Cn=At.stats,Un=Sn.current,qn=Sn.timer;if(en=en.profile){if(re(en))return void(en.enable?(on(Wt),Yt(Wt.exit),Xt("true")):Xt("false"));Xt(en=en.append(At,Wt))}else en=Wt.def(Un,".profile");on(Sn=At.block()),Wt("if(",en,"){",Sn,"}"),Yt(At=At.block()),Wt.exit("if(",en,"){",At,"}")}function kn(At,Wt,en,dn,gn){function _n(Yt,Xt,sn){function hn(){Wt("if(!",qn,".buffer){",Cn,".enableVertexAttribArray(",Un,");}");var ar,er=sn.type;ar=sn.size?Wt.def(sn.size,"||",Xt):Xt,Wt("if(",qn,".type!==",er,"||",qn,".size!==",ar,"||",sr.map(function(gr){return qn+"."+gr+"!=="+sn[gr]}).join("||"),"){",Cn,".bindBuffer(",34962,",",tr,".buffer);",Cn,".vertexAttribPointer(",[Un,ar,er,sn.normalized,sn.stride,sn.offset],");",qn,".type=",er,";",qn,".size=",ar,";",sr.map(function(gr){return qn+"."+gr+"="+sn[gr]+";"}).join(""),"}"),nn&&(er=sn.divisor,Wt("if(",qn,".divisor!==",er,"){",At.instancing,".vertexAttribDivisorANGLE(",[Un,er],");",qn,".divisor=",er,";}"))}function Sn(){Wt("if(",qn,".buffer){",Cn,".disableVertexAttribArray(",Un,");",qn,".buffer=null;","}if(",nt.map(function(ar,er){return qn+"."+ar+"!=="+Yn[er]}).join("||"),"){",Cn,".vertexAttrib4f(",Un,",",Yn,");",nt.map(function(ar,er){return qn+"."+ar+"="+Yn[er]+";"}).join(""),"}")}var Cn=on.gl,Un=Wt.def(Yt,".location"),qn=Wt.def(on.attributes,"[",Un,"]");Yt=sn.state;var tr=sn.buffer,Yn=[sn.x,sn.y,sn.z,sn.w],sr=["buffer","normalized","offset","stride"];Yt===1?hn():Yt===2?Sn():(Wt("if(",Yt,"===",1,"){"),hn(),Wt("}else{"),Sn(),Wt("}"))}var on=At.shared;dn.forEach(function(Yt){var Xt,sn=Yt.name,hn=en.attributes[sn];if(hn){if(!gn(hn))return;Xt=hn.append(At,Wt)}else{if(!gn($e))return;var Sn=At.scopeAttrib(sn);Xt={},Object.keys(new Jn).forEach(function(Cn){Xt[Cn]=Wt.def(Sn,".",Cn)})}_n(At.link(Yt),function(Cn){switch(Cn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Yt.info.type),Xt)})}function Pn(At,Wt,en,dn,gn,_n){for(var on,Yt=At.shared,Xt=Yt.gl,sn=0;sn<dn.length;++sn){var hn,Sn=(qn=dn[sn]).name,Cn=qn.info.type,Un=en.uniforms[Sn],qn=At.link(qn)+".location";if(Un){if(!gn(Un))continue;if(re(Un)){if(Sn=Un.value,Cn===35678||Cn===35680)Wt(Xt,".uniform1i(",qn,",",(Cn=At.link(Sn._texture||Sn.color[0]._texture))+".bind());"),Wt.exit(Cn,".unbind();");else if(Cn===35674||Cn===35675||Cn===35676)Un=2,Cn===35675?Un=3:Cn===35676&&(Un=4),Wt(Xt,".uniformMatrix",Un,"fv(",qn,",false,",Sn=At.global.def("new Float32Array(["+Array.prototype.slice.call(Sn)+"])"),");");else{switch(Cn){case 5126:on="1f";break;case 35664:on="2f";break;case 35665:on="3f";break;case 35666:on="4f";break;case 35670:case 5124:on="1i";break;case 35671:case 35667:on="2i";break;case 35672:case 35668:on="3i";break;case 35673:case 35669:on="4i"}Wt(Xt,".uniform",on,"(",qn,",",y(Sn)?Array.prototype.slice.call(Sn):Sn,");")}continue}hn=Un.append(At,Wt)}else{if(!gn($e))continue;hn=Wt.def(Yt.uniforms,"[",Je.id(Sn),"]")}switch(Cn===35678?Wt("if(",hn,"&&",hn,'._reglType==="framebuffer"){',hn,"=",hn,".color[0];","}"):Cn===35680&&Wt("if(",hn,"&&",hn,'._reglType==="framebufferCube"){',hn,"=",hn,".color[0];","}"),Sn=1,Cn){case 35678:case 35680:Cn=Wt.def(hn,"._texture"),Wt(Xt,".uniform1i(",qn,",",Cn,".bind());"),Wt.exit(Cn,".unbind();");continue;case 5124:case 35670:on="1i";break;case 35667:case 35671:on="2i",Sn=2;break;case 35668:case 35672:on="3i",Sn=3;break;case 35669:case 35673:on="4i",Sn=4;break;case 5126:on="1f";break;case 35664:on="2f",Sn=2;break;case 35665:on="3f",Sn=3;break;case 35666:on="4f",Sn=4;break;case 35674:on="Matrix2fv";break;case 35675:on="Matrix3fv";break;case 35676:on="Matrix4fv"}if(on.charAt(0)==="M"){Wt(Xt,".uniform",on,"(",qn,","),qn=Math.pow(Cn-35674+2,2);var tr=At.global.def("new Float32Array(",qn,")");Array.isArray(hn)?Wt("false,(",b(qn,function(sr){return tr+"["+sr+"]="+hn[sr]}),",",tr,")"):Wt("false,(Array.isArray(",hn,")||",hn," instanceof Float32Array)?",hn,":(",b(qn,function(sr){return tr+"["+sr+"]="+hn+"["+sr+"]"}),",",tr,")"),Wt(");")}else{if(1<Sn){Cn=[];var Yn=[];for(Un=0;Un<Sn;++Un)Array.isArray(hn)?Yn.push(hn[Un]):Yn.push(Wt.def(hn+"["+Un+"]")),_n&&Cn.push(Wt.def());_n&&Wt("if(!",At.batchId,"||",Cn.map(function(sr,ar){return sr+"!=="+Yn[ar]}).join("||"),"){",Cn.map(function(sr,ar){return sr+"="+Yn[ar]+";"}).join("")),Wt(Xt,".uniform",on,"(",qn,",",Yn.join(","),");")}else _n&&(Cn=Wt.def(),Wt("if(!",At.batchId,"||",Cn,"!==",hn,"){",Cn,"=",hn,";")),Wt(Xt,".uniform",on,"(",qn,",",hn,");");_n&&Wt("}")}}}function On(At,Wt,en,dn){function gn(er){var gr=Cn[er];return gr?gr.contextDep&&dn.contextDynamic||gr.propDep?gr.append(At,en):gr.append(At,Wt):Wt.def(Sn,".",er)}function _n(){function er(){en(Xt,".drawElementsInstancedANGLE(",[qn,Yn,sr,tr+"<<(("+sr+"-5121)>>1)",Yt],");")}function gr(){en(Xt,".drawArraysInstancedANGLE(",[qn,tr,Yn,Yt],");")}Un&&Un!=="null"?ar?er():(en("if(",Un,"){"),er(),en("}else{"),gr(),en("}")):gr()}function on(){function er(){en(hn+".drawElements("+[qn,Yn,sr,tr+"<<(("+sr+"-5121)>>1)"]+");")}function gr(){en(hn+".drawArrays("+[qn,tr,Yn]+");")}Un&&Un!=="null"?ar?er():(en("if(",Un,"){"),er(),en("}else{"),gr(),en("}")):gr()}var Yt,Xt,sn=At.shared,hn=sn.gl,Sn=sn.draw,Cn=dn.draw,Un=function(){var er=Cn.elements,gr=Wt;return er?((er.contextDep&&dn.contextDynamic||er.propDep)&&(gr=en),er=er.append(At,gr),Cn.elementsActive&&gr("if("+er+")"+hn+".bindBuffer(34963,"+er+".buffer.buffer);")):(er=gr.def(),gr(er,"=",Sn,".","elements",";","if(",er,"){",hn,".bindBuffer(",34963,",",er,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",er,"=",At.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",In?"":"if("+er+")"+hn+".bindBuffer(34963,"+er+".buffer.buffer);","}")),er}(),qn=gn("primitive"),tr=gn("offset"),Yn=function(){var er=Cn.count,gr=Wt;return er?((er.contextDep&&dn.contextDynamic||er.propDep)&&(gr=en),er=er.append(At,gr)):er=gr.def(Sn,".","count"),er}();if(typeof Yn=="number"){if(Yn===0)return}else en("if(",Yn,"){"),en.exit("}");nn&&(Yt=gn("instances"),Xt=At.instancing);var sr=Un+".type",ar=Cn.elements&&re(Cn.elements)&&!Cn.vaoActive;nn&&(typeof Yt!="number"||0<=Yt)?typeof Yt=="string"?(en("if(",Yt,">0){"),_n(),en("}else if(",Yt,"<0){"),on(),en("}")):_n():on()}function En(At,Wt,en,dn,gn){return gn=(Wt=un()).proc("body",gn),nn&&(Wt.instancing=gn.def(Wt.shared.extensions,".angle_instanced_arrays")),At(Wt,gn,en,dn),Wt.compile().body}function Vn(At,Wt,en,dn){pn(At,Wt),en.useVAO?en.drawVAO?Wt(At.shared.vao,".setVAO(",en.drawVAO.append(At,Wt),");"):Wt(At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"):(Wt(At.shared.vao,".setVAO(null);"),kn(At,Wt,en,dn.attributes,function(){return!0})),Pn(At,Wt,en,dn.uniforms,function(){return!0},!1),On(At,Wt,Wt,en)}function Fn(At,Wt,en,dn){function gn(){return!0}At.batchId="a1",pn(At,Wt),kn(At,Wt,en,dn.attributes,gn),Pn(At,Wt,en,dn.uniforms,gn,!1),On(At,Wt,Wt,en)}function Wn(At,Wt,en,dn){function gn(Sn){return Sn.contextDep&&on||Sn.propDep}function _n(Sn){return!gn(Sn)}pn(At,Wt);var on=en.contextDep,Yt=Wt.def(),Xt=Wt.def();At.shared.props=Xt,At.batchId=Yt;var sn=At.scope(),hn=At.scope();Wt(sn.entry,"for(",Yt,"=0;",Yt,"<","a1",";++",Yt,"){",Xt,"=","a0","[",Yt,"];",hn,"}",sn.exit),en.needsContext&&mn(At,hn,en.context),en.needsFramebuffer&&tn(At,hn,en.framebuffer),rn(At,hn,en.state,gn),en.profile&&gn(en.profile)&&wn(At,hn,en,!1,!0),dn?(en.useVAO?en.drawVAO?gn(en.drawVAO)?hn(At.shared.vao,".setVAO(",en.drawVAO.append(At,hn),");"):sn(At.shared.vao,".setVAO(",en.drawVAO.append(At,sn),");"):sn(At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"):(sn(At.shared.vao,".setVAO(null);"),kn(At,sn,en,dn.attributes,_n),kn(At,hn,en,dn.attributes,gn)),Pn(At,sn,en,dn.uniforms,_n,!1),Pn(At,hn,en,dn.uniforms,gn,!0),On(At,sn,hn,en)):(Wt=At.global.def("{}"),dn=en.shader.progVar.append(At,hn),Xt=hn.def(dn,".id"),sn=hn.def(Wt,"[",Xt,"]"),hn(At.shared.gl,".useProgram(",dn,".program);","if(!",sn,"){",sn,"=",Wt,"[",Xt,"]=",At.link(function(Sn){return En(Fn,At,en,Sn,2)}),"(",dn,");}",sn,".call(this,a0[",Yt,"],",Yt,");"))}function rr(At,Wt){function en(Yt){var Xt=Wt.shader[Yt];Xt&&(Xt=Xt.append(At,dn),isNaN(Xt)?dn.set(gn.shader,"."+Yt,Xt):dn.set(gn.shader,"."+Yt,At.link(Xt,{stable:!0})))}var dn=At.proc("scope",3);At.batchId="a2";var gn=At.shared,_n=gn.current;if(mn(At,dn,Wt.context),Wt.framebuffer&&Wt.framebuffer.append(At,dn),V(Object.keys(Wt.state)).forEach(function(Yt){var Xt=Wt.state[Yt],sn=Xt.append(At,dn);y(sn)?sn.forEach(function(hn,Sn){isNaN(hn)?dn.set(At.next[Yt],"["+Sn+"]",hn):dn.set(At.next[Yt],"["+Sn+"]",At.link(hn,{stable:!0}))}):re(Xt)?dn.set(gn.next,"."+Yt,At.link(sn,{stable:!0})):dn.set(gn.next,"."+Yt,sn)}),wn(At,dn,Wt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Yt){var Xt=Wt.draw[Yt];Xt&&(Xt=Xt.append(At,dn),isNaN(Xt)?dn.set(gn.draw,"."+Yt,Xt):dn.set(gn.draw,"."+Yt,At.link(Xt),{stable:!0}))}),Object.keys(Wt.uniforms).forEach(function(Yt){var Xt=Wt.uniforms[Yt].append(At,dn);Array.isArray(Xt)&&(Xt="["+Xt.map(function(sn){return isNaN(sn)?sn:At.link(sn,{stable:!0})})+"]"),dn.set(gn.uniforms,"["+At.link(Je.id(Yt),{stable:!0})+"]",Xt)}),Object.keys(Wt.attributes).forEach(function(Yt){var Xt=Wt.attributes[Yt].append(At,dn),sn=At.scopeAttrib(Yt);Object.keys(new Jn).forEach(function(hn){dn.set(sn,"."+hn,Xt[hn])})}),Wt.scopeVAO){var on=Wt.scopeVAO.append(At,dn);isNaN(on)?dn.set(gn.vao,".targetVAO",on):dn.set(gn.vao,".targetVAO",At.link(on,{stable:!0}))}en("vert"),en("frag"),0<Object.keys(Wt.state).length&&(dn(_n,".dirty=true;"),dn.exit(_n,".dirty=true;")),dn("a1(",At.shared.context,",a0,",At.batchId,");")}function ir(At,Wt,en){var dn=Wt.static[en];if(dn&&function(hn){if(typeof hn=="object"&&!y(hn)){for(var Sn=Object.keys(hn),Cn=0;Cn<Sn.length;++Cn)if(ue.isDynamic(hn[Sn[Cn]]))return!0;return!1}}(dn)){var gn=At.global,_n=Object.keys(dn),on=!1,Yt=!1,Xt=!1,sn=At.global.def("{}");_n.forEach(function(hn){var Sn=dn[hn];if(ue.isDynamic(Sn))typeof Sn=="function"&&(Sn=dn[hn]=ue.unbox(Sn)),hn=te(Sn,null),on=on||hn.thisDep,Xt=Xt||hn.propDep,Yt=Yt||hn.contextDep;else{switch(gn(sn,".",hn,"="),typeof Sn){case"number":gn(Sn);break;case"string":gn('"',Sn,'"');break;case"object":Array.isArray(Sn)&&gn("[",Sn.join(),"]");break;default:gn(At.link(Sn))}gn(";")}}),Wt.dynamic[en]=new ue.DynamicVariable(4,{thisDep:on,contextDep:Yt,propDep:Xt,ref:sn,append:function(hn,Sn){_n.forEach(function(Cn){var Un=dn[Cn];ue.isDynamic(Un)&&(Un=hn.invoke(Sn,Un),Sn(sn,".",Cn,"=",Un,";"))})}}),delete Wt.static[en]}}var Jn=yt.Record,dr={add:32774,subtract:32778,"reverse subtract":32779};ft.ext_blend_minmax&&(dr.min=32775,dr.max=32776);var nn=ft.angle_instanced_arrays,an=ft.webgl_draw_buffers,In=ft.oes_vertex_array_object,yn={dirty:!0,profile:zt.profile},Dn={},Zn=[],Hn={},Qn={};Nt("dither",3024),Nt("blend.enable",3042),Kt("blend.color","blendColor",[0,0,0,0]),Kt("blend.equation","blendEquationSeparate",[32774,32774]),Kt("blend.func","blendFuncSeparate",[1,0,1,0]),Nt("depth.enable",2929,!0),Kt("depth.func","depthFunc",513),Kt("depth.range","depthRange",[0,1]),Kt("depth.mask","depthMask",!0),Kt("colorMask","colorMask",[!0,!0,!0,!0]),Nt("cull.enable",2884),Kt("cull.face","cullFace",1029),Kt("frontFace","frontFace",2305),Kt("lineWidth","lineWidth",1),Nt("polygonOffset.enable",32823),Kt("polygonOffset.offset","polygonOffset",[0,0]),Nt("sample.alpha",32926),Nt("sample.enable",32928),Kt("sample.coverage","sampleCoverage",[1,!1]),Nt("stencil.enable",2960),Kt("stencil.mask","stencilMask",-1),Kt("stencil.func","stencilFunc",[519,0,-1]),Kt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Kt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Nt("scissor.enable",3089),Kt("scissor.box","scissor",[0,0,He.drawingBufferWidth,He.drawingBufferHeight]),Kt("viewport","viewport",[0,0,He.drawingBufferWidth,He.drawingBufferHeight]);var mr={gl:He,context:Lt,strings:Je,next:Dn,current:yn,draw:dt,elements:Ue,buffer:je,shader:bt,attributes:yt.state,vao:yt,uniforms:gt,framebuffer:Ke,extensions:ft,timer:wt,isBufferArgs:F},Qt={primTypes:Ce,compareFuncs:Ft,blendFuncs:Rt,blendEquations:dr,stencilOps:Pt,glTypes:De,orientationType:Ze};an&&(Qt.backBuffer=[1029],Qt.drawBuffer=b(ot.maxDrawbuffers,function(At){return At===0?[0]:b(At,function(Wt){return 36064+Wt})}));var xn=0;return{next:Dn,current:yn,procs:function(){var At=un(),Wt=At.proc("poll"),en=At.proc("refresh"),dn=At.block();Wt(dn),en(dn);var gn,_n=(Xt=At.shared).gl,on=Xt.next,Yt=Xt.current;dn(Yt,".dirty=false;"),tn(At,Wt),tn(At,en,null,!0),nn&&(gn=At.link(nn)),ft.oes_vertex_array_object&&en(At.link(ft.oes_vertex_array_object),".bindVertexArrayOES(null);");var Xt=en.def(Xt.attributes),sn=en.def(0),hn=At.cond(sn,".buffer");hn.then(_n,".enableVertexAttribArray(i);",_n,".bindBuffer(",34962,",",sn,".buffer.buffer);",_n,".vertexAttribPointer(i,",sn,".size,",sn,".type,",sn,".normalized,",sn,".stride,",sn,".offset);").else(_n,".disableVertexAttribArray(i);",_n,".vertexAttrib4f(i,",sn,".x,",sn,".y,",sn,".z,",sn,".w);",sn,".buffer=null;");var Sn=At.link(ot.maxAttributes,{stable:!0});return en("for(var i=0;i<",Sn,";++i){",sn,"=",Xt,"[i];",hn,"}"),nn&&en("for(var i=0;i<",Sn,";++i){",gn,".vertexAttribDivisorANGLE(i,",Xt,"[i].divisor);","}"),en(At.shared.vao,".currentVAO=null;",At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"),Object.keys(Hn).forEach(function(Cn){var Un=Hn[Cn],qn=dn.def(on,".",Cn),tr=At.block();tr("if(",qn,"){",_n,".enable(",Un,")}else{",_n,".disable(",Un,")}",Yt,".",Cn,"=",qn,";"),en(tr),Wt("if(",qn,"!==",Yt,".",Cn,"){",tr,"}")}),Object.keys(Qn).forEach(function(Cn){var Un,qn,tr=Qn[Cn],Yn=yn[Cn],sr=At.block();sr(_n,".",tr,"("),y(Yn)?(tr=Yn.length,Un=At.global.def(on,".",Cn),qn=At.global.def(Yt,".",Cn),sr(b(tr,function(ar){return Un+"["+ar+"]"}),");",b(tr,function(ar){return qn+"["+ar+"]="+Un+"["+ar+"];"}).join("")),Wt("if(",b(tr,function(ar){return Un+"["+ar+"]!=="+qn+"["+ar+"]"}).join("||"),"){",sr,"}")):(Un=dn.def(on,".",Cn),qn=dn.def(Yt,".",Cn),sr(Un,");",Yt,".",Cn,"=",Un,";"),Wt("if(",Un,"!==",qn,"){",sr,"}")),en(sr)}),At.compile()}(),compile:function(At,Wt,en,dn,gn){var _n=un();_n.stats=_n.link(gn),Object.keys(Wt.static).forEach(function(Yt){ir(_n,Wt,Yt)}),Et.forEach(function(Yt){ir(_n,At,Yt)});var on=An(At,Wt,en,dn);return on.shader.program&&(on.shader.program.attributes.sort(function(Yt,Xt){return Yt.name<Xt.name?-1:1}),on.shader.program.uniforms.sort(function(Yt,Xt){return Yt.name<Xt.name?-1:1})),function(Yt,Xt){var sn=Yt.proc("draw",1);pn(Yt,sn),mn(Yt,sn,Xt.context),tn(Yt,sn,Xt.framebuffer),fn(Yt,sn,Xt),rn(Yt,sn,Xt.state),wn(Yt,sn,Xt,!1,!0);var hn=Xt.shader.progVar.append(Yt,sn);if(sn(Yt.shared.gl,".useProgram(",hn,".program);"),Xt.shader.program)Vn(Yt,sn,Xt,Xt.shader.program);else{sn(Yt.shared.vao,".setVAO(null);");var Sn=Yt.global.def("{}"),Cn=sn.def(hn,".id"),Un=sn.def(Sn,"[",Cn,"]");sn(Yt.cond(Un).then(Un,".call(this,a0);").else(Un,"=",Sn,"[",Cn,"]=",Yt.link(function(qn){return En(Vn,Yt,Xt,qn,1)}),"(",hn,");",Un,".call(this,a0);"))}0<Object.keys(Xt.state).length&&sn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&sn(Yt.shared.vao,".setVAO(null);")}(_n,on),rr(_n,on),function(Yt,Xt){function sn(Yn){return Yn.contextDep&&Sn||Yn.propDep}var hn=Yt.proc("batch",2);Yt.batchId="0",pn(Yt,hn);var Sn=!1,Cn=!0;Object.keys(Xt.context).forEach(function(Yn){Sn=Sn||Xt.context[Yn].propDep}),Sn||(mn(Yt,hn,Xt.context),Cn=!1);var Un=!1;if((qn=Xt.framebuffer)?(qn.propDep?Sn=Un=!0:qn.contextDep&&Sn&&(Un=!0),Un||tn(Yt,hn,qn)):tn(Yt,hn,null),Xt.state.viewport&&Xt.state.viewport.propDep&&(Sn=!0),fn(Yt,hn,Xt),rn(Yt,hn,Xt.state,function(Yn){return!sn(Yn)}),Xt.profile&&sn(Xt.profile)||wn(Yt,hn,Xt,!1,"a1"),Xt.contextDep=Sn,Xt.needsContext=Cn,Xt.needsFramebuffer=Un,(Cn=Xt.shader.progVar).contextDep&&Sn||Cn.propDep)Wn(Yt,hn,Xt,null);else if(Cn=Cn.append(Yt,hn),hn(Yt.shared.gl,".useProgram(",Cn,".program);"),Xt.shader.program)Wn(Yt,hn,Xt,Xt.shader.program);else{hn(Yt.shared.vao,".setVAO(null);");var qn=Yt.global.def("{}"),tr=(Un=hn.def(Cn,".id"),hn.def(qn,"[",Un,"]"));hn(Yt.cond(tr).then(tr,".call(this,a0,a1);").else(tr,"=",qn,"[",Un,"]=",Yt.link(function(Yn){return En(Wn,Yt,Xt,Yn,2)}),"(",Cn,");",tr,".call(this,a0,a1);"))}0<Object.keys(Xt.state).length&&hn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&hn(Yt.shared.vao,".setVAO(null);")}(_n,on),K(_n.compile(),{destroy:function(){on.shader.program.destroy()}})}}}function $(He,Je){for(var ft=0;ft<He.length;++ft)if(He[ft]===Je)return ft;return-1}var K=function(He,Je){for(var ft=Object.keys(Je),ot=0;ot<ft.length;++ot)He[ft[ot]]=Je[ft[ot]];return He},ae=0,ue={DynamicVariable:C,define:function(He,Je){return new C(He,k(Je+""))},isDynamic:function(He){return typeof He=="function"&&!He._reglType||He instanceof C},unbox:function He(Je,ft){return typeof Je=="function"?new C(0,Je):typeof Je=="number"||typeof Je=="boolean"?new C(5,Je):Array.isArray(Je)?new C(6,Je.map(function(ot,je){return He(ot)})):Je instanceof C?Je:void 0},accessor:k},se={next:typeof requestAnimationFrame=="function"?function(He){return requestAnimationFrame(He)}:function(He){return setTimeout(He,16)},cancel:typeof cancelAnimationFrame=="function"?function(He){return cancelAnimationFrame(He)}:clearTimeout},he=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=s();pe.zero=s();var de=function(He,Je){var ft=1;Je.ext_texture_filter_anisotropic&&(ft=He.getParameter(34047));var ot=1,je=1;Je.webgl_draw_buffers&&(ot=He.getParameter(34852),je=He.getParameter(36063));var Ue=!!Je.oes_texture_float;if(Ue){Ue=He.createTexture(),He.bindTexture(3553,Ue),He.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=He.createFramebuffer();if(He.bindFramebuffer(36160,st),He.framebufferTexture2D(36160,36064,3553,Ue,0),He.bindTexture(3553,null),He.checkFramebufferStatus(36160)!==36053)Ue=!1;else{He.viewport(0,0,1,1),He.clearColor(1,0,0,1),He.clear(16384);var Ke=pe.allocType(5126,4);He.readPixels(0,0,1,1,6408,5126,Ke),He.getError()?Ue=!1:(He.deleteFramebuffer(st),He.deleteTexture(Ue),Ue=Ke[0]===1),pe.freeType(Ke)}}return Ke=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Ke=He.createTexture(),st=pe.allocType(5121,36),He.activeTexture(33984),He.bindTexture(34067,Ke),He.texImage2D(34069,0,6408,3,3,0,6408,5121,st),pe.freeType(st),He.bindTexture(34067,null),He.deleteTexture(Ke),Ke=!He.getError()),{colorBits:[He.getParameter(3410),He.getParameter(3411),He.getParameter(3412),He.getParameter(3413)],depthBits:He.getParameter(3414),stencilBits:He.getParameter(3415),subpixelBits:He.getParameter(3408),extensions:Object.keys(Je).filter(function(gt){return!!Je[gt]}),maxAnisotropic:ft,maxDrawbuffers:ot,maxColorAttachments:je,pointSizeDims:He.getParameter(33901),lineWidthDims:He.getParameter(33902),maxViewportDims:He.getParameter(3386),maxCombinedTextureUnits:He.getParameter(35661),maxCubeMapSize:He.getParameter(34076),maxRenderbufferSize:He.getParameter(34024),maxTextureUnits:He.getParameter(34930),maxTextureSize:He.getParameter(3379),maxAttributes:He.getParameter(34921),maxVertexUniforms:He.getParameter(36347),maxVertexTextureUnits:He.getParameter(35660),maxVaryingVectors:He.getParameter(36348),maxFragmentUniforms:He.getParameter(36349),glsl:He.getParameter(35724),renderer:He.getParameter(7937),vendor:He.getParameter(7936),version:He.getParameter(7938),readFloat:Ue,npotTextureCube:Ke}},xe=function(He){return He instanceof Uint8Array||He instanceof Uint16Array||He instanceof Uint32Array||He instanceof Int8Array||He instanceof Int16Array||He instanceof Int32Array||He instanceof Float32Array||He instanceof Float64Array||He instanceof Uint8ClampedArray},_e=function(He){return Object.keys(He).map(function(Je){return He[Je]})},be={shape:function(He){for(var Je=[];He.length;He=He[0])Je.push(He.length);return Je},flatten:function(He,Je,ft,ot){var je=1;if(Je.length)for(var Ue=0;Ue<Je.length;++Ue)je*=Je[Ue];else je=0;switch(ft=ot||pe.allocType(ft,je),Je.length){case 0:break;case 1:for(ot=Je[0],Je=0;Je<ot;++Je)ft[Je]=He[Je];break;case 2:for(ot=Je[0],Je=Je[1],Ue=je=0;Ue<ot;++Ue)for(var st=He[Ue],Ke=0;Ke<Je;++Ke)ft[je++]=st[Ke];break;case 3:i(He,Je[0],Je[1],Je[2],ft,0);break;default:r(He,Je,0,ft,0)}return ft}},Le={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},De={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ye={dynamic:35048,stream:35040,static:35044},le=be.flatten,oe=be.shape,ve=[];ve[5120]=1,ve[5122]=2,ve[5124]=4,ve[5121]=1,ve[5123]=2,ve[5125]=4,ve[5126]=4;var Ce={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ke=new Float32Array(1),Ae=new Uint32Array(ke.buffer),Ee=[9984,9986,9985,9987],ze=[0,6409,6410,6407,6408],Fe={};Fe[6409]=Fe[6406]=Fe[6402]=1,Fe[34041]=Fe[6410]=2,Fe[6407]=Fe[35904]=3,Fe[6408]=Fe[35906]=4;var ge=d("HTMLCanvasElement"),Te=d("OffscreenCanvas"),Se=d("CanvasRenderingContext2D"),Re=d("ImageBitmap"),Pe=d("HTMLImageElement"),Ve=d("HTMLVideoElement"),We=Object.keys(Le).concat([ge,Te,Se,Re,Pe,Ve]),Qe=[];Qe[5121]=1,Qe[5126]=4,Qe[36193]=2,Qe[5123]=2,Qe[5125]=4;var lt=[];lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var ut=[];ut[32854]=2,ut[32855]=2,ut[36194]=2,ut[33189]=2,ut[36168]=1,ut[34041]=4,ut[35907]=4,ut[34836]=16,ut[34842]=8,ut[34843]=6;var xt=function(He,Je,ft,ot,je){function Ue(dt){this.id=yt++,this.refCount=1,this.renderbuffer=dt,this.format=32854,this.height=this.width=0,je.profile&&(this.stats={size:0})}function st(dt){var Lt=dt.renderbuffer;He.bindRenderbuffer(36161,null),He.deleteRenderbuffer(Lt),dt.renderbuffer=null,dt.refCount=0,delete bt[dt.id],ot.renderbufferCount--}var Ke={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Je.ext_srgb&&(Ke.srgba=35907),Je.ext_color_buffer_half_float&&(Ke.rgba16f=34842,Ke.rgb16f=34843),Je.webgl_color_buffer_float&&(Ke.rgba32f=34836);var gt=[];Object.keys(Ke).forEach(function(dt){gt[Ke[dt]]=dt});var yt=0,bt={};return Ue.prototype.decRef=function(){0>=--this.refCount&&st(this)},je.profile&&(ot.getTotalRenderbufferSize=function(){var dt=0;return Object.keys(bt).forEach(function(Lt){dt+=bt[Lt].stats.size}),dt}),{create:function(dt,Lt){function wt(zt,Dt){var Nt=0,Kt=0,un=32854;if(typeof zt=="object"&&zt?("shape"in zt?(Nt=0|(Kt=zt.shape)[0],Kt=0|Kt[1]):("radius"in zt&&(Nt=Kt=0|zt.radius),"width"in zt&&(Nt=0|zt.width),"height"in zt&&(Kt=0|zt.height)),"format"in zt&&(un=Ke[zt.format])):typeof zt=="number"?(Nt=0|zt,Kt=typeof Dt=="number"?0|Dt:Nt):zt||(Nt=Kt=1),Nt!==Ct.width||Kt!==Ct.height||un!==Ct.format)return wt.width=Ct.width=Nt,wt.height=Ct.height=Kt,Ct.format=un,He.bindRenderbuffer(36161,Ct.renderbuffer),He.renderbufferStorage(36161,un,Nt,Kt),je.profile&&(Ct.stats.size=ut[Ct.format]*Ct.width*Ct.height),wt.format=gt[Ct.format],wt}var Ct=new Ue(He.createRenderbuffer());return bt[Ct.id]=Ct,ot.renderbufferCount++,wt(dt,Lt),wt.resize=function(zt,Dt){var Nt=0|zt,Kt=0|Dt||Nt;return Nt===Ct.width&&Kt===Ct.height||(wt.width=Ct.width=Nt,wt.height=Ct.height=Kt,He.bindRenderbuffer(36161,Ct.renderbuffer),He.renderbufferStorage(36161,Ct.format,Nt,Kt),je.profile&&(Ct.stats.size=ut[Ct.format]*Ct.width*Ct.height)),wt},wt._reglType="renderbuffer",wt._renderbuffer=Ct,je.profile&&(wt.stats=Ct.stats),wt.destroy=function(){Ct.decRef()},wt},clear:function(){_e(bt).forEach(st)},restore:function(){_e(bt).forEach(function(dt){dt.renderbuffer=He.createRenderbuffer(),He.bindRenderbuffer(36161,dt.renderbuffer),He.renderbufferStorage(36161,dt.format,dt.width,dt.height)}),He.bindRenderbuffer(36161,null)}}},_t=[];_t[6408]=4,_t[6407]=3;var mt=[];mt[5121]=1,mt[5126]=4,mt[36193]=2;var it=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],nt=["x","y","z","w"],Et="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Rt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ze={cw:2304,ccw:2305},$e=new W(!1,!1,!1,function(){});return function(He){function Je(){if(Fn.length===0)qt&&qt.update(),Jn=null;else{Jn=se.next(Je),bt();for(var nn=Fn.length-1;0<=nn;--nn){var an=Fn[nn];an&&an(An,null,0)}wt.flush(),qt&&qt.update()}}function ft(){!Jn&&0<Fn.length&&(Jn=se.next(Je))}function ot(){Jn&&(se.cancel(Je),Jn=null)}function je(nn){nn.preventDefault(),ot(),Wn.forEach(function(an){an()})}function Ue(nn){wt.getError(),zt.restore(),pn.restore(),tn.restore(),wn.restore(),kn.restore(),Pn.restore(),rn.restore(),qt&&qt.restore(),On.procs.refresh(),ft(),rr.forEach(function(an){an()})}function st(nn){function an(At,Wt){var en={},dn={};return Object.keys(At).forEach(function(gn){var _n=At[gn];if(ue.isDynamic(_n))dn[gn]=ue.unbox(_n,gn);else{if(Wt&&Array.isArray(_n)){for(var on=0;on<_n.length;++on)if(ue.isDynamic(_n[on]))return void(dn[gn]=ue.unbox(_n,gn))}en[gn]=_n}}),{dynamic:dn,static:en}}var In=an(nn.context||{},!0),yn=an(nn.uniforms||{},!0),Dn=an(nn.attributes||{},!1);nn=an(function(At){function Wt(dn){if(dn in en){var gn=en[dn];delete en[dn],Object.keys(gn).forEach(function(_n){en[dn+"."+_n]=gn[_n]})}}var en=K({},At);return delete en.uniforms,delete en.attributes,delete en.context,delete en.vao,"stencil"in en&&en.stencil.op&&(en.stencil.opBack=en.stencil.opFront=en.stencil.op,delete en.stencil.op),Wt("blend"),Wt("depth"),Wt("cull"),Wt("stencil"),Wt("polygonOffset"),Wt("scissor"),Wt("sample"),"vao"in At&&(en.vao=At.vao),en}(nn),!1);var Zn={gpuTime:0,cpuTime:0,count:0},Hn=On.compile(nn,Dn,yn,In,Zn),Qn=Hn.draw,mr=Hn.batch,Qt=Hn.scope,xn=[];return K(function(At,Wt){var en;if(typeof At=="function")return Qt.call(this,null,At,0);if(typeof Wt=="function")if(typeof At=="number")for(en=0;en<At;++en)Qt.call(this,null,Wt,en);else{if(!Array.isArray(At))return Qt.call(this,At,Wt,0);for(en=0;en<At.length;++en)Qt.call(this,At[en],Wt,en)}else if(typeof At=="number"){if(0<At)return mr.call(this,function(dn){for(;xn.length<dn;)xn.push(null);return xn}(0|At),0|At)}else{if(!Array.isArray(At))return Qn.call(this,At);if(At.length)return mr.call(this,At,At.length)}},{stats:Zn,destroy:function(){Hn.destroy()}})}function Ke(nn,an){var In=0;On.procs.poll();var yn=an.color;yn&&(wt.clearColor(+yn[0]||0,+yn[1]||0,+yn[2]||0,+yn[3]||0),In|=16384),"depth"in an&&(wt.clearDepth(+an.depth),In|=256),"stencil"in an&&(wt.clearStencil(0|an.stencil),In|=1024),wt.clear(In)}function gt(nn){return Fn.push(nn),ft(),{cancel:function(){var an=$(Fn,nn);Fn[an]=function In(){var yn=$(Fn,In);Fn[yn]=Fn[Fn.length-1],--Fn.length,0>=Fn.length&&ot()}}}}function yt(){var nn=En.viewport,an=En.scissor_box;nn[0]=nn[1]=an[0]=an[1]=0,An.viewportWidth=An.framebufferWidth=An.drawingBufferWidth=nn[2]=an[2]=wt.drawingBufferWidth,An.viewportHeight=An.framebufferHeight=An.drawingBufferHeight=nn[3]=an[3]=wt.drawingBufferHeight}function bt(){An.tick+=1,An.time=Lt(),yt(),On.procs.poll()}function dt(){wn.refresh(),yt(),On.procs.refresh(),qt&&qt.update()}function Lt(){return(he()-Jt)/1e3}if(!(He=w(He)))return null;var wt=He.gl,Ct=wt.getContextAttributes();wt.isContextLost();var zt=function(nn,an){function In(Hn){var Qn;Hn=Hn.toLowerCase();try{Qn=yn[Hn]=nn.getExtension(Hn)}catch{}return!!Qn}for(var yn={},Dn=0;Dn<an.extensions.length;++Dn){var Zn=an.extensions[Dn];if(!In(Zn))return an.onDestroy(),an.onDone('"'+Zn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return an.optionalExtensions.forEach(In),{extensions:yn,restore:function(){Object.keys(yn).forEach(function(Hn){if(yn[Hn]&&!In(Hn))throw Error("(regl): error restoring extension "+Hn)})}}}(wt,He);if(!zt)return null;var Dt=function(){var nn={"":0},an=[""];return{id:function(In){var yn=nn[In];return yn||(yn=nn[In]=an.length,an.push(In),yn)},str:function(In){return an[In]}}}(),Nt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Kt=He.cachedCode||{},un=zt.extensions,qt=function(nn,an){function In(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yn(xn,At,Wt){var en=Hn.pop()||new In;en.startQueryIndex=xn,en.endQueryIndex=At,en.sum=0,en.stats=Wt,Qn.push(en)}if(!an.ext_disjoint_timer_query)return null;var Dn=[],Zn=[],Hn=[],Qn=[],mr=[],Qt=[];return{beginQuery:function(xn){var At=Dn.pop()||an.ext_disjoint_timer_query.createQueryEXT();an.ext_disjoint_timer_query.beginQueryEXT(35007,At),Zn.push(At),yn(Zn.length-1,Zn.length,xn)},endQuery:function(){an.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yn,update:function(){var xn,At;if((xn=Zn.length)!==0){Qt.length=Math.max(Qt.length,xn+1),mr.length=Math.max(mr.length,xn+1),mr[0]=0;var Wt=Qt[0]=0;for(At=xn=0;At<Zn.length;++At){var en=Zn[At];an.ext_disjoint_timer_query.getQueryObjectEXT(en,34919)?(Wt+=an.ext_disjoint_timer_query.getQueryObjectEXT(en,34918),Dn.push(en)):Zn[xn++]=en,mr[At+1]=Wt,Qt[At+1]=xn}for(Zn.length=xn,At=xn=0;At<Qn.length;++At){var dn=(Wt=Qn[At]).startQueryIndex;en=Wt.endQueryIndex,Wt.sum+=mr[en]-mr[dn],dn=Qt[dn],(en=Qt[en])===dn?(Wt.stats.gpuTime+=Wt.sum/1e6,Hn.push(Wt)):(Wt.startQueryIndex=dn,Wt.endQueryIndex=en,Qn[xn++]=Wt)}Qn.length=xn}},getNumPendingQueries:function(){return Zn.length},clear:function(){Dn.push.apply(Dn,Zn);for(var xn=0;xn<Dn.length;xn++)an.ext_disjoint_timer_query.deleteQueryEXT(Dn[xn]);Zn.length=0,Dn.length=0},restore:function(){Zn.length=0,Dn.length=0}}}(0,un),Jt=he(),Ut=wt.drawingBufferWidth,zn=wt.drawingBufferHeight,An={tick:0,time:0,viewportWidth:Ut,viewportHeight:zn,framebufferWidth:Ut,framebufferHeight:zn,drawingBufferWidth:Ut,drawingBufferHeight:zn,pixelRatio:He.pixelRatio},mn=(Ut={elements:null,primitive:4,count:-1,offset:0,instances:-1},de(wt,un)),tn=u(wt,Nt,He,function(nn){return rn.destroyBuffer(nn)}),fn=h(wt,un,tn,Nt),rn=O(wt,un,mn,Nt,tn,fn,Ut),pn=P(wt,Dt,Nt,He),wn=S(wt,un,mn,function(){On.procs.poll()},An,Nt,He),kn=xt(wt,un,0,Nt,He),Pn=T(wt,un,mn,wn,kn,Nt),On=Q(wt,Dt,un,mn,tn,fn,0,Pn,{},rn,pn,Ut,An,qt,Kt,He),En=(Dt=I(wt,Pn,On.procs.poll,An),On.next),Vn=wt.canvas,Fn=[],Wn=[],rr=[],ir=[He.onDestroy],Jn=null;Vn&&(Vn.addEventListener("webglcontextlost",je,!1),Vn.addEventListener("webglcontextrestored",Ue,!1));var dr=Pn.setFBO=st({framebuffer:ue.define.call(null,1,"framebuffer")});return dt(),Ct=K(st,{clear:function(nn){if("framebuffer"in nn)if(nn.framebuffer&&nn.framebuffer_reglType==="framebufferCube")for(var an=0;6>an;++an)dr(K({framebuffer:nn.framebuffer.faces[an]},nn),Ke);else dr(nn,Ke);else Ke(0,nn)},prop:ue.define.bind(null,1),context:ue.define.bind(null,2),this:ue.define.bind(null,3),draw:st({}),buffer:function(nn){return tn.create(nn,34962,!1,!1)},elements:function(nn){return fn.create(nn,!1)},texture:wn.create2D,cube:wn.createCube,renderbuffer:kn.create,framebuffer:Pn.create,framebufferCube:Pn.createCube,vao:rn.createVAO,attributes:Ct,frame:gt,on:function(nn,an){var In;switch(nn){case"frame":return gt(an);case"lost":In=Wn;break;case"restore":In=rr;break;case"destroy":In=ir}return In.push(an),{cancel:function(){for(var yn=0;yn<In.length;++yn)if(In[yn]===an){In[yn]=In[In.length-1],In.pop();break}}}},limits:mn,hasExtension:function(nn){return 0<=mn.extensions.indexOf(nn.toLowerCase())},read:Dt,destroy:function(){Fn.length=0,ot(),Vn&&(Vn.removeEventListener("webglcontextlost",je),Vn.removeEventListener("webglcontextrestored",Ue)),pn.clear(),Pn.clear(),kn.clear(),rn.clear(),wn.clear(),fn.clear(),tn.clear(),qt&&qt.clear(),ir.forEach(function(nn){nn()})},_gl:wt,_refresh:dt,poll:function(){bt(),qt&&qt.update()},now:Lt,stats:Nt,getCachedCode:function(){return Kt},preloadCachedCode:function(nn){Object.entries(nn).forEach(function(an){Kt[an[0]]=an[1]})}}),He.onDone(null,Ct),Ct}}()},30456:function(U,C,e){var k=e(33576),A=k.Buffer;function o(b,f){for(var s in b)f[s]=b[s]}function w(b,f,s){return A(b,f,s)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?U.exports=k:(o(k,C),C.Buffer=w),w.prototype=Object.create(A.prototype),o(A,w),w.from=function(b,f,s){if(typeof b=="number")throw new TypeError("Argument must not be a number");return A(b,f,s)},w.alloc=function(b,f,s){if(typeof b!="number")throw new TypeError("Argument must be a number");var n=A(b);return f!==void 0?typeof s=="string"?n.fill(f,s):n.fill(f):n.fill(0),n},w.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return A(b)},w.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return k.SlowBuffer(b)}},14500:function(U,C,e){var k=e(53664),A=e(64348),o=e(39640)(),w=e(2304),b=k("%TypeError%"),f=k("%Math.floor%");U.exports=function(s,n){if(typeof s!="function")throw new b("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||f(n)!==n)throw new b("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],r=!0,t=!0;if("length"in s&&w){var a=w(s,"length");a&&!a.configurable&&(r=!1),a&&!a.writable&&(t=!1)}return(r||t||!i)&&(o?A(s,"length",n,!0,!0):A(s,"length",n)),s}},29936:function(U,C,e){U.exports=A;var k=e(61252).EventEmitter;function A(){k.call(this)}e(6768)(A,k),A.Readable=e(12348),A.Writable=e(11288),A.Duplex=e(15316),A.Transform=e(22477),A.PassThrough=e(27136),A.finished=e(15932),A.pipeline=e(38180),A.Stream=A,A.prototype.pipe=function(o,w){var b=this;function f(l){o.writable&&o.write(l)===!1&&b.pause&&b.pause()}function s(){b.readable&&b.resume&&b.resume()}b.on("data",f),o.on("drain",s),o._isStdio||w&&w.end===!1||(b.on("end",i),b.on("close",r));var n=!1;function i(){n||(n=!0,o.end())}function r(){n||(n=!0,typeof o.destroy=="function"&&o.destroy())}function t(l){if(a(),k.listenerCount(this,"error")===0)throw l}function a(){b.removeListener("data",f),o.removeListener("drain",s),b.removeListener("end",i),b.removeListener("close",r),b.removeListener("error",t),o.removeListener("error",t),b.removeListener("end",a),b.removeListener("close",a),o.removeListener("close",a)}return b.on("error",t),o.on("error",t),b.on("end",a),b.on("close",a),o.on("close",a),o.emit("pipe",b),o}},92784:function(U){var C={};function e(A,o,w){w||(w=Error);var b=function(f){var s,n;function i(r,t,a){return f.call(this,function(l,u,h){return typeof o=="string"?o:o(l,u,h)}(r,t,a))||this}return n=f,(s=i).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,i}(w);b.prototype.name=w.name,b.prototype.code=A,C[A]=b}function k(A,o){if(Array.isArray(A)){var w=A.length;return A=A.map(function(b){return String(b)}),w>2?"one of ".concat(o," ").concat(A.slice(0,w-1).join(", "),", or ")+A[w-1]:w===2?"one of ".concat(o," ").concat(A[0]," or ").concat(A[1]):"of ".concat(o," ").concat(A[0])}return"of ".concat(o," ").concat(String(A))}e("ERR_INVALID_OPT_VALUE",function(A,o){return'The value "'+o+'" is invalid for option "'+A+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(A,o,w){var b,f,s,n,i;if(typeof o=="string"&&(f="not ",o.substr(0,4)===f)?(b="must not be",o=o.replace(/^not /,"")):b="must be",function(t,a,l){return(l===void 0||l>t.length)&&(l=t.length),t.substring(l-9,l)===a}(A," argument"))s="The ".concat(A," ").concat(b," ").concat(k(o,"type"));else{var r=(typeof i!="number"&&(i=0),i+1>(n=A).length||n.indexOf(".",i)===-1?"argument":"property");s='The "'.concat(A,'" ').concat(r," ").concat(b," ").concat(k(o,"type"))}return s+". Received type ".concat(typeof w)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.i=C},15316:function(U,C,e){var k=e(4168),A=Object.keys||function(t){var a=[];for(var l in t)a.push(l);return a};U.exports=n;var o=e(12348),w=e(11288);e(6768)(n,o);for(var b=A(w.prototype),f=0;f<b.length;f++){var s=b[f];n.prototype[s]||(n.prototype[s]=w.prototype[s])}function n(t){if(!(this instanceof n))return new n(t);o.call(this,t),w.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||k.nextTick(r,this)}function r(t){t.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},27136:function(U,C,e){U.exports=A;var k=e(22477);function A(o){if(!(this instanceof A))return new A(o);k.call(this,o)}e(6768)(A,k),A.prototype._transform=function(o,w,b){b(null,o)}},12348:function(U,C,e){var k,A=e(4168);U.exports=_,_.ReadableState=m,e(61252).EventEmitter;var o,w=function(ne,te){return ne.listeners(te).length},b=e(4776),f=e(33576).Buffer,s=e.g.Uint8Array||function(){},n=e(19768);o=n&&n.debuglog?n.debuglog("stream"):function(){};var i,r,t,a=e(47264),l=e(55324),u=e(24888).getHighWaterMark,h=e(92784).i,c=h.ERR_INVALID_ARG_TYPE,y=h.ERR_STREAM_PUSH_AFTER_EOF,d=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(_,b);var g=l.errorOrDestroy,x=["error","close","destroy","pause","resume"];function m(ne,te,Q){k=k||e(15316),ne=ne||{},typeof Q!="boolean"&&(Q=te instanceof k),this.objectMode=!!ne.objectMode,Q&&(this.objectMode=this.objectMode||!!ne.readableObjectMode),this.highWaterMark=u(this,ne,"readableHighWaterMark",Q),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ne.emitClose!==!1,this.autoDestroy=!!ne.autoDestroy,this.destroyed=!1,this.defaultEncoding=ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ne.encoding&&(i||(i=e(86032).o),this.decoder=new i(ne.encoding),this.encoding=ne.encoding)}function _(ne){if(k=k||e(15316),!(this instanceof _))return new _(ne);var te=this instanceof k;this._readableState=new m(ne,this,te),this.readable=!0,ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy)),b.call(this)}function p(ne,te,Q,$,K){o("readableAddChunk",te);var ae,ue=ne._readableState;if(te===null)ue.reading=!1,function(se,he){if(o("onEofChunk"),!he.ended){if(he.decoder){var pe=he.decoder.end();pe&&pe.length&&(he.buffer.push(pe),he.length+=he.objectMode?1:pe.length)}he.ended=!0,he.sync?O(se):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,P(se)))}}(ne,ue);else if(K||(ae=function(se,he){var pe,de;return de=he,f.isBuffer(de)||de instanceof s||typeof he=="string"||he===void 0||se.objectMode||(pe=new c("chunk",["string","Buffer","Uint8Array"],he)),pe}(ue,te)),ae)g(ne,ae);else if(ue.objectMode||te&&te.length>0)if(typeof te=="string"||ue.objectMode||Object.getPrototypeOf(te)===f.prototype||(te=function(se){return f.from(se)}(te)),$)ue.endEmitted?g(ne,new v):S(ne,ue,te,!0);else if(ue.ended)g(ne,new y);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!Q?(te=ue.decoder.write(te),ue.objectMode||te.length!==0?S(ne,ue,te,!1):I(ne,ue)):S(ne,ue,te,!1)}else $||(ue.reading=!1,I(ne,ue));return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function S(ne,te,Q,$){te.flowing&&te.length===0&&!te.sync?(te.awaitDrain=0,ne.emit("data",Q)):(te.length+=te.objectMode?1:Q.length,$?te.buffer.unshift(Q):te.buffer.push(Q),te.needReadable&&O(ne)),I(ne,te)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(ne){this._readableState&&(this._readableState.destroyed=ne)}}),_.prototype.destroy=l.destroy,_.prototype._undestroy=l.undestroy,_.prototype._destroy=function(ne,te){te(ne)},_.prototype.push=function(ne,te){var Q,$=this._readableState;return $.objectMode?Q=!0:typeof ne=="string"&&((te=te||$.defaultEncoding)!==$.encoding&&(ne=f.from(ne,te),te=""),Q=!0),p(this,ne,te,!1,Q)},_.prototype.unshift=function(ne){return p(this,ne,null,!0,!1)},_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(ne){i||(i=e(86032).o);var te=new i(ne);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,$="";Q!==null;)$+=te.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),$!==""&&this._readableState.buffer.push($),this._readableState.length=$.length,this};var T=1073741824;function E(ne,te){return ne<=0||te.length===0&&te.ended?0:te.objectMode?1:ne!=ne?te.flowing&&te.length?te.buffer.head.data.length:te.length:(ne>te.highWaterMark&&(te.highWaterMark=function(Q){return Q>=T?Q=T:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}(ne)),ne<=te.length?ne:te.ended?te.length:(te.needReadable=!0,0))}function O(ne){var te=ne._readableState;o("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(o("emitReadable",te.flowing),te.emittedReadable=!0,A.nextTick(P,ne))}function P(ne){var te=ne._readableState;o("emitReadable_",te.destroyed,te.length,te.ended),te.destroyed||!te.length&&!te.ended||(ne.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,Z(ne)}function I(ne,te){te.readingMore||(te.readingMore=!0,A.nextTick(R,ne,te))}function R(ne,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){var Q=te.length;if(o("maybeReadMore read 0"),ne.read(0),Q===te.length)break}te.readingMore=!1}function H(ne){var te=ne._readableState;te.readableListening=ne.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:ne.listenerCount("data")>0&&ne.resume()}function z(ne){o("readable nexttick read 0"),ne.read(0)}function j(ne,te){o("resume",te.reading),te.reading||ne.read(0),te.resumeScheduled=!1,ne.emit("resume"),Z(ne),te.flowing&&!te.reading&&ne.read(0)}function Z(ne){var te=ne._readableState;for(o("flow",te.flowing);te.flowing&&ne.read()!==null;);}function F(ne,te){return te.length===0?null:(te.objectMode?Q=te.buffer.shift():!ne||ne>=te.length?(Q=te.decoder?te.buffer.join(""):te.buffer.length===1?te.buffer.first():te.buffer.concat(te.length),te.buffer.clear()):Q=te.buffer.consume(ne,te.decoder),Q);var Q}function V(ne){var te=ne._readableState;o("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,A.nextTick(W,te,ne))}function W(ne,te){if(o("endReadableNT",ne.endEmitted,ne.length),!ne.endEmitted&&ne.length===0&&(ne.endEmitted=!0,te.readable=!1,te.emit("end"),ne.autoDestroy)){var Q=te._writableState;(!Q||Q.autoDestroy&&Q.finished)&&te.destroy()}}function re(ne,te){for(var Q=0,$=ne.length;Q<$;Q++)if(ne[Q]===te)return Q;return-1}_.prototype.read=function(ne){o("read",ne),ne=parseInt(ne,10);var te=this._readableState,Q=ne;if(ne!==0&&(te.emittedReadable=!1),ne===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return o("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?V(this):O(this),null;if((ne=E(ne,te))===0&&te.ended)return te.length===0&&V(this),null;var $,K=te.needReadable;return o("need readable",K),(te.length===0||te.length-ne<te.highWaterMark)&&o("length less than watermark",K=!0),te.ended||te.reading?o("reading or ended",K=!1):K&&(o("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(ne=E(Q,te))),($=ne>0?F(ne,te):null)===null?(te.needReadable=te.length<=te.highWaterMark,ne=0):(te.length-=ne,te.awaitDrain=0),te.length===0&&(te.ended||(te.needReadable=!0),Q!==ne&&te.ended&&V(this)),$!==null&&this.emit("data",$),$},_.prototype._read=function(ne){g(this,new d("_read()"))},_.prototype.pipe=function(ne,te){var Q=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=ne;break;case 1:$.pipes=[$.pipes,ne];break;default:$.pipes.push(ne)}$.pipesCount+=1,o("pipe count=%d opts=%j",$.pipesCount,te);var K=te&&te.end===!1||ne===A.stdout||ne===A.stderr?_e:ae;function ae(){o("onend"),ne.end()}$.endEmitted?A.nextTick(K):Q.once("end",K),ne.on("unpipe",function be(Le,De){o("onunpipe"),Le===Q&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,o("cleanup"),ne.removeListener("close",de),ne.removeListener("finish",xe),ne.removeListener("drain",ue),ne.removeListener("error",pe),ne.removeListener("unpipe",be),Q.removeListener("end",ae),Q.removeListener("end",_e),Q.removeListener("data",he),se=!0,!$.awaitDrain||ne._writableState&&!ne._writableState.needDrain||ue())});var ue=function(be){return function(){var Le=be._readableState;o("pipeOnDrain",Le.awaitDrain),Le.awaitDrain&&Le.awaitDrain--,Le.awaitDrain===0&&w(be,"data")&&(Le.flowing=!0,Z(be))}}(Q);ne.on("drain",ue);var se=!1;function he(be){o("ondata");var Le=ne.write(be);o("dest.write",Le),Le===!1&&(($.pipesCount===1&&$.pipes===ne||$.pipesCount>1&&re($.pipes,ne)!==-1)&&!se&&(o("false write response, pause",$.awaitDrain),$.awaitDrain++),Q.pause())}function pe(be){o("onerror",be),_e(),ne.removeListener("error",pe),w(ne,"error")===0&&g(ne,be)}function de(){ne.removeListener("finish",xe),_e()}function xe(){o("onfinish"),ne.removeListener("close",de),_e()}function _e(){o("unpipe"),Q.unpipe(ne)}return Q.on("data",he),function(be,Le,De){if(typeof be.prependListener=="function")return be.prependListener(Le,De);be._events&&be._events[Le]?Array.isArray(be._events[Le])?be._events[Le].unshift(De):be._events[Le]=[De,be._events[Le]]:be.on(Le,De)}(ne,"error",pe),ne.once("close",de),ne.once("finish",xe),ne.emit("pipe",Q),$.flowing||(o("pipe resume"),Q.resume()),ne},_.prototype.unpipe=function(ne){var te=this._readableState,Q={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return ne&&ne!==te.pipes||(ne||(ne=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,ne&&ne.emit("unpipe",this,Q)),this;if(!ne){var $=te.pipes,K=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var ae=0;ae<K;ae++)$[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=re(te.pipes,ne);return ue===-1||(te.pipes.splice(ue,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),ne.emit("unpipe",this,Q)),this},_.prototype.on=function(ne,te){var Q=b.prototype.on.call(this,ne,te),$=this._readableState;return ne==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):ne==="readable"&&($.endEmitted||$.readableListening||($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,o("on readable",$.length,$.reading),$.length?O(this):$.reading||A.nextTick(z,this))),Q},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(ne,te){var Q=b.prototype.removeListener.call(this,ne,te);return ne==="readable"&&A.nextTick(H,this),Q},_.prototype.removeAllListeners=function(ne){var te=b.prototype.removeAllListeners.apply(this,arguments);return ne!=="readable"&&ne!==void 0||A.nextTick(H,this),te},_.prototype.resume=function(){var ne=this._readableState;return ne.flowing||(o("resume"),ne.flowing=!ne.readableListening,function(te,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,A.nextTick(j,te,Q))}(this,ne)),ne.paused=!1,this},_.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(ne){var te=this,Q=this._readableState,$=!1;for(var K in ne.on("end",function(){if(o("wrapped end"),Q.decoder&&!Q.ended){var ue=Q.decoder.end();ue&&ue.length&&te.push(ue)}te.push(null)}),ne.on("data",function(ue){o("wrapped data"),Q.decoder&&(ue=Q.decoder.write(ue)),Q.objectMode&&ue==null||(Q.objectMode||ue&&ue.length)&&(te.push(ue)||($=!0,ne.pause()))}),ne)this[K]===void 0&&typeof ne[K]=="function"&&(this[K]=function(ue){return function(){return ne[ue].apply(ne,arguments)}}(K));for(var ae=0;ae<x.length;ae++)ne.on(x[ae],this.emit.bind(this,x[ae]));return this._read=function(ue){o("wrapped _read",ue),$&&($=!1,ne.resume())},this},typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return r===void 0&&(r=e(60328)),r(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(_.from=function(ne,te){return t===void 0&&(t=e(90555)),t(_,ne,te)})},22477:function(U,C,e){U.exports=n;var k=e(92784).i,A=k.ERR_METHOD_NOT_IMPLEMENTED,o=k.ERR_MULTIPLE_CALLBACK,w=k.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=k.ERR_TRANSFORM_WITH_LENGTH_0,f=e(15316);function s(t,a){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new o);l.writechunk=null,l.writecb=null,a!=null&&this.push(a),u(t);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function n(t){if(!(this instanceof n))return new n(t);f.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",i)}function i(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(a,l){r(t,a,l)})}function r(t,a,l){if(a)return t.emit("error",a);if(l!=null&&t.push(l),t._writableState.length)throw new b;if(t._transformState.transforming)throw new w;return t.push(null)}e(6768)(n,f),n.prototype.push=function(t,a){return this._transformState.needTransform=!1,f.prototype.push.call(this,t,a)},n.prototype._transform=function(t,a,l){l(new A("_transform()"))},n.prototype._write=function(t,a,l){var u=this._transformState;if(u.writecb=l,u.writechunk=t,u.writeencoding=a,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},n.prototype._read=function(t){var a=this._transformState;a.writechunk===null||a.transforming?a.needTransform=!0:(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform))},n.prototype._destroy=function(t,a){f.prototype._destroy.call(this,t,function(l){a(l)})}},11288:function(U,C,e){var k,A=e(4168);function o(I){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(H,z,j){var Z=H.entry;for(H.entry=null;Z;){var F=Z.callback;z.pendingcb--,F(void 0),Z=Z.next}z.corkedRequestsFree.next=H})(R,I)}}U.exports=_,_.WritableState=m;var w,b={deprecate:e(96656)},f=e(4776),s=e(33576).Buffer,n=e.g.Uint8Array||function(){},i=e(55324),r=e(24888).getHighWaterMark,t=e(92784).i,a=t.ERR_INVALID_ARG_TYPE,l=t.ERR_METHOD_NOT_IMPLEMENTED,u=t.ERR_MULTIPLE_CALLBACK,h=t.ERR_STREAM_CANNOT_PIPE,c=t.ERR_STREAM_DESTROYED,y=t.ERR_STREAM_NULL_VALUES,d=t.ERR_STREAM_WRITE_AFTER_END,v=t.ERR_UNKNOWN_ENCODING,g=i.errorOrDestroy;function x(){}function m(I,R,H){k=k||e(15316),I=I||{},typeof H!="boolean"&&(H=R instanceof k),this.objectMode=!!I.objectMode,H&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=r(this,I,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=I.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(Z,F){var V=Z._writableState,W=V.sync,re=V.writecb;if(typeof re!="function")throw new u;if(function(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}(V),F)(function(te,Q,$,K,ae){--Q.pendingcb,$?(A.nextTick(ae,K),A.nextTick(P,te,Q),te._writableState.errorEmitted=!0,g(te,K)):(ae(K),te._writableState.errorEmitted=!0,g(te,K),P(te,Q))})(Z,V,W,F,re);else{var ne=E(V)||Z.destroyed;ne||V.corked||V.bufferProcessing||!V.bufferedRequest||T(Z,V),W?A.nextTick(S,Z,V,ne,re):S(Z,V,ne,re)}})(R,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function _(I){var R=this instanceof(k=k||e(15316));if(!R&&!w.call(_,this))return new _(I);this._writableState=new m(I,this,R),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),f.call(this)}function p(I,R,H,z,j,Z,F){R.writelen=z,R.writecb=F,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):H?I._writev(j,R.onwrite):I._write(j,Z,R.onwrite),R.sync=!1}function S(I,R,H,z){H||function(j,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,j.emit("drain"))}(I,R),R.pendingcb--,z(),P(I,R)}function T(I,R){R.bufferProcessing=!0;var H=R.bufferedRequest;if(I._writev&&H&&H.next){var z=R.bufferedRequestCount,j=new Array(z),Z=R.corkedRequestsFree;Z.entry=H;for(var F=0,V=!0;H;)j[F]=H,H.isBuf||(V=!1),H=H.next,F+=1;j.allBuffers=V,p(I,R,!0,R.length,j,"",Z.finish),R.pendingcb++,R.lastBufferedRequest=null,Z.next?(R.corkedRequestsFree=Z.next,Z.next=null):R.corkedRequestsFree=new o(R),R.bufferedRequestCount=0}else{for(;H;){var W=H.chunk,re=H.encoding,ne=H.callback;if(p(I,R,!1,R.objectMode?1:W.length,W,re,ne),H=H.next,R.bufferedRequestCount--,R.writing)break}H===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=H,R.bufferProcessing=!1}function E(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function O(I,R){I._final(function(H){R.pendingcb--,H&&g(I,H),R.prefinished=!0,I.emit("prefinish"),P(I,R)})}function P(I,R){var H=E(R);if(H&&(function(j,Z){Z.prefinished||Z.finalCalled||(typeof j._final!="function"||Z.destroyed?(Z.prefinished=!0,j.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,A.nextTick(O,j,Z)))}(I,R),R.pendingcb===0&&(R.finished=!0,I.emit("finish"),R.autoDestroy))){var z=I._readableState;(!z||z.autoDestroy&&z.endEmitted)&&I.destroy()}return H}e(6768)(_,f),m.prototype.getBuffer=function(){for(var I=this.bufferedRequest,R=[];I;)R.push(I),I=I.next;return R},function(){try{Object.defineProperty(m.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(I){return!!w.call(this,I)||this===_&&I&&I._writableState instanceof m}})):w=function(I){return I instanceof this},_.prototype.pipe=function(){g(this,new h)},_.prototype.write=function(I,R,H){var z,j=this._writableState,Z=!1,F=!j.objectMode&&(z=I,s.isBuffer(z)||z instanceof n);return F&&!s.isBuffer(I)&&(I=function(V){return s.from(V)}(I)),typeof R=="function"&&(H=R,R=null),F?R="buffer":R||(R=j.defaultEncoding),typeof H!="function"&&(H=x),j.ending?function(V,W){var re=new d;g(V,re),A.nextTick(W,re)}(this,H):(F||function(V,W,re,ne){var te;return re===null?te=new y:typeof re=="string"||W.objectMode||(te=new a("chunk",["string","Buffer"],re)),!te||(g(V,te),A.nextTick(ne,te),!1)}(this,j,I,H))&&(j.pendingcb++,Z=function(V,W,re,ne,te,Q){if(!re){var $=function(se,he,pe){return se.objectMode||se.decodeStrings===!1||typeof he!="string"||(he=s.from(he,pe)),he}(W,ne,te);ne!==$&&(re=!0,te="buffer",ne=$)}var K=W.objectMode?1:ne.length;W.length+=K;var ae=W.length<W.highWaterMark;if(ae||(W.needDrain=!0),W.writing||W.corked){var ue=W.lastBufferedRequest;W.lastBufferedRequest={chunk:ne,encoding:te,isBuf:re,callback:Q,next:null},ue?ue.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else p(V,W,!1,K,ne,te,Q);return ae}(this,j,F,I,R,H)),Z},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||T(this,I))},_.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new v(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(I,R,H){H(new l("_write()"))},_.prototype._writev=null,_.prototype.end=function(I,R,H){var z=this._writableState;return typeof I=="function"?(H=I,I=null,R=null):typeof R=="function"&&(H=R,R=null),I!=null&&this.write(I,R),z.corked&&(z.corked=1,this.uncork()),z.ending||function(j,Z,F){Z.ending=!0,P(j,Z),F&&(Z.finished?A.nextTick(F):j.once("finish",F)),Z.ended=!0,j.writable=!1}(this,z,H),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),_.prototype.destroy=i.destroy,_.prototype._undestroy=i.undestroy,_.prototype._destroy=function(I,R){R(I)}},60328:function(U,C,e){var k,A=e(4168);function o(y,d,v){return d in y?Object.defineProperty(y,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[d]=v,y}var w=e(15932),b=Symbol("lastResolve"),f=Symbol("lastReject"),s=Symbol("error"),n=Symbol("ended"),i=Symbol("lastPromise"),r=Symbol("handlePromise"),t=Symbol("stream");function a(y,d){return{value:y,done:d}}function l(y){var d=y[b];if(d!==null){var v=y[t].read();v!==null&&(y[i]=null,y[b]=null,y[f]=null,d(a(v,!1)))}}function u(y){A.nextTick(l,y)}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((o(k={get stream(){return this[t]},next:function(){var y=this,d=this[s];if(d!==null)return Promise.reject(d);if(this[n])return Promise.resolve(a(void 0,!0));if(this[t].destroyed)return new Promise(function(m,_){A.nextTick(function(){y[s]?_(y[s]):m(a(void 0,!0))})});var v,g=this[i];if(g)v=new Promise(function(m,_){return function(p,S){m.then(function(){_[n]?p(a(void 0,!0)):_[r](p,S)},S)}}(g,this));else{var x=this[t].read();if(x!==null)return Promise.resolve(a(x,!1));v=new Promise(this[r])}return this[i]=v,v}},Symbol.asyncIterator,function(){return this}),o(k,"return",function(){var y=this;return new Promise(function(d,v){y[t].destroy(null,function(g){g?v(g):d(a(void 0,!0))})})}),k),h);U.exports=function(y){var d,v=Object.create(c,(o(d={},t,{value:y,writable:!0}),o(d,b,{value:null,writable:!0}),o(d,f,{value:null,writable:!0}),o(d,s,{value:null,writable:!0}),o(d,n,{value:y._readableState.endEmitted,writable:!0}),o(d,r,{value:function(g,x){var m=v[t].read();m?(v[i]=null,v[b]=null,v[f]=null,g(a(m,!1))):(v[b]=g,v[f]=x)},writable:!0}),d));return v[i]=null,w(y,function(g){if(g&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=v[f];return x!==null&&(v[i]=null,v[b]=null,v[f]=null,x(g)),void(v[s]=g)}var m=v[b];m!==null&&(v[i]=null,v[b]=null,v[f]=null,m(a(void 0,!0))),v[n]=!0}),y.on("readable",u.bind(null,v)),v}},47264:function(U,C,e){function k(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})),i.push.apply(i,r)}return i}function A(s,n,i){return n in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function o(s,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}var w=e(33576).Buffer,b=e(21576).inspect,f=b&&b.custom||"inspect";U.exports=function(){function s(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var n,i;return n=s,i=[{key:"push",value:function(r){var t={data:r,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(r){var t={data:r,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var t=this.head,a=""+t.data;t=t.next;)a+=r+t.data;return a}},{key:"concat",value:function(r){if(this.length===0)return w.alloc(0);for(var t,a,l,u=w.allocUnsafe(r>>>0),h=this.head,c=0;h;)t=h.data,a=u,l=c,w.prototype.copy.call(t,a,l),c+=h.data.length,h=h.next;return u}},{key:"consume",value:function(r,t){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):a=r===this.head.data.length?this.shift():t?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var t=this.head,a=1,l=t.data;for(r-=l.length;t=t.next;){var u=t.data,h=r>u.length?u.length:r;if(h===u.length?l+=u:l+=u.slice(0,r),(r-=h)==0){h===u.length?(++a,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=u.slice(h));break}++a}return this.length-=a,l}},{key:"_getBuffer",value:function(r){var t=w.allocUnsafe(r),a=this.head,l=1;for(a.data.copy(t),r-=a.data.length;a=a.next;){var u=a.data,h=r>u.length?u.length:r;if(u.copy(t,t.length-r,0,h),(r-=h)==0){h===u.length?(++l,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=u.slice(h));break}++l}return this.length-=l,t}},{key:f,value:function(r,t){return b(this,function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?k(Object(u),!0).forEach(function(h){A(a,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):k(Object(u)).forEach(function(h){Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(u,h))})}return a}({},t,{depth:0,customInspect:!1}))}}],i&&o(n.prototype,i),s}()},55324:function(U,C,e){var k=e(4168);function A(b,f){w(b,f),o(b)}function o(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function w(b,f){b.emit("error",f)}U.exports={destroy:function(b,f){var s=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(f?f(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,k.nextTick(w,this,b)):k.nextTick(w,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(r){!f&&r?s._writableState?s._writableState.errorEmitted?k.nextTick(o,s):(s._writableState.errorEmitted=!0,k.nextTick(A,s,r)):k.nextTick(A,s,r):f?(k.nextTick(o,s),f(r)):k.nextTick(o,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,f){var s=b._readableState,n=b._writableState;s&&s.autoDestroy||n&&n.autoDestroy?b.destroy(f):b.emit("error",f)}}},15932:function(U,C,e){var k=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function A(){}U.exports=function o(w,b,f){if(typeof b=="function")return o(w,null,b);b||(b={}),f=function(y){var d=!1;return function(){if(!d){d=!0;for(var v=arguments.length,g=new Array(v),x=0;x<v;x++)g[x]=arguments[x];y.apply(this,g)}}}(f||A);var s=b.readable||b.readable!==!1&&w.readable,n=b.writable||b.writable!==!1&&w.writable,i=function(){w.writable||t()},r=w._writableState&&w._writableState.finished,t=function(){n=!1,r=!0,s||f.call(w)},a=w._readableState&&w._readableState.endEmitted,l=function(){s=!1,a=!0,n||f.call(w)},u=function(y){f.call(w,y)},h=function(){var y;return s&&!a?(w._readableState&&w._readableState.ended||(y=new k),f.call(w,y)):n&&!r?(w._writableState&&w._writableState.ended||(y=new k),f.call(w,y)):void 0},c=function(){w.req.on("finish",t)};return function(y){return y.setHeader&&typeof y.abort=="function"}(w)?(w.on("complete",t),w.on("abort",h),w.req?c():w.on("request",c)):n&&!w._writableState&&(w.on("end",i),w.on("close",i)),w.on("end",l),w.on("finish",t),b.error!==!1&&w.on("error",u),w.on("close",h),function(){w.removeListener("complete",t),w.removeListener("abort",h),w.removeListener("request",c),w.req&&w.req.removeListener("finish",t),w.removeListener("end",i),w.removeListener("close",i),w.removeListener("finish",t),w.removeListener("end",l),w.removeListener("error",u),w.removeListener("close",h)}}},90555:function(U){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(U,C,e){var k,A=e(92784).i,o=A.ERR_MISSING_ARGS,w=A.ERR_STREAM_DESTROYED;function b(n){if(n)throw n}function f(n){n()}function s(n,i){return n.pipe(i)}U.exports=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var t,a=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new o("streams");var l=i.map(function(u,h){var c=h<i.length-1;return function(y,d,v,g){g=function(_){var p=!1;return function(){p||(p=!0,_.apply(void 0,arguments))}}(g);var x=!1;y.on("close",function(){x=!0}),k===void 0&&(k=e(15932)),k(y,{readable:d,writable:v},function(_){if(_)return g(_);x=!0,g()});var m=!1;return function(_){if(!x&&!m)return m=!0,function(p){return p.setHeader&&typeof p.abort=="function"}(y)?y.abort():typeof y.destroy=="function"?y.destroy():void g(_||new w("pipe"))}}(u,c,h>0,function(y){t||(t=y),y&&l.forEach(f),c||(l.forEach(f),a(t))})});return i.reduce(s)}},24888:function(U,C,e){var k=e(92784).i.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:function(A,o,w,b){var f=function(s,n,i){return s.highWaterMark!=null?s.highWaterMark:n?s[i]:null}(o,b,w);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new k(b?w:"highWaterMark",f);return Math.floor(f)}return A.objectMode?16:16384}}},4776:function(U,C,e){U.exports=e(61252).EventEmitter},86032:function(U,C,e){var k=e(30456).Buffer,A=k.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(a){var l;switch(this.encoding=function(u){var h=function(c){if(!c)return"utf8";for(var y;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(y)return;c=(""+c).toLowerCase(),y=!0}}(u);if(typeof h!="string"&&(k.isEncoding===A||!A(u)))throw new Error("Unknown encoding: "+u);return h||u}(a),this.encoding){case"utf16le":this.text=f,this.end=s,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=n,this.end=i,l=3;break;default:return this.write=r,void(this.end=t)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(l)}function w(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function b(a){var l=this.lastTotal-this.lastNeed,u=function(h,c,y){if((192&c[0])!=128)return h.lastNeed=0,"�";if(h.lastNeed>1&&c.length>1){if((192&c[1])!=128)return h.lastNeed=1,"�";if(h.lastNeed>2&&c.length>2&&(192&c[2])!=128)return h.lastNeed=2,"�"}}(this,a);return u!==void 0?u:this.lastNeed<=a.length?(a.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,l,0,a.length),void(this.lastNeed-=a.length))}function f(a,l){if((a.length-l)%2==0){var u=a.toString("utf16le",l);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",l,a.length-1)}function s(a){var l=a&&a.length?this.write(a):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function n(a,l){var u=(a.length-l)%3;return u===0?a.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",l,a.length-u))}function i(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function r(a){return a.toString(this.encoding)}function t(a){return a&&a.length?this.write(a):""}C.o=o,o.prototype.write=function(a){if(a.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(a))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<a.length?l?l+this.text(a,u):this.text(a,u):l||""},o.prototype.end=function(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+"�":l},o.prototype.text=function(a,l){var u=function(c,y,d){var v=y.length-1;if(v<d)return 0;var g=w(y[v]);return g>=0?(g>0&&(c.lastNeed=g-1),g):--v<d||g===-2?0:(g=w(y[v]))>=0?(g>0&&(c.lastNeed=g-2),g):--v<d||g===-2?0:(g=w(y[v]))>=0?(g>0&&(g===2?g=0:c.lastNeed=g-3),g):0}(this,a,l);if(!this.lastNeed)return a.toString("utf8",l);this.lastTotal=u;var h=a.length-(u-this.lastNeed);return a.copy(this.lastChar,0,h),a.toString("utf8",l,h)},o.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},55619:function(U,C,e){var k=e(45408),A=e(86844)("stream-parser");U.exports=function(c){var y=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!y&&!d)throw new Error("must pass a Writable or Transform stream in");A("extending Parser into stream"),c._bytes=n,c._skipBytes=i,y&&(c._passthrough=r),y?c._transform=a:c._write=t};var o=-1,w=0,b=1,f=2;function s(c){A("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=o,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function n(c,y){k(!this._parserCallback,'there is already a "callback" set!'),k(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),A("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=y,this._parserState=w}function i(c,y){k(!this._parserCallback,'there is already a "callback" set!'),k(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),A("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=y,this._parserState=b}function r(c,y){k(!this._parserCallback,'There is already a "callback" set!'),k(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),A("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=y,this._parserState=f}function t(c,y,d){this._parserInit||s(this),A("write(%o bytes)",c.length),typeof y=="function"&&(d=y),u(this,c,null,d)}function a(c,y,d){this._parserInit||s(this),A("transform(%o bytes)",c.length),typeof y!="function"&&(y=this._parserOutput),u(this,c,y,d)}function l(c,y,d,v){if(c._parserBytesLeft-=y.length,A("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===w?(c._parserBuffers.push(y),c._parserBuffered+=y.length):c._parserState===f&&d(y),c._parserBytesLeft!==0)return v;var g=c._parserCallback;if(g&&c._parserState===w&&c._parserBuffers.length>1&&(y=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==w&&(y=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=o,c._parserBuffers.splice(0),g){var x=[];y&&x.push(y),d&&x.push(d);var m=g.length>x.length;m&&x.push(h(v));var _=g.apply(c,x);if(!m||v===_)return v}}var u=h(function c(y,d,v,g){return y._parserBytesLeft<=0?g(new Error("got data but not currently parsing anything")):d.length<=y._parserBytesLeft?function(){return l(y,d,v,g)}:function(){var x=d.slice(0,y._parserBytesLeft);return l(y,x,v,function(m){return m?g(m):d.length>x.length?function(){return c(y,d.slice(x.length),v,g)}:void 0})}});function h(c){return function(){for(var y=c.apply(this,arguments);typeof y=="function";)y=y();return y}}},86844:function(U,C,e){var k=e(4168);function A(){var o;try{o=C.storage.debug}catch{}return!o&&k!==void 0&&"env"in k&&(o=k.env.DEBUG),o}(C=U.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},C.formatArgs=function(o){var w=this.useColors;if(o[0]=(w?"%c":"")+this.namespace+(w?" %c":" ")+o[0]+(w?"%c ":" ")+"+"+C.humanize(this.diff),w){var b="color: "+this.color;o.splice(1,0,b,"color: inherit");var f=0,s=0;o[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(f++,n==="%c"&&(s=f))}),o.splice(s,0,b)}},C.save=function(o){try{o==null?C.storage.removeItem("debug"):C.storage.debug=o}catch{}},C.load=A,C.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},C.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),C.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],C.formatters.j=function(o){try{return JSON.stringify(o)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}},C.enable(A())},89416:function(U,C,e){var k;function A(o){function w(){if(w.enabled){var b=w,f=+new Date,s=f-(k||f);b.diff=s,b.prev=k,b.curr=f,k=f;for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];n[0]=C.coerce(n[0]),typeof n[0]!="string"&&n.unshift("%O");var r=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(t,a){if(t==="%%")return t;r++;var l=C.formatters[a];if(typeof l=="function"){var u=n[r];t=l.call(b,u),n.splice(r,1),r--}return t}),C.formatArgs.call(b,n),(w.log||C.log||console.log.bind(console)).apply(b,n)}}return w.namespace=o,w.enabled=C.enabled(o),w.useColors=C.useColors(),w.color=function(b){var f,s=0;for(f in b)s=(s<<5)-s+b.charCodeAt(f),s|=0;return C.colors[Math.abs(s)%C.colors.length]}(o),typeof C.init=="function"&&C.init(w),w}(C=U.exports=A.debug=A.default=A).coerce=function(o){return o instanceof Error?o.stack||o.message:o},C.disable=function(){C.enable("")},C.enable=function(o){C.save(o),C.names=[],C.skips=[];for(var w=(typeof o=="string"?o:"").split(/[\s,]+/),b=w.length,f=0;f<b;f++)w[f]&&((o=w[f].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+o.substr(1)+"$")):C.names.push(new RegExp("^"+o+"$")))},C.enabled=function(o){var w,b;for(w=0,b=C.skips.length;w<b;w++)if(C.skips[w].test(o))return!1;for(w=0,b=C.names.length;w<b;w++)if(C.names[w].test(o))return!0;return!1},C.humanize=e(93744),C.names=[],C.skips=[],C.formatters={}},93744:function(U){var C=1e3,e=60*C,k=60*e,A=24*k;function o(w,b,f){if(!(w<b))return w<1.5*b?Math.floor(w/b)+" "+f:Math.ceil(w/b)+" "+f+"s"}U.exports=function(w,b){b=b||{};var f,s=typeof w;if(s==="string"&&w.length>0)return function(n){if(!((n=String(n)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*A;case"hours":case"hour":case"hrs":case"hr":case"h":return r*k;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*C;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(w);if(s==="number"&&isNaN(w)===!1)return b.long?o(f=w,A,"day")||o(f,k,"hour")||o(f,e,"minute")||o(f,C,"second")||f+" ms":function(n){return n>=A?Math.round(n/A)+"d":n>=k?Math.round(n/k)+"h":n>=e?Math.round(n/e)+"m":n>=C?Math.round(n/C)+"s":n+"ms"}(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},39956:function(U,C,e){var k=e(32868);U.exports=function(A,o,w){if(A==null)throw Error("First argument should be a string");if(o==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(t){return t.length===1&&(t+=t),t}));var b=k.parse(A,{flat:!0,brackets:w.ignore}),f=b[0].split(o);if(w.escape){for(var s=[],n=0;n<f.length;n++){var i=f[n],r=f[n+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(s.push(i+o+r),n++):s.push(i)}f=s}for(n=0;n<f.length;n++)b[0]=f[n],f[n]=k.stringify(b,{flat:!0});return f}},78484:function(U){U.exports=function(C){for(var e=C.length,k=new Array(e),A=new Array(e),o=new Array(e),w=new Array(e),b=new Array(e),f=new Array(e),s=0;s<e;++s)k[s]=-1,A[s]=0,o[s]=!1,w[s]=0,b[s]=-1,f[s]=[];var n,i=0,r=[],t=[];function a(h){var c=[h],y=[h];for(k[h]=A[h]=i,o[h]=!0,i+=1;y.length>0;){h=y[y.length-1];var d=C[h];if(w[h]<d.length){for(var v=w[h];v<d.length;++v){var g=d[v];if(k[g]<0){k[g]=A[g]=i,o[g]=!0,i+=1,c.push(g),y.push(g);break}o[g]&&(A[h]=0|Math.min(A[h],A[g])),b[g]>=0&&f[h].push(b[g])}w[h]=v}else{if(A[h]===k[h]){var x=[],m=[],_=0;for(v=c.length-1;v>=0;--v){var p=c[v];if(o[p]=!1,x.push(p),m.push(f[p]),_+=f[p].length,b[p]=r.length,p===h){c.length=v;break}}r.push(x);var S=new Array(_);for(v=0;v<m.length;v++)for(var T=0;T<m[v].length;T++)S[--_]=m[v][T];t.push(S)}y.pop()}}}for(s=0;s<e;++s)k[s]<0&&a(s);for(s=0;s<t.length;s++){var l=t[s];if(l.length!==0){l.sort(function(h,c){return h-c}),n=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&n.push(l[u]);t[s]=n}}return{components:r,adjacencyList:t}}},92848:function(U,C,e){e.r(C);var k=2*Math.PI,A=function(b,f,s,n,i,r,t){var a=b.x,l=b.y;return{x:n*(a*=f)-i*(l*=s)+r,y:i*a+n*l+t}},o=function(b,f){var s=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),n=Math.cos(b),i=Math.sin(b),r=Math.cos(b+f),t=Math.sin(b+f);return[{x:n-i*s,y:i+n*s},{x:r+t*s,y:t-r*s},{x:r,y:t}]},w=function(b,f,s,n){var i=b*s+f*n;return i>1&&(i=1),i<-1&&(i=-1),(b*n-f*s<0?-1:1)*Math.acos(i)};C.default=function(b){var f=b.px,s=b.py,n=b.cx,i=b.cy,r=b.rx,t=b.ry,a=b.xAxisRotation,l=a===void 0?0:a,u=b.largeArcFlag,h=u===void 0?0:u,c=b.sweepFlag,y=c===void 0?0:c,d=[];if(r===0||t===0)return[];var v=Math.sin(l*k/360),g=Math.cos(l*k/360),x=g*(f-n)/2+v*(s-i)/2,m=-v*(f-n)/2+g*(s-i)/2;if(x===0&&m===0)return[];r=Math.abs(r),t=Math.abs(t);var _=Math.pow(x,2)/Math.pow(r,2)+Math.pow(m,2)/Math.pow(t,2);_>1&&(r*=Math.sqrt(_),t*=Math.sqrt(_));var p=function(z,j,Z,F,V,W,re,ne,te,Q,$,K){var ae=Math.pow(V,2),ue=Math.pow(W,2),se=Math.pow($,2),he=Math.pow(K,2),pe=ae*ue-ae*he-ue*se;pe<0&&(pe=0),pe/=ae*he+ue*se;var de=(pe=Math.sqrt(pe)*(re===ne?-1:1))*V/W*K,xe=pe*-W/V*$,_e=Q*de-te*xe+(z+Z)/2,be=te*de+Q*xe+(j+F)/2,Le=($-de)/V,De=(K-xe)/W,ye=(-$-de)/V,le=(-K-xe)/W,oe=w(1,0,Le,De),ve=w(Le,De,ye,le);return ne===0&&ve>0&&(ve-=k),ne===1&&ve<0&&(ve+=k),[_e,be,oe,ve]}(f,s,n,i,r,t,h,y,v,g,x,m),S=function(z,j){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(Z,F){var V=[],W=!0,re=!1,ne=void 0;try{for(var te,Q=Z[Symbol.iterator]();!(W=(te=Q.next()).done)&&(V.push(te.value),!F||V.length!==F);W=!0);}catch($){re=!0,ne=$}finally{try{!W&&Q.return&&Q.return()}finally{if(re)throw ne}}return V}(z,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(p,4),T=S[0],E=S[1],O=S[2],P=S[3],I=Math.abs(P)/(k/4);Math.abs(1-I)<1e-7&&(I=1);var R=Math.max(Math.ceil(I),1);P/=R;for(var H=0;H<R;H++)d.push(o(O,P)),O+=P;return d.map(function(z){var j=A(z[0],r,t,g,v,T,E),Z=j.x,F=j.y,V=A(z[1],r,t,g,v,T,E),W=V.x,re=V.y,ne=A(z[2],r,t,g,v,T,E);return{x1:Z,y1:F,x2:W,y2:re,x:ne.x,y:ne.y}})}},74840:function(U,C,e){var k=e(21984),A=e(49972),o=e(41976),w=e(53520),b=e(45408);U.exports=function(f){if(Array.isArray(f)&&f.length===1&&typeof f[0]=="string"&&(f=f[0]),typeof f=="string"&&(b(w(f),"String is not an SVG path."),f=k(f)),b(Array.isArray(f),"Argument should be a string or an array of path segments."),f=A(f),!(f=o(f)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],n=0,i=f.length;n<i;n++)for(var r=f[n].slice(1),t=0;t<r.length;t+=2)r[t+0]<s[0]&&(s[0]=r[t+0]),r[t+1]<s[1]&&(s[1]=r[t+1]),r[t+0]>s[2]&&(s[2]=r[t+0]),r[t+1]>s[3]&&(s[3]=r[t+1]);return s}},41976:function(U,C,e){U.exports=function(w){for(var b,f=[],s=0,n=0,i=0,r=0,t=null,a=null,l=0,u=0,h=0,c=w.length;h<c;h++){var y=w[h],d=y[0];switch(d){case"M":i=y[1],r=y[2];break;case"A":var v=k({px:l,py:u,cx:y[6],cy:y[7],rx:y[1],ry:y[2],xAxisRotation:y[3],largeArcFlag:y[4],sweepFlag:y[5]});if(!v.length)continue;for(var g,x=0;x<v.length;x++)y=["C",(g=v[x]).x1,g.y1,g.x2,g.y2,g.x,g.y],x<v.length-1&&f.push(y);break;case"S":var m=l,_=u;b!="C"&&b!="S"||(m+=m-s,_+=_-n),y=["C",m,_,y[1],y[2],y[3],y[4]];break;case"T":b=="Q"||b=="T"?(t=2*l-t,a=2*u-a):(t=l,a=u),y=o(l,u,t,a,y[1],y[2]);break;case"Q":t=y[1],a=y[2],y=o(l,u,y[1],y[2],y[3],y[4]);break;case"L":y=A(l,u,y[1],y[2]);break;case"H":y=A(l,u,y[1],u);break;case"V":y=A(l,u,l,y[1]);break;case"Z":y=A(l,u,i,r)}b=d,l=y[y.length-2],u=y[y.length-1],y.length>4?(s=y[y.length-4],n=y[y.length-3]):(s=l,n=u),f.push(y)}return f};var k=e(92848);function A(w,b,f,s){return["C",w,b,f,s,f,s]}function o(w,b,f,s,n,i){return["C",w/3+.6666666666666666*f,b/3+.6666666666666666*s,n/3+.6666666666666666*f,i/3+.6666666666666666*s,n,i]}},20472:function(U,C,e){var k,A=e(74840),o=e(21984),w=e(22235),b=e(53520),f=e(29620),s=document.createElement("canvas"),n=s.getContext("2d");U.exports=function(i,r){if(!b(i))throw Error("Argument should be valid svg path string");var t,a;r||(r={}),r.shape?(t=r.shape[0],a=r.shape[1]):(t=s.width=r.w||r.width||200,a=s.height=r.h||r.height||200);var l=Math.min(t,a),u=r.stroke||0,h=r.viewbox||r.viewBox||A(i),c=[t/(h[2]-h[0]),a/(h[3]-h[1])],y=Math.min(c[0]||0,c[1]||0)/2;if(n.fillStyle="black",n.fillRect(0,0,t,a),n.fillStyle="white",u&&(typeof u!="number"&&(u=1),n.strokeStyle=u>0?"white":"black",n.lineWidth=Math.abs(u)),n.translate(.5*t,.5*a),n.scale(y,y),function(){if(k!=null)return k;var g=document.createElement("canvas").getContext("2d");if(g.canvas.width=g.canvas.height=1,!window.Path2D)return k=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");g.fillStyle="black",g.fill(x);var m=g.getImageData(0,0,1,1);return k=m&&m.data&&m.data[3]===255}()){var d=new Path2D(i);n.fill(d),u&&n.stroke(d)}else{var v=o(i);w(n,v),n.fill(),u&&n.stroke()}return n.setTransform(1,0,0,1,0,0),f(n,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:.5*l})}},49760:function(U,C,e){var k;(function(A){var o=/^\s+/,w=/\s+$/,b=0,f=A.round,s=A.min,n=A.max,i=A.random;function r($,K){if(K=K||{},($=$||"")instanceof r)return $;if(!(this instanceof r))return new r($,K);var ae=function(ue){var se,he,pe,de={r:0,g:0,b:0},xe=1,_e=null,be=null,Le=null,De=!1,ye=!1;return typeof ue=="string"&&(ue=function(le){le=le.replace(o,"").replace(w,"").toLowerCase();var oe,ve=!1;if(O[le])le=O[le],ve=!0;else if(le=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(oe=te.rgb.exec(le))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=te.rgba.exec(le))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=te.hsl.exec(le))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=te.hsla.exec(le))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=te.hsv.exec(le))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=te.hsva.exec(le))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=te.hex8.exec(le))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),a:V(oe[4]),format:ve?"name":"hex8"}:(oe=te.hex6.exec(le))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),format:ve?"name":"hex"}:(oe=te.hex4.exec(le))?{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),a:V(oe[4]+""+oe[4]),format:ve?"name":"hex8"}:!!(oe=te.hex3.exec(le))&&{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),format:ve?"name":"hex"}}(ue)),typeof ue=="object"&&(Q(ue.r)&&Q(ue.g)&&Q(ue.b)?(se=ue.r,he=ue.g,pe=ue.b,de={r:255*R(se,255),g:255*R(he,255),b:255*R(pe,255)},De=!0,ye=String(ue.r).substr(-1)==="%"?"prgb":"rgb"):Q(ue.h)&&Q(ue.s)&&Q(ue.v)?(_e=Z(ue.s),be=Z(ue.v),de=function(le,oe,ve){le=6*R(le,360),oe=R(oe,100),ve=R(ve,100);var Ce=A.floor(le),ke=le-Ce,Ae=ve*(1-oe),Ee=ve*(1-ke*oe),ze=ve*(1-(1-ke)*oe),Fe=Ce%6;return{r:255*[ve,Ee,Ae,Ae,ze,ve][Fe],g:255*[ze,ve,ve,Ee,Ae,Ae][Fe],b:255*[Ae,Ae,ze,ve,ve,Ee][Fe]}}(ue.h,_e,be),De=!0,ye="hsv"):Q(ue.h)&&Q(ue.s)&&Q(ue.l)&&(_e=Z(ue.s),Le=Z(ue.l),de=function(le,oe,ve){var Ce,ke,Ae;function Ee(ge,Te,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<1/6?ge+6*(Te-ge)*Se:Se<.5?Te:Se<2/3?ge+(Te-ge)*(2/3-Se)*6:ge}if(le=R(le,360),oe=R(oe,100),ve=R(ve,100),oe===0)Ce=ke=Ae=ve;else{var ze=ve<.5?ve*(1+oe):ve+oe-ve*oe,Fe=2*ve-ze;Ce=Ee(Fe,ze,le+1/3),ke=Ee(Fe,ze,le),Ae=Ee(Fe,ze,le-1/3)}return{r:255*Ce,g:255*ke,b:255*Ae}}(ue.h,_e,Le),De=!0,ye="hsl"),ue.hasOwnProperty("a")&&(xe=ue.a)),xe=I(xe),{ok:De,format:ue.format||ye,r:s(255,n(de.r,0)),g:s(255,n(de.g,0)),b:s(255,n(de.b,0)),a:xe}}($);this._originalInput=$,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=f(100*this._a)/100,this._format=K.format||ae.format,this._gradientType=K.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=ae.ok,this._tc_id=b++}function t($,K,ae){$=R($,255),K=R(K,255),ae=R(ae,255);var ue,se,he=n($,K,ae),pe=s($,K,ae),de=(he+pe)/2;if(he==pe)ue=se=0;else{var xe=he-pe;switch(se=de>.5?xe/(2-he-pe):xe/(he+pe),he){case $:ue=(K-ae)/xe+(K<ae?6:0);break;case K:ue=(ae-$)/xe+2;break;case ae:ue=($-K)/xe+4}ue/=6}return{h:ue,s:se,l:de}}function a($,K,ae){$=R($,255),K=R(K,255),ae=R(ae,255);var ue,se,he=n($,K,ae),pe=s($,K,ae),de=he,xe=he-pe;if(se=he===0?0:xe/he,he==pe)ue=0;else{switch(he){case $:ue=(K-ae)/xe+(K<ae?6:0);break;case K:ue=(ae-$)/xe+2;break;case ae:ue=($-K)/xe+4}ue/=6}return{h:ue,s:se,v:de}}function l($,K,ae,ue){var se=[j(f($).toString(16)),j(f(K).toString(16)),j(f(ae).toString(16))];return ue&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function u($,K,ae,ue){return[j(F(ue)),j(f($).toString(16)),j(f(K).toString(16)),j(f(ae).toString(16))].join("")}function h($,K){K=K===0?0:K||10;var ae=r($).toHsl();return ae.s-=K/100,ae.s=H(ae.s),r(ae)}function c($,K){K=K===0?0:K||10;var ae=r($).toHsl();return ae.s+=K/100,ae.s=H(ae.s),r(ae)}function y($){return r($).desaturate(100)}function d($,K){K=K===0?0:K||10;var ae=r($).toHsl();return ae.l+=K/100,ae.l=H(ae.l),r(ae)}function v($,K){K=K===0?0:K||10;var ae=r($).toRgb();return ae.r=n(0,s(255,ae.r-f(-K/100*255))),ae.g=n(0,s(255,ae.g-f(-K/100*255))),ae.b=n(0,s(255,ae.b-f(-K/100*255))),r(ae)}function g($,K){K=K===0?0:K||10;var ae=r($).toHsl();return ae.l-=K/100,ae.l=H(ae.l),r(ae)}function x($,K){var ae=r($).toHsl(),ue=(ae.h+K)%360;return ae.h=ue<0?360+ue:ue,r(ae)}function m($){var K=r($).toHsl();return K.h=(K.h+180)%360,r(K)}function _($){var K=r($).toHsl(),ae=K.h;return[r($),r({h:(ae+120)%360,s:K.s,l:K.l}),r({h:(ae+240)%360,s:K.s,l:K.l})]}function p($){var K=r($).toHsl(),ae=K.h;return[r($),r({h:(ae+90)%360,s:K.s,l:K.l}),r({h:(ae+180)%360,s:K.s,l:K.l}),r({h:(ae+270)%360,s:K.s,l:K.l})]}function S($){var K=r($).toHsl(),ae=K.h;return[r($),r({h:(ae+72)%360,s:K.s,l:K.l}),r({h:(ae+216)%360,s:K.s,l:K.l})]}function T($,K,ae){K=K||6,ae=ae||30;var ue=r($).toHsl(),se=360/ae,he=[r($)];for(ue.h=(ue.h-(se*K>>1)+720)%360;--K;)ue.h=(ue.h+se)%360,he.push(r(ue));return he}function E($,K){K=K||6;for(var ae=r($).toHsv(),ue=ae.h,se=ae.s,he=ae.v,pe=[],de=1/K;K--;)pe.push(r({h:ue,s:se,v:he})),he=(he+de)%1;return pe}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return(299*$.r+587*$.g+114*$.b)/1e3},getLuminance:function(){var $,K,ae,ue=this.toRgb();return $=ue.r/255,K=ue.g/255,ae=ue.b/255,.2126*($<=.03928?$/12.92:A.pow(($+.055)/1.055,2.4))+.7152*(K<=.03928?K/12.92:A.pow((K+.055)/1.055,2.4))+.0722*(ae<=.03928?ae/12.92:A.pow((ae+.055)/1.055,2.4))},setAlpha:function($){return this._a=I($),this._roundA=f(100*this._a)/100,this},toHsv:function(){var $=a(this._r,this._g,this._b);return{h:360*$.h,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=a(this._r,this._g,this._b),K=f(360*$.h),ae=f(100*$.s),ue=f(100*$.v);return this._a==1?"hsv("+K+", "+ae+"%, "+ue+"%)":"hsva("+K+", "+ae+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var $=t(this._r,this._g,this._b);return{h:360*$.h,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=t(this._r,this._g,this._b),K=f(360*$.h),ae=f(100*$.s),ue=f(100*$.l);return this._a==1?"hsl("+K+", "+ae+"%, "+ue+"%)":"hsla("+K+", "+ae+"%, "+ue+"%, "+this._roundA+")"},toHex:function($){return l(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return function(K,ae,ue,se,he){var pe=[j(f(K).toString(16)),j(f(ae).toString(16)),j(f(ue).toString(16)),j(F(se))];return he&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*R(this._r,255))+"%",g:f(100*R(this._g,255))+"%",b:f(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(100*R(this._r,255))+"%, "+f(100*R(this._g,255))+"%, "+f(100*R(this._b,255))+"%)":"rgba("+f(100*R(this._r,255))+"%, "+f(100*R(this._g,255))+"%, "+f(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(P[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function($){var K="#"+u(this._r,this._g,this._b,this._a),ae=K,ue=this._gradientType?"GradientType = 1, ":"";if($){var se=r($);ae="#"+u(se._r,se._g,se._b,se._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+K+",endColorstr="+ae+")"},toString:function($){var K=!!$;$=$||this._format;var ae=!1,ue=this._a<1&&this._a>=0;return K||!ue||$!=="hex"&&$!=="hex6"&&$!=="hex3"&&$!=="hex4"&&$!=="hex8"&&$!=="name"?($==="rgb"&&(ae=this.toRgbString()),$==="prgb"&&(ae=this.toPercentageRgbString()),$!=="hex"&&$!=="hex6"||(ae=this.toHexString()),$==="hex3"&&(ae=this.toHexString(!0)),$==="hex4"&&(ae=this.toHex8String(!0)),$==="hex8"&&(ae=this.toHex8String()),$==="name"&&(ae=this.toName()),$==="hsl"&&(ae=this.toHslString()),$==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString()):$==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function($,K){var ae=$.apply(null,[this].concat([].slice.call(K)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function($,K){return $.apply(null,[this].concat([].slice.call(K)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},r.fromRatio=function($,K){if(typeof $=="object"){var ae={};for(var ue in $)$.hasOwnProperty(ue)&&(ae[ue]=ue==="a"?$[ue]:Z($[ue]));$=ae}return r($,K)},r.equals=function($,K){return!(!$||!K)&&r($).toRgbString()==r(K).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function($,K,ae){ae=ae===0?0:ae||50;var ue=r($).toRgb(),se=r(K).toRgb(),he=ae/100;return r({r:(se.r-ue.r)*he+ue.r,g:(se.g-ue.g)*he+ue.g,b:(se.b-ue.b)*he+ue.b,a:(se.a-ue.a)*he+ue.a})},r.readability=function($,K){var ae=r($),ue=r(K);return(A.max(ae.getLuminance(),ue.getLuminance())+.05)/(A.min(ae.getLuminance(),ue.getLuminance())+.05)},r.isReadable=function($,K,ae){var ue,se,he,pe,de,xe=r.readability($,K);switch(se=!1,(he=ae,(pe=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(de=(he.size||"small").toLowerCase())!=="small"&&de!=="large"&&(de="small"),ue={level:pe,size:de}).level+ue.size){case"AAsmall":case"AAAlarge":se=xe>=4.5;break;case"AAlarge":se=xe>=3;break;case"AAAsmall":se=xe>=7}return se},r.mostReadable=function($,K,ae){var ue,se,he,pe,de=null,xe=0;se=(ae=ae||{}).includeFallbackColors,he=ae.level,pe=ae.size;for(var _e=0;_e<K.length;_e++)(ue=r.readability($,K[_e]))>xe&&(xe=ue,de=r(K[_e]));return r.isReadable($,de,{level:he,size:pe})||!se?de:(ae.includeFallbackColors=!1,r.mostReadable($,["#fff","#000"],ae))};var O=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=r.hexNames=function($){var K={};for(var ae in $)$.hasOwnProperty(ae)&&(K[$[ae]]=ae);return K}(O);function I($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function R($,K){(function(ue){return typeof ue=="string"&&ue.indexOf(".")!=-1&&parseFloat(ue)===1})($)&&($="100%");var ae=function(ue){return typeof ue=="string"&&ue.indexOf("%")!=-1}($);return $=s(K,n(0,parseFloat($))),ae&&($=parseInt($*K,10)/100),A.abs($-K)<1e-6?1:$%K/parseFloat(K)}function H($){return s(1,n(0,$))}function z($){return parseInt($,16)}function j($){return $.length==1?"0"+$:""+$}function Z($){return $<=1&&($=100*$+"%"),$}function F($){return A.round(255*parseFloat($)).toString(16)}function V($){return z($)/255}var W,re,ne,te=(re="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",ne="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+re),rgba:new RegExp("rgba"+ne),hsl:new RegExp("hsl"+re),hsla:new RegExp("hsla"+ne),hsv:new RegExp("hsv"+re),hsva:new RegExp("hsva"+ne),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Q($){return!!te.CSS_UNIT.exec($)}U.exports?U.exports=r:(k=(function(){return r}).call(C,e,C,U))===void 0||(U.exports=k)})(Math)},37816:function(U){U.exports=e,U.exports.float32=U.exports.float=e,U.exports.fract32=U.exports.fract=function(k,A){if(k.length){if(k instanceof Float32Array)return new Float32Array(k.length);A instanceof Float32Array||(A=e(k));for(var o=0,w=A.length;o<w;o++)A[o]=k[o]-A[o];return A}return e(k-e(k))};var C=new Float32Array(1);function e(k){return k.length?k instanceof Float32Array?k:new Float32Array(k):(C[0]=k,C[0])}},23464:function(U,C,e){var k=e(65819);U.exports=w;var A=96;function o(b,f){var s=k(getComputedStyle(b).getPropertyValue(f));return s[0]*w(s[1],b)}function w(b,f){switch(f=f||document.body,b=(b||"px").trim().toLowerCase(),f!==window&&f!==document||(f=document.body),b){case"%":return f.clientHeight/100;case"ch":case"ex":return function(s,n){var i=document.createElement("div");i.style["font-size"]="128"+s,n.appendChild(i);var r=o(i,"font-size")/128;return n.removeChild(i),r}(b,f);case"em":return o(f,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return A;case"cm":return A/2.54;case"mm":return A/25.4;case"pt":return A/72;case"pc":return A/6}return 1}},55712:function(U,C,e){function k(w){return w}function A(w,b){return typeof b=="string"&&(b=w.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(f){return o(w,f)})}:o(w,b)}function o(w,b){var f=b.id,s=b.bbox,n=b.properties==null?{}:b.properties,i=function(r,t){var a=function(v){if(v==null)return k;var g,x,m=v.scale[0],_=v.scale[1],p=v.translate[0],S=v.translate[1];return function(T,E){E||(g=x=0);var O=2,P=T.length,I=new Array(P);for(I[0]=(g+=T[0])*m+p,I[1]=(x+=T[1])*_+S;O<P;)I[O]=T[O],++O;return I}}(r.transform),l=r.arcs;function u(v,g){g.length&&g.pop();for(var x=l[v<0?~v:v],m=0,_=x.length;m<_;++m)g.push(a(x[m],m));v<0&&function(p,S){for(var T,E=p.length,O=E-S;O<--E;)T=p[O],p[O++]=p[E],p[E]=T}(g,_)}function h(v){return a(v)}function c(v){for(var g=[],x=0,m=v.length;x<m;++x)u(v[x],g);return g.length<2&&g.push(g[0]),g}function y(v){for(var g=c(v);g.length<4;)g.push(g[0]);return g}function d(v){return v.map(y)}return function v(g){var x,m=g.type;switch(m){case"GeometryCollection":return{type:m,geometries:g.geometries.map(v)};case"Point":x=h(g.coordinates);break;case"MultiPoint":x=g.coordinates.map(h);break;case"LineString":x=c(g.arcs);break;case"MultiLineString":x=g.arcs.map(c);break;case"Polygon":x=d(g.arcs);break;case"MultiPolygon":x=g.arcs.map(d);break;default:return null}return{type:m,coordinates:x}}(t)}(w,b);return f==null&&s==null?{type:"Feature",properties:n,geometry:i}:s==null?{type:"Feature",id:f,properties:n,geometry:i}:{type:"Feature",id:f,bbox:s,properties:n,geometry:i}}e.d(C,{NO:function(){return A}})},73384:function(U,C,e){var k=e(54612);U.exports=function(A){if(typeof A!="function"||!hasOwnProperty.call(A,"length"))return!1;try{if(typeof A.length!="number"||typeof A.call!="function"||typeof A.apply!="function")return!1}catch{return!1}return!k(A)}},57980:function(U,C,e){var k=e(81680),A=e(7328),o=e(33940),w=e(18856),b=function(f,s){return f.replace("%v",w(s))};U.exports=function(f,s,n){if(!A(n))throw new TypeError(b(s,f));if(!k(f)){if("default"in n)return n.default;if(n.isOptional)return null}var i=o(n.errorMessage);throw k(i)||(i=s),new TypeError(b(i,f))}},32336:function(U){U.exports=function(C){try{return C.toString()}catch{try{return String(C)}catch{return null}}}},18856:function(U,C,e){var k=e(32336),A=/[\n\r\u2028\u2029]/g;U.exports=function(o){var w=k(o);return w===null?"<Non-coercible to string value>":(w.length>100&&(w=w.slice(0,99)+"…"),w=w.replace(A,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(U,C,e){var k=e(81680),A={object:!0,function:!0,undefined:!0};U.exports=function(o){return!!k(o)&&hasOwnProperty.call(A,typeof o)}},87396:function(U,C,e){var k=e(57980),A=e(85488);U.exports=function(o){return A(o)?o:k(o,"%v is not a plain function",arguments[1])}},85488:function(U,C,e){var k=e(73384),A=/^\s*class[\s{/}]/,o=Function.prototype.toString;U.exports=function(w){return!!k(w)&&!A.test(o.call(w))}},54612:function(U,C,e){var k=e(7328);U.exports=function(A){if(!k(A))return!1;try{return!!A.constructor&&A.constructor.prototype===A}catch{return!1}}},33940:function(U,C,e){var k=e(81680),A=e(7328),o=Object.prototype.toString;U.exports=function(w){if(!k(w))return null;if(A(w)){var b=w.toString;if(typeof b!="function"||b===o)return null}try{return""+w}catch{return null}}},18496:function(U,C,e){var k=e(57980),A=e(81680);U.exports=function(o){return A(o)?o:k(o,"Cannot use %v",arguments[1])}},81680:function(U){U.exports=function(C){return C!=null}},14144:function(U,C,e){var k=e(308),A=e(10352),o=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:A([32,0]),UINT16:A([32,0]),UINT32:A([32,0]),BIGUINT64:A([32,0]),INT8:A([32,0]),INT16:A([32,0]),INT32:A([32,0]),BIGINT64:A([32,0]),FLOAT:A([32,0]),DOUBLE:A([32,0]),DATA:A([32,0]),UINT8C:A([32,0]),BUFFER:A([32,0])});var w=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=A([32,0])),s.BIGUINT64||(s.BIGUINT64=A([32,0])),s.BIGINT64||(s.BIGINT64=A([32,0])),s.BUFFER||(s.BUFFER=A([32,0]));var n=s.DATA,i=s.BUFFER;function r(S){if(S){var T=S.length||S.byteLength,E=k.log2(T);n[E].push(S)}}function t(S){S=k.nextPow2(S);var T=k.log2(S),E=n[T];return E.length>0?E.pop():new ArrayBuffer(S)}function a(S){return new Uint8Array(t(S),0,S)}function l(S){return new Uint16Array(t(2*S),0,S)}function u(S){return new Uint32Array(t(4*S),0,S)}function h(S){return new Int8Array(t(S),0,S)}function c(S){return new Int16Array(t(2*S),0,S)}function y(S){return new Int32Array(t(4*S),0,S)}function d(S){return new Float32Array(t(4*S),0,S)}function v(S){return new Float64Array(t(8*S),0,S)}function g(S){return w?new Uint8ClampedArray(t(S),0,S):a(S)}function x(S){return b?new BigUint64Array(t(8*S),0,S):null}function m(S){return f?new BigInt64Array(t(8*S),0,S):null}function _(S){return new DataView(t(S),0,S)}function p(S){S=k.nextPow2(S);var T=k.log2(S),E=i[T];return E.length>0?E.pop():new o(S)}C.free=function(S){if(o.isBuffer(S))i[k.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var T=S.length||S.byteLength,E=0|k.log2(T);n[E].push(S)}},C.freeUint8=C.freeUint16=C.freeUint32=C.freeBigUint64=C.freeInt8=C.freeInt16=C.freeInt32=C.freeBigInt64=C.freeFloat32=C.freeFloat=C.freeFloat64=C.freeDouble=C.freeUint8Clamped=C.freeDataView=function(S){r(S.buffer)},C.freeArrayBuffer=r,C.freeBuffer=function(S){i[k.log2(S.length)].push(S)},C.malloc=function(S,T){if(T===void 0||T==="arraybuffer")return t(S);switch(T){case"uint8":return a(S);case"uint16":return l(S);case"uint32":return u(S);case"int8":return h(S);case"int16":return c(S);case"int32":return y(S);case"float":case"float32":return d(S);case"double":case"float64":return v(S);case"uint8_clamped":return g(S);case"bigint64":return m(S);case"biguint64":return x(S);case"buffer":return p(S);case"data":case"dataview":return _(S);default:return null}return null},C.mallocArrayBuffer=t,C.mallocUint8=a,C.mallocUint16=l,C.mallocUint32=u,C.mallocInt8=h,C.mallocInt16=c,C.mallocInt32=y,C.mallocFloat32=C.mallocFloat=d,C.mallocFloat64=C.mallocDouble=v,C.mallocUint8Clamped=g,C.mallocBigUint64=x,C.mallocBigInt64=m,C.mallocDataView=_,C.mallocBuffer=p,C.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,n[S].length=0,i[S].length=0}},92384:function(U){var C=/[\'\"]/;U.exports=function(e){return e?(C.test(e.charAt(0))&&(e=e.substr(1)),C.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(U){U.exports=function(C,e,k){Array.isArray(k)||(k=[].slice.call(arguments,2));for(var A=0,o=k.length;A<o;A++){var w=k[A];for(var b in w)if((e[b]===void 0||Array.isArray(e[b])||C[b]!==e[b])&&b in e){var f;if(w[b]===!0)f=e[b];else if(w[b]===!1||typeof w[b]=="function"&&(f=w[b](e[b],C,e))===void 0)continue;C[b]=f}}return C}},96656:function(U,C,e){function k(A){try{if(!e.g.localStorage)return!1}catch{return!1}var o=e.g.localStorage[A];return o!=null&&String(o).toLowerCase()==="true"}U.exports=function(A,o){if(k("noDeprecation"))return A;var w=!1;return function(){if(!w){if(k("throwDeprecation"))throw new Error(o);k("traceDeprecation")?console.trace(o):console.warn(o),w=!0}return A.apply(this,arguments)}}},75272:function(U){U.exports=function(C){return C&&typeof C=="object"&&typeof C.copy=="function"&&typeof C.fill=="function"&&typeof C.readUInt8=="function"}},41088:function(U,C,e){var k=e(91148),A=e(84420),o=e(96632),w=e(7728);function b(R){return R.call.bind(R)}var f=typeof BigInt<"u",s=typeof Symbol<"u",n=b(Object.prototype.toString),i=b(Number.prototype.valueOf),r=b(String.prototype.valueOf),t=b(Boolean.prototype.valueOf);if(f)var a=b(BigInt.prototype.valueOf);if(s)var l=b(Symbol.prototype.valueOf);function u(R,H){if(typeof R!="object")return!1;try{return H(R),!0}catch{return!1}}function h(R){return n(R)==="[object Map]"}function c(R){return n(R)==="[object Set]"}function y(R){return n(R)==="[object WeakMap]"}function d(R){return n(R)==="[object WeakSet]"}function v(R){return n(R)==="[object ArrayBuffer]"}function g(R){return typeof ArrayBuffer<"u"&&(v.working?v(R):R instanceof ArrayBuffer)}function x(R){return n(R)==="[object DataView]"}function m(R){return typeof DataView<"u"&&(x.working?x(R):R instanceof DataView)}C.isArgumentsObject=k,C.isGeneratorFunction=A,C.isTypedArray=w,C.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"},C.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):w(R)||m(R)},C.isUint8Array=function(R){return o(R)==="Uint8Array"},C.isUint8ClampedArray=function(R){return o(R)==="Uint8ClampedArray"},C.isUint16Array=function(R){return o(R)==="Uint16Array"},C.isUint32Array=function(R){return o(R)==="Uint32Array"},C.isInt8Array=function(R){return o(R)==="Int8Array"},C.isInt16Array=function(R){return o(R)==="Int16Array"},C.isInt32Array=function(R){return o(R)==="Int32Array"},C.isFloat32Array=function(R){return o(R)==="Float32Array"},C.isFloat64Array=function(R){return o(R)==="Float64Array"},C.isBigInt64Array=function(R){return o(R)==="BigInt64Array"},C.isBigUint64Array=function(R){return o(R)==="BigUint64Array"},h.working=typeof Map<"u"&&h(new Map),C.isMap=function(R){return typeof Map<"u"&&(h.working?h(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),C.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},y.working=typeof WeakMap<"u"&&y(new WeakMap),C.isWeakMap=function(R){return typeof WeakMap<"u"&&(y.working?y(R):R instanceof WeakMap)},d.working=typeof WeakSet<"u"&&d(new WeakSet),C.isWeakSet=function(R){return d(R)},v.working=typeof ArrayBuffer<"u"&&v(new ArrayBuffer),C.isArrayBuffer=g,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),C.isDataView=m;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(R){return n(R)==="[object SharedArrayBuffer]"}function S(R){return _!==void 0&&(p.working===void 0&&(p.working=p(new _)),p.working?p(R):R instanceof _)}function T(R){return u(R,i)}function E(R){return u(R,r)}function O(R){return u(R,t)}function P(R){return f&&u(R,a)}function I(R){return s&&u(R,l)}C.isSharedArrayBuffer=S,C.isAsyncFunction=function(R){return n(R)==="[object AsyncFunction]"},C.isMapIterator=function(R){return n(R)==="[object Map Iterator]"},C.isSetIterator=function(R){return n(R)==="[object Set Iterator]"},C.isGeneratorObject=function(R){return n(R)==="[object Generator]"},C.isWebAssemblyCompiledModule=function(R){return n(R)==="[object WebAssembly.Module]"},C.isNumberObject=T,C.isStringObject=E,C.isBooleanObject=O,C.isBigIntObject=P,C.isSymbolObject=I,C.isBoxedPrimitive=function(R){return T(R)||E(R)||O(R)||P(R)||I(R)},C.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(g(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(C,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},35840:function(U,C,e){var k=e(4168),A=Object.getOwnPropertyDescriptors||function(I){for(var R=Object.keys(I),H={},z=0;z<R.length;z++)H[R[z]]=Object.getOwnPropertyDescriptor(I,R[z]);return H},o=/%[sdj%]/g;C.format=function(I){if(!y(I)){for(var R=[],H=0;H<arguments.length;H++)R.push(s(arguments[H]));return R.join(" ")}H=1;for(var z=arguments,j=z.length,Z=String(I).replace(o,function(V){if(V==="%%")return"%";if(H>=j)return V;switch(V){case"%s":return String(z[H++]);case"%d":return Number(z[H++]);case"%j":try{return JSON.stringify(z[H++])}catch{return"[Circular]"}default:return V}}),F=z[H];H<j;F=z[++H])h(F)||!g(F)?Z+=" "+F:Z+=" "+s(F);return Z},C.deprecate=function(I,R){if(k!==void 0&&k.noDeprecation===!0)return I;if(k===void 0)return function(){return C.deprecate(I,R).apply(this,arguments)};var H=!1;return function(){if(!H){if(k.throwDeprecation)throw new Error(R);k.traceDeprecation?console.trace(R):console.error(R),H=!0}return I.apply(this,arguments)}};var w={},b=/^$/;if(k.env.NODE_DEBUG){var f=k.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+f+"$","i")}function s(I,R){var H={seen:[],stylize:i};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),u(R)?H.showHidden=R:R&&C._extend(H,R),d(H.showHidden)&&(H.showHidden=!1),d(H.depth)&&(H.depth=2),d(H.colors)&&(H.colors=!1),d(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=n),r(H,I,H.depth)}function n(I,R){var H=s.styles[R];return H?"\x1B["+s.colors[H][0]+"m"+I+"\x1B["+s.colors[H][1]+"m":I}function i(I,R){return I}function r(I,R,H){if(I.customInspect&&R&&_(R.inspect)&&R.inspect!==C.inspect&&(!R.constructor||R.constructor.prototype!==R)){var z=R.inspect(H,I);return y(z)||(z=r(I,z,H)),z}var j=function(Q,$){if(d($))return Q.stylize("undefined","undefined");if(y($)){var K="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(K,"string")}return c($)?Q.stylize(""+$,"number"):u($)?Q.stylize(""+$,"boolean"):h($)?Q.stylize("null","null"):void 0}(I,R);if(j)return j;var Z=Object.keys(R),F=function(Q){var $={};return Q.forEach(function(K,ae){$[K]=!0}),$}(Z);if(I.showHidden&&(Z=Object.getOwnPropertyNames(R)),m(R)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return t(R);if(Z.length===0){if(_(R)){var V=R.name?": "+R.name:"";return I.stylize("[Function"+V+"]","special")}if(v(R))return I.stylize(RegExp.prototype.toString.call(R),"regexp");if(x(R))return I.stylize(Date.prototype.toString.call(R),"date");if(m(R))return t(R)}var W,re="",ne=!1,te=["{","}"];return l(R)&&(ne=!0,te=["[","]"]),_(R)&&(re=" [Function"+(R.name?": "+R.name:"")+"]"),v(R)&&(re=" "+RegExp.prototype.toString.call(R)),x(R)&&(re=" "+Date.prototype.toUTCString.call(R)),m(R)&&(re=" "+t(R)),Z.length!==0||ne&&R.length!=0?H<0?v(R)?I.stylize(RegExp.prototype.toString.call(R),"regexp"):I.stylize("[Object]","special"):(I.seen.push(R),W=ne?function(Q,$,K,ae,ue){for(var se=[],he=0,pe=$.length;he<pe;++he)E($,String(he))?se.push(a(Q,$,K,ae,String(he),!0)):se.push("");return ue.forEach(function(de){de.match(/^\d+$/)||se.push(a(Q,$,K,ae,de,!0))}),se}(I,R,H,F,Z):Z.map(function(Q){return a(I,R,H,F,Q,ne)}),I.seen.pop(),function(Q,$,K){return Q.reduce(function(ae,ue){return ue.indexOf(`
`),ae+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?K[0]+($===""?"":$+`
 `)+" "+Q.join(`,
  `)+" "+K[1]:K[0]+$+" "+Q.join(", ")+" "+K[1]}(W,re,te)):te[0]+re+te[1]}function t(I){return"["+Error.prototype.toString.call(I)+"]"}function a(I,R,H,z,j,Z){var F,V,W;if((W=Object.getOwnPropertyDescriptor(R,j)||{value:R[j]}).get?V=W.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):W.set&&(V=I.stylize("[Setter]","special")),E(z,j)||(F="["+j+"]"),V||(I.seen.indexOf(W.value)<0?(V=h(H)?r(I,W.value,null):r(I,W.value,H-1)).indexOf(`
`)>-1&&(V=Z?V.split(`
`).map(function(re){return"  "+re}).join(`
`).slice(2):`
`+V.split(`
`).map(function(re){return"   "+re}).join(`
`)):V=I.stylize("[Circular]","special")),d(F)){if(Z&&j.match(/^\d+$/))return V;(F=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=I.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=I.stylize(F,"string"))}return F+": "+V}function l(I){return Array.isArray(I)}function u(I){return typeof I=="boolean"}function h(I){return I===null}function c(I){return typeof I=="number"}function y(I){return typeof I=="string"}function d(I){return I===void 0}function v(I){return g(I)&&p(I)==="[object RegExp]"}function g(I){return typeof I=="object"&&I!==null}function x(I){return g(I)&&p(I)==="[object Date]"}function m(I){return g(I)&&(p(I)==="[object Error]"||I instanceof Error)}function _(I){return typeof I=="function"}function p(I){return Object.prototype.toString.call(I)}function S(I){return I<10?"0"+I.toString(10):I.toString(10)}C.debuglog=function(I){if(I=I.toUpperCase(),!w[I])if(b.test(I)){var R=k.pid;w[I]=function(){var H=C.format.apply(C,arguments);console.error("%s %d: %s",I,R,H)}}else w[I]=function(){};return w[I]},C.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},C.types=e(41088),C.isArray=l,C.isBoolean=u,C.isNull=h,C.isNullOrUndefined=function(I){return I==null},C.isNumber=c,C.isString=y,C.isSymbol=function(I){return typeof I=="symbol"},C.isUndefined=d,C.isRegExp=v,C.types.isRegExp=v,C.isObject=g,C.isDate=x,C.types.isDate=x,C.isError=m,C.types.isNativeError=m,C.isFunction=_,C.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||I===void 0},C.isBuffer=e(75272);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(I,R){return Object.prototype.hasOwnProperty.call(I,R)}C.log=function(){var I,R;console.log("%s - %s",(R=[S((I=new Date).getHours()),S(I.getMinutes()),S(I.getSeconds())].join(":"),[I.getDate(),T[I.getMonth()],R].join(" ")),C.format.apply(C,arguments))},C.inherits=e(6768),C._extend=function(I,R){if(!R||!g(R))return I;for(var H=Object.keys(R),z=H.length;z--;)I[H[z]]=R[H[z]];return I};var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(I,R){if(!I){var H=new Error("Promise was rejected with a falsy value");H.reason=I,I=H}return R(I)}C.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&I[O]){var R;if(typeof(R=I[O])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,O,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var H,z,j=new Promise(function(V,W){H=V,z=W}),Z=[],F=0;F<arguments.length;F++)Z.push(arguments[F]);Z.push(function(V,W){V?z(V):H(W)});try{I.apply(this,Z)}catch(V){z(V)}return j}return Object.setPrototypeOf(R,Object.getPrototypeOf(I)),O&&Object.defineProperty(R,O,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,A(I))},C.promisify.custom=O,C.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var H=[],z=0;z<arguments.length;z++)H.push(arguments[z]);var j=H.pop();if(typeof j!="function")throw new TypeError("The last argument must be of type Function");var Z=this,F=function(){return j.apply(Z,arguments)};I.apply(this,H).then(function(V){k.nextTick(F.bind(null,null,V))},function(V){k.nextTick(P.bind(null,V,F))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(I)),Object.defineProperties(R,A(I)),R}},5408:function(U,C,e){var k=e(13380);U.exports=function(A){return k("webgl",A)}},96632:function(U,C,e){var k=e(46492),A=e(63436),o=e(57916),w=e(99676),b=e(2304),f=w("Object.prototype.toString"),s=e(46672)(),n=typeof globalThis>"u"?e.g:globalThis,i=A(),r=w("String.prototype.slice"),t=Object.getPrototypeOf,a=w("Array.prototype.indexOf",!0)||function(u,h){for(var c=0;c<u.length;c+=1)if(u[c]===h)return c;return-1},l={__proto__:null};k(i,s&&b&&t?function(u){var h=new n[u];if(Symbol.toStringTag in h){var c=t(h),y=b(c,Symbol.toStringTag);if(!y){var d=t(c);y=b(d,Symbol.toStringTag)}l["$"+u]=o(y.get)}}:function(u){var h=new n[u],c=h.slice||h.set;c&&(l["$"+u]=o(c))}),U.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var h=r(f(u),8,-1);return a(i,h)>-1?h:h==="Object"&&function(c){var y=!1;return k(l,function(d,v){if(!y)try{d(c),y=r(v,1)}catch{}}),y}(u)}return b?function(c){var y=!1;return k(l,function(d,v){if(!y)try{"$"+d(c)===v&&(y=r(v,1))}catch{}}),y}(u):null}},67020:function(U,C,e){var k=e(38700),A=e(50896),o=k.instance();function w(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}w.prototype=new k.baseCalendar,A(w.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(t,a){if(typeof t=="string"){var l=t.match(f);return l?l[0]:""}var u=this._validateYear(t),h=t.month(),c=""+this.toChineseMonth(u,h);return a&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,h)&&(c+="i"),c},monthNames:function(t){if(typeof t=="string"){var a=t.match(s);return a?a[0]:""}var l=this._validateYear(t),u=t.month(),h=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h="闰"+h),h},monthNamesShort:function(t){if(typeof t=="string"){var a=t.match(n);return a?a[0]:""}var l=this._validateYear(t),u=t.month(),h=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h="闰"+h),h},parseMonth:function(t,a){t=this._validateYear(t);var l,u=parseInt(a);if(isNaN(u))a[0]==="闰"&&(l=!0,a=a.substring(1)),a[a.length-1]==="月"&&(a=a.substring(0,a.length-1)),u=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(a);else{var h=a[a.length-1];l=h==="i"||h==="I"}return this.toMonthIndex(t,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(t,a){if(t.year&&(t=t.year()),typeof t!="number"||t<1888||t>2111)throw a.replace(/\{0\}/,this.local.name);return t},toMonthIndex:function(t,a,l){var u=this.intercalaryMonth(t);if(l&&a!==u||a<1||a>12)throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&a<=u?a-1:a:a-1},toChineseMonth:function(t,a){t.year&&(a=(t=t.year()).month());var l=this.intercalaryMonth(t);if(a<0||a>(l?12:11))throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?a<l?a+1:a:a+1},intercalaryMonth:function(t){return t=this._validateYear(t),i[t-i[0]]>>13},isIntercalaryMonth:function(t,a){t.year&&(a=(t=t.year()).month());var l=this.intercalaryMonth(t);return!!l&&l===a},leapYear:function(t){return this.intercalaryMonth(t)!==0},weekOfYear:function(t,a,l){var u,h=this._validateYear(t,k.local.invalidyear),c=r[h-r[0]],y=c>>9&4095,d=c>>5&15,v=31&c;(u=o.newDate(y,d,v)).add(4-(u.dayOfWeek()||7),"d");var g=this.toJD(t,a,l)-u.toJD();return 1+Math.floor(g/7)},monthsInYear:function(t){return this.leapYear(t)?13:12},daysInMonth:function(t,a){t.year&&(a=t.month(),t=t.year()),t=this._validateYear(t);var l=i[t-i[0]];if(a>(l>>13?12:11))throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-a?30:29},weekDay:function(t,a,l){return(this.dayOfWeek(t,a,l)||7)<6},toJD:function(t,a,l){var u=this._validate(t,c,l,k.local.invalidDate);t=this._validateYear(u.year()),a=u.month(),l=u.day();var h=this.isIntercalaryMonth(t,a),c=this.toChineseMonth(t,a),y=function(d,v,g,x,m){var _,p,S;if(typeof d=="object")p=d,_=v||{};else{var T;if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof v=="number"&&v>=1&&v<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof g=="number"&&g>=1&&g<=30))throw new Error("Lunar day outside range 1 - 30");typeof x=="object"?(T=!1,_=x):(T=!!x,_={}),p={year:d,month:v,day:g,isIntercalary:T}}S=p.day-1;var E,O=i[p.year-i[0]],P=O>>13;E=P&&(p.month>P||p.isIntercalary)?p.month:p.month-1;for(var I=0;I<E;I++)S+=O&1<<12-I?30:29;var R=r[p.year-r[0]],H=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return _.year=H.getFullYear(),_.month=1+H.getMonth(),_.day=H.getDate(),_}(t,c,l,h);return o.toJD(y.year,y.month,y.day)},fromJD:function(t){var a=o.fromJD(t),l=function(h,c,y,d){var v,g;if(typeof h=="object")v=h,g=c||{};else{if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof y=="number"&&y>=1&&y<=31))throw new Error("Solar day outside range 1 - 31");v={year:h,month:c,day:y},g={}}var x=r[v.year-r[0]],m=v.year<<9|v.month<<5|v.day;g.year=m>=x?v.year:v.year-1,x=r[g.year-r[0]];var _,p=new Date(x>>9&4095,(x>>5&15)-1,31&x),S=new Date(v.year,v.month-1,v.day);_=Math.round((S-p)/864e5);var T,E=i[g.year-i[0]];for(T=0;T<13;T++){var O=E&1<<12-T?30:29;if(_<O)break;_-=O}var P=E>>13;return!P||T<P?(g.isIntercalary=!1,g.month=1+T):T===P?(g.isIntercalary=!0,g.month=T):(g.isIntercalary=!1,g.month=T),g.day=1+_,g}(a.year(),a.month(),a.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(t){var a=t.match(b),l=this._validateYear(+a[1]),u=+a[2],h=!!a[3],c=this.toMonthIndex(l,u,h),y=+a[4];return this.newDate(l,c,y)},add:function(t,a,l){var u=t.year(),h=t.month(),c=this.isIntercalaryMonth(u,h),y=this.toChineseMonth(u,h),d=Object.getPrototypeOf(w.prototype).add.call(this,t,a,l);if(l==="y"){var v=d.year(),g=d.month(),x=this.isIntercalaryMonth(v,y),m=c&&x?this.toMonthIndex(v,y,!0):this.toMonthIndex(v,y,!1);m!==g&&d.month(m)}return d}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,s=/^闰?十?[一二三四五六七八九]?月/m,n=/^闰?十?[一二三四五六七八九]?/m;k.calendars.chinese=w;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(U,C,e){var k=e(38700),A=e(50896);function o(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear);return(w=b.year()+(b.year()<0?1:0))%4==3||w%4==-1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),13},weekOfYear:function(w,b,f){var s=this.newDate(w,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var f=this._validate(w,b,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(w,b,f){return(this.dayOfWeek(w,b,f)||7)<6},toJD:function(w,b,f){var s=this._validate(w,b,f,k.local.invalidDate);return(w=s.year())<0&&w++,s.day()+30*(s.month()-1)+365*(w-1)+Math.floor(w/4)+this.jdEpoch-1},fromJD:function(w){var b=Math.floor(w)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(w)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,n=b-30*(s-1)+1;return this.newDate(f,s,n)}}),k.calendars.coptic=o},55668:function(U,C,e){var k=e(38700),A=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,k.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,k.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,k.local.invalidYear),400},weekOfYear:function(b,f,s){var n=this.newDate(b,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,f,s){return(this._validate(b,f,s,k.local.invalidDate).day()+1)%8},weekDay:function(b,f,s){var n=this.dayOfWeek(b,f,s);return n>=2&&n<=6},extraInfo:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);return{century:w[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);return b=n.year()+(n.year()<0?1:0),f=n.month(),(s=n.day())+(f>1?16:0)+(f>2?32*(f-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(b/400)+1;b-=400*(f-1),b+=b>15?16:0;var s=Math.floor(b/32)+1,n=b-32*(s-1)+1;return this.newDate(f<=0?f-1:f,s,n)}});var w={20:"Fruitbat",21:"Anchovy"};k.calendars.discworld=o},65168:function(U,C,e){var k=e(38700),A=e(50896);function o(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear);return(w=b.year()+(b.year()<0?1:0))%4==3||w%4==-1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),13},weekOfYear:function(w,b,f){var s=this.newDate(w,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var f=this._validate(w,b,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(w,b,f){return(this.dayOfWeek(w,b,f)||7)<6},toJD:function(w,b,f){var s=this._validate(w,b,f,k.local.invalidDate);return(w=s.year())<0&&w++,s.day()+30*(s.month()-1)+365*(w-1)+Math.floor(w/4)+this.jdEpoch-1},fromJD:function(w){var b=Math.floor(w)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(w)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,n=b-30*(s-1)+1;return this.newDate(f,s,n)}}),k.calendars.ethiopian=o},2084:function(U,C,e){var k=e(38700),A=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function w(b,f){return b-f*Math.floor(b/f)}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(b){return w(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,k.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,f,s){var n=this.newDate(b,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,f){return b.year&&(f=b.month(),b=b.year()),this._validate(b,f,this.minDay,k.local.invalidMonth),f===12&&this.leapYear(b)||f===8&&w(this.daysInYear(b),10)===5?30:f===9&&w(this.daysInYear(b),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==6},extraInfo:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);b=n.year(),f=n.month(),s=n.day();var i=b<=0?b+1:b,r=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(f<7){for(var t=7;t<=this.monthsInYear(b);t++)r+=this.daysInMonth(b,t);for(t=1;t<f;t++)r+=this.daysInMonth(b,t)}else for(t=7;t<f;t++)r+=this.daysInMonth(b,t);return r},_delay1:function(b){var f=Math.floor((235*b-234)/19),s=12084+13753*f,n=29*f+Math.floor(s/25920);return w(3*(n+1),7)<3&&n++,n},_delay2:function(b){var f=this._delay1(b-1),s=this._delay1(b);return this._delay1(b+1)-s==356?2:s-f==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var f=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var s=b<this.toJD(f,1,1)?7:1;b>this.toJD(f,s,this.daysInMonth(f,s));)s++;var n=b-this.toJD(f,s,1)+1;return this.newDate(f,s,n)}}),k.calendars.hebrew=o},26368:function(U,C,e){var k=e(38700),A=e(50896);function o(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){return(11*this._validate(w,this.minMonth,this.minDay,k.local.invalidYear).year()+14)%30<11},weekOfYear:function(w,b,f){var s=this.newDate(w,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(w){return this.leapYear(w)?355:354},daysInMonth:function(w,b){var f=this._validate(w,b,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(w,b,f){return this.dayOfWeek(w,b,f)!==5},toJD:function(w,b,f){var s=this._validate(w,b,f,k.local.invalidDate);return w=s.year(),b=s.month(),w=w<=0?w+1:w,(f=s.day())+Math.ceil(29.5*(b-1))+354*(w-1)+Math.floor((3+11*w)/30)+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var b=Math.floor((30*(w-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var f=Math.min(12,Math.ceil((w-29-this.toJD(b,1,1))/29.5)+1),s=w-this.toJD(b,f,1)+1;return this.newDate(b,f,s)}}),k.calendars.islamic=o},24747:function(U,C,e){var k=e(38700),A=e(50896);function o(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear);return(w=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(w,b,f){var s=this.newDate(w,b,f);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var f=this._validate(w,b,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(w,b,f){return(this.dayOfWeek(w,b,f)||7)<6},toJD:function(w,b,f){var s=this._validate(w,b,f,k.local.invalidDate);return w=s.year(),b=s.month(),f=s.day(),w<0&&w++,b<=2&&(w--,b+=12),Math.floor(365.25*(w+4716))+Math.floor(30.6001*(b+1))+f-1524.5},fromJD:function(w){var b=Math.floor(w+.5)+1524,f=Math.floor((b-122.1)/365.25),s=Math.floor(365.25*f),n=Math.floor((b-s)/30.6001),i=n-Math.floor(n<14?1:13),r=f-Math.floor(i>2?4716:4715),t=b-s-Math.floor(30.6001*n);return r<=0&&r--,this.newDate(r,i,t)}}),k.calendars.julian=o},65616:function(U,C,e){var k=e(38700),A=e(50896);function o(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function w(f,s){return f-s*Math.floor(f/s)}function b(f,s){return w(f-1,s)+1}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),!1},formatYear:function(f){f=this._validate(f,this.minMonth,this.minDay,k.local.invalidYear).year();var s=Math.floor(f/400);return f%=400,f+=f<0?400:0,s+"."+Math.floor(f/20)+"."+f%20},forYear:function(f){if((f=f.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,n=0;n<f.length;n++){var i=parseInt(f[n],10);if(Math.abs(i)>19||n>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),18},weekOfYear:function(f,s,n){return this._validate(f,s,n,k.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),360},daysInMonth:function(f,s){return this._validate(f,s,this.minDay,k.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,s,n){return this._validate(f,s,n,k.local.invalidDate).day()},weekDay:function(f,s,n){return this._validate(f,s,n,k.local.invalidDate),!0},extraInfo:function(f,s,n){var i=this._validate(f,s,n,k.local.invalidDate).toJD(),r=this._toHaab(i),t=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[t[0]-1],tzolkinDay:t[0],tzolkinTrecena:t[1]}},_toHaab:function(f){var s=w(8+(f-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,w(s,20)]},_toTzolkin:function(f){return[b(20+(f-=this.jdEpoch),20),b(f+4,13)]},toJD:function(f,s,n){var i=this._validate(f,s,n,k.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var s=Math.floor(f/360);f%=360,f+=f<0?360:0;var n=Math.floor(f/20),i=f%20;return this.newDate(s,n,i)}}),k.calendars.mayan=o},30632:function(U,C,e){var k=e(38700),A=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar;var w=k.instance("gregorian");A(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return w.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(b,f,s){var n=this.newDate(b,f,s);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidMonth);(b=n.year())<0&&b++;for(var i=n.day(),r=1;r<n.month();r++)i+=this.daysPerMonth[r-1];return i+w.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var f=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(f+1,1,1);)f++;for(var s=b-Math.floor(this.toJD(f,1,1)+.5)+1,n=1;s>this.daysInMonth(f,n);)s-=this.daysInMonth(f,n),n++;return this.newDate(f,n,s)}}),k.calendars.nanakshahi=o},73040:function(U,C,e){var k=e(38700),A=e(50896);function o(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(w){return this.daysInYear(w)!==this.daysPerYear},weekOfYear:function(w,b,f){var s=this.newDate(w,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(w){if(w=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[w]===void 0)return this.daysPerYear;for(var b=0,f=this.minMonth;f<=12;f++)b+=this.NEPALI_CALENDAR_DATA[w][f];return b},daysInMonth:function(w,b){return w.year&&(b=w.month(),w=w.year()),this._validate(w,b,this.minDay,k.local.invalidMonth),this.NEPALI_CALENDAR_DATA[w]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[w][b]},weekDay:function(w,b,f){return this.dayOfWeek(w,b,f)!==6},toJD:function(w,b,f){var s=this._validate(w,b,f,k.local.invalidDate);w=s.year(),b=s.month(),f=s.day();var n=k.instance(),i=0,r=b,t=w;this._createMissingCalendarData(w);var a=w-(r>9||r===9&&f>=this.NEPALI_CALENDAR_DATA[t][0]?56:57);for(b!==9&&(i=f,r--);r!==9;)r<=0&&(r=12,t--),i+=this.NEPALI_CALENDAR_DATA[t][r],r--;return b===9?(i+=f-this.NEPALI_CALENDAR_DATA[t][0])<0&&(i+=n.daysInYear(a)):i+=this.NEPALI_CALENDAR_DATA[t][9]-this.NEPALI_CALENDAR_DATA[t][0],n.newDate(a,1,1).add(i,"d").toJD()},fromJD:function(w){var b=k.instance().fromJD(w),f=b.year(),s=b.dayOfYear(),n=f+56;this._createMissingCalendarData(n);for(var i=9,r=this.NEPALI_CALENDAR_DATA[n][0],t=this.NEPALI_CALENDAR_DATA[n][i]-r+1;s>t;)++i>12&&(i=1,n++),t+=this.NEPALI_CALENDAR_DATA[n][i];var a=this.NEPALI_CALENDAR_DATA[n][i]-(t-s);return this.newDate(n,i,a)},_createMissingCalendarData:function(w){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var f=w-1;f<w+2;f++)this.NEPALI_CALENDAR_DATA[f]===void 0&&(this.NEPALI_CALENDAR_DATA[f]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),k.calendars.nepali=o},1104:function(U,C,e){var k=e(38700),A=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function w(b,f){return b-f*Math.floor(b/f)}o.prototype=new k.baseCalendar,A(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return 682*((f.year()-(f.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,f,s){var n=this.newDate(b,f,s);return n.add(-(n.dayOfWeek()+1)%7,"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);b=n.year(),f=n.month(),s=n.day();var i=b-(b>=0?474:473),r=474+w(i,2820);return s+(f<=7?31*(f-1):30*(f-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var f=(b=Math.floor(b)+.5)-this.toJD(475,1,1),s=Math.floor(f/1029983),n=w(f,1029983),i=2820;if(n!==1029982){var r=Math.floor(n/366),t=w(n,366);i=Math.floor((2134*r+2816*t+2815)/1028522)+r+1}var a=i+2820*s+474;a=a<=0?a-1:a;var l=b-this.toJD(a,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),h=b-this.toJD(a,u,1)+1;return this.newDate(a,u,h)}}),k.calendars.persian=o,k.calendars.jalali=o},51456:function(U,C,e){var k=e(38700),A=e(50896),o=k.instance();function w(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}w.prototype=new k.baseCalendar,A(w.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return b=this._t2gYear(f.year()),o.leapYear(b)},weekOfYear:function(b,f,s){var n=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return b=this._t2gYear(n.year()),o.weekOfYear(b,n.month(),n.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);return b=this._t2gYear(n.year()),o.toJD(b,n.month(),n.day())},fromJD:function(b){var f=o.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),k.calendars.taiwan=w},4592:function(U,C,e){var k=e(38700),A=e(50896),o=k.instance();function w(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}w.prototype=new k.baseCalendar,A(w.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return b=this._t2gYear(f.year()),o.leapYear(b)},weekOfYear:function(b,f,s){var n=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return b=this._t2gYear(n.year()),o.weekOfYear(b,n.month(),n.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate);return b=this._t2gYear(n.year()),o.toJD(b,n.month(),n.day())},fromJD:function(b){var f=o.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),k.calendars.thai=w},45348:function(U,C,e){var k=e(38700),A=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new k.baseCalendar,A(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,k.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(b,f,s){var n=this.newDate(b,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var f=0,s=1;s<=12;s++)f+=this.daysInMonth(b,s);return f},daysInMonth:function(b,f){for(var s=this._validate(b,f,this.minDay,k.local.invalidMonth).toJD()-24e5+.5,n=0,i=0;i<w.length;i++){if(w[i]>s)return w[n]-w[n-1];n++}return 30},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var n=this._validate(b,f,s,k.local.invalidDate),i=12*(n.year()-1)+n.month()-15292;return n.day()+w[i-1]-1+24e5-.5},fromJD:function(b){for(var f=b-24e5+.5,s=0,n=0;n<w.length&&!(w[n]>f);n++)s++;var i=s+15292,r=Math.floor((i-1)/12),t=r+1,a=i-12*r,l=f-w[s-1]+1;return this.newDate(t,a,l)},isValid:function(b,f,s){var n=k.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(n=(b=b.year!=null?b.year:b)>=1276&&b<=1500),n},_validate:function(b,f,s,n){var i=k.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw n.replace(/\{0\}/,this.local.name);return i}}),k.calendars.ummalqura=o;var w=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(U,C,e){var k=e(50896);function A(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(n,i,r,t){if(this._calendar=n,this._year=i,this._month=r,this._day=t,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function w(n,i){return"000000".substring(0,i-(n=""+n).length)+n}function b(){this.shortYearCutoff="+10"}function f(n){this.local=this.regionalOptions[n]||this.regionalOptions[""]}k(A.prototype,{instance:function(n,i){n=(n||"gregorian").toLowerCase(),i=i||"";var r=this._localCals[n+"-"+i];if(!r&&this.calendars[n]&&(r=new this.calendars[n](i),this._localCals[n+"-"+i]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,n);return r},newDate:function(n,i,r,t,a){return(t=(n!=null&&n.year?n.calendar():typeof t=="string"?this.instance(t,a):t)||this.instance()).newDate(n,i,r)},substituteDigits:function(n){return function(i){return(i+"").replace(/[0-9]/g,function(r){return n[r]})}},substituteChineseDigits:function(n,i){return function(r){for(var t="",a=0;r>0;){var l=r%10;t=(l===0?"":n[l]+i[a])+t,a++,r=Math.floor(r/10)}return t.indexOf(n[1]+i[1])===0&&(t=t.substr(1)),t||n[0]}}}),k(o.prototype,{newDate:function(n,i,r){return this._calendar.newDate(n??this,i,r)},year:function(n){return arguments.length===0?this._year:this.set(n,"y")},month:function(n){return arguments.length===0?this._month:this.set(n,"m")},day:function(n){return arguments.length===0?this._day:this.set(n,"d")},date:function(n,i,r){if(!this._calendar.isValid(n,i,r))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=n,this._month=i,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(n,i){return this._calendar.add(this,n,i)},set:function(n,i){return this._calendar.set(this,n,i)},compareTo:function(n){if(this._calendar.name!==n._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,n._calendar.local.name);var i=this._year!==n._year?this._year-n._year:this._month!==n._month?this.monthOfYear()-n.monthOfYear():this._day-n._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(n){return this._calendar.fromJD(n)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(n){return this._calendar.fromJSDate(n)},toString:function(){return(this.year()<0?"-":"")+w(Math.abs(this.year()),4)+"-"+w(this.month(),2)+"-"+w(this.day(),2)}}),k(b.prototype,{_validateLevel:0,newDate:function(n,i,r){return n==null?this.today():(n.year&&(this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),r=n.day(),i=n.month(),n=n.year()),new o(this,n,i,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(n){return this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+w(Math.abs(i.year()),4)},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(n,i){var r=this._validate(n,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(n,i){var r=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(n)+this.minMonth;return this._validate(n,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),r},daysInYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(n,i,r){var t=this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return t.toJD()-this.newDate(t.year(),this.fromMonthOfYear(t.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(n,i,r){var t=this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(t))+2)%this.daysInWeek()},extraInfo:function(n,i,r){return this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(n,i,r){return this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(n,this._add(n,i,r),i,r)},_add:function(n,i,r){if(this._validateLevel++,r==="d"||r==="w"){var t=n.toJD()+i*(r==="w"?this.daysInWeek():1),a=n.calendar().fromJD(t);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var l=n.year()+(r==="y"?i:0),u=n.monthOfYear()+(r==="m"?i:0);a=n.day(),r==="y"?(n.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,n.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):r==="m"&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var y=c.monthsInYear(l);u>y-1+c.minMonth;)l++,u-=y,y=c.monthsInYear(l)}(this),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var h=[l,this.fromMonthOfYear(l,u),a];return this._validateLevel--,h}catch(c){throw this._validateLevel--,c}},_correctAdd:function(n,i,r,t){if(!(this.hasYearZero||t!=="y"&&t!=="m"||i[0]!==0&&n.year()>0==i[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[t],l=r<0?-1:1;i=this._add(n,r*a[0]+l*a[1],a[2])}return n.date(i[0],i[1],i[2])},set:function(n,i,r){this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var t=r==="y"?i:n.year(),a=r==="m"?i:n.month(),l=r==="d"?i:n.day();return r!=="y"&&r!=="m"||(l=Math.min(l,this.daysInMonth(t,a))),n.date(t,a,l)},isValid:function(n,i,r){this._validateLevel++;var t=this.hasYearZero||n!==0;if(t){var a=this.newDate(n,i,this.minDay);t=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(a)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(a)}return this._validateLevel--,t},toJSDate:function(n,i,r){var t=this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(t)).toJSDate()},fromJSDate:function(n){return this.fromJD(s.instance().fromJSDate(n).toJD())},_validate:function(n,i,r,t){if(n.year){if(this._validateLevel===0&&this.name!==n.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,n.calendar().local.name);return n}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(n,i,r))throw t.replace(/\{0\}/,this.local.name);var a=this.newDate(n,i,r);return this._validateLevel--,a}catch(l){throw this._validateLevel--,l}}}),f.prototype=new b,k(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(n=i.year()+(i.year()<0?1:0))%4==0&&(n%100!=0||n%400==0)},weekOfYear:function(n,i,r){var t=this.newDate(n,i,r);return t.add(4-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(n,i){var r=this._validate(n,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(n,i,r){return(this.dayOfWeek(n,i,r)||7)<6},toJD:function(n,i,r){var t=this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);n=t.year(),i=t.month(),r=t.day(),n<0&&n++,i<3&&(i+=12,n--);var a=Math.floor(n/100),l=2-a+Math.floor(a/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(i+1))+r+l-1524.5},fromJD:function(n){var i=Math.floor(n+.5),r=Math.floor((i-186721625e-2)/36524.25),t=1524+(r=i+1+r-Math.floor(r/4)),a=Math.floor((t-122.1)/365.25),l=Math.floor(365.25*a),u=Math.floor((t-l)/30.6001),h=t-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),y=a-(c>2.5?4716:4715);return y<=0&&y--,this.newDate(y,c,h)},toJSDate:function(n,i,r){var t=this._validate(n,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),a=new Date(t.year(),t.month()-1,t.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(n){return this.newDate(n.getFullYear(),n.getMonth()+1,n.getDate())}});var s=U.exports=new A;s.cdate=o,s.baseCalendar=b,s.calendars.gregorian=f},15168:function(U,C,e){var k=e(50896),A=e(38700);k(A.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),A.local=A.regionalOptions[""],k(A.cdate.prototype,{formatDate:function(o,w){return typeof o!="string"&&(w=o,o=""),this._calendar.formatDate(o||"",this,w)}}),k(A.baseCalendar.prototype,{UNIX_EPOCH:A.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:A.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,w,b){if(typeof o!="string"&&(b=w,w=o,o=""),!w)return"";if(w.calendar()!==this)throw A.local.invalidFormat||A.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var f,s,n,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,t=b.monthNumbers||this.local.monthNumbers,a=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(p,S){for(var T=1;_+T<o.length&&o.charAt(_+T)===p;)T++;return _+=T-1,Math.floor(T/(S||1))>1}),h=function(p,S,T,E){var O=""+S;if(u(p,E))for(;O.length<T;)O="0"+O;return O},c=this,y=function(p){return typeof t=="function"?t.call(c,p,u("m")):g(h("m",p.month(),2))},d=function(p,S){return S?typeof l=="function"?l.call(c,p):l[p.month()-c.minMonth]:typeof a=="function"?a.call(c,p):a[p.month()-c.minMonth]},v=this.local.digits,g=function(p){return b.localNumbers&&v?v(p):p},x="",m=!1,_=0;_<o.length;_++)if(m)o.charAt(_)!=="'"||u("'")?x+=o.charAt(_):m=!1;else switch(o.charAt(_)){case"d":x+=g(h("d",w.day(),2));break;case"D":x+=(f=w.dayOfWeek(),s=i,n=r,u("D")?n[f]:s[f]);break;case"o":x+=h("o",w.dayOfYear(),3);break;case"w":x+=h("w",w.weekOfYear(),2);break;case"m":x+=y(w);break;case"M":x+=d(w,u("M"));break;case"y":x+=u("y",2)?w.year():(w.year()%100<10?"0":"")+w.year()%100;break;case"Y":u("Y",2),x+=w.formatYear();break;case"J":x+=w.toJD();break;case"@":x+=(w.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(w.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?x+="'":m=!0;break;default:x+=o.charAt(_)}return x},parseDate:function(o,w,b){if(w==null)throw A.local.invalidArguments||A.regionalOptions[""].invalidArguments;if((w=typeof w=="object"?w.toString():w+"")==="")return null;o=o||this.local.dateFormat;var f=(b=b||{}).shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var s=b.dayNamesShort||this.local.dayNamesShort,n=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,r=b.monthNumbers||this.local.monthNumbers,t=b.monthNamesShort||this.local.monthNamesShort,a=b.monthNames||this.local.monthNames,l=-1,u=-1,h=-1,c=-1,y=-1,d=!1,v=!1,g=function(R,H){for(var z=1;O+z<o.length&&o.charAt(O+z)===R;)z++;return O+=z-1,Math.floor(z/(H||1))>1},x=function(R,H){var z=g(R,H),j=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],Z=new RegExp("^-?\\d{1,"+j+"}"),F=w.substring(E).match(Z);if(!F)throw(A.local.missingNumberAt||A.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},m=this,_=function(){if(typeof r=="function"){g("m");var R=r.call(m,w.substring(E));return E+=R.length,R}return x("m")},p=function(R,H,z,j){for(var Z=g(R,j)?z:H,F=0;F<Z.length;F++)if(w.substr(E,Z[F].length).toLowerCase()===Z[F].toLowerCase())return E+=Z[F].length,F+m.minMonth;throw(A.local.unknownNameAt||A.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof a=="function"){var R=g("M")?a.call(m,w.substring(E)):t.call(m,w.substring(E));return E+=R.length,R}return p("M",t,a)},T=function(){if(w.charAt(E)!==o.charAt(O))throw(A.local.unexpectedLiteralAt||A.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,O=0;O<o.length;O++)if(v)o.charAt(O)!=="'"||g("'")?T():v=!1;else switch(o.charAt(O)){case"d":c=x("d");break;case"D":p("D",s,n);break;case"o":y=x("o");break;case"w":x("w");break;case"m":h=_();break;case"M":h=S();break;case"y":var P=O;d=!g("y",2),O=P,u=x("y",2);break;case"Y":u=x("Y",2);break;case"J":l=x("J")+.5,w.charAt(E)==="."&&(E++,x("J"));break;case"@":l=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=w.length;break;case"'":g("'")?T():v=!0;break;default:T()}if(E<w.length)throw A.local.unexpectedText||A.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&d&&(u+=f===-1?1900:this.today().year()-this.today().year()%100-(u<=f?0:100)),typeof h=="string"&&(h=i.call(this,u,h)),y>-1){h=1,c=y;for(var I=this.daysInMonth(u,h);c>I;I=this.daysInMonth(u,h))h++,c-=I}return l>-1?this.fromJD(l):this.newDate(u,h,c)},determineDate:function(o,w,b,f,s){b&&typeof b!="object"&&(s=f,f=b,b=null),typeof f!="string"&&(s=f,f="");var n=this;return w=w?w.newDate():null,o==null?w:typeof o=="string"?function(i){try{return n.parseDate(f,i,s)}catch{}for(var r=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||n.today(),t=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,a=t.exec(i);a;)r.add(parseInt(a[1],10),a[2]||"d"),a=t.exec(i);return r}(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?w:n.today().add(o,"d"):n.newDate(o)}})},21576:function(){},19768:function(){},63436:function(U,C,e){var k=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?e.g:globalThis;U.exports=function(){for(var o=[],w=0;w<k.length;w++)typeof A[k[w]]=="function"&&(o[o.length]=k[w]);return o}},67756:function(U,C,e){function k(pe,de,xe){pe.prototype=de.prototype=xe,xe.constructor=pe}function A(pe,de){var xe=Object.create(pe.prototype);for(var _e in de)xe[_e]=de[_e];return xe}function o(){}e.d(C,{qy:function(){return he},Gz:function(){return ne}});var w=.7,b=1/w,f="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(f,",").concat(f,",").concat(f,"\\)$")),t=new RegExp("^rgb\\(".concat(n,",").concat(n,",").concat(n,"\\)$")),a=new RegExp("^rgba\\(".concat(f,",").concat(f,",").concat(f,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(n,",").concat(n,",").concat(n,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(n,",").concat(n,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(n,",").concat(n,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function d(){return this.rgb().formatRgb()}function v(pe){var de,xe;return pe=(pe+"").trim().toLowerCase(),(de=i.exec(pe))?(xe=de[1].length,de=parseInt(de[1],16),xe===6?g(de):xe===3?new _(de>>8&15|de>>4&240,de>>4&15|240&de,(15&de)<<4|15&de,1):xe===8?x(de>>24&255,de>>16&255,de>>8&255,(255&de)/255):xe===4?x(de>>12&15|de>>8&240,de>>8&15|de>>4&240,de>>4&15|240&de,((15&de)<<4|15&de)/255):null):(de=r.exec(pe))?new _(de[1],de[2],de[3],1):(de=t.exec(pe))?new _(255*de[1]/100,255*de[2]/100,255*de[3]/100,1):(de=a.exec(pe))?x(de[1],de[2],de[3],de[4]):(de=l.exec(pe))?x(255*de[1]/100,255*de[2]/100,255*de[3]/100,de[4]):(de=u.exec(pe))?P(de[1],de[2]/100,de[3]/100,1):(de=h.exec(pe))?P(de[1],de[2]/100,de[3]/100,de[4]):c.hasOwnProperty(pe)?g(c[pe]):pe==="transparent"?new _(NaN,NaN,NaN,0):null}function g(pe){return new _(pe>>16&255,pe>>8&255,255&pe,1)}function x(pe,de,xe,_e){return _e<=0&&(pe=de=xe=NaN),new _(pe,de,xe,_e)}function m(pe,de,xe,_e){return arguments.length===1?((be=pe)instanceof o||(be=v(be)),be?new _((be=be.rgb()).r,be.g,be.b,be.opacity):new _):new _(pe,de,xe,_e??1);var be}function _(pe,de,xe,_e){this.r=+pe,this.g=+de,this.b=+xe,this.opacity=+_e}function p(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function S(){var pe=T(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function T(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function E(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function O(pe){return((pe=E(pe))<16?"0":"")+pe.toString(16)}function P(pe,de,xe,_e){return _e<=0?pe=de=xe=NaN:xe<=0||xe>=1?pe=de=NaN:de<=0&&(pe=NaN),new R(pe,de,xe,_e)}function I(pe){if(pe instanceof R)return new R(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof o||(pe=v(pe)),!pe)return new R;if(pe instanceof R)return pe;var de=(pe=pe.rgb()).r/255,xe=pe.g/255,_e=pe.b/255,be=Math.min(de,xe,_e),Le=Math.max(de,xe,_e),De=NaN,ye=Le-be,le=(Le+be)/2;return ye?(De=de===Le?(xe-_e)/ye+6*(xe<_e):xe===Le?(_e-de)/ye+2:(de-xe)/ye+4,ye/=le<.5?Le+be:2-Le-be,De*=60):ye=le>0&&le<1?0:De,new R(De,ye,le,pe.opacity)}function R(pe,de,xe,_e){this.h=+pe,this.s=+de,this.l=+xe,this.opacity=+_e}function H(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function z(pe){return Math.max(0,Math.min(1,pe||0))}function j(pe,de,xe){return 255*(pe<60?de+(xe-de)*pe/60:pe<180?xe:pe<240?de+(xe-de)*(240-pe)/60:de)}k(o,v,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:d,toString:d}),k(_,m,A(o,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new _(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?w:Math.pow(w,pe),new _(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new _(E(this.r),E(this.g),E(this.b),T(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p,formatHex:p,formatHex8:function(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),k(R,function(pe,de,xe,_e){return arguments.length===1?I(pe):new R(pe,de,xe,_e??1)},A(o,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new R(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?w:Math.pow(w,pe),new R(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),de=isNaN(pe)||isNaN(this.s)?0:this.s,xe=this.l,_e=xe+(xe<.5?xe:1-xe)*de,be=2*xe-_e;return new _(j(pe>=240?pe-240:pe+120,be,_e),j(pe,be,_e),j(pe<120?pe+240:pe-120,be,_e),this.opacity)},clamp:function(){return new R(H(this.h),z(this.s),z(this.l),T(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=T(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var Z=function(pe){return function(){return pe}};function F(pe,de){var xe=de-pe;return xe?function(_e,be){return function(Le){return _e+Le*be}}(pe,xe):Z(isNaN(pe)?de:pe)}var V=function pe(de){var xe=function(be){return(be=+be)==1?F:function(Le,De){return De-Le?function(ye,le,oe){return ye=Math.pow(ye,oe),le=Math.pow(le,oe)-ye,oe=1/oe,function(ve){return Math.pow(ye+ve*le,oe)}}(Le,De,be):Z(isNaN(Le)?De:Le)}}(de);function _e(be,Le){var De=xe((be=m(be)).r,(Le=m(Le)).r),ye=xe(be.g,Le.g),le=xe(be.b,Le.b),oe=F(be.opacity,Le.opacity);return function(ve){return be.r=De(ve),be.g=ye(ve),be.b=le(ve),be.opacity=oe(ve),be+""}}return _e.gamma=pe,_e}(1);function W(pe,de){var xe,_e=de?de.length:0,be=pe?Math.min(_e,pe.length):0,Le=new Array(be),De=new Array(_e);for(xe=0;xe<be;++xe)Le[xe]=he(pe[xe],de[xe]);for(;xe<_e;++xe)De[xe]=de[xe];return function(ye){for(xe=0;xe<be;++xe)De[xe]=Le[xe](ye);return De}}function re(pe,de){var xe=new Date;return pe=+pe,de=+de,function(_e){return xe.setTime(pe*(1-_e)+de*_e),xe}}function ne(pe,de){return pe=+pe,de=+de,function(xe){return pe*(1-xe)+de*xe}}function te(pe){return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},te(pe)}function Q(pe,de){var xe,_e={},be={};for(xe in pe!==null&&te(pe)==="object"||(pe={}),de!==null&&te(de)==="object"||(de={}),de)xe in pe?_e[xe]=he(pe[xe],de[xe]):be[xe]=de[xe];return function(Le){for(xe in _e)be[xe]=_e[xe](Le);return be}}var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K=new RegExp($.source,"g");function ae(pe,de){var xe,_e,be,Le=$.lastIndex=K.lastIndex=0,De=-1,ye=[],le=[];for(pe+="",de+="";(xe=$.exec(pe))&&(_e=K.exec(de));)(be=_e.index)>Le&&(be=de.slice(Le,be),ye[De]?ye[De]+=be:ye[++De]=be),(xe=xe[0])===(_e=_e[0])?ye[De]?ye[De]+=_e:ye[++De]=_e:(ye[++De]=null,le.push({i:De,x:ne(xe,_e)})),Le=K.lastIndex;return Le<de.length&&(be=de.slice(Le),ye[De]?ye[De]+=be:ye[++De]=be),ye.length<2?le[0]?function(oe){return function(ve){return oe(ve)+""}}(le[0].x):function(oe){return function(){return oe}}(de):(de=le.length,function(oe){for(var ve,Ce=0;Ce<de;++Ce)ye[(ve=le[Ce]).i]=ve.x(oe);return ye.join("")})}function ue(pe,de){de||(de=[]);var xe,_e=pe?Math.min(de.length,pe.length):0,be=de.slice();return function(Le){for(xe=0;xe<_e;++xe)be[xe]=pe[xe]*(1-Le)+de[xe]*Le;return be}}function se(pe){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},se(pe)}function he(pe,de){var xe,_e,be=se(de);return de==null||be==="boolean"?Z(de):(be==="number"?ne:be==="string"?(xe=v(de))?(de=xe,V):ae:de instanceof v?V:de instanceof Date?re:(_e=de,!ArrayBuffer.isView(_e)||_e instanceof DataView?Array.isArray(de)?W:typeof de.valueOf!="function"&&typeof de.toString!="function"||isNaN(de)?Q:ne:ue))(pe,de)}},30584:function(U){U.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(U){U.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(U){U.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(U){U.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(U){U.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(U){U.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ne={};function Xe(U){var C=Ne[U];if(C!==void 0)return C.exports;var e=Ne[U]={exports:{}};return me[U].call(e.exports,e,e.exports,Xe),e.exports}return Xe.n=function(U){var C=U&&U.__esModule?function(){return U.default}:function(){return U};return Xe.d(C,{a:C}),C},Xe.d=function(U,C){for(var e in C)Xe.o(C,e)&&!Xe.o(U,e)&&Object.defineProperty(U,e,{enumerable:!0,get:C[e]})},Xe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Xe.o=function(U,C){return Object.prototype.hasOwnProperty.call(U,C)},Xe.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},Xe(13792)}()})})(j_);var d6=j_.exports;const U_=S2(d6);var ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(B){return this.listeners.add(B),this.onSubscribe(),()=>{this.listeners.delete(B),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sh=typeof window>"u"||"Deno"in globalThis;function El(){}function g6(B,X){return typeof B=="function"?B(X):B}function pv(B){return typeof B=="number"&&B>=0&&B!==1/0}function V_(B,X){return Math.max(B+(X||0)-Date.now(),0)}function oh(B,X){return typeof B=="function"?B(X):B}function ru(B,X){return typeof B=="function"?B(X):B}function c2(B,X){const{type:me="all",exact:Ne,fetchStatus:Xe,predicate:U,queryKey:C,stale:e}=B;if(C){if(Ne){if(X.queryHash!==xm(C,X.options))return!1}else if(!qp(X.queryKey,C))return!1}if(me!=="all"){const k=X.isActive();if(me==="active"&&!k||me==="inactive"&&k)return!1}return!(typeof e=="boolean"&&X.isStale()!==e||Xe&&Xe!==X.state.fetchStatus||U&&!U(X))}function f2(B,X){const{exact:me,status:Ne,predicate:Xe,mutationKey:U}=B;if(U){if(!X.options.mutationKey)return!1;if(me){if(Hp(X.options.mutationKey)!==Hp(U))return!1}else if(!qp(X.options.mutationKey,U))return!1}return!(Ne&&X.state.status!==Ne||Xe&&!Xe(X))}function xm(B,X){return((X==null?void 0:X.queryKeyHashFn)||Hp)(B)}function Hp(B){return JSON.stringify(B,(X,me)=>gv(me)?Object.keys(me).sort().reduce((Ne,Xe)=>(Ne[Xe]=me[Xe],Ne),{}):me)}function qp(B,X){return B===X?!0:typeof B!=typeof X?!1:B&&X&&typeof B=="object"&&typeof X=="object"?!Object.keys(X).some(me=>!qp(B[me],X[me])):!1}function H_(B,X){if(B===X)return B;const me=h2(B)&&h2(X);if(me||gv(B)&&gv(X)){const Ne=me?B:Object.keys(B),Xe=Ne.length,U=me?X:Object.keys(X),C=U.length,e=me?[]:{};let k=0;for(let A=0;A<C;A++){const o=me?A:U[A];(!me&&Ne.includes(o)||me)&&B[o]===void 0&&X[o]===void 0?(e[o]=void 0,k++):(e[o]=H_(B[o],X[o]),e[o]===B[o]&&B[o]!==void 0&&k++)}return Xe===C&&k===Xe?B:e}return X}function dv(B,X){if(!X||Object.keys(B).length!==Object.keys(X).length)return!1;for(const me in B)if(B[me]!==X[me])return!1;return!0}function h2(B){return Array.isArray(B)&&B.length===Object.keys(B).length}function gv(B){if(!p2(B))return!1;const X=B.constructor;if(X===void 0)return!0;const me=X.prototype;return!(!p2(me)||!me.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(B)!==Object.prototype)}function p2(B){return Object.prototype.toString.call(B)==="[object Object]"}function v6(B){return new Promise(X=>{setTimeout(X,B)})}function vv(B,X,me){return typeof me.structuralSharing=="function"?me.structuralSharing(B,X):me.structuralSharing!==!1?H_(B,X):X}function m6(B,X,me=0){const Ne=[...B,X];return me&&Ne.length>me?Ne.slice(1):Ne}function y6(B,X,me=0){const Ne=[X,...B];return me&&Ne.length>me?Ne.slice(0,-1):Ne}var q_=Symbol(),G_=(B,X)=>!B.queryFn&&(X!=null&&X.initialPromise)?()=>X.initialPromise:!B.queryFn||B.queryFn===q_?()=>Promise.reject(new Error(`Missing queryFn: '${B.queryHash}'`)):B.queryFn,nf,dc,sh,y2,x6=(y2=class extends ed{constructor(){super();Jr(this,nf);Jr(this,dc);Jr(this,sh);jr(this,sh,X=>{if(!Sh&&window.addEventListener){const me=()=>X();return window.addEventListener("visibilitychange",me,!1),()=>{window.removeEventListener("visibilitychange",me)}}})}onSubscribe(){jn(this,dc)||this.setEventListener(jn(this,sh))}onUnsubscribe(){var X;this.hasListeners()||((X=jn(this,dc))==null||X.call(this),jr(this,dc,void 0))}setEventListener(X){var me;jr(this,sh,X),(me=jn(this,dc))==null||me.call(this),jr(this,dc,X(Ne=>{typeof Ne=="boolean"?this.setFocused(Ne):this.onFocus()}))}setFocused(X){jn(this,nf)!==X&&(jr(this,nf,X),this.onFocus())}onFocus(){const X=this.isFocused();this.listeners.forEach(me=>{me(X)})}isFocused(){var X;return typeof jn(this,nf)=="boolean"?jn(this,nf):((X=globalThis.document)==null?void 0:X.visibilityState)!=="hidden"}},nf=new WeakMap,dc=new WeakMap,sh=new WeakMap,y2),bm=new x6,lh,gc,uh,x2,b6=(x2=class extends ed{constructor(){super();Jr(this,lh,!0);Jr(this,gc);Jr(this,uh);jr(this,uh,X=>{if(!Sh&&window.addEventListener){const me=()=>X(!0),Ne=()=>X(!1);return window.addEventListener("online",me,!1),window.addEventListener("offline",Ne,!1),()=>{window.removeEventListener("online",me),window.removeEventListener("offline",Ne)}}})}onSubscribe(){jn(this,gc)||this.setEventListener(jn(this,uh))}onUnsubscribe(){var X;this.hasListeners()||((X=jn(this,gc))==null||X.call(this),jr(this,gc,void 0))}setEventListener(X){var me;jr(this,uh,X),(me=jn(this,gc))==null||me.call(this),jr(this,gc,X(this.setOnline.bind(this)))}setOnline(X){jn(this,lh)!==X&&(jr(this,lh,X),this.listeners.forEach(Ne=>{Ne(X)}))}isOnline(){return jn(this,lh)}},lh=new WeakMap,gc=new WeakMap,uh=new WeakMap,x2),V0=new b6;function _6(B){return Math.min(1e3*2**B,3e4)}function W_(B){return(B??"online")==="online"?V0.isOnline():!0}var Y_=class{constructor(B){this.revert=B==null?void 0:B.revert,this.silent=B==null?void 0:B.silent}};function x1(B){return B instanceof Y_}function Z_(B){let X=!1,me=0,Ne=!1,Xe,U,C;const e=new Promise((r,t)=>{U=r,C=t}),k=r=>{var t;Ne||(s(new Y_(r)),(t=B.abort)==null||t.call(B))},A=()=>{X=!0},o=()=>{X=!1},w=()=>bm.isFocused()&&(B.networkMode==="always"||V0.isOnline())&&B.canRun(),b=()=>W_(B.networkMode)&&B.canRun(),f=r=>{var t;Ne||(Ne=!0,(t=B.onSuccess)==null||t.call(B,r),Xe==null||Xe(),U(r))},s=r=>{var t;Ne||(Ne=!0,(t=B.onError)==null||t.call(B,r),Xe==null||Xe(),C(r))},n=()=>new Promise(r=>{var t;Xe=a=>{(Ne||w())&&r(a)},(t=B.onPause)==null||t.call(B)}).then(()=>{var r;Xe=void 0,Ne||(r=B.onContinue)==null||r.call(B)}),i=()=>{if(Ne)return;let r;const t=me===0?B.initialPromise:void 0;try{r=t??B.fn()}catch(a){r=Promise.reject(a)}Promise.resolve(r).then(f).catch(a=>{var y;if(Ne)return;const l=B.retry??(Sh?0:3),u=B.retryDelay??_6,h=typeof u=="function"?u(me,a):u,c=l===!0||typeof l=="number"&&me<l||typeof l=="function"&&l(me,a);if(X||!c){s(a);return}me++,(y=B.onFail)==null||y.call(B,me,a),v6(h).then(()=>w()?void 0:n()).then(()=>{X?s(a):i()})})};return{promise:e,cancel:k,continue:()=>(Xe==null||Xe(),e),cancelRetry:A,continueRetry:o,canStart:b,start:()=>(b()?i():n().then(i),e)}}function w6(){let B=[],X=0,me=b=>{b()},Ne=b=>{b()},Xe=b=>setTimeout(b,0);const U=b=>{Xe=b},C=b=>{let f;X++;try{f=b()}finally{X--,X||A()}return f},e=b=>{X?B.push(b):Xe(()=>{me(b)})},k=b=>(...f)=>{e(()=>{b(...f)})},A=()=>{const b=B;B=[],b.length&&Xe(()=>{Ne(()=>{b.forEach(f=>{me(f)})})})};return{batch:C,batchCalls:k,schedule:e,setNotifyFunction:b=>{me=b},setBatchNotifyFunction:b=>{Ne=b},setScheduler:U}}var So=w6(),rf,b2,X_=(b2=class{constructor(){Jr(this,rf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pv(this.gcTime)&&jr(this,rf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(B){this.gcTime=Math.max(this.gcTime||0,B??(Sh?1/0:5*60*1e3))}clearGcTimeout(){jn(this,rf)&&(clearTimeout(jn(this,rf)),jr(this,rf,void 0))}},rf=new WeakMap,b2),ch,fh,Sl,Wo,Gp,af,eu,Fu,_2,T6=(_2=class extends X_{constructor(X){super();Jr(this,eu);Jr(this,ch);Jr(this,fh);Jr(this,Sl);Jr(this,Wo);Jr(this,Gp);Jr(this,af);jr(this,af,!1),jr(this,Gp,X.defaultOptions),this.setOptions(X.options),this.observers=[],jr(this,Sl,X.cache),this.queryKey=X.queryKey,this.queryHash=X.queryHash,jr(this,ch,X.state||k6(this.options)),this.state=jn(this,ch),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var X;return(X=jn(this,Wo))==null?void 0:X.promise}setOptions(X){this.options={...jn(this,Gp),...X},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&jn(this,Sl).remove(this)}setData(X,me){const Ne=vv(this.state.data,X,this.options);return mi(this,eu,Fu).call(this,{data:Ne,type:"success",dataUpdatedAt:me==null?void 0:me.updatedAt,manual:me==null?void 0:me.manual}),Ne}setState(X,me){mi(this,eu,Fu).call(this,{type:"setState",state:X,setStateOptions:me})}cancel(X){var Ne,Xe;const me=(Ne=jn(this,Wo))==null?void 0:Ne.promise;return(Xe=jn(this,Wo))==null||Xe.cancel(X),me?me.then(El).catch(El):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(jn(this,ch))}isActive(){return this.observers.some(X=>ru(X.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(X=>X.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(X=0){return this.state.isInvalidated||this.state.data===void 0||!V_(this.state.dataUpdatedAt,X)}onFocus(){var me;const X=this.observers.find(Ne=>Ne.shouldFetchOnWindowFocus());X==null||X.refetch({cancelRefetch:!1}),(me=jn(this,Wo))==null||me.continue()}onOnline(){var me;const X=this.observers.find(Ne=>Ne.shouldFetchOnReconnect());X==null||X.refetch({cancelRefetch:!1}),(me=jn(this,Wo))==null||me.continue()}addObserver(X){this.observers.includes(X)||(this.observers.push(X),this.clearGcTimeout(),jn(this,Sl).notify({type:"observerAdded",query:this,observer:X}))}removeObserver(X){this.observers.includes(X)&&(this.observers=this.observers.filter(me=>me!==X),this.observers.length||(jn(this,Wo)&&(jn(this,af)?jn(this,Wo).cancel({revert:!0}):jn(this,Wo).cancelRetry()),this.scheduleGc()),jn(this,Sl).notify({type:"observerRemoved",query:this,observer:X}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mi(this,eu,Fu).call(this,{type:"invalidate"})}fetch(X,me){var k,A,o;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(me!=null&&me.cancelRefetch))this.cancel({silent:!0});else if(jn(this,Wo))return jn(this,Wo).continueRetry(),jn(this,Wo).promise}if(X&&this.setOptions(X),!this.options.queryFn){const w=this.observers.find(b=>b.options.queryFn);w&&this.setOptions(w.options)}const Ne=new AbortController,Xe=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(jr(this,af,!0),Ne.signal)})},U=()=>{const w=G_(this.options,me),b={queryKey:this.queryKey,meta:this.meta};return Xe(b),jr(this,af,!1),this.options.persister?this.options.persister(w,b,this):w(b)},C={fetchOptions:me,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:U};Xe(C),(k=this.options.behavior)==null||k.onFetch(C,this),jr(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=C.fetchOptions)==null?void 0:A.meta))&&mi(this,eu,Fu).call(this,{type:"fetch",meta:(o=C.fetchOptions)==null?void 0:o.meta});const e=w=>{var b,f,s,n;x1(w)&&w.silent||mi(this,eu,Fu).call(this,{type:"error",error:w}),x1(w)||((f=(b=jn(this,Sl).config).onError)==null||f.call(b,w,this),(n=(s=jn(this,Sl).config).onSettled)==null||n.call(s,this.state.data,w,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return jr(this,Wo,Z_({initialPromise:me==null?void 0:me.initialPromise,fn:C.fetchFn,abort:Ne.abort.bind(Ne),onSuccess:w=>{var b,f,s,n;if(w===void 0){e(new Error(`${this.queryHash} data is undefined`));return}this.setData(w),(f=(b=jn(this,Sl).config).onSuccess)==null||f.call(b,w,this),(n=(s=jn(this,Sl).config).onSettled)==null||n.call(s,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:e,onFail:(w,b)=>{mi(this,eu,Fu).call(this,{type:"failed",failureCount:w,error:b})},onPause:()=>{mi(this,eu,Fu).call(this,{type:"pause"})},onContinue:()=>{mi(this,eu,Fu).call(this,{type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay,networkMode:C.options.networkMode,canRun:()=>!0})),jn(this,Wo).start()}},ch=new WeakMap,fh=new WeakMap,Sl=new WeakMap,Wo=new WeakMap,Gp=new WeakMap,af=new WeakMap,eu=new WeakSet,Fu=function(X){const me=Ne=>{switch(X.type){case"failed":return{...Ne,fetchFailureCount:X.failureCount,fetchFailureReason:X.error};case"pause":return{...Ne,fetchStatus:"paused"};case"continue":return{...Ne,fetchStatus:"fetching"};case"fetch":return{...Ne,...K_(Ne.data,this.options),fetchMeta:X.meta??null};case"success":return{...Ne,data:X.data,dataUpdateCount:Ne.dataUpdateCount+1,dataUpdatedAt:X.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!X.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const Xe=X.error;return x1(Xe)&&Xe.revert&&jn(this,fh)?{...jn(this,fh),fetchStatus:"idle"}:{...Ne,error:Xe,errorUpdateCount:Ne.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:Ne.fetchFailureCount+1,fetchFailureReason:Xe,fetchStatus:"idle",status:"error"};case"invalidate":return{...Ne,isInvalidated:!0};case"setState":return{...Ne,...X.state}}};this.state=me(this.state),So.batch(()=>{this.observers.forEach(Ne=>{Ne.onQueryUpdate()}),jn(this,Sl).notify({query:this,type:"updated",action:X})})},_2);function K_(B,X){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W_(X.networkMode)?"fetching":"paused",...B===void 0&&{error:null,status:"pending"}}}function k6(B){const X=typeof B.initialData=="function"?B.initialData():B.initialData,me=X!==void 0,Ne=me?typeof B.initialDataUpdatedAt=="function"?B.initialDataUpdatedAt():B.initialDataUpdatedAt:0;return{data:X,dataUpdateCount:0,dataUpdatedAt:me?Ne??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:me?"success":"pending",fetchStatus:"idle"}}var _u,w2,A6=(w2=class extends ed{constructor(X={}){super();Jr(this,_u);this.config=X,jr(this,_u,new Map)}build(X,me,Ne){const Xe=me.queryKey,U=me.queryHash??xm(Xe,me);let C=this.get(U);return C||(C=new T6({cache:this,queryKey:Xe,queryHash:U,options:X.defaultQueryOptions(me),state:Ne,defaultOptions:X.getQueryDefaults(Xe)}),this.add(C)),C}add(X){jn(this,_u).has(X.queryHash)||(jn(this,_u).set(X.queryHash,X),this.notify({type:"added",query:X}))}remove(X){const me=jn(this,_u).get(X.queryHash);me&&(X.destroy(),me===X&&jn(this,_u).delete(X.queryHash),this.notify({type:"removed",query:X}))}clear(){So.batch(()=>{this.getAll().forEach(X=>{this.remove(X)})})}get(X){return jn(this,_u).get(X)}getAll(){return[...jn(this,_u).values()]}find(X){const me={exact:!0,...X};return this.getAll().find(Ne=>c2(me,Ne))}findAll(X={}){const me=this.getAll();return Object.keys(X).length>0?me.filter(Ne=>c2(X,Ne)):me}notify(X){So.batch(()=>{this.listeners.forEach(me=>{me(X)})})}onFocus(){So.batch(()=>{this.getAll().forEach(X=>{X.onFocus()})})}onOnline(){So.batch(()=>{this.getAll().forEach(X=>{X.onOnline()})})}},_u=new WeakMap,w2),wu,cs,of,Tu,uc,T2,M6=(T2=class extends X_{constructor(X){super();Jr(this,Tu);Jr(this,wu);Jr(this,cs);Jr(this,of);this.mutationId=X.mutationId,jr(this,cs,X.mutationCache),jr(this,wu,[]),this.state=X.state||S6(),this.setOptions(X.options),this.scheduleGc()}setOptions(X){this.options=X,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(X){jn(this,wu).includes(X)||(jn(this,wu).push(X),this.clearGcTimeout(),jn(this,cs).notify({type:"observerAdded",mutation:this,observer:X}))}removeObserver(X){jr(this,wu,jn(this,wu).filter(me=>me!==X)),this.scheduleGc(),jn(this,cs).notify({type:"observerRemoved",mutation:this,observer:X})}optionalRemove(){jn(this,wu).length||(this.state.status==="pending"?this.scheduleGc():jn(this,cs).remove(this))}continue(){var X;return((X=jn(this,of))==null?void 0:X.continue())??this.execute(this.state.variables)}async execute(X){var Xe,U,C,e,k,A,o,w,b,f,s,n,i,r,t,a,l,u,h,c;jr(this,of,Z_({fn:()=>this.options.mutationFn?this.options.mutationFn(X):Promise.reject(new Error("No mutationFn found")),onFail:(y,d)=>{mi(this,Tu,uc).call(this,{type:"failed",failureCount:y,error:d})},onPause:()=>{mi(this,Tu,uc).call(this,{type:"pause"})},onContinue:()=>{mi(this,Tu,uc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>jn(this,cs).canRun(this)}));const me=this.state.status==="pending",Ne=!jn(this,of).canStart();try{if(!me){mi(this,Tu,uc).call(this,{type:"pending",variables:X,isPaused:Ne}),await((U=(Xe=jn(this,cs).config).onMutate)==null?void 0:U.call(Xe,X,this));const d=await((e=(C=this.options).onMutate)==null?void 0:e.call(C,X));d!==this.state.context&&mi(this,Tu,uc).call(this,{type:"pending",context:d,variables:X,isPaused:Ne})}const y=await jn(this,of).start();return await((A=(k=jn(this,cs).config).onSuccess)==null?void 0:A.call(k,y,X,this.state.context,this)),await((w=(o=this.options).onSuccess)==null?void 0:w.call(o,y,X,this.state.context)),await((f=(b=jn(this,cs).config).onSettled)==null?void 0:f.call(b,y,null,this.state.variables,this.state.context,this)),await((n=(s=this.options).onSettled)==null?void 0:n.call(s,y,null,X,this.state.context)),mi(this,Tu,uc).call(this,{type:"success",data:y}),y}catch(y){try{throw await((r=(i=jn(this,cs).config).onError)==null?void 0:r.call(i,y,X,this.state.context,this)),await((a=(t=this.options).onError)==null?void 0:a.call(t,y,X,this.state.context)),await((u=(l=jn(this,cs).config).onSettled)==null?void 0:u.call(l,void 0,y,this.state.variables,this.state.context,this)),await((c=(h=this.options).onSettled)==null?void 0:c.call(h,void 0,y,X,this.state.context)),y}finally{mi(this,Tu,uc).call(this,{type:"error",error:y})}}finally{jn(this,cs).runNext(this)}}},wu=new WeakMap,cs=new WeakMap,of=new WeakMap,Tu=new WeakSet,uc=function(X){const me=Ne=>{switch(X.type){case"failed":return{...Ne,failureCount:X.failureCount,failureReason:X.error};case"pause":return{...Ne,isPaused:!0};case"continue":return{...Ne,isPaused:!1};case"pending":return{...Ne,context:X.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:X.isPaused,status:"pending",variables:X.variables,submittedAt:Date.now()};case"success":return{...Ne,data:X.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...Ne,data:void 0,error:X.error,failureCount:Ne.failureCount+1,failureReason:X.error,isPaused:!1,status:"error"}}};this.state=me(this.state),So.batch(()=>{jn(this,wu).forEach(Ne=>{Ne.onMutationUpdate(X)}),jn(this,cs).notify({mutation:this,type:"updated",action:X})})},T2);function S6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rl,Wp,k2,E6=(k2=class extends ed{constructor(X={}){super();Jr(this,rl);Jr(this,Wp);this.config=X,jr(this,rl,new Map),jr(this,Wp,Date.now())}build(X,me,Ne){const Xe=new M6({mutationCache:this,mutationId:++Ud(this,Wp)._,options:X.defaultMutationOptions(me),state:Ne});return this.add(Xe),Xe}add(X){const me=a0(X),Ne=jn(this,rl).get(me)??[];Ne.push(X),jn(this,rl).set(me,Ne),this.notify({type:"added",mutation:X})}remove(X){var Ne;const me=a0(X);if(jn(this,rl).has(me)){const Xe=(Ne=jn(this,rl).get(me))==null?void 0:Ne.filter(U=>U!==X);Xe&&(Xe.length===0?jn(this,rl).delete(me):jn(this,rl).set(me,Xe))}this.notify({type:"removed",mutation:X})}canRun(X){var Ne;const me=(Ne=jn(this,rl).get(a0(X)))==null?void 0:Ne.find(Xe=>Xe.state.status==="pending");return!me||me===X}runNext(X){var Ne;const me=(Ne=jn(this,rl).get(a0(X)))==null?void 0:Ne.find(Xe=>Xe!==X&&Xe.state.isPaused);return(me==null?void 0:me.continue())??Promise.resolve()}clear(){So.batch(()=>{this.getAll().forEach(X=>{this.remove(X)})})}getAll(){return[...jn(this,rl).values()].flat()}find(X){const me={exact:!0,...X};return this.getAll().find(Ne=>f2(me,Ne))}findAll(X={}){return this.getAll().filter(me=>f2(X,me))}notify(X){So.batch(()=>{this.listeners.forEach(me=>{me(X)})})}resumePausedMutations(){const X=this.getAll().filter(me=>me.state.isPaused);return So.batch(()=>Promise.all(X.map(me=>me.continue().catch(El))))}},rl=new WeakMap,Wp=new WeakMap,k2);function a0(B){var X;return((X=B.options.scope)==null?void 0:X.id)??String(B.mutationId)}function L6(B){return{onFetch:(X,me)=>{const Ne=async()=>{var s,n,i,r,t;const Xe=X.options,U=(i=(n=(s=X.fetchOptions)==null?void 0:s.meta)==null?void 0:n.fetchMore)==null?void 0:i.direction,C=((r=X.state.data)==null?void 0:r.pages)||[],e=((t=X.state.data)==null?void 0:t.pageParams)||[],k={pages:[],pageParams:[]};let A=!1;const o=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(X.signal.aborted?A=!0:X.signal.addEventListener("abort",()=>{A=!0}),X.signal)})},w=G_(X.options,X.fetchOptions),b=async(a,l,u)=>{if(A)return Promise.reject();if(l==null&&a.pages.length)return Promise.resolve(a);const h={queryKey:X.queryKey,pageParam:l,direction:u?"backward":"forward",meta:X.options.meta};o(h);const c=await w(h),{maxPages:y}=X.options,d=u?y6:m6;return{pages:d(a.pages,c,y),pageParams:d(a.pageParams,l,y)}};let f;if(U&&C.length){const a=U==="backward",l=a?C6:d2,u={pages:C,pageParams:e},h=l(Xe,u);f=await b(u,h,a)}else{f=await b(k,e[0]??Xe.initialPageParam);const a=B??C.length;for(let l=1;l<a;l++){const u=d2(Xe,f);f=await b(f,u)}}return f};X.options.persister?X.fetchFn=()=>{var Xe,U;return(U=(Xe=X.options).persister)==null?void 0:U.call(Xe,Ne,{queryKey:X.queryKey,meta:X.options.meta,signal:X.signal},me)}:X.fetchFn=Ne}}}function d2(B,{pages:X,pageParams:me}){const Ne=X.length-1;return B.getNextPageParam(X[Ne],X,me[Ne],me)}function C6(B,{pages:X,pageParams:me}){var Ne;return(Ne=B.getPreviousPageParam)==null?void 0:Ne.call(B,X[0],X,me[0],me)}var La,vc,mc,hh,ph,yc,dh,gh,A2,P6=(A2=class{constructor(B={}){Jr(this,La);Jr(this,vc);Jr(this,mc);Jr(this,hh);Jr(this,ph);Jr(this,yc);Jr(this,dh);Jr(this,gh);jr(this,La,B.queryCache||new A6),jr(this,vc,B.mutationCache||new E6),jr(this,mc,B.defaultOptions||{}),jr(this,hh,new Map),jr(this,ph,new Map),jr(this,yc,0)}mount(){Ud(this,yc)._++,jn(this,yc)===1&&(jr(this,dh,bm.subscribe(async B=>{B&&(await this.resumePausedMutations(),jn(this,La).onFocus())})),jr(this,gh,V0.subscribe(async B=>{B&&(await this.resumePausedMutations(),jn(this,La).onOnline())})))}unmount(){var B,X;Ud(this,yc)._--,jn(this,yc)===0&&((B=jn(this,dh))==null||B.call(this),jr(this,dh,void 0),(X=jn(this,gh))==null||X.call(this),jr(this,gh,void 0))}isFetching(B){return jn(this,La).findAll({...B,fetchStatus:"fetching"}).length}isMutating(B){return jn(this,vc).findAll({...B,status:"pending"}).length}getQueryData(B){var me;const X=this.defaultQueryOptions({queryKey:B});return(me=jn(this,La).get(X.queryHash))==null?void 0:me.state.data}ensureQueryData(B){const X=this.getQueryData(B.queryKey);if(X===void 0)return this.fetchQuery(B);{const me=this.defaultQueryOptions(B),Ne=jn(this,La).build(this,me);return B.revalidateIfStale&&Ne.isStaleByTime(oh(me.staleTime,Ne))&&this.prefetchQuery(me),Promise.resolve(X)}}getQueriesData(B){return jn(this,La).findAll(B).map(({queryKey:X,state:me})=>{const Ne=me.data;return[X,Ne]})}setQueryData(B,X,me){const Ne=this.defaultQueryOptions({queryKey:B}),Xe=jn(this,La).get(Ne.queryHash),U=Xe==null?void 0:Xe.state.data,C=g6(X,U);if(C!==void 0)return jn(this,La).build(this,Ne).setData(C,{...me,manual:!0})}setQueriesData(B,X,me){return So.batch(()=>jn(this,La).findAll(B).map(({queryKey:Ne})=>[Ne,this.setQueryData(Ne,X,me)]))}getQueryState(B){var me;const X=this.defaultQueryOptions({queryKey:B});return(me=jn(this,La).get(X.queryHash))==null?void 0:me.state}removeQueries(B){const X=jn(this,La);So.batch(()=>{X.findAll(B).forEach(me=>{X.remove(me)})})}resetQueries(B,X){const me=jn(this,La),Ne={type:"active",...B};return So.batch(()=>(me.findAll(B).forEach(Xe=>{Xe.reset()}),this.refetchQueries(Ne,X)))}cancelQueries(B={},X={}){const me={revert:!0,...X},Ne=So.batch(()=>jn(this,La).findAll(B).map(Xe=>Xe.cancel(me)));return Promise.all(Ne).then(El).catch(El)}invalidateQueries(B={},X={}){return So.batch(()=>{if(jn(this,La).findAll(B).forEach(Ne=>{Ne.invalidate()}),B.refetchType==="none")return Promise.resolve();const me={...B,type:B.refetchType??B.type??"active"};return this.refetchQueries(me,X)})}refetchQueries(B={},X){const me={...X,cancelRefetch:(X==null?void 0:X.cancelRefetch)??!0},Ne=So.batch(()=>jn(this,La).findAll(B).filter(Xe=>!Xe.isDisabled()).map(Xe=>{let U=Xe.fetch(void 0,me);return me.throwOnError||(U=U.catch(El)),Xe.state.fetchStatus==="paused"?Promise.resolve():U}));return Promise.all(Ne).then(El)}fetchQuery(B){const X=this.defaultQueryOptions(B);X.retry===void 0&&(X.retry=!1);const me=jn(this,La).build(this,X);return me.isStaleByTime(oh(X.staleTime,me))?me.fetch(X):Promise.resolve(me.state.data)}prefetchQuery(B){return this.fetchQuery(B).then(El).catch(El)}fetchInfiniteQuery(B){return B.behavior=L6(B.pages),this.fetchQuery(B)}prefetchInfiniteQuery(B){return this.fetchInfiniteQuery(B).then(El).catch(El)}resumePausedMutations(){return V0.isOnline()?jn(this,vc).resumePausedMutations():Promise.resolve()}getQueryCache(){return jn(this,La)}getMutationCache(){return jn(this,vc)}getDefaultOptions(){return jn(this,mc)}setDefaultOptions(B){jr(this,mc,B)}setQueryDefaults(B,X){jn(this,hh).set(Hp(B),{queryKey:B,defaultOptions:X})}getQueryDefaults(B){const X=[...jn(this,hh).values()];let me={};return X.forEach(Ne=>{qp(B,Ne.queryKey)&&(me={...me,...Ne.defaultOptions})}),me}setMutationDefaults(B,X){jn(this,ph).set(Hp(B),{mutationKey:B,defaultOptions:X})}getMutationDefaults(B){const X=[...jn(this,ph).values()];let me={};return X.forEach(Ne=>{qp(B,Ne.mutationKey)&&(me={...me,...Ne.defaultOptions})}),me}defaultQueryOptions(B){if(B._defaulted)return B;const X={...jn(this,mc).queries,...this.getQueryDefaults(B.queryKey),...B,_defaulted:!0};return X.queryHash||(X.queryHash=xm(X.queryKey,X)),X.refetchOnReconnect===void 0&&(X.refetchOnReconnect=X.networkMode!=="always"),X.throwOnError===void 0&&(X.throwOnError=!!X.suspense),!X.networkMode&&X.persister&&(X.networkMode="offlineFirst"),X.enabled!==!0&&X.queryFn===q_&&(X.enabled=!1),X}defaultMutationOptions(B){return B!=null&&B._defaulted?B:{...jn(this,mc).mutations,...(B==null?void 0:B.mutationKey)&&this.getMutationDefaults(B.mutationKey),...B,_defaulted:!0}}clear(){jn(this,La).clear(),jn(this,vc).clear()}},La=new WeakMap,vc=new WeakMap,mc=new WeakMap,hh=new WeakMap,ph=new WeakMap,yc=new WeakMap,dh=new WeakMap,gh=new WeakMap,A2),Rs,yi,Yp,fs,sf,vh,ku,Zp,mh,yh,lf,uf,xc,xh,Hi,vp,mv,yv,xv,bv,_v,wv,Tv,J_,M2,O6=(M2=class extends ed{constructor(X,me){super();Jr(this,Hi);Jr(this,Rs);Jr(this,yi);Jr(this,Yp);Jr(this,fs);Jr(this,sf);Jr(this,vh);Jr(this,ku);Jr(this,Zp);Jr(this,mh);Jr(this,yh);Jr(this,lf);Jr(this,uf);Jr(this,xc);Jr(this,xh,new Set);this.options=me,jr(this,Rs,X),jr(this,ku,null),this.bindMethods(),this.setOptions(me)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(jn(this,yi).addObserver(this),g2(jn(this,yi),this.options)?mi(this,Hi,vp).call(this):this.updateResult(),mi(this,Hi,bv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kv(jn(this,yi),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kv(jn(this,yi),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mi(this,Hi,_v).call(this),mi(this,Hi,wv).call(this),jn(this,yi).removeObserver(this)}setOptions(X,me){const Ne=this.options,Xe=jn(this,yi);if(this.options=jn(this,Rs).defaultQueryOptions(X),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ru(this.options.enabled,jn(this,yi))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mi(this,Hi,Tv).call(this),jn(this,yi).setOptions(this.options),Ne._defaulted&&!dv(this.options,Ne)&&jn(this,Rs).getQueryCache().notify({type:"observerOptionsUpdated",query:jn(this,yi),observer:this});const U=this.hasListeners();U&&v2(jn(this,yi),Xe,this.options,Ne)&&mi(this,Hi,vp).call(this),this.updateResult(me),U&&(jn(this,yi)!==Xe||ru(this.options.enabled,jn(this,yi))!==ru(Ne.enabled,jn(this,yi))||oh(this.options.staleTime,jn(this,yi))!==oh(Ne.staleTime,jn(this,yi)))&&mi(this,Hi,mv).call(this);const C=mi(this,Hi,yv).call(this);U&&(jn(this,yi)!==Xe||ru(this.options.enabled,jn(this,yi))!==ru(Ne.enabled,jn(this,yi))||C!==jn(this,xc))&&mi(this,Hi,xv).call(this,C)}getOptimisticResult(X){const me=jn(this,Rs).getQueryCache().build(jn(this,Rs),X),Ne=this.createResult(me,X);return z6(this,Ne)&&(jr(this,fs,Ne),jr(this,vh,this.options),jr(this,sf,jn(this,yi).state)),Ne}getCurrentResult(){return jn(this,fs)}trackResult(X,me){const Ne={};return Object.keys(X).forEach(Xe=>{Object.defineProperty(Ne,Xe,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(Xe),me==null||me(Xe),X[Xe])})}),Ne}trackProp(X){jn(this,xh).add(X)}getCurrentQuery(){return jn(this,yi)}refetch({...X}={}){return this.fetch({...X})}fetchOptimistic(X){const me=jn(this,Rs).defaultQueryOptions(X),Ne=jn(this,Rs).getQueryCache().build(jn(this,Rs),me);return Ne.isFetchingOptimistic=!0,Ne.fetch().then(()=>this.createResult(Ne,me))}fetch(X){return mi(this,Hi,vp).call(this,{...X,cancelRefetch:X.cancelRefetch??!0}).then(()=>(this.updateResult(),jn(this,fs)))}createResult(X,me){var c;const Ne=jn(this,yi),Xe=this.options,U=jn(this,fs),C=jn(this,sf),e=jn(this,vh),A=X!==Ne?X.state:jn(this,Yp),{state:o}=X;let w={...o},b=!1,f;if(me._optimisticResults){const y=this.hasListeners(),d=!y&&g2(X,me),v=y&&v2(X,Ne,me,Xe);(d||v)&&(w={...w,...K_(o.data,X.options)}),me._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:s,errorUpdatedAt:n,status:i}=w;if(me.select&&w.data!==void 0)if(U&&w.data===(C==null?void 0:C.data)&&me.select===jn(this,Zp))f=jn(this,mh);else try{jr(this,Zp,me.select),f=me.select(w.data),f=vv(U==null?void 0:U.data,f,me),jr(this,mh,f),jr(this,ku,null)}catch(y){jr(this,ku,y)}else f=w.data;if(me.placeholderData!==void 0&&f===void 0&&i==="pending"){let y;if(U!=null&&U.isPlaceholderData&&me.placeholderData===(e==null?void 0:e.placeholderData))y=U.data;else if(y=typeof me.placeholderData=="function"?me.placeholderData((c=jn(this,yh))==null?void 0:c.state.data,jn(this,yh)):me.placeholderData,me.select&&y!==void 0)try{y=me.select(y),jr(this,ku,null)}catch(d){jr(this,ku,d)}y!==void 0&&(i="success",f=vv(U==null?void 0:U.data,y,me),b=!0)}jn(this,ku)&&(s=jn(this,ku),f=jn(this,mh),n=Date.now(),i="error");const r=w.fetchStatus==="fetching",t=i==="pending",a=i==="error",l=t&&r,u=f!==void 0;return{status:i,fetchStatus:w.fetchStatus,isPending:t,isSuccess:i==="success",isError:a,isInitialLoading:l,isLoading:l,data:f,dataUpdatedAt:w.dataUpdatedAt,error:s,errorUpdatedAt:n,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>A.dataUpdateCount||w.errorUpdateCount>A.errorUpdateCount,isFetching:r,isRefetching:r&&!t,isLoadingError:a&&!u,isPaused:w.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:a&&u,isStale:_m(X,me),refetch:this.refetch}}updateResult(X){const me=jn(this,fs),Ne=this.createResult(jn(this,yi),this.options);if(jr(this,sf,jn(this,yi).state),jr(this,vh,this.options),jn(this,sf).data!==void 0&&jr(this,yh,jn(this,yi)),dv(Ne,me))return;jr(this,fs,Ne);const Xe={},U=()=>{if(!me)return!0;const{notifyOnChangeProps:C}=this.options,e=typeof C=="function"?C():C;if(e==="all"||!e&&!jn(this,xh).size)return!0;const k=new Set(e??jn(this,xh));return this.options.throwOnError&&k.add("error"),Object.keys(jn(this,fs)).some(A=>{const o=A;return jn(this,fs)[o]!==me[o]&&k.has(o)})};(X==null?void 0:X.listeners)!==!1&&U()&&(Xe.listeners=!0),mi(this,Hi,J_).call(this,{...Xe,...X})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mi(this,Hi,bv).call(this)}},Rs=new WeakMap,yi=new WeakMap,Yp=new WeakMap,fs=new WeakMap,sf=new WeakMap,vh=new WeakMap,ku=new WeakMap,Zp=new WeakMap,mh=new WeakMap,yh=new WeakMap,lf=new WeakMap,uf=new WeakMap,xc=new WeakMap,xh=new WeakMap,Hi=new WeakSet,vp=function(X){mi(this,Hi,Tv).call(this);let me=jn(this,yi).fetch(this.options,X);return X!=null&&X.throwOnError||(me=me.catch(El)),me},mv=function(){mi(this,Hi,_v).call(this);const X=oh(this.options.staleTime,jn(this,yi));if(Sh||jn(this,fs).isStale||!pv(X))return;const Ne=V_(jn(this,fs).dataUpdatedAt,X)+1;jr(this,lf,setTimeout(()=>{jn(this,fs).isStale||this.updateResult()},Ne))},yv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(jn(this,yi)):this.options.refetchInterval)??!1},xv=function(X){mi(this,Hi,wv).call(this),jr(this,xc,X),!(Sh||ru(this.options.enabled,jn(this,yi))===!1||!pv(jn(this,xc))||jn(this,xc)===0)&&jr(this,uf,setInterval(()=>{(this.options.refetchIntervalInBackground||bm.isFocused())&&mi(this,Hi,vp).call(this)},jn(this,xc)))},bv=function(){mi(this,Hi,mv).call(this),mi(this,Hi,xv).call(this,mi(this,Hi,yv).call(this))},_v=function(){jn(this,lf)&&(clearTimeout(jn(this,lf)),jr(this,lf,void 0))},wv=function(){jn(this,uf)&&(clearInterval(jn(this,uf)),jr(this,uf,void 0))},Tv=function(){const X=jn(this,Rs).getQueryCache().build(jn(this,Rs),this.options);if(X===jn(this,yi))return;const me=jn(this,yi);jr(this,yi,X),jr(this,Yp,X.state),this.hasListeners()&&(me==null||me.removeObserver(this),X.addObserver(this))},J_=function(X){So.batch(()=>{X.listeners&&this.listeners.forEach(me=>{me(jn(this,fs))}),jn(this,Rs).getQueryCache().notify({query:jn(this,yi),type:"observerResultsUpdated"})})},M2);function I6(B,X){return ru(X.enabled,B)!==!1&&B.state.data===void 0&&!(B.state.status==="error"&&X.retryOnMount===!1)}function g2(B,X){return I6(B,X)||B.state.data!==void 0&&kv(B,X,X.refetchOnMount)}function kv(B,X,me){if(ru(X.enabled,B)!==!1){const Ne=typeof me=="function"?me(B):me;return Ne==="always"||Ne!==!1&&_m(B,X)}return!1}function v2(B,X,me,Ne){return(B!==X||ru(Ne.enabled,B)===!1)&&(!me.suspense||B.state.status!=="error")&&_m(B,me)}function _m(B,X){return ru(X.enabled,B)!==!1&&B.isStaleByTime(oh(X.staleTime,B))}function z6(B,X){return!dv(B.getCurrentResult(),X)}var $_=ps.createContext(void 0),D6=B=>{const X=ps.useContext($_);if(!X)throw new Error("No QueryClient set, use QueryClientProvider to set one");return X},R6=({client:B,children:X})=>(ps.useEffect(()=>(B.mount(),()=>{B.unmount()}),[B]),ju.jsx($_.Provider,{value:B,children:X})),Q_=ps.createContext(!1),F6=()=>ps.useContext(Q_);Q_.Provider;function B6(){let B=!1;return{clearReset:()=>{B=!1},reset:()=>{B=!0},isReset:()=>B}}var N6=ps.createContext(B6()),j6=()=>ps.useContext(N6);function U6(B,X){return typeof B=="function"?B(...X):!!B}var V6=(B,X)=>{(B.suspense||B.throwOnError)&&(X.isReset()||(B.retryOnMount=!1))},H6=B=>{ps.useEffect(()=>{B.clearReset()},[B])},q6=({result:B,errorResetBoundary:X,throwOnError:me,query:Ne})=>B.isError&&!X.isReset()&&!B.isFetching&&Ne&&U6(me,[B.error,Ne]),G6=B=>{B.suspense&&typeof B.staleTime!="number"&&(B.staleTime=1e3)},W6=(B,X)=>(B==null?void 0:B.suspense)&&X.isPending,Y6=(B,X,me)=>X.fetchOptimistic(B).catch(()=>{me.clearReset()});function Z6(B,X,me){var A,o,w,b;const Ne=D6(),Xe=F6(),U=j6(),C=Ne.defaultQueryOptions(B);(o=(A=Ne.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||o.call(A,C),C._optimisticResults=Xe?"isRestoring":"optimistic",G6(C),V6(C,U),H6(U);const[e]=ps.useState(()=>new X(Ne,C)),k=e.getOptimisticResult(C);if(ps.useSyncExternalStore(ps.useCallback(f=>{const s=Xe?()=>{}:e.subscribe(So.batchCalls(f));return e.updateResult(),s},[e,Xe]),()=>e.getCurrentResult(),()=>e.getCurrentResult()),ps.useEffect(()=>{e.setOptions(C,{listeners:!1})},[C,e]),W6(C,k))throw Y6(C,e,U);if(q6({result:k,errorResetBoundary:U,throwOnError:C.throwOnError,query:Ne.getQueryCache().get(C.queryHash)}))throw k.error;return(b=(w=Ne.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||b.call(w,C,k),C.notifyOnChangeProps?k:e.trackResult(k)}function X6(B,X){return Z6(B,O6)}const K6="_container_11xk1_1",J6="_title_11xk1_6",m2={container:K6,title:J6},$6=new P6;function Q6(B,X){const me={title:`Commits to the mdn/content repo (${new Date(X[0].week*1e3).toLocaleDateString()} - ${new Date(X[X.length-1].week*1e3).toLocaleDateString()})`,xaxis:{title:"Week",showgrid:!0,zeroline:!1,tickformat:"%Y-%m-%d"},yaxis:{title:"Commits",showline:!1}},Ne={x:X.map(Xe=>new Date(Xe.week*1e3)),y:X.map(Xe=>Xe.total),text:X.map(Xe=>`${Xe.total} commits`)};U_.newPlot(B,[Ne],me)}function e8(B,X){const me={title:"Commits to the mdn/content repo, by day",height:350},Ne=Array.from({length:7},()=>[]);X.forEach(U=>{U.days.forEach((C,e)=>{Ne[e].push(C)})});const Xe={z:Ne,y:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x:X.map(U=>new Date(U.week*1e3)),type:"heatmap"};U_.newPlot(B,[Xe],me)}function t8(){const{isPending:B,error:X,data:me}=X6({queryKey:["repoData"],queryFn:()=>fetch("https://api.github.com/repos/facebook/react/stats/commit_activity").then(Ne=>Ne.json())});return B?"Loading...":X?`An error has occurred: ${X}`:ju.jsxs("main",{className:m2.container,children:[ju.jsx("h1",{className:m2.title,children:"MDN Content repo commit activity"}),ju.jsx("div",{ref:Ne=>{Ne&&Q6(Ne,me)}}),ju.jsx("div",{ref:Ne=>{Ne&&e8(Ne,me)}})]})}function n8(){return ju.jsx(R6,{client:$6,children:ju.jsx(t8,{})})}b1.createRoot(document.getElementById("root")).render(ju.jsx(n4.StrictMode,{children:ju.jsx(n8,{})}));
